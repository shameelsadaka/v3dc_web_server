/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/backo2/index.js":
/*!**************************************!*\
  !*** ./node_modules/backo2/index.js ***!
  \**************************************/
/***/ ((module) => {


/**
 * Expose `Backoff`.
 */

module.exports = Backoff;

/**
 * Initialize backoff timer with `opts`.
 *
 * - `min` initial timeout in milliseconds [100]
 * - `max` max timeout [10000]
 * - `jitter` [0]
 * - `factor` [2]
 *
 * @param {Object} opts
 * @api public
 */

function Backoff(opts) {
  opts = opts || {};
  this.ms = opts.min || 100;
  this.max = opts.max || 10000;
  this.factor = opts.factor || 2;
  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;
  this.attempts = 0;
}

/**
 * Return the backoff duration.
 *
 * @return {Number}
 * @api public
 */

Backoff.prototype.duration = function(){
  var ms = this.ms * Math.pow(this.factor, this.attempts++);
  if (this.jitter) {
    var rand =  Math.random();
    var deviation = Math.floor(rand * this.jitter * ms);
    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;
  }
  return Math.min(ms, this.max) | 0;
};

/**
 * Reset the number of attempts.
 *
 * @api public
 */

Backoff.prototype.reset = function(){
  this.attempts = 0;
};

/**
 * Set the minimum duration
 *
 * @api public
 */

Backoff.prototype.setMin = function(min){
  this.ms = min;
};

/**
 * Set the maximum duration
 *
 * @api public
 */

Backoff.prototype.setMax = function(max){
  this.max = max;
};

/**
 * Set the jitter
 *
 * @api public
 */

Backoff.prototype.setJitter = function(jitter){
  this.jitter = jitter;
};



/***/ }),

/***/ "./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
(function(chars){
  "use strict";

  exports.encode = function(arraybuffer) {
    var bytes = new Uint8Array(arraybuffer),
    i, len = bytes.length, base64 = "";

    for (i = 0; i < len; i+=3) {
      base64 += chars[bytes[i] >> 2];
      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];
      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];
      base64 += chars[bytes[i + 2] & 63];
    }

    if ((len % 3) === 2) {
      base64 = base64.substring(0, base64.length - 1) + "=";
    } else if (len % 3 === 1) {
      base64 = base64.substring(0, base64.length - 2) + "==";
    }

    return base64;
  };

  exports.decode =  function(base64) {
    var bufferLength = base64.length * 0.75,
    len = base64.length, i, p = 0,
    encoded1, encoded2, encoded3, encoded4;

    if (base64[base64.length - 1] === "=") {
      bufferLength--;
      if (base64[base64.length - 2] === "=") {
        bufferLength--;
      }
    }

    var arraybuffer = new ArrayBuffer(bufferLength),
    bytes = new Uint8Array(arraybuffer);

    for (i = 0; i < len; i+=4) {
      encoded1 = chars.indexOf(base64[i]);
      encoded2 = chars.indexOf(base64[i+1]);
      encoded3 = chars.indexOf(base64[i+2]);
      encoded4 = chars.indexOf(base64[i+3]);

      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
    }

    return arraybuffer;
  };
})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");


/***/ }),

/***/ "./node_modules/component-emitter/index.js":
/*!*************************************************!*\
  !*** ./node_modules/component-emitter/index.js ***!
  \*************************************************/
/***/ ((module) => {


/**
 * Expose `Emitter`.
 */

if (true) {
  module.exports = Emitter;
}

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  function on() {
    this.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks['$' + event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks['$' + event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }

  // Remove event specific arrays for event types that no
  // one is subscribed for to avoid memory leak.
  if (callbacks.length === 0) {
    delete this._callbacks['$' + event];
  }

  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};

  var args = new Array(arguments.length - 1)
    , callbacks = this._callbacks['$' + event];

  for (var i = 1; i < arguments.length; i++) {
    args[i - 1] = arguments[i];
  }

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks['$' + event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};


/***/ }),

/***/ "./node_modules/enable3d/dist/index.js":
/*!*********************************************!*\
  !*** ./node_modules/enable3d/dist/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var scene3d_1 = __webpack_require__(/*! ./scene3d */ "./node_modules/enable3d/dist/scene3d.js");
exports.Scene3D = scene3d_1.Scene3D;
var project_1 = __webpack_require__(/*! ./project */ "./node_modules/enable3d/dist/project.js");
exports.Project = project_1.Project;
var physicsLoader_1 = __webpack_require__(/*! @enable3d/common/dist/physicsLoader */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsLoader.js");
exports.PhysicsLoader = physicsLoader_1.PhysicsLoader;
var extendedMesh_1 = __webpack_require__(/*! @enable3d/common/dist/extendedMesh */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js");
exports.ExtendedMesh = extendedMesh_1.ExtendedMesh;
var extendedObject3D_1 = __webpack_require__(/*! @enable3d/common/dist/extendedObject3D */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedObject3D.js");
exports.ExtendedObject3D = extendedObject3D_1.ExtendedObject3D;
var extendedGroup_1 = __webpack_require__(/*! @enable3d/common/dist/extendedGroup */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedGroup.js");
exports.ExtendedGroup = extendedGroup_1.ExtendedGroup;
const THREE = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
exports.THREE = THREE;
const Types = __webpack_require__(/*! @enable3d/common/dist/types */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js");
exports.Types = Types;
var joystick_1 = __webpack_require__(/*! @enable3d/common/dist/misc/joystick */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/joystick.js");
exports.JoyStick = joystick_1.JoyStick;
var thirdPersonControls_1 = __webpack_require__(/*! @enable3d/common/dist/misc/thirdPersonControls */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/thirdPersonControls.js");
exports.ThirdPersonControls = thirdPersonControls_1.ThirdPersonControls;
var firstPersonControls_1 = __webpack_require__(/*! @enable3d/common/dist/misc/firstPersonControls */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/firstPersonControls.js");
exports.FirstPersonControls = firstPersonControls_1.FirstPersonControls;
var pointerLock_1 = __webpack_require__(/*! @enable3d/common/dist/misc/pointerLock */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerLock.js");
exports.PointerLock = pointerLock_1.PointerLock;
var pointerDrag_1 = __webpack_require__(/*! @enable3d/common/dist/misc/pointerDrag */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerDrag.js");
exports.PointerDrag = pointerDrag_1.PointerDrag;
// post-processing
var index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
exports.EffectComposer = index_1.EffectComposer;
exports.RenderPass = index_1.RenderPass;
exports.ShaderPass = index_1.ShaderPass;
exports.GlitchPass = index_1.GlitchPass;
exports.DotScreenShader = index_1.DotScreenShader;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/enable3d/dist/project.js":
/*!***********************************************!*\
  !*** ./node_modules/enable3d/dist/project.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-graphics/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/index.js");
class Project extends index_1.ThreeGraphics {
    constructor(projectConfig) {
        var _a;
        super(projectConfig);
        this.projectConfig = projectConfig;
        this.scenes = new Map();
        this.renderer.setSize(window.innerWidth, window.innerHeight);
        if (this.projectConfig.parent)
            this.parent = document.getElementById(this.projectConfig.parent);
        else
            this.parent = document.body;
        if (!this.parent) {
            console.warn(`[enable3d] parent "${this.projectConfig.parent}" not found! Will add it to the body.`);
            this.parent = document.body;
        }
        this.parent.appendChild(this.renderer.domElement);
        this.canvas = this.renderer.domElement;
        let firstSceneKey = '';
        this.projectConfig.scenes.forEach((scene, i) => {
            const s = new scene();
            if (i === 0)
                firstSceneKey = s.sceneKey;
            const plug = {
                // scene configuration
                sceneConfig: {
                    textureAnisotropy: this.textureAnisotropy,
                    autoStart: false
                },
                // add core features from three-graphicsconfig: {
                renderer: this.renderer,
                parent: this.parent,
                canvas: this.canvas,
                scene: this.scene,
                scenes: this.scenes,
                camera: this.camera,
                cache: this.cache,
                physics: this.physics
            };
            s.initializeScene(plug);
            if (i === 0) {
                s.setSize(this.parent.clientWidth, this.parent.clientHeight);
                s.setPixelRatio(Math.max(1, window.devicePixelRatio / 2));
            }
            this.scenes.set(s.sceneKey, s);
        });
        // start the first scene
        (_a = this.scenes.get(firstSceneKey)) === null || _a === void 0 ? void 0 : _a.start(firstSceneKey);
    }
}
exports.Project = Project;
//# sourceMappingURL=project.js.map

/***/ }),

/***/ "./node_modules/enable3d/dist/scene3d.js":
/*!***********************************************!*\
  !*** ./node_modules/enable3d/dist/scene3d.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const Plugins = __webpack_require__(/*! @enable3d/three-graphics/dist/plugins/index */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/index.js");
// https://www.typescriptlang.org/docs/handbook/utility-types.html Pick<T,K>
// export class Scene3D implements Partial<ThreeGraphics> {
class Scene3D {
    constructor(sceneConfig = {}) {
        this.sceneConfig = sceneConfig;
        // core modules from three-graphics
        this.scenes = new Map();
        this.__config = {};
        this._isRunning = false;
        this._deconstructorFunctions = [];
        const { key = Math.random().toString(), enableXR = false } = sceneConfig;
        this.__config.sceneKey = key;
        this.__config.enableXR = enableXR;
    }
    get deconstructor() {
        return {
            add: (fnc) => {
                this._deconstructorFunctions.push(fnc);
            }
        };
    }
    // @ts-ignore
    initializeScene(plugins) {
        const { renderer, parent, canvas, scene, scenes, camera, cache, physics, sceneConfig } = plugins;
        this.scene = scene;
        this.scenes = scenes;
        this.camera = camera;
        this.cache = cache;
        this.physics = physics;
        this.renderer = renderer;
        this.parent = parent;
        this.canvas = canvas;
        const { autoStart, textureAnisotropy } = sceneConfig;
        // plugins
        this.load = new Plugins.Loaders(this.cache, textureAnisotropy);
        this.lights = new Plugins.Lights(this.scene);
        this.transform = new Plugins.Transform(this.camera, this.renderer);
        this.csg = new Plugins.CSG(this.scene, this.transform);
        this.heightMap = new Plugins.HeightMap(this.scene);
        this.factories = new Plugins.Factories(this.scene);
        this.misc = new Plugins.Misc(this.scene, this.renderer, this.factories);
        this.ws = new Plugins.WarpSpeed(scene, renderer, camera, this.lights, this.physics, this.load, this.factories);
        this.mixers = new Plugins.Mixers();
        this.cameras = new Plugins.Cameras();
        this.clock = new index_1.Clock();
        // add vr camera
        if (this.__config.enableXR) {
            this.webXR = new Plugins.WebXR(this.renderer, this.scene, this.camera);
        }
        if (autoStart)
            this.start(this.__config.sceneKey);
    }
    get sceneKey() {
        return this.__config.sceneKey;
    }
    /** Destroys a object and its body. */
    destroy(obj) {
        var _a;
        (_a = this.physics) === null || _a === void 0 ? void 0 : _a.destroy(obj.body);
        this.scene.remove(obj);
        // @ts-ignore
        obj = null;
    }
    warpSpeed(...features) {
        return __awaiter(this, void 0, void 0, function* () {
            return yield this.ws.warpSpeed(...features);
        });
    }
    get animationMixers() {
        return this.mixers.mixers;
    }
    get make() {
        return this.factories.make;
    }
    get add() {
        return this.factories.add;
    }
    haveSomeFun(numberOfElements = 20) {
        Plugins.HaveSomeFun(numberOfElements, this.physics);
    }
    isRunning() {
        return this._isRunning;
    }
    start(key, data) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            // start another scene
            // and stop this one
            if (key && key !== this.__config.sceneKey) {
                this.stop();
                (_a = this.scenes.get(key)) === null || _a === void 0 ? void 0 : _a._start(data);
            }
            else {
                this._start(data);
            }
        });
    }
    _start(data) {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            yield ((_b = (_a = this).init) === null || _b === void 0 ? void 0 : _b.call(_a, data));
            yield this._preload();
            yield this._create();
            // console.log('start')
            this.renderer.setAnimationLoop(() => {
                this._update();
            });
            this._isRunning = true;
        });
    }
    restart(data) {
        return __awaiter(this, void 0, void 0, function* () {
            this.stop();
            this.start(this.__config.sceneKey, data);
        });
    }
    stop() {
        return __awaiter(this, void 0, void 0, function* () {
            this._isRunning = false;
            this.renderer.setAnimationLoop(null);
            // reset clock
            this.clock.start();
            for (let i = 0; i < this._deconstructorFunctions.length; i++) {
                yield this._deconstructorFunctions[i]();
            }
            this._deconstructorFunctions = [];
            // destroy all rigid bodies
            for (let i = this.physics.rigidBodies.length - 1; i >= 0; i--) {
                this.physics.destroy(this.physics.rigidBodies[i]);
            }
            // destroy all three objects
            for (let i = this.scene.children.length - 1; i >= 0; i--) {
                this.scene.remove(this.scene.children[i]);
            }
        });
    }
    setSize(width, height) {
        this.renderer.setSize(width, height);
        // @ts-ignore
        if (typeof this.camera.aspect !== 'undefined')
            this.camera.aspect = width / height;
        this.camera.updateProjectionMatrix();
    }
    setPixelRatio(ratio) {
        this.renderer.setPixelRatio(ratio);
    }
    // public get controls() {
    //   return {
    //     pointerDrag: (autoStart = true) => new PointerDrag(this.canvas, autoStart),
    //     pointerLock: (autoLock = true) => new PointerLock(this.canvas, autoLock),
    //     joystick: () => new JoyStick(),
    //     firstPerson: (target: ExtendedObject3D, config: FirstPersonControlsConfig = {}) =>
    //       new FirstPersonControls(this.camera, target, config),
    //     thirdPerson: (target: ExtendedObject3D, config: ThirdPersonControlsConfig = {}) =>
    //       new ThirdPersonControls(this.camera, target, config)
    //   }
    // }
    // @ts-ignore
    init(data = {}) { }
    preload() { }
    create() { }
    update(_time, _delta) { }
    _preload() {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            yield ((_b = (_a = this).preload) === null || _b === void 0 ? void 0 : _b.call(_a));
        });
    }
    _create() {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            yield ((_b = (_a = this).create) === null || _b === void 0 ? void 0 : _b.call(_a));
        });
    }
    _update() {
        var _a, _b, _c, _d;
        const delta = this.clock.getDelta() * 1000;
        const time = this.clock.getElapsedTime();
        (_b = (_a = this).update) === null || _b === void 0 ? void 0 : _b.call(_a, parseFloat(time.toFixed(3)), parseInt(delta.toString()));
        (_c = this.physics) === null || _c === void 0 ? void 0 : _c.update(delta);
        (_d = this.physics) === null || _d === void 0 ? void 0 : _d.updateDebugger();
        this.animationMixers.update(delta);
        if (this.composer)
            this.composer.render();
        else
            this.renderer.render(this.scene, this.camera);
    }
}
exports.Scene3D = Scene3D;
//# sourceMappingURL=scene3d.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/collisionEvents.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/collisionEvents.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionEvents = void 0;
const eventemitter3_1 = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
class CollisionEvents extends eventemitter3_1.EventEmitter {
    addCollider(object1, object2, eventCallback) {
        if (!object1.body || !object2.body)
            return;
        object1.body.checkCollisions = true;
        object2.body.checkCollisions = true;
        this.on('collision', (data) => {
            var _a, _b;
            const { bodies, event } = data;
            if (((_a = bodies[0]) === null || _a === void 0 ? void 0 : _a.name) && ((_b = bodies[1]) === null || _b === void 0 ? void 0 : _b.name) && (object1 === null || object1 === void 0 ? void 0 : object1.name) && (object2 === null || object2 === void 0 ? void 0 : object2.name)) {
                if (bodies[0].name === object1.name && bodies[1].name === object2.name)
                    eventCallback(event);
                else if (bodies[1].name === object1.name && bodies[0].name === object2.name)
                    eventCallback(event);
            }
        });
    }
}
exports.CollisionEvents = CollisionEvents;
//# sourceMappingURL=collisionEvents.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/constraints.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/constraints.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
class Constraints {
    constructor(worldTransform, physicsWorld) {
        this.worldTransform = worldTransform;
        this.physicsWorld = physicsWorld;
        this.tmpBtVector3 = new Ammo.btVector3();
    }
    toAmmoV3(v, d = 0) {
        return new Ammo.btVector3(typeof (v === null || v === void 0 ? void 0 : v.x) !== 'undefined' ? v.x : d, typeof (v === null || v === void 0 ? void 0 : v.y) !== 'undefined' ? v.y : d, typeof (v === null || v === void 0 ? void 0 : v.z) !== 'undefined' ? v.z : d);
    }
    get addConstraints() {
        return {
            lock: (bodyA, bodyB, disableCollisionsBetweenLinkedBodies) => this.lock(bodyA, bodyB, disableCollisionsBetweenLinkedBodies),
            fixed: (bodyA, bodyB, disableCollisionsBetweenLinkedBodies) => this.fixed(bodyA, bodyB, disableCollisionsBetweenLinkedBodies),
            pointToPoint: (bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies) => this.pointToPoint(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies),
            hinge: (bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies) => this.hinge(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies),
            slider: (bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies) => this.slider(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies),
            spring: (bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies) => this.spring(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies),
            coneTwist: (bodyA, bodyB, config = { frameA: {}, frameB: {} }, disableCollisionsBetweenLinkedBodies) => this.coneTwist(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies),
            dof: (bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies) => this.dof(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies)
        };
    }
    getTransform(bodyA, bodyB, offset = { x: 0, y: 0, z: 0 }, center = false) {
        // @ts-ignore
        offset = Object.assign({ x: 0, y: 0, z: 0 }, offset);
        const centerVector = (v1, v2) => {
            var dx = (v1.x() - v2.x()) / 2 + offset.x;
            var dy = (v1.y() - v2.y()) / 2 + offset.y;
            var dz = (v1.z() - v2.z()) / 2 + offset.z;
            return new Ammo.btVector3(dx, dy, dz);
        };
        const transformB = new Ammo.btTransform();
        transformB.setIdentity();
        if (!center) {
            // offset
            transformB.setOrigin(new Ammo.btVector3(offset.x, offset.y, offset.z));
            const transformA = bodyA
                .getCenterOfMassTransform()
                .inverse()
                .op_mul(bodyB.getWorldTransform())
                .op_mul(transformB);
            return { transformA: transformA, transformB: transformB };
        }
        else {
            const center = centerVector(bodyA.getWorldTransform().getOrigin(), bodyB.getWorldTransform().getOrigin());
            const transformB = new Ammo.btTransform();
            transformB.setIdentity();
            transformB.setOrigin(center);
            const transformA = bodyA
                .getCenterOfMassTransform()
                .inverse()
                .op_mul(bodyB.getWorldTransform());
            transformA.op_mul(transformB);
            return { transformA: transformA, transformB: transformB };
        }
    }
    lock(bodyA, bodyB, disableCollisionsBetweenLinkedBodies = true) {
        const zero = { x: 0, y: 0, z: 0 };
        return this.dof(bodyA, bodyB, { angularLowerLimit: zero, angularUpperLimit: zero }, disableCollisionsBetweenLinkedBodies);
    }
    fixed(bodyA, bodyB, disableCollisionsBetweenLinkedBodies = true) {
        const transform = this.getTransform(bodyA.ammo, bodyB.ammo);
        transform.transformA.setRotation(bodyA.ammo.getWorldTransform().getRotation());
        transform.transformB.setRotation(bodyB.ammo.getWorldTransform().getRotation());
        const constraint = new Ammo.btFixedConstraint(bodyA.ammo, bodyB.ammo, transform.transformA, transform.transformB);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    pointToPoint(bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies = true) {
        const { pivotA, pivotB } = config;
        const pivotV3 = new Ammo.btVector3((pivotA === null || pivotA === void 0 ? void 0 : pivotA.x) || 0, (pivotA === null || pivotA === void 0 ? void 0 : pivotA.y) || 0, (pivotA === null || pivotA === void 0 ? void 0 : pivotA.z) || 0);
        const targetPivotV3 = new Ammo.btVector3((pivotB === null || pivotB === void 0 ? void 0 : pivotB.x) || 0, (pivotB === null || pivotB === void 0 ? void 0 : pivotB.y) || 0, (pivotB === null || pivotB === void 0 ? void 0 : pivotB.z) || 0);
        const constraint = new Ammo.btPoint2PointConstraint(bodyA.ammo, bodyB.ammo, pivotV3, targetPivotV3);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    hinge(bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies = true) {
        const { pivotA, pivotB, axisA, axisB } = config;
        const pivotV3 = new Ammo.btVector3((pivotA === null || pivotA === void 0 ? void 0 : pivotA.x) || 0, (pivotA === null || pivotA === void 0 ? void 0 : pivotA.y) || 0, (pivotA === null || pivotA === void 0 ? void 0 : pivotA.z) || 0);
        const targetPivotV3 = new Ammo.btVector3((pivotB === null || pivotB === void 0 ? void 0 : pivotB.x) || 0, (pivotB === null || pivotB === void 0 ? void 0 : pivotB.y) || 0, (pivotB === null || pivotB === void 0 ? void 0 : pivotB.z) || 0);
        const axisV3 = new Ammo.btVector3((axisA === null || axisA === void 0 ? void 0 : axisA.x) || 0, (axisA === null || axisA === void 0 ? void 0 : axisA.y) || 0, (axisA === null || axisA === void 0 ? void 0 : axisA.z) || 0);
        const targetAxisV3 = new Ammo.btVector3((axisB === null || axisB === void 0 ? void 0 : axisB.x) || 0, (axisB === null || axisB === void 0 ? void 0 : axisB.y) || 0, (axisB === null || axisB === void 0 ? void 0 : axisB.z) || 0);
        const constraint = new Ammo.btHingeConstraint(bodyA.ammo, bodyB.ammo, pivotV3, targetPivotV3, axisV3, targetAxisV3, true);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    // https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=9&t=12690&p=42152&hilit=btSliderConstraint#p42152
    slider(bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies = true) {
        const transform = this.getTransform(bodyA.ammo, bodyB.ammo);
        const { frameA = {}, frameB = {}, linearLowerLimit: lll = 0, linearUpperLimit: lul = 0, angularLowerLimit: all = 0, angularUpperLimit: aul = 0 } = config;
        const rotationA = transform.transformA.getRotation();
        rotationA.setEulerZYX(frameA.x || 0, frameA.y || 0, frameA.z || 0);
        transform.transformA.setRotation(rotationA);
        const rotationB = transform.transformB.getRotation();
        rotationB.setEulerZYX(frameB.x || 0, frameB.y || 0, frameB.z || 0);
        transform.transformB.setRotation(rotationB);
        const constraint = new Ammo.btSliderConstraint(bodyA.ammo, bodyB.ammo, transform.transformA, transform.transformB, true);
        constraint.setLowerLinLimit(lll);
        constraint.setUpperLinLimit(lul);
        constraint.setLowerAngLimit(all);
        constraint.setUpperAngLimit(aul);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    spring(bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies = true) {
        const { stiffness = 50, damping = 0.01, angularLock = false, linearLowerLimit: lll = {}, linearUpperLimit: lul = {}, angularLowerLimit: all = {}, angularUpperLimit: aul = {}, offset = {}, center = false, enableSpring = true } = config;
        const off = Object.assign({ x: 0, y: 0, z: 0 }, offset);
        const transform = this.getTransform(bodyA.ammo, bodyB.ammo, off, center);
        const constraint = new Ammo.btGeneric6DofSpringConstraint(bodyA.ammo, bodyB.ammo, transform.transformA, transform.transformB, true);
        this.tmpBtVector3.setValue(lll.x || 0, lll.y || 0, lll.z || 0);
        constraint.setLinearLowerLimit(this.tmpBtVector3);
        this.tmpBtVector3.setValue(lul.x || 0, lul.y || 0, lul.z || 0);
        constraint.setLinearUpperLimit(this.tmpBtVector3);
        if (angularLock) {
            this.tmpBtVector3.setValue(0, 0, 0);
            constraint.setAngularLowerLimit(this.tmpBtVector3);
            constraint.setAngularUpperLimit(this.tmpBtVector3);
        }
        else {
            console.log(all, aul);
            constraint.setAngularLowerLimit(this.toAmmoV3(all, -Math.PI));
            constraint.setAngularUpperLimit(this.toAmmoV3(aul, Math.PI));
        }
        for (let i = 0; i < 3; i++) {
            constraint.enableSpring(i, enableSpring);
            constraint.setStiffness(i, stiffness);
            constraint.setDamping(i, damping);
        }
        // I have no idea what setEquilibriumPoint does :/
        // constraint.setEquilibriumPoint()
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    coneTwist(bodyA, bodyB, config, disableCollisionsBetweenLinkedBodies = true) {
        const { frameA, frameB } = config;
        const rbAFrame = new Ammo.btTransform();
        rbAFrame.setIdentity();
        rbAFrame.getOrigin().setValue((frameA === null || frameA === void 0 ? void 0 : frameA.x) || 0, (frameA === null || frameA === void 0 ? void 0 : frameA.y) || 0, (frameA === null || frameA === void 0 ? void 0 : frameA.z) || 0);
        const rbBFrame = new Ammo.btTransform();
        rbBFrame.setIdentity();
        rbBFrame.getOrigin().setValue((frameB === null || frameB === void 0 ? void 0 : frameB.x) || 0, (frameB === null || frameB === void 0 ? void 0 : frameB.y) || 0, (frameB === null || frameB === void 0 ? void 0 : frameB.z) || 0);
        const t = this.getTransform(bodyA.ammo, bodyB.ammo);
        const constraint = new Ammo.btConeTwistConstraint(bodyB.ammo, bodyA.ammo, rbAFrame, rbBFrame);
        // does not work at all :/
        // constraint.setLimit(-Math.PI / 50, Math.PI / 50)
        constraint.setAngularOnly(true);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
    dof(bodyA, bodyB, config = {}, disableCollisionsBetweenLinkedBodies = true) {
        const { offset, center = false } = config;
        const off = Object.assign({ x: 0, y: 0, z: 0 }, offset);
        const transform = this.getTransform(bodyA.ammo, bodyB.ammo, off, center);
        const constraint = new Ammo.btGeneric6DofConstraint(bodyA.ammo, bodyB.ammo, transform.transformA, transform.transformB, true);
        const { linearLowerLimit, linearUpperLimit, angularLowerLimit, angularUpperLimit } = config;
        const lll = this.toAmmoV3(linearLowerLimit);
        const lul = this.toAmmoV3(linearUpperLimit);
        const all = this.toAmmoV3(angularLowerLimit, -Math.PI);
        const aul = this.toAmmoV3(angularUpperLimit, Math.PI);
        constraint.setLinearLowerLimit(lll);
        constraint.setLinearUpperLimit(lul);
        constraint.setAngularLowerLimit(all);
        constraint.setAngularUpperLimit(aul);
        Ammo.destroy(lll);
        Ammo.destroy(lul);
        Ammo.destroy(all);
        Ammo.destroy(aul);
        this.physicsWorld.addConstraint(constraint, disableCollisionsBetweenLinkedBodies);
        return constraint;
    }
}
exports.default = Constraints;
//# sourceMappingURL=constraints.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/convexObjectBreaker.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/convexObjectBreaker.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Copied from three.js examples and added a fix
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConvexObjectBreaker = void 0;
/**
 * @author yomboprime https://github.com/yomboprime
 *
 * @fileoverview This class can be used to subdivide a convex Geometry object into pieces.
 *
 * Usage:
 *
 * Use the function prepareBreakableObject to prepare a Mesh object to be broken.
 *
 * Then, call the various functions to subdivide the object (subdivideByImpact, cutByPlane)
 *
 * Sub-objects that are product of subdivision don't need prepareBreakableObject to be called on them.
 *
 * Requisites for the object:
 *
 *  - Mesh object must have a BufferGeometry (not Geometry) and a Material
 *
 *  - Vertex normals must be planar (not smoothed)
 *
 *  - The geometry must be convex (this is not checked in the library). You can create convex
 *  geometries with ConvexBufferGeometry. The BoxBufferGeometry, SphereBufferGeometry and other convex primitives
 *  can also be used.
 *
 * Note: This lib adds member variables to object's userData member (see prepareBreakableObject function)
 * Use with caution and read the code when using with other libs.
 *
 * @param {double} minSizeForBreak Min size a debris can have to break.
 * @param {double} smallDelta Max distance to consider that a point belongs to a plane.
 *
 */
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const index_2 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const logger_1 = __webpack_require__(/*! @enable3d/common/dist/logger */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js");
const ConvexObjectBreaker = function (minSizeForBreak, smallDelta) {
    // @ts-ignore
    this.minSizeForBreak = minSizeForBreak || 1.4;
    // @ts-ignore
    this.smallDelta = smallDelta || 0.0001;
    // @ts-ignore
    this.tempLine1 = new index_1.Line3();
    // @ts-ignore
    this.tempPlane1 = new index_1.Plane();
    // @ts-ignore
    this.tempPlane2 = new index_1.Plane();
    // @ts-ignore
    this.tempPlane_Cut = new index_1.Plane();
    // @ts-ignore
    this.tempCM1 = new index_1.Vector3();
    // @ts-ignore
    this.tempCM2 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_2 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_3 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_P0 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_P1 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_P2 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_N0 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_N1 = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_AB = new index_1.Vector3();
    // @ts-ignore
    this.tempVector3_CB = new index_1.Vector3();
    // @ts-ignore
    this.tempResultObjects = { object1: null, object2: null };
    // @ts-ignore
    this.segments = [];
    var n = 30 * 30;
    // @ts-ignore
    for (var i = 0; i < n; i++)
        this.segments[i] = false;
};
exports.ConvexObjectBreaker = ConvexObjectBreaker;
ConvexObjectBreaker.prototype = {
    constructor: ConvexObjectBreaker,
    prepareBreakableObject: function (object, mass, velocity, angularVelocity, breakable) {
        // object is a Object3d (normally a Mesh), must have a BufferGeometry, and it must be convex.
        // Its material property is propagated to its children (sub-pieces)
        // mass must be > 0
        if (!object.geometry.isBufferGeometry) {
            console.error('THREE.ConvexObjectBreaker.prepareBreakableObject(): Parameter object must have a BufferGeometry.');
        }
        object.userData.ammoPhysicsData = {}; // initialise our new data container - would be best to move this to ExtendedObject and not rely on userData at all for best compatibility
        var ammoPhysicsData = object.userData.ammoPhysicsData; // get reference to it
        ammoPhysicsData.mass = mass;
        ammoPhysicsData.velocity = velocity.clone();
        ammoPhysicsData.angularVelocity = angularVelocity.clone();
        ammoPhysicsData.breakable = breakable;
    },
    /*
     * @param {int} maxRadialIterations Iterations for radial cuts.
     * @param {int} maxRandomIterations Max random iterations for not-radial cuts
     *
     * Returns the array of pieces
     */
    subdivideByImpact: function (object, pointOfImpact, normal, maxRadialIterations, maxRandomIterations) {
        var debris = [];
        var tempPlane1 = this.tempPlane1;
        var tempPlane2 = this.tempPlane2;
        this.tempVector3.addVectors(pointOfImpact, normal);
        tempPlane1.setFromCoplanarPoints(pointOfImpact, object.position, this.tempVector3);
        var maxTotalIterations = maxRandomIterations + maxRadialIterations;
        var scope = this;
        function subdivideRadial(subObject, startAngle, endAngle, numIterations) {
            if (Math.random() < numIterations * 0.05 || numIterations > maxTotalIterations) {
                debris.push(subObject);
                return;
            }
            var angle = Math.PI;
            if (numIterations === 0) {
                tempPlane2.normal.copy(tempPlane1.normal);
                tempPlane2.constant = tempPlane1.constant;
            }
            else {
                if (numIterations <= maxRadialIterations) {
                    angle = (endAngle - startAngle) * (0.2 + 0.6 * Math.random()) + startAngle;
                    // Rotate tempPlane2 at impact point around normal axis and the angle
                    scope.tempVector3_2.copy(object.position).sub(pointOfImpact).applyAxisAngle(normal, angle).add(pointOfImpact);
                    tempPlane2.setFromCoplanarPoints(pointOfImpact, scope.tempVector3, scope.tempVector3_2);
                }
                else {
                    angle = (0.5 * (numIterations & 1) + 0.2 * (2 - Math.random())) * Math.PI;
                    // Rotate tempPlane2 at object position around normal axis and the angle
                    scope.tempVector3_2
                        .copy(pointOfImpact)
                        .sub(subObject.position)
                        .applyAxisAngle(normal, angle)
                        .add(subObject.position);
                    scope.tempVector3_3.copy(normal).add(subObject.position);
                    tempPlane2.setFromCoplanarPoints(subObject.position, scope.tempVector3_3, scope.tempVector3_2);
                }
            }
            // Perform the cut
            scope.cutByPlane(subObject, tempPlane2, scope.tempResultObjects);
            var obj1 = scope.tempResultObjects.object1;
            var obj2 = scope.tempResultObjects.object2;
            if (obj1) {
                subdivideRadial(obj1, startAngle, angle, numIterations + 1);
            }
            if (obj2) {
                subdivideRadial(obj2, angle, endAngle, numIterations + 1);
            }
        }
        subdivideRadial(object, 0, 2 * Math.PI, 0);
        return debris;
    },
    cutByPlane: function (object, plane, output) {
        // Returns breakable objects in output.object1 and output.object2 members, the resulting 2 pieces of the cut.
        // object2 can be null if the plane doesn't cut the object.
        // object1 can be null only in case of internal error
        // Returned value is number of pieces, 0 for error.
        var geometry = object.geometry;
        var coords = geometry.attributes.position.array;
        var normals = geometry.attributes.normal.array;
        var numPoints = coords.length / 3;
        var numFaces = numPoints / 3;
        var indices = geometry.getIndex();
        if (indices) {
            indices = indices.array;
            numFaces = indices.length / 3;
        }
        function getVertexIndex(faceIdx, vert) {
            // vert = 0, 1 or 2.
            var idx = faceIdx * 3 + vert;
            return indices ? indices[idx] : idx;
        }
        var points1 = [];
        var points2 = [];
        var delta = this.smallDelta;
        // Reset segments mark
        var numPointPairs = numPoints * numPoints;
        for (var i = 0; i < numPointPairs; i++)
            this.segments[i] = false;
        var p0 = this.tempVector3_P0;
        var p1 = this.tempVector3_P1;
        var n0 = this.tempVector3_N0;
        var n1 = this.tempVector3_N1;
        // Iterate through the faces to mark edges shared by coplanar faces
        for (var i = 0; i < numFaces - 1; i++) {
            var a1 = getVertexIndex(i, 0);
            var b1 = getVertexIndex(i, 1);
            var c1 = getVertexIndex(i, 2);
            // Assuming all 3 vertices have the same normal
            n0.set(normals[a1], normals[a1] + 1, normals[a1] + 2);
            for (var j = i + 1; j < numFaces; j++) {
                var a2 = getVertexIndex(j, 0);
                var b2 = getVertexIndex(j, 1);
                var c2 = getVertexIndex(j, 2);
                // Assuming all 3 vertices have the same normal
                n1.set(normals[a2], normals[a2] + 1, normals[a2] + 2);
                var coplanar = 1 - n0.dot(n1) < delta;
                if (coplanar) {
                    if (a1 === a2 || a1 === b2 || a1 === c2) {
                        if (b1 === a2 || b1 === b2 || b1 === c2) {
                            this.segments[a1 * numPoints + b1] = true;
                            this.segments[b1 * numPoints + a1] = true;
                        }
                        else {
                            this.segments[c1 * numPoints + a1] = true;
                            this.segments[a1 * numPoints + c1] = true;
                        }
                    }
                    else if (b1 === a2 || b1 === b2 || b1 === c2) {
                        this.segments[c1 * numPoints + b1] = true;
                        this.segments[b1 * numPoints + c1] = true;
                    }
                }
            }
        }
        // Transform the plane to object local space
        var localPlane = this.tempPlane_Cut;
        object.updateMatrix();
        ConvexObjectBreaker.transformPlaneToLocalSpace(plane, object.matrix, localPlane);
        // Iterate through the faces adding points to both pieces
        for (var i = 0; i < numFaces; i++) {
            var va = getVertexIndex(i, 0);
            var vb = getVertexIndex(i, 1);
            var vc = getVertexIndex(i, 2);
            for (var segment = 0; segment < 3; segment++) {
                var i0 = segment === 0 ? va : segment === 1 ? vb : vc;
                var i1 = segment === 0 ? vb : segment === 1 ? vc : va;
                var segmentState = this.segments[i0 * numPoints + i1];
                if (segmentState)
                    continue; // The segment already has been processed in another face
                // Mark segment as processed (also inverted segment)
                this.segments[i0 * numPoints + i1] = true;
                this.segments[i1 * numPoints + i0] = true;
                p0.set(coords[3 * i0], coords[3 * i0 + 1], coords[3 * i0 + 2]);
                p1.set(coords[3 * i1], coords[3 * i1 + 1], coords[3 * i1 + 2]);
                // mark: 1 for negative side, 2 for positive side, 3 for coplanar point
                var mark0 = 0;
                var d = localPlane.distanceToPoint(p0);
                if (d > delta) {
                    mark0 = 2;
                    points2.push(p0.clone());
                }
                else if (d < -delta) {
                    mark0 = 1;
                    points1.push(p0.clone());
                }
                else {
                    mark0 = 3;
                    points1.push(p0.clone());
                    points2.push(p0.clone());
                }
                // mark: 1 for negative side, 2 for positive side, 3 for coplanar point
                var mark1 = 0;
                var d = localPlane.distanceToPoint(p1);
                if (d > delta) {
                    mark1 = 2;
                    points2.push(p1.clone());
                }
                else if (d < -delta) {
                    mark1 = 1;
                    points1.push(p1.clone());
                }
                else {
                    mark1 = 3;
                    points1.push(p1.clone());
                    points2.push(p1.clone());
                }
                if ((mark0 === 1 && mark1 === 2) || (mark0 === 2 && mark1 === 1)) {
                    // Intersection of segment with the plane
                    this.tempLine1.start.copy(p0);
                    this.tempLine1.end.copy(p1);
                    var intersection = new index_1.Vector3();
                    intersection = localPlane.intersectLine(this.tempLine1, intersection);
                    if (intersection === undefined) {
                        // Shouldn't happen
                        console.error('Internal error: segment does not intersect plane.');
                        output.segmentedObject1 = null;
                        output.segmentedObject2 = null;
                        return 0;
                    }
                    points1.push(intersection);
                    points2.push(intersection.clone());
                }
            }
        }
        // Calculate debris mass (very fast and imprecise):
        var newMass = object.userData.ammoPhysicsData.mass * 0.5;
        // Calculate debris Center of Mass (again fast and imprecise)
        this.tempCM1.set(0, 0, 0);
        var radius1 = 0;
        var numPoints1 = points1.length;
        if (numPoints1 > 0) {
            for (var i = 0; i < numPoints1; i++)
                this.tempCM1.add(points1[i]);
            this.tempCM1.divideScalar(numPoints1);
            for (var i = 0; i < numPoints1; i++) {
                var p = points1[i];
                p.sub(this.tempCM1);
                radius1 = Math.max(radius1, p.x, p.y, p.z);
            }
            this.tempCM1.add(object.position);
        }
        this.tempCM2.set(0, 0, 0);
        var radius2 = 0;
        var numPoints2 = points2.length;
        if (numPoints2 > 0) {
            for (var i = 0; i < numPoints2; i++)
                this.tempCM2.add(points2[i]);
            this.tempCM2.divideScalar(numPoints2);
            for (var i = 0; i < numPoints2; i++) {
                var p = points2[i];
                p.sub(this.tempCM2);
                radius2 = Math.max(radius2, p.x, p.y, p.z);
            }
            this.tempCM2.add(object.position);
        }
        var object1 = null;
        var object2 = null;
        var numObjects = 0;
        /**
         * MOD: Wrapped in try catch block to avoid errors
         */
        if (numPoints1 > 4) {
            try {
                object1 = new index_1.Mesh(new index_2.ConvexBufferGeometry(points1), object.material);
                object1.position.copy(this.tempCM1);
                object1.quaternion.copy(object.quaternion);
                object1.userData = object.userData;
                this.prepareBreakableObject(object1, newMass, object.userData.ammoPhysicsData.velocity, object.userData.ammoPhysicsData.angularVelocity, 2 * radius1 > this.minSizeForBreak);
                numObjects++;
            }
            catch (error) {
                logger_1.default('Error in ConvexObjectBreaker.ts');
                logger_1.default(error);
            }
        }
        if (numPoints2 > 4) {
            try {
                object2 = new index_1.Mesh(new index_2.ConvexBufferGeometry(points2), object.material);
                object2.position.copy(this.tempCM2);
                object2.quaternion.copy(object.quaternion);
                object2.userData = object.userData;
                this.prepareBreakableObject(object2, newMass, object.userData.ammoPhysicsData.velocity, object.userData.ammoPhysicsData.angularVelocity, 2 * radius2 > this.minSizeForBreak);
                numObjects++;
            }
            catch (error) {
                logger_1.default('Error in ConvexObjectBreaker.ts');
                logger_1.default(error);
            }
        }
        output.object1 = object1;
        output.object2 = object2;
        return numObjects;
    }
};
ConvexObjectBreaker.transformFreeVector = function (v, m) {
    // input:
    // vector interpreted as a free vector
    // THREE.Matrix4 orthogonal matrix (matrix without scale)
    var x = v.x, y = v.y, z = v.z;
    var e = m.elements;
    v.x = e[0] * x + e[4] * y + e[8] * z;
    v.y = e[1] * x + e[5] * y + e[9] * z;
    v.z = e[2] * x + e[6] * y + e[10] * z;
    return v;
};
ConvexObjectBreaker.transformFreeVectorInverse = function (v, m) {
    // input:
    // vector interpreted as a free vector
    // THREE.Matrix4 orthogonal matrix (matrix without scale)
    var x = v.x, y = v.y, z = v.z;
    var e = m.elements;
    v.x = e[0] * x + e[1] * y + e[2] * z;
    v.y = e[4] * x + e[5] * y + e[6] * z;
    v.z = e[8] * x + e[9] * y + e[10] * z;
    return v;
};
ConvexObjectBreaker.transformTiedVectorInverse = function (v, m) {
    // input:
    // vector interpreted as a tied (ordinary) vector
    // THREE.Matrix4 orthogonal matrix (matrix without scale)
    var x = v.x, y = v.y, z = v.z;
    var e = m.elements;
    v.x = e[0] * x + e[1] * y + e[2] * z - e[12];
    v.y = e[4] * x + e[5] * y + e[6] * z - e[13];
    v.z = e[8] * x + e[9] * y + e[10] * z - e[14];
    return v;
};
ConvexObjectBreaker.transformPlaneToLocalSpace = (function () {
    var v1 = new index_1.Vector3();
    return function transformPlaneToLocalSpace(plane, m, resultPlane) {
        resultPlane.normal.copy(plane.normal);
        resultPlane.constant = plane.constant;
        var referencePoint = ConvexObjectBreaker.transformTiedVectorInverse(plane.coplanarPoint(v1), m);
        ConvexObjectBreaker.transformFreeVectorInverse(resultPlane.normal, m);
        // recalculate constant (like in setFromNormalAndCoplanarPoint)
        resultPlane.constant = -referencePoint.dot(resultPlane.normal);
    };
})();
//# sourceMappingURL=convexObjectBreaker.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/debugDrawer.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/debugDrawer.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @description  This is a modified version of the original code from Kevin Lee
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * @author       Kevin Lee (https://github.com/InfiniteLee)
 * @copyright    Copyright (c) 2019 Kevin Lee; Project Url: https://github.com/InfiniteLee/ammo-debug-drawer
 * @license      {@link https://github.com/InfiniteLee/ammo-debug-drawer/blob/master/LICENSE|MPL-2.0}
 */
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const AmmoDebugConstants = {
    NoDebug: 0,
    DrawWireframe: 1,
    DrawAabb: 2,
    DrawFeaturesText: 4,
    DrawContactPoints: 8,
    NoDeactivation: 16,
    NoHelpText: 32,
    DrawText: 64,
    ProfileTimings: 128,
    EnableSatComparison: 256,
    DisableBulletLCP: 512,
    EnableCCD: 1024,
    DrawConstraints: 1 << 11,
    DrawConstraintLimits: 1 << 12,
    FastWireframe: 1 << 13,
    DrawNormals: 1 << 14,
    DrawOnTop: 1 << 15,
    MAX_DEBUG_DRAW_MODE: 0xffffffff
};
/**
 * An implementation of the btIDebugDraw interface in Ammo.js, for debug rendering of Ammo shapes
 */
class DebugDrawer {
    constructor(scene, world, options = {}) {
        this.scene = scene;
        this.world = world;
        this.options = options;
        this.debugDrawMode = options.debugDrawMode || AmmoDebugConstants.DrawWireframe;
        const drawOnTop = this.debugDrawMode & AmmoDebugConstants.DrawOnTop || false;
        const maxBufferSize = options.maxBufferSize || 1000000;
        this.geometry = new index_1.BufferGeometry();
        const vertices = new Float32Array(maxBufferSize * 3);
        const colors = new Float32Array(maxBufferSize * 3);
        /*
        I do not know the difference, just using the first one.
        export const StaticDrawUsage: Usage;
        export const DynamicDrawUsage: Usage;
        export const StreamDrawUsage: Usage;
        export const StaticReadUsage: Usage;
        export const DynamicReadUsage: Usage;
        export const StreamReadUsage: Usage;
        export const StaticCopyUsage: Usage;
        export const DynamicCopyUsage: Usage;
        export const StreamCopyUsage: Usage;
         */
        this.geometry.setAttribute('position', new index_1.BufferAttribute(vertices, 3).setUsage(index_1.StaticDrawUsage));
        this.geometry.setAttribute('color', new index_1.BufferAttribute(colors, 3).setUsage(index_1.StaticDrawUsage));
        this.index = 0;
        const material = new index_1.LineBasicMaterial({
            vertexColors: true,
            depthTest: !drawOnTop
        });
        this.mesh = new index_1.LineSegments(this.geometry, material);
        if (drawOnTop)
            this.mesh.renderOrder = 999;
        this.mesh.frustumCulled = false;
        this.enabled = false;
        this.debugDrawer = new Ammo.DebugDrawer();
        this.debugDrawer.drawLine = this.drawLine.bind(this);
        this.debugDrawer.drawContactPoint = this.drawContactPoint.bind(this);
        this.debugDrawer.reportErrorWarning = this.reportErrorWarning.bind(this);
        this.debugDrawer.draw3dText = this.draw3dText.bind(this);
        this.debugDrawer.setDebugMode = this.setDebugMode.bind(this);
        this.debugDrawer.getDebugMode = this.getDebugMode.bind(this);
        this.world.setDebugDrawer(this.debugDrawer);
    }
    enable() {
        this.enabled = true;
        this.scene.add(this.mesh);
    }
    disable() {
        this.enabled = false;
        this.scene.remove(this.mesh);
    }
    update() {
        if (!this.enabled) {
            return;
        }
        if (this.index != 0) {
            // @ts-ignore
            this.geometry.attributes.position.needsUpdate = true;
            // @ts-ignore
            this.geometry.attributes.color.needsUpdate = true;
        }
        this.index = 0;
        this.world.debugDrawWorld();
        this.geometry.setDrawRange(0, this.index);
    }
    drawLine(from, to, color) {
        // @ts-ignore
        const heap = Ammo.HEAPF32;
        const r = heap[(color + 0) / 4];
        const g = heap[(color + 4) / 4];
        const b = heap[(color + 8) / 4];
        const fromX = heap[(from + 0) / 4];
        const fromY = heap[(from + 4) / 4];
        const fromZ = heap[(from + 8) / 4];
        this.geometry.attributes.position.setXYZ(this.index, fromX, fromY, fromZ);
        this.geometry.attributes.color.setXYZ(this.index++, r, g, b);
        const toX = heap[(to + 0) / 4];
        const toY = heap[(to + 4) / 4];
        const toZ = heap[(to + 8) / 4];
        this.geometry.attributes.position.setXYZ(this.index, toX, toY, toZ);
        this.geometry.attributes.color.setXYZ(this.index++, r, g, b);
    }
    //TODO: figure out how to make lifeTime work
    drawContactPoint(pointOnB, normalOnB, distance, _lifeTime, color) {
        // @ts-ignore
        const heap = Ammo.HEAPF32;
        const r = heap[(color + 0) / 4];
        const g = heap[(color + 4) / 4];
        const b = heap[(color + 8) / 4];
        const x = heap[(pointOnB + 0) / 4];
        const y = heap[(pointOnB + 4) / 4];
        const z = heap[(pointOnB + 8) / 4];
        this.geometry.attributes.position.setXYZ(this.index, x, y, z);
        this.geometry.attributes.color.setXYZ(this.index++, r, g, b);
        const dx = heap[(normalOnB + 0) / 4] * distance;
        const dy = heap[(normalOnB + 4) / 4] * distance;
        const dz = heap[(normalOnB + 8) / 4] * distance;
        this.geometry.attributes.position.setXYZ(this.index, x + dx, y + dy, z + dz);
        this.geometry.attributes.color.setXYZ(this.index++, r, g, b);
    }
    reportErrorWarning(warningString) {
        if (Ammo.hasOwnProperty('Pointer_stringify')) {
            // @ts-ignore
            console.warn(Ammo.Pointer_stringify(warningString));
        }
        else if (!this.warnedOnce) {
            this.warnedOnce = true;
            console.warn("Cannot print warningString, please rebuild Ammo.js using 'debug' flag");
        }
    }
    draw3dText(_location, _textString) {
        //TODO
        console.warn('TODO: draw3dText');
    }
    setDebugMode(debugMode) {
        this.debugDrawMode = debugMode;
    }
    getDebugMode() {
        return this.debugDrawMode;
    }
}
exports.default = DebugDrawer;
//# sourceMappingURL=debugDrawer.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/index.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! @enable3d/common/dist/typesAmmo */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/typesAmmo.js");
__webpack_require__(/*! @enable3d/common/dist/typesCustom */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/typesCustom.js");
__exportStar(__webpack_require__(/*! ./physics */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/physics.js"), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/lib/Clock.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/lib/Clock.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author yandeu
 * @description Ported to TypeScript
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Clock = void 0;
/**
 * @author alteredq / http://alteredqualia.com/
 */
/**
 * This is the Clock class THREE provides.
 */
class Clock {
    constructor(autoStart = true) {
        this.autoStart = autoStart !== undefined ? autoStart : true;
        this.startTime = 0;
        this.oldTime = 0;
        this.elapsedTime = 0;
        this.running = false;
    }
    start() {
        this.startTime = (typeof performance === 'undefined' ? Date : performance).now(); // see #10732
        this.oldTime = this.startTime;
        this.elapsedTime = 0;
        this.running = true;
    }
    stop() {
        this.getElapsedTime();
        this.running = false;
        this.autoStart = false;
    }
    getElapsedTime() {
        this.getDelta();
        return this.elapsedTime;
    }
    getDelta() {
        let diff = 0;
        if (this.autoStart && !this.running) {
            this.start();
            return 0;
        }
        if (this.running) {
            let newTime = (typeof performance === 'undefined' ? Date : performance).now();
            diff = (newTime - this.oldTime) / 1000;
            this.oldTime = newTime;
            this.elapsedTime += diff;
        }
        return diff;
    }
}
exports.Clock = Clock;
//# sourceMappingURL=Clock.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/physics.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/physics.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AmmoPhysics = exports.Clock = exports.Types = exports.AllHitsRaycaster = exports.ClosestRaycaster = exports.PhysicsLoader = exports.ExtendedGroup = exports.ExtendedMesh = exports.ExtendedObject3D = void 0;
const logger_1 = __webpack_require__(/*! @enable3d/common/dist/logger */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js");
const physicsBody_1 = __webpack_require__(/*! @enable3d/common/dist/physicsBody */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsBody.js");
const extendedObject3D_1 = __webpack_require__(/*! @enable3d/common/dist/extendedObject3D */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedObject3D.js");
Object.defineProperty(exports, "ExtendedObject3D", ({ enumerable: true, get: function () { return extendedObject3D_1.ExtendedObject3D; } }));
const extendedMesh_1 = __webpack_require__(/*! @enable3d/common/dist/extendedMesh */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js");
Object.defineProperty(exports, "ExtendedMesh", ({ enumerable: true, get: function () { return extendedMesh_1.ExtendedMesh; } }));
const extendedGroup_1 = __webpack_require__(/*! @enable3d/common/dist/extendedGroup */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedGroup.js");
Object.defineProperty(exports, "ExtendedGroup", ({ enumerable: true, get: function () { return extendedGroup_1.ExtendedGroup; } }));
const shapes_1 = __webpack_require__(/*! ./shapes */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/shapes.js");
const constraints_1 = __webpack_require__(/*! ./constraints */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/constraints.js");
const eventemitter3_1 = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const three_to_ammo_1 = __webpack_require__(/*! ./three-to-ammo */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/three-to-ammo.js");
const torusShape_1 = __webpack_require__(/*! ./torusShape */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/torusShape.js");
const factories_1 = __webpack_require__(/*! @enable3d/common/dist/factories */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/factories.js");
const collisionEvents_1 = __webpack_require__(/*! ./collisionEvents */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/collisionEvents.js");
const debugDrawer_1 = __webpack_require__(/*! ./debugDrawer */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/debugDrawer.js");
const convexObjectBreaker_1 = __webpack_require__(/*! ./convexObjectBreaker */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/convexObjectBreaker.js");
const physicsLoader_1 = __webpack_require__(/*! @enable3d/common/dist/physicsLoader */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsLoader.js");
Object.defineProperty(exports, "PhysicsLoader", ({ enumerable: true, get: function () { return physicsLoader_1.PhysicsLoader; } }));
const defaultMaterial_1 = __webpack_require__(/*! @enable3d/common/dist/defaultMaterial */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/defaultMaterial.js");
const Types = __webpack_require__(/*! @enable3d/common/dist/types */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js");
exports.Types = Types;
const raycaster_1 = __webpack_require__(/*! ./raycaster/raycaster */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/raycaster.js");
Object.defineProperty(exports, "ClosestRaycaster", ({ enumerable: true, get: function () { return raycaster_1.ClosestRaycaster; } }));
Object.defineProperty(exports, "AllHitsRaycaster", ({ enumerable: true, get: function () { return raycaster_1.AllHitsRaycaster; } }));
// Export THREE.Clock
var Clock_1 = __webpack_require__(/*! ./lib/Clock */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/lib/Clock.js");
Object.defineProperty(exports, "Clock", ({ enumerable: true, get: function () { return Clock_1.Clock; } }));
class AmmoPhysics extends eventemitter3_1.EventEmitter {
    constructor(scene, config = {}) {
        super();
        this.scene = scene;
        this.config = config;
        this.rigidBodies = [];
        this.earlierDetectedCollisions = [];
        this.complexShapes = ['plane', 'hull', 'hacd', 'vhacd', 'convexMesh', 'concaveMesh'];
        this.gravity = config.gravity || { x: 0, y: -9.81, z: 0 };
        this.isHeadless = scene === 'headless' ? true : false;
        this.tmpEuler = new index_1.Euler();
        this.tmpQuaternion = new index_1.Quaternion();
        this.tmpVector3 = new index_1.Vector3();
        this.tmpVector3a = new index_1.Vector3();
        this.tmpMatrix4 = new index_1.Matrix4();
        this.tmpMatrix4a = new index_1.Matrix4();
        this.tmpBtVector3 = new Ammo.btVector3();
        this.tmpBtQuaternion = new Ammo.btQuaternion(0, 0, 0, 1);
        this.emptyV3 = new index_1.Vector3();
        this.impactPoint = new index_1.Vector3();
        this.impactNormal = new index_1.Vector3();
        if (scene !== 'headless') {
            this.defaultMaterial = new defaultMaterial_1.default();
            // const info = `Ammo.js physics provided by enable3d`
            // console.log(
            //   `%c %c %c %c %c ${info} %c https://enable3d.io/`,
            //   'background: #ff0000',
            //   'background: #ffff00',
            //   'background: #00ff00',
            //   'background: #00ffff',
            //   'color: #fff; background: #000000;',
            //   'background: none'
            // )
        }
        this.start();
    }
    /** @deprecated Use worldTransform instead of tmpTrans. */
    get tmpTrans() {
        console.warn('Use worldTransform instead of tmpTrans.');
        return this.worldTransform;
    }
    /** @deprecated Use worldTransform instead of tmpTrans. */
    set tmpTrans(transform) {
        console.warn('Use worldTransform instead of tmpTrans.');
        this.worldTransform = transform;
    }
    /** Destroys a physics body. */
    destroy(body) {
        var _a;
        // @ts-ignore
        const b = Object.keys(body).includes('body') ? body.body : body;
        if (typeof (b === null || b === void 0 ? void 0 : b.ammo) === 'undefined')
            return;
        // @ts-ignore
        const name = b.ammo.name;
        // @ts-ignore
        let obj = b.ammo.threeObject;
        if (name && obj) {
            if ((_a = obj === null || obj === void 0 ? void 0 : obj.body) === null || _a === void 0 ? void 0 : _a.ammo) {
                // remove from physics world
                !obj.body.isSoftBody
                    ? this.physicsWorld.removeRigidBody(obj.body.ammo)
                    : this.physicsWorld.removeSoftBody(obj.body.ammo);
                // call destructor on body
                obj.body.destructor();
                // reset properties
                // @ts-ignore
                obj.body = undefined;
                obj.hasBody = false;
                // remove from this.objectAmmo
                // @ts-ignore
                delete b.ammo.threeObject;
                // remove from this.rigidBodies
                for (let i = 0; i < this.rigidBodies.length; i++) {
                    if (this.rigidBodies[i].name === name) {
                        this.rigidBodies.splice(i, 1);
                        i--;
                    }
                }
            }
        }
        if (this.scene === 'headless' && obj)
            obj = null;
    }
    setup() {
        // add worldTransform
        this.worldTransform = new Ammo.btTransform();
        // setup ammo physics
        if (typeof this.config.setupPhysicsWorld === 'function')
            this.physicsWorld = this.config.setupPhysicsWorld();
        else
            this.physicsWorld = this.setupPhysicsWorld();
        if (this.scene !== 'headless') {
            // Initialize convexBreaker
            // @ts-ignore
            this.convexBreaker = new convexObjectBreaker_1.ConvexObjectBreaker();
            this.objectsToRemove = [];
            this.numObjectsToRemove = 0;
            for (let i = 0; i < 500; i++) {
                this.objectsToRemove[i] = null;
            }
        }
        this.collisionEvents = new collisionEvents_1.CollisionEvents();
        this.factory = new factories_1.default(this.scene);
        this.shapes = new shapes_1.default(this.factory, (object, config) => this.addExisting(object, config));
        this.constraints = new constraints_1.default(this.worldTransform, this.physicsWorld);
        if (this.scene !== 'headless')
            this.debugDrawer = new debugDrawer_1.default(this.scene, this.physicsWorld, {});
    }
    updateDebugger() {
        if (this.scene === 'headless')
            return;
        if (this.debugDrawer && this.debugDrawer.enabled)
            this.debugDrawer.update();
    }
    setupPhysicsWorld() {
        const g = this.gravity;
        const { softBodies = false } = this.config;
        let physicsWorld;
        if (!softBodies) {
            const collisionConfiguration = new Ammo.btDefaultCollisionConfiguration(), dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration), broadphase = new Ammo.btDbvtBroadphase(), solver = new Ammo.btSequentialImpulseConstraintSolver();
            physicsWorld = new Ammo.btDiscreteDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration);
        }
        if (softBodies) {
            const collisionConfiguration = new Ammo.btSoftBodyRigidBodyCollisionConfiguration(), dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration), broadphase = new Ammo.btDbvtBroadphase(), solver = new Ammo.btSequentialImpulseConstraintSolver(), softBodySolver = new Ammo.btDefaultSoftBodySolver();
            physicsWorld = new Ammo.btSoftRigidDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration, softBodySolver);
        }
        physicsWorld.setGravity(new Ammo.btVector3(g.x, g.y, g.z));
        return physicsWorld;
    }
    createDebrisFromBreakableObject(object, parent) {
        if (this.scene === 'headless')
            return;
        object.material = this.defaultMaterial.get();
        object.shape = 'hull';
        object.fragmentDepth = parent.fragmentDepth + 1;
        // Add the object to the scene
        this.scene.add(object);
        // Add physics to the object
        // @ts-ignore
        this.addExisting(object);
        object.body.breakable = false;
        // make this fragment breakable in 2.5seconds
        setTimeout(() => {
            object.body.breakable = true;
        }, 2500);
    }
    removeDebris(object) {
        if (this.scene === 'headless')
            return;
        this.scene.remove(object);
        this.destroy(object);
    }
    update(delta) {
        this.updatePhysics(delta);
        this.detectCollisions();
    }
    updatePhysics(delta) {
        // step world
        const deltaTime = delta / 1000;
        // must always satisfy the equation timeStep < maxSubSteps * fixedTimeStep
        this.physicsWorld.stepSimulation(deltaTime, this.config.maxSubSteps || 4, this.config.fixedTimeStep || 1 / 60);
        // update rigid bodies
        for (let i = 0; i < this.rigidBodies.length; i++) {
            const objThree = this.rigidBodies[i];
            const objPhys = objThree.body.ammo;
            const ms = objPhys.getMotionState();
            if (ms) {
                ms.getWorldTransform(this.worldTransform);
                // check if object did an update since last call
                if (objThree.body.didUpdate) {
                    // @ts-ignore
                    if (objThree.body._emitUpdateEvents)
                        objThree.body.eventEmitter.emit('update');
                    objThree.body.didUpdate = false;
                }
                // update positions
                if (objThree.body.ammo.isKinematicObject() && objThree.body.needUpdate) {
                    // get position and rotation
                    objThree.getWorldQuaternion(this.tmpQuaternion);
                    objThree.getWorldPosition(this.tmpVector3);
                    // adjust tmp variables
                    this.tmpBtVector3.setValue(this.tmpVector3.x, this.tmpVector3.y, this.tmpVector3.z);
                    this.tmpBtQuaternion.setValue(this.tmpQuaternion.x, this.tmpQuaternion.y, this.tmpQuaternion.z, this.tmpQuaternion.w);
                    // set position and rotation
                    this.worldTransform.setOrigin(this.tmpBtVector3);
                    this.worldTransform.setRotation(this.tmpBtQuaternion);
                    // set transform
                    ms.setWorldTransform(this.worldTransform);
                    // reset needsUpdate
                    objThree.body.needUpdate = false;
                }
                else if (objThree.body.skipUpdate) {
                    // do nothing ...
                }
                else if (!objThree.body.ammo.isStaticObject()) {
                    // get position and rotation
                    let p = this.worldTransform.getOrigin();
                    let q = this.worldTransform.getRotation();
                    // body offset
                    let o = objThree.body.offset;
                    // set position and rotation
                    if (objThree.body.ignoreScale) {
                        this.tmpVector3a.set(objThree.scale.x, objThree.scale.y, objThree.scale.z);
                    }
                    else {
                        const scale = objThree.body.ammo.getCollisionShape().getLocalScaling();
                        this.tmpVector3a.set(scale.x(), scale.y(), scale.z());
                    }
                    this.tmpVector3.set(p.x() + o.x, p.y() + o.y, p.z() + o.z);
                    this.tmpQuaternion.set(q.x(), q.y(), q.z(), q.w());
                    this.tmpMatrix4.compose(this.tmpVector3, this.tmpQuaternion, this.tmpVector3a);
                    if (objThree.parent) {
                        // compatibility fix for three.js >= r123 (Dezember 2020)
                        // @ts-ignore
                        if (+index_1.REVISION >= 123)
                            this.tmpMatrix4a.copy(objThree.parent.matrixWorld).invert();
                        else
                            this.tmpMatrix4a.getInverse(objThree.parent.matrixWorld);
                    }
                    else {
                        this.tmpMatrix4a.identity();
                    }
                    this.tmpMatrix4a.multiply(this.tmpMatrix4);
                    this.tmpMatrix4a.decompose(objThree.position, objThree.quaternion, objThree.scale);
                }
            }
        }
    }
    detectCollisions() {
        var _a, _b;
        const detectedCollisions = [];
        // reset these vectors
        this.impactPoint.set(0, 0, 0);
        this.impactNormal.set(0, 0, 0);
        const dispatcher = this.physicsWorld.getDispatcher();
        const numManifolds = dispatcher.getNumManifolds();
        // check collisions
        for (let i = 0; i < numManifolds; i++) {
            let contactManifold = dispatcher.getManifoldByIndexInternal(i);
            let numContacts = contactManifold.getNumContacts();
            // @ts-ignore
            const rb0 = Ammo.castObject(contactManifold.getBody0(), Ammo.btRigidBody);
            // @ts-ignore
            const rb1 = Ammo.castObject(contactManifold.getBody1(), Ammo.btRigidBody);
            let threeObject0 = rb0.threeObject;
            let threeObject1 = rb1.threeObject;
            if (!threeObject0 || !threeObject1) {
                continue;
            }
            // do not check collision between 2 unnamed objects
            // (fragments do not have a name, for example)
            if (rb0.name === '' && rb1.name === '')
                continue;
            /**
             * Get some information
             */
            const checkCollisions0 = (_a = threeObject0.body) === null || _a === void 0 ? void 0 : _a.checkCollisions;
            const checkCollisions1 = (_b = threeObject1.body) === null || _b === void 0 ? void 0 : _b.checkCollisions;
            const breakable0 = threeObject0.body.breakable;
            const breakable1 = threeObject1.body.breakable;
            const checkCollisions = checkCollisions0 || checkCollisions1;
            const checkBreakable = breakable0 || breakable1;
            if (!checkCollisions && !checkBreakable)
                continue;
            let contact = false;
            let maxImpulse = 0;
            let event = 'start';
            for (let j = 0; j < numContacts; j++) {
                const contactPoint = contactManifold.getContactPoint(j);
                const distance = contactPoint.getDistance();
                // Distance definition: when the distance between objects is positive, they are separated. When the distance is negative, they are penetrating. Zero distance means exactly touching.
                // https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=5831
                if (distance <= 0) {
                    contact = true;
                    const impulse = contactPoint.getAppliedImpulse();
                    const impactPoint = contactPoint.get_m_positionWorldOnB();
                    const impactNormal = contactPoint.get_m_normalWorldOnB();
                    // handle collision events
                    if (checkCollisions0 || checkCollisions1) {
                        const names = [threeObject0.name, threeObject1.name].sort();
                        const combinedName = `${names[0]}__${names[1]}`;
                        if (this.earlierDetectedCollisions.find(el => el.combinedName === combinedName))
                            event = 'collision';
                        if (!detectedCollisions.find(el => el.combinedName === combinedName)) {
                            detectedCollisions.push({ combinedName, collision: true });
                            this.collisionEvents.emit('collision', { bodies: [threeObject0, threeObject1], event });
                        }
                    }
                    // get impactPoint and impactNormal of the hight impulse point (for breakable objects)
                    if (impulse >= maxImpulse) {
                        maxImpulse = impulse;
                        // get what ween need for the convex breaking
                        if (breakable0 || breakable1) {
                            this.impactPoint.set(impactPoint.x(), impactPoint.y(), impactPoint.z());
                            this.impactNormal.set(impactNormal.x(), impactNormal.y(), impactNormal.z());
                        }
                    }
                    break;
                }
            }
            // if no point has contact, abort
            if (!contact)
                continue;
            // if no objects are breakable, abort
            if (!checkBreakable)
                continue;
            /**
             * check for breakable objects (subdivision)
             */
            const fractureImpulse = 5; //250
            const MAX_FRAGMENT_DEPTH = 2;
            // since the library convexBreaker makes use of three's userData.ammoPhysicsData
            // we have to clone the necessary params to threeObjectX.userData.ammoPhysicsData
            // TODO improve this
            this.emptyV3.set(0, 0, 0);
            threeObject0.userData.ammoPhysicsData = {
                mass: 1,
                velocity: this.emptyV3,
                angularVelocity: this.emptyV3,
                breakable: breakable0,
                physicsBody: rb0
            };
            threeObject1.userData.ammoPhysicsData = {
                mass: 1,
                velocity: this.emptyV3,
                angularVelocity: this.emptyV3,
                breakable: breakable1,
                physicsBody: rb1
            };
            if (typeof threeObject0.fragmentDepth === 'undefined')
                threeObject0.fragmentDepth = 0;
            if (typeof threeObject1.fragmentDepth === 'undefined')
                threeObject1.fragmentDepth = 0;
            // threeObject0
            if (breakable0 && maxImpulse > fractureImpulse && threeObject0.fragmentDepth < MAX_FRAGMENT_DEPTH) {
                const debris = this.convexBreaker.subdivideByImpact(threeObject0, this.impactPoint, this.impactNormal, 1, 2); //, 1.5)
                const numObjects = debris.length;
                for (let j = 0; j < numObjects; j++) {
                    const vel = rb0.getLinearVelocity();
                    const angVel = rb0.getAngularVelocity();
                    const fragment = debris[j];
                    fragment.userData.ammoPhysicsData.velocity.set(vel.x(), vel.y(), vel.z());
                    fragment.userData.ammoPhysicsData.angularVelocity.set(angVel.x(), angVel.y(), angVel.z());
                    this.createDebrisFromBreakableObject(fragment, threeObject0);
                }
                this.objectsToRemove[this.numObjectsToRemove++] = threeObject0;
            }
            // threeObject1
            if (breakable1 && maxImpulse > fractureImpulse && threeObject1.fragmentDepth < MAX_FRAGMENT_DEPTH) {
                const debris = this.convexBreaker.subdivideByImpact(threeObject1, this.impactPoint, this.impactNormal, 1, 2); //, 1.5)
                const numObjects = debris.length;
                for (let j = 0; j < numObjects; j++) {
                    const vel = rb1.getLinearVelocity();
                    const angVel = rb1.getAngularVelocity();
                    const fragment = debris[j];
                    fragment.userData.ammoPhysicsData.velocity.set(vel.x(), vel.y(), vel.z());
                    fragment.userData.ammoPhysicsData.angularVelocity.set(angVel.x(), angVel.y(), angVel.z());
                    this.createDebrisFromBreakableObject(fragment, threeObject1);
                }
                this.objectsToRemove[this.numObjectsToRemove++] = threeObject1;
            }
        }
        // remove objects
        for (let i = 0; i < this.numObjectsToRemove; i++) {
            this.removeDebris(this.objectsToRemove[i]);
        }
        this.numObjectsToRemove = 0;
        // handle collision end events
        this.earlierDetectedCollisions.forEach(el => {
            const { combinedName } = el;
            if (!detectedCollisions.find(el => el.combinedName === combinedName)) {
                const split = combinedName.split('__');
                const obj0 = this.rigidBodies.find(obj => obj.name === split[0]);
                const obj1 = this.rigidBodies.find(obj => obj.name === split[1]);
                const event = 'end';
                if (obj0 && obj1)
                    this.collisionEvents.emit('collision', { bodies: [obj0, obj1], event });
            }
        });
        this.earlierDetectedCollisions = [...detectedCollisions];
    }
    setGravity(x = 0, y = -9.8, z = 0) {
        this.tmpBtVector3.setValue(x, y, z);
        this.physicsWorld.setGravity(this.tmpBtVector3);
    }
    get debug() {
        if (this.isHeadless)
            return null;
        return {
            enable: () => {
                this.debugDrawer.enable();
            },
            mode: (debugMode = 1) => {
                this.debugDrawer.setDebugMode(debugMode);
            },
            disable: () => {
                this.debugDrawer.disable();
            }
        };
    }
    start() {
        if (typeof Ammo === 'undefined') {
            logger_1.default('Are you sure you included ammo.js?');
            return;
        }
        if (typeof Ammo === 'function')
            Ammo().then(() => {
                this.setup();
            });
        else
            this.setup();
    }
    get add() {
        return {
            collider: (object1, object2, eventCallback) => this.collisionEvents.addCollider(object1, object2, eventCallback),
            constraints: this.constraints.addConstraints,
            existing: (object, config) => this.addExisting(object, config),
            plane: (planeConfig = {}, materialConfig = {}) => this.shapes.addPlane(planeConfig, materialConfig),
            sphere: (sphereConfig = {}, materialConfig = {}) => this.shapes.addSphere(sphereConfig, materialConfig),
            ground: (groundConfig = {}, materialConfig = {}) => this.shapes.addGround(groundConfig, materialConfig),
            box: (boxConfig = {}, materialConfig = {}) => this.shapes.addBox(boxConfig, materialConfig),
            cylinder: (cylinderConfig = {}, materialConfig = {}) => this.shapes.addCylinder(cylinderConfig, materialConfig),
            cone: (coneConfig = {}, materialConfig = {}) => this.shapes.addCone(coneConfig, materialConfig),
            torus: (torusConfig = {}, materialConfig = {}) => this.shapes.addTorus(torusConfig, materialConfig),
            extrude: (extrudeConfig, materialConfig = {}) => this.shapes.addExtrude(extrudeConfig, materialConfig),
            /**
             * Creates a new Raycaster
             * @param type Returns only the closes body by default. Can be 'closest' or 'allHits'.
             */
            raycaster: (type = 'closest') => {
                if (type === 'closest')
                    return new raycaster_1.ClosestRaycaster(this);
                else
                    return new raycaster_1.AllHitsRaycaster(this);
            }
        };
    }
    prepareThreeObjectForCollisionShape(object, config = {}) {
        var _a, _b;
        const { autoCenter = false } = config;
        // set default params
        const defaultParams = {
            width: 1,
            height: 1,
            depth: 1,
            radius: 1,
            radiusTop: 1,
            radiusBottom: 1,
            tube: 0.4,
            tubularSegments: 6 // for the torus
        };
        // determine the shape (fallback to hacd)
        let shape = 'unknown';
        // retrieve the shape from the geometry
        const type = ((_a = object.geometry) === null || _a === void 0 ? void 0 : _a.type) || 'unknown';
        if (/box/i.test(type))
            shape = 'box';
        else if (/cone/i.test(type))
            shape = 'cone';
        else if (/cylinder/i.test(type))
            shape = 'cylinder';
        else if (/extrude/i.test(type))
            shape = 'extrude';
        else if (/plane/i.test(type))
            shape = 'plane';
        else if (/sphere/i.test(type))
            shape = 'sphere';
        else if (/torus/i.test(type))
            shape = 'torus';
        // @ts-ignore
        let params = Object.assign(Object.assign({}, defaultParams), (_b = object === null || object === void 0 ? void 0 : object.geometry) === null || _b === void 0 ? void 0 : _b.parameters);
        if (config.shape) {
            params = Object.assign(Object.assign({}, defaultParams), config);
            shape = config.shape;
        }
        else if (object.shape) {
            shape = object.shape;
        }
        // Add all default params if undefined
        Object.keys(params).forEach(key => {
            // @ts-ignore
            if (typeof params[key] === 'undefined' && defaultParams[key]) {
                // @ts-ignore
                params[key] = defaultParams[key];
            }
        });
        // auto adjust the center for custom shapes
        if (autoCenter)
            object.geometry.center();
        // adjust the cylinder radius for its physcis body
        if (shape === 'cylinder')
            params.radius = config.radius || params.radiusTop;
        // some aliases
        if (shape === 'extrude')
            shape = 'hacd';
        if (shape === 'mesh' || shape === 'convex')
            shape = 'convexMesh';
        if (shape === 'concave')
            shape = 'concaveMesh';
        // if we have not found a shape until here, we fallback to 'box'
        if (shape === 'unknown') {
            logger_1.default(`Shape for ${object === null || object === void 0 ? void 0 : object.name} not recognized! Will fallback to box.`);
            shape = 'box';
        }
        return { shape, params, object };
    }
    createCollisionShape(shape, params, object) {
        const quat = (object === null || object === void 0 ? void 0 : object.quaternion) ? object === null || object === void 0 ? void 0 : object.quaternion : new index_1.Quaternion(0, 0, 0, 1);
        const { axis = 'y' } = params;
        const btHalfExtents = new Ammo.btVector3();
        // transform geometry to bufferGeometry (because three-to-ammo works only with bufferGeometry)
        const geometry = object === null || object === void 0 ? void 0 : object.geometry;
        if (object && (geometry === null || geometry === void 0 ? void 0 : geometry.isGeometry)) {
            object.geometry = new index_1.BufferGeometry().fromGeometry(geometry);
        }
        // prepare data to pass to three-to-ammo.js
        const extractData = (object) => {
            const matrixWorld = new index_1.Matrix4().elements;
            const vertices = [];
            const matrices = [];
            const indexes = [];
            three_to_ammo_1.iterateGeometries(object, {}, (vertexArray, matrixArray, indexArray) => {
                vertices.push(vertexArray);
                matrices.push(matrixArray);
                indexes.push(indexArray);
            });
            return { vertices, matrices, indexes, matrixWorld };
        };
        let d = {};
        // extract data for complex shapes generated with three-to-ammo.js
        if (this.complexShapes.indexOf(shape) > 0)
            d = extractData(object);
        let collisionShape;
        switch (shape) {
            case 'box':
                btHalfExtents.setValue(params.width / 2, params.height / 2, params.depth / 2);
                collisionShape = new Ammo.btBoxShape(btHalfExtents);
                break;
            case 'sphere':
                collisionShape = new Ammo.btSphereShape(params.radius);
                break;
            case 'cylinder':
                switch (axis) {
                    case 'y':
                        btHalfExtents.setValue(params.radius, params.height / 2, params.radius);
                        collisionShape = new Ammo.btCylinderShape(btHalfExtents);
                        break;
                    case 'x':
                        btHalfExtents.setValue(params.height / 2, params.radius, params.radius);
                        collisionShape = new Ammo.btCylinderShapeX(btHalfExtents);
                        break;
                    case 'z':
                        btHalfExtents.setValue(params.radius, params.radius, params.height / 2);
                        collisionShape = new Ammo.btCylinderShapeZ(btHalfExtents);
                        break;
                }
                break;
            case 'cone':
                switch (axis) {
                    case 'y':
                        collisionShape = new Ammo.btConeShape(params.radius, params.height);
                        break;
                    case 'x':
                        collisionShape = new Ammo.btConeShapeX(params.radius, params.height);
                        break;
                    case 'z':
                        collisionShape = new Ammo.btConeShapeZ(params.radius, params.height);
                        break;
                }
                break;
            case 'capsule':
                switch (axis) {
                    case 'y':
                        collisionShape = new Ammo.btCapsuleShape(params.radius, params.height);
                        break;
                    case 'x':
                        collisionShape = new Ammo.btCapsuleShapeX(params.radius, params.height);
                        break;
                    case 'z':
                        collisionShape = new Ammo.btCapsuleShapeZ(params.radius, params.height);
                        break;
                }
                break;
            case 'torus':
                collisionShape = torusShape_1.createTorusShape(params, quat);
                break;
            case 'plane':
                // uses a triMeshShape for the plane
                collisionShape = three_to_ammo_1.createTriMeshShape(d.vertices, d.matrices, d.indexes, d.matrixWorld, Object.assign(Object.assign({}, params), { concave: false }));
                break;
            case 'hull':
                collisionShape = three_to_ammo_1.createHullShape(d.vertices, d.matrices, d.matrixWorld, params);
                break;
            case 'hacd':
                collisionShape = three_to_ammo_1.createHACDShapes(d.vertices, d.matrices, d.indexes, d.matrixWorld, params);
                break;
            case 'vhacd':
                collisionShape = three_to_ammo_1.createVHACDShapes(d.vertices, d.matrices, d.indexes, d.matrixWorld, params);
                break;
            case 'convexMesh':
                collisionShape = three_to_ammo_1.createTriMeshShape(d.vertices, d.matrices, d.indexes, d.matrixWorld, Object.assign(Object.assign({}, params), { concave: false }));
                break;
            case 'concaveMesh':
                collisionShape = three_to_ammo_1.createTriMeshShape(d.vertices, d.matrices, d.indexes, d.matrixWorld, Object.assign(Object.assign({}, params), { concave: true }));
                break;
        }
        Ammo.destroy(btHalfExtents);
        // if there is a x, y or z, take is as temporary offset parameter
        const { x, y, z } = params;
        if (x || y || z) {
            // @ts-ignore
            collisionShape.offset = { x: x || 0, y: y || 0, z: z || 0 };
        }
        // in some cases, like hacd, it will be an array of shapes
        // so we merge them
        if (Array.isArray(collisionShape))
            collisionShape = this.mergeCollisionShapesToCompoundShape(collisionShape);
        return collisionShape;
    }
    mergeCollisionShapesToCompoundShape(collisionShapes) {
        const compoundShape = new Ammo.btCompoundShape();
        collisionShapes.forEach(shape => {
            // @ts-ignore
            const { offset } = shape; // offset is a custom parameter
            const transform = new Ammo.btTransform();
            transform.setIdentity();
            if (offset)
                transform.getOrigin().setValue(offset.x || 0, offset.y || 0, offset.z || 0);
            compoundShape.addChildShape(transform, shape);
        });
        return compoundShape;
    }
    addExisting(object, config = {}) {
        const { hasBody } = object;
        if (hasBody) {
            console.warn(`[Enable3d]: Object "${object.name}" already has a physical body!`);
            return;
        }
        const pos = new index_1.Vector3();
        const quat = new index_1.Quaternion();
        const scale = new index_1.Vector3();
        object.getWorldPosition(pos);
        object.getWorldQuaternion(quat);
        object.getWorldScale(scale);
        const isStaticObject = (config.collisionFlags || 0).toString(2).slice(-1) === '1';
        const isKinematicObject = (config.collisionFlags || 0).toString(2).slice(-2, -1) === '1';
        const { shape = 'unknown', compound = [], mass = isStaticObject || isKinematicObject ? 0 : 1, // set default mass of 0 for static objects, and 1 for all other objects
        collisionFlags = 0, collisionGroup = 1, collisionMask = -1, offset = undefined, breakable = false, addChildren = true, margin = 0.01, ignoreScale = false } = config;
        if (ignoreScale)
            scale.set(1, 1, 1);
        if (compound.length >= 1) {
            // if we want a custom compound shape, we simply do
            const collisionShapes = compound.map((s) => this.createCollisionShape(s.shape, s));
            const compoundShape = this.mergeCollisionShapesToCompoundShape(collisionShapes);
            const localTransform = this.finishCollisionShape(compoundShape, pos, quat, scale, margin);
            const rigidBody = this.collisionShapeToRigidBody(compoundShape, localTransform, mass, isKinematicObject);
            this.addRigidBodyToWorld(object, rigidBody, collisionFlags, collisionGroup, collisionMask, breakable, offset);
            object.body.ignoreScale = ignoreScale;
            return;
        }
        const collisionShapes = [];
        // if object is a THREE.Group, object does not have a mesh
        if (shape !== 'unknown' || object.isMesh) {
            const p = this.prepareThreeObjectForCollisionShape(object, config);
            const cs = this.createCollisionShape(p.shape, p.params, p.object);
            collisionShapes.push(cs);
        }
        // check if the object has children
        if (shape === 'unknown' && addChildren && object.children.length >= 1) {
            object.children.forEach((child) => {
                if (child.isMesh) {
                    const p = this.prepareThreeObjectForCollisionShape(child);
                    const cs = this.createCollisionShape(p.shape, p.params, p.object);
                    // @ts-ignore
                    cs.offset = child.position.clone(); // this is relative position to its parent
                    collisionShapes.push(cs);
                }
            });
        }
        // FALLBACK: if we do not have any collisionShapes yet, add a simple box as a fallback
        if (collisionShapes.length === 0) {
            const p = this.prepareThreeObjectForCollisionShape(object, config);
            const cs = this.createCollisionShape(p.shape, p.params, p.object);
            collisionShapes.push(cs);
        }
        const collisionShape = collisionShapes.length === 1 ? collisionShapes[0] : this.mergeCollisionShapesToCompoundShape(collisionShapes);
        // add rigid body
        // object.position.copy(pos)
        // object.quaternion.copy(quat)
        const localTransform = this.finishCollisionShape(collisionShape, pos, quat, scale, margin);
        const rigidBody = this.collisionShapeToRigidBody(collisionShape, localTransform, mass, isKinematicObject);
        this.addRigidBodyToWorld(object, rigidBody, collisionFlags, collisionGroup, collisionMask, breakable, offset);
        object.body.ignoreScale = ignoreScale;
    }
    addRigidBodyToWorld(object, rigidBody, collisionFlags, collisionGroup, collisionMask, breakable, offset) {
        this.rigidBodies.push(object);
        this.physicsWorld.addRigidBody(rigidBody, collisionGroup, collisionMask);
        const ptr = Object.values(rigidBody)[0];
        // @ts-ignore
        rigidBody.name = object.name;
        object.body = new physicsBody_1.default(this, rigidBody);
        object.hasBody = true;
        // @ts-ignore
        object.ptr = ptr;
        // @ts-ignore
        rigidBody.threeObject = object;
        if (breakable)
            object.body.breakable = true;
        if (offset)
            object.body.offset = Object.assign({ x: 0, y: 0, z: 0 }, offset);
        object.body.setCollisionFlags(collisionFlags);
    }
    finishCollisionShape(collisionShape, pos, quat, scale, margin) {
        collisionShape.setMargin(margin);
        const rotation = new Ammo.btQuaternion(0, 0, 0, 1);
        rotation.setValue(quat.x, quat.y, quat.z, quat.w);
        const localTransform = new Ammo.btTransform();
        localTransform.setIdentity();
        localTransform.getOrigin().setValue(pos.x, pos.y, pos.z);
        localTransform.setRotation(rotation);
        Ammo.destroy(rotation);
        const localScale = new Ammo.btVector3(scale.x, scale.y, scale.z);
        collisionShape.setLocalScaling(localScale);
        Ammo.destroy(localScale);
        return localTransform;
    }
    collisionShapeToRigidBody(collisionShape, localTransform, mass, disableDeactivation) {
        const motionState = new Ammo.btDefaultMotionState(localTransform);
        const localInertia = new Ammo.btVector3(0, 0, 0);
        if (mass > 0)
            collisionShape.calculateLocalInertia(mass, localInertia);
        const rbInfo = new Ammo.btRigidBodyConstructionInfo(mass, motionState, collisionShape, localInertia);
        const rigidBody = new Ammo.btRigidBody(rbInfo);
        if (mass > 0 || disableDeactivation)
            rigidBody.setActivationState(4); // Disable deactivation
        return rigidBody;
    }
}
exports.AmmoPhysics = AmmoPhysics;
//# sourceMappingURL=physics.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/allHitsRayResultCallback.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/allHitsRayResultCallback.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
class AllHitsRayResultCallback {
    constructor(physics) {
        this.physics = physics;
    }
    getHitPointsWorld() {
        const h = this._btRayCallback.get_m_hitPointWorld();
        const points = [];
        for (let i = h.size() - 1; i >= 0; i--) {
            const hh = h.at(i);
            points.push({ x: hh.x(), y: hh.y(), z: hh.z() });
        }
        return points;
    }
    // TODO: Remove this in future versions!
    getHitPointWorld() {
        console.warn('[enable3d] Use getHitPointsWorld() instead of getHitPointWorld() for the AllHitsRayCaster!');
        return this.getHitPointsWorld();
    }
    getHitNormalsWorld() {
        const h = this._btRayCallback.get_m_hitNormalWorld();
        const normals = [];
        for (let i = h.size() - 1; i >= 0; i--) {
            const hh = h.at(i);
            normals.push({ x: hh.x(), y: hh.y(), z: hh.z() });
        }
        return normals;
    }
    getCollisionObjects() {
        const threeObjects = [];
        const objects = this._btRayCallback.get_m_collisionObjects();
        for (let i = objects.size() - 1; i >= 0; i--) {
            // @ts-ignore
            const rb = Ammo.castObject(objects.at(i), Ammo.btRigidBody);
            // @ts-ignore
            threeObjects.push(rb.threeObject);
        }
        return threeObjects;
    }
}
exports.default = AllHitsRayResultCallback;
//# sourceMappingURL=allHitsRayResultCallback.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/closestRayResultCallback.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/closestRayResultCallback.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
class ClosestRayResultCallback {
    constructor(physics) {
        this.physics = physics;
    }
    getHitPointWorld() {
        const h = this._btRayCallback.get_m_hitPointWorld();
        const point = { x: h.x(), y: h.y(), z: h.z() };
        return point;
    }
    getHitNormalWorld() {
        const h = this._btRayCallback.get_m_hitNormalWorld();
        const normal = { x: h.x(), y: h.y(), z: h.z() };
        return normal;
    }
    getCollisionObject() {
        // @ts-ignore
        const rb = Ammo.castObject(this._btRayCallback.get_m_collisionObject(), Ammo.btRigidBody);
        // @ts-ignore
        return rb.threeObject;
    }
}
exports.default = ClosestRayResultCallback;
//# sourceMappingURL=closestRayResultCallback.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/raycaster.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/raycaster.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AllHitsRaycaster = exports.ClosestRaycaster = void 0;
const applyMixins_1 = __webpack_require__(/*! @enable3d/common/dist/applyMixins */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/applyMixins.js");
const closestRayResultCallback_1 = __webpack_require__(/*! ./closestRayResultCallback */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/closestRayResultCallback.js");
const allHitsRayResultCallback_1 = __webpack_require__(/*! ./allHitsRayResultCallback */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/raycaster/allHitsRayResultCallback.js");
class Raycaster {
    constructor(physics) {
        this.physics = physics;
    }
    setRayFromWorld(x = 0, y = 0, z = 0) {
        this._btRayFrom.setValue(x, y, z);
    }
    setRayToWorld(x = 0, y = 0, z = 0) {
        this._btRayTo.setValue(x, y, z);
    }
    hasHit() {
        return this._btRayCallback.hasHit();
    }
    rayTest() {
        if (typeof this._btRayCallback !== 'undefined')
            Ammo.destroy(this._btRayCallback);
        this._btRayCallback =
            this.type === 'closest'
                ? new Ammo.ClosestRayResultCallback(this._btRayFrom, this._btRayTo)
                : new Ammo.AllHitsRayResultCallback(this._btRayFrom, this._btRayTo);
        this.physics.physicsWorld.rayTest(this._btRayFrom, this._btRayTo, this._btRayCallback);
    }
    destroy() {
        if (typeof this._btRayFrom !== 'undefined')
            Ammo.destroy(this._btRayFrom);
        if (typeof this._btRayTo !== 'undefined')
            Ammo.destroy(this._btRayTo);
        if (typeof this._btRayCallback !== 'undefined')
            Ammo.destroy(this._btRayCallback);
    }
}
class ClosestRaycaster {
    constructor(physics) {
        this.physics = physics;
        this.type = 'closest';
        this._btRayFrom = new Ammo.btVector3(0, 0, 0);
        this._btRayTo = new Ammo.btVector3(0, 0, 0);
    }
}
exports.ClosestRaycaster = ClosestRaycaster;
class AllHitsRaycaster {
    constructor(physics) {
        this.physics = physics;
        this.type = 'allHits';
        this._btRayFrom = new Ammo.btVector3(0, 0, 0);
        this._btRayTo = new Ammo.btVector3(0, 0, 0);
    }
}
exports.AllHitsRaycaster = AllHitsRaycaster;
applyMixins_1.default(ClosestRaycaster, [Raycaster, closestRayResultCallback_1.default]);
applyMixins_1.default(AllHitsRaycaster, [Raycaster, allHitsRayResultCallback_1.default]);
//# sourceMappingURL=raycaster.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/shapes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/shapes.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
class Shapes {
    constructor(factory, addExisting) {
        this.factory = factory;
        this.addExisting = addExisting;
    }
    addPlane(planeConfig = {}, materialConfig = {}) {
        const plane = this.factory.add.plane(planeConfig, materialConfig);
        this.addExisting(plane, planeConfig);
        return plane;
    }
    addSphere(sphereConfig = {}, materialConfig = {}) {
        const sphere = this.factory.add.sphere(sphereConfig, materialConfig);
        this.addExisting(sphere, sphereConfig);
        return sphere;
    }
    addBox(boxConfig = {}, materialConfig = {}) {
        const box = this.factory.add.box(boxConfig, materialConfig);
        this.addExisting(box, boxConfig);
        return box;
    }
    addGround(groundConfig, materialConfig = {}) {
        const ground = this.factory.add.ground(groundConfig, materialConfig);
        const config = Object.assign(Object.assign({}, groundConfig), { mass: 0, collisionFlags: 1 });
        this.addExisting(ground, config);
        return ground;
    }
    addCylinder(cylinderConfig = {}, materialConfig = {}) {
        const cylinder = this.factory.add.cylinder(cylinderConfig, materialConfig);
        this.addExisting(cylinder, cylinderConfig);
        return cylinder;
    }
    addCone(coneConfig = {}, materialConfig = {}) {
        const cone = this.factory.add.cone(coneConfig, materialConfig);
        this.addExisting(cone, coneConfig);
        return cone;
    }
    addTorus(torusConfig = {}, materialConfig = {}) {
        const torus = this.factory.add.torus(torusConfig, materialConfig);
        this.addExisting(torus, torusConfig);
        return torus;
    }
    addExtrude(extrudeConfig, materialConfig = {}) {
        const object = this.factory.add.extrude(extrudeConfig, materialConfig);
        object.translateX(1);
        this.addExisting(object);
        return object;
    }
}
exports.default = Shapes;
//# sourceMappingURL=shapes.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/three-to-ammo.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/three-to-ammo.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @description  This is a modified version of the original code from Kevin Lee
 * (Includes latest three-to-ammo commit from August 6, 2020)
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.iterateGeometries = exports.createHeightfieldTerrainShape = exports.createTriMeshShape = exports.createVHACDShapes = exports.createHACDShapes = exports.createHullShape = exports.createSphereShape = exports.createConeShape = exports.createCapsuleShape = exports.createCylinderShape = exports.createBoxShape = exports.createCollisionShapes = exports.HEIGHTFIELD_DATA_TYPE = exports.FIT = exports.TYPE = void 0;
/**
 * @author       Kevin Lee (https://github.com/InfiniteLee)
 * @copyright    Copyright (c) 2020 Kevin Lee; Project Url: https://github.com/InfiniteLee/three-to-ammo
 * @license      {@link https://github.com/InfiniteLee/three-to-ammo/blob/master/LICENSE|MPL-2.0}
 */
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
('use strict');
/* global Ammo */
exports.TYPE = {
    BOX: 'box',
    CYLINDER: 'cylinder',
    SPHERE: 'sphere',
    CAPSULE: 'capsule',
    CONE: 'cone',
    HULL: 'hull',
    HACD: 'hacd',
    VHACD: 'vhacd',
    MESH: 'mesh',
    HEIGHTFIELD: 'heightfield'
};
exports.FIT = {
    ALL: 'all',
    MANUAL: 'manual' //A single shape is sized manually. Requires halfExtents or sphereRadius.
};
exports.HEIGHTFIELD_DATA_TYPE = {
    short: 'short',
    float: 'float'
};
const createCollisionShapes = function (vertices, matrices, indexes, matrixWorld, options = {}) {
    switch (options.type) {
        case exports.TYPE.BOX:
            return [exports.createBoxShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.CYLINDER:
            return [exports.createCylinderShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.CAPSULE:
            return [exports.createCapsuleShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.CONE:
            return [exports.createConeShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.SPHERE:
            return [exports.createSphereShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.HULL:
            return [exports.createHullShape(vertices, matrices, matrixWorld, options)];
        case exports.TYPE.HACD:
            return exports.createHACDShapes(vertices, matrices, indexes, matrixWorld, options);
        case exports.TYPE.VHACD:
            return exports.createVHACDShapes(vertices, matrices, indexes, matrixWorld, options);
        case exports.TYPE.MESH:
            return [exports.createTriMeshShape(vertices, matrices, indexes, matrixWorld, options)];
        case exports.TYPE.HEIGHTFIELD:
            return [exports.createHeightfieldTerrainShape(options)];
        default:
            console.warn(options.type + ' is not currently supported');
            return [];
    }
};
exports.createCollisionShapes = createCollisionShapes;
//TODO: support gimpact (dynamic trimesh) and heightmap
const createBoxShape = function (vertices, matrices, matrixWorld, options = {}) {
    options.type = exports.TYPE.BOX;
    _setOptions(options);
    if (options.fit === exports.FIT.ALL) {
        options.halfExtents = _computeHalfExtents(_computeBounds(vertices, matrices), options.minHalfExtent, options.maxHalfExtent);
    }
    const btHalfExtents = new Ammo.btVector3(options.halfExtents.x, options.halfExtents.y, options.halfExtents.z);
    const collisionShape = new Ammo.btBoxShape(btHalfExtents);
    Ammo.destroy(btHalfExtents);
    _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
    return collisionShape;
};
exports.createBoxShape = createBoxShape;
const createCylinderShape = function (vertices, matrices, matrixWorld, options = {}) {
    options.type = exports.TYPE.CYLINDER;
    _setOptions(options);
    if (options.fit === exports.FIT.ALL) {
        options.halfExtents = _computeHalfExtents(_computeBounds(vertices, matrices), options.minHalfExtent, options.maxHalfExtent);
    }
    const btHalfExtents = new Ammo.btVector3(options.halfExtents.x, options.halfExtents.y, options.halfExtents.z);
    const collisionShape = (() => {
        switch (options.cylinderAxis) {
            case 'y':
                return new Ammo.btCylinderShape(btHalfExtents);
            case 'x':
                return new Ammo.btCylinderShapeX(btHalfExtents);
            case 'z':
                return new Ammo.btCylinderShapeZ(btHalfExtents);
        }
        return null;
    })();
    Ammo.destroy(btHalfExtents);
    _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
    return collisionShape;
};
exports.createCylinderShape = createCylinderShape;
const createCapsuleShape = function (vertices, matrices, matrixWorld, options = {}) {
    options.type = exports.TYPE.CAPSULE;
    _setOptions(options);
    if (options.fit === exports.FIT.ALL) {
        options.halfExtents = _computeHalfExtents(_computeBounds(vertices, matrices), options.minHalfExtent, options.maxHalfExtent);
    }
    const { x, y, z } = options.halfExtents;
    const collisionShape = (() => {
        switch (options.cylinderAxis) {
            case 'y':
                return new Ammo.btCapsuleShape(Math.max(x, z), y * 2);
            case 'x':
                return new Ammo.btCapsuleShapeX(Math.max(y, z), x * 2);
            case 'z':
                return new Ammo.btCapsuleShapeZ(Math.max(x, y), z * 2);
        }
        return null;
    })();
    _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
    return collisionShape;
};
exports.createCapsuleShape = createCapsuleShape;
const createConeShape = function (vertices, matrices, matrixWorld, options = {}) {
    options.type = exports.TYPE.CONE;
    _setOptions(options);
    if (options.fit === exports.FIT.ALL) {
        options.halfExtents = _computeHalfExtents(_computeBounds(vertices, matrices), options.minHalfExtent, options.maxHalfExtent);
    }
    const { x, y, z } = options.halfExtents;
    const collisionShape = (() => {
        switch (options.cylinderAxis) {
            case 'y':
                return new Ammo.btConeShape(Math.max(x, z), y * 2);
            case 'x':
                return new Ammo.btConeShapeX(Math.max(y, z), x * 2);
            case 'z':
                return new Ammo.btConeShapeZ(Math.max(x, y), z * 2);
        }
        return null;
    })();
    _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
    return collisionShape;
};
exports.createConeShape = createConeShape;
const createSphereShape = function (vertices, matrices, matrixWorld, options = {}) {
    options.type = exports.TYPE.SPHERE;
    _setOptions(options);
    let radius;
    if (options.fit === exports.FIT.MANUAL && !isNaN(options.sphereRadius)) {
        radius = options.sphereRadius;
    }
    else {
        radius = _computeRadius(vertices, matrices, _computeBounds(vertices, matrices));
    }
    const collisionShape = new Ammo.btSphereShape(radius);
    _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
    return collisionShape;
};
exports.createSphereShape = createSphereShape;
exports.createHullShape = (function () {
    const vertex = new index_1.Vector3();
    const center = new index_1.Vector3();
    const matrix = new index_1.Matrix4();
    return function (vertices, matrices, matrixWorld, options = {}) {
        options.type = exports.TYPE.HULL;
        _setOptions(options);
        if (options.fit === exports.FIT.MANUAL) {
            console.warn('cannot use fit: manual with type: hull');
            return null;
        }
        const bounds = _computeBounds(vertices, matrices);
        const btVertex = new Ammo.btVector3();
        const originalHull = new Ammo.btConvexHullShape();
        originalHull.setMargin(options.margin);
        center.addVectors(bounds.max, bounds.min).multiplyScalar(0.5);
        let vertexCount = 0;
        for (let i = 0; i < vertices.length; i++) {
            vertexCount += vertices[i].length / 3;
        }
        const maxVertices = options.hullMaxVertices || 100000;
        // todo: might want to implement this in a deterministic way that doesn't do O(verts) calls to Math.random
        if (vertexCount > maxVertices) {
            console.warn(`too many vertices for hull shape; sampling ~${maxVertices} from ~${vertexCount} vertices`);
        }
        const p = Math.min(1, maxVertices / vertexCount);
        for (let i = 0; i < vertices.length; i++) {
            const components = vertices[i];
            matrix.fromArray(matrices[i]);
            for (let j = 0; j < components.length; j += 3) {
                const isLastVertex = i === vertices.length - 1 && j === components.length - 3;
                if (Math.random() <= p || isLastVertex) {
                    // always include the last vertex
                    vertex
                        .set(components[j], components[j + 1], components[j + 2])
                        .applyMatrix4(matrix)
                        .sub(center);
                    btVertex.setValue(vertex.x, vertex.y, vertex.z);
                    originalHull.addPoint(btVertex, isLastVertex); // recalc AABB only on last geometry
                }
            }
        }
        let collisionShape = originalHull;
        if (originalHull.getNumVertices() >= 100) {
            //Bullet documentation says don't use convexHulls with 100 verts or more
            const shapeHull = new Ammo.btShapeHull(originalHull);
            shapeHull.buildHull(options.margin);
            Ammo.destroy(originalHull);
            collisionShape = new Ammo.btConvexHullShape(Ammo.getPointer(shapeHull.getVertexPointer()), shapeHull.numVertices());
            Ammo.destroy(shapeHull); // btConvexHullShape makes a copy
        }
        Ammo.destroy(btVertex);
        _finishCollisionShape(collisionShape, options, _computeScale(matrixWorld, options));
        return collisionShape;
    };
})();
exports.createHACDShapes = (function () {
    const vector = new index_1.Vector3();
    const center = new index_1.Vector3();
    const matrix = new index_1.Matrix4();
    return function (vertices, matrices, indexes, matrixWorld, options = {}) {
        options.type = exports.TYPE.HACD;
        _setOptions(options);
        if (options.fit === exports.FIT.MANUAL) {
            console.warn('cannot use fit: manual with type: hacd');
            return [];
        }
        if (!Ammo.hasOwnProperty('HACD')) {
            console.warn('HACD unavailable in included build of Ammo.js. Visit https://github.com/mozillareality/ammo.js for the latest version.');
            return [];
        }
        const bounds = _computeBounds(vertices, matrices);
        const scale = _computeScale(matrixWorld, options);
        let vertexCount = 0;
        let triCount = 0;
        center.addVectors(bounds.max, bounds.min).multiplyScalar(0.5);
        for (let i = 0; i < vertices.length; i++) {
            vertexCount += vertices[i].length / 3;
            if (indexes && indexes[i]) {
                triCount += indexes[i].length / 3;
            }
            else {
                triCount += vertices[i].length / 9;
            }
        }
        const hacd = new Ammo.HACD();
        if (options.hasOwnProperty('compacityWeight'))
            hacd.SetCompacityWeight(options.compacityWeight);
        if (options.hasOwnProperty('volumeWeight'))
            hacd.SetVolumeWeight(options.volumeWeight);
        if (options.hasOwnProperty('nClusters'))
            hacd.SetNClusters(options.nClusters);
        if (options.hasOwnProperty('nVerticesPerCH'))
            hacd.SetNVerticesPerCH(options.nVerticesPerCH);
        if (options.hasOwnProperty('concavity'))
            hacd.SetConcavity(options.concavity);
        const points = Ammo._malloc(vertexCount * 3 * 8);
        const triangles = Ammo._malloc(triCount * 3 * 4);
        hacd.SetPoints(points);
        hacd.SetTriangles(triangles);
        hacd.SetNPoints(vertexCount);
        hacd.SetNTriangles(triCount);
        let pptr = points / 8, tptr = triangles / 4;
        for (let i = 0; i < vertices.length; i++) {
            const components = vertices[i];
            matrix.fromArray(matrices[i]);
            for (let j = 0; j < components.length; j += 3) {
                vector
                    .set(components[j + 0], components[j + 1], components[j + 2])
                    .applyMatrix4(matrix)
                    .sub(center);
                Ammo.HEAPF64[pptr + 0] = vector.x;
                Ammo.HEAPF64[pptr + 1] = vector.y;
                Ammo.HEAPF64[pptr + 2] = vector.z;
                pptr += 3;
            }
            if (indexes[i]) {
                const indices = indexes[i];
                for (let j = 0; j < indices.length; j++) {
                    Ammo.HEAP32[tptr] = indices[j];
                    tptr++;
                }
            }
            else {
                for (let j = 0; j < components.length / 3; j++) {
                    Ammo.HEAP32[tptr] = j;
                    tptr++;
                }
            }
        }
        hacd.Compute();
        Ammo._free(points);
        Ammo._free(triangles);
        const nClusters = hacd.GetNClusters();
        const shapes = [];
        for (let i = 0; i < nClusters; i++) {
            const hull = new Ammo.btConvexHullShape();
            hull.setMargin(options.margin);
            const nPoints = hacd.GetNPointsCH(i);
            const nTriangles = hacd.GetNTrianglesCH(i);
            const hullPoints = Ammo._malloc(nPoints * 3 * 8);
            const hullTriangles = Ammo._malloc(nTriangles * 3 * 4);
            hacd.GetCH(i, hullPoints, hullTriangles);
            const pptr = hullPoints / 8;
            for (let pi = 0; pi < nPoints; pi++) {
                const btVertex = new Ammo.btVector3();
                const px = Ammo.HEAPF64[pptr + pi * 3 + 0];
                const py = Ammo.HEAPF64[pptr + pi * 3 + 1];
                const pz = Ammo.HEAPF64[pptr + pi * 3 + 2];
                btVertex.setValue(px, py, pz);
                hull.addPoint(btVertex, pi === nPoints - 1);
                Ammo.destroy(btVertex);
            }
            _finishCollisionShape(hull, options, scale);
            shapes.push(hull);
        }
        return shapes;
    };
})();
exports.createVHACDShapes = (function () {
    const vector = new index_1.Vector3();
    const center = new index_1.Vector3();
    const matrix = new index_1.Matrix4();
    return function (vertices, matrices, indexes, matrixWorld, options = {}) {
        options.type = exports.TYPE.VHACD;
        _setOptions(options);
        if (options.fit === exports.FIT.MANUAL) {
            console.warn('cannot use fit: manual with type: vhacd');
            return [];
        }
        if (!Ammo.hasOwnProperty('VHACD')) {
            console.warn('VHACD unavailable in included build of Ammo.js. Visit https://github.com/mozillareality/ammo.js for the latest version.');
            return [];
        }
        const bounds = _computeBounds(vertices, matrices);
        const scale = _computeScale(matrixWorld, options);
        let vertexCount = 0;
        let triCount = 0;
        center.addVectors(bounds.max, bounds.min).multiplyScalar(0.5);
        for (let i = 0; i < vertices.length; i++) {
            vertexCount += vertices[i].length / 3;
            if (indexes && indexes[i]) {
                triCount += indexes[i].length / 3;
            }
            else {
                triCount += vertices[i].length / 9;
            }
        }
        const vhacd = new Ammo.VHACD();
        const params = new Ammo.Parameters();
        //https://kmamou.blogspot.com/2014/12/v-hacd-20-parameters-description.html
        if (options.hasOwnProperty('resolution'))
            params.set_m_resolution(options.resolution);
        if (options.hasOwnProperty('depth'))
            params.set_m_depth(options.depth);
        if (options.hasOwnProperty('concavity'))
            params.set_m_concavity(options.concavity);
        if (options.hasOwnProperty('planeDownsampling'))
            params.set_m_planeDownsampling(options.planeDownsampling);
        if (options.hasOwnProperty('convexhullDownsampling'))
            params.set_m_convexhullDownsampling(options.convexhullDownsampling);
        if (options.hasOwnProperty('alpha'))
            params.set_m_alpha(options.alpha);
        if (options.hasOwnProperty('beta'))
            params.set_m_beta(options.beta);
        if (options.hasOwnProperty('gamma'))
            params.set_m_gamma(options.gamma);
        if (options.hasOwnProperty('pca'))
            params.set_m_pca(options.pca);
        if (options.hasOwnProperty('mode'))
            params.set_m_mode(options.mode);
        if (options.hasOwnProperty('maxNumVerticesPerCH'))
            params.set_m_maxNumVerticesPerCH(options.maxNumVerticesPerCH);
        if (options.hasOwnProperty('minVolumePerCH'))
            params.set_m_minVolumePerCH(options.minVolumePerCH);
        if (options.hasOwnProperty('convexhullApproximation'))
            params.set_m_convexhullApproximation(options.convexhullApproximation);
        if (options.hasOwnProperty('oclAcceleration'))
            params.set_m_oclAcceleration(options.oclAcceleration);
        const points = Ammo._malloc(vertexCount * 3 * 8 + 3);
        const triangles = Ammo._malloc(triCount * 3 * 4);
        let pptr = points / 8, tptr = triangles / 4;
        for (let i = 0; i < vertices.length; i++) {
            const components = vertices[i];
            matrix.fromArray(matrices[i]);
            for (let j = 0; j < components.length; j += 3) {
                vector
                    .set(components[j + 0], components[j + 1], components[j + 2])
                    .applyMatrix4(matrix)
                    .sub(center);
                Ammo.HEAPF64[pptr + 0] = vector.x;
                Ammo.HEAPF64[pptr + 1] = vector.y;
                Ammo.HEAPF64[pptr + 2] = vector.z;
                pptr += 3;
            }
            if (indexes[i]) {
                const indices = indexes[i];
                for (let j = 0; j < indices.length; j++) {
                    Ammo.HEAP32[tptr] = indices[j];
                    tptr++;
                }
            }
            else {
                for (let j = 0; j < components.length / 3; j++) {
                    Ammo.HEAP32[tptr] = j;
                    tptr++;
                }
            }
        }
        vhacd.Compute(points, 3, vertexCount, triangles, 3, triCount, params);
        Ammo._free(points);
        Ammo._free(triangles);
        const nHulls = vhacd.GetNConvexHulls();
        const shapes = [];
        const ch = new Ammo.ConvexHull();
        for (let i = 0; i < nHulls; i++) {
            vhacd.GetConvexHull(i, ch);
            const nPoints = ch.get_m_nPoints();
            const hullPoints = ch.get_m_points();
            const hull = new Ammo.btConvexHullShape();
            hull.setMargin(options.margin);
            for (let pi = 0; pi < nPoints; pi++) {
                const btVertex = new Ammo.btVector3();
                const px = ch.get_m_points(pi * 3 + 0);
                const py = ch.get_m_points(pi * 3 + 1);
                const pz = ch.get_m_points(pi * 3 + 2);
                btVertex.setValue(px, py, pz);
                hull.addPoint(btVertex, pi === nPoints - 1);
                Ammo.destroy(btVertex);
            }
            _finishCollisionShape(hull, options, scale);
            shapes.push(hull);
        }
        Ammo.destroy(ch);
        Ammo.destroy(vhacd);
        return shapes;
    };
})();
exports.createTriMeshShape = (function () {
    const va = new index_1.Vector3();
    const vb = new index_1.Vector3();
    const vc = new index_1.Vector3();
    const matrix = new index_1.Matrix4();
    return function (vertices, matrices, indexes, matrixWorld, options = {}) {
        options.type = exports.TYPE.MESH;
        _setOptions(options);
        if (options.fit === exports.FIT.MANUAL) {
            console.warn('cannot use fit: manual with type: mesh');
            return null;
        }
        const scale = _computeScale(matrixWorld, options);
        const bta = new Ammo.btVector3();
        const btb = new Ammo.btVector3();
        const btc = new Ammo.btVector3();
        const triMesh = new Ammo.btTriangleMesh(true, false);
        for (let i = 0; i < vertices.length; i++) {
            const components = vertices[i];
            const index = indexes[i] ? indexes[i] : null;
            matrix.fromArray(matrices[i]);
            if (index) {
                for (let j = 0; j < index.length; j += 3) {
                    const ai = index[j] * 3;
                    const bi = index[j + 1] * 3;
                    const ci = index[j + 2] * 3;
                    va.set(components[ai], components[ai + 1], components[ai + 2]).applyMatrix4(matrix);
                    vb.set(components[bi], components[bi + 1], components[bi + 2]).applyMatrix4(matrix);
                    vc.set(components[ci], components[ci + 1], components[ci + 2]).applyMatrix4(matrix);
                    bta.setValue(va.x, va.y, va.z);
                    btb.setValue(vb.x, vb.y, vb.z);
                    btc.setValue(vc.x, vc.y, vc.z);
                    triMesh.addTriangle(bta, btb, btc, false);
                }
            }
            else {
                for (let j = 0; j < components.length; j += 9) {
                    va.set(components[j + 0], components[j + 1], components[j + 2]).applyMatrix4(matrix);
                    vb.set(components[j + 3], components[j + 4], components[j + 5]).applyMatrix4(matrix);
                    vc.set(components[j + 6], components[j + 7], components[j + 8]).applyMatrix4(matrix);
                    bta.setValue(va.x, va.y, va.z);
                    btb.setValue(vb.x, vb.y, vb.z);
                    btc.setValue(vc.x, vc.y, vc.z);
                    triMesh.addTriangle(bta, btb, btc, false);
                }
            }
        }
        const localScale = new Ammo.btVector3(scale.x, scale.y, scale.z);
        triMesh.setScaling(localScale);
        Ammo.destroy(localScale);
        // MOD (yandeu): Use btConvexTriangleMeshShape for concave shapes
        let collisionShape;
        if (options.concave)
            collisionShape = new Ammo.btBvhTriangleMeshShape(triMesh, true, true);
        else
            collisionShape = new Ammo.btConvexTriangleMeshShape(triMesh, true);
        // const collisionShape = new Ammo.btBvhTriangleMeshShape(triMesh, true, true)
        collisionShape.resources = [triMesh];
        Ammo.destroy(bta);
        Ammo.destroy(btb);
        Ammo.destroy(btc);
        _finishCollisionShape(collisionShape, options);
        return collisionShape;
    };
})();
const createHeightfieldTerrainShape = function (options = {}) {
    _setOptions(options);
    if (options.fit === exports.FIT.ALL) {
        console.warn('cannot use fit: all with type: heightfield');
        return null;
    }
    const heightfieldDistance = options.heightfieldDistance || 1;
    const heightfieldData = options.heightfieldData || [];
    const heightScale = options.heightScale || 0;
    const upAxis = options.hasOwnProperty('upAxis') ? options.upAxis : 1; // x = 0; y = 1; z = 2
    const hdt = (() => {
        switch (options.heightDataType) {
            case 'short':
                return Ammo.PHY_SHORT;
            case 'float':
                return Ammo.PHY_FLOAT;
            default:
                return Ammo.PHY_FLOAT;
        }
    })();
    const flipQuadEdges = options.hasOwnProperty('flipQuadEdges') ? options.flipQuadEdges : true;
    const heightStickLength = heightfieldData.length;
    const heightStickWidth = heightStickLength > 0 ? heightfieldData[0].length : 0;
    const data = Ammo._malloc(heightStickLength * heightStickWidth * 4);
    const ptr = data / 4;
    let minHeight = Number.POSITIVE_INFINITY;
    let maxHeight = Number.NEGATIVE_INFINITY;
    let index = 0;
    for (let l = 0; l < heightStickLength; l++) {
        for (let w = 0; w < heightStickWidth; w++) {
            const height = heightfieldData[l][w];
            Ammo.HEAPF32[ptr + index] = height;
            index++;
            minHeight = Math.min(minHeight, height);
            maxHeight = Math.max(maxHeight, height);
        }
    }
    const collisionShape = new Ammo.btHeightfieldTerrainShape(heightStickWidth, heightStickLength, data, heightScale, minHeight, maxHeight, upAxis, hdt, flipQuadEdges);
    const scale = new Ammo.btVector3(heightfieldDistance, 1, heightfieldDistance);
    collisionShape.setLocalScaling(scale);
    Ammo.destroy(scale);
    collisionShape.heightfieldData = data;
    _finishCollisionShape(collisionShape, options);
    return collisionShape;
};
exports.createHeightfieldTerrainShape = createHeightfieldTerrainShape;
function _setOptions(options) {
    // MOD (yandeu): All of this will be done in physics.ts
    // we only keep type and margin
    options.type = options.type || exports.TYPE.HULL;
    options.margin = options.hasOwnProperty('margin') ? options.margin : 0.01;
    return;
    options.fit = options.hasOwnProperty('fit') ? options.fit : exports.FIT.ALL;
    options.type = options.type || exports.TYPE.HULL;
    options.minHalfExtent = options.hasOwnProperty('minHalfExtent') ? options.minHalfExtent : 0;
    options.maxHalfExtent = options.hasOwnProperty('maxHalfExtent') ? options.maxHalfExtent : Number.POSITIVE_INFINITY;
    options.cylinderAxis = options.cylinderAxis || 'y';
    options.margin = options.hasOwnProperty('margin') ? options.margin : 0.01;
    options.includeInvisible = options.hasOwnProperty('includeInvisible') ? options.includeInvisible : false;
    if (!options.offset) {
        options.offset = new index_1.Vector3();
    }
    if (!options.orientation) {
        options.orientation = new index_1.Quaternion();
    }
}
const _finishCollisionShape = function (collisionShape, options, scale) {
    // MOD (yandeu): All of this will be done in physics.ts
    return;
    collisionShape.type = options.type;
    collisionShape.setMargin(options.margin);
    collisionShape.destroy = () => {
        for (let res of collisionShape.resources || []) {
            Ammo.destroy(res);
        }
        if (collisionShape.heightfieldData) {
            Ammo._free(collisionShape.heightfieldData);
        }
        Ammo.destroy(collisionShape);
    };
    const localTransform = new Ammo.btTransform();
    const rotation = new Ammo.btQuaternion();
    localTransform.setIdentity();
    localTransform.getOrigin().setValue(options.offset.x, options.offset.y, options.offset.z);
    rotation.setValue(options.orientation.x, options.orientation.y, options.orientation.z, options.orientation.w);
    localTransform.setRotation(rotation);
    Ammo.destroy(rotation);
    if (scale) {
        const localScale = new Ammo.btVector3(scale.x, scale.y, scale.z);
        collisionShape.setLocalScaling(localScale);
        Ammo.destroy(localScale);
    }
    collisionShape.localTransform = localTransform;
};
exports.iterateGeometries = (function () {
    const inverse = new index_1.Matrix4();
    return function (root, options, cb) {
        // MOD (yandeu): Update to three.js r123
        // compatibility fix for three.js >= r123 (Dezember 2020)
        if (+index_1.REVISION >= 123)
            inverse.copy(root.matrixWorld).invert();
        else
            inverse.getInverse(root.matrixWorld);
        const scale = new index_1.Vector3();
        scale.setFromMatrixScale(root.matrixWorld);
        root.traverse(mesh => {
            const transform = new index_1.Matrix4();
            if (mesh.isMesh &&
                // MOD (yandeu): No need to check if name is 'Sky'
                // mesh.name !== 'Sky' &&
                (options.includeInvisible || (mesh.el && mesh.el.object3D.visible) || mesh.visible)) {
                if (mesh === root) {
                    transform.identity();
                }
                else {
                    mesh.updateWorldMatrix(true);
                    transform.multiplyMatrices(inverse, mesh.matrixWorld);
                }
                // todo: might want to return null xform if this is the root so that callers can avoid multiplying
                // things by the identity matrix
                cb(mesh.geometry.isBufferGeometry ? mesh.geometry.attributes.position.array : mesh.geometry.vertices, transform.elements, mesh.geometry.index ? mesh.geometry.index.array : null);
            }
        });
    };
})();
const _computeScale = (function () {
    const matrix = new index_1.Matrix4();
    return function (matrixWorld, options = {}) {
        const scale = new index_1.Vector3(1, 1, 1);
        if (options.fit === exports.FIT.ALL) {
            matrix.fromArray(matrixWorld);
            scale.setFromMatrixScale(matrix);
        }
        return scale;
    };
})();
const _computeRadius = (function () {
    const center = new index_1.Vector3();
    return function (vertices, matrices, bounds) {
        let maxRadiusSq = 0;
        let { x: cx, y: cy, z: cz } = bounds.getCenter(center);
        _iterateVertices(vertices, matrices, v => {
            const dx = cx - v.x;
            const dy = cy - v.y;
            const dz = cz - v.z;
            maxRadiusSq = Math.max(maxRadiusSq, dx * dx + dy * dy + dz * dz);
        });
        return Math.sqrt(maxRadiusSq);
    };
})();
const _computeHalfExtents = function (bounds, minHalfExtent, maxHalfExtent) {
    const halfExtents = new index_1.Vector3();
    return halfExtents.subVectors(bounds.max, bounds.min).multiplyScalar(0.5).clampScalar(minHalfExtent, maxHalfExtent);
};
const _computeLocalOffset = function (matrix, bounds, target) {
    target.addVectors(bounds.max, bounds.min).multiplyScalar(0.5).applyMatrix4(matrix);
    return target;
};
// returns the bounding box for the geometries underneath `root`.
const _computeBounds = function (vertices, matrices) {
    const bounds = new index_1.Box3();
    let minX = +Infinity;
    let minY = +Infinity;
    let minZ = +Infinity;
    let maxX = -Infinity;
    let maxY = -Infinity;
    let maxZ = -Infinity;
    bounds.min.set(0, 0, 0);
    bounds.max.set(0, 0, 0);
    _iterateVertices(vertices, matrices, v => {
        if (v.x < minX)
            minX = v.x;
        if (v.y < minY)
            minY = v.y;
        if (v.z < minZ)
            minZ = v.z;
        if (v.x > maxX)
            maxX = v.x;
        if (v.y > maxY)
            maxY = v.y;
        if (v.z > maxZ)
            maxZ = v.z;
    });
    bounds.min.set(minX, minY, minZ);
    bounds.max.set(maxX, maxY, maxZ);
    return bounds;
};
const _iterateVertices = (function () {
    const vertex = new index_1.Vector3();
    const matrix = new index_1.Matrix4();
    return function (vertices, matrices, cb) {
        for (let i = 0; i < vertices.length; i++) {
            matrix.fromArray(matrices[i]);
            for (let j = 0; j < vertices[i].length; j += 3) {
                vertex.set(vertices[i][j], vertices[i][j + 1], vertices[i][j + 2]).applyMatrix4(matrix);
                cb(vertex);
            }
        }
    };
})();
//# sourceMappingURL=three-to-ammo.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/torusShape.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/torusShape.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createTorusShape = void 0;
// https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=7228
const createTorusShape = (config, quat) => {
    const { radius = 1, tube = 0.4, tubularSegments = 8 } = config;
    const SIMD_PI = Math.PI;
    const subdivisions = tubularSegments;
    const gap = Math.sqrt(2.0 * tube * tube - 2.0 * tube * tube * Math.cos((2.0 * SIMD_PI) / subdivisions));
    const btHalfExtents = new Ammo.btVector3(tube, SIMD_PI / subdivisions + 0.5 * gap, tube);
    const cylinderShape = new Ammo.btCylinderShape(btHalfExtents);
    cylinderShape.setMargin(0.05);
    const compoundShape = new Ammo.btCompoundShape();
    const forward = new Ammo.btVector3(0, 0, 1);
    const side = new Ammo.btVector3(0, radius, 0);
    const rotation = new Ammo.btQuaternion(quat.x, quat.y, quat.z, quat.w);
    for (let x = 0; x < subdivisions; x++) {
        const angle = (x * 2.0 * SIMD_PI) / subdivisions;
        const position = side.rotate(forward, angle);
        const transform = new Ammo.btTransform();
        rotation.setRotation(forward, angle + Math.PI / 2);
        transform.setIdentity();
        transform.setOrigin(position);
        transform.setRotation(rotation);
        compoundShape.addChildShape(transform, cylinderShape);
    }
    return compoundShape;
};
exports.createTorusShape = createTorusShape;
//# sourceMappingURL=torusShape.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/applyMixins.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/applyMixins.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
// https://www.typescriptlang.org/docs/handbook/mixins.html
const applyMixins = (derivedCtor, baseCtors) => {
    baseCtors.forEach(baseCtor => {
        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {
            // @ts-ignore
            Object.defineProperty(derivedCtor.prototype, name, Object.getOwnPropertyDescriptor(baseCtor.prototype, name));
        });
    });
};
exports.default = applyMixins;
//# sourceMappingURL=applyMixins.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/defaultMaterial.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/defaultMaterial.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class DefaultMaterial {
    constructor() {
        this._defaultMaterial = new index_1.MeshLambertMaterial({ color: 0xcccccc });
    }
    get() {
        return this._defaultMaterial;
    }
}
exports.default = DefaultMaterial;
//# sourceMappingURL=defaultMaterial.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedGroup.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedGroup.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExtendedGroup = void 0;
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class ExtendedGroup extends index_1.Group {
    constructor() {
        super();
        this.isMesh = false;
        this.hasBody = false;
        this.name = `object-${this.id}`;
    }
}
exports.ExtendedGroup = ExtendedGroup;
//# sourceMappingURL=extendedGroup.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExtendedMesh = void 0;
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class ExtendedMesh extends index_1.Mesh {
    constructor(geometry, material) {
        super(geometry, material);
        this.vector3 = new index_1.Vector3();
        this.isGroup = false;
        this.hasBody = false;
        this.name = `object-${this.id}`;
    }
    /** Returns all values relative to the world. */
    get world() {
        return {
            theta: this.worldTheta,
            phi: this.worldPhi
        };
    }
    /** Get the theta relative to the world. */
    get worldTheta() {
        this.getWorldDirection(this.vector3);
        return Math.atan2(this.vector3.x, this.vector3.z);
    }
    /** Get the phi relative to the world. */
    get worldPhi() {
        this.getWorldDirection(this.vector3);
        return Math.acos(this.vector3.y);
    }
}
exports.ExtendedMesh = ExtendedMesh;
//# sourceMappingURL=extendedMesh.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedObject3D.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedObject3D.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExtendedObject3D = void 0;
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
/**
 * Extends the Object3D class from THREE.js and implements properties from Line, Mesh and Points.
 */
class ExtendedObject3D extends index_1.Object3D {
    constructor() {
        super();
        this.vector3 = new index_1.Vector3();
        this.isGroup = false;
        this.hasBody = false;
        this.anims = {}; // deprecated
        this._currentAnimation = '';
        this._animationActions = new Map();
        this.name = `object-${this.id}`;
    }
    /** setAction(name) is deprecated. Use animation.play(name) instead! */
    setAction(name) {
        console.warn('[enable3d] setAction(name) is deprecated. Use animation.play(name) instead!');
        this.animationPlay(name);
    }
    /** Returns all values relative to the world. */
    get world() {
        return {
            theta: this.worldTheta,
            phi: this.worldPhi
        };
    }
    /** Get the theta relative to the world. */
    get worldTheta() {
        this.getWorldDirection(this.vector3);
        return Math.atan2(this.vector3.x, this.vector3.z);
    }
    /** Get the phi relative to the world. */
    get worldPhi() {
        this.getWorldDirection(this.vector3);
        return Math.acos(this.vector3.y);
    }
    get animation() {
        return {
            current: this._currentAnimation,
            add: (key, animation) => this.animationAdd(key, animation),
            play: (name, transitionDuration = 500, loop = true) => this.animationPlay(name, transitionDuration, loop),
            mixer: this.animationMixer
        };
    }
    set animationMixer(animationMixer) {
        this._animationMixer = animationMixer;
    }
    get animationMixer() {
        if (!this._animationMixer)
            this._animationMixer = new index_1.AnimationMixer(this);
        return this._animationMixer;
    }
    animationAdd(key, animation) {
        this._animationActions.set(key, this.animationMixer.clipAction(animation));
    }
    animationPlay(name, transitionDuration = 500, loop = true) {
        const next = this._animationActions.get(name);
        const current = this._animationActions.get(this._currentAnimation);
        if (next) {
            next.reset();
            if (current) {
                next.crossFadeFrom(current, transitionDuration / 1000, true);
                next.clampWhenFinished = true;
            }
            if (!loop)
                next.setLoop(index_1.LoopOnce, 0);
            next.play();
        }
        this._currentAnimation = name;
    }
}
exports.ExtendedObject3D = ExtendedObject3D;
exports.default = ExtendedObject3D;
//# sourceMappingURL=extendedObject3D.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/factories.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/factories.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const extendedMesh_1 = __webpack_require__(/*! ./extendedMesh */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js");
const logger_1 = __webpack_require__(/*! ./logger */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js");
const defaultMaterial_1 = __webpack_require__(/*! ./defaultMaterial */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/defaultMaterial.js");
class Factories {
    constructor(scene) {
        this.scene = scene;
        this.isHeadless = scene === 'headless' ? true : false;
        this.defaultMaterial = new defaultMaterial_1.default();
    }
    get make() {
        return {
            plane: (planeConfig = {}, materialConfig = {}) => this.makePlane(planeConfig, materialConfig),
            box: (boxConfig = {}, materialConfig = {}) => this.makeBox(boxConfig, materialConfig),
            sphere: (sphereConfig = {}, materialConfig = {}) => this.makeSphere(sphereConfig, materialConfig),
            cylinder: (cylinderConfig = {}, materialConfig = {}) => this.makeCylinder(cylinderConfig, materialConfig),
            cone: (coneConfig = {}, materialConfig = {}) => this.makeCone(coneConfig, materialConfig),
            torus: (torusConfig = {}, materialConfig = {}) => this.makeTorus(torusConfig, materialConfig),
            extrude: (extrudeConfig, materialConfig = {}) => this.makeExtrude(extrudeConfig, materialConfig)
        };
    }
    get add() {
        return {
            // effectComposer: () => this.addEffectComposer(),
            mesh: (mesh) => this.addMesh(mesh),
            // group: (...children) => this.addGroup(children),
            existing: (object) => this.addExisting(object),
            //  Geometry
            plane: (planeConfig = {}, materialConfig = {}) => this.addPlane(planeConfig, materialConfig),
            box: (boxConfig = {}, materialConfig = {}) => this.addBox(boxConfig, materialConfig),
            ground: (groundConfig, materialConfig = {}) => this.addGround(groundConfig, materialConfig),
            //...
            sphere: (sphereConfig = {}, materialConfig = {}) => this.addSphere(sphereConfig, materialConfig),
            cylinder: (cylinderConfig = {}, materialConfig = {}) => this.addCylinder(cylinderConfig, materialConfig),
            cone: (coneConfig = {}, materialConfig = {}) => this.addCone(coneConfig, materialConfig),
            torus: (torusConfig = {}, materialConfig = {}) => this.addTorus(torusConfig, materialConfig),
            extrude: (extrudeConfig, materialConfig = {}) => this.addExtrude(extrudeConfig, materialConfig),
            //...
            material: (materialConfig = {}) => this.addMaterial(materialConfig)
        };
    }
    addExisting(...object) {
        if (this.scene === 'headless')
            return;
        this.scene.add(...object);
    }
    addMesh(mesh) {
        if (Array.isArray(mesh)) {
            for (let i = 0; i < mesh.length; i++) {
                this.addExisting(mesh[i]);
            }
        }
        else {
            this.addExisting(mesh);
        }
        return this;
    }
    createMesh(geometry, material, position) {
        const { x = 0, y = 0, z = 0 } = position;
        let obj;
        switch (!Array.isArray(material) && material.type) {
            case 'LineBasicMaterial':
                obj = new index_1.Line(geometry, material);
                break;
            case 'PointsMaterial':
                obj = new index_1.Points(geometry, material);
                break;
            default:
                obj = new extendedMesh_1.ExtendedMesh(geometry, material);
                break;
        }
        obj.position.set(x, y, z);
        obj.castShadow = obj.receiveShadow = true;
        return obj;
    }
    makeExtrude(extrudeConfig, materialConfig) {
        const { x, y, z, name, shape, autoCenter = true, breakable = false, bufferGeometry = true } = extrudeConfig, rest = __rest(extrudeConfig
        // @ts-ignore // ExtrudeGeometryOptions interface missing since three.js r121
        , ["x", "y", "z", "name", "shape", "autoCenter", "breakable", "bufferGeometry"]);
        // @ts-ignore // ExtrudeGeometryOptions interface missing since three.js r121
        const { depth = 1, bevelEnabled = false } = rest;
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.ExtrudeBufferGeometry(shape, Object.assign({ depth, bevelEnabled }, rest))
            : new index_1.ExtrudeGeometry(shape, Object.assign({ depth, bevelEnabled }, rest));
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        // auto adjust the center for custom shapes
        if (autoCenter)
            mesh.geometry.center();
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'extrude';
        return mesh;
    }
    addExtrude(extrudeConfig, materialConfig = {}) {
        const obj = this.makeExtrude(extrudeConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    makePlane(planeConfig, materialConfig) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = planeConfig, rest = __rest(planeConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.PlaneBufferGeometry(rest.width || 1, rest.height || 1, rest.widthSegments || 1, rest.heightSegments || 1)
            : new index_1.PlaneGeometry(rest.width || 1, rest.height || 1, rest.widthSegments || 1, rest.heightSegments || 1);
        const material = this.addMaterial(materialConfig);
        material.side = index_1.DoubleSide;
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'plane';
        return mesh;
    }
    addPlane(planeConfig, materialConfig) {
        const obj = this.makePlane(planeConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    makeSphere(sphereConfig, materialConfig) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = sphereConfig, rest = __rest(sphereConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.SphereBufferGeometry(rest.radius || 1, rest.widthSegments || 16, rest.heightSegments || 12, rest.phiStart || undefined, rest.phiLength || undefined, rest.thetaStart || undefined, rest.thetaLength || undefined)
            : new index_1.SphereGeometry(rest.radius || 1, rest.widthSegments || 16, rest.heightSegments || 12, rest.phiStart || undefined, rest.phiLength || undefined, rest.thetaStart || undefined, rest.thetaLength || undefined);
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'sphere';
        return mesh;
    }
    addSphere(sphereConfig = {}, materialConfig = {}) {
        const obj = this.makeSphere(sphereConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    makeBox(boxConfig, materialConfig) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = boxConfig, rest = __rest(boxConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.BoxBufferGeometry(rest.width || 1, rest.height || 1, rest.depth || 1, rest.widthSegments || undefined, rest.heightSegments || undefined, rest.depthSegments || undefined)
            : new index_1.BoxGeometry(rest.width || 1, rest.height || 1, rest.depth || 1, rest.widthSegments || undefined, rest.heightSegments || undefined, rest.depthSegments || undefined);
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'box';
        return mesh;
    }
    addBox(boxConfig = {}, materialConfig = {}) {
        const obj = this.makeBox(boxConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    addGround(groundConfig, materialConfig = {}) {
        const obj = this.makeBox(groundConfig, materialConfig);
        obj.rotateX(index_1.MathUtils.degToRad(90));
        this.addExisting(obj);
        return obj;
    }
    makeCylinder(cylinderConfig = {}, materialConfig = {}) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = cylinderConfig, rest = __rest(cylinderConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.CylinderBufferGeometry(rest.radiusTop || 1, rest.radiusBottom || 1, rest.height || 1, rest.radiusSegments || undefined, rest.heightSegments || undefined, rest.openEnded || undefined, rest.thetaStart || undefined, rest.thetaLength || undefined)
            : new index_1.CylinderGeometry(rest.radiusTop || 1, rest.radiusBottom || 1, rest.height || 1, rest.radiusSegments || undefined, rest.heightSegments || undefined, rest.openEnded || undefined, rest.thetaStart || undefined, rest.thetaLength || undefined);
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'cylinder';
        return mesh;
    }
    addCylinder(cylinderConfig = {}, materialConfig = {}) {
        const obj = this.makeCylinder(cylinderConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    makeCone(coneConfig = {}, materialConfig = {}) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = coneConfig, rest = __rest(coneConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.ConeBufferGeometry(rest.radius || 1, rest.height || 1, rest.radiusSegments || 8, rest.heightSegments || 1, rest.openEnded || false, rest.thetaStart || 0, rest.thetaLength || 2 * Math.PI)
            : new index_1.ConeBufferGeometry(rest.radius || 1, rest.height || 1, rest.radiusSegments || 8, rest.heightSegments || 1, rest.openEnded || false, rest.thetaStart || 0, rest.thetaLength || 2 * Math.PI);
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'cone';
        return mesh;
    }
    addCone(coneConfig = {}, materialConfig = {}) {
        const obj = this.makeCone(coneConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    // https://threejs.org/docs/index.html#api/en/geometries/TorusBufferGeometry
    makeTorus(torusConfig = {}, materialConfig = {}) {
        const { x, y, z, name, breakable = false, bufferGeometry = true } = torusConfig, rest = __rest(torusConfig, ["x", "y", "z", "name", "breakable", "bufferGeometry"]);
        const geometry = bufferGeometry || breakable || this.isHeadless
            ? new index_1.TorusBufferGeometry(rest.radius || undefined, rest.tube || undefined, rest.radialSegments || undefined, rest.tubularSegments || undefined, rest.arc || undefined)
            : new index_1.TorusGeometry(rest.radius || undefined, rest.tube || undefined, rest.radialSegments || undefined, rest.tubularSegments || undefined, rest.arc || undefined);
        const material = this.addMaterial(materialConfig);
        const mesh = this.createMesh(geometry, material, { x, y, z });
        mesh.name = name || `body_id_${mesh.id}`;
        mesh.shape = 'torus';
        return mesh;
    }
    addTorus(torusConfig = {}, materialConfig = {}) {
        const obj = this.makeTorus(torusConfig, materialConfig);
        this.addExisting(obj);
        return obj;
    }
    addMaterial(materialConfig = {}) {
        const type = Object.keys(materialConfig)[0];
        let material;
        // if (type) {
        //   const { map } = materialConfig[type]
        //   if (typeof map === 'string') materialConfig[type].map = this.loadTexture(map)
        // }
        // always share the same material in headless mode to save memory
        if (this.scene === 'headless')
            return this.defaultMaterial.get();
        switch (type) {
            case 'basic':
                material = new index_1.MeshBasicMaterial(materialConfig.basic);
                break;
            case 'normal':
                material = new index_1.MeshNormalMaterial(materialConfig.normal);
                break;
            case 'standard':
                material = new index_1.MeshStandardMaterial(materialConfig.standard);
                break;
            case 'lambert':
                material = new index_1.MeshLambertMaterial(materialConfig.lambert);
                break;
            case 'phong':
                material = new index_1.MeshPhongMaterial(materialConfig.phong);
                break;
            case 'physical':
                if (typeof materialConfig.physical !== 'undefined') {
                    material = new index_1.MeshPhysicalMaterial(materialConfig.physical);
                }
                else {
                    logger_1.default('You need to pass parameters to the physical material. (Fallback to default material)');
                    material = this.defaultMaterial.get();
                }
                break;
            case 'toon':
                material = new index_1.MeshToonMaterial(materialConfig.toon);
                break;
            case 'line':
                material = new index_1.LineBasicMaterial(materialConfig.line);
                break;
            case 'points':
                material = new index_1.PointsMaterial(materialConfig.points);
                break;
            case 'custom':
                material = materialConfig.custom || this.defaultMaterial.get();
                break;
            default:
                material = this.defaultMaterial.get();
                break;
        }
        return material;
    }
}
exports.default = Factories;
//# sourceMappingURL=factories.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js":
/*!****************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const logger = (msg) => {
    console.error(`%c [enable3d] ${msg} `, 'background: #222; color: #bada55');
};
exports.default = logger;
//# sourceMappingURL=logger.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/firstPersonControls.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/firstPersonControls.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @description  This code has originally been copied from Sketchbook
 *
 * @author       swift502 <blaha.j502@gmail.com> (http://jblaha.art/)
 * @copyright    Copyright (c) 2018 swift502; Project Url: https://github.com/swift502/Sketchbook
 * @license      {@link https://github.com/swift502/Sketchbook/blob/master/LICENSE|GPL-3.0}
 *
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FirstPersonControls = void 0;
const dist_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class FirstPersonControls {
    constructor(camera, target, config) {
        this.camera = camera;
        this.target = target;
        this.config = config;
        const { offset = new dist_1.Vector3(0, 0, 0), sensitivity = new dist_1.Vector2(1, 1), radius = 8, targetRadius = 10, interpolationFactor = 0.05, pointerLock = true, autoUpdate = true } = config;
        this.offset = offset;
        this.sensitivity = sensitivity;
        this.radius = radius;
        this.targetRadius = targetRadius;
        this.interpolationFactor = interpolationFactor;
        this.theta = 0;
        this.phi = 0;
        // if (pointerLock) {
        //   scene.input.on('pointerdown', () => {
        //     scene.input.mouse.requestPointerLock()
        //   })
        //   scene.input.on('pointermove', (pointer: PointerEvent) => {
        //     if (scene.input.mouse.locked) {
        //       this.update(pointer.movementX, pointer.movementY)
        //     }
        //   })
        // }
        // if (autoUpdate) {
        //   scene.events.on('update', () => {
        //     this.update(0, 0)
        //   })
        // }
    }
    update(deltaX, deltaY) {
        const center = this.target.position.clone().add(this.offset);
        this.camera.position.copy(center);
        this.theta -= deltaX * (this.sensitivity.x / 2);
        this.theta %= 360;
        this.phi += deltaY * (-this.sensitivity.y / 2);
        this.phi = Math.min(85, Math.max(-85, this.phi));
        const lookAt = new dist_1.Vector3();
        lookAt.x = center.x + this.radius * Math.sin((this.theta * Math.PI) / 180) * Math.cos((this.phi * Math.PI) / 180);
        lookAt.y = center.y + this.radius * Math.sin((this.phi * Math.PI) / 180);
        lookAt.z = center.z + this.radius * Math.cos((this.theta * Math.PI) / 180) * Math.cos((this.phi * Math.PI) / 180);
        this.camera.updateMatrix();
        this.camera.lookAt(lookAt);
    }
}
exports.FirstPersonControls = FirstPersonControls;
//# sourceMappingURL=firstPersonControls.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/joystick.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/joystick.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JoyStick = void 0;
const eventemitter3_1 = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
// This class is based on a file I found online called toon3d.js
// Unfortunately I could not find its license or author.
// I just ported it to TypeScript and improved the code.
class JoyStick extends eventemitter3_1.EventEmitter {
    constructor() {
        super(...arguments);
        this.id = -1;
    }
    get add() {
        return {
            axis: (config = {}) => this.addAxis(config),
            button: (config = {}) => this.addButton(config)
        };
    }
    addAxis(config = {}) {
        this.id++;
        const { styles = { left: 35, bottom: 35, size: 100 } } = config;
        const circle = this.circle({ styles });
        const thumb = this.thumb({ styles });
        circle.appendChild(thumb);
        document.body.appendChild(circle);
        const { maxRadius = 40, rotationDamping = 0.06, moveDamping = 0.01 } = config;
        // element
        const element = {
            id: this.id,
            domElement: thumb,
            maxRadius: maxRadius,
            maxRadiusSquared: maxRadius * maxRadius,
            origin: { left: thumb.offsetLeft, top: thumb.offsetTop },
            offset: { x: 0, y: 0 },
            rotationDamping: rotationDamping,
            moveDamping: moveDamping
        };
        if (element === null || element === void 0 ? void 0 : element.domElement) {
            const { domElement } = element;
            if ('ontouchstart' in window) {
                domElement.addEventListener('touchstart', evt => {
                    evt.preventDefault();
                    this.tap(evt, element);
                    evt.stopPropagation();
                });
            }
            else {
                domElement.addEventListener('mousedown', evt => {
                    evt.preventDefault();
                    this.tap(evt, element);
                    evt.stopPropagation();
                });
            }
        }
        return {
            onMove: (event) => {
                this.on(`axis_onmove_${element.id}`, delta => {
                    event(delta);
                });
            }
        };
    }
    addButton(config = {}) {
        this.id++;
        const { styles = { right: 35, bottom: 35, size: 80 }, letter: l = 'A' } = config;
        const circle = this.circle({ styles });
        const letter = this.letter({ letter: l });
        circle.appendChild(letter);
        document.body.appendChild(circle);
        // element
        const element = {
            id: this.id,
            domElement: circle,
            offset: { x: 0, y: 0 }
        };
        if (element === null || element === void 0 ? void 0 : element.domElement) {
            this.click(element);
        }
        return {
            onClick: (event) => {
                this.on(`button_onclick_${element.id}`, data => {
                    event(data);
                });
            },
            onRelease: (event) => {
                this.on(`button_onrelease_${element.id}`, data => {
                    event(data);
                });
            }
        };
    }
    circle(config = {}) {
        const { styles } = config;
        const { top, right, bottom, left, size } = styles;
        const circle = document.createElement('div');
        let css = `position:absolute; width:${size}px; height:${size}px; background:rgba(126, 126, 126, 0.5); border:#444 solid medium; border-radius:50%; cursor: pointer; `;
        if (top)
            css += `top:${top}px; `;
        if (right)
            css += `right:${right}px; `;
        if (bottom)
            css += `bottom:${bottom}px; `;
        if (left)
            css += `left:${left}px; `;
        circle.style.cssText = css;
        return circle;
    }
    thumb(config = {}) {
        const { styles } = config;
        const { size } = styles;
        const thumb = document.createElement('div');
        thumb.style.cssText = `position: absolute; left: ${size / 4}px; top: ${size / 4}px; width: ${size / 2}px; height: ${size / 2}px; border-radius: 50%; background: #fff; `;
        return thumb;
    }
    letter(config = {}) {
        const { letter: l } = config;
        const letter = document.createElement('span');
        letter.innerText = l;
        letter.style.cssText =
            'position: absolute; text-align: center; top: 4px; width: 80px; height: 80px; font-size: 64px; color: #fff; ';
        return letter;
    }
    click(element) {
        const { id, domElement } = element;
        if ('ontouchstart' in window) {
            domElement.addEventListener('touchstart', evt => {
                evt.preventDefault();
                this.emit(`button_onclick_${id}`);
            });
            domElement.addEventListener('touchend', evt => {
                evt.preventDefault();
                this.emit(`button_onrelease_${id}`);
            });
        }
        else {
            domElement.addEventListener('mousedown', evt => {
                evt.preventDefault();
                this.emit(`button_onclick_${id}`);
                evt.stopPropagation();
            });
            domElement.addEventListener('mouseup', evt => {
                evt.preventDefault();
                this.emit(`button_onrelease_${id}`);
                evt.stopPropagation();
            });
        }
    }
    tap(evt, element) {
        evt = evt || window.event;
        // get the mouse cursor position at startup:
        element.offset = this.getMousePosition(evt);
        if ('ontouchstart' in window) {
            document.ontouchmove = evt => {
                if (evt.target === element.domElement)
                    this.move(evt, element);
            };
            document.ontouchend = evt => {
                if (evt.target === element.domElement)
                    this.up(element);
            };
        }
        else {
            document.onmousemove = evt => {
                if (evt.target === element.domElement)
                    this.move(evt, element);
            };
            document.onmouseup = _evt => {
                this.up(element);
            };
        }
    }
    move(evt, element) {
        const { domElement, maxRadius, maxRadiusSquared, origin, offset, id } = element;
        evt = evt || window.event;
        const mouse = this.getMousePosition(evt);
        // calculate the new cursor position:
        let left = mouse.x - offset.x;
        let top = mouse.y - offset.y;
        //this.offset = mouse;
        const sqMag = left * left + top * top;
        if (sqMag > maxRadiusSquared) {
            //Only use sqrt if essential
            const magnitude = Math.sqrt(sqMag);
            left /= magnitude;
            top /= magnitude;
            left *= maxRadius;
            top *= maxRadius;
        }
        // set the element's new position:
        domElement.style.top = `${top + domElement.clientHeight / 2}px`;
        domElement.style.left = `${left + domElement.clientWidth / 2}px`;
        const forward = -(top - origin.top + domElement.clientHeight / 2) / maxRadius;
        const turn = (left - origin.left + domElement.clientWidth / 2) / maxRadius;
        this.emit(`axis_onmove_${id}`, { top: forward, right: turn });
    }
    up(element) {
        const { domElement, origin, id } = element;
        if ('ontouchstart' in window) {
            document.ontouchmove = null;
            // @ts-ignore
            document.touchend = null;
        }
        else {
            document.onmousemove = null;
            document.onmouseup = null;
        }
        domElement.style.top = `${origin.top}px`;
        domElement.style.left = `${origin.left}px`;
        this.emit(`axis_onmove_${id}`, { top: 0, right: 0 });
    }
    getMousePosition(evt) {
        // @ts-ignore
        let clientX = evt.targetTouches ? evt.targetTouches[0].pageX : evt.clientX;
        // @ts-ignore
        let clientY = evt.targetTouches ? evt.targetTouches[0].pageY : evt.clientY;
        return { x: clientX, y: clientY };
    }
}
exports.JoyStick = JoyStick;
//# sourceMappingURL=joystick.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerDrag.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerDrag.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PointerDrag = void 0;
class PointerDrag {
    constructor(_element, autoStart = true) {
        this._element = _element;
        this._isRunning = false;
        this._position = { x: 0, y: 0 };
        this._delta = { x: 0, y: 0 };
        this._onMoveCallback = () => { };
        this._isPointerDown = false;
        if (autoStart)
            this.start();
    }
    get isTouchDevice() {
        return 'ontouchstart' in window;
    }
    get isPointerDown() {
        return this._isPointerDown;
    }
    start() {
        if (this._isRunning)
            return;
        this._isRunning = true;
        if (this.isTouchDevice) {
            this._element.addEventListener('touchstart', e => this.onTouchStart(e));
            this._element.addEventListener('touchend', e => this.onTouchEnd(e));
            this._element.addEventListener('touchmove', e => this.onTouchMove(e));
        }
        else {
            this._element.addEventListener('mousedown', e => this.onPointerDown(e));
            this._element.addEventListener('mouseup', e => this.onPointerUp(e));
            this._element.addEventListener('mouseleave', e => this.onPointerLeave(e));
            this._element.addEventListener('mouseover', e => this.onPointerOver(e));
            this._element.addEventListener('mousemove', e => this.onPointerMove(e));
        }
    }
    stop() {
        if (this.isTouchDevice) {
            this._element.removeEventListener('touchstart', e => this.onTouchStart(e));
            this._element.removeEventListener('touchend', e => this.onTouchEnd(e));
            this._element.removeEventListener('touchmove', e => this.onTouchMove(e));
        }
        else {
            this._element.removeEventListener('mousedown', e => this.onPointerDown(e));
            this._element.removeEventListener('mouseleave', e => this.onPointerLeave(e));
            this._element.removeEventListener('mouseup', e => this.onPointerUp(e));
            this._element.removeEventListener('mouseover', e => this.onPointerOver(e));
            this._element.removeEventListener('mousemove', e => this.onPointerMove(e));
        }
        this._isRunning = false;
    }
    removeListeners() {
        this.stop();
    }
    onMove(onMoveCallback) {
        this._onMoveCallback = onMoveCallback;
    }
    onPointerDown(_e) {
        this._isPointerDown = true;
    }
    onPointerUp(_e) {
        this._isPointerDown = false;
    }
    onPointerLeave(_e) {
        this._isPointerDown = false;
    }
    onPointerMove(e) {
        const clientX = e.movementX;
        const clientY = e.movementY;
        this._delta = { x: clientX, y: clientY };
        this._onMoveCallback(this._delta);
    }
    onPointerOver(_e) { }
    onTouchStart(e) {
        const clientX = e.touches[0].clientX;
        const clientY = e.touches[0].clientY;
        this._position = { x: clientX, y: clientY };
    }
    onTouchEnd(_e) {
        this._position = { x: 0, y: 0 };
        this._delta = { x: 0, y: 0 };
        this._onMoveCallback(this._delta);
    }
    onTouchMove(e) {
        const clientX = e.touches[0].clientX;
        const clientY = e.touches[0].clientY;
        this._delta = { x: clientX - this._position.x, y: clientY - this._position.y };
        this._onMoveCallback(this._delta);
        this._position = { x: clientX, y: clientY };
    }
}
exports.PointerDrag = PointerDrag;
//# sourceMappingURL=pointerDrag.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerLock.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/pointerLock.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PointerLock = void 0;
class PointerLock {
    constructor(_element, autoLock = true) {
        this._element = _element;
        this._isRunning = false;
        if (autoLock)
            this.request();
    }
    isLocked() {
        return !!document.pointerLockElement;
    }
    exit() {
        this._isRunning = false;
        document.exitPointerLock();
        this.removeListeners();
    }
    removeListeners() {
        document.removeEventListener('pointerlockchange', () => this.pointerLockChangeHandler());
        this._element.removeEventListener('pointerdown', () => this.pointerDownHandlerHandler());
    }
    pointerLockChangeHandler() {
        if (!this._isRunning)
            return;
        this._request();
    }
    pointerDownHandlerHandler() {
        if (!this._isRunning)
            return;
        this._element.requestPointerLock();
    }
    request() {
        this._isRunning = true;
        this._request();
    }
    _request() {
        // listen to pointer lock change events
        document.addEventListener('pointerlockchange', () => this.pointerLockChangeHandler(), {
            once: true
        });
        // return if pointer is already locked
        if (!!document.pointerLockElement)
            return;
        // listen for pointerdown event
        this._element.addEventListener('pointerdown', () => this.pointerDownHandlerHandler(), { once: true });
    }
}
exports.PointerLock = PointerLock;
//# sourceMappingURL=pointerLock.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/thirdPersonControls.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/thirdPersonControls.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @description  This code has originally been copied from Sketchbook
 *
 * @author       swift502 <blaha.j502@gmail.com> (http://jblaha.art/)
 * @copyright    Copyright (c) 2018 swift502; Project Url: https://github.com/swift502/Sketchbook
 * @license      {@link https://github.com/swift502/Sketchbook/blob/master/LICENSE|GPL-3.0}
 *
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThirdPersonControls = void 0;
const dist_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class ThirdPersonControls {
    constructor(camera, target, config) {
        this.camera = camera;
        this.target = target;
        this.config = config;
        const { offset = new dist_1.Vector3(0, 0, 0), sensitivity = new dist_1.Vector2(1, 1), radius = 8, targetRadius = 10, interpolationFactor = 0.05, pointerLock = true, autoUpdate = true, theta = 0, phi = 0, 
        /** Max Phi in deg */
        maxPhi = 85, 
        /** Min Phi in deg */
        minPhi = -85 } = config;
        this.offset = offset;
        this.sensitivity = sensitivity;
        this.radius = radius;
        this.targetRadius = targetRadius;
        this.interpolationFactor = interpolationFactor;
        this.theta = theta;
        this.phi = phi;
        this.maxPhi = maxPhi;
        this.minPhi = minPhi;
        // if (pointerLock) {
        //   scene.input.on('pointerdown', () => {
        //     scene.input.mouse.requestPointerLock()
        //   })
        //   scene.input.on('pointermove', (pointer: PointerEvent) => {
        //     if (scene.input.mouse.locked) {
        //       this.update(pointer.movementX, pointer.movementY)
        //     }
        //   })
        // }
        // if (autoUpdate) {
        //   scene.events.on('update', () => {
        //     this.update(0, 0)
        //   })
        // }
    }
    update(deltaX, deltaY) {
        const target = this.target.position.clone().add(this.offset);
        this.theta -= deltaX * (this.sensitivity.x / 2);
        this.theta %= 360;
        this.phi += deltaY * (this.sensitivity.y / 2);
        this.phi = Math.min(this.maxPhi, Math.max(this.minPhi, this.phi));
        this.radius = dist_1.MathUtils.lerp(this.radius, this.targetRadius, this.interpolationFactor);
        this.camera.position.x =
            target.x + this.radius * Math.sin((this.theta * Math.PI) / 180) * Math.cos((this.phi * Math.PI) / 180);
        this.camera.position.y = target.y + this.radius * Math.sin((this.phi * Math.PI) / 180);
        this.camera.position.z =
            target.z + this.radius * Math.cos((this.theta * Math.PI) / 180) * Math.cos((this.phi * Math.PI) / 180);
        this.camera.updateMatrix();
        this.camera.lookAt(target);
    }
}
exports.ThirdPersonControls = ThirdPersonControls;
//# sourceMappingURL=thirdPersonControls.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/water.js":
/*!********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/water.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addWater = void 0;
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const addWater = (scene, renderer, config = {}) => {
    const { width = 20, height = 20, x = 0, y = 0, z = 0, color = '#ffffff', scale = 4, flowX = 1, flowY = 1, normalMap0 = undefined, normalMap1 = undefined } = config;
    //ground
    const groundGeometry = new index_1.PlaneBufferGeometry(width, height);
    // #0077be (also known as Ocean Boat Blue)
    const groundMaterial = new index_1.MeshStandardMaterial({ color: 0x0077be, transparent: true, opacity: 0.8 });
    const ground = new index_1.Mesh(groundGeometry, groundMaterial);
    ground.position.set(x, y, z);
    ground.rotation.x = Math.PI * -0.5;
    scene.add(ground);
    // water
    const waterGeometry = new index_1.PlaneBufferGeometry(width, height);
    const water = new index_1.Water(waterGeometry, {
        color: color,
        scale: scale,
        flowDirection: new index_1.Vector2(flowX, flowY),
        textureWidth: 1024,
        textureHeight: 1024,
        normalMap0: normalMap0,
        normalMap1: normalMap1,
        encoding: renderer.outputEncoding
    });
    water.position.set(x, y + 0.1, z);
    water.rotation.x = Math.PI * -0.5;
    scene.add(water);
    return { ground, water };
};
exports.addWater = addWater;
//# sourceMappingURL=water.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsBody.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsBody.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventemitter3_1 = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class PhysicsBody {
    constructor(physics, ammo) {
        this.physics = physics;
        this.ammo = ammo;
        this.ignoreScale = false;
        this.isSoftBody = false;
        this.offset = { x: 0, y: 0, z: 0 };
        this.errors = [];
        this.checkCollisions = false;
        this.breakable = false;
        this.didUpdate = false;
        /** Skip syncing the mesh to the physics body. */
        this.skipUpdate = false;
        this._emitUpdateEvents = false;
        this._needUpdate = false;
        this.tmpEuler = new index_1.Euler();
        this.tmpQuaternion = new index_1.Quaternion();
        this.tmpBtVector3 = new Ammo.btVector3();
        this.tmpBtVector3_1 = new Ammo.btVector3();
        this.tmpBtQuaternion = new Ammo.btQuaternion(0, 0, 0, 1);
        this.eventEmitter = new eventemitter3_1.EventEmitter();
        // @ts-ignore
        this.name = ammo.name;
    }
    /**
     * Don't call this manually! Do physics.destroy() instead.
     */
    destructor() {
        // remove events
        if (this.eventEmitter)
            this.eventEmitter.removeAllListeners();
        // destroy tmp ammo values
        Ammo.destroy(this.tmpBtVector3);
        Ammo.destroy(this.tmpBtVector3_1);
        Ammo.destroy(this.tmpBtQuaternion);
        // destory collision shape
        Ammo.destroy(this.ammo.getCollisionShape());
        // destroy body
        Ammo.destroy(this.ammo);
    }
    setupEventEmitter() {
        if (typeof this.eventEmitter === 'undefined')
            this.eventEmitter = new eventemitter3_1.EventEmitter();
    }
    get needUpdate() {
        return this._needUpdate;
    }
    set needUpdate(need) {
        if (!need && this._needUpdate)
            this.didUpdate = true;
        this._needUpdate = need;
    }
    onUpdateEvent(updateCallback, once = false) {
        this.setupEventEmitter();
        this._emitUpdateEvents = true;
        if (once)
            this.eventEmitter.once('update', () => {
                updateCallback();
            });
        else
            this.eventEmitter.on('update', () => {
                updateCallback();
            });
    }
    get on() {
        return {
            update: (updateCallback) => this.onUpdateEvent(updateCallback),
            collision: (collisionCallback) => this.onCollision(collisionCallback)
        };
    }
    get once() {
        return {
            update: (updateCallback) => this.onUpdateEvent(updateCallback, true)
        };
    }
    onCollision(collisionCallback) {
        this.checkCollisions = true;
        this.physics.collisionEvents.on('collision', (data) => {
            const { bodies, event } = data;
            if (bodies[0].name === this.name)
                collisionCallback(bodies[1], event);
            else if (bodies[1].name === this.name)
                collisionCallback(bodies[0], event);
        });
    }
    /** You have to call transform() before you can get or set the body's position or rotation. (for headless mode only) */
    transform() {
        const t = this.physics.worldTransform;
        this.ammo.getMotionState().getWorldTransform(t);
    }
    /** You have to call refresh() after you set the position or rotation of the body. (for headless mode only) */
    refresh() {
        const t = this.physics.worldTransform;
        this.ammo.getMotionState().setWorldTransform(t);
    }
    /** Set the rotation in radians. (for headless mode only) */
    setRotation(x, y, z) {
        const e = this.tmpEuler.set(x, y, z);
        const q = this.tmpQuaternion.set(0, 0, 0, 1);
        q.setFromEuler(e);
        this.tmpBtQuaternion.setValue(0, 0, 0, 1);
        const ammoQuat = this.tmpBtQuaternion;
        ammoQuat.setValue(q.x, q.y, q.z, q.w);
        const t = this.physics.worldTransform;
        t.setRotation(ammoQuat);
    }
    /** Get the rotation in radians. (for headless mode only) */
    get rotation() {
        // https://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm
        let x, y, z;
        const t = this.physics.worldTransform;
        const ammoQuat = t.getRotation();
        let q1 = this.tmpQuaternion.set(ammoQuat.x(), ammoQuat.y(), ammoQuat.z(), ammoQuat.w());
        if (q1.w > 1)
            q1 = q1.normalize(); // if w>1 acos and sqrt will produce errors, this cant happen if quaternion is normalized
        const angle = 2 * Math.acos(q1.w);
        const s = Math.sqrt(1 - q1.w * q1.w); // assuming quaternion normalized then w is less than 1, so term always positive.
        if (s < 0.001) {
            // test to avoid divide by zero, s is always positive due to sqrt
            // if s close to zero then direction of axis not important
            x = q1.x; // if it is important that axis is normalized then replace with x=1; y=z=0;
            y = q1.y;
            z = q1.z;
        }
        else {
            x = q1.x / s; // normalized axis
            y = q1.y / s;
            z = q1.z / s;
        }
        return { x: x * angle, y: y * angle, z: z * angle };
    }
    /** Set position. (for headless mode only) */
    setPosition(x, y, z) {
        const t = this.physics.worldTransform;
        t.getOrigin().setValue(x, y, z);
    }
    /** Get position. (for headless mode only) */
    get position() {
        const t = this.physics.worldTransform;
        return { x: t.getOrigin().x(), y: t.getOrigin().y(), z: t.getOrigin().z() };
    }
    get velocity() {
        return {
            x: this.ammo.getLinearVelocity().x(),
            y: this.ammo.getLinearVelocity().y(),
            z: this.ammo.getLinearVelocity().z()
        };
    }
    get angularVelocity() {
        return {
            x: this.ammo.getAngularVelocity().x(),
            y: this.ammo.getAngularVelocity().y(),
            z: this.ammo.getAngularVelocity().z()
        };
    }
    setVelocity(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.setLinearVelocity(this.tmpBtVector3);
    }
    setVelocityX(value) {
        this.tmpBtVector3.setValue(value, this.velocity.y, this.velocity.z);
        this.ammo.setLinearVelocity(this.tmpBtVector3);
    }
    setVelocityY(value) {
        this.tmpBtVector3.setValue(this.velocity.x, value, this.velocity.z);
        this.ammo.setLinearVelocity(this.tmpBtVector3);
    }
    setVelocityZ(value) {
        this.tmpBtVector3.setValue(this.velocity.x, this.velocity.y, value);
        this.ammo.setLinearVelocity(this.tmpBtVector3);
    }
    setAngularVelocity(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.setAngularVelocity(this.tmpBtVector3);
    }
    setAngularVelocityX(value) {
        this.tmpBtVector3.setValue(value, this.angularVelocity.y, this.angularVelocity.z);
        this.ammo.setAngularVelocity(this.tmpBtVector3);
    }
    setAngularVelocityY(value) {
        this.tmpBtVector3.setValue(this.angularVelocity.x, value, this.angularVelocity.z);
        this.ammo.setAngularVelocity(this.tmpBtVector3);
    }
    setAngularVelocityZ(value) {
        this.tmpBtVector3.setValue(this.angularVelocity.x, this.angularVelocity.y, value);
        this.ammo.setAngularVelocity(this.tmpBtVector3);
    }
    // Apply Force methods
    applyForce(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyCentralImpulse(this.tmpBtVector3);
    }
    applyForceX(value) {
        this.tmpBtVector3.setValue(value, 0, 0);
        this.ammo.applyCentralImpulse(this.tmpBtVector3);
    }
    applyForceY(value) {
        this.tmpBtVector3.setValue(0, value, 0);
        this.ammo.applyCentralImpulse(this.tmpBtVector3);
    }
    applyForceZ(value) {
        this.tmpBtVector3.setValue(0, 0, value);
        this.ammo.applyCentralImpulse(this.tmpBtVector3);
    }
    // Apply "Something" Methods
    applyCentralForce(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyCentralForce(this.tmpBtVector3);
    }
    applyCentralImpulse(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyCentralImpulse(this.tmpBtVector3);
    }
    applyCentralLocalForce(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyCentralLocalForce(this.tmpBtVector3);
    }
    applyImpulse(impulse, relativePosition) {
        this.tmpBtVector3.setValue(impulse.x || 0, impulse.y || 0, impulse.z || 0);
        this.tmpBtVector3_1.setValue(relativePosition.x || 0, relativePosition.y || 0, relativePosition.z || 0);
        this.ammo.applyImpulse(this.tmpBtVector3, this.tmpBtVector3_1);
    }
    applyLocalTorque(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyLocalTorque(this.tmpBtVector3);
    }
    applyTorque(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyTorque(this.tmpBtVector3);
    }
    applyTorqueImpulse(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.applyTorqueImpulse(this.tmpBtVector3);
    }
    /**
     * Add the collision flags
     * @param value 0 is DYNAMIC, 1 is STATIC, 2 is KINEMATIC, 4 GHOST
     */
    // https://github.com/bulletphysics/bullet3/blob/aae8048722f2596f7e2bdd52d2a1dcb52a218f2b/src/BulletCollision/CollisionDispatch/btCollisionObject.h#L128
    setCollisionFlags(value) {
        this.ammo.setCollisionFlags(value);
    }
    /**
     * Get the collision flags
     * @param value 0 is DYNAMIC, 1 is STATIC, 2 is KINEMATIC, 4 GHOST
     */
    getCollisionFlags() {
        return this.ammo.getCollisionFlags();
    }
    /**
     * Set the restitution (same as bounciness)
     * @param value A number from 0 to 1.
     */
    setRestitution(value) {
        this.ammo.setRestitution(value);
    }
    /**
     * Set the bounciness (same as restitution)
     * @param value A number from 0 to 1.
     */
    setBounciness(value) {
        this.setRestitution(value);
    }
    /**
     * Set the friction
     * @param value A number from 0 to 1.
     */
    setFriction(value) {
        this.ammo.setFriction(value);
    }
    /** Set per body gravity */
    setGravity(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.setGravity(this.tmpBtVector3);
    }
    setLinearFactor(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.setLinearFactor(this.tmpBtVector3);
    }
    setAngularFactor(x, y, z) {
        this.tmpBtVector3.setValue(x, y, z);
        this.ammo.setAngularFactor(this.tmpBtVector3);
    }
    setCcdMotionThreshold(threshold) {
        this.ammo.setCcdMotionThreshold(threshold);
    }
    setCcdSweptSphereRadius(radius) {
        this.ammo.setCcdSweptSphereRadius(radius);
    }
}
exports.default = PhysicsBody;
//# sourceMappingURL=physicsBody.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsLoader.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsLoader.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsLoader = void 0;
const wasmLoader_1 = __webpack_require__(/*! ./wasmLoader */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/wasmLoader.js");
const PhysicsLoader = (path, callback) => {
    if (typeof window !== 'undefined')
        window.__loadPhysics = true;
    wasmLoader_1.default(path, () => {
        Ammo().then(() => {
            callback();
        });
    });
};
exports.PhysicsLoader = PhysicsLoader;
//# sourceMappingURL=physicsLoader.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js":
/*!***************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Group = exports.Points = exports.Line = exports.Material = exports.Mesh = exports.Object3D = exports.AnimationAction = exports.AnimationClip = exports.AnimationMixer = exports.ExtendedMesh = exports.ExtendedObject3D = void 0;
const extendedObject3D_1 = __webpack_require__(/*! ./extendedObject3D */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedObject3D.js");
Object.defineProperty(exports, "ExtendedObject3D", ({ enumerable: true, get: function () { return extendedObject3D_1.ExtendedObject3D; } }));
const extendedMesh_1 = __webpack_require__(/*! ./extendedMesh */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/extendedMesh.js");
Object.defineProperty(exports, "ExtendedMesh", ({ enumerable: true, get: function () { return extendedMesh_1.ExtendedMesh; } }));
// TODO fix this export
// export { ThirdPersonControls } from '../misc/thirdPersonControls'
var index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
Object.defineProperty(exports, "AnimationMixer", ({ enumerable: true, get: function () { return index_1.AnimationMixer; } }));
Object.defineProperty(exports, "AnimationClip", ({ enumerable: true, get: function () { return index_1.AnimationClip; } }));
Object.defineProperty(exports, "AnimationAction", ({ enumerable: true, get: function () { return index_1.AnimationAction; } }));
Object.defineProperty(exports, "Object3D", ({ enumerable: true, get: function () { return index_1.Object3D; } }));
Object.defineProperty(exports, "Mesh", ({ enumerable: true, get: function () { return index_1.Mesh; } }));
Object.defineProperty(exports, "Material", ({ enumerable: true, get: function () { return index_1.Material; } }));
Object.defineProperty(exports, "Line", ({ enumerable: true, get: function () { return index_1.Line; } }));
Object.defineProperty(exports, "Points", ({ enumerable: true, get: function () { return index_1.Points; } }));
Object.defineProperty(exports, "Group", ({ enumerable: true, get: function () { return index_1.Group; } }));
//# sourceMappingURL=types.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/typesAmmo.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/typesAmmo.js ***!
  \*******************************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=typesAmmo.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/typesCustom.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/typesCustom.js ***!
  \*********************************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=typesCustom.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/common/dist/wasmLoader.js":
/*!********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/common/dist/wasmLoader.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
// Inspired by https://github.com/playcanvas/engine/blob/master/examples/wasm-loader.js
const wasmSupported = (() => {
    try {
        if (typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function') {
            const module = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));
            if (module instanceof WebAssembly.Module)
                return new WebAssembly.Instance(module) instanceof WebAssembly.Instance;
        }
    }
    catch (e) { }
    return false;
})();
const loadScriptAsync = (url, doneCallback) => {
    var tag = document.createElement('script');
    tag.onload = () => {
        doneCallback();
    };
    tag.onerror = () => {
        throw new Error('failed to load ' + url);
    };
    tag.async = true;
    tag.src = url;
    document.head.appendChild(tag);
};
const loadAmmoModule = (path, doneCallback) => {
    // console.log(wasmSupported ? 'WebAssembly is supported' : 'WebAssembly is not supported')
    if (wasmSupported)
        loadScriptAsync(`${path}/ammo.wasm.js`, () => doneCallback());
    else
        loadScriptAsync(`${path}/ammo.js`, () => doneCallback());
};
exports.default = loadAmmoModule;
//# sourceMappingURL=wasmLoader.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/core.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/core.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThreeGraphics = void 0;
const THREE = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const cameras_1 = __webpack_require__(/*! ./plugins/cameras */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/cameras.js");
const index_1 = __webpack_require__(/*! @enable3d/ammo-physics/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/ammo-physics/dist/index.js");
class ThreeGraphics {
    constructor(threeGraphicsConfig = {}) {
        this.threeGraphicsConfig = threeGraphicsConfig;
        const { anisotropy = 1, camera = cameras_1.default.Perspective({ z: 25, y: 5 }), antialias = false, usePhysics = true, renderer } = threeGraphicsConfig;
        this.textureAnisotropy = anisotropy;
        this.camera = camera;
        this.scene = new THREE.Scene();
        // this.renderer.physicallyCorrectLights = true
        this.renderer = renderer || new THREE.WebGLRenderer({ antialias });
        // see https://threejs.org/docs/#examples/en/loaders/GLTFLoader
        // this.renderer.outputEncoding = sRGBEncoding
        // shadow
        this.renderer.shadowMap.enabled = true;
        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        // enable cache
        this.cache = THREE.Cache;
        this.cache.enabled = true;
        if (usePhysics) {
            if (typeof Ammo !== 'undefined')
                this.physics = new index_1.AmmoPhysics(this.scene, threeGraphicsConfig);
            else
                console.log('[enable3d]: Are you sure you included ammo.js?');
        }
    }
}
exports.ThreeGraphics = ThreeGraphics;
//# sourceMappingURL=core.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MathUtils = exports.Vector3 = exports.Vector2 = exports.Object3D = exports.FBXLoader = exports.GLTFLoader = exports.RGBAFormat = exports.Texture = exports.WebGLRenderer = exports.Types = exports.THREE = exports.PhysicsLoader = exports.ThreeGraphics = void 0;
const core_1 = __webpack_require__(/*! ./core */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/core.js");
Object.defineProperty(exports, "ThreeGraphics", ({ enumerable: true, get: function () { return core_1.ThreeGraphics; } }));
const physicsLoader_1 = __webpack_require__(/*! @enable3d/common/dist/physicsLoader */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/physicsLoader.js");
Object.defineProperty(exports, "PhysicsLoader", ({ enumerable: true, get: function () { return physicsLoader_1.PhysicsLoader; } }));
const THREE = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
exports.THREE = THREE;
const Types = __webpack_require__(/*! @enable3d/common/dist/types */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js");
exports.Types = Types;
const version_1 = __webpack_require__(/*! ./version */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/version.js");
var index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
Object.defineProperty(exports, "WebGLRenderer", ({ enumerable: true, get: function () { return index_1.WebGLRenderer; } }));
Object.defineProperty(exports, "Texture", ({ enumerable: true, get: function () { return index_1.Texture; } }));
Object.defineProperty(exports, "RGBAFormat", ({ enumerable: true, get: function () { return index_1.RGBAFormat; } }));
Object.defineProperty(exports, "GLTFLoader", ({ enumerable: true, get: function () { return index_1.GLTFLoader; } }));
Object.defineProperty(exports, "FBXLoader", ({ enumerable: true, get: function () { return index_1.FBXLoader; } }));
Object.defineProperty(exports, "Object3D", ({ enumerable: true, get: function () { return index_1.Object3D; } }));
Object.defineProperty(exports, "Vector2", ({ enumerable: true, get: function () { return index_1.Vector2; } }));
Object.defineProperty(exports, "Vector3", ({ enumerable: true, get: function () { return index_1.Vector3; } }));
Object.defineProperty(exports, "MathUtils", ({ enumerable: true, get: function () { return index_1.MathUtils; } }));
const info = `Powered by enable3d v${version_1.VERSION}`;
console.log(`%c %c %c %c %c ${info} %c https://enable3d.io/`, 'background: #ff0000', 'background: #ffff00', 'background: #00ff00', 'background: #00ffff', 'color: #fff; background: #000000;', 'background: none');
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/cameras.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/cameras.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class Cameras {
    perspectiveCamera(config = {}) {
        return Cameras.Perspective(config);
    }
    orthographicCamera(config = {}) {
        return Cameras.Orthographic(config);
    }
    static Perspective(config = {}) {
        // for phaser
        // aspect = scene.scale.gameSize.aspectRatio
        const { fov = 50, aspect = window.innerWidth / window.innerHeight, near = 0.1, far = 2000, x = 0, y = 0, z = 0 } = config;
        const camera = new index_1.PerspectiveCamera(fov, aspect, near, far);
        camera.position.set(x, y, z);
        return camera;
    }
    static Orthographic(config = {}) {
        // for phaser
        // const { width, height } = scene.cameras.main
        const width = window.innerWidth;
        const height = window.innerHeight;
        const { left = width / -100, right = width / 100, top = height / 100, bottom = height / -100, near = 1, far = 1000, x = 0, y = 0, z = 0 } = config;
        const camera = new index_1.OrthographicCamera(left, right, top, bottom, near, far);
        camera.position.set(x, y, z);
        return camera;
    }
}
exports.default = Cameras;
//# sourceMappingURL=cameras.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/csg.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/csg.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Originally copied from https://github.com/Hi-Level/three-csg
// which is a typescript rewrite of https://github.com/manthrax/THREE-CSGMesh
// which as originally written by Copyright (c) 2011 Evan Wallace (http://madebyevan.com/), under the MIT license.
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
/**
 * CSG wrapper for enable3d
 *
 * The CSG library does not support buffer geometries.
 * Means we first make sure we are dealing with geometries
 * and then transform them back to buffer geometries.
 */
class CSGWrapper {
    constructor(scene, transform) {
        this.scene = scene;
        this.transform = transform;
    }
    toGeometry(meshA, meshB) {
        // @ts-ignore
        meshA.geometry = this.transform.bufferGeometryToGeometry(meshA.geometry);
        // @ts-ignore
        meshB.geometry = this.transform.bufferGeometryToGeometry(meshB.geometry);
    }
    toBufferGeometry(meshC) {
        // @ts-ignore
        meshC.geometry = this.transform.geometryToBufferGeometry(meshC.geometry);
    }
    union(meshA, meshB) {
        this.toGeometry(meshA, meshB);
        const meshC = this.doCSG(meshA, meshB, 'union');
        this.toBufferGeometry(meshC);
        return meshC;
    }
    subtract(meshA, meshB) {
        this.toGeometry(meshA, meshB);
        const meshC = this.doCSG(meshA, meshB, 'subtract');
        this.toBufferGeometry(meshC);
        return meshC;
    }
    intersect(meshA, meshB) {
        this.toGeometry(meshA, meshB);
        const meshC = this.doCSG(meshA, meshB, 'intersect');
        this.toBufferGeometry(meshC);
        return meshC;
    }
    doCSG(meshA, meshB, operation) {
        meshA.updateMatrix();
        meshB.updateMatrix();
        const bspA = CSG.fromMesh(meshA);
        const bspB = CSG.fromMesh(meshB);
        // @ts-ignore
        const bspC = bspA[operation](bspB);
        const result = CSG.toMesh(bspC, meshA.matrix);
        return result;
    }
}
exports.default = CSGWrapper;
/**
 * CSG (Constructive Solid Geometry) library for three.js with Typescript support.
 * Holds a binary space partition tree representing a 3D solid. Two solids can
 * be combined using the `union()`, `subtract()`, and `intersect()` methods.
 */
class CSG {
    constructor() {
        this.polygons = [];
    }
    static fromPolygons(polygons) {
        const csg = new CSG();
        csg.polygons = polygons;
        return csg;
    }
    static fromGeometry(geom) {
        if (geom.isBufferGeometry) {
            geom = new index_1.Geometry().fromBufferGeometry(geom);
        }
        const fs = geom.faces;
        const vs = geom.vertices;
        const polys = [];
        const fm = ['a', 'b', 'c'];
        for (let i = 0; i < fs.length; i++) {
            const f = fs[i];
            const vertices = [];
            for (let j = 0; j < 3; j++) {
                const uvs = geom.faceVertexUvs[0][i] !== undefined && geom.faceVertexUvs[0][i][j] !== undefined
                    ? geom.faceVertexUvs[0][i][j]
                    : undefined;
                vertices.push(new Vertex(vs[f[fm[j]]], f.vertexNormals[j], uvs));
            }
            polys.push(new Polygon(vertices));
        }
        return CSG.fromPolygons(polys);
    }
    static fromMesh(mesh) {
        const csg = CSG.fromGeometry(mesh.geometry);
        CSG._tmpm3.getNormalMatrix(mesh.matrix);
        for (const p of csg.polygons) {
            for (const v of p.vertices) {
                v.pos.applyMatrix4(mesh.matrix);
                v.normal.applyMatrix3(CSG._tmpm3);
            }
        }
        return csg;
    }
    static toMesh(csg, toMatrix) {
        const geom = new index_1.Geometry();
        const ps = csg.polygons;
        const vs = geom.vertices;
        const fvuv = geom.faceVertexUvs[0];
        for (const p of ps) {
            const pvs = p.vertices;
            const v0 = vs.length;
            const pvlen = pvs.length;
            for (const pv of pvs) {
                vs.push(new index_1.Vector3().copy(pv.pos));
            }
            for (let j = 3; j <= pvlen; j++) {
                const fc = new index_1.Face3(v0, v0 + j - 2, v0 + j - 1);
                const fuv = [];
                fvuv.push(fuv);
                const fnml = fc.vertexNormals;
                fnml.push(new index_1.Vector3().copy(pvs[0].normal));
                fnml.push(new index_1.Vector3().copy(pvs[j - 2].normal));
                fnml.push(new index_1.Vector3().copy(pvs[j - 1].normal));
                // check for uv property
                if (pvs[0].uv && pvs[j - 2].uv && pvs[j - 1].uv) {
                    fuv.push(new index_1.Vector3().copy(pvs[0].uv));
                    fuv.push(new index_1.Vector3().copy(pvs[j - 2].uv));
                    fuv.push(new index_1.Vector3().copy(pvs[j - 1].uv));
                }
                fc.normal = new index_1.Vector3().copy(p.plane.normal);
                geom.faces.push(fc);
            }
        }
        // compatibility fix for three.js >= r123 (Dezember 2020)
        const inv = 
        // @ts-ignore
        +index_1.REVISION >= 123 ? new index_1.Matrix4().copy(toMatrix).invert() : new index_1.Matrix4().getInverse(toMatrix);
        geom.applyMatrix4(inv);
        geom.verticesNeedUpdate = geom.elementsNeedUpdate = geom.normalsNeedUpdate = true;
        geom.computeBoundingSphere();
        geom.computeBoundingBox();
        const m = new index_1.Mesh(geom);
        m.matrix.copy(toMatrix);
        m.matrix.decompose(m.position, m.rotation, m.scale);
        m.updateMatrixWorld();
        return m;
    }
    static iEval(tokens, _index = 0) {
        var _a;
        if (typeof tokens === 'string') {
            CSG.currentOp = tokens;
        }
        else if (tokens instanceof Array) {
            for (const token of tokens) {
                CSG.iEval(token, 0);
            }
        }
        else if (typeof tokens === 'object') {
            const op = CSG.currentOp;
            tokens.updateMatrix();
            tokens.updateMatrixWorld();
            if (!CSG.sourceMesh) {
                CSG.currentPrim = CSG.fromMesh((CSG.sourceMesh = tokens));
            }
            else {
                CSG.nextPrim = CSG.fromMesh(tokens);
                CSG.currentPrim = CSG.currentPrim[op](CSG.nextPrim);
            }
            if (CSG.doRemove)
                (_a = tokens === null || tokens === void 0 ? void 0 : tokens.parent) === null || _a === void 0 ? void 0 : _a.remove(tokens);
        } // union,subtract,intersect,inverse
    }
    static eval(tokens, doRemove) {
        // [['add',mesh,mesh,mesh,mesh],['sub',mesh,mesh,mesh,mesh]]
        // @ts-ignore
        delete CSG.currentOp;
        // @ts-ignore
        delete CSG.sourceMesh;
        CSG.doRemove = doRemove;
        CSG.iEval(tokens);
        const result = CSG.toMesh(CSG.currentPrim, CSG.sourceMesh.matrix);
        result.material = CSG.sourceMesh.material;
        result.castShadow = result.receiveShadow = true;
        return result;
    }
    clone() {
        const csg = new CSG();
        csg.polygons = this.polygons.map(p => {
            return p.clone();
        });
        return csg;
    }
    toPolygons() {
        return this.polygons;
    }
    union(csg) {
        const a = new Node(this.clone().polygons);
        const b = new Node(csg.clone().polygons);
        a.clipTo(b);
        b.clipTo(a);
        b.invert();
        b.clipTo(a);
        b.invert();
        a.build(b.allPolygons());
        return CSG.fromPolygons(a.allPolygons());
    }
    subtract(csg) {
        const a = new Node(this.clone().polygons);
        const b = new Node(csg.clone().polygons);
        a.invert();
        a.clipTo(b);
        b.clipTo(a);
        b.invert();
        b.clipTo(a);
        b.invert();
        a.build(b.allPolygons());
        a.invert();
        return CSG.fromPolygons(a.allPolygons());
    }
    intersect(csg) {
        const a = new Node(this.clone().polygons);
        const b = new Node(csg.clone().polygons);
        a.invert();
        b.clipTo(a);
        b.invert();
        a.clipTo(b);
        b.clipTo(a);
        a.build(b.allPolygons());
        a.invert();
        return CSG.fromPolygons(a.allPolygons());
    }
    inverse() {
        const csg = this.clone();
        csg.polygons.map(p => {
            p.flip();
        });
        return csg;
    }
}
CSG._tmpm3 = new index_1.Matrix3();
/**
 * Represents a 3D vector.
 */
class Vector extends index_1.Vector3 {
    constructor(x, y, z) {
        if (arguments.length === 3) {
            super(x, y, z);
        }
        else if (Array.isArray(x)) {
            super(x[0], x[1], x[2]);
        }
        else if (typeof x === 'object') {
            // @ts-ignore
            this.copy(x);
        }
        else {
            throw new Error('Invalid constructor to vector');
        }
    }
    clone() {
        return new Vector(this.x, this.y, this.z);
    }
    negated() {
        return this.clone().multiplyScalar(-1);
    }
    plus(a) {
        return this.clone().add(a);
    }
    minus(a) {
        return this.clone().sub(a);
    }
    times(a) {
        return this.clone().multiplyScalar(a);
    }
    dividedBy(a) {
        return this.clone().divideScalar(a);
    }
    lerp(a, t) {
        return this.plus(a.minus(this).times(t));
    }
    unit() {
        return this.dividedBy(this.length());
    }
    // @ts-ignore
    cross(a, w) {
        return index_1.Vector3.prototype.cross.call(this.clone(), a);
    }
}
/**
 * Represents a vertex of a polygon. Use your own vertex class instead of this
 * one to provide additional features like texture coordinates and vertex
 * colors. Custom vertex classes need to provide a `pos` property and `clone()`,
 * `flip()`, and `interpolate()` methods that behave analogous to the ones
 * defined by `CSG.Vertex`. This class provides `normal` so convenience
 * functions like `CSG.sphere()` can return a smooth vertex normal, but `normal`
 * is not used anywhere else.
 */
class Vertex {
    constructor(pos, normal, uv) {
        this.pos = new Vector(pos.x, pos.y, pos.z);
        this.normal = new Vector(normal.x, normal.y, normal.z);
        if (uv)
            this.uv = new Vector(uv.x, uv.y, uv.z);
    }
    clone() {
        return new Vertex(this.pos.clone(), this.normal.clone(), this.uv ? this.uv.clone() : undefined);
    }
    // Invert all orientation-specific data (e.g. vertex normal). Called when the
    // orientation of a polygon is flipped.
    flip() {
        this.normal = this.normal.negated();
    }
    // Create a new vertex between this vertex and `other` by linearly
    // interpolating all properties using a parameter of `t`. Subclasses should
    // override this to interpolate additional properties.
    interpolate(other, t) {
        return new Vertex(this.pos.lerp(other.pos, t), this.normal.lerp(other.normal, t), this.uv ? this.uv.lerp(other.uv, t) : undefined);
    }
}
/**
 * Represents a plane in 3D space.
 */
class Plane {
    constructor(normal, w) {
        this.normal = normal;
        this.w = w;
    }
    static fromPoints(a, b, c) {
        const n = b
            .minus(a)
            .cross(c.minus(a))
            // @ts-ignore
            .unit();
        return new Plane(n, n.dot(a));
    }
    clone() {
        return new Plane(this.normal.clone(), this.w);
    }
    flip() {
        this.normal = this.normal.negated();
        this.w = -this.w;
    }
    // Split `polygon` by this plane if needed, then put the polygon or polygon
    // fragments in the appropriate lists. Coplanar polygons go into either
    // `coplanarFront` or `coplanarBack` depending on their orientation with
    // respect to this plane. Polygons in front or in back of this plane go into
    // either `front` or `back`.
    splitPolygon(polygon, coplanarFront, coplanarBack, front, back) {
        const COPLANAR = 0;
        const FRONT = 1;
        const BACK = 2;
        const SPANNING = 3;
        // Classify each point as well as the entire polygon into one of the above
        // four classes.
        let polygonType = 0;
        const types = [];
        for (const vertex of polygon.vertices) {
            const t = this.normal.dot(vertex.pos) - this.w;
            const type = t < -Plane.EPSILON ? BACK : t > Plane.EPSILON ? FRONT : COPLANAR;
            polygonType |= type;
            types.push(type);
        }
        // Put the polygon in the correct list, splitting it when necessary.
        switch (polygonType) {
            case COPLANAR:
                ;
                (this.normal.dot(polygon.plane.normal) > 0 ? coplanarFront : coplanarBack).push(polygon);
                break;
            case FRONT:
                front.push(polygon);
                break;
            case BACK:
                back.push(polygon);
                break;
            case SPANNING:
                const f = [];
                const b = [];
                for (let i = 0; i < polygon.vertices.length; i++) {
                    const j = (i + 1) % polygon.vertices.length;
                    const ti = types[i];
                    const tj = types[j];
                    const vi = polygon.vertices[i];
                    const vj = polygon.vertices[j];
                    if (ti !== BACK) {
                        f.push(vi);
                    }
                    if (ti !== FRONT) {
                        b.push(ti !== BACK ? vi.clone() : vi);
                    }
                    if ((ti | tj) === SPANNING) {
                        const t = (this.w - this.normal.dot(vi.pos)) / this.normal.dot(vj.pos.minus(vi.pos));
                        const v = vi.interpolate(vj, t);
                        f.push(v);
                        b.push(v.clone());
                    }
                }
                if (f.length >= 3) {
                    front.push(new Polygon(f, polygon.shared));
                }
                if (b.length >= 3) {
                    back.push(new Polygon(b, polygon.shared));
                }
                break;
        }
    }
}
// the tolerance used by `splitPolygon()` to decide if a
// point is on the plane.
Plane.EPSILON = 1e-5;
/**
 * Represents a convex polygon. The vertices used to initialize a polygon must
 * be coplanar and form a convex loop. They do not have to be `Vertex`
 * instances but they must behave similarly (duck typing can be used for
 * customization).
 *
 * Each convex polygon has a `shared` property, which is shared between all
 * polygons that are clones of each other or were split from the same polygon.
 * This can be used to define per-polygon properties (such as surface color).
 */
class Polygon {
    constructor(vertices, shared = null) {
        this.vertices = vertices;
        this.shared = shared;
        this.plane = Plane.fromPoints(vertices[0].pos, vertices[1].pos, vertices[2].pos);
    }
    clone() {
        const vertices = this.vertices.map(v => {
            return v.clone();
        });
        return new Polygon(vertices, this.shared);
    }
    flip() {
        this.vertices.reverse().map(v => {
            v.flip();
        });
        this.plane.flip();
    }
}
/**
 * Holds a node in a BSP tree. A BSP tree is built from a collection of polygons
 * by picking a polygon to split along. That polygon (and all other coplanar
 * polygons) are added directly to that node and the other polygons are added to
 * the front and/or back subtrees. This is not a leafy BSP tree since there is
 * no distinction between internal and leaf nodes.
 */
class Node {
    constructor(polygons) {
        // @ts-ignore
        delete this.plane;
        // @ts-ignore
        delete this.front;
        // @ts-ignore
        delete this.back;
        this.polygons = [];
        if (polygons) {
            this.build(polygons);
        }
    }
    clone() {
        const node = new Node();
        node.plane = this.plane && this.plane.clone();
        node.front = this.front && this.front.clone();
        node.back = this.back && this.back.clone();
        node.polygons = this.polygons.map(p => {
            return p.clone();
        });
        return node;
    }
    // Convert solid space to empty space and empty space to solid space.
    invert() {
        for (const polygon of this.polygons) {
            polygon.flip();
        }
        this.plane.flip();
        if (this.front) {
            this.front.invert();
        }
        if (this.back) {
            this.back.invert();
        }
        const temp = this.front;
        this.front = this.back;
        this.back = temp;
    }
    // Recursively remove all polygons in `polygons` that are inside this BSP
    // tree.
    clipPolygons(polygons) {
        if (!this.plane) {
            return polygons.slice();
        }
        let front = [];
        let back = [];
        for (const polygon of polygons) {
            this.plane.splitPolygon(polygon, front, back, front, back);
        }
        if (this.front) {
            front = this.front.clipPolygons(front);
        }
        back = this.back ? this.back.clipPolygons(back) : [];
        return front.concat(back);
    }
    // Remove all polygons in this BSP tree that are inside the other BSP tree
    // `bsp`.
    clipTo(bsp) {
        this.polygons = bsp.clipPolygons(this.polygons);
        if (this.front) {
            this.front.clipTo(bsp);
        }
        if (this.back) {
            this.back.clipTo(bsp);
        }
    }
    // Return a list of all polygons in this BSP tree.
    allPolygons() {
        let polygons = this.polygons.slice();
        if (this.front) {
            polygons = polygons.concat(this.front.allPolygons());
        }
        if (this.back) {
            polygons = polygons.concat(this.back.allPolygons());
        }
        return polygons;
    }
    // Build a BSP tree out of `polygons`. When called on an existing tree, the
    // new polygons are filtered down to the bottom of the tree and become new
    // nodes there. Each set of polygons is partitioned using the first polygon
    // (no heuristic is used to pick a good split).
    build(polygons) {
        if (!polygons.length) {
            return;
        }
        if (!this.plane) {
            this.plane = polygons[0].plane.clone();
        }
        const front = [];
        const back = [];
        for (const polygon of polygons) {
            this.plane.splitPolygon(polygon, this.polygons, this.polygons, front, back);
        }
        if (front.length) {
            if (!this.front) {
                this.front = new Node();
            }
            this.front.build(front);
        }
        if (back.length) {
            if (!this.back) {
                this.back = new Node();
            }
            this.back.build(back);
        }
    }
}
//# sourceMappingURL=csg.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/haveSomeFun.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/haveSomeFun.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const HaveSomeFun = (numberOfElements = 20, physics) => {
    if (!window.__loadPhysics) {
        console.log('There is not much fun without physics enabled!');
        return;
    }
    // adding some boxes (with physics)
    for (let i = 0; i < numberOfElements; i++) {
        const materials = ['standard', 'basic', 'normal', 'phong', 'line', 'points'];
        const Between = (min, max) => Math.floor(Math.random() * (max - min + 1) + min);
        const RandomPick = (array) => array[Math.floor(Math.random() * array.length)];
        if (Math.random() > 0.5) {
            physics.add
                .box({
                x: Between(-10, 10),
                y: Between(10, 20),
                z: Between(-10, 10),
                width: Between(1, 2) / 10,
                height: Between(1, 2) / 10,
                depth: Between(1, 2) / 10,
                mass: 1
            }, { [RandomPick(materials)]: { color: Math.floor(Math.random() * 0xffffff) } })
                .body.setRestitution(Math.floor(Math.random() * 10) / 20);
        }
        else {
            physics.add
                .sphere({
                x: Between(-10, 10),
                y: Between(10, 20),
                z: Between(-10, 10),
                radius: Between(1, 2) / 10,
                mass: 1
            }, { [RandomPick(materials)]: { color: Math.floor(Math.random() * 0xffffff) } })
                .body.setRestitution(Math.floor(Math.random() * 10) / 20);
        }
    }
};
exports.default = HaveSomeFun;
//# sourceMappingURL=haveSomeFun.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/heightmap.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/heightmap.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const types_1 = __webpack_require__(/*! @enable3d/common/dist/types */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js");
const logger_1 = __webpack_require__(/*! @enable3d/common/dist/logger */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/logger.js");
class HeightMap {
    constructor(scene) {
        this.scene = scene;
    }
    add(texture, config = {}) {
        const heightMap = this.make(texture, config);
        if (heightMap)
            this.scene.add(heightMap);
        else
            logger_1.default('Could not make heightmap');
        return heightMap;
    }
    make(texture, config = {}) {
        // var spacingX = 3
        // var spacingZ = 3
        // var heightOffset = 2
        const { image } = texture;
        const { width, height } = image;
        const { colorScale } = config;
        const canvas = document.createElement('canvas');
        canvas.width = width;
        canvas.height = height;
        const ctx = canvas.getContext('2d');
        if (!ctx)
            return;
        ctx.drawImage(texture.image, 0, 0);
        const pixel = ctx.getImageData(0, 0, width, height);
        // geometry
        const plane = new index_1.PlaneGeometry(10, 10, width - 1, height - 1);
        // material
        let materialConfig = { color: 0xcccccc, side: index_1.DoubleSide };
        if (colorScale)
            materialConfig = Object.assign(Object.assign({}, materialConfig), { vertexColors: index_1.FaceColors });
        const material = new index_1.MeshPhongMaterial(materialConfig);
        // mesh
        const mesh = new types_1.ExtendedMesh(plane, material);
        mesh.receiveShadow = mesh.castShadow = true;
        mesh.shape = 'concave';
        // adjust all z values
        const geo = mesh.geometry;
        for (let i = 0; i < geo.vertices.length; i++) {
            geo.vertices[i].z = pixel.data[i * 4] / 120;
        }
        // helper function to get the highest point
        const getHighPoint = (geometry, face) => {
            var v1 = geometry.vertices[face.a].z;
            var v2 = geometry.vertices[face.b].z;
            var v3 = geometry.vertices[face.c].z;
            return Math.max(v1, v2, v3);
        };
        // apply color scale if available
        if (colorScale)
            geo.faces.forEach(face => (face.color = new index_1.Color(colorScale(getHighPoint(geo, face)).hex())));
        mesh.rotateX(-Math.PI / 2);
        mesh.updateMatrix();
        plane.computeFaceNormals();
        plane.computeVertexNormals();
        mesh.name = 'heightmap';
        return mesh;
    }
}
exports.default = HeightMap;
//# sourceMappingURL=heightmap.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/index.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * These Plugins are not included in the Core three-graphics package
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Cameras = exports.HaveSomeFun = exports.WebXR = exports.Transform = exports.TextureCube = exports.Misc = exports.Mixers = exports.WarpSpeed = exports.HeightMap = exports.CSG = exports.Factories = exports.Lights = exports.Loaders = void 0;
const loaders_1 = __webpack_require__(/*! ./loaders */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/loaders.js");
exports.Loaders = loaders_1.default;
const lights_1 = __webpack_require__(/*! ./lights */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/lights.js");
exports.Lights = lights_1.default;
const factories_1 = __webpack_require__(/*! @enable3d/common/dist/factories */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/factories.js");
exports.Factories = factories_1.default;
const csg_1 = __webpack_require__(/*! ./csg */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/csg.js");
exports.CSG = csg_1.default;
const heightmap_1 = __webpack_require__(/*! ./heightmap */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/heightmap.js");
exports.HeightMap = heightmap_1.default;
const warpSpeed_1 = __webpack_require__(/*! ./warpSpeed */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/warpSpeed.js");
exports.WarpSpeed = warpSpeed_1.default;
const mixers_1 = __webpack_require__(/*! ./mixers */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/mixers.js");
exports.Mixers = mixers_1.default;
const misc_1 = __webpack_require__(/*! ./misc */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/misc.js");
exports.Misc = misc_1.default;
Object.defineProperty(exports, "TextureCube", ({ enumerable: true, get: function () { return misc_1.TextureCube; } }));
const transform_1 = __webpack_require__(/*! ./transform */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/transform.js");
exports.Transform = transform_1.default;
const webxr_1 = __webpack_require__(/*! ./webxr */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/webxr.js");
exports.WebXR = webxr_1.default;
const haveSomeFun_1 = __webpack_require__(/*! ./haveSomeFun */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/haveSomeFun.js");
exports.HaveSomeFun = haveSomeFun_1.default;
const cameras_1 = __webpack_require__(/*! ./cameras */ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/cameras.js");
exports.Cameras = cameras_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/lights.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/lights.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const index_2 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const index_3 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class PointLightHelper extends index_1.Object3D {
    constructor(scene, light, size, color) {
        super();
        this.scene = scene;
        this.light = light;
        this.size = size;
        this.color = color;
        this.geo = new index_1.SphereBufferGeometry(size || 0.2, 16, 8);
        this.mat = new index_1.MeshBasicMaterial({ color: color || light.color });
        this.mesh = new index_1.Mesh(this.geo, this.mat);
        this.add(this.mesh);
        light.add(this);
    }
    dispose() {
        this.mesh.geometry.dispose();
        if (!Array.isArray(this.mesh.material))
            this.mesh.material.dispose();
        else
            this.mesh.material.forEach(m => m.dispose());
        this.remove(this.mesh);
    }
    update() { }
}
class Lights {
    constructor(scene) {
        this.scene = scene;
    }
    get helper() {
        return {
            directionalLightHelper: (light, size, color) => {
                const helper = new index_3.DirectionalLightHelper(light, size, color);
                this.scene.add(helper);
                return helper;
            },
            spotLightHelper: (light, color) => {
                const helper = new index_3.SpotLightHelper(light, color);
                this.scene.add(helper);
                return helper;
            },
            pointLightHelper: (light, size, color) => new PointLightHelper(this.scene, light, size, color)
        };
    }
    directionalLight(options = {}) {
        const { color = 0xffffff, intensity = 1 } = options;
        const light = new index_2.DirectionalLight(color, intensity);
        light.castShadow = true;
        this.scene.add(light);
        return light;
    }
    hemisphereLight(options = {}) {
        const { skyColor = 0xffffff, groundColor = 0xffffff, intensity = 1 } = options;
        const light = new index_2.HemisphereLight(skyColor, groundColor, intensity);
        this.scene.add(light);
        return light;
    }
    ambientLight(options = {}) {
        const { color = 0xffffff, intensity = 1 } = options;
        const light = new index_2.AmbientLight(color, intensity);
        this.scene.add(light);
        return light;
    }
    pointLight(options = {}) {
        const { color = 0xffffff, intensity = 1, distance = 0, decay = 1 } = options;
        const light = new index_2.PointLight(color, intensity, distance, decay);
        light.castShadow = true;
        this.scene.add(light);
        return light;
    }
    spotLight(options = {}) {
        const { color = 0xffffff, intensity = 1, distance = 0, angle = Math.PI / 8, penumbra = 0, decay = 1 } = options;
        const light = new index_2.SpotLight(color, intensity, distance, angle, penumbra, decay);
        light.castShadow = true;
        this.scene.add(light);
        return light;
    }
    rectAreaLight(options = {}) {
        const { color = 0xffffff, intensity = 1, width = 10, height = 10 } = options;
        const light = new index_2.RectAreaLight(color, intensity, width, height);
        this.scene.add(light);
        return light;
    }
}
exports.default = Lights;
//# sourceMappingURL=lights.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/loaders.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/loaders.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class Loaders {
    constructor(cache, textureAnisotropy) {
        this.cache = cache;
        this.textureAnisotropy = textureAnisotropy;
    }
    get fileLoader() {
        if (!this._fileLoader)
            this._fileLoader = new index_1.FileLoader();
        return this._fileLoader;
    }
    get imageLoader() {
        if (!this._imgLoader)
            this._imgLoader = new index_1.ImageLoader();
        return this._imgLoader;
    }
    get svgLoader() {
        if (!this._svgLoader)
            this._svgLoader = new index_1.SVGLoader();
        return this._svgLoader;
    }
    get textureLoader() {
        if (!this._textureLoader)
            this._textureLoader = new index_1.TextureLoader();
        return this._textureLoader;
    }
    get objectLoader() {
        if (!this._objectLoader)
            this._objectLoader = new index_1.ObjectLoader();
        return this._objectLoader;
    }
    get gltfLoader() {
        if (!this._gltfLoader)
            this._gltfLoader = new index_1.GLTFLoader();
        return this._gltfLoader;
    }
    get fbxLoader() {
        if (!this._fbxLoader)
            this._fbxLoader = new index_1.FBXLoader();
        return this._fbxLoader;
    }
    preload(key, url) {
        return __awaiter(this, void 0, void 0, function* () {
            this.cache.add(key, url);
            return new Promise(resolve => {
                const isModel = /\.fbx$|\.glb$|\.gltf$/.test(url);
                const isTexture = /\.jpe?g$|\.png$/.test(url);
                if (isTexture) {
                    this.textureLoader.load(url, texture => {
                        return resolve(texture);
                    });
                }
                else {
                    if (isModel)
                        this.fileLoader.setResponseType('arraybuffer');
                    this.fileLoader.load(url, file => {
                        return resolve(file);
                    });
                }
            });
        });
    }
    file(url) {
        const key = this.cache.get(url);
        url = key ? key : url;
        return new Promise(resolve => {
            this.fileLoader.load(url, file => {
                return resolve(file);
            });
        });
    }
    svg(url) {
        const key = this.cache.get(url);
        url = key ? key : url;
        return new Promise(resolve => {
            this.svgLoader.load(url, svg => {
                return resolve(svg);
            });
        });
    }
    texture(url) {
        const isBase64 = /^data:image\/[\S]+;base64,/gm.test(url);
        // we do not want to cache base64 images
        if (!isBase64) {
            const key = this.cache.get(url);
            url = key ? key : url;
        }
        return new Promise(resolve => {
            this.textureLoader.load(url, (texture) => {
                // options
                texture.anisotropy = this.textureAnisotropy;
                texture.format = index_1.RGBAFormat;
                texture.needsUpdate = true;
                resolve(texture);
            });
        });
    }
    // examples: https://github.com/mrdoob/three.js/wiki/JSON-Object-Scene-format-4
    object(url) {
        const key = this.cache.get(url);
        url = key ? key : url;
        return new Promise(resolve => {
            this.objectLoader.load(url, (json) => {
                resolve(json);
            });
        });
    }
    gltf(url) {
        const key = this.cache.get(url);
        url = key ? key : url;
        return new Promise(resolve => {
            this.gltfLoader.load(url, (gltf) => {
                resolve(gltf);
            });
        });
    }
    fbx(url) {
        const key = this.cache.get(url);
        url = key ? key : url;
        return new Promise(resolve => {
            this.fbxLoader.load(url, (fbx) => {
                resolve(fbx);
            });
        });
    }
}
exports.default = Loaders;
//# sourceMappingURL=loaders.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/misc.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/misc.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextureCube = void 0;
// misc
const water_1 = __webpack_require__(/*! @enable3d/common/dist/misc/water */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/misc/water.js");
const dist_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class Misc {
    constructor(scene, renderer, factories) {
        this.scene = scene;
        this.renderer = renderer;
        this.factories = factories;
    }
    water(config = {}) {
        water_1.addWater(this.scene, this.renderer, config);
    }
    textureCube(textures) {
        if (textures.length !== 6) {
            console.log('[enable3d] You need to pass 6 urls to textureCube()');
        }
        const textureCube = new TextureCube();
        textures.forEach((texture, i) => {
            texture.wrapS = texture.wrapT = dist_1.RepeatWrapping;
            const material = this.factories.add.material({ phong: { map: texture } });
            textureCube.materials[i] = material;
        });
        return textureCube;
    }
}
exports.default = Misc;
class TextureCube {
    constructor() {
        this.materials = new Array(6);
    }
    get texture() {
        return {
            left: this.getTexture(0),
            right: this.getTexture(1),
            up: this.getTexture(2),
            down: this.getTexture(3),
            front: this.getTexture(4),
            back: this.getTexture(5)
        };
    }
    getTexture(i) {
        // @ts-ignore
        return this.materials[i].map;
    }
}
exports.TextureCube = TextureCube;
//# sourceMappingURL=misc.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/mixers.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/mixers.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const types_1 = __webpack_require__(/*! @enable3d/common/dist/types */ "./node_modules/enable3d/node_modules/@enable3d/common/dist/types.js");
class Mixers {
    constructor() {
        this._mixers = [];
    }
    /**
     * Create an Animation Mixer and ads it to the mixers array
     */
    animationMixer(root) {
        const mixer = new types_1.AnimationMixer(root);
        this.mixers.add(mixer);
        return mixer;
    }
    get mixers() {
        return {
            create: (root) => this.animationMixer(root),
            add: (animationMixer) => this._mixers.push(animationMixer),
            get: () => this._mixers,
            update: (delta) => { var _a; return (_a = this._mixers) === null || _a === void 0 ? void 0 : _a.forEach(mixer => mixer.update(delta / 1000)); }
        };
    }
}
exports.default = Mixers;
//# sourceMappingURL=mixers.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/transform.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/transform.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const index_2 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
class Transform {
    constructor(camera, renderer) {
        this.camera = camera;
        this.renderer = renderer;
    }
    geometryToBufferGeometry(geometry) {
        // @ts-ignore
        if (geometry.isGeometry)
            return new index_1.BufferGeometry().fromGeometry(geometry);
        else
            return geometry;
    }
    bufferGeometryToGeometry(bufferGeometry) {
        // @ts-ignore
        if (bufferGeometry.isBufferGeometry)
            return new index_1.Geometry().fromBufferGeometry(bufferGeometry);
        else
            return bufferGeometry;
    }
    /**
     * Transforms your svg files to paths.
     */
    fromSVGtoShape(svg, isCCW = false, noHoles) {
        if (svg) {
            const svgLoader = new index_2.SVGLoader();
            const shapes = [];
            svgLoader.parse(svg).paths.forEach(path => {
                path.toShapes(isCCW, noHoles).forEach(shape => {
                    shapes.push(shape);
                });
            });
            return shapes;
        }
        return [];
    }
    from3dto2d(position) {
        const vector3 = new index_1.Vector3(position.x, position.y, position.z);
        const canvas = this.renderer.domElement;
        // map to normalized device coordinate (NDC) space
        this.camera.updateMatrixWorld();
        vector3.project(this.camera);
        // map to 2D screen space
        const x = Math.round((vector3.x + 1) * (canvas.width / 2));
        const y = Math.round((-vector3.y + 1) * (canvas.height / 2));
        return new index_1.Vector2(x, y);
    }
    /**
     *
     * @param x X coordinate in normalized device coordinate (NDC) (-1 to +1).
     * @param y Y coordinate in normalized device coordinate (NDC) (-1 to +1).
     * @param distanceFromCamera The distance from the camera.
     */
    from2dto3d(x, y, distanceFromCamera) {
        var _a;
        // initialize temporary variables
        if (!this.tmpPlane) {
            const geo = new index_1.PlaneBufferGeometry(10000, 10000);
            const mat = new index_1.MeshBasicMaterial({ transparent: true, opacity: 0.25 });
            this.tmpPlane = new index_1.Mesh(geo, mat);
            this.tmpPlane.name = '_tmp_raycast_plane';
        }
        if (!this.tmpRaycaster)
            this.tmpRaycaster = new index_1.Raycaster();
        if (!this.tmpVector3)
            this.tmpVector3 = new index_1.Vector3();
        // holds the position we want to return later
        let position;
        // add plane parallel to camera
        this.tmpPlane.setRotationFromEuler(this.camera.rotation);
        const p = this.camera.position;
        this.tmpPlane.position.set(p.x, p.y, p.z);
        // adjust the distance of the plane
        this.camera.getWorldDirection(this.tmpVector3);
        this.tmpPlane.position.add(this.tmpVector3.clone().multiplyScalar(distanceFromCamera));
        this.tmpPlane.updateMatrix();
        this.tmpPlane.updateMatrixWorld(true);
        // raycast
        this.tmpRaycaster.setFromCamera({ x, y }, this.camera);
        // check intersection with plane
        const intersects = this.tmpRaycaster.intersectObjects([this.tmpPlane]);
        if (((_a = intersects[0]) === null || _a === void 0 ? void 0 : _a.object.name) === '_tmp_raycast_plane')
            position = intersects[0].point;
        return position;
    }
}
exports.default = Transform;
//# sourceMappingURL=transform.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/warpSpeed.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/warpSpeed.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const index_1 = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
const THREE = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class WarpSpeed {
    constructor(scene, renderer, camera, lights, physics, load, factories) {
        this.scene = scene;
        this.renderer = renderer;
        this.camera = camera;
        this.lights = lights;
        this.physics = physics;
        this.load = load;
        this.factories = factories;
    }
    /**
     * It takes took long to setup the third dimension your self? Get started with warp speed by using this function.
     * @param features Pass the features you want to setup.
     */
    warpSpeed(...features) {
        return __awaiter(this, void 0, void 0, function* () {
            let Features = {};
            // test for negative features
            const negativeFeatures = features.filter(feature => /^-\w+/.test(feature));
            const hasNegativeFeatures = negativeFeatures.length > 0 ? true : false;
            // add all features
            if (features.length === 0 || hasNegativeFeatures)
                features = ['light', 'camera', 'lookAtCenter', 'ground', 'grid', 'orbitControls', 'fog', 'sky'];
            // remove the negative features
            if (hasNegativeFeatures) {
                const featuresToRemove = negativeFeatures.map(feature => feature.substr(1));
                featuresToRemove.forEach(feature => {
                    // @ts-ignore
                    const index = features.indexOf(feature);
                    features.splice(index, 1);
                });
            }
            // TODO: add fog
            if (features.includes('fog')) {
            }
            if (features.includes('sky')) {
                // https://github.com/mrdoob/three.js/blob/master/examples/webgl_lights_hemisphere.html
                // SKYDOME
                const vertexShader = [
                    'varying vec3 vWorldPosition;',
                    '',
                    'void main() {',
                    '',
                    'vec4 worldPosition = modelMatrix * vec4( position, 1.0 );',
                    'vWorldPosition = worldPosition.xyz;',
                    '',
                    'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',
                    '',
                    '}'
                ].join('\n');
                const fragmentShader = [
                    'uniform vec3 topColor;',
                    'uniform vec3 bottomColor;',
                    'uniform float offset;',
                    'uniform float exponent;',
                    '',
                    'varying vec3 vWorldPosition;',
                    '',
                    'void main() {',
                    '',
                    'float h = normalize( vWorldPosition + offset ).y;',
                    'gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );',
                    '',
                    '}'
                ].join('\n');
                const uniforms = {
                    topColor: { value: new THREE.Color(0x0077ff) },
                    bottomColor: { value: new THREE.Color(0xedf5ff) },
                    offset: { value: 33 },
                    exponent: { value: 0.6 }
                };
                var skyGeo = new THREE.SphereBufferGeometry(500, 32, 15);
                var skyMat = new THREE.ShaderMaterial({
                    uniforms: uniforms,
                    vertexShader: vertexShader,
                    fragmentShader: fragmentShader,
                    side: THREE.BackSide
                });
                var sky = new THREE.Mesh(skyGeo, skyMat);
                this.scene.add(sky);
            }
            if (features.includes('camera')) {
                this.camera.position.set(0, 6, 12);
                Features = Object.assign({ camera: this.camera }, Features);
            }
            if (features.includes('light')) {
                const intensity = 0.4;
                const hemisphereLight = this.lights.hemisphereLight({ skyColor: 0xffffff, groundColor: 0x000000, intensity });
                const ambientLight = this.lights.ambientLight({ color: 0xffffff, intensity });
                const directionalLight = this.lights.directionalLight({ color: 0xffffff, intensity });
                directionalLight.position.set(100, 200, 50);
                const d = 20;
                directionalLight.shadow.camera.top = d;
                directionalLight.shadow.camera.bottom = -d;
                directionalLight.shadow.camera.left = -d;
                directionalLight.shadow.camera.right = d;
                directionalLight.shadow.mapSize.set(1024, 1024);
                // this.directionalLight = light
                const lights = {
                    ambientLight,
                    directionalLight,
                    hemisphereLight
                };
                Features = Object.assign({ lights }, Features);
            }
            if (features.includes('lookAtCenter')) {
                this.camera.lookAt(this.scene.position);
            }
            if (features.includes('ground')) {
                // grid (texture)
                const addGrid = features.includes('grid');
                const gridData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOnAAADusBZ+q87AAAAJtJREFUeJzt0EENwDAAxLDbNP6UOxh+NEYQ5dl2drFv286598GrA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAa4AO0BqgA7QG6ACtATpAu37AD8eaBH5JQdVbAAAAAElFTkSuQmCC';
                const texture = yield this.load.texture(gridData);
                texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
                texture.repeat.set(21, 21);
                // ground
                const geometry = { name: 'ground', width: 21, height: 21, depth: 1, y: -0.5 };
                const material = {
                    phong: { map: addGrid ? texture : null, transparent: true, opacity: 0.8, color: 0xffffff }
                };
                let ground;
                if (window.__loadPhysics) {
                    ground = this.physics.add.ground(geometry, material);
                    ground.body.setRestitution(1);
                }
                else {
                    ground = this.factories.add.ground(geometry, material);
                }
                ground.receiveShadow = true;
                Features = Object.assign({ ground }, Features);
            }
            if (features.includes('orbitControls')) {
                // for phaser
                // this.root is the phaser scene (scene3D)
                // this.root.scale.parent instead of this.renderer.domElement
                const orbitControls = new index_1.OrbitControls(this.camera, document.getElementById('enable3d-phaser-canvas') || this.renderer.domElement);
                Features = Object.assign({ orbitControls }, Features);
            }
            return Features;
        });
    }
}
exports.default = WarpSpeed;
//# sourceMappingURL=warpSpeed.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/webxr.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/plugins/webxr.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const THREE = __webpack_require__(/*! @enable3d/three-wrapper/dist/index */ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js");
class WebXR {
    constructor(_renderer, _scene, _camera) {
        // https://medium.com/samsung-internet-dev/vr-locomotion-740dafa85914
        this._renderer = _renderer;
        this._scene = _scene;
        this._camera = _camera;
        this.controllerModelFactory = new THREE.XRControllerModelFactory();
        // const geo = new THREE.SphereGeometry(0.5)
        // const mat = new THREE.MeshLambertMaterial({ color: 0xff0000 })
        // this.dot = new THREE.Mesh(geo, mat)
        // this.dot.position.set(0, 1, 0)
        this.cameraGroup = new THREE.Group();
        this.cameraGroup.add(_camera);
        _scene.add(this.cameraGroup);
        _renderer.xr.enabled = true;
        // add vr button
        const vrButton = THREE.VRButton.createButton(_renderer);
        vrButton.style.cssText += 'background: rgba(0, 0, 0, 0.8); ';
        document.body.appendChild(vrButton);
    }
    get isPresenting() {
        var _a, _b;
        return !!((_b = (_a = this._renderer) === null || _a === void 0 ? void 0 : _a.xr) === null || _b === void 0 ? void 0 : _b.isPresenting);
    }
    getController(id) {
        const controller = this._renderer.xr.getController(id);
        this.cameraGroup.add(controller);
        return controller;
    }
    getControllerGrip(id) {
        const controllerGrip = this._renderer.xr.getControllerGrip(id);
        const model = this.controllerModelFactory.createControllerModel(controllerGrip);
        controllerGrip.add(model);
        this.cameraGroup.add(controllerGrip);
        return controllerGrip;
    }
    getControllerRay(data) {
        // https://github.com/mrdoob/three.js/blob/master/examples/webxr_vr_ballshooter.html
        const { targetRayMode } = data;
        if (targetRayMode === 'tracked-pointer') {
            let geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, -1], 3));
            geometry.setAttribute('color', new THREE.Float32BufferAttribute([1, 0, 0, 1, 1, 1], 3));
            let material = new THREE.LineBasicMaterial({
                vertexColors: true
            });
            return new THREE.Line(geometry, material);
        }
        if (targetRayMode === 'gaze') {
            let geometry = new THREE.RingBufferGeometry(0.02, 0.04, 32).translate(0, 0, -1);
            let material = new THREE.MeshBasicMaterial({ color: 'red', opacity: 0.5, transparent: true });
            return new THREE.Mesh(geometry, material);
        }
        return;
    }
    get camera() {
        return this.WebXRCamera;
    }
    get WebXRCamera() {
        var _a;
        return {
            group: this.cameraGroup,
            position: (_a = this.cameraGroup) === null || _a === void 0 ? void 0 : _a.position,
            rotation: this.isPresenting ? this._renderer.xr.getCamera(this._camera).rotation : undefined,
            getWorldDirection: (target) => this.isPresenting ? this._renderer.xr.getCamera(this._camera).getWorldDirection(target) : undefined
        };
    }
}
exports.default = WebXR;
//# sourceMappingURL=webxr.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/version.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-graphics/dist/version.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VERSION = void 0;
exports.VERSION = '0.21.0';
//# sourceMappingURL=version.js.map

/***/ }),

/***/ "./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/enable3d/node_modules/@enable3d/three-wrapper/dist/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";n.r(e),n.d(e,"ACESFilmicToneMapping",(function(){return nt})),n.d(e,"AddEquation",(function(){return T})),n.d(e,"AddOperation",(function(){return K})),n.d(e,"AdditiveAnimationBlendMode",(function(){return Xe})),n.d(e,"AdditiveBlending",(function(){return w})),n.d(e,"AlphaFormat",(function(){return Bt})),n.d(e,"AlwaysDepth",(function(){return k})),n.d(e,"AlwaysStencilFunc",(function(){return Sn})),n.d(e,"AmbientLight",(function(){return Lh})),n.d(e,"AmbientLightProbe",(function(){return Jh})),n.d(e,"AnimationClip",(function(){return Du})),n.d(e,"AnimationLoader",(function(){return Vu})),n.d(e,"AnimationMixer",(function(){return Ad})),n.d(e,"AnimationObjectGroup",(function(){return Td})),n.d(e,"AnimationUtils",(function(){return _u})),n.d(e,"ArcCurve",(function(){return Ku})),n.d(e,"ArrayCamera",(function(){return Ps})),n.d(e,"ArrowHelper",(function(){return gp})),n.d(e,"Audio",(function(){return sd})),n.d(e,"AudioAnalyser",(function(){return pd})),n.d(e,"AudioContext",(function(){return qh})),n.d(e,"AudioListener",(function(){return ad})),n.d(e,"AudioLoader",(function(){return Yh})),n.d(e,"AxesHelper",(function(){return vp})),n.d(e,"AxisHelper",(function(){return vf})),n.d(e,"BackSide",(function(){return m})),n.d(e,"BasicDepthPacking",(function(){return on})),n.d(e,"BasicShadowMap",(function(){return u})),n.d(e,"BinaryTextureLoader",(function(){return _f})),n.d(e,"Bone",(function(){return lc})),n.d(e,"BooleanKeyframeTrack",(function(){return Lu})),n.d(e,"BoundingBoxHelper",(function(){return yf})),n.d(e,"Box2",(function(){return Fd})),n.d(e,"Box3",(function(){return tr})),n.d(e,"Box3Helper",(function(){return hp})),n.d(e,"BoxBufferGeometry",(function(){return mo})),n.d(e,"BoxGeometry",(function(){return Wc})),n.d(e,"BoxHelper",(function(){return up})),n.d(e,"BufferAttribute",(function(){return Ti})),n.d(e,"BufferGeometry",(function(){return qi})),n.d(e,"BufferGeometryLoader",(function(){return Bh})),n.d(e,"ByteType",(function(){return Tt})),n.d(e,"Cache",(function(){return Fu})),n.d(e,"Camera",(function(){return bo})),n.d(e,"CameraHelper",(function(){return sp})),n.d(e,"CanvasRenderer",(function(){return Tf})),n.d(e,"CanvasTexture",(function(){return Uc})),n.d(e,"CatmullRomCurve3",(function(){return rh})),n.d(e,"CineonToneMapping",(function(){return et})),n.d(e,"CircleBufferGeometry",(function(){return Xc})),n.d(e,"CircleGeometry",(function(){return qc})),n.d(e,"ClampToEdgeWrapping",(function(){return dt})),n.d(e,"Clock",(function(){return td})),n.d(e,"ClosedSplineCurve3",(function(){return ff})),n.d(e,"Color",(function(){return yi})),n.d(e,"ColorKeyframeTrack",(function(){return Ru})),n.d(e,"CompressedTexture",(function(){return Fc})),n.d(e,"CompressedTextureLoader",(function(){return ju})),n.d(e,"ConeBufferGeometry",(function(){return Kc})),n.d(e,"ConeGeometry",(function(){return Jc})),n.d(e,"CubeCamera",(function(){return _o})),n.d(e,"CubeGeometry",(function(){return Wc})),n.d(e,"CubeReflectionMapping",(function(){return ot})),n.d(e,"CubeRefractionMapping",(function(){return at})),n.d(e,"CubeTexture",(function(){return Mo})),n.d(e,"CubeTextureLoader",(function(){return Xu})),n.d(e,"CubeUVReflectionMapping",(function(){return lt})),n.d(e,"CubeUVRefractionMapping",(function(){return ut})),n.d(e,"CubicBezierCurve",(function(){return sh})),n.d(e,"CubicBezierCurve3",(function(){return ch})),n.d(e,"CubicInterpolant",(function(){return Su})),n.d(e,"CullFaceBack",(function(){return s})),n.d(e,"CullFaceFront",(function(){return c})),n.d(e,"CullFaceFrontBack",(function(){return l})),n.d(e,"CullFaceNone",(function(){return a})),n.d(e,"Curve",(function(){return Zu})),n.d(e,"CurvePath",(function(){return mh})),n.d(e,"CustomBlending",(function(){return S})),n.d(e,"CustomToneMapping",(function(){return rt})),n.d(e,"CylinderBufferGeometry",(function(){return Yc})),n.d(e,"CylinderGeometry",(function(){return Zc})),n.d(e,"Cylindrical",(function(){return Dd})),n.d(e,"DataTexture",(function(){return To})),n.d(e,"DataTexture2DArray",(function(){return Zo})),n.d(e,"DataTexture3D",(function(){return Jo})),n.d(e,"DataTextureLoader",(function(){return qu})),n.d(e,"DataUtils",(function(){return bp})),n.d(e,"DecrementStencilOp",(function(){return pn})),n.d(e,"DecrementWrapStencilOp",(function(){return mn})),n.d(e,"DefaultLoadingManager",(function(){return zu})),n.d(e,"DepthFormat",(function(){return kt})),n.d(e,"DepthStencilFormat",(function(){return Vt})),n.d(e,"DepthTexture",(function(){return zc})),n.d(e,"DirectionalLight",(function(){return Ah})),n.d(e,"DirectionalLightHelper",(function(){return ip})),n.d(e,"DiscreteInterpolant",(function(){return Eu})),n.d(e,"DodecahedronBufferGeometry",(function(){return $c})),n.d(e,"DodecahedronGeometry",(function(){return tl})),n.d(e,"DoubleSide",(function(){return g})),n.d(e,"DstAlphaFactor",(function(){return B})),n.d(e,"DstColorFactor",(function(){return U})),n.d(e,"DynamicBufferAttribute",(function(){return rf})),n.d(e,"DynamicCopyUsage",(function(){return In})),n.d(e,"DynamicDrawUsage",(function(){return En})),n.d(e,"DynamicReadUsage",(function(){return Rn})),n.d(e,"EdgesGeometry",(function(){return ol})),n.d(e,"EdgesHelper",(function(){return xf})),n.d(e,"EllipseCurve",(function(){return Ju})),n.d(e,"EqualDepth",(function(){return W})),n.d(e,"EqualStencilFunc",(function(){return xn})),n.d(e,"EquirectangularReflectionMapping",(function(){return st})),n.d(e,"EquirectangularRefractionMapping",(function(){return ct})),n.d(e,"Euler",(function(){return Or})),n.d(e,"EventDispatcher",(function(){return Bn})),n.d(e,"ExtrudeBufferGeometry",(function(){return Nl})),n.d(e,"ExtrudeGeometry",(function(){return Bl})),n.d(e,"Face3",(function(){return xi})),n.d(e,"Face4",(function(){return kp})),n.d(e,"FaceColors",(function(){return Xp})),n.d(e,"FileLoader",(function(){return ku})),n.d(e,"FlatShading",(function(){return v})),n.d(e,"Float16BufferAttribute",(function(){return Oi})),n.d(e,"Float32Attribute",(function(){return df})),n.d(e,"Float32BufferAttribute",(function(){return Ni})),n.d(e,"Float64Attribute",(function(){return pf})),n.d(e,"Float64BufferAttribute",(function(){return Di})),n.d(e,"FloatType",(function(){return Pt})),n.d(e,"Fog",(function(){return Us})),n.d(e,"FogExp2",(function(){return Fs})),n.d(e,"Font",(function(){return Vh})),n.d(e,"FontLoader",(function(){return Wh})),n.d(e,"FrontSide",(function(){return f})),n.d(e,"Frustum",(function(){return Lo})),n.d(e,"GLBufferAttribute",(function(){return Pd})),n.d(e,"GLSL1",(function(){return Nn})),n.d(e,"GLSL3",(function(){return Dn})),n.d(e,"GammaEncoding",(function(){return Qe})),n.d(e,"Geometry",(function(){return jc})),n.d(e,"GeometryUtils",(function(){return Sf})),n.d(e,"GreaterDepth",(function(){return q})),n.d(e,"GreaterEqualDepth",(function(){return X})),n.d(e,"GreaterEqualStencilFunc",(function(){return Mn})),n.d(e,"GreaterStencilFunc",(function(){return wn})),n.d(e,"GridHelper",(function(){return $d})),n.d(e,"Group",(function(){return Cs})),n.d(e,"HalfFloatType",(function(){return Ct})),n.d(e,"HemisphereLight",(function(){return xh})),n.d(e,"HemisphereLightHelper",(function(){return Qd})),n.d(e,"HemisphereLightProbe",(function(){return Zh})),n.d(e,"IcosahedronBufferGeometry",(function(){return Fl})),n.d(e,"IcosahedronGeometry",(function(){return Ul})),n.d(e,"ImageBitmapLoader",(function(){return Hh})),n.d(e,"ImageLoader",(function(){return Wu})),n.d(e,"ImageUtils",(function(){return Vn})),n.d(e,"ImmediateRenderObject",(function(){return Hd})),n.d(e,"IncrementStencilOp",(function(){return dn})),n.d(e,"IncrementWrapStencilOp",(function(){return fn})),n.d(e,"InstancedBufferAttribute",(function(){return Dh})),n.d(e,"InstancedBufferGeometry",(function(){return Nh})),n.d(e,"InstancedInterleavedBuffer",(function(){return Rd})),n.d(e,"InstancedMesh",(function(){return vc})),n.d(e,"Int16Attribute",(function(){return cf})),n.d(e,"Int16BufferAttribute",(function(){return Ri})),n.d(e,"Int32Attribute",(function(){return uf})),n.d(e,"Int32BufferAttribute",(function(){return Ci})),n.d(e,"Int8Attribute",(function(){return of})),n.d(e,"Int8BufferAttribute",(function(){return Ei})),n.d(e,"IntType",(function(){return Lt})),n.d(e,"InterleavedBuffer",(function(){return Gs})),n.d(e,"InterleavedBufferAttribute",(function(){return ks})),n.d(e,"Interpolant",(function(){return Mu})),n.d(e,"InterpolateDiscrete",(function(){return ze})),n.d(e,"InterpolateLinear",(function(){return Ge})),n.d(e,"InterpolateSmooth",(function(){return He})),n.d(e,"InvertStencilOp",(function(){return gn})),n.d(e,"JSONLoader",(function(){return Ef})),n.d(e,"KeepStencilOp",(function(){return un})),n.d(e,"KeyframeTrack",(function(){return Au})),n.d(e,"LOD",(function(){return sc})),n.d(e,"LatheBufferGeometry",(function(){return zl})),n.d(e,"LatheGeometry",(function(){return Gl})),n.d(e,"Layers",(function(){return Br})),n.d(e,"LensFlare",(function(){return Lf})),n.d(e,"LessDepth",(function(){return V})),n.d(e,"LessEqualDepth",(function(){return j})),n.d(e,"LessEqualStencilFunc",(function(){return bn})),n.d(e,"LessStencilFunc",(function(){return yn})),n.d(e,"Light",(function(){return yh})),n.d(e,"LightProbe",(function(){return Ch})),n.d(e,"Line",(function(){return Sc})),n.d(e,"Line3",(function(){return Gd})),n.d(e,"LineBasicMaterial",(function(){return yc})),n.d(e,"LineCurve",(function(){return lh})),n.d(e,"LineCurve3",(function(){return uh})),n.d(e,"LineDashedMaterial",(function(){return bu})),n.d(e,"LineLoop",(function(){return Lc})),n.d(e,"LinePieces",(function(){return jp})),n.d(e,"LineSegments",(function(){return Ac})),n.d(e,"LineStrip",(function(){return Vp})),n.d(e,"LinearEncoding",(function(){return Je})),n.d(e,"LinearFilter",(function(){return xt})),n.d(e,"LinearInterpolant",(function(){return Tu})),n.d(e,"LinearMipMapLinearFilter",(function(){return Mt})),n.d(e,"LinearMipMapNearestFilter",(function(){return wt})),n.d(e,"LinearMipmapLinearFilter",(function(){return _t})),n.d(e,"LinearMipmapNearestFilter",(function(){return bt})),n.d(e,"LinearToneMapping",(function(){return $})),n.d(e,"Loader",(function(){return Gu})),n.d(e,"LoaderUtils",(function(){return Oh})),n.d(e,"LoadingManager",(function(){return Uu})),n.d(e,"LogLuvEncoding",(function(){return tn})),n.d(e,"LoopOnce",(function(){return Be})),n.d(e,"LoopPingPong",(function(){return Ue})),n.d(e,"LoopRepeat",(function(){return Fe})),n.d(e,"LuminanceAlphaFormat",(function(){return Gt})),n.d(e,"LuminanceFormat",(function(){return zt})),n.d(e,"MOUSE",(function(){return i})),n.d(e,"Material",(function(){return wi})),n.d(e,"MaterialLoader",(function(){return Ih})),n.d(e,"Math",(function(){return zn})),n.d(e,"MathUtils",(function(){return zn})),n.d(e,"Matrix3",(function(){return Hn})),n.d(e,"Matrix4",(function(){return Tr})),n.d(e,"MaxEquation",(function(){return R})),n.d(e,"Mesh",(function(){return ho})),n.d(e,"MeshBasicMaterial",(function(){return _i})),n.d(e,"MeshDepthMaterial",(function(){return Ss})),n.d(e,"MeshDistanceMaterial",(function(){return Ts})),n.d(e,"MeshFaceMaterial",(function(){return Yp})),n.d(e,"MeshLambertMaterial",(function(){return yu})),n.d(e,"MeshMatcapMaterial",(function(){return xu})),n.d(e,"MeshNormalMaterial",(function(){return vu})),n.d(e,"MeshPhongMaterial",(function(){return mu})),n.d(e,"MeshPhysicalMaterial",(function(){return fu})),n.d(e,"MeshStandardMaterial",(function(){return pu})),n.d(e,"MeshToonMaterial",(function(){return gu})),n.d(e,"MinEquation",(function(){return L})),n.d(e,"MirroredRepeatWrapping",(function(){return pt})),n.d(e,"MixOperation",(function(){return J})),n.d(e,"MultiMaterial",(function(){return Zp})),n.d(e,"MultiplyBlending",(function(){return M})),n.d(e,"MultiplyOperation",(function(){return Z})),n.d(e,"NearestFilter",(function(){return ft})),n.d(e,"NearestMipMapLinearFilter",(function(){return yt})),n.d(e,"NearestMipMapNearestFilter",(function(){return gt})),n.d(e,"NearestMipmapLinearFilter",(function(){return vt})),n.d(e,"NearestMipmapNearestFilter",(function(){return mt})),n.d(e,"NeverDepth",(function(){return H})),n.d(e,"NeverStencilFunc",(function(){return vn})),n.d(e,"NoBlending",(function(){return x})),n.d(e,"NoColors",(function(){return Wp})),n.d(e,"NoToneMapping",(function(){return Q})),n.d(e,"NormalAnimationBlendMode",(function(){return We})),n.d(e,"NormalBlending",(function(){return b})),n.d(e,"NotEqualDepth",(function(){return Y})),n.d(e,"NotEqualStencilFunc",(function(){return _n})),n.d(e,"NumberKeyframeTrack",(function(){return Pu})),n.d(e,"Object3D",(function(){return Jr})),n.d(e,"ObjectLoader",(function(){return Fh})),n.d(e,"ObjectSpaceNormalMap",(function(){return cn})),n.d(e,"OctahedronBufferGeometry",(function(){return Hl})),n.d(e,"OctahedronGeometry",(function(){return kl})),n.d(e,"OneFactor",(function(){return C})),n.d(e,"OneMinusDstAlphaFactor",(function(){return F})),n.d(e,"OneMinusDstColorFactor",(function(){return z})),n.d(e,"OneMinusSrcAlphaFactor",(function(){return D})),n.d(e,"OneMinusSrcColorFactor",(function(){return O})),n.d(e,"OrthographicCamera",(function(){return Th})),n.d(e,"PCFShadowMap",(function(){return h})),n.d(e,"PCFSoftShadowMap",(function(){return d})),n.d(e,"PMREMGenerator",(function(){return Op})),n.d(e,"ParametricBufferGeometry",(function(){return Vl})),n.d(e,"ParametricGeometry",(function(){return jl})),n.d(e,"Particle",(function(){return Kp})),n.d(e,"ParticleBasicMaterial",(function(){return tf})),n.d(e,"ParticleSystem",(function(){return Qp})),n.d(e,"ParticleSystemMaterial",(function(){return ef})),n.d(e,"Path",(function(){return gh})),n.d(e,"PerspectiveCamera",(function(){return wo})),n.d(e,"Plane",(function(){return ti})),n.d(e,"PlaneBufferGeometry",(function(){return Co})),n.d(e,"PlaneGeometry",(function(){return Wl})),n.d(e,"PlaneHelper",(function(){return dp})),n.d(e,"PointCloud",(function(){return Jp})),n.d(e,"PointCloudMaterial",(function(){return $p})),n.d(e,"PointLight",(function(){return Sh})),n.d(e,"PointLightHelper",(function(){return Yd})),n.d(e,"Points",(function(){return Nc})),n.d(e,"PointsMaterial",(function(){return Rc})),n.d(e,"PolarGridHelper",(function(){return tp})),n.d(e,"PolyhedronBufferGeometry",(function(){return Qc})),n.d(e,"PolyhedronGeometry",(function(){return Xl})),n.d(e,"PositionalAudio",(function(){return dd})),n.d(e,"PropertyBinding",(function(){return Sd})),n.d(e,"PropertyMixer",(function(){return fd})),n.d(e,"QuadraticBezierCurve",(function(){return hh})),n.d(e,"QuadraticBezierCurve3",(function(){return dh})),n.d(e,"Quaternion",(function(){return Jn})),n.d(e,"QuaternionKeyframeTrack",(function(){return Iu})),n.d(e,"QuaternionLinearInterpolant",(function(){return Cu})),n.d(e,"REVISION",(function(){return r})),n.d(e,"RGBADepthPacking",(function(){return an})),n.d(e,"RGBAFormat",(function(){return Ut})),n.d(e,"RGBAIntegerFormat",(function(){return Zt})),n.d(e,"RGBA_ASTC_10x10_Format",(function(){return ye})),n.d(e,"RGBA_ASTC_10x5_Format",(function(){return me})),n.d(e,"RGBA_ASTC_10x6_Format",(function(){return ge})),n.d(e,"RGBA_ASTC_10x8_Format",(function(){return ve})),n.d(e,"RGBA_ASTC_12x10_Format",(function(){return xe})),n.d(e,"RGBA_ASTC_12x12_Format",(function(){return be})),n.d(e,"RGBA_ASTC_4x4_Format",(function(){return se})),n.d(e,"RGBA_ASTC_5x4_Format",(function(){return ce})),n.d(e,"RGBA_ASTC_5x5_Format",(function(){return le})),n.d(e,"RGBA_ASTC_6x5_Format",(function(){return ue})),n.d(e,"RGBA_ASTC_6x6_Format",(function(){return he})),n.d(e,"RGBA_ASTC_8x5_Format",(function(){return de})),n.d(e,"RGBA_ASTC_8x6_Format",(function(){return pe})),n.d(e,"RGBA_ASTC_8x8_Format",(function(){return fe})),n.d(e,"RGBA_BPTC_Format",(function(){return we})),n.d(e,"RGBA_ETC2_EAC_Format",(function(){return ae})),n.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return re})),n.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return ne})),n.d(e,"RGBA_S3TC_DXT1_Format",(function(){return Kt})),n.d(e,"RGBA_S3TC_DXT3_Format",(function(){return Qt})),n.d(e,"RGBA_S3TC_DXT5_Format",(function(){return $t})),n.d(e,"RGBDEncoding",(function(){return rn})),n.d(e,"RGBEEncoding",(function(){return $e})),n.d(e,"RGBEFormat",(function(){return Ht})),n.d(e,"RGBFormat",(function(){return Ft})),n.d(e,"RGBIntegerFormat",(function(){return Yt})),n.d(e,"RGBM16Encoding",(function(){return nn})),n.d(e,"RGBM7Encoding",(function(){return en})),n.d(e,"RGB_ETC1_Format",(function(){return ie})),n.d(e,"RGB_ETC2_Format",(function(){return oe})),n.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return ee})),n.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return te})),n.d(e,"RGB_S3TC_DXT1_Format",(function(){return Jt})),n.d(e,"RGFormat",(function(){return Xt})),n.d(e,"RGIntegerFormat",(function(){return qt})),n.d(e,"RawShaderMaterial",(function(){return du})),n.d(e,"Ray",(function(){return Sr})),n.d(e,"Raycaster",(function(){return Cd})),n.d(e,"RectAreaLight",(function(){return Rh})),n.d(e,"RedFormat",(function(){return jt})),n.d(e,"RedIntegerFormat",(function(){return Wt})),n.d(e,"ReinhardToneMapping",(function(){return tt})),n.d(e,"RepeatWrapping",(function(){return ht})),n.d(e,"ReplaceStencilOp",(function(){return hn})),n.d(e,"ReverseSubtractEquation",(function(){return A})),n.d(e,"RingBufferGeometry",(function(){return ql})),n.d(e,"RingGeometry",(function(){return Yl})),n.d(e,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Oe})),n.d(e,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Pe})),n.d(e,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Ce})),n.d(e,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Ie})),n.d(e,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Ne})),n.d(e,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return De})),n.d(e,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return _e})),n.d(e,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Me})),n.d(e,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Se})),n.d(e,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Te})),n.d(e,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Ee})),n.d(e,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ae})),n.d(e,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Le})),n.d(e,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Re})),n.d(e,"Scene",(function(){return zs})),n.d(e,"SceneUtils",(function(){return Af})),n.d(e,"ShaderChunk",(function(){return Io})),n.d(e,"ShaderLib",(function(){return No})),n.d(e,"ShaderMaterial",(function(){return xo})),n.d(e,"ShadowMaterial",(function(){return hu})),n.d(e,"Shape",(function(){return vh})),n.d(e,"ShapeBufferGeometry",(function(){return Zl})),n.d(e,"ShapeGeometry",(function(){return Jl})),n.d(e,"ShapePath",(function(){return kh})),n.d(e,"ShapeUtils",(function(){return Cl})),n.d(e,"ShortType",(function(){return Et})),n.d(e,"Skeleton",(function(){return dc})),n.d(e,"SkeletonHelper",(function(){return qd})),n.d(e,"SkinnedMesh",(function(){return cc})),n.d(e,"SmoothShading",(function(){return y})),n.d(e,"Sphere",(function(){return gr})),n.d(e,"SphereBufferGeometry",(function(){return Kl})),n.d(e,"SphereGeometry",(function(){return Ql})),n.d(e,"Spherical",(function(){return Nd})),n.d(e,"SphericalHarmonics3",(function(){return Ph})),n.d(e,"Spline",(function(){return gf})),n.d(e,"SplineCurve",(function(){return ph})),n.d(e,"SplineCurve3",(function(){return mf})),n.d(e,"SpotLight",(function(){return _h})),n.d(e,"SpotLightHelper",(function(){return Vd})),n.d(e,"Sprite",(function(){return rc})),n.d(e,"SpriteMaterial",(function(){return Vs})),n.d(e,"SrcAlphaFactor",(function(){return N})),n.d(e,"SrcAlphaSaturateFactor",(function(){return G})),n.d(e,"SrcColorFactor",(function(){return I})),n.d(e,"StaticCopyUsage",(function(){return Cn})),n.d(e,"StaticDrawUsage",(function(){return Tn})),n.d(e,"StaticReadUsage",(function(){return Ln})),n.d(e,"StereoCamera",(function(){return $h})),n.d(e,"StreamCopyUsage",(function(){return On})),n.d(e,"StreamDrawUsage",(function(){return An})),n.d(e,"StreamReadUsage",(function(){return Pn})),n.d(e,"StringKeyframeTrack",(function(){return Ou})),n.d(e,"SubtractEquation",(function(){return E})),n.d(e,"SubtractiveBlending",(function(){return _})),n.d(e,"TOUCH",(function(){return o})),n.d(e,"TangentSpaceNormalMap",(function(){return sn})),n.d(e,"TetrahedronBufferGeometry",(function(){return $l})),n.d(e,"TetrahedronGeometry",(function(){return tu})),n.d(e,"TextBufferGeometry",(function(){return eu})),n.d(e,"TextGeometry",(function(){return nu})),n.d(e,"Texture",(function(){return Wn})),n.d(e,"TextureLoader",(function(){return Yu})),n.d(e,"TorusBufferGeometry",(function(){return ru})),n.d(e,"TorusGeometry",(function(){return iu})),n.d(e,"TorusKnotBufferGeometry",(function(){return ou})),n.d(e,"TorusKnotGeometry",(function(){return au})),n.d(e,"Triangle",(function(){return hi})),n.d(e,"TriangleFanDrawMode",(function(){return Ze})),n.d(e,"TriangleStripDrawMode",(function(){return Ye})),n.d(e,"TrianglesDrawMode",(function(){return qe})),n.d(e,"TubeBufferGeometry",(function(){return su})),n.d(e,"TubeGeometry",(function(){return cu})),n.d(e,"UVMapping",(function(){return it})),n.d(e,"Uint16Attribute",(function(){return lf})),n.d(e,"Uint16BufferAttribute",(function(){return Pi})),n.d(e,"Uint32Attribute",(function(){return hf})),n.d(e,"Uint32BufferAttribute",(function(){return Ii})),n.d(e,"Uint8Attribute",(function(){return af})),n.d(e,"Uint8BufferAttribute",(function(){return Ai})),n.d(e,"Uint8ClampedAttribute",(function(){return sf})),n.d(e,"Uint8ClampedBufferAttribute",(function(){return Li})),n.d(e,"Uniform",(function(){return Ld})),n.d(e,"UniformsLib",(function(){return Oo})),n.d(e,"UniformsUtils",(function(){return yo})),n.d(e,"UnsignedByteType",(function(){return St})),n.d(e,"UnsignedInt248Type",(function(){return Dt})),n.d(e,"UnsignedIntType",(function(){return Rt})),n.d(e,"UnsignedShort4444Type",(function(){return It})),n.d(e,"UnsignedShort5551Type",(function(){return Ot})),n.d(e,"UnsignedShort565Type",(function(){return Nt})),n.d(e,"UnsignedShortType",(function(){return At})),n.d(e,"VSMShadowMap",(function(){return p})),n.d(e,"Vector2",(function(){return Gn})),n.d(e,"Vector3",(function(){return Kn})),n.d(e,"Vector4",(function(){return qn})),n.d(e,"VectorKeyframeTrack",(function(){return Nu})),n.d(e,"Vertex",(function(){return nf})),n.d(e,"VertexColors",(function(){return qp})),n.d(e,"VideoTexture",(function(){return Bc})),n.d(e,"WebGL1Renderer",(function(){return Bs})),n.d(e,"WebGLCubeRenderTarget",(function(){return So})),n.d(e,"WebGLMultisampleRenderTarget",(function(){return Zn})),n.d(e,"WebGLRenderTarget",(function(){return Yn})),n.d(e,"WebGLRenderTargetCube",(function(){return Mf})),n.d(e,"WebGLRenderer",(function(){return Ds})),n.d(e,"WebGLUtils",(function(){return Rs})),n.d(e,"WireframeGeometry",(function(){return lu})),n.d(e,"WireframeHelper",(function(){return bf})),n.d(e,"WrapAroundEnding",(function(){return je})),n.d(e,"XHRLoader",(function(){return wf})),n.d(e,"ZeroCurvatureEnding",(function(){return ke})),n.d(e,"ZeroFactor",(function(){return P})),n.d(e,"ZeroSlopeEnding",(function(){return Ve})),n.d(e,"ZeroStencilOp",(function(){return ln})),n.d(e,"sRGBEncoding",(function(){return Ke}));const r="123",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,c=2,l=3,u=0,h=1,d=2,p=3,f=0,m=1,g=2,v=1,y=2,x=0,b=1,w=2,_=3,M=4,S=5,T=100,E=101,A=102,L=103,R=104,P=200,C=201,I=202,O=203,N=204,D=205,B=206,F=207,U=208,z=209,G=210,H=0,k=1,V=2,j=3,W=4,X=5,q=6,Y=7,Z=0,J=1,K=2,Q=0,$=1,tt=2,et=3,nt=4,rt=5,it=300,ot=301,at=302,st=303,ct=304,lt=306,ut=307,ht=1e3,dt=1001,pt=1002,ft=1003,mt=1004,gt=1004,vt=1005,yt=1005,xt=1006,bt=1007,wt=1007,_t=1008,Mt=1008,St=1009,Tt=1010,Et=1011,At=1012,Lt=1013,Rt=1014,Pt=1015,Ct=1016,It=1017,Ot=1018,Nt=1019,Dt=1020,Bt=1021,Ft=1022,Ut=1023,zt=1024,Gt=1025,Ht=Ut,kt=1026,Vt=1027,jt=1028,Wt=1029,Xt=1030,qt=1031,Yt=1032,Zt=1033,Jt=33776,Kt=33777,Qt=33778,$t=33779,te=35840,ee=35841,ne=35842,re=35843,ie=36196,oe=37492,ae=37496,se=37808,ce=37809,le=37810,ue=37811,he=37812,de=37813,pe=37814,fe=37815,me=37816,ge=37817,ve=37818,ye=37819,xe=37820,be=37821,we=36492,_e=37840,Me=37841,Se=37842,Te=37843,Ee=37844,Ae=37845,Le=37846,Re=37847,Pe=37848,Ce=37849,Ie=37850,Oe=37851,Ne=37852,De=37853,Be=2200,Fe=2201,Ue=2202,ze=2300,Ge=2301,He=2302,ke=2400,Ve=2401,je=2402,We=2500,Xe=2501,qe=0,Ye=1,Ze=2,Je=3e3,Ke=3001,Qe=3007,$e=3002,tn=3003,en=3004,nn=3005,rn=3006,on=3200,an=3201,sn=0,cn=1,ln=0,un=7680,hn=7681,dn=7682,pn=7683,fn=34055,mn=34056,gn=5386,vn=512,yn=513,xn=514,bn=515,wn=516,_n=517,Mn=518,Sn=519,Tn=35044,En=35048,An=35040,Ln=35045,Rn=35049,Pn=35041,Cn=35046,In=35050,On=35042,Nn="100",Dn="300 es";function Bn(){}Object.assign(Bn.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t)}}});const Fn=[];for(let t=0;t<256;t++)Fn[t]=(t<16?"0":"")+t.toString(16);let Un=1234567;const zn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Fn[255&t]+Fn[t>>8&255]+Fn[t>>16&255]+Fn[t>>24&255]+"-"+Fn[255&e]+Fn[e>>8&255]+"-"+Fn[e>>16&15|64]+Fn[e>>24&255]+"-"+Fn[63&n|128]+Fn[n>>8&255]+"-"+Fn[n>>16&255]+Fn[n>>24&255]+Fn[255&r]+Fn[r>>8&255]+Fn[r>>16&255]+Fn[r>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(Un=t%2147483647),Un=16807*Un%2147483647,(Un-1)/2147483646},degToRad:function(t){return t*zn.DEG2RAD},radToDeg:function(t){return t*zn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),c=a(n/2),l=o((e+r)/2),u=a((e+r)/2),h=o((e-r)/2),d=a((e-r)/2),p=o((r-e)/2),f=a((r-e)/2);switch(i){case"XYX":t.set(s*u,c*h,c*d,s*l);break;case"YZY":t.set(c*d,s*u,c*h,s*l);break;case"ZXZ":t.set(c*h,c*d,s*u,s*l);break;case"XZX":t.set(s*u,c*f,c*p,s*l);break;case"YXY":t.set(c*p,s*u,c*f,s*l);break;case"ZYZ":t.set(c*f,c*p,s*u,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};class Gn{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Hn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,c){const l=this.elements;return l[0]=t,l[1]=r,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],l=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=o*f+a*v+s*b,i[3]=o*m+a*y+s*w,i[6]=o*g+a*x+s*_,i[1]=c*f+l*v+u*b,i[4]=c*m+l*y+u*w,i[7]=c*g+l*x+u*_,i[2]=h*f+d*v+p*b,i[5]=h*m+d*y+p*w,i[8]=h*g+d*x+p*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return e*o*l-e*a*c-n*i*l+n*a*s+r*i*c-r*o*s}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8],u=l*o-a*c,h=a*s-l*i,d=c*i-o*s,p=e*u+n*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return t[0]=u*f,t[1]=(r*c-l*n)*f,t[2]=(a*n-r*o)*f,t[3]=h*f,t[4]=(l*e-r*s)*f,t[5]=(r*i-a*e)*f,t[6]=d*f,t[7]=(n*s-c*e)*f,t[8]=(o*e-n*i)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,o,a){const s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+t,-r*c,r*s,-r*(-c*o+s*a)+a+e,0,0,1)}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],l=r[7];return r[0]=e*i+n*s,r[3]=e*o+n*c,r[6]=e*a+n*l,r[1]=-n*i+e*s,r[4]=-n*o+e*c,r[7]=-n*a+e*l,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let kn;const Vn={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===kn&&(kn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),kn.width=t.width,kn.height=t.height;const n=kn.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=kn}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let jn=0;function Wn(t=Wn.DEFAULT_IMAGE,e=Wn.DEFAULT_MAPPING,n=dt,r=dt,i=xt,o=_t,a=Ut,s=St,c=1,l=Je){Object.defineProperty(this,"id",{value:jn++}),this.uuid=zn.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Gn(0,0),this.repeat=new Gn(1,1),this.center=new Gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function Xn(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Vn.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Wn.DEFAULT_IMAGE=void 0,Wn.DEFAULT_MAPPING=it,Wn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Wn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=zn.generateUUID()),!e&&void 0===t.images[r.uuid]){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Xn(r[t].image)):e.push(Xn(r[t]))}else e=Xn(r);t.images[r.uuid]={uuid:r.uuid,url:e}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==it)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ht:t.x=t.x-Math.floor(t.x);break;case dt:t.x=t.x<0?0:1;break;case pt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ht:t.y=t.y-Math.floor(t.y);break;case dt:t.y=t.y<0?0:1;break;case pt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Wn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class qn{constructor(t=0,e=0,n=0,r=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const o=t.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const t=(a+1)/2,o=(u+1)/2,m=(f+1)/2,g=(s+l)/4,v=(c+d)/4,y=(h+p)/4;return t>o&&t>m?t<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=g/n,i=v/n):o>m?o<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=g/r,i=y/r):m<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=v/i,r=y/i),this.set(n,r,i,e),this}let m=Math.sqrt((p-h)*(p-h)+(c-d)*(c-d)+(l-s)*(l-s));return Math.abs(m)<.001&&(m=1),this.x=(p-h)/m,this.y=(c-d)/m,this.z=(l-s)/m,this.w=Math.acos((a+u+f-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function Yn(t,e,n){this.width=t,this.height=e,this.scissor=new qn(0,0,t,e),this.scissorTest=!1,this.viewport=new qn(0,0,t,e),n=n||{},this.texture=new Wn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:xt,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Zn(t,e,n){Yn.call(this,t,e,n),this.samples=4}Yn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Yn,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Zn.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Zn,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Yn.prototype.copy.call(this,t),this.samples=t.samples,this}});class Jn{constructor(t=0,e=0,n=0,r=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return n.copy(t).slerp(e,r)}static slerpFlat(t,e,n,r,i,o,a){let s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3];const h=i[o+0],d=i[o+1],p=i[o+2],f=i[o+3];if(u!==f||s!==h||c!==d||l!==p){let t=1-a;const e=s*h+c*d+l*p+u*f,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*t+h*i,c=c*t+d*i,l=l*t+p*i,u=u*t+f*i,t===1-a){const t=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=t,c*=t,l*=t,u*=t}}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,i,o){const a=n[r],s=n[r+1],c=n[r+2],l=n[r+3],u=i[o],h=i[o+1],d=i[o+2],p=i[o+3];return t[e]=a*p+l*u+s*d-c*h,t[e+1]=s*p+l*h+c*u-a*d,t[e+2]=c*p+l*d+a*h-s*u,t[e+3]=l*p-a*u-s*h-c*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,i=t._z,o=t._order,a=Math.cos,s=Math.sin,c=a(n/2),l=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"YXZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"ZXY":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"ZYX":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"YZX":this._x=h*l*u+c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u-h*d*p;break;case"XZY":this._x=h*l*u-c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],c=e[2],l=e[6],u=e[10],h=n+a+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(l-s)*t,this._y=(i-c)*t,this._z=(o-r)*t}else if(n>a&&n>u){const t=2*Math.sqrt(1+n-a-u);this._w=(l-s)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+c)/t}else if(a>u){const t=2*Math.sqrt(1+a-n-u);this._w=(i-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(s+l)/t}else{const t=2*Math.sqrt(1+u-n-a);this._w=(o-r)/t,this._x=(i+c)/t,this._y=(s+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(zn.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,l=e._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(s),l=Math.atan2(c,a),u=Math.sin((1-e)*l)/c,h=Math.sin(e*l)/c;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class Kn{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion($n.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion($n.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*r-a*n,l=s*n+a*e-i*r,u=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Qn.copy(this).projectOnVector(t),this.sub(Qn)}reflect(t){return this.sub(Qn.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(zn.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Qn=new Kn,$n=new Jn;class tr{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new Kn(1/0,1/0,1/0),this.max=void 0!==e?e:new Kn(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,c=t.length;s<c;s+=3){const c=t[s],l=t[s+1],u=t[s+2];c<e&&(e=c),l<n&&(n=l),u<r&&(r=u),c>i&&(i=c),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,c=t.count;s<c;s++){const c=t.getX(s),l=t.getY(s),u=t.getZ(s);c<e&&(e=c),l<n&&(n=l),u<r&&(r=u),c>i&&(i=c),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=rr.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Kn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Kn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),ir.copy(e.boundingBox),ir.applyMatrix4(t.matrixWorld),this.union(ir));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Kn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,rr),rr.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(hr),dr.subVectors(this.max,hr),or.subVectors(t.a,hr),ar.subVectors(t.b,hr),sr.subVectors(t.c,hr),cr.subVectors(ar,or),lr.subVectors(sr,ar),ur.subVectors(or,sr);let e=[0,-cr.z,cr.y,0,-lr.z,lr.y,0,-ur.z,ur.y,cr.z,0,-cr.x,lr.z,0,-lr.x,ur.z,0,-ur.x,-cr.y,cr.x,0,-lr.y,lr.x,0,-ur.y,ur.x,0];return!!er(e,or,ar,sr,dr)&&(e=[1,0,0,0,1,0,0,0,1],!!er(e,or,ar,sr,dr)&&(pr.crossVectors(cr,lr),e=[pr.x,pr.y,pr.z],er(e,or,ar,sr,dr)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Kn),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return rr.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(rr).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(nr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),nr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),nr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),nr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),nr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),nr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),nr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),nr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(nr)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function er(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){fr.fromArray(t,o);const a=i.x*Math.abs(fr.x)+i.y*Math.abs(fr.y)+i.z*Math.abs(fr.z),s=e.dot(fr),c=n.dot(fr),l=r.dot(fr);if(Math.max(-Math.max(s,c,l),Math.min(s,c,l))>a)return!1}return!0}const nr=[new Kn,new Kn,new Kn,new Kn,new Kn,new Kn,new Kn,new Kn],rr=new Kn,ir=new tr,or=new Kn,ar=new Kn,sr=new Kn,cr=new Kn,lr=new Kn,ur=new Kn,hr=new Kn,dr=new Kn,pr=new Kn,fr=new Kn,mr=new tr;class gr{constructor(t,e){this.center=void 0!==t?t:new Kn,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):mr.setFromPoints(t).getCenter(n);let r=0;for(let e=0,i=t.length;e<i;e++)r=Math.max(r,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Kn),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new tr),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const vr=new Kn,yr=new Kn,xr=new Kn,br=new Kn,wr=new Kn,_r=new Kn,Mr=new Kn;class Sr{constructor(t,e){this.origin=void 0!==t?t:new Kn,this.direction=void 0!==e?e:new Kn(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Kn),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,vr)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Kn),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=vr.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(vr.copy(this.direction).multiplyScalar(e).add(this.origin),vr.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){yr.copy(t).add(e).multiplyScalar(.5),xr.copy(e).sub(t).normalize(),br.copy(this.origin).sub(yr);const i=.5*t.distanceTo(e),o=-this.direction.dot(xr),a=br.dot(this.direction),s=-br.dot(xr),c=br.lengthSq(),l=Math.abs(1-o*o);let u,h,d,p;if(l>0)if(u=o*s-a,h=o*a-s,p=i*l,u>=0)if(h>=-p)if(h<=p){const t=1/l;u*=t,h*=t,d=u*(u+o*h+2*a)+h*(o*u+h+2*s)+c}else h=i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+c;else h=-i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+c;else h<=-p?(u=Math.max(0,-(-o*i+a)),h=u>0?-i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+c):h<=p?(u=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+c):(u=Math.max(0,-(o*i+a)),h=u>0?i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+c);else h=o>0?-i:i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+c;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(xr).multiplyScalar(h).add(yr),d}intersectSphere(t,e){vr.subVectors(t.center,this.origin);const n=vr.dot(this.direction),r=vr.dot(vr)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,i,o,a,s;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,vr)}intersectTriangle(t,e,n,r,i){wr.subVectors(e,t),_r.subVectors(n,t),Mr.crossVectors(wr,_r);let o,a=this.direction.dot(Mr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}br.subVectors(this.origin,t);const s=o*this.direction.dot(_r.crossVectors(br,_r));if(s<0)return null;const c=o*this.direction.dot(wr.cross(br));if(c<0)return null;if(s+c>a)return null;const l=-o*br.dot(Mr);return l<0?null:this.at(l/a,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class Tr{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,c,l,u,h,d,p,f,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Tr).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Er.setFromMatrixColumn(t,0).length(),i=1/Er.setFromMatrixColumn(t,1).length(),o=1/Er.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){const t=o*l,n=o*u,r=a*l,i=a*u;e[0]=s*l,e[4]=-s*u,e[8]=c,e[1]=n+r*c,e[5]=t-i*c,e[9]=-a*s,e[2]=i-t*c,e[6]=r+n*c,e[10]=o*s}else if("YXZ"===t.order){const t=s*l,n=s*u,r=c*l,i=c*u;e[0]=t+i*a,e[4]=r*a-n,e[8]=o*c,e[1]=o*u,e[5]=o*l,e[9]=-a,e[2]=n*a-r,e[6]=i+t*a,e[10]=o*s}else if("ZXY"===t.order){const t=s*l,n=s*u,r=c*l,i=c*u;e[0]=t-i*a,e[4]=-o*u,e[8]=r+n*a,e[1]=n+r*a,e[5]=o*l,e[9]=i-t*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){const t=o*l,n=o*u,r=a*l,i=a*u;e[0]=s*l,e[4]=r*c-n,e[8]=t*c+i,e[1]=s*u,e[5]=i*c+t,e[9]=n*c-r,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){const t=o*s,n=o*c,r=a*s,i=a*c;e[0]=s*l,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=o*l,e[9]=-a*l,e[2]=-c*l,e[6]=n*u+r,e[10]=t-i*u}else if("XZY"===t.order){const t=o*s,n=o*c,r=a*s,i=a*c;e[0]=s*l,e[4]=-u,e[8]=c*l,e[1]=t*u+i,e[5]=o*l,e[9]=n*u-r,e[2]=r*u-n,e[6]=a*l,e[10]=i*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Lr,t,Rr)}lookAt(t,e,n){const r=this.elements;return Ir.subVectors(t,e),0===Ir.lengthSq()&&(Ir.z=1),Ir.normalize(),Pr.crossVectors(n,Ir),0===Pr.lengthSq()&&(1===Math.abs(n.z)?Ir.x+=1e-4:Ir.z+=1e-4,Ir.normalize(),Pr.crossVectors(n,Ir)),Pr.normalize(),Cr.crossVectors(Ir,Pr),r[0]=Pr.x,r[4]=Cr.x,r[8]=Ir.x,r[1]=Pr.y,r[5]=Cr.y,r[9]=Ir.y,r[2]=Pr.z,r[6]=Cr.z,r[10]=Ir.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],M=r[8],S=r[12],T=r[1],E=r[5],A=r[9],L=r[13],R=r[2],P=r[6],C=r[10],I=r[14],O=r[3],N=r[7],D=r[11],B=r[15];return i[0]=o*w+a*T+s*R+c*O,i[4]=o*_+a*E+s*P+c*N,i[8]=o*M+a*A+s*C+c*D,i[12]=o*S+a*L+s*I+c*B,i[1]=l*w+u*T+h*R+d*O,i[5]=l*_+u*E+h*P+d*N,i[9]=l*M+u*A+h*C+d*D,i[13]=l*S+u*L+h*I+d*B,i[2]=p*w+f*T+m*R+g*O,i[6]=p*_+f*E+m*P+g*N,i[10]=p*M+f*A+m*C+g*D,i[14]=p*S+f*L+m*I+g*B,i[3]=v*w+y*T+x*R+b*O,i[7]=v*_+y*E+x*P+b*N,i[11]=v*M+y*A+x*C+b*D,i[15]=v*S+y*L+x*I+b*B,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+i*s*u-r*c*u-i*a*h+n*c*h+r*a*d-n*s*d)+t[7]*(+e*s*d-e*c*h+i*o*h-r*o*d+r*c*l-i*s*l)+t[11]*(+e*c*u-e*a*d-i*o*u+n*o*d+i*a*l-n*c*l)+t[15]*(-r*a*l-e*s*u+e*a*h+r*o*u-n*o*h+n*s*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8],u=t[9],h=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],v=u*m*c-f*h*c+f*s*d-a*m*d-u*s*g+a*h*g,y=p*h*c-l*m*c-p*s*d+o*m*d+l*s*g-o*h*g,x=l*f*c-p*u*c+p*a*d-o*f*d-l*a*g+o*u*g,b=p*u*s-l*f*s-p*a*h+o*f*h+l*a*m-o*u*m,w=e*v+n*y+r*x+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return t[0]=v*_,t[1]=(f*h*i-u*m*i-f*r*d+n*m*d+u*r*g-n*h*g)*_,t[2]=(a*m*i-f*s*i+f*r*c-n*m*c-a*r*g+n*s*g)*_,t[3]=(u*s*i-a*h*i-u*r*c+n*h*c+a*r*d-n*s*d)*_,t[4]=y*_,t[5]=(l*m*i-p*h*i+p*r*d-e*m*d-l*r*g+e*h*g)*_,t[6]=(p*s*i-o*m*i-p*r*c+e*m*c+o*r*g-e*s*g)*_,t[7]=(o*h*i-l*s*i+l*r*c-e*h*c-o*r*d+e*s*d)*_,t[8]=x*_,t[9]=(p*u*i-l*f*i-p*n*d+e*f*d+l*n*g-e*u*g)*_,t[10]=(o*f*i-p*a*i+p*n*c-e*f*c-o*n*g+e*a*g)*_,t[11]=(l*a*i-o*u*i-l*n*c+e*u*c+o*n*d-e*a*d)*_,t[12]=b*_,t[13]=(l*f*r-p*u*r+p*n*h-e*f*h-l*n*m+e*u*m)*_,t[14]=(p*a*r-o*f*r-p*n*s+e*f*s+o*n*m-e*a*m)*_,t[15]=(o*u*r-l*a*r+l*n*s-e*u*s-o*n*h+e*a*h)*_,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,c=i+i,l=o+o,u=a+a,h=i*c,d=i*l,p=i*u,f=o*l,m=o*u,g=a*u,v=s*c,y=s*l,x=s*u,b=n.x,w=n.y,_=n.z;return r[0]=(1-(f+g))*b,r[1]=(d+x)*b,r[2]=(p-y)*b,r[3]=0,r[4]=(d-x)*w,r[5]=(1-(h+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=Er.set(r[0],r[1],r[2]).length();const o=Er.set(r[4],r[5],r[6]).length(),a=Er.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],Ar.copy(this);const s=1/i,c=1/o,l=1/a;return Ar.elements[0]*=s,Ar.elements[1]*=s,Ar.elements[2]*=s,Ar.elements[4]*=c,Ar.elements[5]*=c,Ar.elements[6]*=c,Ar.elements[8]*=l,Ar.elements[9]*=l,Ar.elements[10]*=l,e.setFromRotationMatrix(Ar),n.x=i,n.y=o,n.z=a,this}makePerspective(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*i/(e-t),c=2*i/(n-r),l=(e+t)/(e-t),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,r,i,o){const a=this.elements,s=1/(e-t),c=1/(n-r),l=1/(o-i),u=(e+t)*s,h=(n+r)*c,d=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Er=new Kn,Ar=new Tr,Lr=new Kn(0,0,0),Rr=new Kn(1,1,1),Pr=new Kn,Cr=new Kn,Ir=new Kn;class Or{constructor(t=0,e=0,n=0,r=Or.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const r=zn.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],h=i[2],d=i[6],p=i[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Nr.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Nr,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Dr.setFromEuler(this),this.setFromQuaternion(Dr,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new Kn(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Or.DefaultOrder="XYZ",Or.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Nr=new Tr,Dr=new Jn;class Br{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let Fr=0;const Ur=new Kn,zr=new Jn,Gr=new Tr,Hr=new Kn,kr=new Kn,Vr=new Kn,jr=new Jn,Wr=new Kn(1,0,0),Xr=new Kn(0,1,0),qr=new Kn(0,0,1),Yr={type:"added"},Zr={type:"removed"};function Jr(){Object.defineProperty(this,"id",{value:Fr++}),this.uuid=zn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jr.DefaultUp.clone();const t=new Kn,e=new Or,n=new Jn,r=new Kn(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Tr},normalMatrix:{value:new Hn}}),this.matrix=new Tr,this.matrixWorld=new Tr,this.matrixAutoUpdate=Jr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Br,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Jr.DefaultUp=new Kn(0,1,0),Jr.DefaultMatrixAutoUpdate=!0,Jr.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Jr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return zr.setFromAxisAngle(t,e),this.quaternion.multiply(zr),this},rotateOnWorldAxis:function(t,e){return zr.setFromAxisAngle(t,e),this.quaternion.premultiply(zr),this},rotateX:function(t){return this.rotateOnAxis(Wr,t)},rotateY:function(t){return this.rotateOnAxis(Xr,t)},rotateZ:function(t){return this.rotateOnAxis(qr,t)},translateOnAxis:function(t,e){return Ur.copy(t).applyQuaternion(this.quaternion),this.position.add(Ur.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Wr,t)},translateY:function(t){return this.translateOnAxis(Xr,t)},translateZ:function(t){return this.translateOnAxis(qr,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Gr.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Hr.copy(t):Hr.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),kr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Gr.lookAt(kr,Hr,this.up):Gr.lookAt(Hr,kr,this.up),this.quaternion.setFromRotationMatrix(Gr),r&&(Gr.extractRotation(r.matrixWorld),zr.setFromRotationMatrix(Gr),this.quaternion.premultiply(zr.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Yr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Zr)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Zr)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Gr.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Gr.multiply(t.parent.matrixWorld)),t.applyMatrix4(Gr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Kn),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Jn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kr,t,Vr),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Kn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kr,jr,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Kn),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),a=o(t.images),s=o(t.shapes),c=o(t.skeletons),l=o(t.animations);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}});const Kr=new Kn,Qr=new Kn,$r=new Hn;class ti{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new Kn(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=Kr.subVectors(n,e).cross(Qr.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Kn),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Kn);const n=t.delta(Kr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:e.copy(n).multiplyScalar(i).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Kn),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||$r.getNormalMatrix(t),r=this.coplanarPoint(Kr).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const ei=new Kn,ni=new Kn,ri=new Kn,ii=new Kn,oi=new Kn,ai=new Kn,si=new Kn,ci=new Kn,li=new Kn,ui=new Kn;class hi{constructor(t,e,n){this.a=void 0!==t?t:new Kn,this.b=void 0!==e?e:new Kn,this.c=void 0!==n?n:new Kn}static getNormal(t,e,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Kn),r.subVectors(n,e),ei.subVectors(t,e),r.cross(ei);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){ei.subVectors(r,e),ni.subVectors(n,e),ri.subVectors(t,e);const o=ei.dot(ei),a=ei.dot(ni),s=ei.dot(ri),c=ni.dot(ni),l=ni.dot(ri),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Kn),0===u)return i.set(-2,-1,-1);const h=1/u,d=(c*s-a*l)*h,p=(o*l-a*s)*h;return i.set(1-d-p,p,d)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,ii),ii.x>=0&&ii.y>=0&&ii.x+ii.y<=1}static getUV(t,e,n,r,i,o,a,s){return this.getBarycoord(t,e,n,r,ii),s.set(0,0),s.addScaledVector(i,ii.x),s.addScaledVector(o,ii.y),s.addScaledVector(a,ii.z),s}static isFrontFacing(t,e,n,r){return ei.subVectors(n,e),ni.subVectors(t,e),ei.cross(ni).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ei.subVectors(this.c,this.b),ni.subVectors(this.a,this.b),.5*ei.cross(ni).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Kn),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return hi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new ti),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return hi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,i){return hi.getUV(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return hi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return hi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Kn);const n=this.a,r=this.b,i=this.c;let o,a;oi.subVectors(r,n),ai.subVectors(i,n),ci.subVectors(t,n);const s=oi.dot(ci),c=ai.dot(ci);if(s<=0&&c<=0)return e.copy(n);li.subVectors(t,r);const l=oi.dot(li),u=ai.dot(li);if(l>=0&&u<=l)return e.copy(r);const h=s*u-l*c;if(h<=0&&s>=0&&l<=0)return o=s/(s-l),e.copy(n).addScaledVector(oi,o);ui.subVectors(t,i);const d=oi.dot(ui),p=ai.dot(ui);if(p>=0&&d<=p)return e.copy(i);const f=d*c-s*p;if(f<=0&&c>=0&&p<=0)return a=c/(c-p),e.copy(n).addScaledVector(ai,a);const m=l*p-d*u;if(m<=0&&u-l>=0&&d-p>=0)return si.subVectors(i,r),a=(u-l)/(u-l+(d-p)),e.copy(r).addScaledVector(si,a);const g=1/(m+f+h);return o=f*g,a=h*g,e.copy(n).addScaledVector(oi,o).addScaledVector(ai,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pi={h:0,s:0,l:0},fi={h:0,s:0,l:0};function mi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function gi(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function vi(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class yi{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=zn.euclideanModulo(t,1),e=zn.clamp(e,0,1),n=zn.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=mi(i,r,t+1/3),this.g=mi(i,r,t),this.b=mi(i,r,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[5]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[5]),this;break;case"hsl":case"hsla":if(t=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return e(t[5]),this.setHSL(n,r,i)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=di[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=gi(t.r),this.g=gi(t.g),this.b=gi(t.b),this}copyLinearToSRGB(t){return this.r=vi(t.r),this.g=vi(t.g),this.b=vi(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,r=this.b,i=Math.max(e,n,r),o=Math.min(e,n,r);let a,s;const c=(o+i)/2;if(o===i)a=0,s=0;else{const t=i-o;switch(s=c<=.5?t/(i+o):t/(2-i-o),i){case e:a=(n-r)/t+(n<r?6:0);break;case n:a=(r-e)/t+2;break;case r:a=(e-n)/t+4}a/=6}return t.h=a,t.s=s,t.l=c,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(pi),pi.h+=t,pi.s+=e,pi.l+=n,this.setHSL(pi.h,pi.s,pi.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpHSL(t,e){this.getHSL(pi),t.getHSL(fi);const n=zn.lerp(pi.h,fi.h,e),r=zn.lerp(pi.s,fi.s,e),i=zn.lerp(pi.l,fi.l,e);return this.setHSL(n,r,i),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}yi.NAMES=di,yi.prototype.r=1,yi.prototype.g=1,yi.prototype.b=1;class xi{constructor(t,e,n,r,i,o=0){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Kn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new yi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let bi=0;function wi(){Object.defineProperty(this,"id",{value:bi++}),this.uuid=zn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=b,this.side=f,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=N,this.blendDst=D,this.blendEquation=T,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=j,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Sn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=un,this.stencilZFail=un,this.stencilZPass=un,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function _i(t){wi.call(this),this.type="MeshBasicMaterial",this.color=new yi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}wi.prototype=Object.assign(Object.create(Bn.prototype),{constructor:wi,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===v;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==b&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==f&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),_i.prototype=Object.create(wi.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshBasicMaterial=!0,_i.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Mi=new Kn,Si=new Gn;function Ti(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Tn,this.updateRange={offset:0,count:-1},this.version=0}function Ei(t,e,n){Ti.call(this,new Int8Array(t),e,n)}function Ai(t,e,n){Ti.call(this,new Uint8Array(t),e,n)}function Li(t,e,n){Ti.call(this,new Uint8ClampedArray(t),e,n)}function Ri(t,e,n){Ti.call(this,new Int16Array(t),e,n)}function Pi(t,e,n){Ti.call(this,new Uint16Array(t),e,n)}function Ci(t,e,n){Ti.call(this,new Int32Array(t),e,n)}function Ii(t,e,n){Ti.call(this,new Uint32Array(t),e,n)}function Oi(t,e,n){Ti.call(this,new Uint16Array(t),e,n)}function Ni(t,e,n){Ti.call(this,new Float32Array(t),e,n)}function Di(t,e,n){Ti.call(this,new Float64Array(t),e,n)}Object.defineProperty(Ti.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ti.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new yi),e[n++]=i.r,e[n++]=i.g,e[n++]=i.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new Gn),e[n++]=i.x,e[n++]=i.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new Kn),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new qn),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z,e[n++]=i.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Si.fromBufferAttribute(this,e),Si.applyMatrix3(t),this.setXY(e,Si.x,Si.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Mi.fromBufferAttribute(this,e),Mi.applyMatrix3(t),this.setXYZ(e,Mi.x,Mi.y,Mi.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)Mi.x=this.getX(e),Mi.y=this.getY(e),Mi.z=this.getZ(e),Mi.applyMatrix4(t),this.setXYZ(e,Mi.x,Mi.y,Mi.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)Mi.x=this.getX(e),Mi.y=this.getY(e),Mi.z=this.getZ(e),Mi.applyNormalMatrix(t),this.setXYZ(e,Mi.x,Mi.y,Mi.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)Mi.x=this.getX(e),Mi.y=this.getY(e),Mi.z=this.getZ(e),Mi.transformDirection(t),this.setXYZ(e,Mi.x,Mi.y,Mi.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Ei.prototype=Object.create(Ti.prototype),Ei.prototype.constructor=Ei,Ai.prototype=Object.create(Ti.prototype),Ai.prototype.constructor=Ai,Li.prototype=Object.create(Ti.prototype),Li.prototype.constructor=Li,Ri.prototype=Object.create(Ti.prototype),Ri.prototype.constructor=Ri,Pi.prototype=Object.create(Ti.prototype),Pi.prototype.constructor=Pi,Ci.prototype=Object.create(Ti.prototype),Ci.prototype.constructor=Ci,Ii.prototype=Object.create(Ti.prototype),Ii.prototype.constructor=Ii,Oi.prototype=Object.create(Ti.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isFloat16BufferAttribute=!0,Ni.prototype=Object.create(Ti.prototype),Ni.prototype.constructor=Ni,Di.prototype=Object.create(Ti.prototype),Di.prototype.constructor=Di;class Bi{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const e=[];let n,r,i=void 0;const o=t.faces;for(r=0;r<o.length;r++){const t=o[r];t.materialIndex!==i&&(i=t.materialIndex,void 0!==n&&(n.count=3*r-n.start,e.push(n)),n={start:3*r,materialIndex:i})}void 0!==n&&(n.count=3*r-n.start,e.push(n)),this.groups=e}fromGeometry(t){const e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=t.morphTargets,s=a.length;let c;if(s>0){c=[];for(let t=0;t<s;t++)c[t]={name:a[t].name,data:[]};this.morphTargets.position=c}const l=t.morphNormals,u=l.length;let h;if(u>0){h=[];for(let t=0;t<u;t++)h[t]={name:l[t].name,data:[]};this.morphTargets.normal=h}const d=t.skinIndices,p=t.skinWeights,f=d.length===n.length,m=p.length===n.length;n.length>0&&0===e.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let t=0;t<e.length;t++){const g=e[t];this.vertices.push(n[g.a],n[g.b],n[g.c]);const v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{const t=g.normal;this.normals.push(t,t,t)}const y=g.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{const t=g.color;this.colors.push(t,t,t)}if(!0===i){const e=r[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",t),this.uvs.push(new Gn,new Gn,new Gn))}if(!0===o){const e=r[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",t),this.uvs2.push(new Gn,new Gn,new Gn))}for(let t=0;t<s;t++){const e=a[t].vertices;c[t].data.push(e[g.a],e[g.b],e[g.c])}for(let e=0;e<u;e++){const n=l[e].vertexNormals[t];h[e].data.push(n.a,n.b,n.c)}f&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),m&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}function Fi(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}const Ui={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function zi(t,e){return new Ui[t](e)}let Gi=1;const Hi=new Tr,ki=new Jr,Vi=new Kn,ji=new tr,Wi=new tr,Xi=new Kn;function qi(){Object.defineProperty(this,"id",{value:Gi+=2}),this.uuid=zn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}qi.prototype=Object.assign(Object.create(Bn.prototype),{constructor:qi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(Fi(t)>65535?Ii:Pi)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Hn).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Hi.makeRotationX(t),this.applyMatrix4(Hi),this},rotateY:function(t){return Hi.makeRotationY(t),this.applyMatrix4(Hi),this},rotateZ:function(t){return Hi.makeRotationZ(t),this.applyMatrix4(Hi),this},translate:function(t,e,n){return Hi.makeTranslation(t,e,n),this.applyMatrix4(Hi),this},scale:function(t,e,n){return Hi.makeScale(t,e,n),this.applyMatrix4(Hi),this},lookAt:function(t){return ki.lookAt(t),ki.updateMatrix(),this.applyMatrix4(ki.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vi).negate(),this.translate(Vi.x,Vi.y,Vi.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new Ni(3*e.vertices.length,3),n=new Ni(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new Ni(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ni(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Bi).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Ti(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Ti(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new Ti(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Ti(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Ti(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],r=t.morphTargets[e];for(let t=0,e=r.length;t<e;t++){const e=r[t],i=new Ni(3*e.data.length,3);i.name=e.name,n.push(i.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new Ni(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new Ni(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Kn(-1/0,-1/0,-1/0),new Kn(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];ji.setFromBufferAttribute(n),this.morphTargetsRelative?(Xi.addVectors(this.boundingBox.min,ji.min),this.boundingBox.expandByPoint(Xi),Xi.addVectors(this.boundingBox.max,ji.max),this.boundingBox.expandByPoint(Xi)):(this.boundingBox.expandByPoint(ji.min),this.boundingBox.expandByPoint(ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new gr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Kn,1/0);if(t){const n=this.boundingSphere.center;if(ji.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Wi.setFromBufferAttribute(n),this.morphTargetsRelative?(Xi.addVectors(ji.min,Wi.min),ji.expandByPoint(Xi),Xi.addVectors(ji.max,Wi.max),ji.expandByPoint(Xi)):(ji.expandByPoint(Wi.min),ji.expandByPoint(Wi.max))}ji.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)Xi.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(Xi));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],a=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)Xi.fromBufferAttribute(o,e),a&&(Vi.fromBufferAttribute(t,e),Xi.add(Vi)),r=Math.max(r,n.distanceToSquared(Xi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ti(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new Kn,i=new Kn,o=new Kn,a=new Kn,s=new Kn,c=new Kn,l=new Kn,u=new Kn;if(t)for(let h=0,d=t.count;h<d;h+=3){const d=t.getX(h+0),p=t.getX(h+1),f=t.getX(h+2);r.fromBufferAttribute(e,d),i.fromBufferAttribute(e,p),o.fromBufferAttribute(e,f),l.subVectors(o,i),u.subVectors(r,i),l.cross(u),a.fromBufferAttribute(n,d),s.fromBufferAttribute(n,p),c.fromBufferAttribute(n,f),a.add(l),s.add(l),c.add(l),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,c.x,c.y,c.z)}else for(let t=0,a=e.count;t<a;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),l.subVectors(o,i),u.subVectors(r,i),l.cross(u),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const i=n[r].array,o=t.attributes[r],a=o.array,s=o.itemSize*e,c=Math.min(a.length,i.length-s);for(let t=0,e=s;t<c;t++,e++)i[e]=a[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Xi.fromBufferAttribute(t,e),Xi.normalize(),t.setXYZ(e,Xi.x,Xi.y,Xi.z)},toNonIndexed:function(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let a=0,s=0;for(let t=0,i=e.length;t<i;t++){a=e[t]*r;for(let t=0;t<r;t++)o[s++]=n[a++]}return new Ti(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new qi,n=this.index.array,r=this.attributes;for(const i in r){const o=t(r[i],n);e.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],a=i[r];for(let e=0,r=a.length;e<r;e++){const r=t(a[e],n);o.push(r)}e.morphAttributes[r]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const r=n[e],i=r.toJSON(t.data);""!==r.name&&(i.name=r.name),t.data.attributes[e]=i}const r={};let i=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e],i=r.toJSON(t.data);""!==r.name&&(i.name=r.name),o.push(i)}o.length>0&&(r[e]=o,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t},clone:function(){return(new qi).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const t in r){const n=r[t];this.setAttribute(t,n.clone(e))}const i=t.morphAttributes;for(const t in i){const n=[],r=i[t];for(let t=0,i=r.length;t<i;t++)n.push(r[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Yi=new Tr,Zi=new Sr,Ji=new gr,Ki=new Kn,Qi=new Kn,$i=new Kn,to=new Kn,eo=new Kn,no=new Kn,ro=new Kn,io=new Kn,oo=new Kn,ao=new Gn,so=new Gn,co=new Gn,lo=new Kn,uo=new Kn;function ho(t,e){Jr.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new qi,this.material=void 0!==e?e:new _i,this.updateMorphTargets()}function po(t,e,n,r,i,o,a,s){let c;if(c=e.side===m?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,e.side!==g,s),null===c)return null;uo.copy(s),uo.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(uo);return l<n.near||l>n.far?null:{distance:l,point:uo.clone(),object:t}}function fo(t,e,n,r,i,o,a,s,c,l,u,h){Ki.fromBufferAttribute(i,l),Qi.fromBufferAttribute(i,u),$i.fromBufferAttribute(i,h);const d=t.morphTargetInfluences;if(e.morphTargets&&o&&d){ro.set(0,0,0),io.set(0,0,0),oo.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=d[t],n=o[t];0!==e&&(to.fromBufferAttribute(n,l),eo.fromBufferAttribute(n,u),no.fromBufferAttribute(n,h),a?(ro.addScaledVector(to,e),io.addScaledVector(eo,e),oo.addScaledVector(no,e)):(ro.addScaledVector(to.sub(Ki),e),io.addScaledVector(eo.sub(Qi),e),oo.addScaledVector(no.sub($i),e)))}Ki.add(ro),Qi.add(io),$i.add(oo)}t.isSkinnedMesh&&(t.boneTransform(l,Ki),t.boneTransform(u,Qi),t.boneTransform(h,$i));const p=po(t,e,n,r,Ki,Qi,$i,lo);if(p){s&&(ao.fromBufferAttribute(s,l),so.fromBufferAttribute(s,u),co.fromBufferAttribute(s,h),p.uv=hi.getUV(lo,Ki,Qi,$i,ao,so,co,new Gn)),c&&(ao.fromBufferAttribute(c,l),so.fromBufferAttribute(c,u),co.fromBufferAttribute(c,h),p.uv2=hi.getUV(lo,Ki,Qi,$i,ao,so,co,new Gn));const t=new xi(l,u,h);hi.getNormal(Ki,Qi,$i,t.normal),p.face=t}return p}ho.prototype=Object.assign(Object.create(Jr.prototype),{constructor:ho,isMesh:!0,copy:function(t){return Jr.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ji.copy(n.boundingSphere),Ji.applyMatrix4(i),!1===t.ray.intersectsSphere(Ji))return;if(Yi.copy(i).invert(),Zi.copy(t.ray).applyMatrix4(Yi),null!==n.boundingBox&&!1===Zi.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,a=n.attributes.position,s=n.morphAttributes.position,c=n.morphTargetsRelative,l=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,p=h.length;n<p;n++){const p=h[n],f=r[p.materialIndex];for(let n=Math.max(p.start,d.start),r=Math.min(p.start+p.count,d.start+d.count);n<r;n+=3){const r=i.getX(n),h=i.getX(n+1),d=i.getX(n+2);o=fo(this,f,t,Zi,a,s,c,l,u,r,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=p.materialIndex,e.push(o))}}else{for(let n=Math.max(0,d.start),h=Math.min(i.count,d.start+d.count);n<h;n+=3){const h=i.getX(n),d=i.getX(n+1),p=i.getX(n+2);o=fo(this,r,t,Zi,a,s,c,l,u,h,d,p),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}}else if(void 0!==a)if(Array.isArray(r))for(let n=0,i=h.length;n<i;n++){const i=h[n],p=r[i.materialIndex];for(let n=Math.max(i.start,d.start),r=Math.min(i.start+i.count,d.start+d.count);n<r;n+=3){o=fo(this,p,t,Zi,a,s,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,e.push(o))}}else{for(let n=Math.max(0,d.start),i=Math.min(a.count,d.start+d.count);n<i;n+=3){o=fo(this,r,t,Zi,a,s,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}}}else if(n.isGeometry){const i=Array.isArray(r),a=n.vertices,s=n.faces;let c;const l=n.faceVertexUvs[0];l.length>0&&(c=l);for(let n=0,l=s.length;n<l;n++){const l=s[n],u=i?r[l.materialIndex]:r;if(void 0===u)continue;const h=a[l.a],d=a[l.b],p=a[l.c];if(o=po(this,u,t,Zi,h,d,p,lo),o){if(c&&c[n]){const t=c[n];ao.copy(t[0]),so.copy(t[1]),co.copy(t[2]),o.uv=hi.getUV(lo,h,d,p,ao,so,co,new Gn)}o.face=l,o.faceIndex=n,e.push(o)}}}}});class mo extends qi{constructor(t=1,e=1,n=1,r=1,i=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],c=[],l=[],u=[];let h=0,d=0;function p(t,e,n,r,i,o,p,f,m,g,v){const y=o/m,x=p/g,b=o/2,w=p/2,_=f/2,M=m+1,S=g+1;let T=0,E=0;const A=new Kn;for(let o=0;o<S;o++){const a=o*x-w;for(let s=0;s<M;s++){const h=s*y-b;A[t]=h*r,A[e]=a*i,A[n]=_,c.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=f>0?1:-1,l.push(A.x,A.y,A.z),u.push(s/m),u.push(1-o/g),T+=1}}for(let t=0;t<g;t++)for(let e=0;e<m;e++){const n=h+e+M*t,r=h+e+M*(t+1),i=h+(e+1)+M*(t+1),o=h+(e+1)+M*t;s.push(n,r,o),s.push(r,i,o),E+=6}a.addGroup(d,E,v),d+=E,h+=T}p("z","y","x",-1,-1,n,e,t,o,i,0),p("z","y","x",1,-1,n,e,-t,o,i,1),p("x","z","y",1,1,t,n,e,r,o,2),p("x","z","y",1,-1,t,n,-e,r,o,3),p("x","y","z",1,-1,t,e,n,r,i,4),p("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Ni(c,3)),this.setAttribute("normal",new Ni(l,3)),this.setAttribute("uv",new Ni(u,2))}}function go(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function vo(t){const e={};for(let n=0;n<t.length;n++){const r=go(t[n]);for(const t in r)e[t]=r[t]}return e}const yo={clone:go,merge:vo};function xo(t){wi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function bo(){Jr.call(this),this.type="Camera",this.matrixWorldInverse=new Tr,this.projectionMatrix=new Tr,this.projectionMatrixInverse=new Tr}function wo(t=50,e=1,n=.1,r=2e3){bo.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}xo.prototype=Object.create(wi.prototype),xo.prototype.constructor=xo,xo.prototype.isShaderMaterial=!0,xo.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=go(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},xo.prototype.toJSON=function(t){const e=wi.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},bo.prototype=Object.assign(Object.create(Jr.prototype),{constructor:bo,isCamera:!0,copy:function(t,e){return Jr.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Kn),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Jr.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Jr.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),wo.prototype=Object.assign(Object.create(bo.prototype),{constructor:wo,isPerspectiveCamera:!0,copy:function(t,e){return bo.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*zn.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*zn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*zn.RAD2DEG*Math.atan(Math.tan(.5*zn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*zn.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/a,r*=o.width/t,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Jr.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});function _o(t,e,n){if(Jr.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new wo(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Kn(1,0,0)),this.add(r);const i=new wo(90,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Kn(-1,0,0)),this.add(i);const o=new wo(90,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Kn(0,1,0)),this.add(o);const a=new wo(90,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Kn(0,-1,0)),this.add(a);const s=new wo(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Kn(0,0,1)),this.add(s);const c=new wo(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Kn(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,i),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}function Mo(t,e,n,r,i,o,a,s,c,l){t=void 0!==t?t:[],e=void 0!==e?e:ot,a=void 0!==a?a:Ft,Wn.call(this,t,e,n,r,i,o,a,s,c,l),this.flipY=!1,this._needsFlipEnvMap=!0}function So(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),Yn.call(this,t,t,e),e=e||{},this.texture=new Mo(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function To(t,e,n,r,i,o,a,s,c,l,u,h){Wn.call(this,null,o,a,s,c,l,r,i,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:ft,this.minFilter=void 0!==l?l:ft,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}_o.prototype=Object.create(Jr.prototype),_o.prototype.constructor=_o,Mo.prototype=Object.create(Wn.prototype),Mo.prototype.constructor=Mo,Mo.prototype.isCubeTexture=!0,Object.defineProperty(Mo.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),So.prototype=Object.create(Yn.prototype),So.prototype.constructor=So,So.prototype.isWebGLCubeRenderTarget=!0,So.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=Ut,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t"},r=new mo(5,5,5),i=new xo({name:"CubemapFromEquirect",uniforms:go(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:m,blending:x});i.uniforms.tEquirect.value=e;const o=new ho(r,i),a=e.minFilter;e.minFilter===_t&&(e.minFilter=xt);return new _o(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this},So.prototype.clear=function(t,e,n,r){const i=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,n,r);t.setRenderTarget(i)},To.prototype=Object.create(Wn.prototype),To.prototype.constructor=To,To.prototype.isDataTexture=!0;const Eo=new gr,Ao=new Kn;class Lo{constructor(t,e,n,r,i,o){this.planes=[void 0!==t?t:new ti,void 0!==e?e:new ti,void 0!==n?n:new ti,void 0!==r?r:new ti,void 0!==i?i:new ti,void 0!==o?o:new ti]}set(t,e,n,r,i,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,u-s,f-h,y-m).normalize(),e[1].setComponents(a+r,u+s,f+h,y+m).normalize(),e[2].setComponents(a+i,u+c,f+d,y+g).normalize(),e[3].setComponents(a-i,u-c,f-d,y-g).normalize(),e[4].setComponents(a-o,u-l,f-p,y-v).normalize(),e[5].setComponents(a+o,u+l,f+p,y+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Eo.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Eo)}intersectsSprite(t){return Eo.center.set(0,0,0),Eo.radius=.7071067811865476,Eo.applyMatrix4(t.matrixWorld),this.intersectsSphere(Eo)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(n)<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(Ao.x=r.normal.x>0?t.max.x:t.min.x,Ao.y=r.normal.y>0?t.max.y:t.min.y,Ao.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Ao)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function Ro(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Po(t,e){const n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))},update:function(e,i){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=r.get(e);void 0===o?r.set(e,function(e,r){const i=e.array,o=e.usage,a=t.createBuffer();t.bindBuffer(r,a),t.bufferData(r,i,o),e.onUploadCallback();let s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:i instanceof Uint8Array&&(s=5121),{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}(e,i)):o.version<e.version&&(!function(e,r,i){const o=r.array,a=r.updateRange;t.bindBuffer(i,e),-1===a.count?t.bufferSubData(i,0,o):(n?t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,e,i),o.version=e.version)}}}class Co extends qi{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,o=e/2,a=Math.floor(n),s=Math.floor(r),c=a+1,l=s+1,u=t/a,h=e/s,d=[],p=[],f=[],m=[];for(let t=0;t<l;t++){const e=t*h-o;for(let n=0;n<c;n++){const r=n*u-i;p.push(r,-e,0),f.push(0,0,1),m.push(n/a),m.push(1-t/s)}}for(let t=0;t<s;t++)for(let e=0;e<a;e++){const n=e+c*t,r=e+c*(t+1),i=e+1+c*(t+1),o=e+1+c*t;d.push(n,r,o),d.push(r,i,o)}this.setIndex(d),this.setAttribute("position",new Ni(p,3)),this.setAttribute("normal",new Ni(f,3)),this.setAttribute("uv",new Ni(m,2))}}const Io={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Oo={common:{diffuse:{value:new yi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Hn},uv2Transform:{value:new Hn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Hn}},sprite:{diffuse:{value:new yi(15658734)},opacity:{value:1},center:{value:new Gn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Hn}}},No={basic:{uniforms:vo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.fog]),vertexShader:Io.meshbasic_vert,fragmentShader:Io.meshbasic_frag},lambert:{uniforms:vo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.fog,Oo.lights,{emissive:{value:new yi(0)}}]),vertexShader:Io.meshlambert_vert,fragmentShader:Io.meshlambert_frag},phong:{uniforms:vo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.fog,Oo.lights,{emissive:{value:new yi(0)},specular:{value:new yi(1118481)},shininess:{value:30}}]),vertexShader:Io.meshphong_vert,fragmentShader:Io.meshphong_frag},standard:{uniforms:vo([Oo.common,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.roughnessmap,Oo.metalnessmap,Oo.fog,Oo.lights,{emissive:{value:new yi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Io.meshphysical_vert,fragmentShader:Io.meshphysical_frag},toon:{uniforms:vo([Oo.common,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.gradientmap,Oo.fog,Oo.lights,{emissive:{value:new yi(0)}}]),vertexShader:Io.meshtoon_vert,fragmentShader:Io.meshtoon_frag},matcap:{uniforms:vo([Oo.common,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.fog,{matcap:{value:null}}]),vertexShader:Io.meshmatcap_vert,fragmentShader:Io.meshmatcap_frag},points:{uniforms:vo([Oo.points,Oo.fog]),vertexShader:Io.points_vert,fragmentShader:Io.points_frag},dashed:{uniforms:vo([Oo.common,Oo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Io.linedashed_vert,fragmentShader:Io.linedashed_frag},depth:{uniforms:vo([Oo.common,Oo.displacementmap]),vertexShader:Io.depth_vert,fragmentShader:Io.depth_frag},normal:{uniforms:vo([Oo.common,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,{opacity:{value:1}}]),vertexShader:Io.normal_vert,fragmentShader:Io.normal_frag},sprite:{uniforms:vo([Oo.sprite,Oo.fog]),vertexShader:Io.sprite_vert,fragmentShader:Io.sprite_frag},background:{uniforms:{uvTransform:{value:new Hn},t2D:{value:null}},vertexShader:Io.background_vert,fragmentShader:Io.background_frag},cube:{uniforms:vo([Oo.envmap,{opacity:{value:1}}]),vertexShader:Io.cube_vert,fragmentShader:Io.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Io.equirect_vert,fragmentShader:Io.equirect_frag},distanceRGBA:{uniforms:vo([Oo.common,Oo.displacementmap,{referencePosition:{value:new Kn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Io.distanceRGBA_vert,fragmentShader:Io.distanceRGBA_frag},shadow:{uniforms:vo([Oo.lights,Oo.fog,{color:{value:new yi(0)},opacity:{value:1}}]),vertexShader:Io.shadow_vert,fragmentShader:Io.shadow_frag}};function Do(t,e,n,r,i){const o=new yi(0);let a,s,c=0,l=null,u=0,h=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,i)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),c=e,d(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,d(o,c)},render:function(n,i,p,g){let v=!0===i.isScene?i.background:null;v&&v.isTexture&&(v=e.get(v));const y=t.xr,x=y.getSession&&y.getSession();x&&"additive"===x.environmentBlendMode&&(v=null),null===v?d(o,c):v&&v.isColor&&(d(v,1),g=!0),(t.autoClear||g)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===lt)?(void 0===s&&(s=new ho(new mo(1,1,1),new xo({name:"BackgroundCubeMaterial",uniforms:go(No.cube.uniforms),vertexShader:No.cube.vertexShader,fragmentShader:No.cube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),v.isWebGLCubeRenderTarget&&(v=v.texture),s.material.uniforms.envMap.value=v,s.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v._needsFlipEnvMap?-1:1,l===v&&u===v.version&&h===t.toneMapping||(s.material.needsUpdate=!0,l=v,u=v.version,h=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):v&&v.isTexture&&(void 0===a&&(a=new ho(new Co(2,2),new xo({name:"BackgroundMaterial",uniforms:go(No.background.uniforms),vertexShader:No.background.vertexShader,fragmentShader:No.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),a.material.uniforms.uvTransform.value.copy(v.matrix),l===v&&u===v.version&&h===t.toneMapping||(a.material.needsUpdate=!0,l=v,u=v.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Bo(t,e,n,r){const i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},c=d(null);let l=c;function u(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return r.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function d(t){const e=[],n=[],r=[];for(let t=0;t<i;t++)e[t]=0,n[t]=0,r[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function p(){const t=l.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function f(t){m(t,0)}function m(n,i){const o=l.newAttributes,a=l.enabledAttributes,s=l.attributeDivisors;if(o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function g(){const e=l.newAttributes,n=l.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function v(e,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?t.vertexAttribPointer(e,n,i,o,a,s):t.vertexAttribIPointer(e,n,i,a,s)}function y(){x(),l!==c&&(l=c,u(l.object))}function x(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(i,c,h,y,x){let b=!1;if(a){const e=function(e,n,i){const a=!0===i.wireframe;let c=s[e.id];void 0===c&&(c={},s[e.id]=c);let l=c[n.id];void 0===l&&(l={},c[n.id]=l);let u=l[a];void 0===u&&(u=d(r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),l[a]=u);return u}(y,h,c);l!==e&&(l=e,u(l.object)),b=function(t,e){const n=l.attributes,r=t.attributes;let i=0;for(const t in r){const e=n[t],o=r[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;i++}return l.attributesNum!==i||l.index!==e}(y,x),b&&function(t,e){const n={},r=t.attributes;let i=0;for(const t in r){const e=r[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,i++}l.attributes=n,l.attributesNum=i,l.index=e}(y,x)}else{const t=!0===c.wireframe;l.geometry===y.id&&l.program===h.id&&l.wireframe===t||(l.geometry=y.id,l.program=h.id,l.wireframe=t,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==x&&n.update(x,34963),b&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const c=s.attributes,l=a.getAttributes(),u=o.defaultAttributeValues;for(const e in l){const r=l[e];if(r>=0){const o=c[e];if(void 0!==o){const e=o.normalized,i=o.itemSize,a=n.get(o);if(void 0===a)continue;const c=a.buffer,l=a.type,u=a.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,a=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(m(r,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):f(r),t.bindBuffer(34962,c),v(r,i,l,e,a*u,h*u)}else o.isInstancedBufferAttribute?(m(r,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):f(r),t.bindBuffer(34962,c),v(r,i,l,e,0,0)}else if("instanceMatrix"===e){const e=n.get(i.instanceMatrix);if(void 0===e)continue;const o=e.buffer,a=e.type;m(r+0,1),m(r+1,1),m(r+2,1),m(r+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(r+0,4,a,!1,64,0),t.vertexAttribPointer(r+1,4,a,!1,64,16),t.vertexAttribPointer(r+2,4,a,!1,64,32),t.vertexAttribPointer(r+3,4,a,!1,64,48)}else if("instanceColor"===e){const e=n.get(i.instanceColor);if(void 0===e)continue;const o=e.buffer,a=e.type;m(r,1),t.bindBuffer(34962,o),t.vertexAttribPointer(r,3,a,!1,12,0)}else if(void 0!==u){const n=u[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r,n);break;case 3:t.vertexAttrib3fv(r,n);break;case 4:t.vertexAttrib4fv(r,n);break;default:t.vertexAttrib1fv(r,n)}}}}g()}(i,c,h,y),null!==x&&t.bindBuffer(34963,n.get(x).buffer))},reset:y,resetDefaultState:x,dispose:function(){y();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;const e=s[t.id];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete s[t.id]},releaseStatesOfProgram:function(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)h(r[t].object),delete r[t];delete n[t.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:g}}function Fo(t,e,n,r){const i=r.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let c,l;if(i)c=t,l="drawArraysInstanced";else if(c=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](o,r,a,s),n.update(a,o,s)}}function Uo(t,e,n){let r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const c=!0===n.logarithmicDepthBuffer,l=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),v=u>0,y=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;const n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?t.getParameter(36183):0}}function zo(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new ti,s=new Hn,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(t,n,r,i){const o=null!==t?t.length:0;let l=null;if(0!==o){if(l=c.value,!0!==i||null===l){const e=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===l||l.length<e)&&(l=new Float32Array(e));for(let e=0,n=r;e!==o;++e,n+=4)a.copy(t[e]).applyMatrix4(i,s),a.normal.toArray(l,n),l[n+3]=a.constant}c.value=l,c.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const a=0!==t.length||e||0!==r||i;return i=e,n=u(t,o,0),r=t.length,a},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,l()},this.setState=function(e,a,s){const h=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);if(!i||null===h||0===h.length||o&&!p)o?u(null):l();else{const t=o?0:r,e=4*t;let i=f.clippingState||null;c.value=i,i=u(h,a,e,s);for(let t=0;t!==e;++t)i[t]=n[t];f.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function Go(t){let e=new WeakMap;function n(t,e){return e===st?t.mapping=ot:e===ct&&(t.mapping=at),t}function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===st||o===ct){if(e.has(i)){return n(e.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=t.getRenderList(),s=t.getRenderTarget(),c=t.getRenderState(),l=new So(o.height/2);return l.fromEquirectangularTexture(t,i),e.set(i,l),t.setRenderTarget(s),t.setRenderList(a),t.setRenderState(c),i.addEventListener("dispose",r),n(l.texture,i.mapping)}return null}}}return i},dispose:function(){e=new WeakMap}}}function Ho(t){const e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,null!==r},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function ko(t,e,n,r){const i=new WeakMap,o=new WeakMap;function a(t){const s=t.target,c=i.get(s);null!==c.index&&e.remove(c.index);for(const t in c.attributes)e.remove(c.attributes[t]);s.removeEventListener("dispose",a),i.delete(s);const l=o.get(c);l&&(e.remove(l),o.delete(c)),r.releaseStatesOfGeometry(c),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){const n=[],r=t.index,i=t.attributes.position;let a=0;if(null!==r){const t=r.array;a=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{const t=i.array;a=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}const s=new(Fi(n)>65535?Ii:Pi)(n,1);s.version=a;const c=o.get(t);c&&e.remove(c),o.set(t,s)}return{get:function(t,e){let r=i.get(e);return r||(e.addEventListener("dispose",a),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new qi).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const r=t.morphAttributes;for(const t in r){const n=r[t];for(let t=0,r=n.length;t<r;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function Vo(t,e,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(t){o=t},this.setIndex=function(t){a=t.type,s=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,a,e*s),n.update(r,o,1)},this.renderInstances=function(r,c,l){if(0===l)return;let u,h;if(i)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,c,a,r*s,l),n.update(c,o,l)}}function jo(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Wo(t,e){return t[0]-e[0]}function Xo(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qo(t){const e={},n=new Float32Array(8),r=[];for(let t=0;t<8;t++)r[t]=[t,0];return{update:function(i,o,a,s){const c=i.morphTargetInfluences,l=void 0===c?0:c.length;let u=e[o.id];if(void 0===u){u=[];for(let t=0;t<l;t++)u[t]=[t,0];e[o.id]=u}for(let t=0;t<l;t++){const e=u[t];e[0]=t,e[1]=c[t]}u.sort(Xo);for(let t=0;t<8;t++)t<l&&u[t][1]?(r[t][0]=u[t][0],r[t][1]=u[t][1]):(r[t][0]=Number.MAX_SAFE_INTEGER,r[t][1]=0);r.sort(Wo);const h=a.morphTargets&&o.morphAttributes.position,d=a.morphNormals&&o.morphAttributes.normal;let p=0;for(let t=0;t<8;t++){const e=r[t],i=e[0],a=e[1];i!==Number.MAX_SAFE_INTEGER&&a?(h&&o.getAttribute("morphTarget"+t)!==h[i]&&o.setAttribute("morphTarget"+t,h[i]),d&&o.getAttribute("morphNormal"+t)!==d[i]&&o.setAttribute("morphNormal"+t,d[i]),n[t]=a,p+=a):(h&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),d&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const f=o.morphTargetsRelative?1:1-p;s.getUniforms().setValue(t,"morphTargetBaseInfluence",f),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Yo(t,e,n,r){let i=new WeakMap;return{update:function(t){const o=r.render.frame,a=t.geometry,s=e.get(t,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(t),e.update(s),i.set(s,o)),t.isInstancedMesh&&(n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function Zo(t=null,e=1,n=1,r=1){Wn.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=ft,this.minFilter=ft,this.wrapR=dt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Jo(t=null,e=1,n=1,r=1){Wn.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=ft,this.minFilter=ft,this.wrapR=dt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}No.physical={uniforms:vo([No.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Gn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new yi(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Io.meshphysical_vert,fragmentShader:Io.meshphysical_frag},Zo.prototype=Object.create(Wn.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isDataTexture2DArray=!0,Jo.prototype=Object.create(Wn.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isDataTexture3D=!0;const Ko=new Wn,Qo=new Zo,$o=new Jo,ta=new Mo,ea=[],na=[],ra=new Float32Array(16),ia=new Float32Array(9),oa=new Float32Array(4);function aa(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=ea[i];if(void 0===o&&(o=new Float32Array(i),ea[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function sa(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ca(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function la(t,e){let n=na[e];void 0===n&&(n=new Int32Array(e),na[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function ua(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ha(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(sa(n,e))return;t.uniform2fv(this.addr,e),ca(n,e)}}function da(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(sa(n,e))return;t.uniform3fv(this.addr,e),ca(n,e)}}function pa(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(sa(n,e))return;t.uniform4fv(this.addr,e),ca(n,e)}}function fa(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(sa(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ca(n,e)}else{if(sa(n,r))return;oa.set(r),t.uniformMatrix2fv(this.addr,!1,oa),ca(n,r)}}function ma(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(sa(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ca(n,e)}else{if(sa(n,r))return;ia.set(r),t.uniformMatrix3fv(this.addr,!1,ia),ca(n,r)}}function ga(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(sa(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ca(n,e)}else{if(sa(n,r))return;ra.set(r),t.uniformMatrix4fv(this.addr,!1,ra),ca(n,r)}}function va(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||Ko,i)}function ya(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Qo,i)}function xa(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||$o,i)}function ba(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||ta,i)}function wa(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function _a(t,e){const n=this.cache;sa(n,e)||(t.uniform2iv(this.addr,e),ca(n,e))}function Ma(t,e){const n=this.cache;sa(n,e)||(t.uniform3iv(this.addr,e),ca(n,e))}function Sa(t,e){const n=this.cache;sa(n,e)||(t.uniform4iv(this.addr,e),ca(n,e))}function Ta(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ea(t,e){t.uniform1fv(this.addr,e)}function Aa(t,e){t.uniform1iv(this.addr,e)}function La(t,e){t.uniform2iv(this.addr,e)}function Ra(t,e){t.uniform3iv(this.addr,e)}function Pa(t,e){t.uniform4iv(this.addr,e)}function Ca(t,e){const n=aa(e,this.size,2);t.uniform2fv(this.addr,n)}function Ia(t,e){const n=aa(e,this.size,3);t.uniform3fv(this.addr,n)}function Oa(t,e){const n=aa(e,this.size,4);t.uniform4fv(this.addr,n)}function Na(t,e){const n=aa(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Da(t,e){const n=aa(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ba(t,e){const n=aa(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Fa(t,e,n){const r=e.length,i=la(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTexture2D(e[t]||Ko,i[t])}function Ua(t,e,n){const r=e.length,i=la(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTextureCube(e[t]||ta,i[t])}function za(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return ua;case 35664:return ha;case 35665:return da;case 35666:return pa;case 35674:return fa;case 35675:return ma;case 35676:return ga;case 5124:case 35670:return wa;case 35667:case 35671:return _a;case 35668:case 35672:return Ma;case 35669:case 35673:return Sa;case 5125:return Ta;case 35678:case 36198:case 36298:case 36306:case 35682:return va;case 35679:case 36299:case 36307:return xa;case 35680:case 36300:case 36308:case 36293:return ba;case 36289:case 36303:case 36311:case 36292:return ya}}(e.type)}function Ga(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ea;case 35664:return Ca;case 35665:return Ia;case 35666:return Oa;case 35674:return Na;case 35675:return Da;case 35676:return Ba;case 5124:case 35670:return Aa;case 35667:case 35671:return La;case 35668:case 35672:return Ra;case 35669:case 35673:return Pa;case 35678:case 36198:case 36298:case 36306:case 35682:return Fa;case 35680:case 36300:case 36308:case 36293:return Ua}}(e.type)}function Ha(t){this.id=t,this.seq=[],this.map={}}Ga.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ca(e,t)},Ha.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}};const ka=/([\w\d_]+)(\])?(\[|\.)?/g;function Va(t,e){t.seq.push(e),t.map[e.id]=e}function ja(t,e,n){const r=t.name,i=r.length;for(ka.lastIndex=0;;){const o=ka.exec(r),a=ka.lastIndex;let s=o[1];const c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){Va(n,void 0===l?new za(s,t,e):new Ga(s,t,e));break}{let t=n.map[s];void 0===t&&(t=new Ha(s),Va(n,t)),n=t}}}function Wa(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r);ja(n,t.getUniformLocation(e,n.name),this)}}function Xa(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}Wa.prototype.setValue=function(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)},Wa.prototype.setOptional=function(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)},Wa.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}},Wa.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n};let qa=0;function Ya(t){switch(t){case Je:return["Linear","( value )"];case Ke:return["sRGB","( value )"];case $e:return["RGBE","( value )"];case en:return["RGBM","( value, 7.0 )"];case nn:return["RGBM","( value, 16.0 )"];case rn:return["RGBD","( value, 256.0 )"];case Qe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case tn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Za(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function Ja(t,e){const n=Ya(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ka(t,e){const n=Ya(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Qa(t,e){let n;switch(e){case $:n="Linear";break;case tt:n="Reinhard";break;case et:n="OptimizedCineon";break;case nt:n="ACESFilmic";break;case rt:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function $a(t){return""!==t}function ts(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function es(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ns=/^[ \t]*#include +<([\w\d./]+)>/gm;function rs(t){return t.replace(ns,is)}function is(t,e){const n=Io[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return rs(n)}const os=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,as=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ss(t){return t.replace(as,ls).replace(os,cs)}function cs(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ls(t,e,n,r)}function ls(t,e,n,r){let i="";for(let t=parseInt(e);t<parseInt(n);t++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return i}function us(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function hs(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const c=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===h?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===d?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===p&&(e="SHADOWMAP_TYPE_VSM"),e}(n),l=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ot:case at:e="ENVMAP_TYPE_CUBE";break;case lt:case ut:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case at:case ut:e="ENVMAP_MODE_REFRACTION"}return e}(n),f=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Z:e="ENVMAP_BLENDING_MULTIPLY";break;case J:e="ENVMAP_BLENDING_MIX";break;case K:e="ENVMAP_BLENDING_ADD"}return e}(n),m=t.gammaFactor>0?t.gammaFactor:1,g=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($a).join("\n")}(n),v=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),y=i.createProgram();let x,b,w=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(x=[v].filter($a).join("\n"),x.length>0&&(x+="\n"),b=[g,v].filter($a).join("\n"),b.length>0&&(b+="\n")):(x=[us(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($a).join("\n"),b=[g,us(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Q?"#define TONE_MAPPING":"",n.toneMapping!==Q?Io.tonemapping_pars_fragment:"",n.toneMapping!==Q?Qa("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Io.encodings_pars_fragment,n.map?Ja("mapTexelToLinear",n.mapEncoding):"",n.matcap?Ja("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Ja("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Ja("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Ja("lightMapTexelToLinear",n.lightMapEncoding):"",Ka("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter($a).join("\n")),a=rs(a),a=ts(a,n),a=es(a,n),s=rs(s),s=ts(s,n),s=es(s,n),a=ss(a),s=ss(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",x=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+x,b=["#define varying in",n.glslVersion===Dn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Dn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const _=w+b+s,M=Xa(i,35633,w+x+a),S=Xa(i,35632,_);if(i.attachShader(y,M),i.attachShader(y,S),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const t=i.getProgramInfoLog(y).trim(),e=i.getShaderInfoLog(M).trim(),n=i.getShaderInfoLog(S).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(y,35714)){r=!1;const e=Za(i,M,"vertex"),n=Za(i,S,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(y,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:t,vertexShader:{log:e,prefix:x},fragmentShader:{log:n,prefix:b}})}let T,E;return i.deleteShader(M),i.deleteShader(S),this.getUniforms=function(){return void 0===T&&(T=new Wa(i,y)),T},this.getAttributes=function(){return void 0===E&&(E=function(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i).name;n[r]=t.getAttribLocation(e,r)}return n}(i,y)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=qa++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=S,this}function ds(t,e,n,r,i,o){const a=[],s=r.isWebGL2,c=r.logarithmicDepthBuffer,l=r.floatVertexTextures,u=r.maxVertexUniforms,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(t){let e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=Je,e}return{getParameters:function(i,a,f,y,x){const b=y.fog,w=i.isMeshStandardMaterial?y.environment:null,_=e.get(i.envMap||w),M=p[i.type],S=x.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(l)return 1024;{const t=u,n=Math.floor((t-20)/4),r=Math.min(n,e.length);return r<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+r+"."),0):r}}(x):0;let T,E;if(null!==i.precision&&(d=r.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.")),M){const t=No[M];T=t.vertexShader,E=t.fragmentShader}else T=i.vertexShader,E=i.fragmentShader;const A=t.getRenderTarget();return{isWebGL2:s,shaderID:M,shaderName:i.type,vertexShader:T,fragmentShader:E,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===x.isInstancedMesh,instancingColor:!0===x.isInstancedMesh&&null!==x.instanceColor,supportsVertexTextures:h,outputEncoding:null!==A?v(A.texture):t.outputEncoding,map:!!i.map,mapEncoding:v(i.map),matcap:!!i.matcap,matcapEncoding:v(i.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:v(_),envMapCubeUV:!!_&&(_.mapping===lt||_.mapping===ut),lightMap:!!i.lightMap,lightMapEncoding:v(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:v(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===cn,tangentSpaceNormalMap:i.normalMapType===sn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),fog:!!b,useFog:i.fog,fogExp2:b&&b.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:c,skinning:i.skinning&&S>0,maxBones:S,useVertexTexture:l,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:i.toneMapped?t.toneMapping:Q,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===g,flipSided:i.side===m,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<f.length;t++)n.push(e[f[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;if(e){const t=No[e];n=yo.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let r;for(let t=0,e=a.length;t<e;t++){const e=a[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new hs(t,n,e,i),a.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){const e=a.indexOf(t);a[e]=a[a.length-1],a.pop(),t.destroy()}},programs:a}}function ps(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function fs(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ms(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gs(t){const e=[];let n=0;const r=[],i=[],o={id:-1};function a(r,i,a,s,c,l){let u=e[n];const h=t.get(a);return void 0===u?(u={id:r.id,object:r,geometry:i,material:a,program:h.program||o,groupOrder:s,renderOrder:r.renderOrder,z:c,group:l},e[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=a,u.program=h.program||o,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=c,u.group=l),n++,u}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(t,e,n,o,s,c){const l=a(t,e,n,o,s,c);(!0===n.transparent?i:r).push(l)},unshift:function(t,e,n,o,s,c){const l=a(t,e,n,o,s,c);(!0===n.transparent?i:r).unshift(l)},finish:function(){for(let t=n,r=e.length;t<r;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){r.length>1&&r.sort(t||fs),i.length>1&&i.sort(e||ms)}}}function vs(t){let e=new WeakMap;return{get:function(n,r){const i=e.get(n);let o;return void 0===i?(o=new gs(t),e.set(n,new WeakMap),e.get(n).set(r,o)):(o=i.get(r),void 0===o&&(o=new gs(t),i.set(r,o))),o},dispose:function(){e=new WeakMap}}}function ys(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Kn,color:new yi};break;case"SpotLight":n={position:new Kn,direction:new Kn,color:new yi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Kn,color:new yi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Kn,skyColor:new yi,groundColor:new yi};break;case"RectAreaLight":n={color:new yi,position:new Kn,halfWidth:new Kn,halfHeight:new Kn}}return t[e.id]=n,n}}}let xs=0;function bs(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ws(t,e){const n=new ys,r=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)i.probe.push(new Kn);const o=new Kn,a=new Tr,s=new Tr;return{setup:function(c,l,u){let h=0,d=0,p=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let f=0,m=0,g=0,v=0,y=0,x=0,b=0,w=0;const _=u.matrixWorldInverse;c.sort(bs);for(let t=0,e=c.length;t<e;t++){const e=c[t],l=e.color,u=e.intensity,M=e.distance,S=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)h+=l.r*u,d+=l.g*u,p+=l.b*u;else if(e.isLightProbe)for(let t=0;t<9;t++)i.probe[t].addScaledVector(e.sh.coefficients[t],u);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(_),e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,i.directionalShadow[f]=n,i.directionalShadowMap[f]=S,i.directionalShadowMatrix[f]=e.shadow.matrix,x++}i.directional[f]=t,f++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(_),t.color.copy(l).multiplyScalar(u),t.distance=M,t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(_),t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,i.spotShadow[g]=n,i.spotShadowMap[g]=S,i.spotShadowMatrix[g]=e.shadow.matrix,w++}i.spot[g]=t,g++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(l).multiplyScalar(u),t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(_),s.identity(),a.copy(e.matrixWorld),a.premultiply(_),s.extractRotation(a),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),i.rectArea[v]=t,v++}else if(e.isPointLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(_),t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,i.pointShadow[m]=n,i.pointShadowMap[m]=S,i.pointShadowMatrix[m]=e.shadow.matrix,b++}i.point[m]=t,m++}else if(e.isHemisphereLight){const t=n.get(e);t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(_),t.direction.normalize(),t.skyColor.copy(e.color).multiplyScalar(u),t.groundColor.copy(e.groundColor).multiplyScalar(u),i.hemi[y]=t,y++}}v>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=Oo.LTC_FLOAT_1,i.rectAreaLTC2=Oo.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Oo.LTC_HALF_1,i.rectAreaLTC2=Oo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=p;const M=i.hash;M.directionalLength===f&&M.pointLength===m&&M.spotLength===g&&M.rectAreaLength===v&&M.hemiLength===y&&M.numDirectionalShadows===x&&M.numPointShadows===b&&M.numSpotShadows===w||(i.directional.length=f,i.spot.length=g,i.rectArea.length=v,i.point.length=m,i.hemi.length=y,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=b,i.spotShadowMatrix.length=w,M.directionalLength=f,M.pointLength=m,M.spotLength=g,M.rectAreaLength=v,M.hemiLength=y,M.numDirectionalShadows=x,M.numPointShadows=b,M.numSpotShadows=w,i.version=xs++)},state:i}}function _s(t,e){const n=new ws(t,e),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(t){n.setup(r,i,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){i.push(t)}}}function Ms(t,e){let n=new WeakMap;return{get:function(r,i){let o;return!1===n.has(r)?(o=new _s(t,e),n.set(r,new WeakMap),n.get(r).set(i,o)):!1===n.get(r).has(i)?(o=new _s(t,e),n.get(r).set(i,o)):o=n.get(r).get(i),o},dispose:function(){n=new WeakMap}}}function Ss(t){wi.call(this),this.type="MeshDepthMaterial",this.depthPacking=on,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Ts(t){wi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Kn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}Ss.prototype=Object.create(wi.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isMeshDepthMaterial=!0,Ss.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ts.prototype=Object.create(wi.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isMeshDistanceMaterial=!0,Ts.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};function Es(t,e,n){let r=new Lo;const i=new Gn,o=new Gn,a=new qn,s=[],c=[],l={},u={0:m,1:f,2:g},d=new xo({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=d.clone();v.defines.HORIZONAL_PASS=1;const y=new qi;y.setAttribute("position",new Ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new ho(y,d),w=this;function _(n,r){const i=e.update(b);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,d,b,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,v,b,null)}function M(t,e,n){const r=t<<0|e<<1|n<<2;let i=s[r];return void 0===i&&(i=new Ss({depthPacking:an,morphTargets:t,skinning:e}),s[r]=i),i}function S(t,e,n){const r=t<<0|e<<1|n<<2;let i=c[r];return void 0===i&&(i=new Ts({morphTargets:t,skinning:e}),c[r]=i),i}function T(e,n,r,i,o,a,s){let c=null,h=M,d=e.customDepthMaterial;if(!0===i.isPointLight&&(h=S,d=e.customDistanceMaterial),void 0===d){let t=!1;!0===r.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let i=!1;!0===e.isSkinnedMesh&&(!0===r.skinning?i=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e));c=h(t,i,!0===e.isInstancedMesh)}else c=d;if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const t=c.uuid,e=r.uuid;let n=l[t];void 0===n&&(n={},l[t]=n);let i=n[e];void 0===i&&(i=c.clone(),n[e]=i),c=i}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=s===p?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:u[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=o,c.farDistance=a),c}function E(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===p)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=e.update(n),i=n.material;if(Array.isArray(i)){const e=r.groups;for(let c=0,l=e.length;c<l;c++){const l=e[c],u=i[l.materialIndex];if(u&&u.visible){const e=T(n,r,u,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,l)}}}else if(i.visible){const e=T(n,r,i,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)E(c[t],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=h,this.render=function(e,s,c){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(x),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,u=e.length;l<u;l++){const u=e[l],h=u.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;i.copy(h.mapSize);const f=h.getFrameExtents();if(i.multiply(f),o.copy(h.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/f.x),i.x=o.x*f.x,h.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/f.y),i.y=o.y*f.y,h.mapSize.y=o.y)),null===h.map&&!h.isPointLightShadow&&this.type===p){const t={minFilter:xt,magFilter:xt,format:Ut};h.map=new Yn(i.x,i.y,t),h.map.texture.name=u.name+".shadowMap",h.mapPass=new Yn(i.x,i.y,t),h.camera.updateProjectionMatrix()}if(null===h.map){const t={minFilter:ft,magFilter:ft,format:Ut};h.map=new Yn(i.x,i.y,t),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()}t.setRenderTarget(h.map),t.clear();const m=h.getViewportCount();for(let t=0;t<m;t++){const e=h.getViewport(t);a.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),d.viewport(a),h.updateMatrices(u,t),r=h.getFrustum(),E(s,c,h.camera,u,this.type)}h.isPointLightShadow||this.type!==p||_(h,c),h.needsUpdate=!1}w.needsUpdate=!1,t.setRenderTarget(l,u,h)}}function As(t,e,n){const r=n.isWebGL2;const i=new function(){let e=!1;const n=new qn;let r=null;const i=new qn(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,r=null,i=null;return{setTest:function(t){t?ft(2929):mt(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case H:t.depthFunc(512);break;case k:t.depthFunc(519);break;case V:t.depthFunc(513);break;case j:t.depthFunc(515);break;case W:t.depthFunc(514);break;case X:t.depthFunc(518);break;case q:t.depthFunc(516);break;case Y:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},l=new function(){let e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(t){e||(t?ft(2960):mt(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&c===r||(t.stencilOp(e,n,r),a=e,s=n,c=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null}}};let u={},h=null,d=null,p=null,f=null,v=null,y=null,Z=null,J=null,K=null,Q=!1,$=null,tt=null,et=null,nt=null,rt=null;const it=t.getParameter(35661);let ot=!1,at=0;const st=t.getParameter(7938);-1!==st.indexOf("WebGL")?(at=parseFloat(/^WebGL\ ([0-9])/.exec(st)[1]),ot=at>=1):-1!==st.indexOf("OpenGL ES")&&(at=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(st)[1]),ot=at>=2);let ct=null,lt={};const ut=new qn,ht=new qn;function dt(e,n,r){const i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<r;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,i);return o}const pt={};function ft(e){!0!==u[e]&&(t.enable(e),u[e]=!0)}function mt(e){!1!==u[e]&&(t.disable(e),u[e]=!1)}pt[3553]=dt(3553,3553,1),pt[34067]=dt(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),ft(2929),o.setFunc(j),xt(!1),bt(s),ft(2884),yt(x);const gt={[T]:32774,[E]:32778,[A]:32779};if(r)gt[L]=32775,gt[R]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(gt[L]=t.MIN_EXT,gt[R]=t.MAX_EXT)}const vt={[P]:0,[C]:1,[I]:768,[N]:770,[G]:776,[U]:774,[B]:772,[O]:769,[D]:771,[z]:775,[F]:773};function yt(e,n,r,i,o,a,s,c){if(e!==x){if(d||(ft(3042),d=!0),e===S)o=o||n,a=a||r,s=s||i,n===f&&o===Z||(t.blendEquationSeparate(gt[n],gt[o]),f=n,Z=o),r===v&&i===y&&a===J&&s===K||(t.blendFuncSeparate(vt[r],vt[i],vt[a],vt[s]),v=r,y=i,J=a,K=s),p=e,Q=null;else if(e!==p||c!==Q){if(f===T&&Z===T||(t.blendEquation(32774),f=T,Z=T),c)switch(e){case b:t.blendFuncSeparate(1,771,1,771);break;case w:t.blendFunc(1,1);break;case _:t.blendFuncSeparate(0,0,769,771);break;case M:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case b:t.blendFuncSeparate(770,771,1,771);break;case w:t.blendFunc(770,1);break;case _:t.blendFunc(0,769);break;case M:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}v=null,y=null,J=null,K=null,p=e,Q=c}}else d&&(mt(3042),d=!1)}function xt(e){$!==e&&(e?t.frontFace(2304):t.frontFace(2305),$=e)}function bt(e){e!==a?(ft(2884),e!==tt&&(e===s?t.cullFace(1029):e===c?t.cullFace(1028):t.cullFace(1032))):mt(2884),tt=e}function wt(e,n,r){e?(ft(32823),nt===n&&rt===r||(t.polygonOffset(n,r),nt=n,rt=r)):mt(32823)}function _t(e){void 0===e&&(e=33984+it-1),ct!==e&&(t.activeTexture(e),ct=e)}return{buffers:{color:i,depth:o,stencil:l},enable:ft,disable:mt,useProgram:function(e){return h!==e&&(t.useProgram(e),h=e,!0)},setBlending:yt,setMaterial:function(t,e){t.side===g?mt(2884):ft(2884);let n=t.side===m;e&&(n=!n),xt(n),t.blending===b&&!1===t.transparent?yt(x):yt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),i.setMask(t.colorWrite);const r=t.stencilWrite;l.setTest(r),r&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),wt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:xt,setCullFace:bt,setLineWidth:function(e){e!==et&&(ot&&t.lineWidth(e),et=e)},setPolygonOffset:wt,setScissorTest:function(t){t?ft(3089):mt(3089)},activeTexture:_t,bindTexture:function(e,n){null===ct&&_t();let r=lt[ct];void 0===r&&(r={type:void 0,texture:void 0},lt[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||pt[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=lt[ct];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===ut.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),ut.copy(e))},viewport:function(e){!1===ht.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ht.copy(e))},reset:function(){u={},ct=null,lt={},h=null,d=null,p=null,f=null,v=null,y=null,Z=null,J=null,K=null,Q=!1,$=null,tt=null,et=null,nt=null,rt=null,i.reset(),o.reset(),l.reset()}}}function Ls(t,e,n,r,i,o,a){const s=i.isWebGL2,c=i.maxTextures,l=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function m(t,e){return f?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(t,e,n,r){let i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const r=e?zn.floorPowerOfTwo:Math.floor,o=r(i*t.width),a=r(i*t.height);void 0===p&&(p=m(o,a));const s=n?m(o,a):p;s.width=o,s.height=a;return s.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function v(t){return zn.isPowerOfTwo(t.width)&&zn.isPowerOfTwo(t.height)}function y(t,e){return t.generateMipmaps&&e&&t.minFilter!==ft&&t.minFilter!==xt}function x(e,n,i,o){t.generateMipmap(e);r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function b(n,r,i){if(!1===s)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function w(t){return t===ft||t===mt||t===vt?9728:9729}function _(e){const n=e.target;n.removeEventListener("dispose",_),function(e){const n=r.get(e);if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture),r.remove(e)}(n),n.isVideoTexture&&d.delete(n),a.memory.textures--}function M(e){const n=e.target;n.removeEventListener("dispose",M),function(e){const n=r.get(e),i=r.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(e.texture),r.remove(e)}(n),a.memory.textures--}let S=0;function T(t,e){const i=r.get(t);if(t.isVideoTexture&&function(t){const e=a.render.frame;d.get(t)!==e&&(d.set(t,e),t.update())}(t),t.version>0&&i.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void C(i,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,i.__webglTexture)}function E(e,i){const a=r.get(e);e.version>0&&a.__version!==e.version?function(e,r,i){if(6!==r.image.length)return;P(e,r),n.activeTexture(33984+i),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,r.flipY);const a=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),c=r.image[0]&&r.image[0].isDataTexture,u=[];for(let t=0;t<6;t++)u[t]=a||c?c?r.image[t].image:r.image[t]:g(r.image[t],!1,!0,l);const h=u[0],d=v(h)||s,p=o.convert(r.format),f=o.convert(r.type),m=b(r.internalFormat,p,f);let w;if(R(34067,r,d),a){for(let t=0;t<6;t++){w=u[t].mipmaps;for(let e=0;e<w.length;e++){const i=w[e];r.format!==Ut&&r.format!==Ft?null!==p?n.compressedTexImage2D(34069+t,e,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,m,i.width,i.height,0,p,f,i.data)}}e.__maxMipLevel=w.length-1}else{w=r.mipmaps;for(let t=0;t<6;t++)if(c){n.texImage2D(34069+t,0,m,u[t].width,u[t].height,0,p,f,u[t].data);for(let e=0;e<w.length;e++){const r=w[e].image[t].image;n.texImage2D(34069+t,e+1,m,r.width,r.height,0,p,f,r.data)}}else{n.texImage2D(34069+t,0,m,p,f,u[t]);for(let e=0;e<w.length;e++){const r=w[e];n.texImage2D(34069+t,e+1,m,p,f,r.image[t])}}e.__maxMipLevel=w.length}y(r,d)&&x(34067,r,h.width,h.height);e.__version=r.version,r.onUpdate&&r.onUpdate(r)}(a,e,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))}const A={[ht]:10497,[dt]:33071,[pt]:33648},L={[ft]:9728,[mt]:9984,[vt]:9986,[xt]:9729,[bt]:9985,[_t]:9987};function R(n,o,a){a?(t.texParameteri(n,10242,A[o.wrapS]),t.texParameteri(n,10243,A[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,A[o.wrapR]),t.texParameteri(n,10240,L[o.magFilter]),t.texParameteri(n,10241,L[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===dt&&o.wrapT===dt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,w(o.magFilter)),t.texParameteri(n,10241,w(o.minFilter)),o.minFilter!==ft&&o.minFilter!==xt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const c=e.get("EXT_texture_filter_anisotropic");if(c){if(o.type===Pt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Ct&&null===(s||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function P(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",_),e.__webglTexture=t.createTexture(),a.memory.textures++)}function C(e,r,i){let a=3553;r.isDataTexture2DArray&&(a=35866),r.isDataTexture3D&&(a=32879),P(e,r),n.activeTexture(33984+i),n.bindTexture(a,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);const c=function(t){return!s&&(t.wrapS!==dt||t.wrapT!==dt||t.minFilter!==ft&&t.minFilter!==xt)}(r)&&!1===v(r.image),l=g(r.image,c,!1,u),h=v(l)||s,d=o.convert(r.format);let p,f=o.convert(r.type),m=b(r.internalFormat,d,f);R(a,r,h);const w=r.mipmaps;if(r.isDepthTexture)m=6402,s?m=r.type===Pt?36012:r.type===Rt?33190:r.type===Dt?35056:33189:r.type===Pt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===kt&&6402===m&&r.type!==At&&r.type!==Rt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=At,f=o.convert(r.type)),r.format===Vt&&6402===m&&(m=34041,r.type!==Dt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Dt,f=o.convert(r.type))),n.texImage2D(3553,0,m,l.width,l.height,0,d,f,null);else if(r.isDataTexture)if(w.length>0&&h){for(let t=0,e=w.length;t<e;t++)p=w[t],n.texImage2D(3553,t,m,p.width,p.height,0,d,f,p.data);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,l.width,l.height,0,d,f,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(let t=0,e=w.length;t<e;t++)p=w[t],r.format!==Ut&&r.format!==Ft?null!==d?n.compressedTexImage2D(3553,t,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,m,p.width,p.height,0,d,f,p.data);e.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,l.width,l.height,l.depth,0,d,f,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,l.width,l.height,l.depth,0,d,f,l.data),e.__maxMipLevel=0;else if(w.length>0&&h){for(let t=0,e=w.length;t<e;t++)p=w[t],n.texImage2D(3553,t,m,d,f,p);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,d,f,l),e.__maxMipLevel=0;y(r,h)&&x(a,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function I(e,i,a,s){const c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=b(i.texture.internalFormat,c,l);n.texImage2D(s,0,u,i.width,i.height,0,c,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function O(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Pt?i=36012:e.type===Rt&&(i=33190));const r=D(n);t.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else t.renderbufferStorage(36161,i,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const e=D(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=o.convert(n.texture.format),i=o.convert(n.texture.type),a=b(n.texture.internalFormat,e,i);if(r){const e=D(n);t.renderbufferStorageMultisample(36161,e,a,n.width,n.height)}else t.renderbufferStorage(36161,a,n.width,n.height)}t.bindRenderbuffer(36161,null)}function N(e){const n=r.get(e),i=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),T(n.depthTexture,0);const i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===kt)t.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Vt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(let r=0;r<6;r++)t.bindFramebuffer(36160,n.__webglFramebuffer[r]),n.__webglDepthbuffer[r]=t.createRenderbuffer(),O(n.__webglDepthbuffer[r],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),O(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function D(t){return s&&t.isWebGLMultisampleRenderTarget?Math.min(h,t.samples):0}let B=!1,F=!1;this.allocateTextureUnit=function(){const t=S;return t>=c&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+c),S+=1,t},this.resetTextureUnits=function(){S=0},this.setTexture2D=T,this.setTexture2DArray=function(t,e){const i=r.get(t);t.version>0&&i.__version!==t.version?C(i,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(t,e){const i=r.get(t);t.version>0&&i.__version!==t.version?C(i,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=E,this.setupRenderTarget=function(e){const i=r.get(e),c=r.get(e.texture);e.addEventListener("dispose",M),c.__webglTexture=t.createTexture(),a.memory.textures++;const l=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=v(e)||s;if(!s||e.texture.format!==Ft||e.texture.type!==Pt&&e.texture.type!==Ct||(e.texture.format=Ut,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){i.__webglFramebuffer=[];for(let e=0;e<6;e++)i.__webglFramebuffer[e]=t.createFramebuffer()}else if(i.__webglFramebuffer=t.createFramebuffer(),u)if(s){i.__webglMultisampledFramebuffer=t.createFramebuffer(),i.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,i.__webglColorRenderbuffer);const n=o.convert(e.texture.format),r=o.convert(e.texture.type),a=b(e.texture.internalFormat,n,r),s=D(e);t.renderbufferStorageMultisample(36161,s,a,e.width,e.height),t.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(i.__webglDepthRenderbuffer=t.createRenderbuffer(),O(i.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,c.__webglTexture),R(34067,e.texture,h);for(let t=0;t<6;t++)I(i.__webglFramebuffer[t],e,36064,34069+t);y(e.texture,h)&&x(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),R(3553,e.texture,h),I(i.__webglFramebuffer,e,36064,3553),y(e.texture,h)&&x(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&N(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(y(e,v(t)||s)){const i=t.isWebGLCubeRenderTarget?34067:3553,o=r.get(e).__webglTexture;n.bindTexture(i,o),x(i,e,t.width,t.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(s){const n=r.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const i=e.width,o=e.height;let a=16384;e.depthBuffer&&(a|=256),e.stencilBuffer&&(a|=1024),t.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),t=t.texture),T(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),E(t,e)}}function Rs(t,e,n){const r=n.isWebGL2;return{convert:function(t){let n;if(t===St)return 5121;if(t===It)return 32819;if(t===Ot)return 32820;if(t===Nt)return 33635;if(t===Tt)return 5120;if(t===Et)return 5122;if(t===At)return 5123;if(t===Lt)return 5124;if(t===Rt)return 5125;if(t===Pt)return 5126;if(t===Ct)return r?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(t===Bt)return 6406;if(t===Ft)return 6407;if(t===Ut)return 6408;if(t===zt)return 6409;if(t===Gt)return 6410;if(t===kt)return 6402;if(t===Vt)return 34041;if(t===jt)return 6403;if(t===Wt)return 36244;if(t===Xt)return 33319;if(t===qt)return 33320;if(t===Yt)return 36248;if(t===Zt)return 36249;if(t===Jt||t===Kt||t===Qt||t===$t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(t===Jt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Kt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Qt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===$t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===te||t===ee||t===ne||t===re){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(t===te)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ee)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ne)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===re)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ie)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===oe||t===ae)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(t===oe)return n.COMPRESSED_RGB8_ETC2;if(t===ae)return n.COMPRESSED_RGBA8_ETC2_EAC}return t===se||t===ce||t===le||t===ue||t===he||t===de||t===pe||t===fe||t===me||t===ge||t===ve||t===ye||t===xe||t===be||t===_e||t===Me||t===Se||t===Te||t===Ee||t===Ae||t===Le||t===Re||t===Pe||t===Ce||t===Ie||t===Oe||t===Ne||t===De?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):t===we?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===Dt?r?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Ps(t=[]){wo.call(this),this.cameras=t}function Cs(){Jr.call(this),this.type="Group"}function Is(){this._targetRay=null,this._grip=null,this._hand=null}function Os(t,e){const n=this;let r=null,i=1,o=null,a="local-floor",s=null;const c=[],l=new Map,u=new wo;u.layers.enable(1),u.viewport=new qn;const h=new wo;h.layers.enable(2),h.viewport=new qn;const d=[u,h],p=new Ps;p.layers.enable(1),p.layers.enable(2);let f=null,m=null;function g(t){const e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function v(){l.forEach((function(t,e){t.disconnect(e)})),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(t){o=t,S.setContext(r),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function x(t){const e=r.inputSources;for(let t=0;t<c.length;t++)l.set(e[t],c[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=l.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),l.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],r=l.get(n);r&&r.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=c[t];return void 0===e&&(e=new Is,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=c[t];return void 0===e&&(e=new Is,c[t]=e),e.getGripSpace()},this.getHand=function(t){let e=c[t];return void 0===e&&(e=new Is,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){a=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(t){if(r=t,null!==r){r.addEventListener("select",g),r.addEventListener("selectstart",g),r.addEventListener("selectend",g),r.addEventListener("squeeze",g),r.addEventListener("squeezestart",g),r.addEventListener("squeezeend",g),r.addEventListener("end",v);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:i},o=new XRWebGLLayer(r,e,n);r.updateRenderState({baseLayer:o}),r.requestReferenceSpace(a).then(y),r.addEventListener("inputsourceschange",x)}};const b=new Kn,w=new Kn;function _(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&&m===p.far||(r.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);const e=t.parent,n=p.cameras;_(p,e);for(let t=0;t<n.length;t++)_(n[t],e);t.matrixWorld.copy(p.matrixWorld);const i=t.children;for(let t=0,e=i.length;t<e;t++)i[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){b.setFromMatrixPosition(e.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);const r=b.distanceTo(w),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,p=a*h,f=r/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=a+f,v=s+f,y=d-m,x=p+(r-m),_=c*s/v*g,M=l*s/v*g;t.projectionMatrix.makePerspective(y,x,_,M,g,v)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};let M=null;const S=new Ro;S.setAnimationLoop((function(e,n){if(s=n.getViewerPose(o),null!==s){const e=s.views,n=r.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let i=!1;e.length!==p.cameras.length&&(p.cameras.length=0,i=!0);for(let t=0;t<e.length;t++){const r=e[t],o=n.getViewport(r),a=d[t];a.matrix.fromArray(r.transform.matrix),a.projectionMatrix.fromArray(r.projectionMatrix),a.viewport.set(o.x,o.y,o.width,o.height),0===t&&p.matrix.copy(a.matrix),!0===i&&p.cameras.push(a)}}const i=r.inputSources;for(let t=0;t<c.length;t++){const e=c[t],r=i[t];e.update(r,n,o)}M&&M(e,n)})),this.setAnimationLoop=function(t){M=t},this.dispose=function(){}}function Ns(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const r=t.get(n).envMap;if(r){e.envMap.value=r,e.flipEnvMap.value=r.isCubeTexture&&r._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const i=t.get(r).__maxMipLevel;void 0!==i&&(e.maxMipLevel.value=i)}let i,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,n.side===m&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),n.side===m&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,r,i,o){r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,r)):r.isMeshToonMaterial?(e(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r),r.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen);e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===m&&t.clearcoatNormalScale.value.negate());t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,r):n(t,r)):r.isMeshMatcapMaterial?(e(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDistanceMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?(e(t,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,n,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);let i;e.map?i=e.map:e.alphaMap&&(i=e.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,r,i,o):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);let n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ds(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h=null,d=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Je,this.physicallyCorrectLights=!1,this.toneMapping=Q,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const p=this;let f=!1,m=null,g=0,v=0,y=null,x=null,b=-1,w=null,_=null;const M=new qn,S=new qn;let T=null,E=e.width,A=e.height,L=1,R=null,P=null;const C=new qn(0,0,E,A),I=new qn(0,0,E,A);let O=!1;const N=new Lo;let D=!1,B=!1;const F=new Tr,U=new Kn,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===y?L:1}let H,k,V,j,W,X,q,Y,Z,J,K,$,tt,et,nt,rt,it,ot,at,st,ct,lt=n;function ut(t,n){for(let r=0;r<t.length;r++){const i=t[r],o=e.getContext(i,n);if(null!==o)return o}return null}try{const t={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",ft,!1),e.addEventListener("webglcontextrestored",mt,!1),null===lt){const e=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&e.shift(),lt=ut(e,t),null===lt)throw ut(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===lt.getShaderPrecisionFormat&&(lt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function ht(){H=new Ho(lt),k=new Uo(lt,H,t),!1===k.isWebGL2&&(H.get("WEBGL_depth_texture"),H.get("OES_texture_float"),H.get("OES_texture_half_float"),H.get("OES_texture_half_float_linear"),H.get("OES_standard_derivatives"),H.get("OES_element_index_uint"),H.get("OES_vertex_array_object"),H.get("ANGLE_instanced_arrays")),H.get("OES_texture_float_linear"),st=new Rs(lt,H,k),V=new As(lt,H,k),V.scissor(S.copy(I).multiplyScalar(L).floor()),V.viewport(M.copy(C).multiplyScalar(L).floor()),j=new jo(lt),W=new ps,X=new Ls(lt,H,V,W,k,st,j),q=new Go(p),Y=new Po(lt,k),ct=new Bo(lt,H,Y,k),Z=new ko(lt,Y,j,ct),J=new Yo(lt,Z,Y,j),it=new qo(lt),nt=new zo(W),K=new ds(p,q,H,k,ct,nt),$=new Ns(W),tt=new vs(W),et=new Ms(H,k),rt=new Do(p,q,V,J,s),ot=new Fo(lt,H,j,k),at=new Vo(lt,H,j,k),j.programs=K.programs,p.capabilities=k,p.extensions=H,p.properties=W,p.renderLists=tt,p.state=V,p.info=j}ht();const dt=new Os(p,lt);this.xr=dt;const pt=new Es(p,J,k.maxTextureSize);function ft(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1,ht()}function gt(t){const e=t.target;e.removeEventListener("dispose",gt),function(t){vt(t),W.remove(t)}(e)}function vt(t){const e=W.get(t).program;void 0!==e&&K.releaseProgram(e)}this.shadowMap=pt,this.getContext=function(){return lt},this.getContextAttributes=function(){return lt.getContextAttributes()},this.forceContextLoss=function(){const t=H.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=H.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(t){void 0!==t&&(L=t,this.setSize(E,A,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Gn),t.set(E,A)},this.setSize=function(t,n,r){dt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=t,A=n,e.width=Math.floor(t*L),e.height=Math.floor(n*L),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Gn),t.set(E*L,A*L).floor()},this.setDrawingBufferSize=function(t,n,r){E=t,A=n,L=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new qn),t.copy(M)},this.getViewport=function(t){return t.copy(C)},this.setViewport=function(t,e,n,r){t.isVector4?C.set(t.x,t.y,t.z,t.w):C.set(t,e,n,r),V.viewport(M.copy(C).multiplyScalar(L).floor())},this.getScissor=function(t){return t.copy(I)},this.setScissor=function(t,e,n,r){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,r),V.scissor(S.copy(I).multiplyScalar(L).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(t){V.setScissorTest(O=t)},this.setOpaqueSort=function(t){R=t},this.setTransparentSort=function(t){P=t},this.getClearColor=function(){return rt.getClearColor()},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(t,e,n){let r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),lt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ft,!1),e.removeEventListener("webglcontextrestored",mt,!1),tt.dispose(),et.dispose(),W.dispose(),q.dispose(),J.dispose(),ct.dispose(),dt.dispose(),xt.stop()},this.renderBufferImmediate=function(t,e){ct.initAttributes();const n=W.get(t);t.hasPositions&&!n.position&&(n.position=lt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=lt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=lt.createBuffer()),t.hasColors&&!n.color&&(n.color=lt.createBuffer());const r=e.getAttributes();t.hasPositions&&(lt.bindBuffer(34962,n.position),lt.bufferData(34962,t.positionArray,35048),ct.enableAttribute(r.position),lt.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(lt.bindBuffer(34962,n.normal),lt.bufferData(34962,t.normalArray,35048),ct.enableAttribute(r.normal),lt.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(lt.bindBuffer(34962,n.uv),lt.bufferData(34962,t.uvArray,35048),ct.enableAttribute(r.uv),lt.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(lt.bindBuffer(34962,n.color),lt.bufferData(34962,t.colorArray,35048),ct.enableAttribute(r.color),lt.vertexAttribPointer(r.color,3,5126,!1,0,0)),ct.disableUnusedAttributes(),lt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=z);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=Tt(t,e,r,i);V.setMaterial(r,a);let c=n.index;const l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let u,h=1;!0===r.wireframe&&(c=Z.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&it.update(i,n,r,s),ct.setup(i,r,s,n,c);let d=ot;null!==c&&(u=Y.get(c),d=at,d.setIndex(u));const p=null!==c?c.count:l.count,f=n.drawRange.start*h,m=n.drawRange.count*h,g=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(f,g),x=Math.min(p,f+m,g+v)-1,b=Math.max(0,x-y+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*G()),d.setMode(1)):d.setMode(4);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),V.setLineWidth(t*G()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(y,b,i.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,t)}else d.render(y,b)}},this.compile=function(t,e){d=et.get(t,e),d.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights(e);const n=new WeakMap;t.traverse((function(e){const r=e.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];!1===n.has(o)&&(Mt(o,t,e),n.set(o))}else!1===n.has(r)&&(Mt(r,t,e),n.set(r))}))};let yt=null;const xt=new Ro;function bt(t,e,n,r){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||N.intersectsSprite(t)){r&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);const e=J.update(t),i=t.material;i.visible&&h.push(t,e,i,n,U.z,null)}}else if(t.isImmediateRenderObject)r&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),h.push(t,null,t.material,n,U.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==j.render.frame&&(t.skeleton.update(),t.skeleton.frame=j.render.frame),!t.frustumCulled||N.intersectsObject(t))){r&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);const e=J.update(t),i=t.material;if(Array.isArray(i)){const r=e.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&h.push(t,e,s,n,U.z,a)}}else i.visible&&h.push(t,e,i,n,U.z,null)}const i=t.children;for(let t=0,o=i.length;t<o;t++)bt(i[t],e,n,r)}function wt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=o.object,s=o.geometry,c=null===r?o.material:r,l=o.group;if(n.isArrayCamera){_=n;const t=n.cameras;for(let n=0,r=t.length;n<r;n++){const r=t[n];a.layers.test(r.layers)&&(V.viewport(M.copy(r.viewport)),d.setupLights(r),_t(a,e,r,s,c,l))}}else _=null,_t(a,e,n,s,c,l)}}function _t(t,e,n,r,i,o){if(t.onBeforeRender(p,e,n,r,i,o),d=et.get(e,_||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const r=Tt(n,e,i,t);V.setMaterial(i),ct.reset(),function(t,e){t.render((function(t){p.renderBufferImmediate(t,e)}))}(t,r)}else p.renderBufferDirect(n,e,r,i,t,o);t.onAfterRender(p,e,n,r,i,o),d=et.get(e,_||n)}function Mt(t,e,n){!0!==e.isScene&&(e=z);const r=W.get(t),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=K.getParameters(t,i.state,o,e,n),c=K.getProgramCacheKey(s);let l=r.program,u=!0;if(void 0===l)t.addEventListener("dispose",gt);else if(l.cacheKey!==c)vt(t);else if(r.lightsStateVersion!==a)u=!1;else{if(void 0!==s.shaderID){const n=t.isMeshStandardMaterial?e.environment:null;return void(r.envMap=q.get(t.envMap||n))}u=!1}u&&(s.uniforms=K.getUniforms(t),t.onBeforeCompile(s,p),l=K.acquireProgram(s,c),r.program=l,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);const h=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=nt.numPlanes,r.numIntersection=nt.numIntersection,h.clippingPlanes=nt.uniform),r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=q.get(t.envMap||r.environment),r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);const f=r.program.getUniforms(),m=Wa.seqWithValue(f.seq,h);r.uniformsList=m}function Tt(t,e,n,r){!0!==e.isScene&&(e=z),X.resetTextureUnits();const i=e.fog,o=n.isMeshStandardMaterial?e.environment:null,a=null===y?p.outputEncoding:y.texture.encoding,s=q.get(n.envMap||o),c=W.get(n),l=d.state.lights;if(!0===D&&(!0===B||t!==w)){const e=t===w&&n.id===b;nt.setState(n,t,e)}n.version===c.__version?n.fog&&c.fog!==i||c.environment!==o||c.needsLights&&c.lightsStateVersion!==l.state.version?Mt(n,e,r):void 0===c.numClippingPlanes||c.numClippingPlanes===nt.numPlanes&&c.numIntersection===nt.numIntersection?(c.outputEncoding!==a||c.envMap!==s)&&Mt(n,e,r):Mt(n,e,r):(Mt(n,e,r),c.__version=n.version);let u=!1,h=!1,f=!1;const m=c.program,g=m.getUniforms(),v=c.uniforms;if(V.useProgram(m.program)&&(u=!0,h=!0,f=!0),n.id!==b&&(b=n.id,h=!0),u||w!==t){if(g.setValue(lt,"projectionMatrix",t.projectionMatrix),k.logarithmicDepthBuffer&&g.setValue(lt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,h=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=g.map.cameraPosition;void 0!==e&&e.setValue(lt,U.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(lt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(lt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){g.setOptional(lt,r,"bindMatrix"),g.setOptional(lt,r,"bindMatrixInverse");const t=r.skeleton;if(t){const e=t.bones;if(k.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=zn.ceilPowerOfTwo(n),n=Math.max(n,4);const r=new Float32Array(n*n*4);r.set(t.boneMatrices);const i=new To(r,n,n,Ut,Pt);t.boneMatrices=r,t.boneTexture=i,t.boneTextureSize=n}g.setValue(lt,"boneTexture",t.boneTexture,X),g.setValue(lt,"boneTextureSize",t.boneTextureSize)}else g.setOptional(lt,t,"boneMatrices")}}var x,_;return(h||c.receiveShadow!==r.receiveShadow)&&(c.receiveShadow=r.receiveShadow,g.setValue(lt,"receiveShadow",r.receiveShadow)),h&&(g.setValue(lt,"toneMappingExposure",p.toneMappingExposure),c.needsLights&&(_=f,(x=v).ambientLightColor.needsUpdate=_,x.lightProbe.needsUpdate=_,x.directionalLights.needsUpdate=_,x.directionalLightShadows.needsUpdate=_,x.pointLights.needsUpdate=_,x.pointLightShadows.needsUpdate=_,x.spotLights.needsUpdate=_,x.spotLightShadows.needsUpdate=_,x.rectAreaLights.needsUpdate=_,x.hemisphereLights.needsUpdate=_),i&&n.fog&&$.refreshFogUniforms(v,i),$.refreshMaterialUniforms(v,n,L,A),Wa.upload(lt,c.uniformsList,v,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Wa.upload(lt,c.uniformsList,v,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(lt,"center",r.center),g.setValue(lt,"modelViewMatrix",r.modelViewMatrix),g.setValue(lt,"normalMatrix",r.normalMatrix),g.setValue(lt,"modelMatrix",r.matrixWorld),m}xt.setAnimationLoop((function(t){dt.isPresenting||yt&&yt(t)})),"undefined"!=typeof window&&xt.setContext(window),this.setAnimationLoop=function(t){yt=t,dt.setAnimationLoop(t),null===t?xt.stop():xt.start()},this.render=function(t,e){let n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===f)return;ct.resetDefaultState(),b=-1,w=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===dt.enabled&&!0===dt.isPresenting&&(e=dt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(p,t,e,n||y),d=et.get(t,e),d.init(),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromProjectionMatrix(F),B=this.localClippingEnabled,D=nt.init(this.clippingPlanes,B,e),h=tt.get(t,e),h.init(),bt(t,e,0,p.sortObjects),h.finish(),!0===p.sortObjects&&h.sort(R,P),!0===D&&nt.beginShadows();const i=d.state.shadowsArray;pt.render(i,t,e),d.setupLights(e),!0===D&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),rt.render(h,t,e,r);const o=h.opaque,a=h.transparent;o.length>0&&wt(o,t,e),a.length>0&&wt(a,t,e),!0===t.isScene&&t.onAfterRender(p,t,e),null!==y&&(X.updateRenderTargetMipmap(y),X.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),h=null,d=null},this.setFramebuffer=function(t){m!==t&&null===y&&lt.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return v},this.getRenderList=function(){return h},this.setRenderList=function(t){h=t},this.getRenderState=function(){return d},this.setRenderState=function(t){d=t},this.getRenderTarget=function(){return y},this.setRenderTarget=function(t,e=0,n=0){y=t,g=e,v=n,t&&void 0===W.get(t).__webglFramebuffer&&X.setupRenderTarget(t);let r=m,i=!1;if(t){const n=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=n[e],i=!0):r=t.isWebGLMultisampleRenderTarget?W.get(t).__webglMultisampledFramebuffer:n,M.copy(t.viewport),S.copy(t.scissor),T=t.scissorTest}else M.copy(C).multiplyScalar(L).floor(),S.copy(I).multiplyScalar(L).floor(),T=O;if(x!==r&&(lt.bindFramebuffer(36160,r),x=r),V.viewport(M),V.scissor(S),V.setScissorTest(T),i){const r=W.get(t.texture);lt.framebufferTexture2D(36160,36064,34069+e,r.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,r,i,o,a){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){let a=!1;s!==x&&(lt.bindFramebuffer(36160,s),a=!0);try{const s=t.texture,c=s.format,l=s.type;if(c!==Ut&&st.convert(c)!==lt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===St||st.convert(l)===lt.getParameter(35738)||l===Pt&&(k.isWebGL2||H.get("OES_texture_float")||H.get("WEBGL_color_buffer_float"))||l===Ct&&(k.isWebGL2?H.get("EXT_color_buffer_float"):H.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===lt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&lt.readPixels(e,n,r,i,st.convert(c),st.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&lt.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(t,e,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),a=st.convert(e.format);X.setTexture2D(e,0),lt.copyTexImage2D(3553,n,a,t.x,t.y,i,o,0),V.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r=0){const i=e.image.width,o=e.image.height,a=st.convert(n.format),s=st.convert(n.type);X.setTexture2D(n,0),lt.pixelStorei(37440,n.flipY),lt.pixelStorei(37441,n.premultiplyAlpha),lt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?lt.texSubImage2D(3553,r,t.x,t.y,i,o,a,s,e.image.data):e.isCompressedTexture?lt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):lt.texSubImage2D(3553,r,t.x,t.y,a,s,e.image),0===r&&n.generateMipmaps&&lt.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(t){X.setTexture2D(t,0),V.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Bs(t){Ds.call(this,t)}Ps.prototype=Object.assign(Object.create(wo.prototype),{constructor:Ps,isArrayCamera:!0}),Cs.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Cs,isGroup:!0}),Object.assign(Is.prototype,{constructor:Is,getHandSpace:function(){if(null===this._hand&&(this._hand=new Cs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const t=new Cs;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Cs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Cs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){o=!0;for(let r=0;r<=window.XRHand.LITTLE_PHALANX_TIP;r++)if(t.hand[r]){const i=e.getJointPose(t.hand[r],n),o=c.joints[r];null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=i.radius),o.visible=null!==i;const a=c.joints[window.XRHand.INDEX_PHALANX_TIP],s=c.joints[window.XRHand.THUMB_PHALANX_TIP],l=a.position.distanceTo(s.position),u=.02,h=.005;c.inputState.pinching&&l>u+h?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&l<=u-h&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==a&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),null!==s&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==c&&(c.visible=null!==o),this}}),Object.assign(Os.prototype,Bn.prototype),Bs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Bs,isWebGL1Renderer:!0});class Fs{constructor(t,e){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new yi(t),this.density=void 0!==e?e:25e-5}clone(){return new Fs(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Us{constructor(t,e,n){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new yi(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}clone(){return new Us(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class zs extends Jr{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function Gs(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Tn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zn.generateUUID()}Object.defineProperty(Gs.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Gs.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new Gs(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Hs=new Kn;function ks(t,e,n,r){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Vs(t){wi.call(this),this.type="SpriteMaterial",this.color=new yi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let js;Object.defineProperties(ks.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(ks.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)Hs.x=this.getX(e),Hs.y=this.getY(e),Hs.z=this.getZ(e),Hs.applyMatrix4(t),this.setXYZ(e,Hs.x,Hs.y,Hs.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Ti(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ks(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Vs.prototype=Object.create(wi.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isSpriteMaterial=!0,Vs.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const Ws=new Kn,Xs=new Kn,qs=new Kn,Ys=new Gn,Zs=new Gn,Js=new Tr,Ks=new Kn,Qs=new Kn,$s=new Kn,tc=new Gn,ec=new Gn,nc=new Gn;function rc(t){if(Jr.call(this),this.type="Sprite",void 0===js){js=new qi;const t=new Gs(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);js.setIndex([0,1,2,0,2,3]),js.setAttribute("position",new ks(t,3,0,!1)),js.setAttribute("uv",new ks(t,2,3,!1))}this.geometry=js,this.material=void 0!==t?t:new Vs,this.center=new Gn(.5,.5)}function ic(t,e,n,r,i,o){Ys.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(Zs.x=o*Ys.x-i*Ys.y,Zs.y=i*Ys.x+o*Ys.y):Zs.copy(Ys),t.copy(e),t.x+=Zs.x,t.y+=Zs.y,t.applyMatrix4(Js)}rc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:rc,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xs.setFromMatrixScale(this.matrixWorld),Js.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),qs.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Xs.multiplyScalar(-qs.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;ic(Ks.set(-.5,-.5,0),qs,o,Xs,r,i),ic(Qs.set(.5,-.5,0),qs,o,Xs,r,i),ic($s.set(.5,.5,0),qs,o,Xs,r,i),tc.set(0,0),ec.set(1,0),nc.set(1,1);let a=t.ray.intersectTriangle(Ks,Qs,$s,!1,Ws);if(null===a&&(ic(Qs.set(-.5,.5,0),qs,o,Xs,r,i),ec.set(0,1),a=t.ray.intersectTriangle(Ks,$s,Qs,!1,Ws),null===a))return;const s=t.ray.origin.distanceTo(Ws);s<t.near||s>t.far||e.push({distance:s,point:Ws.clone(),uv:hi.getUV(Ws,Ks,Qs,$s,tc,ec,nc,new Gn),face:null,object:this})},copy:function(t){return Jr.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const oc=new Kn,ac=new Kn;function sc(){Jr.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function cc(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ho.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Tr,this.bindMatrixInverse=new Tr}function lc(){Jr.call(this),this.type="Bone"}sc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:sc,isLOD:!0,copy:function(t){Jr.prototype.copy.call(this,t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let r;for(r=0;r<n.length&&!(e<n[r].distance);r++);return n.splice(r,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,r;for(n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){oc.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(oc);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){oc.setFromMatrixPosition(t.matrixWorld),ac.setFromMatrixPosition(this.matrixWorld);const n=oc.distanceTo(ac)/t.zoom;let r,i;for(e[0].object.visible=!0,r=1,i=e.length;r<i&&n>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(this._currentLevel=r-1;r<i;r++)e[r].object.visible=!1}},toJSON:function(t){const e=Jr.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,r=n.length;t<r;t++){const r=n[t];e.object.levels.push({object:r.object.uuid,distance:r.distance})}return e}}),cc.prototype=Object.assign(Object.create(ho.prototype),{constructor:cc,isSkinnedMesh:!0,copy:function(t){return ho.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new qn,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){ho.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const t=new Kn,e=new qn,n=new qn,r=new Kn,i=new Tr;return function(o,a){const s=this.skeleton,c=this.geometry;e.fromBufferAttribute(c.attributes.skinIndex,o),n.fromBufferAttribute(c.attributes.skinWeight,o),t.fromBufferAttribute(c.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let o=0;o<4;o++){const c=n.getComponent(o);if(0!==c){const n=e.getComponent(o);i.multiplyMatrices(s.bones[n].matrixWorld,s.boneInverses[n]),a.addScaledVector(r.copy(t).applyMatrix4(i),c)}}return a.applyMatrix4(this.bindMatrixInverse)}}()}),lc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:lc,isBone:!0});const uc=new Tr,hc=new Tr;function dc(t=[],e=[]){this.uuid=zn.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(dc.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Tr)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Tr;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=t.length;r<i;r++){const i=t[r]?t[r].matrixWorld:hc;uc.multiplyMatrices(i,e[r]),uc.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)},clone:function(){return new dc(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){const r=t.bones[n];let i=e[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new lc),this.bones.push(i),this.boneInverses.push((new Tr).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let r=0,i=e.length;r<i;r++){const i=e[r];t.bones.push(i.uuid);const o=n[r];t.boneInverses.push(o.toArray())}return t}});const pc=new Tr,fc=new Tr,mc=[],gc=new ho;function vc(t,e,n){ho.call(this,t,e),this.instanceMatrix=new Ti(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function yc(t){wi.call(this),this.type="LineBasicMaterial",this.color=new yi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}vc.prototype=Object.assign(Object.create(ho.prototype),{constructor:vc,isInstancedMesh:!0,copy:function(t){return ho.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,r=this.count;if(gc.geometry=this.geometry,gc.material=this.material,void 0!==gc.material)for(let i=0;i<r;i++){this.getMatrixAt(i,pc),fc.multiplyMatrices(n,pc),gc.matrixWorld=fc,gc.raycast(t,mc);for(let t=0,n=mc.length;t<n;t++){const n=mc[t];n.instanceId=i,n.object=this,e.push(n)}mc.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new Ti(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),yc.prototype=Object.create(wi.prototype),yc.prototype.constructor=yc,yc.prototype.isLineBasicMaterial=!0,yc.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const xc=new Kn,bc=new Kn,wc=new Tr,_c=new Sr,Mc=new gr;function Sc(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Jr.call(this),this.type="Line",this.geometry=void 0!==t?t:new qi,this.material=void 0!==e?e:new yc,this.updateMorphTargets()}Sc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Sc,isLine:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)xc.fromBufferAttribute(e,t-1),bc.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=xc.distanceTo(bc);t.setAttribute("lineDistance",new Ni(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let t=1,r=e.length;t<r;t++)n[t]=n[t-1],n[t]+=e[t-1].distanceTo(e[t])}return this},raycast:function(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Mc.copy(n.boundingSphere),Mc.applyMatrix4(r),Mc.radius+=i,!1===t.ray.intersectsSphere(Mc))return;wc.copy(r).invert(),_c.copy(t.ray).applyMatrix4(wc);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Kn,c=new Kn,l=new Kn,u=new Kn,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,o=n.length-1;r<o;r+=h){const o=n[r],h=n[r+1];s.fromBufferAttribute(i,o),c.fromBufferAttribute(i,h);if(_c.distanceSqToSegment(s,c,u,l)>a)continue;u.applyMatrix4(this.matrixWorld);const d=t.ray.origin.distanceTo(u);d<t.near||d>t.far||e.push({distance:d,point:l.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else for(let n=0,r=i.count-1;n<r;n+=h){s.fromBufferAttribute(i,n),c.fromBufferAttribute(i,n+1);if(_c.distanceSqToSegment(s,c,u,l)>a)continue;u.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(u);r<t.near||r>t.far||e.push({distance:r,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const r=n.vertices,i=r.length;for(let n=0;n<i-1;n+=h){if(_c.distanceSqToSegment(r[n],r[n+1],u,l)>a)continue;u.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(u);i<t.near||i>t.far||e.push({distance:i,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Tc=new Kn,Ec=new Kn;function Ac(t,e){Sc.call(this,t,e),this.type="LineSegments"}function Lc(t,e){Sc.call(this,t,e),this.type="LineLoop"}function Rc(t){wi.call(this),this.type="PointsMaterial",this.color=new yi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}Ac.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Ac,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,r=e.count;t<r;t+=2)Tc.fromBufferAttribute(e,t),Ec.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Tc.distanceTo(Ec);t.setAttribute("lineDistance",new Ni(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let t=0,r=e.length;t<r;t+=2)Tc.copy(e[t]),Ec.copy(e[t+1]),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Tc.distanceTo(Ec)}return this}}),Lc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Lc,isLineLoop:!0}),Rc.prototype=Object.create(wi.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isPointsMaterial=!0,Rc.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const Pc=new Tr,Cc=new Sr,Ic=new gr,Oc=new Kn;function Nc(t,e){Jr.call(this),this.type="Points",this.geometry=void 0!==t?t:new qi,this.material=void 0!==e?e:new Rc,this.updateMorphTargets()}function Dc(t,e,n,r,i,o,a){const s=Cc.distanceSqToPoint(t);if(s<n){const n=new Kn;Cc.closestPointToPoint(t,n),n.applyMatrix4(r);const c=i.ray.origin.distanceTo(n);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:n,index:e,face:null,object:a})}}function Bc(t,e,n,r,i,o,a,s,c){Wn.call(this,t,e,n,r,i,o,a,s,c),this.format=void 0!==a?a:Ft,this.minFilter=void 0!==o?o:xt,this.magFilter=void 0!==i?i:xt,this.generateMipmaps=!1;const l=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function Fc(t,e,n,r,i,o,a,s,c,l,u,h){Wn.call(this,null,o,a,s,c,l,r,i,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Uc(t,e,n,r,i,o,a,s,c){Wn.call(this,t,e,n,r,i,o,a,s,c),this.needsUpdate=!0}function zc(t,e,n,r,i,o,a,s,c,l){if((l=void 0!==l?l:kt)!==kt&&l!==Vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===kt&&(n=At),void 0===n&&l===Vt&&(n=Dt),Wn.call(this,null,r,i,o,a,s,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:ft,this.minFilter=void 0!==s?s:ft,this.flipY=!1,this.generateMipmaps=!1}Nc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Nc,isPoints:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ic.copy(n.boundingSphere),Ic.applyMatrix4(r),Ic.radius+=i,!1===t.ray.intersectsSphere(Ic))return;Pc.copy(r).invert(),Cc.copy(t.ray).applyMatrix4(Pc);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){const i=n.index,o=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,s=n.length;i<s;i++){const s=n[i];Oc.fromBufferAttribute(o,s),Dc(Oc,s,a,r,t,e,this)}}else for(let n=0,i=o.count;n<i;n++)Oc.fromBufferAttribute(o,n),Dc(Oc,n,a,r,t,e,this)}else{const i=n.vertices;for(let n=0,o=i.length;n<o;n++)Dc(i[n],n,a,r,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Bc.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Bc,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Fc.prototype=Object.create(Wn.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isCompressedTexture=!0,Uc.prototype=Object.create(Wn.prototype),Uc.prototype.constructor=Uc,Uc.prototype.isCanvasTexture=!0,zc.prototype=Object.create(Wn.prototype),zc.prototype.constructor=zc,zc.prototype.isDepthTexture=!0;let Gc=0;const Hc=new Tr,kc=new Jr,Vc=new Kn;function jc(){Object.defineProperty(this,"id",{value:Gc+=2}),this.uuid=zn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}jc.prototype=Object.assign(Object.create(Bn.prototype),{constructor:jc,isGeometry:!0,applyMatrix4:function(t){const e=(new Hn).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++){this.vertices[e].applyMatrix4(t)}for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,r=n.vertexNormals.length;t<r;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return Hc.makeRotationX(t),this.applyMatrix4(Hc),this},rotateY:function(t){return Hc.makeRotationY(t),this.applyMatrix4(Hc),this},rotateZ:function(t){return Hc.makeRotationZ(t),this.applyMatrix4(Hc),this},translate:function(t,e,n){return Hc.makeTranslation(t,e,n),this.applyMatrix4(Hc),this},scale:function(t,e,n){return Hc.makeScale(t,e,n),this.applyMatrix4(Hc),this},lookAt:function(t){return kc.lookAt(t),kc.updateMatrix(),this.applyMatrix4(kc.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,r=t.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const i=r.position,o=r.normal,a=r.color,s=r.uv,c=r.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let t=0;t<i.count;t++)e.vertices.push((new Kn).fromBufferAttribute(i,t)),void 0!==a&&e.colors.push((new yi).fromBufferAttribute(a,t));function l(t,n,r,i){const l=void 0===a?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],u=void 0===o?[]:[(new Kn).fromBufferAttribute(o,t),(new Kn).fromBufferAttribute(o,n),(new Kn).fromBufferAttribute(o,r)],h=new xi(t,n,r,u,l,i);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new Gn).fromBufferAttribute(s,t),(new Gn).fromBufferAttribute(s,n),(new Gn).fromBufferAttribute(s,r)]),void 0!==c&&e.faceVertexUvs[1].push([(new Gn).fromBufferAttribute(c,t),(new Gn).fromBufferAttribute(c,n),(new Gn).fromBufferAttribute(c,r)])}const u=t.groups;if(u.length>0)for(let t=0;t<u.length;t++){const e=u[t],r=e.start;for(let t=r,i=r+e.count;t<i;t+=3)void 0!==n?l(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):l(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)l(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<i.count;t+=3)l(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vc).negate(),this.translate(Vc.x,Vc.y,Vc.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Tr;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){const t=new Kn,e=new Kn;for(let n=0,r=this.faces.length;n<r;n++){const r=this.faces[n],i=this.vertices[r.a],o=this.vertices[r.b],a=this.vertices[r.c];t.subVectors(a,o),e.subVectors(i,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new Kn;if(t){const t=new Kn,n=new Kn;for(let r=0,i=this.faces.length;r<i;r++){const i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),n.subVectors(o,a),t.cross(n),e[i.a].add(t),e[i.b].add(t),e[i.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],r=n.vertexNormals;3===r.length?(r[0].copy(e[n.a]),r[1].copy(e[n.b]),r[2].copy(e[n.c])):(r[0]=e[n.a].clone(),r[1]=e[n.b].clone(),r[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new jc;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,r=this.faces.length;e<r;e++){const e=new Kn,r={a:new Kn,b:new Kn,c:new Kn};t.push(e),n.push(r)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],r=n.faceNormals[t],i=n.vertexNormals[t];r.copy(e.normal),i.a.copy(e.vertexNormals[0]),i.b.copy(e.vertexNormals[1]),i.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new gr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let r;const i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,l=this.colors,u=t.colors;void 0!==e&&(r=(new Hn).getNormalMatrix(e));for(let t=0,n=a.length;t<n;t++){const n=a[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=u.length;t<e;t++)l.push(u[t].clone());for(let t=0,e=c.length;t<e;t++){const e=c[t];let o,a;const l=e.vertexNormals,u=e.vertexColors,h=new xi(e.a+i,e.b+i,e.c+i);h.normal.copy(e.normal),void 0!==r&&h.normal.applyMatrix3(r).normalize();for(let t=0,e=l.length;t<e;t++)o=l[t].clone(),void 0!==r&&o.applyMatrix3(r).normalize(),h.vertexNormals.push(o);h.color.copy(e.color);for(let t=0,e=u.length;t<e;t++)a=u[t],h.vertexColors.push(a.clone());h.materialIndex=e.materialIndex+n,s.push(h)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,r=n.length;t<r;t++){const r=n[t],i=[];for(let t=0,e=r.length;t<e;t++)i.push(r[t].clone());this.faceVertexUvs[e].push(i)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(t=4){const e={},n=[],r=[],i=Math.pow(10,t);for(let t=0,o=this.vertices.length;t<o;t++){const o=this.vertices[t],a=Math.round(o.x*i)+"_"+Math.round(o.y*i)+"_"+Math.round(o.z*i);void 0===e[a]?(e[a]=t,n.push(this.vertices[t]),r[t]=n.length-1):r[t]=r[e[a]]}const o=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=r[e.a],e.b=r[e.b],e.c=r[e.c];const n=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(n[e]===n[(e+1)%3]){o.push(t);break}}for(let t=o.length-1;t>=0;t--){const e=o[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const a=this.vertices.length-n.length;return this.vertices=n,a},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new Kn(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let i,o;n&&n.length===e&&(i=[]),r&&r.length===e&&(o=[]);for(let a=0;a<e;a++){const e=t[a]._id;i&&i.push(n[e]),o&&o.push(r[e])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],r=[],i={},o=[],a={},s=[],c={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],r=!0,i=!1,o=void 0!==this.faceVertexUvs[0][t],a=e.normal.length()>0,s=e.vertexNormals.length>0,c=1!==e.color.r||1!==e.color.g||1!==e.color.b,p=e.vertexColors.length>0;let f=0;if(f=l(f,0,0),f=l(f,1,r),f=l(f,2,i),f=l(f,3,o),f=l(f,4,a),f=l(f,5,s),f=l(f,6,c),f=l(f,7,p),n.push(f),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(d(e[0]),d(e[1]),d(e[2]))}if(a&&n.push(u(e.normal)),s){const t=e.vertexNormals;n.push(u(t[0]),u(t[1]),u(t[2]))}if(c&&n.push(h(e.color)),p){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function l(t,e,n){return n?t|1<<e:t&~(1<<e)}function u(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==i[e]||(i[e]=r.length/3,r.push(t.x,t.y,t.z)),i[e]}function h(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==a[e]||(a[e]=o.length,o.push(t.getHex())),a[e]}function d(t){const e=t.x.toString()+t.y.toString();return void 0!==c[e]||(c[e]=s.length/2,s.push(t.x,t.y)),c[e]}return t.data={},t.data.vertices=e,t.data.normals=r,o.length>0&&(t.data.colors=o),s.length>0&&(t.data.uvs=[s]),t.data.faces=n,t},clone:function(){return(new jc).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const r=t.faces;for(let t=0,e=r.length;t<e;t++)this.faces.push(r[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,r=n.length;t<r;t++){const r=n[t],i=[];for(let t=0,e=r.length;t<e;t++){const e=r[t];i.push(e.clone())}this.faceVertexUvs[e].push(i)}}const i=t.morphTargets;for(let t=0,e=i.length;t<e;t++){const e={};if(e.name=i[t].name,void 0!==i[t].vertices){e.vertices=[];for(let n=0,r=i[t].vertices.length;n<r;n++)e.vertices.push(i[t].vertices[n].clone())}if(void 0!==i[t].normals){e.normals=[];for(let n=0,r=i[t].normals.length;n<r;n++)e.normals.push(i[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,r=o[t].vertexNormals.length;n<r;n++){const r=o[t].vertexNormals[n],i={};i.a=r.a.clone(),i.b=r.b.clone(),i.c=r.c.clone(),e.vertexNormals.push(i)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,r=o[t].faceNormals.length;n<r;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const a=t.skinWeights;for(let t=0,e=a.length;t<e;t++)this.skinWeights.push(a[t].clone());const s=t.skinIndices;for(let t=0,e=s.length;t<e;t++)this.skinIndices.push(s[t].clone());const c=t.lineDistances;for(let t=0,e=c.length;t<e;t++)this.lineDistances.push(c[t]);const l=t.boundingBox;null!==l&&(this.boundingBox=l.clone());const u=t.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Wc extends jc{constructor(t,e,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new mo(t,e,n,r,i,o)),this.mergeVertices()}}class Xc extends qi{constructor(t=1,e=8,n=0,r=2*Math.PI){super(),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},e=Math.max(3,e);const i=[],o=[],a=[],s=[],c=new Kn,l=new Gn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let i=0,u=3;i<=e;i++,u+=3){const h=n+i/e*r;c.x=t*Math.cos(h),c.y=t*Math.sin(h),o.push(c.x,c.y,c.z),a.push(0,0,1),l.x=(o[u]/t+1)/2,l.y=(o[u+1]/t+1)/2,s.push(l.x,l.y)}for(let t=1;t<=e;t++)i.push(t,t+1,0);this.setIndex(i),this.setAttribute("position",new Ni(o,3)),this.setAttribute("normal",new Ni(a,3)),this.setAttribute("uv",new Ni(s,2))}}class qc extends jc{constructor(t,e,n,r){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Xc(t,e,n,r)),this.mergeVertices()}}class Yc extends qi{constructor(t=1,e=1,n=1,r=8,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const c=this;r=Math.floor(r),i=Math.floor(i);const l=[],u=[],h=[],d=[];let p=0;const f=[],m=n/2;let g=0;function v(n){const i=p,o=new Gn,f=new Kn;let v=0;const y=!0===n?t:e,x=!0===n?1:-1;for(let t=1;t<=r;t++)u.push(0,m*x,0),h.push(0,x,0),d.push(.5,.5),p++;const b=p;for(let t=0;t<=r;t++){const e=t/r*s+a,n=Math.cos(e),i=Math.sin(e);f.x=y*i,f.y=m*x,f.z=y*n,u.push(f.x,f.y,f.z),h.push(0,x,0),o.x=.5*n+.5,o.y=.5*i*x+.5,d.push(o.x,o.y),p++}for(let t=0;t<r;t++){const e=i+t,r=b+t;!0===n?l.push(r,r+1,e):l.push(r+1,r,e),v+=3}c.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new Kn,v=new Kn;let y=0;const x=(e-t)/n;for(let c=0;c<=i;c++){const l=[],g=c/i,y=g*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,i=e*s+a,c=Math.sin(i),f=Math.cos(i);v.x=y*c,v.y=-g*n+m,v.z=y*f,u.push(v.x,v.y,v.z),o.set(c,x,f).normalize(),h.push(o.x,o.y,o.z),d.push(e,1-g),l.push(p++)}f.push(l)}for(let t=0;t<r;t++)for(let e=0;e<i;e++){const n=f[e][t],r=f[e+1][t],i=f[e+1][t+1],o=f[e][t+1];l.push(n,r,o),l.push(r,i,o),y+=6}c.addGroup(g,y,0),g+=y}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(l),this.setAttribute("position",new Ni(u,3)),this.setAttribute("normal",new Ni(h,3)),this.setAttribute("uv",new Ni(d,2))}}class Zc extends jc{constructor(t,e,n,r,i,o,a,s){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Yc(t,e,n,r,i,o,a,s)),this.mergeVertices()}}class Jc extends Zc{constructor(t,e,n,r,i,o,a){super(0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}}class Kc extends Yc{constructor(t=1,e=1,n=8,r=1,i=!1,o=0,a=2*Math.PI){super(0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}}class Qc extends qi{constructor(t,e,n=1,r=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const i=[],o=[];function a(t,e,n,r){const i=r+1,o=[];for(let r=0;r<=i;r++){o[r]=[];const a=t.clone().lerp(n,r/i),s=e.clone().lerp(n,r/i),c=i-r;for(let t=0;t<=c;t++)o[r][t]=0===t&&r===i?a:a.clone().lerp(s,t/c)}for(let t=0;t<i;t++)for(let e=0;e<2*(i-t)-1;e++){const n=Math.floor(e/2);e%2==0?(s(o[t][n+1]),s(o[t+1][n]),s(o[t][n])):(s(o[t][n+1]),s(o[t+1][n+1]),s(o[t+1][n]))}}function s(t){i.push(t.x,t.y,t.z)}function c(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function l(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function u(t){return Math.atan2(t.z,-t.x)}!function(t){const n=new Kn,r=new Kn,i=new Kn;for(let o=0;o<e.length;o+=3)c(e[o+0],n),c(e[o+1],r),c(e[o+2],i),a(n,r,i,t)}(r),function(t){const e=new Kn;for(let n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){const t=new Kn;for(let n=0;n<i.length;n+=3){t.x=i[n+0],t.y=i[n+1],t.z=i[n+2];const r=u(t)/2/Math.PI+.5,a=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);o.push(r,1-a)}var e;(function(){const t=new Kn,e=new Kn,n=new Kn,r=new Kn,a=new Gn,s=new Gn,c=new Gn;for(let h=0,d=0;h<i.length;h+=9,d+=6){t.set(i[h+0],i[h+1],i[h+2]),e.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),c.set(o[d+4],o[d+5]),r.copy(t).add(e).add(n).divideScalar(3);const p=u(r);l(a,d+0,t,p),l(s,d+2,e,p),l(c,d+4,n,p)}})(),function(){for(let t=0;t<o.length;t+=6){const e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}()}(),this.setAttribute("position",new Ni(i,3)),this.setAttribute("normal",new Ni(i.slice(),3)),this.setAttribute("uv",new Ni(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}}class $c extends Qc{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}}class tl extends jc{constructor(t,e){super(),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new $c(t,e)),this.mergeVertices()}}const el=new Kn,nl=new Kn,rl=new Kn,il=new hi;class ol extends qi{constructor(t,e){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1,t.isGeometry&&(t=(new qi).fromGeometry(t));const n=Math.pow(10,4),r=Math.cos(zn.DEG2RAD*e),i=t.getIndex(),o=t.getAttribute("position"),a=i?i.count:o.count,s=[0,0,0],c=["a","b","c"],l=new Array(3),u={},h=[];for(let t=0;t<a;t+=3){i?(s[0]=i.getX(t),s[1]=i.getX(t+1),s[2]=i.getX(t+2)):(s[0]=t,s[1]=t+1,s[2]=t+2);const{a:e,b:a,c:d}=il;if(e.fromBufferAttribute(o,s[0]),a.fromBufferAttribute(o,s[1]),d.fromBufferAttribute(o,s[2]),il.getNormal(rl),l[0]=`${Math.round(e.x*n)},${Math.round(e.y*n)},${Math.round(e.z*n)}`,l[1]=`${Math.round(a.x*n)},${Math.round(a.y*n)},${Math.round(a.z*n)}`,l[2]=`${Math.round(d.x*n)},${Math.round(d.y*n)},${Math.round(d.z*n)}`,l[0]!==l[1]&&l[1]!==l[2]&&l[2]!==l[0])for(let t=0;t<3;t++){const e=(t+1)%3,n=l[t],i=l[e],o=il[c[t]],a=il[c[e]],d=`${n}_${i}`,p=`${i}_${n}`;p in u&&u[p]?(rl.dot(u[p].normal)<=r&&(h.push(o.x,o.y,o.z),h.push(a.x,a.y,a.z)),u[p]=null):d in u||(u[d]={index0:s[t],index1:s[e],normal:rl.clone()})}}for(const t in u)if(u[t]){const{index0:e,index1:n}=u[t];el.fromBufferAttribute(o,e),nl.fromBufferAttribute(o,n),h.push(el.x,el.y,el.z),h.push(nl.x,nl.y,nl.z)}this.setAttribute("position",new Ni(h,3))}}const al=function(t,e,n){n=n||2;const r=e&&e.length,i=r?e[0]*n:t.length;let o=sl(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,c,l,u,h,d,p;if(r&&(o=function(t,e,n,r){const i=[];let o,a,s,c,l;for(o=0,a=e.length;o<a;o++)s=e[o]*r,c=o<a-1?e[o+1]*r:t.length,l=sl(t,s,c,r,!1),l===l.next&&(l.steiner=!0),i.push(yl(l));for(i.sort(fl),o=0;o<i.length;o++)ml(i[o],n),n=cl(n,n.next);return n}(t,e,o,n)),t.length>80*n){s=l=t[0],c=u=t[1];for(let e=n;e<i;e+=n)h=t[e],d=t[e+1],h<s&&(s=h),d<c&&(c=d),h>l&&(l=h),d>u&&(u=d);p=Math.max(l-s,u-c),p=0!==p?1/p:0}return ll(o,a,n,s,c,p),a};function sl(t,e,n,r,i){let o,a;if(i===function(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ll(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ll(o,t[o],t[o+1],a);return a&&_l(a,a.next)&&(Rl(a),a=a.next),a}function cl(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!_l(r,r.next)&&0!==wl(r.prev,r,r.next))r=r.next;else{if(Rl(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function ll(t,e,n,r,i,o,a){if(!t)return;!a&&o&&function(t,e,n,r){let i=t;do{null===i.z&&(i.z=vl(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,n,r,i,o,a,s,c,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ,r);e++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);let s,c,l=t;for(;t.prev!==t.next;)if(s=t.prev,c=t.next,o?hl(t,r,i,o):ul(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),Rl(t),t=c.next,l=c.next;else if((t=c)===l){a?1===a?ll(t=dl(cl(t),e,n),e,n,r,i,o,2):2===a&&pl(t,e,n,r,i,o):ll(cl(t),e,n,r,i,o,1);break}}function ul(t){const e=t.prev,n=t,r=t.next;if(wl(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(xl(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&wl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function hl(t,e,n,r){const i=t.prev,o=t,a=t.next;if(wl(i,o,a)>=0)return!1;const s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=vl(s,c,e,n,r),d=vl(l,u,e,n,r);let p=t.prevZ,f=t.nextZ;for(;p&&p.z>=h&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&xl(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&wl(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&xl(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&wl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&xl(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&wl(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&xl(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&wl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function dl(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!_l(i,o)&&Ml(i,r,r.next,o)&&El(i,o)&&El(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Rl(r),Rl(r.next),r=t=o),r=r.next}while(r!==t);return cl(r)}function pl(t,e,n,r,i,o){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&bl(a,t)){let s=Al(a,t);return a=cl(a,a.next),s=cl(s,s.next),ll(a,e,n,r,i,o),void ll(s,e,n,r,i,o)}t=t.next}a=a.next}while(a!==t)}function fl(t,e){return t.x-e.x}function ml(t,e){if(e=function(t,e){let n=e;const r=t.x,i=t.y;let o,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const t=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>a){if(a=t,t===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(r===a)return o;const s=o,c=o.x,l=o.y;let u,h=1/0;n=o;do{r>=n.x&&n.x>=c&&r!==n.x&&xl(i<l?r:a,i,c,l,i<l?a:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),El(n,t)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&gl(o,n)))&&(o=n,h=u)),n=n.next}while(n!==s);return o}(t,e)){const n=Al(e,t);cl(e,e.next),cl(n,n.next)}}function gl(t,e){return wl(t.prev,t,e.prev)<0&&wl(e.next,t,t.next)<0}function vl(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function yl(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function xl(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function bl(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ml(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(El(t,e)&&El(e,t)&&function(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(wl(t.prev,t,e.prev)||wl(t,e.prev,e))||_l(t,e)&&wl(t.prev,t,t.next)>0&&wl(e.prev,e,e.next)>0)}function wl(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _l(t,e){return t.x===e.x&&t.y===e.y}function Ml(t,e,n,r){const i=Tl(wl(t,e,n)),o=Tl(wl(t,e,r)),a=Tl(wl(n,r,t)),s=Tl(wl(n,r,e));return i!==o&&a!==s||(!(0!==i||!Sl(t,n,e))||(!(0!==o||!Sl(t,r,e))||(!(0!==a||!Sl(n,t,r))||!(0!==s||!Sl(n,e,r)))))}function Sl(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Tl(t){return t>0?1:t<0?-1:0}function El(t,e){return wl(t.prev,t,t.next)<0?wl(t,e,t.next)>=0&&wl(t,t.prev,e)>=0:wl(t,e,t.prev)<0||wl(t,t.next,e)<0}function Al(t,e){const n=new Pl(t.i,t.x,t.y),r=new Pl(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ll(t,e,n,r){const i=new Pl(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Pl(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Cl={area:function(t){const e=t.length;let n=0;for(let r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return Cl.area(t)<0},triangulateShape:function(t,e){const n=[],r=[],i=[];Il(t),Ol(n,t);let o=t.length;e.forEach(Il);for(let t=0;t<e.length;t++)r.push(o),o+=e[t].length,Ol(n,e[t]);const a=al(n,r);for(let t=0;t<a.length;t+=3)i.push(a.slice(t,t+3));return i}};function Il(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ol(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Nl extends qi{constructor(t,e){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],i=[];for(let e=0,n=t.length;e<n;e++){o(t[e])}function o(t){const o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1;let c=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3;const f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:Dl;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);let g,v,y,x,b,w=!1;f&&(g=f.getSpacedPoints(s),w=!0,l=!1,v=f.computeFrenetFrames(s,!1),y=new Kn,x=new Kn,b=new Kn),l||(p=0,u=0,h=0,d=0);const _=t.extractPoints(a);let M=_.shape;const S=_.holes;if(!Cl.isClockWise(M)){M=M.reverse();for(let t=0,e=S.length;t<e;t++){const e=S[t];Cl.isClockWise(e)&&(S[t]=e.reverse())}}const T=Cl.triangulateShape(M,S),E=M;for(let t=0,e=S.length;t<e;t++){const e=S[t];M=M.concat(e)}function A(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const L=M.length,R=T.length;function P(t,e,n){let r,i,o;const a=t.x-e.x,s=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=a*a+s*s,h=a*l-s*c;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(c*c+l*l),p=e.x-s/h,f=e.y+a/h,m=((n.x-l/d-p)*l-(n.y+c/d-f)*c)/(a*l-s*c);r=p+a*m-t.x,i=f+s*m-t.y;const g=r*r+i*i;if(g<=2)return new Gn(r,i);o=Math.sqrt(g/2)}else{let t=!1;a>Number.EPSILON?c>Number.EPSILON&&(t=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(t=!0):Math.sign(s)===Math.sign(l)&&(t=!0),t?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new Gn(r/o,i/o)}const C=[];for(let t=0,e=E.length,n=e-1,r=t+1;t<e;t++,n++,r++)n===e&&(n=0),r===e&&(r=0),C[t]=P(E[t],E[n],E[r]);const I=[];let O,N=C.concat();for(let t=0,e=S.length;t<e;t++){const e=S[t];O=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),O[t]=P(e[t],e[r],e[i]);I.push(O),N=N.concat(O)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,e=E.length;t<e;t++){const e=A(E[t],C[t],r);F(e.x,e.y,-n)}for(let t=0,e=S.length;t<e;t++){const e=S[t];O=I[t];for(let t=0,i=e.length;t<i;t++){const i=A(e[t],O[t],r);F(i.x,i.y,-n)}}}const D=h+d;for(let t=0;t<L;t++){const e=l?A(M[t],N[t],D):M[t];w?(x.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(x).add(y),F(b.x,b.y,b.z)):F(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<L;e++){const n=l?A(M[e],N[e],D):M[e];w?(x.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(x).add(y),F(b.x,b.y,b.z)):F(n.x,n.y,c/s*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,e=E.length;t<e;t++){const e=A(E[t],C[t],r);F(e.x,e.y,c+n)}for(let t=0,e=S.length;t<e;t++){const e=S[t];O=I[t];for(let t=0,i=e.length;t<i;t++){const i=A(e[t],O[t],r);w?F(i.x,i.y+g[s-1].y,g[s-1].x+n):F(i.x,i.y,c+n)}}}function B(t,e){let n=t.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=t.length-1);for(let t=0,n=s+2*p;t<n;t++){const n=L*t,o=L*(t+1);z(e+r+n,e+i+n,e+i+o,e+r+o)}}}function F(t,e,n){o.push(t),o.push(e),o.push(n)}function U(t,e,i){G(t),G(e),G(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);H(a[0]),H(a[1]),H(a[2])}function z(t,e,i,o){G(t),G(e),G(o),G(e),G(i),G(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);H(s[0]),H(s[1]),H(s[3]),H(s[1]),H(s[2]),H(s[3])}function G(t){r.push(o[3*t+0]),r.push(o[3*t+1]),r.push(o[3*t+2])}function H(t){i.push(t.x),i.push(t.y)}!function(){const t=r.length/3;if(l){let t=0,e=L*t;for(let t=0;t<R;t++){const n=T[t];U(n[2]+e,n[1]+e,n[0]+e)}t=s+2*p,e=L*t;for(let t=0;t<R;t++){const n=T[t];U(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<R;t++){const e=T[t];U(e[2],e[1],e[0])}for(let t=0;t<R;t++){const e=T[t];U(e[0]+L*s,e[1]+L*s,e[2]+L*s)}}n.addGroup(t,r.length/3-t,0)}(),function(){const t=r.length/3;let e=0;B(E,e),e+=E.length;for(let t=0,n=S.length;t<n;t++){const n=S[t];B(n,e),e+=n.length}n.addGroup(t,r.length/3-t,1)}()}this.setAttribute("position",new Ni(r,3)),this.setAttribute("uv",new Ni(i,2)),this.computeVertexNormals()}toJSON(){const t=qi.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){const r=t[e];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}const Dl={generateTopUV:function(t,e,n,r,i){const o=e[3*n],a=e[3*n+1],s=e[3*r],c=e[3*r+1],l=e[3*i],u=e[3*i+1];return[new Gn(o,a),new Gn(s,c),new Gn(l,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[3*n],s=e[3*n+1],c=e[3*n+2],l=e[3*r],u=e[3*r+1],h=e[3*r+2],d=e[3*i],p=e[3*i+1],f=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-u)<.01?[new Gn(a,1-c),new Gn(l,1-h),new Gn(d,1-f),new Gn(m,1-v)]:[new Gn(s,1-c),new Gn(u,1-h),new Gn(p,1-f),new Gn(g,1-v)]}};class Bl extends jc{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Nl(t,e)),this.mergeVertices()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){const r=t[e];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}class Fl extends Qc{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}}class Ul extends jc{constructor(t,e){super(),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fl(t,e)),this.mergeVertices()}}class zl extends qi{constructor(t,e=12,n=0,r=2*Math.PI){super(),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e),r=zn.clamp(r,0,2*Math.PI);const i=[],o=[],a=[],s=1/e,c=new Kn,l=new Gn;for(let i=0;i<=e;i++){const u=n+i*s*r,h=Math.sin(u),d=Math.cos(u);for(let n=0;n<=t.length-1;n++)c.x=t[n].x*h,c.y=t[n].y,c.z=t[n].x*d,o.push(c.x,c.y,c.z),l.x=i/e,l.y=n/(t.length-1),a.push(l.x,l.y)}for(let n=0;n<e;n++)for(let e=0;e<t.length-1;e++){const r=e+n*t.length,o=r,a=r+t.length,s=r+t.length+1,c=r+1;i.push(o,a,c),i.push(a,s,c)}if(this.setIndex(i),this.setAttribute("position",new Ni(o,3)),this.setAttribute("uv",new Ni(a,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new Kn,i=new Kn,o=new Kn,a=e*t.length*3;for(let e=0,s=0;e<t.length;e++,s+=3)r.x=n[s+0],r.y=n[s+1],r.z=n[s+2],i.x=n[a+s+0],i.y=n[a+s+1],i.z=n[a+s+2],o.addVectors(r,i).normalize(),n[s+0]=n[a+s+0]=o.x,n[s+1]=n[a+s+1]=o.y,n[s+2]=n[a+s+2]=o.z}}}class Gl extends jc{constructor(t,e,n,r){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new zl(t,e,n,r)),this.mergeVertices()}}class Hl extends Qc{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}}class kl extends jc{constructor(t,e){super(),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Hl(t,e)),this.mergeVertices()}}function Vl(t,e,n){qi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const r=[],i=[],o=[],a=[],s=1e-5,c=new Kn,l=new Kn,u=new Kn,h=new Kn,d=new Kn;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=e+1;for(let r=0;r<=n;r++){const p=r/n;for(let n=0;n<=e;n++){const r=n/e;t(r,p,l),i.push(l.x,l.y,l.z),r-s>=0?(t(r-s,p,u),h.subVectors(l,u)):(t(r+s,p,u),h.subVectors(u,l)),p-s>=0?(t(r,p-s,u),d.subVectors(l,u)):(t(r,p+s,u),d.subVectors(u,l)),c.crossVectors(h,d).normalize(),o.push(c.x,c.y,c.z),a.push(r,p)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*p+n,i=t*p+n+1,o=(t+1)*p+n+1,a=(t+1)*p+n;r.push(e,i,a),r.push(i,o,a)}this.setIndex(r),this.setAttribute("position",new Ni(i,3)),this.setAttribute("normal",new Ni(o,3)),this.setAttribute("uv",new Ni(a,2))}function jl(t,e,n){jc.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Vl(t,e,n)),this.mergeVertices()}Vl.prototype=Object.create(qi.prototype),Vl.prototype.constructor=Vl,jl.prototype=Object.create(jc.prototype),jl.prototype.constructor=jl;class Wl extends jc{constructor(t,e,n,r){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Co(t,e,n,r)),this.mergeVertices()}}class Xl extends jc{constructor(t,e,n,r){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Qc(t,e,n,r)),this.mergeVertices()}}class ql extends qi{constructor(t=.5,e=1,n=8,r=1,i=0,o=2*Math.PI){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n);const a=[],s=[],c=[],l=[];let u=t;const h=(e-t)/(r=Math.max(1,r)),d=new Kn,p=new Gn;for(let t=0;t<=r;t++){for(let t=0;t<=n;t++){const r=i+t/n*o;d.x=u*Math.cos(r),d.y=u*Math.sin(r),s.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/e+1)/2,p.y=(d.y/e+1)/2,l.push(p.x,p.y)}u+=h}for(let t=0;t<r;t++){const e=t*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,c=r+1;a.push(i,o,c),a.push(o,s,c)}}this.setIndex(a),this.setAttribute("position",new Ni(s,3)),this.setAttribute("normal",new Ni(c,3)),this.setAttribute("uv",new Ni(l,2))}}class Yl extends jc{constructor(t,e,n,r,i,o){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new ql(t,e,n,r,i,o)),this.mergeVertices()}}class Zl extends qi{constructor(t,e=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(t))c(t);else for(let e=0;e<t.length;e++)c(t[e]),this.addGroup(a,s,e),a+=s,s=0;function c(t){const a=r.length/3,c=t.extractPoints(e);let l=c.shape;const u=c.holes;!1===Cl.isClockWise(l)&&(l=l.reverse());for(let t=0,e=u.length;t<e;t++){const e=u[t];!0===Cl.isClockWise(e)&&(u[t]=e.reverse())}const h=Cl.triangulateShape(l,u);for(let t=0,e=u.length;t<e;t++){const e=u[t];l=l.concat(e)}for(let t=0,e=l.length;t<e;t++){const e=l[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=h.length;t<e;t++){const e=h[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new Ni(r,3)),this.setAttribute("normal",new Ni(i,3)),this.setAttribute("uv",new Ni(o,2))}toJSON(){const t=qi.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}class Jl extends jc{constructor(t,e){super(),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Zl(t,e)),this.mergeVertices()}toJSON(){const t=jc.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}class Kl extends qi{constructor(t=1,e=8,n=6,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let c=0;const l=[],u=new Kn,h=new Kn,d=[],p=[],f=[],m=[];for(let d=0;d<=n;d++){const g=[],v=d/n;let y=0;0==d&&0==o?y=.5/e:d==n&&s==Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const s=n/e;u.x=-t*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=t*Math.cos(o+v*a),u.z=t*Math.sin(r+s*i)*Math.sin(o+v*a),p.push(u.x,u.y,u.z),h.copy(u).normalize(),f.push(h.x,h.y,h.z),m.push(s+y,1-v),g.push(c++)}l.push(g)}for(let t=0;t<n;t++)for(let r=0;r<e;r++){const e=l[t][r+1],i=l[t][r],a=l[t+1][r],c=l[t+1][r+1];(0!==t||o>0)&&d.push(e,i,c),(t!==n-1||s<Math.PI)&&d.push(i,a,c)}this.setIndex(d),this.setAttribute("position",new Ni(p,3)),this.setAttribute("normal",new Ni(f,3)),this.setAttribute("uv",new Ni(m,2))}}class Ql extends jc{constructor(t,e,n,r,i,o,a){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Kl(t,e,n,r,i,o,a)),this.mergeVertices()}}class $l extends Qc{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}}class tu extends jc{constructor(t,e){super(),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new $l(t,e)),this.mergeVertices()}}class eu extends Nl{constructor(t,e={}){const n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new qi;const r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),super(r,e),this.type="TextBufferGeometry"}}class nu extends jc{constructor(t,e){super(),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new eu(t,e)),this.mergeVertices()}}class ru extends qi{constructor(t=1,e=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],c=[],l=new Kn,u=new Kn,h=new Kn;for(let o=0;o<=n;o++)for(let d=0;d<=r;d++){const p=d/r*i,f=o/n*Math.PI*2;u.x=(t+e*Math.cos(f))*Math.cos(p),u.y=(t+e*Math.cos(f))*Math.sin(p),u.z=e*Math.sin(f),a.push(u.x,u.y,u.z),l.x=t*Math.cos(p),l.y=t*Math.sin(p),h.subVectors(u,l).normalize(),s.push(h.x,h.y,h.z),c.push(d/r),c.push(o/n)}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*t+e-1,i=(r+1)*(t-1)+e-1,a=(r+1)*(t-1)+e,s=(r+1)*t+e;o.push(n,i,s),o.push(i,a,s)}this.setIndex(o),this.setAttribute("position",new Ni(a,3)),this.setAttribute("normal",new Ni(s,3)),this.setAttribute("uv",new Ni(c,2))}}class iu extends jc{constructor(t,e,n,r,i){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new ru(t,e,n,r,i)),this.mergeVertices()}}class ou extends qi{constructor(t=1,e=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],c=[],l=[],u=new Kn,h=new Kn,d=new Kn,p=new Kn,f=new Kn,m=new Kn,g=new Kn;for(let a=0;a<=n;++a){const y=a/n*i*Math.PI*2;v(y,i,o,t,d),v(y+.01,i,o,t,p),m.subVectors(p,d),g.addVectors(p,d),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let t=0;t<=r;++t){const i=t/r*Math.PI*2,o=-e*Math.cos(i),p=e*Math.sin(i);u.x=d.x+(o*g.x+p*f.x),u.y=d.y+(o*g.y+p*f.y),u.z=d.z+(o*g.z+p*f.z),s.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),c.push(h.x,h.y,h.z),l.push(a/n),l.push(t/r)}}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,s=(r+1)*(t-1)+e;a.push(n,i,s),a.push(i,o,s)}function v(t,e,n,r,i){const o=Math.cos(t),a=Math.sin(t),s=n/e*t,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Ni(s,3)),this.setAttribute("normal",new Ni(c,3)),this.setAttribute("uv",new Ni(l,2))}}class au extends jc{constructor(t,e,n,r,i,o,a){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ou(t,e,n,r,i,o)),this.mergeVertices()}}class su extends qi{constructor(t,e=64,n=1,r=8,i=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i};const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Kn,s=new Kn,c=new Gn;let l=new Kn;const u=[],h=[],d=[],p=[];function f(i){l=t.getPointAt(i/e,l);const c=o.normals[i],d=o.binormals[i];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);s.x=o*c.x+i*d.x,s.y=o*c.y+i*d.y,s.z=o*c.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=l.x+n*s.x,a.y=l.y+n*s.y,a.z=l.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let t=0;t<e;t++)f(t);f(!1===i?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=r;n++)c.x=t/e,c.y=n/r,d.push(c.x,c.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,a=(r+1)*(t-1)+e;p.push(n,i,a),p.push(i,o,a)}}()}(),this.setIndex(p),this.setAttribute("position",new Ni(u,3)),this.setAttribute("normal",new Ni(h,3)),this.setAttribute("uv",new Ni(d,2))}toJSON(){const t=qi.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}class cu extends jc{constructor(t,e,n,r,i,o){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new su(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}}class lu extends qi{constructor(t){super(),this.type="WireframeGeometry";const e=[],n=[0,0],r={},i=["a","b","c"];if(t&&t.isGeometry){const o=t.faces;for(let t=0,e=o.length;t<e;t++){const e=o[t];for(let t=0;t<3;t++){const o=e[i[t]],a=e[i[(t+1)%3]];n[0]=Math.min(o,a),n[1]=Math.max(o,a);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const n in r){const i=r[n];let o=t.vertices[i.index1];e.push(o.x,o.y,o.z),o=t.vertices[i.index2],e.push(o.x,o.y,o.z)}}else if(t&&t.isBufferGeometry){const i=new Kn;if(null!==t.index){const o=t.attributes.position,a=t.index;let s=t.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let t=0,e=s.length;t<e;++t){const e=s[t],i=e.start;for(let t=i,o=i+e.count;t<o;t+=3)for(let e=0;e<3;e++){const i=a.getX(t+e),o=a.getX(t+(e+1)%3);n[0]=Math.min(i,o),n[1]=Math.max(i,o);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const t in r){const n=r[t];i.fromBufferAttribute(o,n.index1),e.push(i.x,i.y,i.z),i.fromBufferAttribute(o,n.index2),e.push(i.x,i.y,i.z)}}else{const n=t.attributes.position;for(let t=0,r=n.count/3;t<r;t++)for(let r=0;r<3;r++){const o=3*t+r;i.fromBufferAttribute(n,o),e.push(i.x,i.y,i.z);const a=3*t+(r+1)%3;i.fromBufferAttribute(n,a),e.push(i.x,i.y,i.z)}}}this.setAttribute("position",new Ni(e,3))}}var uu=Object.freeze({__proto__:null,BoxGeometry:Wc,BoxBufferGeometry:mo,CircleGeometry:qc,CircleBufferGeometry:Xc,ConeGeometry:Jc,ConeBufferGeometry:Kc,CylinderGeometry:Zc,CylinderBufferGeometry:Yc,DodecahedronGeometry:tl,DodecahedronBufferGeometry:$c,EdgesGeometry:ol,ExtrudeGeometry:Bl,ExtrudeBufferGeometry:Nl,IcosahedronGeometry:Ul,IcosahedronBufferGeometry:Fl,LatheGeometry:Gl,LatheBufferGeometry:zl,OctahedronGeometry:kl,OctahedronBufferGeometry:Hl,ParametricGeometry:jl,ParametricBufferGeometry:Vl,PlaneGeometry:Wl,PlaneBufferGeometry:Co,PolyhedronGeometry:Xl,PolyhedronBufferGeometry:Qc,RingGeometry:Yl,RingBufferGeometry:ql,ShapeGeometry:Jl,ShapeBufferGeometry:Zl,SphereGeometry:Ql,SphereBufferGeometry:Kl,TetrahedronGeometry:tu,TetrahedronBufferGeometry:$l,TextGeometry:nu,TextBufferGeometry:eu,TorusGeometry:iu,TorusBufferGeometry:ru,TorusKnotGeometry:au,TorusKnotBufferGeometry:ou,TubeGeometry:cu,TubeBufferGeometry:su,WireframeGeometry:lu});function hu(t){wi.call(this),this.type="ShadowMaterial",this.color=new yi(0),this.transparent=!0,this.setValues(t)}function du(t){xo.call(this,t),this.type="RawShaderMaterial"}function pu(t){wi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new yi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sn,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function fu(t){pu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=zn.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function mu(t){wi.call(this),this.type="MeshPhongMaterial",this.color=new yi(16777215),this.specular=new yi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sn,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gu(t){wi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sn,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vu(t){wi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sn,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yu(t){wi.call(this),this.type="MeshLambertMaterial",this.color=new yi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xu(t){wi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sn,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bu(t){yc.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}hu.prototype=Object.create(wi.prototype),hu.prototype.constructor=hu,hu.prototype.isShadowMaterial=!0,hu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this},du.prototype=Object.create(xo.prototype),du.prototype.constructor=du,du.prototype.isRawShaderMaterial=!0,pu.prototype=Object.create(wi.prototype),pu.prototype.constructor=pu,pu.prototype.isMeshStandardMaterial=!0,pu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},fu.prototype=Object.create(pu.prototype),fu.prototype.constructor=fu,fu.prototype.isMeshPhysicalMaterial=!0,fu.prototype.copy=function(t){return pu.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new yi).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},mu.prototype=Object.create(wi.prototype),mu.prototype.constructor=mu,mu.prototype.isMeshPhongMaterial=!0,mu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gu.prototype=Object.create(wi.prototype),gu.prototype.constructor=gu,gu.prototype.isMeshToonMaterial=!0,gu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vu.prototype=Object.create(wi.prototype),vu.prototype.constructor=vu,vu.prototype.isMeshNormalMaterial=!0,vu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yu.prototype=Object.create(wi.prototype),yu.prototype.constructor=yu,yu.prototype.isMeshLambertMaterial=!0,yu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xu.prototype=Object.create(wi.prototype),xu.prototype.constructor=xu,xu.prototype.isMeshMatcapMaterial=!0,xu.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bu.prototype=Object.create(yc.prototype),bu.prototype.constructor=bu,bu.prototype.isLineDashedMaterial=!0,bu.prototype.copy=function(t){return yc.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var wu=Object.freeze({__proto__:null,ShadowMaterial:hu,SpriteMaterial:Vs,RawShaderMaterial:du,ShaderMaterial:xo,PointsMaterial:Rc,MeshPhysicalMaterial:fu,MeshStandardMaterial:pu,MeshPhongMaterial:mu,MeshToonMaterial:gu,MeshNormalMaterial:vu,MeshLambertMaterial:yu,MeshDepthMaterial:Ss,MeshDistanceMaterial:Ts,MeshBasicMaterial:_i,MeshMatcapMaterial:xu,LineDashedMaterial:bu,LineBasicMaterial:yc,Material:wi});const _u={arraySlice:function(t,e,n){return _u.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*e;for(let n=0;n!==e;++n)i[a++]=t[r+n]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],s=e.getValueSize(),c=[],l=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*i;if(!(o<n||o>=r)){c.push(e.times[t]);for(let n=0;n<s;++n)l.push(e.values[t*s+n])}}0!==c.length&&(e.times=_u.convertArray(c,e.times.constructor),e.values=_u.convertArray(l,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let t=0;t<o.tracks.length;++t)s>o.tracks[t].times[0]&&(s=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let e=0;e<i;++e){const r=n.tracks[e],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const a=t.tracks.find((function(t){return t.name===r.name&&t.ValueTypeName===i}));if(void 0===a)continue;let s=0;const c=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=c/3);let l=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);const h=r.times.length-1;let d;if(o<=r.times[0]){const t=s,e=c-s;d=_u.arraySlice(r.values,t,e)}else if(o>=r.times[h]){const t=h*c+s,e=t+c-s;d=_u.arraySlice(r.values,t,e)}else{const t=r.createInterpolant(),e=s,n=c-s;t.evaluate(o),d=_u.arraySlice(t.resultBuffer,e,n)}if("quaternion"===i){(new Jn).fromArray(d).normalize().conjugate().toArray(d)}const p=a.times.length;for(let t=0;t<p;++t){const e=t*u+l;if("quaternion"===i)Jn.multiplyQuaternionsFlat(a.values,e,d,0,a.values,e);else{const t=u-2*l;for(let n=0;n<t;++n)a.values[e+n]-=d[n]}}}return t.blendMode=Xe,t}};function Mu(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Su(t,e,n,r){Mu.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Tu(t,e,n,r){Mu.call(this,t,e,n,r)}function Eu(t,e,n,r){Mu.call(this,t,e,n,r)}function Au(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=_u.convertArray(e,this.TimeBufferType),this.values=_u.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Lu(t,e,n){Au.call(this,t,e,n)}function Ru(t,e,n,r){Au.call(this,t,e,n,r)}function Pu(t,e,n,r){Au.call(this,t,e,n,r)}function Cu(t,e,n,r){Mu.call(this,t,e,n,r)}function Iu(t,e,n,r){Au.call(this,t,e,n,r)}function Ou(t,e,n,r){Au.call(this,t,e,n,r)}function Nu(t,e,n,r){Au.call(this,t,e,n,r)}function Du(t,e,n,r){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==r?r:We,this.uuid=zn.generateUUID(),this.duration<0&&this.resetDuration()}function Bu(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pu;case"vector":case"vector2":case"vector3":case"vector4":return Nu;case"color":return Ru;case"quaternion":return Iu;case"bool":case"boolean":return Lu;case"string":return Ou}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];_u.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Mu.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const a=e[1];t<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let t=0;t!==r;++t)e[t]=n[i+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Mu.prototype,{beforeStart_:Mu.prototype.copySampleValue_,afterEnd_:Mu.prototype.copySampleValue_}),Su.prototype=Object.assign(Object.create(Mu.prototype),{constructor:Su,DefaultSettings_:{endingStart:ke,endingEnd:ke},intervalChanged_:function(t,e,n){const r=this.parameterPositions;let i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Ve:i=t,a=2*e-n;break;case je:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ve:o=t,s=2*n-e;break;case je:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}const c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,x=d*m-d*f;for(let t=0;t!==a;++t)i[t]=g*o[l+t]+v*o[c+t]+y*o[s+t]+x*o[u+t];return i}}),Tu.prototype=Object.assign(Object.create(Mu.prototype),{constructor:Tu,interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=(n-e)/(r-e),u=1-l;for(let t=0;t!==a;++t)i[t]=o[c+t]*u+o[s+t]*l;return i}}),Eu.prototype=Object.assign(Object.create(Mu.prototype),{constructor:Eu,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Au,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:_u.convertArray(t.times,Array),values:_u.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(Au.prototype,{constructor:Au,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ge,InterpolantFactoryMethodDiscrete:function(t){return new Eu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Tu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Su(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case ze:e=this.InterpolantFactoryMethodDiscrete;break;case Ge:e=this.InterpolantFactoryMethodLinear;break;case He:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ze;case this.InterpolantFactoryMethodLinear:return Ge;case this.InterpolantFactoryMethodSmooth:return He}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=_u.arraySlice(n,i,o),this.values=_u.arraySlice(this.values,i*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==i;e++){const r=n[e];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,r),t=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,r,o),t=!1;break}o=r}if(void 0!==r&&_u.isTypedArray(r))for(let e=0,n=r.length;e!==n;++e){const n=r[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t},optimize:function(){const t=_u.arraySlice(this.times),e=_u.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===He,i=t.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=t[a];if(s!==t[a+1]&&(1!==a||s!==s[0]))if(r)i=!0;else{const t=a*n,r=t-n,o=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[r+a]||n!==e[o+a]){i=!0;break}}}if(i){if(a!==o){t[o]=t[a];const r=a*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,a=0;a!==n;++a)e[r+a]=e[t+a];++o}return o!==t.length?(this.times=_u.arraySlice(t,0,o),this.values=_u.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=_u.arraySlice(this.times,0),e=_u.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Lu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Lu,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ze,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ru.prototype=Object.assign(Object.create(Au.prototype),{constructor:Ru,ValueTypeName:"color"}),Pu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Pu,ValueTypeName:"number"}),Cu.prototype=Object.assign(Object.create(Mu.prototype),{constructor:Cu,interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(r-e);let c=t*a;for(let t=c+a;c!==t;c+=4)Jn.slerpFlat(i,0,o,c-a,o,c,s);return i}}),Iu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Iu,ValueTypeName:"quaternion",DefaultInterpolation:Ge,InterpolantFactoryMethodLinear:function(t){return new Cu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Ou.prototype=Object.assign(Object.create(Au.prototype),{constructor:Ou,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ze,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Nu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Nu,ValueTypeName:"vector"}),Object.assign(Du,{parse:function(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let t=0,i=n.length;t!==i;++t)e.push(Bu(n[t]).scale(r));const i=new Du(t.name,t.duration,e,t.blendMode);return i.uuid=t.uuid,i},toJSON:function(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,r=n.length;t!==r;++t)e.push(Au.toJSON(n[t]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){const i=e.length,o=[];for(let t=0;t<i;t++){let a=[],s=[];a.push((t+i-1)%i,t,(t+1)%i),s.push(0,1,0);const c=_u.getKeyframeOrder(a);a=_u.sortedArray(a,1,c),s=_u.sortedArray(s,1,c),r||0!==a[0]||(a.push(i),s.push(s[0])),o.push(new Pu(".morphTargetInfluences["+e[t].name+"]",a,s).scale(1/n))}return new Du(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(i);if(o&&o.length>1){const t=o[1];let e=r[t];e||(r[t]=e=[]),e.push(n)}}const o=[];for(const t in r)o.push(Du.CreateFromMorphTargetSequence(t,r[t],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,i){if(0!==n.length){const o=[],a=[];_u.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.fps||30,a=t.blendMode;let s=t.length||-1;const c=t.hierarchy||[];for(let t=0;t<c.length;t++){const i=c[t].keys;if(i&&0!==i.length)if(i[0].morphTargets){const t={};let e;for(e=0;e<i.length;e++)if(i[e].morphTargets)for(let n=0;n<i[e].morphTargets.length;n++)t[i[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let r=0;r!==i[e].morphTargets.length;++r){const r=i[e];t.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new Pu(".morphTargetInfluence["+n+"]",t,o))}s=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(Nu,o+".position",i,"pos",r),n(Iu,o+".quaternion",i,"rot",r),n(Nu,o+".scale",i,"scl",r)}}if(0===r.length)return null;return new Du(i,s,r,a)}}),Object.assign(Du.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Du(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Du.toJSON(this)}});const Fu={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Uu(t,e,n){const r=this;let i=!1,o=0,a=0,s=void 0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){const e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=c.length;e<n;e+=2){const n=c[e],r=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}const zu=new Uu;function Gu(t){this.manager=void 0!==t?t:zu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Gu.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Hu={};function ku(t){Gu.call(this,t)}function Vu(t){Gu.call(this,t)}function ju(t){Gu.call(this,t)}function Wu(t){Gu.call(this,t)}function Xu(t){Gu.call(this,t)}function qu(t){Gu.call(this,t)}function Yu(t){Gu.call(this,t)}function Zu(){this.type="Curve",this.arcLengthDivisions=200}function Ju(t,e,n,r,i,o,a,s){Zu.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Ku(t,e,n,r,i,o){Ju.call(this,t,e,n,n,r,i,o),this.type="ArcCurve"}function Qu(){let t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){let c=(e-t)/o-(n-t)/(o+a)+(n-e)/a,l=(n-e)/a-(r-e)/(a+s)+(r-n)/s;c*=a,l*=a,i(e,n,c,l)},calc:function(i){const o=i*i;return t+e*i+n*o+r*(o*i)}}}ku.prototype=Object.assign(Object.create(Gu.prototype),{constructor:ku,load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Fu.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;if(void 0!==Hu[t])return void Hu[t].push({onLoad:e,onProgress:n,onError:r});const a=t.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);r="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;r=e.parseFromString(s,n);break;case"json":r=JSON.parse(s);break;default:r=s}setTimeout((function(){e&&e(r),i.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{Hu[t]=[],Hu[t].push({onLoad:e,onProgress:n,onError:r}),s=new XMLHttpRequest,s.open("GET",t,!0),s.addEventListener("load",(function(e){const n=this.response,r=Hu[t];if(delete Hu[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Fu.add(t,n);for(let t=0,e=r.length;t<e;t++){const e=r[t];e.onLoad&&e.onLoad(n)}i.manager.itemEnd(t)}else{for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onError&&n.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),s.addEventListener("progress",(function(e){const n=Hu[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onProgress&&r.onProgress(e)}}),!1),s.addEventListener("error",(function(e){const n=Hu[t];delete Hu[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),s.addEventListener("abort",(function(e){const n=Hu[t];delete Hu[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)s.setRequestHeader(t,this.requestHeader[t]);s.send(null)}return i.manager.itemStart(t),s},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Vu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Vu,load:function(t,e,n,r){const i=this,o=new ku(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const r=Du.parse(t[n]);e.push(r)}return e}}),ju.prototype=Object.assign(Object.create(Gu.prototype),{constructor:ju,load:function(t,e,n,r){const i=this,o=[],a=new Fc;a.image=o;const s=new ku(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let c=0;function l(l){s.load(t[l],(function(t){const n=i.parse(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(a.minFilter=xt),a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,r)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)l(e);else s.load(t,(function(t){const n=i.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=xt),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,r);return a}}),Wu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Wu,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Fu.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Fu.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a}}),Xu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Xu,load:function(t,e,n,r){const i=new Mo,o=new Wu(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(t[n],(function(t){i.images[n]=t,a++,6===a&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(let e=0;e<t.length;++e)s(e);return i}}),qu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:qu,load:function(t,e,n,r){const i=this,o=new To,a=new ku(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(t,(function(t){const n=i.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:dt,o.wrapT=void 0!==n.wrapT?n.wrapT:dt,o.magFilter=void 0!==n.magFilter?n.magFilter:xt,o.minFilter=void 0!==n.minFilter?n.minFilter:xt,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=_t),1===n.mipmapCount&&(o.minFilter=xt),o.needsUpdate=!0,e&&e(o,n))}),n,r),o}}),Yu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Yu,load:function(t,e,n,r){const i=new Wn,o=new Wu(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){i.image=n;const r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Ft:Ut,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}),Object.assign(Zu.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),i+=n.distanceTo(r),e.push(i),r=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let r=0;const i=n.length;let o;o=e||t*n[i-1];let a,s=0,c=i-1;for(;s<=c;)if(r=Math.floor(s+(c-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){c=r;break}c=r-1}if(r=c,n[r]===o)return r/(i-1);const l=n[r];return(r+(o-l)/(n[r+1]-l))/(i-1)},getTangent:function(t,e){let n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);const i=this.getPoint(n),o=this.getPoint(r),a=e||(i.isVector2?new Gn:new Kn);return a.copy(o).sub(i).normalize(),a},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new Kn,r=[],i=[],o=[],a=new Kn,s=new Tr;for(let e=0;e<=t;e++){const n=e/t;r[e]=this.getTangentAt(n,new Kn),r[e].normalize()}i[0]=new Kn,o[0]=new Kn;let c=Number.MAX_VALUE;const l=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);l<=c&&(c=l,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),h<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let e=1;e<=t;e++){if(i[e]=i[e-1].clone(),o[e]=o[e-1].clone(),a.crossVectors(r[e-1],r[e]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(zn.clamp(r[e-1].dot(r[e]),-1,1));i[e].applyMatrix4(s.makeRotationAxis(a,t))}o[e].crossVectors(r[e],i[e])}if(!0===e){let e=Math.acos(zn.clamp(i[0].dot(i[t]),-1,1));e/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(e=-e);for(let n=1;n<=t;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],e*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Ju.prototype=Object.create(Zu.prototype),Ju.prototype.constructor=Ju,Ju.prototype.isEllipseCurve=!0,Ju.prototype.getPoint=function(t,e){const n=e||new Gn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+t*i;let s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,r=c-this.aY;s=n*t-r*e+this.aX,c=n*e+r*t+this.aY}return n.set(s,c)},Ju.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ju.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Ju.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ku.prototype=Object.create(Ju.prototype),Ku.prototype.constructor=Ku,Ku.prototype.isArcCurve=!0;const $u=new Kn,th=new Qu,eh=new Qu,nh=new Qu;function rh(t=[],e=!1,n="centripetal",r=.5){Zu.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}function ih(t,e,n,r,i){const o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function oh(t,e,n,r){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function ah(t,e,n,r,i){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function sh(t=new Gn,e=new Gn,n=new Gn,r=new Gn){Zu.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}function ch(t=new Kn,e=new Kn,n=new Kn,r=new Kn){Zu.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}function lh(t=new Gn,e=new Gn){Zu.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function uh(t=new Kn,e=new Kn){Zu.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function hh(t=new Gn,e=new Gn,n=new Gn){Zu.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function dh(t=new Kn,e=new Kn,n=new Kn){Zu.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function ph(t=[]){Zu.call(this),this.type="SplineCurve",this.points=t}rh.prototype=Object.create(Zu.prototype),rh.prototype.constructor=rh,rh.prototype.isCatmullRomCurve3=!0,rh.prototype.getPoint=function(t,e=new Kn){const n=e,r=this.points,i=r.length,o=(i-(this.closed?0:1))*t;let a,s,c=Math.floor(o),l=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/i)+1)*i:0===l&&c===i-1&&(c=i-2,l=1),this.closed||c>0?a=r[(c-1)%i]:($u.subVectors(r[0],r[1]).add(r[0]),a=$u);const u=r[c%i],h=r[(c+1)%i];if(this.closed||c+2<i?s=r[(c+2)%i]:($u.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=$u),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(u),t),n=Math.pow(u.distanceToSquared(h),t),r=Math.pow(h.distanceToSquared(s),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),th.initNonuniformCatmullRom(a.x,u.x,h.x,s.x,e,n,r),eh.initNonuniformCatmullRom(a.y,u.y,h.y,s.y,e,n,r),nh.initNonuniformCatmullRom(a.z,u.z,h.z,s.z,e,n,r)}else"catmullrom"===this.curveType&&(th.initCatmullRom(a.x,u.x,h.x,s.x,this.tension),eh.initCatmullRom(a.y,u.y,h.y,s.y,this.tension),nh.initCatmullRom(a.z,u.z,h.z,s.z,this.tension));return n.set(th.calc(l),eh.calc(l),nh.calc(l)),n},rh.prototype.copy=function(t){Zu.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},rh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},rh.prototype.fromJSON=function(t){Zu.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Kn).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},sh.prototype=Object.create(Zu.prototype),sh.prototype.constructor=sh,sh.prototype.isCubicBezierCurve=!0,sh.prototype.getPoint=function(t,e=new Gn){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(ah(t,r.x,i.x,o.x,a.x),ah(t,r.y,i.y,o.y,a.y)),n},sh.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},sh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},sh.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},ch.prototype=Object.create(Zu.prototype),ch.prototype.constructor=ch,ch.prototype.isCubicBezierCurve3=!0,ch.prototype.getPoint=function(t,e=new Kn){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(ah(t,r.x,i.x,o.x,a.x),ah(t,r.y,i.y,o.y,a.y),ah(t,r.z,i.z,o.z,a.z)),n},ch.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ch.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ch.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},lh.prototype=Object.create(Zu.prototype),lh.prototype.constructor=lh,lh.prototype.isLineCurve=!0,lh.prototype.getPoint=function(t,e=new Gn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},lh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},lh.prototype.getTangent=function(t,e){const n=e||new Gn;return n.copy(this.v2).sub(this.v1).normalize(),n},lh.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lh.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uh.prototype=Object.create(Zu.prototype),uh.prototype.constructor=uh,uh.prototype.isLineCurve3=!0,uh.prototype.getPoint=function(t,e=new Kn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},uh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},uh.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uh.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},hh.prototype=Object.create(Zu.prototype),hh.prototype.constructor=hh,hh.prototype.isQuadraticBezierCurve=!0,hh.prototype.getPoint=function(t,e=new Gn){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(oh(t,r.x,i.x,o.x),oh(t,r.y,i.y,o.y)),n},hh.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},hh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},hh.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},dh.prototype=Object.create(Zu.prototype),dh.prototype.constructor=dh,dh.prototype.isQuadraticBezierCurve3=!0,dh.prototype.getPoint=function(t,e=new Kn){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(oh(t,r.x,i.x,o.x),oh(t,r.y,i.y,o.y),oh(t,r.z,i.z,o.z)),n},dh.prototype.copy=function(t){return Zu.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},dh.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},dh.prototype.fromJSON=function(t){return Zu.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ph.prototype=Object.create(Zu.prototype),ph.prototype.constructor=ph,ph.prototype.isSplineCurve=!0,ph.prototype.getPoint=function(t,e=new Gn){const n=e,r=this.points,i=(r.length-1)*t,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],l=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(ih(a,s.x,c.x,l.x,u.x),ih(a,s.y,c.y,l.y,u.y)),n},ph.prototype.copy=function(t){Zu.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this},ph.prototype.toJSON=function(){const t=Zu.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t},ph.prototype.fromJSON=function(t){Zu.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Gn).fromArray(n))}return this};var fh=Object.freeze({__proto__:null,ArcCurve:Ku,CatmullRomCurve3:rh,CubicBezierCurve:sh,CubicBezierCurve3:ch,EllipseCurve:Ju,LineCurve:lh,LineCurve3:uh,QuadraticBezierCurve:hh,QuadraticBezierCurve3:dh,SplineCurve:ph});function mh(){Zu.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function gh(t){mh.call(this),this.type="Path",this.currentPoint=new Gn,t&&this.setFromPoints(t)}function vh(t){gh.call(this,t),this.uuid=zn.generateUUID(),this.type="Shape",this.holes=[]}function yh(t,e=1){Jr.call(this),this.type="Light",this.color=new yi(t),this.intensity=e}function xh(t,e,n){yh.call(this,t,n),this.type="HemisphereLight",this.position.copy(Jr.DefaultUp),this.updateMatrix(),this.groundColor=new yi(e)}function bh(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Gn(512,512),this.map=null,this.mapPass=null,this.matrix=new Tr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Lo,this._frameExtents=new Gn(1,1),this._viewportCount=1,this._viewports=[new qn(0,0,1,1)]}function wh(){bh.call(this,new wo(50,1,.5,500)),this.focus=1}function _h(t,e,n,r,i,o){yh.call(this,t,e),this.type="SpotLight",this.position.copy(Jr.DefaultUp),this.updateMatrix(),this.target=new Jr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new wh}function Mh(){bh.call(this,new wo(90,1,.5,500)),this._frameExtents=new Gn(4,2),this._viewportCount=6,this._viewports=[new qn(2,1,1,1),new qn(0,1,1,1),new qn(3,1,1,1),new qn(1,1,1,1),new qn(3,0,1,1),new qn(1,0,1,1)],this._cubeDirections=[new Kn(1,0,0),new Kn(-1,0,0),new Kn(0,0,1),new Kn(0,0,-1),new Kn(0,1,0),new Kn(0,-1,0)],this._cubeUps=[new Kn(0,1,0),new Kn(0,1,0),new Kn(0,1,0),new Kn(0,1,0),new Kn(0,0,1),new Kn(0,0,-1)]}function Sh(t,e,n,r){yh.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Mh}function Th(t,e,n,r,i,o){bo.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Eh(){bh.call(this,new Th(-5,5,5,-5,.5,500))}function Ah(t,e){yh.call(this,t,e),this.type="DirectionalLight",this.position.copy(Jr.DefaultUp),this.updateMatrix(),this.target=new Jr,this.shadow=new Eh}function Lh(t,e){yh.call(this,t,e),this.type="AmbientLight"}function Rh(t,e,n,r){yh.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}mh.prototype=Object.assign(Object.create(Zu.prototype),{constructor:mh,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new lh(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=e){const t=n[r]-e,i=this.curves[r],o=i.getLength(),a=0===o?0:1-t/o;return i.getPointAt(a)}r++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a);for(let t=0;t<s.length;t++){const r=s[t];n&&n.equals(r)||(e.push(r),n=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Zu.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Zu.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){Zu.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new fh[n.type]).fromJSON(n))}return this}}),gh.prototype=Object.assign(Object.create(mh.prototype),{constructor:gh,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new lh(this.currentPoint.clone(),new Gn(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,r){const i=new hh(this.currentPoint.clone(),new Gn(t,e),new Gn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(t,e,n,r,i,o){const a=new sh(this.currentPoint.clone(),new Gn(t,e),new Gn(n,r),new Gn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(t){const e=new ph([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+a,e+s,n,r,i,o),this},absarc:function(t,e,n,r,i,o){return this.absellipse(t,e,n,n,r,i,o),this},ellipse:function(t,e,n,r,i,o,a,s){const c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(t+c,e+l,n,r,i,o,a,s),this},absellipse:function(t,e,n,r,i,o,a,s){const c=new Ju(t,e,n,r,i,o,a,s);if(this.curves.length>0){const t=c.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this},copy:function(t){return mh.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=mh.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return mh.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),vh.prototype=Object.assign(Object.create(gh.prototype),{constructor:vh,getPointsHoles:function(t){const e=[];for(let n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){gh.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){const t=gh.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){gh.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new gh).fromJSON(n))}return this}}),yh.prototype=Object.assign(Object.create(Jr.prototype),{constructor:yh,isLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=Jr.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),xh.prototype=Object.assign(Object.create(yh.prototype),{constructor:xh,isHemisphereLight:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(bh.prototype,{_projScreenMatrix:new Tr,_lightPositionWorld:new Kn,_lookTarget:new Kn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),i.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(i),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),wh.prototype=Object.assign(Object.create(bh.prototype),{constructor:wh,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*zn.RAD2DEG*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),bh.prototype.updateMatrices.call(this,t)}}),_h.prototype=Object.assign(Object.create(yh.prototype),{constructor:_h,isSpotLight:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mh.prototype=Object.assign(Object.create(bh.prototype),{constructor:Mh,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(t.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Sh.prototype=Object.assign(Object.create(yh.prototype),{constructor:Sh,isPointLight:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Th.prototype=Object.assign(Object.create(bo.prototype),{constructor:Th,isOrthographicCamera:!0,copy:function(t,e){return bo.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,a-=e*this.view.offsetY,s=a-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Jr.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Eh.prototype=Object.assign(Object.create(bh.prototype),{constructor:Eh,isDirectionalLightShadow:!0,updateMatrices:function(t){bh.prototype.updateMatrices.call(this,t)}}),Ah.prototype=Object.assign(Object.create(yh.prototype),{constructor:Ah,isDirectionalLight:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Lh.prototype=Object.assign(Object.create(yh.prototype),{constructor:Lh,isAmbientLight:!0}),Rh.prototype=Object.assign(Object.create(yh.prototype),{constructor:Rh,isRectAreaLight:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=yh.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class Ph{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Kn)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*i),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*r*1.092548),e.addScaledVector(o[5],r*i*1.092548),e.addScaledVector(o[6],.315392*(3*i*i-1)),e.addScaledVector(o[7],n*i*1.092548),e.addScaledVector(o[8],.546274*(n*n-r*r)),e}getIrradianceAt(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*r),e.addScaledVector(o[2],1.023328*i),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*r),e.addScaledVector(o[5],.858086*r*i),e.addScaledVector(o[6],.743125*i*i-.247708),e.addScaledVector(o[7],.858086*n*i),e.addScaledVector(o[8],.429043*(n*n-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(t,e+3*r);return this}toArray(t=[],e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(t,e+3*r);return t}static getBasisAt(t,e){const n=t.x,r=t.y,i=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*i,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*i,e[6]=.315392*(3*i*i-1),e[7]=1.092548*n*i,e[8]=.546274*(n*n-r*r)}}function Ch(t,e){yh.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new Ph}function Ih(t){Gu.call(this,t),this.textures={}}Ch.prototype=Object.assign(Object.create(yh.prototype),{constructor:Ch,isLightProbe:!0,copy:function(t){return yh.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=yh.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Ih.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Ih,load:function(t,e,n,r){const i=this,o=new ku(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const r=new wu[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new yi).setHex(t.sheen)),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.vertexTangents&&(r.vertexTangents=t.vertexTangents),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const i=t.uniforms[e];switch(r.uniforms[e]={},i.type){case"t":r.uniforms[e].value=n(i.value);break;case"c":r.uniforms[e].value=(new yi).setHex(i.value);break;case"v2":r.uniforms[e].value=(new Gn).fromArray(i.value);break;case"v3":r.uniforms[e].value=(new Kn).fromArray(i.value);break;case"v4":r.uniforms[e].value=(new qn).fromArray(i.value);break;case"m3":r.uniforms[e].value=(new Hn).fromArray(i.value);break;case"m4":r.uniforms[e].value=(new Tr).fromArray(i.value);break;default:r.uniforms[e].value=i.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)r.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),r.normalScale=(new Gn).fromArray(e)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Gn).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.transmissionMap&&(r.transmissionMap=n(t.transmissionMap)),r},setTextures:function(t){return this.textures=t,this}});const Oh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Nh(){qi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Dh(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ti.call(this,t,e,n),this.meshPerAttribute=r||1}function Bh(t){Gu.call(this,t)}Nh.prototype=Object.assign(Object.create(qi.prototype),{constructor:Nh,isInstancedBufferGeometry:!0,copy:function(t){return qi.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=qi.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Dh.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Dh,isInstancedBufferAttribute:!0,copy:function(t){return Ti.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Ti.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Bh.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Bh,load:function(t,e,n,r){const i=this,o=new ku(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e={},n={};function r(t,r){if(void 0!==e[r])return e[r];const i=t.interleavedBuffers[r],o=function(t,e){if(void 0!==n[e])return n[e];const r=t.arrayBuffers[e],i=new Uint32Array(r).buffer;return n[e]=i,i}(t,i.buffer),a=new Gs(zi(i.type,o),i.stride);return a.uuid=i.uuid,e[r]=a,a}const i=t.isInstancedBufferGeometry?new Nh:new qi,o=t.data.index;if(void 0!==o){const t=zi(o.type,o.array);i.setIndex(new Ti(t,1))}const a=t.data.attributes;for(const e in a){const n=a[e];let o;if(n.isInterleavedBufferAttribute){o=new ks(r(t.data,n.data),n.itemSize,n.offset,n.normalized)}else{const t=zi(n.type,n.array);o=new(n.isInstancedBufferAttribute?Dh:Ti)(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),i.setAttribute(e,o)}const s=t.data.morphAttributes;if(s)for(const e in s){const n=s[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];let a;if(i.isInterleavedBufferAttribute){a=new ks(r(t.data,i.data),i.itemSize,i.offset,i.normalized)}else{a=new Ti(zi(i.type,i.array),i.itemSize,i.normalized)}void 0!==i.name&&(a.name=i.name),o.push(a)}i.morphAttributes[e]=o}t.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let t=0,e=c.length;t!==e;++t){const e=c[t];i.addGroup(e.start,e.count,e.materialIndex)}const l=t.data.boundingSphere;if(void 0!==l){const t=new Kn;void 0!==l.center&&t.fromArray(l.center),i.boundingSphere=new gr(t,l.radius)}return t.name&&(i.name=t.name),t.userData&&(i.userData=t.userData),i}});class Fh extends Gu{constructor(t){super(t)}load(t,e,n,r){const i=this,o=""===this.path?Oh.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const a=new ku(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(n){let o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}const a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)}parse(t,e){const n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,(function(){void 0!==e&&e(c)})),a=this.parseTextures(t.textures,o),s=this.parseMaterials(t.materials,a),c=this.parseObject(t.object,i,s,n),l=this.parseSkeletons(t.skeletons,c);if(this.bindSkeletons(c,l),void 0!==e){let t=!1;for(const e in o)if(o[e]instanceof HTMLImageElement){t=!0;break}!1===t&&e(c)}return c}parseShapes(t){const e={};if(void 0!==t)for(let n=0,r=t.length;n<r;n++){const r=(new vh).fromJSON(t[n]);e[r.uuid]=r}return e}parseSkeletons(t,e){const n={},r={};if(e.traverse((function(t){t.isBone&&(r[t.uuid]=t)})),void 0!==t)for(let e=0,i=t.length;e<i;e++){const i=(new dc).fromJSON(t[e],r);n[i.uuid]=i}return n}parseGeometries(t,e){const n={};let r;if(void 0!==t){const i=new Bh;for(let o=0,a=t.length;o<a;o++){let a;const s=t[o];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new uu[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new uu[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new uu[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new uu[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new uu[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new uu[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new uu[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new uu[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new uu[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new uu[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new uu[s.type]((new fh[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new uu[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new uu[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let t=0,n=s.shapes.length;t<n;t++){const n=e[s.shapes[t]];r.push(n)}a=new uu[s.type](r,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let t=0,n=s.shapes.length;t<n;t++){const n=e[s.shapes[t]];r.push(n)}const t=s.options.extrudePath;void 0!==t&&(s.options.extrudePath=(new fh[t.type]).fromJSON(t)),a=new uu[s.type](r,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}}return n}parseMaterials(t,e){const n={},r={};if(void 0!==t){const i=new Ih;i.setTextures(e);for(let e=0,o=t.length;e<o;e++){const o=t[e];if("MultiMaterial"===o.type){const t=[];for(let e=0;e<o.materials.length;e++){const r=o.materials[e];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),t.push(n[r.uuid])}r[o.uuid]=t}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(t){const e={};if(void 0!==t)for(let n=0;n<t.length;n++){const r=t[n],i=Du.parse(r);e[i.uuid]=i}return e}parseImages(t,e){const n=this,r={};let i;function o(t){if("string"==typeof t){const e=t;return function(t){return n.manager.itemStart(t),i.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:n.resourcePath+e)}return t.data?{data:zi(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const n=new Uu(e);i=new Wu(n),i.setCrossOrigin(this.crossOrigin);for(let e=0,n=t.length;e<n;e++){const n=t[e],i=n.url;if(Array.isArray(i)){r[n.uuid]=[];for(let t=0,e=i.length;t<e;t++){const e=o(i[t]);null!==e&&(e instanceof HTMLImageElement?r[n.uuid].push(e):r[n.uuid].push(new To(e.data,e.width,e.height)))}}else{const t=o(n.url);null!==t&&(r[n.uuid]=t)}}}return r}parseTextures(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}const r={};if(void 0!==t)for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=e[o.image];Array.isArray(s)?(a=new Mo(s),6===s.length&&(a.needsUpdate=!0)):(a=s&&s.data?new To(s.data,s.width,s.height):new Wn(s),s&&(a.needsUpdate=!0)),a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,Uh)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],zh),a.wrapT=n(o.wrap[1],zh)),void 0!==o.format&&(a.format=o.format),void 0!==o.type&&(a.type=o.type),void 0!==o.encoding&&(a.encoding=o.encoding),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,Gh)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,Gh)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(a.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(a.unpackAlignment=o.unpackAlignment),r[o.uuid]=a}return r}parseObject(t,e,n,r){let i,o,a;function s(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),e.push(n[i])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":i=new zs,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new yi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new Us(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new Fs(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new wo(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new Th(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new Lh(t.color,t.intensity);break;case"DirectionalLight":i=new Ah(t.color,t.intensity);break;case"PointLight":i=new Sh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new Rh(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new _h(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new xh(t.color,t.groundColor,t.intensity);break;case"LightProbe":i=(new Ch).fromJSON(t);break;case"SkinnedMesh":o=s(t.geometry),a=c(t.material),i=new cc(o,a),void 0!==t.bindMode&&(i.bindMode=t.bindMode),void 0!==t.bindMatrix&&i.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(i.skeleton=t.skeleton);break;case"Mesh":o=s(t.geometry),a=c(t.material),i=new ho(o,a);break;case"InstancedMesh":o=s(t.geometry),a=c(t.material);const e=t.count,n=t.instanceMatrix;i=new vc(o,a,e),i.instanceMatrix=new Ti(new Float32Array(n.array),16);break;case"LOD":i=new sc;break;case"Line":i=new Sc(s(t.geometry),c(t.material),t.mode);break;case"LineLoop":i=new Lc(s(t.geometry),c(t.material));break;case"LineSegments":i=new Ac(s(t.geometry),c(t.material));break;case"PointCloud":case"Points":i=new Nc(s(t.geometry),c(t.material));break;case"Sprite":i=new rc(c(t.material));break;case"Group":i=new Cs;break;case"Bone":i=new lc;break;default:i=new Jr}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(i.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children){const o=t.children;for(let t=0;t<o.length;t++)i.add(this.parseObject(o[t],e,n,r))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const n=e[t];i.animations.push(r[n])}}if("LOD"===t.type){void 0!==t.autoUpdate&&(i.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const n=e[t],r=i.getObjectByProperty("uuid",n.object);void 0!==r&&i.addLevel(r,n.distance)}}return i}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const n=e[t.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(n,t.bindMatrix)}}))}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const Uh={UVMapping:it,CubeReflectionMapping:ot,CubeRefractionMapping:at,EquirectangularReflectionMapping:st,EquirectangularRefractionMapping:ct,CubeUVReflectionMapping:lt,CubeUVRefractionMapping:ut},zh={RepeatWrapping:ht,ClampToEdgeWrapping:dt,MirroredRepeatWrapping:pt},Gh={NearestFilter:ft,NearestMipmapNearestFilter:mt,NearestMipmapLinearFilter:vt,LinearFilter:xt,LinearMipmapNearestFilter:bt,LinearMipmapLinearFilter:_t};function Hh(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Gu.call(this,t),this.options={premultiplyAlpha:"none"}}function kh(){this.type="ShapePath",this.color=new yi,this.subPaths=[],this.currentPath=null}function Vh(t){this.type="Font",this.data=t}function jh(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");const a=new kh;let s,c,l,u,h,d,p,f;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=t.length;i<o;){switch(t[i++]){case"m":s=t[i++]*e+n,c=t[i++]*e+r,a.moveTo(s,c);break;case"l":s=t[i++]*e+n,c=t[i++]*e+r,a.lineTo(s,c);break;case"q":l=t[i++]*e+n,u=t[i++]*e+r,h=t[i++]*e+n,d=t[i++]*e+r,a.quadraticCurveTo(h,d,l,u);break;case"b":l=t[i++]*e+n,u=t[i++]*e+r,h=t[i++]*e+n,d=t[i++]*e+r,p=t[i++]*e+n,f=t[i++]*e+r,a.bezierCurveTo(h,d,p,f,l,u)}}}return{offsetX:o.ha*e,path:a}}function Wh(t){Gu.call(this,t)}let Xh;Hh.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Hh,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Fu.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,a).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,i.options)})).then((function(n){Fu.add(t,n),e&&e(n),i.manager.itemEnd(t)})).catch((function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)}}),Object.assign(kh.prototype,{moveTo:function(t,e){return this.currentPath=new gh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this},bezierCurveTo:function(t,e,n,r,i,o){return this.currentPath.bezierCurveTo(t,e,n,r,i,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n],i=new vh;i.curves=r.curves,e.push(i)}return e}function r(t,e){const n=e.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=e[i],a=e[o],s=a.x-n.x,c=a.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=e[o],s=-s,a=e[i],c=-c),t.y<n.y||t.y>a.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=c*(t.x-n.x)-s*(t.y-n.y);if(0===e)return!0;if(e<0)continue;r=!r}}else{if(t.y!==n.y)continue;if(a.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=a.x)return!0}}return r}const i=Cl.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let a,s,c;const l=[];if(1===o.length)return s=o[0],c=new vh,c.curves=s.curves,l.push(c),l;let u=!i(o[0].getPoints());u=t?!u:u;const h=[],d=[];let p,f,m=[],g=0;d[g]=void 0,m[g]=[];for(let e=0,n=o.length;e<n;e++)s=o[e],p=s.getPoints(),a=i(p),a=t?!a:a,a?(!u&&d[g]&&g++,d[g]={s:new vh,p:p},d[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:p[0]});if(!d[0])return n(o);if(d.length>1){let t=!1;const e=[];for(let t=0,e=d.length;t<e;t++)h[t]=[];for(let n=0,i=d.length;n<i;n++){const i=m[n];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<d.length;i++)r(a.p,d[i].p)&&(n!==i&&e.push({froms:n,tos:i,hole:o}),s?(s=!1,h[i].push(a)):t=!0);s&&h[n].push(a)}}e.length>0&&(t||(m=h))}for(let t=0,e=d.length;t<e;t++){c=d[t].s,l.push(c),f=m[t];for(let t=0,e=f.length;t<e;t++)c.holes.push(f[t].h)}return l}}),Object.assign(Vh.prototype,{isFont:!0,generateShapes:function(t,e=100){const n=[],r=function(t,e,n){const r=Array.from?Array.from(t):String(t).split(""),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[];let s=0,c=0;for(let t=0;t<r.length;t++){const e=r[t];if("\n"===e)s=0,c-=o;else{const t=jh(e,i,s,c,n);s+=t.offsetX,a.push(t.path)}}return a}(t,e,this.data);for(let t=0,e=r.length;t<e;t++)Array.prototype.push.apply(n,r[t].toShapes());return n}}),Wh.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Wh,load:function(t,e,n,r){const i=this,o=new ku(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new Vh(t)}});const qh={getContext:function(){return void 0===Xh&&(Xh=new(window.AudioContext||window.webkitAudioContext)),Xh},setContext:function(t){Xh=t}};function Yh(t){Gu.call(this,t)}function Zh(t,e,n){Ch.call(this,void 0,n);const r=(new yi).set(t),i=(new yi).set(e),o=new Kn(r.r,r.g,r.b),a=new Kn(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function Jh(t,e){Ch.call(this,void 0,e);const n=(new yi).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Yh.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Yh,load:function(t,e,n,r){const i=this,o=new ku(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);qh.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}}),Zh.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Zh,isHemisphereLightProbe:!0,copy:function(t){return Ch.prototype.copy.call(this,t),this},toJSON:function(t){return Ch.prototype.toJSON.call(this,t)}}),Jh.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Jh,isAmbientLightProbe:!0,copy:function(t){return Ch.prototype.copy.call(this,t),this},toJSON:function(t){return Ch.prototype.toJSON.call(this,t)}});const Kh=new Tr,Qh=new Tr;function $h(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign($h.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),r=e.eyeSep/2,i=r*e.near/e.focus,o=e.near*Math.tan(zn.DEG2RAD*e.fov*.5)/e.zoom;let a,s;Qh.elements[12]=-r,Kh.elements[12]=r,a=-o*e.aspect+i,s=o*e.aspect+i,n.elements[0]=2*e.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraL.projectionMatrix.copy(n),a=-o*e.aspect-i,s=o*e.aspect-i,n.elements[0]=2*e.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Qh),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Kh)}});class td{constructor(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ed(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=ed();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function ed(){return("undefined"==typeof performance?Date:performance).now()}const nd=new Kn,rd=new Jn,id=new Kn,od=new Kn;class ad extends Jr{constructor(){super(),this.type="AudioListener",this.context=qh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new td}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nd,rd,id),od.set(0,0,-1).applyQuaternion(rd),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(nd.x,t),e.positionY.linearRampToValueAtTime(nd.y,t),e.positionZ.linearRampToValueAtTime(nd.z,t),e.forwardX.linearRampToValueAtTime(od.x,t),e.forwardY.linearRampToValueAtTime(od.y,t),e.forwardZ.linearRampToValueAtTime(od.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(nd.x,nd.y,nd.z),e.setOrientation(od.x,od.y,od.z,n.x,n.y,n.z)}}class sd extends Jr{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const cd=new Kn,ld=new Jn,ud=new Kn,hd=new Kn;class dd extends sd{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(cd,ld,ud),hd.set(0,0,1).applyQuaternion(ld);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(cd.x,t),e.positionY.linearRampToValueAtTime(cd.y,t),e.positionZ.linearRampToValueAtTime(cd.z,t),e.orientationX.linearRampToValueAtTime(hd.x,t),e.orientationY.linearRampToValueAtTime(hd.y,t),e.orientationZ.linearRampToValueAtTime(hd.z,t)}else e.setPosition(cd.x,cd.y,cd.z),e.setOrientation(hd.x,hd.y,hd.z)}}class pd{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}function fd(t,e,n){let r,i,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(fd.prototype,{accumulate:function(t,e){const n=this.buffer,r=this.valueSize,i=t*r+r;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==r;++t)n[i+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,i,0,t,r)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const t=e*this._origIndex;this._mixBufferRegion(n,r,t,1-i,e)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let t=e,i=e+e;t!==i;++t)if(n[t]!==n[t+e]){a.setValue(n,r);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let t=n,i=r;t!==i;++t)e[t]=e[r+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)t[e+r]=t[n+r]},_slerp:function(t,e,n,r){Jn.slerpFlat(t,e,t,e,t,n,r)},_slerpAdditive:function(t,e,n,r,i){const o=this._workIndex*i;Jn.multiplyQuaternionsFlat(t,o,t,e,t,n),Jn.slerpFlat(t,e,t,e,t,o,r)},_lerp:function(t,e,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=e+a;t[i]=t[i]*o+t[n+a]*r}},_lerpAdditive:function(t,e,n,r,i){for(let o=0;o!==i;++o){const i=e+o;t[i]=t[i]+t[n+o]*r}}});const md=new RegExp("[\\[\\]\\.:\\/]","g"),gd="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",vd=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),yd=/(WCOD+)?/.source.replace("WCOD",gd),xd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),bd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),wd=new RegExp("^"+vd+yd+xd+bd+"$"),_d=["material","materials","bones"];function Md(t,e,n){const r=n||Sd.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Sd(t,e,n){this.path=e,this.parsedPath=n||Sd.parseTrackName(e),this.node=Sd.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Td(){this.uuid=zn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}Object.assign(Md.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Sd,{Composite:Md,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Sd.Composite(t,e,n):new Sd(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(md,"")},parseTrackName:function(t){const e=wd.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==_d.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}}),Object.assign(Sd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let i=e.propertyIndex;if(t||(t=Sd.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const o=t[r];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Sd.prototype,{_getValue_unbound:Sd.prototype.getValue,_setValue_unbound:Sd.prototype.setValue}),Object.assign(Td.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a=void 0,s=t.length,c=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const u=arguments[l],h=u.uuid;let d=e[h];if(void 0===d){d=s++,e[h]=d,t.push(u);for(let t=0,e=o;t!==e;++t)i[t].push(new Sd(u,n[t],r[t]))}else if(d<c){a=t[d];const s=--c,l=t[s];e[l.uuid]=d,t[d]=l,e[h]=s,t[s]=u;for(let t=0,e=o;t!==e;++t){const e=i[t],o=e[s];let a=e[d];e[d]=o,void 0===a&&(a=new Sd(u,n[t],r[t])),e[s]=a}}else t[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,c=e[s];if(void 0!==c&&c>=i){const o=i++,l=t[o];e[l.uuid]=c,t[c]=l,e[s]=o,t[o]=a;for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[o],i=e[c];e[c]=r,e[o]=i}}}this.nCachedObjects_=i},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=t.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,c=e[s];if(void 0!==c)if(delete e[s],c<i){const a=--i,s=t[a],l=--o,u=t[l];e[s.uuid]=c,t[c]=s,e[u.uuid]=a,t[a]=u,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[a],i=e[l];e[c]=r,e[a]=i,e.pop()}}else{const i=--o,a=t[i];i>0&&(e[a.uuid]=c),t[c]=a,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t];e[c]=e[i],e.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let r=n[t];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(u);for(let n=l,r=s.length;n!==r;++n){const r=s[n];u[n]=new Sd(r,t,e)}return u},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}});class Ed{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const i=e.tracks,o=i.length,a=new Array(o),s={endingStart:ke,endingEnd:ke};for(let t=0;t!==o;++t){const e=i[t].createInterpolant(null);a[t]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Fe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,i=r/n,o=n/r;t.warp(1,i,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);const i=this._startTime;if(null!==i){const r=(t-i)*n;if(r<0||0===n)return;this._startTime=null,e=n*r}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case Xe:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(a);break;case We:default:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulate(r,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let r=this.time+t,i=this._loopCount;const o=n===Ue;if(0===t)return-1===i?r:o&&1==(1&i)?e-r:r;if(n===Be){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=e||r<0){const n=Math.floor(r/e);r-=e*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===a){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1==(1&i))return e-r}return r}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=Ve,r.endingEnd=Ve):(r.endingStart=t?this.zeroSlopeAtStart?Ve:ke:je,r.endingEnd=e?this.zeroSlopeAtEnd?Ve:ke:je)}_scheduleFading(t,e,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}function Ad(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Ad.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Ad,_bindAction:function(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName;let l=c[s];void 0===l&&(l={},c[s]=l);for(let t=0;t!==i;++t){const i=r[t],c=i.name;let u=l[c];if(void 0!==u)o[t]=u;else{if(u=o[t],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,c));continue}const r=e&&e._propertyBindings[t].binding.parsedPath;u=new fd(Sd.create(n,c,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,c),o[t]=u}a[t].resultBuffer=u.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const r=this._actions,i=this._actionsByClip;let o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=null;delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[e];void 0===o&&(o={},r[e]=o),o[n]=t,t._cacheIndex=i.length,i.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new Tu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const r=e||this._root,i=r.uuid;let o="string"==typeof t?Du.findByName(r,t):t;const a=null!==o?o.uuid:t,s=this._actionsByClip[a];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:We),void 0!==s){const t=s.actionByRoot[i];if(void 0!==t&&t.blendMode===n)return t;c=s.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const l=new Ed(this,o,e,n);return this._bindAction(l,c),this._addInactiveAction(l,a,i),l},existingAction:function(t,e){const n=e||this._root,r=n.uuid,i="string"==typeof t?Du.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1;for(let a=0;a!==n;++a){e[a]._update(r,t,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let t=0;t!==s;++t)a[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const t=i.knownActions;for(let n=0,r=t.length;n!==r;++n){const r=t[n];this._deactivateAction(r);const i=r._cacheIndex,o=e[e.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,e[i]=o,e.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Ld{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Ld(void 0===this.value.clone?this.value:this.value.clone())}}function Rd(t,e,n){Gs.call(this,t,e),this.meshPerAttribute=n||1}function Pd(t,e,n,r,i){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Cd(t,e,n,r){this.ray=new Sr(t,e),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new Br,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Id(t,e){return t.distance-e.distance}function Od(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)Od(r[t],e,n,!0)}}Rd.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Rd,isInstancedInterleavedBuffer:!0,copy:function(t){return Gs.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=Gs.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=Gs.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(Pd.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pd.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(Cd.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){const r=n||[];return Od(t,this,r,e),r.sort(Id),r},intersectObjects:function(t,e,n){const r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(let n=0,i=t.length;n<i;n++)Od(t[n],this,r,e);return r.sort(Id),r}});class Nd{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(zn.clamp(e/this.radius,-1,1))),this}}class Dd{constructor(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}const Bd=new Gn;class Fd{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Gn(1/0,1/0),this.max=void 0!==e?e:new Gn(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Bd.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Gn),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Gn),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Gn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Gn),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Bd.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Ud=new Kn,zd=new Kn;class Gd{constructor(t,e){this.start=void 0!==t?t:new Kn,this.end=void 0!==e?e:new Kn}set(t,e){return this.start.copy(t),this.end.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Kn),t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Kn),t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Kn),this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Ud.subVectors(t,this.start),zd.subVectors(this.end,this.start);const n=zd.dot(zd);let r=zd.dot(Ud)/n;return e&&(r=zn.clamp(r,0,1)),r}closestPointToPoint(t,e,n){const r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Kn),this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}function Hd(t){Jr.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Hd.prototype=Object.create(Jr.prototype),Hd.prototype.constructor=Hd,Hd.prototype.isImmediateRenderObject=!0;const kd=new Kn;class Vd extends Jr{constructor(t,e){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const n=new qi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,n=32;t<n;t++,e++){const i=t/n*Math.PI*2,o=e/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Ni(r,3));const i=new yc({fog:!1,toneMapped:!1});this.cone=new Ac(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),kd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(kd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const jd=new Kn,Wd=new Tr,Xd=new Tr;class qd extends Ac{constructor(t){const e=function t(e){const n=[];e&&e.isBone&&n.push(e);for(let r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new qi,r=[],i=[],o=new yi(0,0,1),a=new yi(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Ni(r,3)),n.setAttribute("color",new Ni(i,3));super(n,new yc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");Xd.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const i=e[t];i.parent&&i.parent.isBone&&(Wd.multiplyMatrices(Xd,i.matrixWorld),jd.setFromMatrixPosition(Wd),r.setXYZ(n,jd.x,jd.y,jd.z),Wd.multiplyMatrices(Xd,i.parent.matrixWorld),jd.setFromMatrixPosition(Wd),r.setXYZ(n+1,jd.x,jd.y,jd.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}class Yd extends ho{constructor(t,e,n){super(new Kl(e,4,2),new _i({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Zd=new Kn,Jd=new yi,Kd=new yi;class Qd extends Jr{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Hl(e);r.rotateY(.5*Math.PI),this.material=new _i({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Ti(o,3)),this.add(new ho(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Jd.copy(this.light.color),Kd.copy(this.light.groundColor);for(let t=0,n=e.count;t<n;t++){const r=t<n/2?Jd:Kd;e.setXYZ(t,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(Zd.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $d extends Ac{constructor(t=10,e=10,n=4473924,r=8947848){n=new yi(n),r=new yi(r);const i=e/2,o=t/e,a=t/2,s=[],c=[];for(let t=0,l=0,u=-a;t<=e;t++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);const e=t===i?n:r;e.toArray(c,l),l+=3,e.toArray(c,l),l+=3,e.toArray(c,l),l+=3,e.toArray(c,l),l+=3}const l=new qi;l.setAttribute("position",new Ni(s,3)),l.setAttribute("color",new Ni(c,3));super(l,new yc({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class tp extends Ac{constructor(t=10,e=16,n=8,r=64,i=4473924,o=8947848){i=new yi(i),o=new yi(o);const a=[],s=[];for(let n=0;n<=e;n++){const r=n/e*(2*Math.PI),c=Math.sin(r)*t,l=Math.cos(r)*t;a.push(0,0,0),a.push(c,0,l);const u=1&n?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let e=0;e<=n;e++){const c=1&e?i:o,l=t-t/n*e;for(let t=0;t<r;t++){let e=t/r*(2*Math.PI),n=Math.sin(e)*l,i=Math.cos(e)*l;a.push(n,0,i),s.push(c.r,c.g,c.b),e=(t+1)/r*(2*Math.PI),n=Math.sin(e)*l,i=Math.cos(e)*l,a.push(n,0,i),s.push(c.r,c.g,c.b)}}const c=new qi;c.setAttribute("position",new Ni(a,3)),c.setAttribute("color",new Ni(s,3));super(c,new yc({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const ep=new Kn,np=new Kn,rp=new Kn;class ip extends Jr{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);let r=new qi;r.setAttribute("position",new Ni([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const i=new yc({fog:!1,toneMapped:!1});this.lightPlane=new Sc(r,i),this.add(this.lightPlane),r=new qi,r.setAttribute("position",new Ni([0,0,0,0,0,1],3)),this.targetLine=new Sc(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ep.setFromMatrixPosition(this.light.matrixWorld),np.setFromMatrixPosition(this.light.target.matrixWorld),rp.subVectors(np,ep),this.lightPlane.lookAt(np),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(np),this.targetLine.scale.z=rp.length()}}const op=new Kn,ap=new bo;class sp extends Ac{constructor(t){const e=new qi,n=new yc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new yi(16755200),s=new yi(16711680),c=new yi(43775),l=new yi(16777215),u=new yi(3355443);function h(t,e,n){d(t,n),d(e,n)}function d(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),e.setAttribute("position",new Ni(r,3)),e.setAttribute("color",new Ni(i,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const t=this.geometry,e=this.pointMap;ap.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),cp("c",e,t,ap,0,0,-1),cp("t",e,t,ap,0,0,1),cp("n1",e,t,ap,-1,-1,-1),cp("n2",e,t,ap,1,-1,-1),cp("n3",e,t,ap,-1,1,-1),cp("n4",e,t,ap,1,1,-1),cp("f1",e,t,ap,-1,-1,1),cp("f2",e,t,ap,1,-1,1),cp("f3",e,t,ap,-1,1,1),cp("f4",e,t,ap,1,1,1),cp("u1",e,t,ap,.7,1.1,-1),cp("u2",e,t,ap,-.7,1.1,-1),cp("u3",e,t,ap,0,2,-1),cp("cf1",e,t,ap,-1,0,1),cp("cf2",e,t,ap,1,0,1),cp("cf3",e,t,ap,0,-1,1),cp("cf4",e,t,ap,0,1,1),cp("cn1",e,t,ap,-1,0,-1),cp("cn2",e,t,ap,1,0,-1),cp("cn3",e,t,ap,0,-1,-1),cp("cn4",e,t,ap,0,1,-1),t.getAttribute("position").needsUpdate=!0}}function cp(t,e,n,r,i,o,a){op.set(i,o,a).unproject(r);const s=e[t];if(void 0!==s){const t=n.getAttribute("position");for(let e=0,n=s.length;e<n;e++)t.setXYZ(s[e],op.x,op.y,op.z)}}const lp=new tr;class up extends Ac{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new qi;i.setIndex(new Ti(n,1)),i.setAttribute("position",new Ti(r,3)),super(i,new yc({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&lp.setFromObject(this.object),lp.isEmpty())return;const e=lp.min,n=lp.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return Ac.prototype.copy.call(this,t),this.object=t.object,this}}class hp extends Ac{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new qi;r.setIndex(new Ti(n,1)),r.setAttribute("position",new Ni([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new yc({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class dp extends Sc{constructor(t,e=1,n=16776960){const r=n,i=new qi;i.setAttribute("position",new Ni([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new yc({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const o=new qi;o.setAttribute("position",new Ni([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ho(o,new _i({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?m:f,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const pp=new Kn;let fp,mp;class gp extends Jr{constructor(t,e,n,r,i,o){super(),this.type="ArrowHelper",void 0===t&&(t=new Kn(0,0,1)),void 0===e&&(e=new Kn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===fp&&(fp=new qi,fp.setAttribute("position",new Ni([0,0,0,0,1,0],3)),mp=new Yc(0,.5,1,5,1),mp.translate(0,-.5,0)),this.position.copy(e),this.line=new Sc(fp,new yc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ho(mp,new _i({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{pp.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(pp,e)}}setLength(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class vp extends Ac{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new qi;n.setAttribute("position",new Ni(e,3)),n.setAttribute("color",new Ni([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new yc({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const yp=new Float32Array(1),xp=new Int32Array(yp.buffer),bp={toHalfFloat:function(t){yp[0]=t;const e=xp[0];let n=e>>16&32768,r=e>>12&2047;const i=e>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&e,n):i<113?(r|=2048,n|=(r>>114-i)+(r>>113-i&1),n):(n|=i-112<<10|r>>1,n+=1&r,n)}},wp=Math.pow(2,8),_p=[.125,.215,.35,.446,.526,.582],Mp=5+_p.length,Sp={[Je]:0,[Ke]:1,[$e]:2,[en]:3,[nn]:4,[rn]:5,[Qe]:6},Tp=new Th,{_lodPlanes:Ep,_sizeLods:Ap,_sigmas:Lp}=Dp();let Rp=null;const Pp=(1+Math.sqrt(5))/2,Cp=1/Pp,Ip=[new Kn(1,1,1),new Kn(-1,1,1),new Kn(1,1,-1),new Kn(-1,1,-1),new Kn(0,Pp,Cp),new Kn(0,Pp,-Cp),new Kn(Cp,0,Pp),new Kn(-Cp,0,Pp),new Kn(Pp,Cp,0),new Kn(-Pp,Cp,0)];class Op{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),n=new Kn(0,1,0);return new du({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Sp[Je]},outputEncoding:{value:Sp[Je]}},vertexShader:Gp(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${Hp()}\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Rp=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=zp(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Up(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<Ep.length;t++)Ep[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Rp),t.scissorTest=!1,Fp(t,0,0,t.width,t.height)}_fromTexture(t){Rp=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:ft,minFilter:ft,generateMipmaps:!1,type:St,format:Ht,encoding:Np(t)?t.encoding:$e,depthBuffer:!1},n=Bp(e);return n.depthBuffer=!t,this._pingPongRenderTarget=Bp(e),n}_compileMaterial(t){const e=new ho(Ep[0],t);this._renderer.compile(e,Tp)}_sceneToCubeUV(t,e,n,r){const i=new wo(90,1,e,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,c=s.outputEncoding,l=s.toneMapping,u=s.getClearColor(),h=s.getClearAlpha();s.toneMapping=Q,s.outputEncoding=Je;let d=t.background;if(d&&d.isColor){d.convertSRGBToLinear();const e=Math.max(d.r,d.g,d.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);d=d.multiplyScalar(Math.pow(2,-n));const r=(n+128)/255;s.setClearColor(d,r),t.background=null}for(let e=0;e<6;e++){const n=e%3;0==n?(i.up.set(0,o[e],0),i.lookAt(a[e],0,0)):1==n?(i.up.set(0,0,o[e]),i.lookAt(0,a[e],0)):(i.up.set(0,o[e],0),i.lookAt(0,0,a[e])),Fp(r,n*wp,e>2?wp:0,wp,wp),s.setRenderTarget(r),s.render(t,i)}s.toneMapping=l,s.outputEncoding=c,s.setClearColor(u,h)}_textureToCubeUV(t,e){const n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=zp()):null==this._equirectShader&&(this._equirectShader=Up());const r=t.isCubeTexture?this._cubemapShader:this._equirectShader,i=new ho(Ep[0],r),o=r.uniforms;o.envMap.value=t,t.isCubeTexture||o.texelSize.value.set(1/t.image.width,1/t.image.height),o.inputEncoding.value=Sp[t.encoding],o.outputEncoding.value=Sp[e.texture.encoding],Fp(e,0,0,3*wp,2*wp),n.setRenderTarget(e),n.render(i,Tp)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let e=1;e<Mp;e++){const n=Math.sqrt(Lp[e]*Lp[e]-Lp[e-1]*Lp[e-1]),r=Ip[(e-1)%Ip.length];this._blur(t,e-1,e,n,r)}e.autoClear=n}_blur(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,r,i,o,a){const s=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const l=new ho(Ep[r],c),u=c.uniforms,h=Ap[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,p=i/d,f=isFinite(i)?1+Math.floor(3*p):20;f>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const m=[];let g=0;for(let t=0;t<20;++t){const e=t/p,n=Math.exp(-e*e/2);m.push(n),0==t?g+=n:t<f&&(g+=2*n)}for(let t=0;t<m.length;t++)m[t]=m[t]/g;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=d,u.mipInt.value=8-n,u.inputEncoding.value=Sp[t.texture.encoding],u.outputEncoding.value=Sp[t.texture.encoding];const v=Ap[r];Fp(e,3*Math.max(0,wp-2*v),(0===r?0:2*wp)+2*v*(r>4?r-8+4:0),3*v,2*v),s.setRenderTarget(e),s.render(l,Tp)}}function Np(t){return void 0!==t&&t.type===St&&(t.encoding===Je||t.encoding===Ke||t.encoding===Qe)}function Dp(){const t=[],e=[],n=[];let r=8;for(let i=0;i<Mp;i++){const o=Math.pow(2,r);e.push(o);let a=1/o;i>4?a=_p[i-8+4-1]:0==i&&(a=0),n.push(a);const s=1/(o-1),c=-s/2,l=1+s/2,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=6,d=6,p=3,f=2,m=1,g=new Float32Array(p*d*h),v=new Float32Array(f*d*h),y=new Float32Array(m*d*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];g.set(r,p*d*t),v.set(u,f*d*t);const i=[t,t,t,t,t,t];y.set(i,m*d*t)}const x=new qi;x.setAttribute("position",new Ti(g,p)),x.setAttribute("uv",new Ti(v,f)),x.setAttribute("faceIndex",new Ti(y,m)),t.push(x),r>4&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function Bp(t){const e=new Yn(3*wp,3*wp,t);return e.texture.mapping=lt,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Fp(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Up(){return new du({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Gn(1,1)},inputEncoding:{value:Sp[Je]},outputEncoding:{value:Sp[Je]}},vertexShader:Gp(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${Hp()}\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1})}function zp(){return new du({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Sp[Je]},outputEncoding:{value:Sp[Je]}},vertexShader:Gp(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${Hp()}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1})}function Gp(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Hp(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}function kp(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new xi(t,e,n,i,o,a)}const Vp=0,jp=1,Wp=0,Xp=1,qp=2;function Yp(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Zp(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Jp(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Nc(t,e)}function Kp(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new rc(t)}function Qp(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Nc(t,e)}function $p(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Rc(t)}function tf(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Rc(t)}function ef(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Rc(t)}function nf(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Kn(t,e,n)}function rf(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ti(t,e).setUsage(En)}function of(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ei(t,e)}function af(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ai(t,e)}function sf(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Li(t,e)}function cf(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ri(t,e)}function lf(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Pi(t,e)}function uf(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ci(t,e)}function hf(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ii(t,e)}function df(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ni(t,e)}function pf(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Di(t,e)}function ff(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),rh.call(this,t),this.type="catmullrom",this.closed=!0}function mf(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),rh.call(this,t),this.type="catmullrom"}function gf(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),rh.call(this,t),this.type="catmullrom"}function vf(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new vp(t)}function yf(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new up(t,e)}function xf(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ac(new ol(t.geometry),new yc({color:void 0!==e?e:16777215}))}function bf(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ac(new lu(t.geometry),new yc({color:void 0!==e?e:16777215}))}function wf(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ku(t)}function _f(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new qu(t)}function Mf(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new So(t,n)}Zu.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Zu.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(mh.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new jc;for(let n=0,r=t.length;n<r;n++){const r=t[n];e.vertices.push(new Kn(r.x,r.y,r.z||0))}return e}}),Object.assign(gh.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),ff.prototype=Object.create(rh.prototype),mf.prototype=Object.create(rh.prototype),gf.prototype=Object.create(rh.prototype),Object.assign(gf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),$d.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},qd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Gu.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Oh.extractUrlBase(t)}}),Gu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Fd.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(tr.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(gr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Lo.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Gd.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(zn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),zn.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),zn.ceilPowerOfTwo(t)}}),Object.assign(Hn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(Tr.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Kn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),ti.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(Jn.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Sr.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(hi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(hi,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),hi.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),hi.getNormal(t,e,n,r)}}),Object.assign(vh.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Bl(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jl(this,t)}}),Object.assign(Gn.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Kn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(qn.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(jc.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Jr.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Jr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(ho.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(ho.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),qe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(sc.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(dc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),cc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Zu.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),wo.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(yh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Ti.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===En},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(En)}}}),Object.assign(Ti.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?En:Tn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(qi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Ti(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(qi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Nh.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Cd.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Gs.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===En},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Gs.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?En:Tn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Nl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(zs.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Ld.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(wi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new yi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===v}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(mu.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(fu.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(xo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Ds.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ds.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Ke:Je}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Es.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Yn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(sd.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new Yh).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),pd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},_o.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},_o.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};const Sf={merge:function(t,e,n){let r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function Tf(){console.error("THREE.CanvasRenderer has been removed")}function Ef(){console.error("THREE.JSONLoader has been removed.")}Vn.crossOrigin=void 0,Vn.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new Yu;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},Vn.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new Xu;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},Vn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Vn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Af={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Lf(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i,o,a=n(0);function s(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(s.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),s.FullScreenQuad=(r=new a.OrthographicCamera(-1,1,1,-1,0,1),i=new a.PlaneBufferGeometry(2,2),o=function(t){this._mesh=new a.Mesh(i,t)},Object.defineProperty(o.prototype,"material",{get:function(){return this._mesh.material},set:function(t){this._mesh.material=t}}),Object.assign(o.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,r)}}),o)},function(t,e,n){"use strict";n.r(e),n.d(e,"ShaderPass",(function(){return o}));var r=n(0),i=n(1),o=function(t,e){i.a.call(this),this.textureID=void 0!==e?e:"tDiffuse",t instanceof r.ShaderMaterial?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=r.UniformsUtils.clone(t.uniforms),this.material=new r.ShaderMaterial({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new i.a.FullScreenQuad(this.material)};o.prototype=Object.assign(Object.create(i.a.prototype),{constructor:o,render:function(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}})},function(t,e,n){"use strict";n.r(e),n.d(e,"GLTFLoader",(function(){return i}));var r=n(0),i=function(){function t(t){r.Loader.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new s(t)})),this.register((function(t){return new l(t)})),this.register((function(t){return new u(t)})),this.register((function(t){return new c(t)})),this.register((function(t){return new o(t)})),this.register((function(t){return new h(t)}))}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:t,load:function(t,e,n,i){var o,a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r.LoaderUtils.extractUrlBase(t),this.manager.itemStart(t);var s=function(e){i?i(e):console.error(e),a.manager.itemError(t),a.manager.itemEnd(t)},c=new r.FileLoader(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,(function(n){try{a.parse(n,o,(function(n){e(n),a.manager.itemEnd(t)}),s)}catch(t){s(t)}}),n,s)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,o,s){var c,l={},u={};if("string"==typeof t)c=t;else if(r.LoaderUtils.decodeText(new Uint8Array(t,0,4))===d){try{l[n.KHR_BINARY_GLTF]=new m(t)}catch(t){return void(s&&s(t))}c=l[n.KHR_BINARY_GLTF].content}else c=r.LoaderUtils.decodeText(new Uint8Array(t));var h=JSON.parse(c);if(void 0===h.asset||h.asset.version[0]<2)s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var p=new j(h,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(var f=0;f<this.pluginCallbacks.length;f++){var y=this.pluginCallbacks[f](p);u[y.name]=y,l[y.name]=!0}if(h.extensionsUsed)for(f=0;f<h.extensionsUsed.length;++f){var w=h.extensionsUsed[f],_=h.extensionsRequired||[];switch(w){case n.KHR_MATERIALS_UNLIT:l[w]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[w]=new x;break;case n.KHR_DRACO_MESH_COMPRESSION:l[w]=new g(h,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:l[w]=new i(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:l[w]=new v;break;case n.KHR_MESH_QUANTIZATION:l[w]=new b;break;default:_.indexOf(w)>=0&&void 0===u[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}p.setExtensions(l),p.setPlugins(u),p.parse(o,s)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function o(t){this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function a(){this.name=n.KHR_MATERIALS_UNLIT}function s(t){this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}function c(t){this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}function l(t){this.parser=t,this.name=n.KHR_TEXTURE_BASISU}function u(t){this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function h(t){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}o.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,r=e.length;n<r;n++){var i=e[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&t._addNodeRef(this.cache,i.extensions[this.name].light)}},o.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,i=e.cache.get(n);if(i)return i;var o,a=e.json,s=((a.extensions&&a.extensions[this.name]||{}).lights||[])[t],c=new r.Color(16777215);void 0!==s.color&&c.fromArray(s.color);var l=void 0!==s.range?s.range:0;switch(s.type){case"directional":(o=new r.DirectionalLight(c)).target.position.set(0,0,-1),o.add(o.target);break;case"point":(o=new r.PointLight(c)).distance=l;break;case"spot":(o=new r.SpotLight(c)).distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,o.angle=s.spot.outerConeAngle,o.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+s.type+'".')}return o.position.set(0,0,0),o.decay=2,void 0!==s.intensity&&(o.intensity=s.intensity),o.name=e.createUniqueName(s.name||"light_"+t),i=Promise.resolve(o),e.cache.add(n,i),i},o.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,r=n.json.nodes[t],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(t){return n._getNodeRef(e.cache,i,t)}))},a.prototype.getMaterialType=function(){return r.MeshBasicMaterial},a.prototype.extendParams=function(t,e,n){var i=[];t.color=new r.Color(1,1,1),t.opacity=1;var o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var a=o.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==o.baseColorTexture&&i.push(n.assignTexture(t,"map",o.baseColorTexture))}return Promise.all(i)},s.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?r.MeshPhysicalMaterial:null},s.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var o=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var s=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new r.Vector2(s,s)}return Promise.all(o)},c.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?r.MeshPhysicalMaterial:null},c.prototype.extendMaterialParams=function(t,e){var n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(i)},l.prototype.loadTexture=function(t){var e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],o=n.images[i.source],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o,a)},u.prototype.loadTexture=function(t){var e=this.name,n=this.parser,r=n.json,i=r.textures[t];if(!i.extensions||!i.extensions[e])return null;var o=i.extensions[e],a=r.images[o.source],s=a.uri?n.options.manager.getHandler(a.uri):n.textureLoader;return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(t,a,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))},u.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported},h.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,o.ready]).then((function(t){var e=r.byteOffset||0,n=r.byteLength||0,i=r.count,a=r.byteStride,s=new ArrayBuffer(i*a),c=new Uint8Array(t[0],e,n);return o.decodeGltfBuffer(new Uint8Array(s),i,a,c,r.mode,r.filter),s}))}return null};var d="glTF",p=1313821514,f=5130562;function m(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:r.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=new DataView(t,12),o=0;o<i.byteLength;){var a=i.getUint32(o,!0);o+=4;var s=i.getUint32(o,!0);if(o+=4,s===p){var c=new Uint8Array(t,12+o,a);this.content=r.LoaderUtils.decodeText(c)}else if(s===f){var l=12+o;this.body=t.slice(l,l+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function g(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function v(){this.name=n.KHR_TEXTURE_TRANSFORM}function y(t){r.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),s={specular:{value:(new r.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(t){for(var r in s)t.uniforms[r]=s[r];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(t){s.specular.value=t}},specularMap:{get:function(){return s.specularMap.value},set:function(t){s.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return s.glossiness.value},set:function(t){s.glossiness.value=t}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(t){s.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function x(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return y},extendParams:function(t,e,n){var i=e.extensions[this.name];t.color=new r.Color(1,1,1),t.opacity=1;var o=[];if(Array.isArray(i.diffuseFactor)){var a=i.diffuseFactor;t.color.fromArray(a),t.opacity=a[3]}if(void 0!==i.diffuseTexture&&o.push(n.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new r.Color(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new r.Color(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var s=i.specularGlossinessTexture;o.push(n.assignTexture(t,"glossinessMap",s)),o.push(n.assignTexture(t,"specularMap",s))}return Promise.all(o)},createMaterial:function(t){var e=new y(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=r.TangentSpaceNormalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function b(){this.name=n.KHR_MESH_QUANTIZATION}function w(t,e,n,i){r.Interpolant.call(this,t,e,n,i)}g.prototype.decodePrimitive=function(t,e){var n=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},s={},c={};for(var l in o){var u=O[l]||l.toLowerCase();a[u]=o[l]}for(l in t.attributes){u=O[l]||l.toLowerCase();if(void 0!==o[l]){var h=n.accessors[t.attributes[l]],d=R[h.componentType];c[u]=d,s[u]=!0===h.normalized}}return e.getDependency("bufferView",i).then((function(t){return new Promise((function(e){r.decodeDracoFile(t,(function(t){for(var n in t.attributes){var r=t.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}e(t)}),a,c)}))}))},v.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},y.prototype=Object.create(r.MeshStandardMaterial.prototype),y.prototype.constructor=y,y.prototype.copy=function(t){return r.MeshStandardMaterial.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(r.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r*3+r,o=0;o!==r;o++)e[o]=n[i+o];return e},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,c=3*a,l=r-e,u=(n-e)/l,h=u*u,d=h*u,p=t*c,f=p-c,m=-2*d+3*h,g=d-h,v=1-m,y=g-h+u,x=0;x!==a;x++){var b=o[f+x+a],w=o[f+x+s]*l,_=o[p+x+a],M=o[p+x]*l;i[x]=v*b+y*w+m*_+g*M}return i};var _=0,M=1,S=2,T=3,E=4,A=5,L=6,R={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},P={9728:r.NearestFilter,9729:r.LinearFilter,9984:r.NearestMipmapNearestFilter,9985:r.LinearMipmapNearestFilter,9986:r.NearestMipmapLinearFilter,9987:r.LinearMipmapLinearFilter},C={33071:r.ClampToEdgeWrapping,33648:r.MirroredRepeatWrapping,10497:r.RepeatWrapping},I={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},O={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},N={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},D={CUBICSPLINE:void 0,LINEAR:r.InterpolateLinear,STEP:r.InterpolateDiscrete},B="OPAQUE",F="MASK",U="BLEND";function z(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function G(t,e,n){for(var r in n.extensions)void 0===t[r]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function H(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function k(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)t.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function V(t){for(var e="",n=Object.keys(t).sort(),r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function j(t,n){this.json=t||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new r.ImageBitmapLoader(this.options.manager):this.textureLoader=new r.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new r.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function W(t,e,n){var i=e.attributes,o=[];function a(e,r){return n.getDependency("accessor",e).then((function(e){t.setAttribute(r,e)}))}for(var s in i){var c=O[s]||s.toLowerCase();c in t.attributes||o.push(a(i[s],c))}if(void 0!==e.indices&&!t.index){var l=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));o.push(l)}return H(t,e),function(t,e,n){var i=e.attributes,o=new r.Box3;if(void 0!==i.POSITION){var a=(f=n.json.accessors[i.POSITION]).min,s=f.max;if(void 0!==a&&void 0!==s){o.set(new r.Vector3(a[0],a[1],a[2]),new r.Vector3(s[0],s[1],s[2]));var c=e.targets;if(void 0!==c){for(var l=new r.Vector3,u=new r.Vector3,h=0,d=c.length;h<d;h++){var p=c[h];if(void 0!==p.POSITION){var f;a=(f=n.json.accessors[p.POSITION]).min,s=f.max;void 0!==a&&void 0!==s?(u.setX(Math.max(Math.abs(a[0]),Math.abs(s[0]))),u.setY(Math.max(Math.abs(a[1]),Math.abs(s[1]))),u.setZ(Math.max(Math.abs(a[2]),Math.abs(s[2]))),l.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(l)}t.boundingBox=o;var m=new r.Sphere;o.getCenter(m.center),m.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,n),Promise.all(o).then((function(){return void 0!==e.targets?function(t,e,n){for(var r=!1,i=!1,o=0,a=e.length;o<a;o++){if(void 0!==(l=e[o]).POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(t);var s=[],c=[];for(o=0,a=e.length;o<a;o++){var l=e[o];if(r){var u=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):t.attributes.position;s.push(u)}if(i){u=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):t.attributes.normal;c.push(u)}}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(e){var n=e[0],o=e[1];return r&&(t.morphAttributes.position=n),i&&(t.morphAttributes.normal=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function X(t,e){var n=t.getIndex();if(null===n){var i=[],o=t.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var a=0;a<o.count;a++)i.push(a);t.setIndex(i),n=t.getIndex()}var s=n.count-2,c=[];if(e===r.TriangleFanDrawMode)for(a=1;a<=s;a++)c.push(n.getX(0)),c.push(n.getX(a)),c.push(n.getX(a+1));else for(a=0;a<s;a++)a%2==0?(c.push(n.getX(a)),c.push(n.getX(a+1)),c.push(n.getX(a+2))):(c.push(n.getX(a+2)),c.push(n.getX(a+1)),c.push(n.getX(a)));c.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=t.clone();return l.setIndex(c),l}return j.prototype.setExtensions=function(t){this.extensions=t},j.prototype.setPlugins=function(t){this.plugins=t},j.prototype.parse=function(t,e){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var o={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};G(i,o,r),H(o,r),t(o)})).catch(e)},j.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],r=0,i=e.length;r<i;r++)for(var o=e[r].joints,a=0,s=o.length;a<s;a++)t[o[a]].isBone=!0;for(var c=0,l=t.length;c<l;c++){var u=t[c];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},j.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},j.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var r=n.clone();return r.name+="_instance_"+t.uses[e]++,r},j.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}},j.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],r=0;r<e.length;r++){var i=t(e[r]);i&&n.push(i)}return n},j.prototype.getDependency=function(t,e){var n=t+":"+e,r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":r=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":r=this.loadSkin(e);break;case"animation":r=this.loadAnimation(e);break;case"camera":r=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r},j.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,r=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(r.map((function(e,r){return n.getDependency(t,r)}))),this.cache.add(t,e)}return e},j.prototype.loadBuffer=function(t){var e=this.json.buffers[t],r=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(t,n){r.load(z(e.uri,i.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},j.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,r=e.byteOffset||0;return t.slice(r,r+n)}))},j.prototype.loadAccessor=function(t){var e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var o=[];return void 0!==i.bufferView?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),void 0!==i.sparse&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then((function(t){var o,a,s=t[0],c=I[i.type],l=R[i.componentType],u=l.BYTES_PER_ELEMENT,h=u*c,d=i.byteOffset||0,p=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,f=!0===i.normalized;if(p&&p!==h){var m=Math.floor(d/p),g="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count,v=e.cache.get(g);v||(o=new l(s,m*p,i.count*p/u),v=new r.InterleavedBuffer(o,p/u),e.cache.add(g,v)),a=new r.InterleavedBufferAttribute(v,c,d%p/u,f)}else o=null===s?new l(i.count*c):new l(s,d,i.count*c),a=new r.BufferAttribute(o,c,f);if(void 0!==i.sparse){var y=I.SCALAR,x=R[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,_=new x(t[1],b,i.sparse.count*y),M=new l(t[2],w,i.sparse.count*c);null!==s&&(a=new r.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var S=0,T=_.length;S<T;S++){var E=_[S];if(a.setX(E,M[S*c]),c>=2&&a.setY(E,M[S*c+1]),c>=3&&a.setZ(E,M[S*c+2]),c>=4&&a.setW(E,M[S*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},j.prototype.loadTexture=function(t){var e,r,i=this.json,o=this.options,a=i.textures[t],s=a.extensions||{};return(e=s[n.MSFT_TEXTURE_DDS]?i.images[s[n.MSFT_TEXTURE_DDS].source]:i.images[a.source]).uri&&(r=o.manager.getHandler(e.uri)),r||(r=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,r)},j.prototype.loadTextureImage=function(t,e,n){var i=this,o=this.json,a=this.options,s=o.textures[t],c=self.URL||self.webkitURL,l=e.uri,u=!1,h=!0;return"image/jpeg"===e.mimeType&&(h=!1),void 0!==e.bufferView&&(l=i.getDependency("bufferView",e.bufferView).then((function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);h=6===n||4===n||3===n}u=!0;var r=new Blob([t],{type:e.mimeType});return l=c.createObjectURL(r)}))),Promise.resolve(l).then((function(t){return new Promise((function(e,i){var o=e;!0===n.isImageBitmapLoader&&(o=function(t){e(new r.CanvasTexture(t))}),n.load(z(t,a.path),o,void 0,i)}))})).then((function(e){!0===u&&c.revokeObjectURL(l),e.flipY=!1,s.name&&(e.name=s.name),h||(e.format=r.RGBFormat);var n=(o.samplers||{})[s.sampler]||{};return e.magFilter=P[n.magFilter]||r.LinearFilter,e.minFilter=P[n.minFilter]||r.LinearMipmapLinearFilter,e.wrapS=C[n.wrapS]||r.RepeatWrapping,e.wrapT=C[n.wrapT]||r.RepeatWrapping,i.associations.set(e,{type:"textures",index:t}),e}))},j.prototype.assignTexture=function(t,e,r){var i=this;return this.getDependency("texture",r.index).then((function(o){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===e&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+e+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=i.associations.get(o);o=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),i.associations.set(o,s)}}t[e]=o}))},j.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,i=void 0!==e.attributes.tangent,o=void 0!==e.attributes.color,a=void 0===e.attributes.normal,s=!0===t.isSkinnedMesh,c=Object.keys(e.morphAttributes).length>0,l=c&&void 0!==e.morphAttributes.normal;if(t.isPoints){var u="PointsMaterial:"+n.uuid,h=this.cache.get(u);h||(h=new r.PointsMaterial,r.Material.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.sizeAttenuation=!1,this.cache.add(u,h)),n=h}else if(t.isLine){u="LineBasicMaterial:"+n.uuid;var d=this.cache.get(u);d||(d=new r.LineBasicMaterial,r.Material.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(u,d)),n=d}if(i||o||a||s||c){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),s&&(u+="skinning:"),i&&(u+="vertex-tangents:"),o&&(u+="vertex-colors:"),a&&(u+="flat-shading:"),c&&(u+="morph-targets:"),l&&(u+="morph-normals:");var p=this.cache.get(u);p||(p=n.clone(),s&&(p.skinning=!0),i&&(p.vertexTangents=!0),o&&(p.vertexColors=!0),a&&(p.flatShading=!0),c&&(p.morphTargets=!0),l&&(p.morphNormals=!0),this.cache.add(u,p),this.associations.set(p,this.associations.get(n))),n=p}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),n.normalScale&&!i&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!i&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),t.material=n},j.prototype.getMaterialType=function(){return r.MeshStandardMaterial},j.prototype.loadMaterial=function(t){var e,i=this,o=this.json,a=this.extensions,s=o.materials[t],c={},l=s.extensions||{},u=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=h.getMaterialType(),u.push(h.extendParams(c,s,i))}else if(l[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];e=d.getMaterialType(),u.push(d.extendParams(c,s,i))}else{var p=s.pbrMetallicRoughness||{};if(c.color=new r.Color(1,1,1),c.opacity=1,Array.isArray(p.baseColorFactor)){var f=p.baseColorFactor;c.color.fromArray(f),c.opacity=f[3]}void 0!==p.baseColorTexture&&u.push(i.assignTexture(c,"map",p.baseColorTexture)),c.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,c.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(u.push(i.assignTexture(c,"metalnessMap",p.metallicRoughnessTexture)),u.push(i.assignTexture(c,"roughnessMap",p.metallicRoughnessTexture))),e=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),u.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,c)}))))}!0===s.doubleSided&&(c.side=r.DoubleSide);var m=s.alphaMode||B;return m===U?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===F&&(c.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&e!==r.MeshBasicMaterial&&(u.push(i.assignTexture(c,"normalMap",s.normalTexture)),c.normalScale=new r.Vector2(1,1),void 0!==s.normalTexture.scale&&c.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&e!==r.MeshBasicMaterial&&(u.push(i.assignTexture(c,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(c.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&e!==r.MeshBasicMaterial&&(c.emissive=(new r.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&e!==r.MeshBasicMaterial&&u.push(i.assignTexture(c,"emissiveMap",s.emissiveTexture)),Promise.all(u).then((function(){var o;return o=e===y?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new e(c),s.name&&(o.name=s.name),o.map&&(o.map.encoding=r.sRGBEncoding),o.emissiveMap&&(o.emissiveMap.encoding=r.sRGBEncoding),H(o,s),i.associations.set(o,{type:"materials",index:t}),s.extensions&&G(a,o,s),o}))},j.prototype.createUniqueName=function(t){for(var e=r.PropertyBinding.sanitizeNodeName(t||""),n=1;this.nodeNamesUsed[e];++n)e=t+"_"+n;return this.nodeNamesUsed[e]=!0,e},j.prototype.loadGeometries=function(t){var e=this,i=this.extensions,o=this.primitiveCache;function a(t){return i[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return W(n,t,e)}))}for(var s,c,l=[],u=0,h=t.length;u<h;u++){var d,p=t[u],f=(c=void 0,(c=(s=p).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+c.bufferView+":"+c.indices+":"+V(c.attributes):s.indices+":"+V(s.attributes)+":"+s.mode),m=o[f];if(m)l.push(m.promise);else d=p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(p):W(new r.BufferGeometry,p,e),o[f]={primitive:p,promise:d},l.push(d)}return Promise.all(l)},j.prototype.loadMesh=function(t){for(var e,n=this,i=this.json,o=this.extensions,a=i.meshes[t],s=a.primitives,c=[],l=0,u=s.length;l<u;l++){var h=void 0===s[l].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new r.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.FrontSide})),e.DefaultMaterial):this.getDependency("material",s[l].material);c.push(h)}return c.push(n.loadGeometries(s)),Promise.all(c).then((function(e){for(var i=e.slice(0,e.length-1),c=e[e.length-1],l=[],u=0,h=c.length;u<h;u++){var d,p=c[u],f=s[u],m=i[u];if(f.mode===E||f.mode===A||f.mode===L||void 0===f.mode)!0!==(d=!0===a.isSkinnedMesh?new r.SkinnedMesh(p,m):new r.Mesh(p,m)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===A?d.geometry=X(d.geometry,r.TriangleStripDrawMode):f.mode===L&&(d.geometry=X(d.geometry,r.TriangleFanDrawMode));else if(f.mode===M)d=new r.LineSegments(p,m);else if(f.mode===T)d=new r.Line(p,m);else if(f.mode===S)d=new r.LineLoop(p,m);else{if(f.mode!==_)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new r.Points(p,m)}Object.keys(d.geometry.morphAttributes).length>0&&k(d,a),d.name=n.createUniqueName(a.name||"mesh_"+t),H(d,a),f.extensions&&G(o,d,f),n.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var g=new r.Group;for(u=0,h=l.length;u<h;u++)g.add(l[u]);return g}))},j.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new r.PerspectiveCamera(r.MathUtils.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new r.OrthographicCamera(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),H(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},j.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},j.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],i=[],o=[],a=[],s=[],c=0,l=e.channels.length;c<l;c++){var u=e.channels[c],h=e.samplers[u.sampler],d=u.target,p=void 0!==d.node?d.node:d.id,f=void 0!==e.parameters?e.parameters[h.input]:h.input,m=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",p)),i.push(this.getDependency("accessor",f)),o.push(this.getDependency("accessor",m)),a.push(h),s.push(d)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then((function(n){for(var i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=[],u=0,h=i.length;u<h;u++){var d=i[u],p=o[u],f=a[u],m=s[u],g=c[u];if(void 0!==d){var v;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,N[g.path]){case N.weights:v=r.NumberKeyframeTrack;break;case N.rotation:v=r.QuaternionKeyframeTrack;break;case N.position:case N.scale:default:v=r.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,x=void 0!==m.interpolation?D[m.interpolation]:r.InterpolateLinear,b=[];N[g.path]===N.weights?d.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&b.push(t.name?t.name:t.uuid)})):b.push(y);var _=f.array;if(f.normalized){var M;if(_.constructor===Int8Array)M=1/127;else if(_.constructor===Uint8Array)M=1/255;else if(_.constructor==Int16Array)M=1/32767;else{if(_.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");M=1/65535}for(var S=new Float32Array(_.length),T=0,E=_.length;T<E;T++)S[T]=_[T]*M;_=S}for(T=0,E=b.length;T<E;T++){var A=new v(b[T]+"."+N[g.path],p.array,_,x);"CUBICSPLINE"===m.interpolation&&(A.createInterpolant=function(t){return new w(this.times,this.values,this.getValueSize()/3,t)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(A)}}}var L=e.name?e.name:"animation_"+t;return new r.AnimationClip(L,void 0,l)}))},j.prototype.loadNode=function(t){var e,n=this.json,i=this.extensions,o=this,a=n.nodes[t],s=a.name?o.createUniqueName(a.name):"";return(e=[],void 0!==a.mesh&&e.push(o.getDependency("mesh",a.mesh).then((function(t){var e=o._getNodeRef(o.meshCache,a.mesh,t);return void 0!==a.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,n=a.weights.length;e<n;e++)t.morphTargetInfluences[e]=a.weights[e]})),e}))),void 0!==a.camera&&e.push(o.getDependency("camera",a.camera).then((function(t){return o._getNodeRef(o.cameraCache,a.camera,t)}))),o._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)).then((function(e){var n;if((n=!0===a.isBone?new r.Bone:e.length>1?new r.Group:1===e.length?e[0]:new r.Object3D)!==e[0])for(var c=0,l=e.length;c<l;c++)n.add(e[c]);if(a.name&&(n.userData.name=a.name,n.name=s),H(n,a),a.extensions&&G(i,n,a),void 0!==a.matrix){var u=new r.Matrix4;u.fromArray(a.matrix),n.applyMatrix4(u)}else void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale);return o.associations.set(n,{type:"nodes",index:t}),n}))},j.prototype.loadScene=function(){function t(e,n,i,o){var a=i.nodes[e];return o.getDependency("node",e).then((function(t){return void 0===a.skin?t:o.getDependency("skin",a.skin).then((function(t){for(var n=[],r=0,i=(e=t).joints.length;r<i;r++)n.push(o.getDependency("node",e.joints[r]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(t.isMesh){for(var i=[],o=[],a=0,s=n.length;a<s;a++){var c=n[a];if(c){i.push(c);var l=new r.Matrix4;void 0!==e.inverseBindMatrices&&l.fromArray(e.inverseBindMatrices.array,16*a),o.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[a])}t.bind(new r.Skeleton(i,o),t.matrixWorld)}})),t}));var e})).then((function(e){n.add(e);var r=[];if(a.children)for(var s=a.children,c=0,l=s.length;c<l;c++){var u=s[c];r.push(t(u,e,i,o))}return Promise.all(r)}))}return function(e){var n=this.json,i=this.extensions,o=this.json.scenes[e],a=new r.Group;o.name&&(a.name=this.createUniqueName(o.name)),H(a,o),o.extensions&&G(i,a,o);for(var s=o.nodes||[],c=[],l=0,u=s.length;l<u;l++)c.push(t(s[l],a,n,this));return Promise.all(c).then((function(){return a}))}}(),t}()},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DotScreenShader=e.GlitchPass=e.ShaderPass=e.RenderPass=e.EffectComposer=e.WEBGL=e.OrbitControls=e.Water=e.Sky=e.AnimationAction=e.VRButton=e.SVGLoader=e.XRControllerModelFactory=e.GLTFLoader=e.FBXLoader=e.ConvexBufferGeometry=void 0,i(n(0),e);const o=n(15);Object.defineProperty(e,"ConvexBufferGeometry",{enumerable:!0,get:function(){return o.ConvexBufferGeometry}});const a=n(12);Object.defineProperty(e,"FBXLoader",{enumerable:!0,get:function(){return a.FBXLoader}});const s=n(3);Object.defineProperty(e,"GLTFLoader",{enumerable:!0,get:function(){return s.GLTFLoader}});const c=n(16);Object.defineProperty(e,"XRControllerModelFactory",{enumerable:!0,get:function(){return c.XRControllerModelFactory}});const l=n(5);Object.defineProperty(e,"SVGLoader",{enumerable:!0,get:function(){return l.SVGLoader}});const u=n(6);Object.defineProperty(e,"VRButton",{enumerable:!0,get:function(){return u.VRButton}});const h=n(17);Object.defineProperty(e,"AnimationAction",{enumerable:!0,get:function(){return h.AnimationAction}});const d=n(7);Object.defineProperty(e,"Sky",{enumerable:!0,get:function(){return d.Sky}});const p=n(13);Object.defineProperty(e,"Water",{enumerable:!0,get:function(){return p.Water}});const f=n(8);Object.defineProperty(e,"OrbitControls",{enumerable:!0,get:function(){return f.OrbitControls}});const m=n(9);Object.defineProperty(e,"WEBGL",{enumerable:!0,get:function(){return m.WEBGL}});var g=n(14);Object.defineProperty(e,"EffectComposer",{enumerable:!0,get:function(){return g.EffectComposer}});var v=n(10);Object.defineProperty(e,"RenderPass",{enumerable:!0,get:function(){return v.RenderPass}});var y=n(2);Object.defineProperty(e,"ShaderPass",{enumerable:!0,get:function(){return y.ShaderPass}});var x=n(18);Object.defineProperty(e,"GlitchPass",{enumerable:!0,get:function(){return x.GlitchPass}});var b=n(11);Object.defineProperty(e,"DotScreenShader",{enumerable:!0,get:function(){return b.DotScreenShader}});const w="Three.js r"+n(0).REVISION;console.log(`%c %c %c %c %c ${w} %c https://threejs.org/`,"background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")},function(t,e,n){"use strict";n.r(e),n.d(e,"SVGLoader",(function(){return w}));var r,i,o,a,s,c,l,u,h,d,p,f,m,g,v,y,x,b=n(0),w=function(t){b.Loader.call(this,t),this.defaultDPI=90,this.defaultUnit="px"};w.prototype=Object.assign(Object.create(b.Loader.prototype),{constructor:w,load:function(t,e,n,r){var i=this,o=new b.FileLoader(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(n))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){var e=this;function n(t,e,n,i,o,a,s,c){if(0!=e&&0!=n){i=i*Math.PI/180,e=Math.abs(e),n=Math.abs(n);var l=(s.x-c.x)/2,u=(s.y-c.y)/2,h=Math.cos(i)*l+Math.sin(i)*u,d=-Math.sin(i)*l+Math.cos(i)*u,p=e*e,f=n*n,m=h*h,g=d*d,v=m/p+g/f;if(v>1){var y=Math.sqrt(v);p=(e*=y)*e,f=(n*=y)*n}var x=p*g+f*m,b=(p*f-x)/x,w=Math.sqrt(Math.max(0,b));o===a&&(w=-w);var _=w*e*d/n,M=-w*n*h/e,S=Math.cos(i)*_-Math.sin(i)*M+(s.x+c.x)/2,T=Math.sin(i)*_+Math.cos(i)*M+(s.y+c.y)/2,E=r(1,0,(h-_)/e,(d-M)/n),A=r((h-_)/e,(d-M)/n,(-h-_)/e,(-d-M)/n)%(2*Math.PI);t.currentPath.absellipse(S,T,e,n,E,E+A,0===a,i)}else t.lineTo(c.x,c.y)}function r(t,e,n,r){var i=t*n+e*r,o=Math.sqrt(t*t+e*e)*Math.sqrt(n*n+r*r),a=Math.acos(Math.max(-1,Math.min(1,i/o)));return t*r-e*n<0&&(a=-a),a}function i(t,e){e=Object.assign({},e);var n={};if(t.hasAttribute("class"))for(var r=t.getAttribute("class").split(/\s/).filter(Boolean).map(t=>t.trim()),i=0;i<r.length;i++)n=Object.assign(n,p["."+r[i]]);function o(r,i,o){void 0===o&&(o=function(t){return t.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),t}),t.hasAttribute(r)&&(e[i]=o(t.getAttribute(r))),n[r]&&(e[i]=o(n[r])),t.style&&""!==t.style[r]&&(e[i]=o(t.style[r]))}function a(t){return Math.max(0,Math.min(1,l(t)))}function s(t){return Math.max(0,l(t))}return t.hasAttribute("id")&&(n=Object.assign(n,p["#"+t.getAttribute("id")])),o("fill","fill"),o("fill-opacity","fillOpacity",a),o("opacity","opacity",a),o("stroke","stroke"),o("stroke-opacity","strokeOpacity",a),o("stroke-width","strokeWidth",s),o("stroke-linejoin","strokeLineJoin"),o("stroke-linecap","strokeLineCap"),o("stroke-miterlimit","strokeMiterLimit",s),o("visibility","visibility"),e}function o(t,e){return t-(e-t)}function a(t){for(var e=t.split(/[\s,]+|(?=\s?[+\-])/),n=0;n<e.length;n++){var r=e[n];if(r.indexOf(".")!==r.lastIndexOf("."))for(var i=r.split("."),o=2;o<i.length;o++)e.splice(n+o-1,0,"0."+i[o]);e[n]=l(r)}return e}var s=["mm","cm","in","pt","pc","px"],c={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function l(t){var n="px";if("string"==typeof t||t instanceof String)for(var r=0,i=s.length;r<i;r++){var o=s[r];if(t.endsWith(o)){n=o,t=t.substring(0,t.length-o.length);break}}var a=void 0;return"px"===n&&"px"!==e.defaultUnit?a=c.in[e.defaultUnit]/e.defaultDPI:(a=c[n][e.defaultUnit])<0&&(a=c[n].in*e.defaultDPI),a*parseFloat(t)}function u(t){var e=t.elements;return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function h(t){var e=t.elements;return Math.sqrt(e[3]*e[3]+e[4]*e[4])}var d=[],p={},f=[],m=new b.Matrix3,g=new b.Matrix3,v=new b.Matrix3,y=new b.Matrix3,x=new b.Vector2,w=new b.Vector3,_=new b.Matrix3,M=(new DOMParser).parseFromString(t,"image/svg+xml");return function t(e,r){if(1===e.nodeType){var s=function(t){if(!(t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))))return null;var e=function(t){var e=new b.Matrix3,n=m;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))){var r=l(t.getAttribute("x")),i=l(t.getAttribute("y"));e.translate(r,i)}if(t.hasAttribute("transform"))for(var o=t.getAttribute("transform").split(")"),s=o.length-1;s>=0;s--){var c=o[s].trim();if(""!==c){var u=c.indexOf("("),h=c.length;if(u>0&&u<h){var d=c.substr(0,u),p=a(c.substr(u+1,h-u-1));switch(n.identity(),d){case"translate":if(p.length>=1){i=r=p[0];p.length>=2&&(i=p[1]),n.translate(r,i)}break;case"rotate":if(p.length>=1){var f,x=0,w=0;f=-p[0]*Math.PI/180,p.length>=3&&(x=p[1],w=p[2]),g.identity().translate(-x,-w),v.identity().rotate(f),y.multiplyMatrices(v,g),g.identity().translate(x,w),n.multiplyMatrices(g,y)}break;case"scale":if(p.length>=1){var _=p[0],M=_;p.length>=2&&(M=p[1]),n.scale(_,M)}break;case"skewX":1===p.length&&n.set(1,Math.tan(p[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===p.length&&n.set(1,0,0,Math.tan(p[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===p.length&&n.set(p[0],p[2],p[4],p[1],p[3],p[5],0,0,1)}}e.premultiply(n)}}return e}(t);f.length>0&&e.premultiply(f[f.length-1]);return _.copy(e),f.push(e),e}(e),c=!0,M=null;switch(e.nodeName){case"svg":break;case"style":!function(t){if(!t.sheet||!t.sheet.cssRules||!t.sheet.cssRules.length)return;for(var e=0;e<t.sheet.cssRules.length;e++){var n=t.sheet.cssRules[e];if(1===n.type)for(var r=n.selectorText.split(/,/gm).filter(Boolean).map(t=>t.trim()),i=0;i<r.length;i++)p[r[i]]=Object.assign(p[r[i]]||{},n.style)}}(e);break;case"g":r=i(e,r);break;case"path":r=i(e,r),e.hasAttribute("d")&&(M=function(t){for(var e=new b.ShapePath,r=new b.Vector2,i=new b.Vector2,s=new b.Vector2,c=!0,l=!1,u=t.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),h=0,d=u.length;h<d;h++){var p=u[h],f=p.charAt(0),m=p.substr(1).trim();switch(!0===c&&(l=!0,c=!1),f){case"M":for(var g=a(m),v=0,y=g.length;v<y;v+=2)r.x=g[v+0],r.y=g[v+1],i.x=r.x,i.y=r.y,0===v?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"H":for(g=a(m),v=0,y=g.length;v<y;v++)r.x=g[v],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"V":for(g=a(m),v=0,y=g.length;v<y;v++)r.y=g[v],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"L":for(g=a(m),v=0,y=g.length;v<y;v+=2)r.x=g[v+0],r.y=g[v+1],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"C":for(g=a(m),v=0,y=g.length;v<y;v+=6)e.bezierCurveTo(g[v+0],g[v+1],g[v+2],g[v+3],g[v+4],g[v+5]),i.x=g[v+2],i.y=g[v+3],r.x=g[v+4],r.y=g[v+5],0===v&&!0===l&&s.copy(r);break;case"S":for(g=a(m),v=0,y=g.length;v<y;v+=4)e.bezierCurveTo(o(r.x,i.x),o(r.y,i.y),g[v+0],g[v+1],g[v+2],g[v+3]),i.x=g[v+0],i.y=g[v+1],r.x=g[v+2],r.y=g[v+3],0===v&&!0===l&&s.copy(r);break;case"Q":for(g=a(m),v=0,y=g.length;v<y;v+=4)e.quadraticCurveTo(g[v+0],g[v+1],g[v+2],g[v+3]),i.x=g[v+0],i.y=g[v+1],r.x=g[v+2],r.y=g[v+3],0===v&&!0===l&&s.copy(r);break;case"T":for(g=a(m),v=0,y=g.length;v<y;v+=2){var x=o(r.x,i.x),w=o(r.y,i.y);e.quadraticCurveTo(x,w,g[v+0],g[v+1]),i.x=x,i.y=w,r.x=g[v+0],r.y=g[v+1],0===v&&!0===l&&s.copy(r)}break;case"A":for(g=a(m),v=0,y=g.length;v<y;v+=7)if(g[v+5]!=r.x||g[v+6]!=r.y){var _=r.clone();r.x=g[v+5],r.y=g[v+6],i.x=r.x,i.y=r.y,n(e,g[v],g[v+1],g[v+2],g[v+3],g[v+4],_,r),0===v&&!0===l&&s.copy(r)}break;case"m":for(g=a(m),v=0,y=g.length;v<y;v+=2)r.x+=g[v+0],r.y+=g[v+1],i.x=r.x,i.y=r.y,0===v?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"h":for(g=a(m),v=0,y=g.length;v<y;v++)r.x+=g[v],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"v":for(g=a(m),v=0,y=g.length;v<y;v++)r.y+=g[v],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"l":for(g=a(m),v=0,y=g.length;v<y;v+=2)r.x+=g[v+0],r.y+=g[v+1],i.x=r.x,i.y=r.y,e.lineTo(r.x,r.y),0===v&&!0===l&&s.copy(r);break;case"c":for(g=a(m),v=0,y=g.length;v<y;v+=6)e.bezierCurveTo(r.x+g[v+0],r.y+g[v+1],r.x+g[v+2],r.y+g[v+3],r.x+g[v+4],r.y+g[v+5]),i.x=r.x+g[v+2],i.y=r.y+g[v+3],r.x+=g[v+4],r.y+=g[v+5],0===v&&!0===l&&s.copy(r);break;case"s":for(g=a(m),v=0,y=g.length;v<y;v+=4)e.bezierCurveTo(o(r.x,i.x),o(r.y,i.y),r.x+g[v+0],r.y+g[v+1],r.x+g[v+2],r.y+g[v+3]),i.x=r.x+g[v+0],i.y=r.y+g[v+1],r.x+=g[v+2],r.y+=g[v+3],0===v&&!0===l&&s.copy(r);break;case"q":for(g=a(m),v=0,y=g.length;v<y;v+=4)e.quadraticCurveTo(r.x+g[v+0],r.y+g[v+1],r.x+g[v+2],r.y+g[v+3]),i.x=r.x+g[v+0],i.y=r.y+g[v+1],r.x+=g[v+2],r.y+=g[v+3],0===v&&!0===l&&s.copy(r);break;case"t":for(g=a(m),v=0,y=g.length;v<y;v+=2){x=o(r.x,i.x),w=o(r.y,i.y);e.quadraticCurveTo(x,w,r.x+g[v+0],r.y+g[v+1]),i.x=x,i.y=w,r.x=r.x+g[v+0],r.y=r.y+g[v+1],0===v&&!0===l&&s.copy(r)}break;case"a":for(g=a(m),v=0,y=g.length;v<y;v+=7)if(0!=g[v+5]||0!=g[v+6]){_=r.clone();r.x+=g[v+5],r.y+=g[v+6],i.x=r.x,i.y=r.y,n(e,g[v],g[v+1],g[v+2],g[v+3],g[v+4],_,r),0===v&&!0===l&&s.copy(r)}break;case"Z":case"z":e.currentPath.autoClose=!0,e.currentPath.curves.length>0&&(r.copy(s),e.currentPath.currentPoint.copy(r),c=!0);break;default:console.warn(p)}l=!1}return e}(e));break;case"rect":r=i(e,r),M=function(t){var e=l(t.getAttribute("x")||0),n=l(t.getAttribute("y")||0),r=l(t.getAttribute("rx")||0),i=l(t.getAttribute("ry")||0),o=l(t.getAttribute("width")),a=l(t.getAttribute("height")),s=new b.ShapePath;s.moveTo(e+2*r,n),s.lineTo(e+o-2*r,n),(0!==r||0!==i)&&s.bezierCurveTo(e+o,n,e+o,n,e+o,n+2*i);s.lineTo(e+o,n+a-2*i),(0!==r||0!==i)&&s.bezierCurveTo(e+o,n+a,e+o,n+a,e+o-2*r,n+a);s.lineTo(e+2*r,n+a),(0!==r||0!==i)&&s.bezierCurveTo(e,n+a,e,n+a,e,n+a-2*i);s.lineTo(e,n+2*i),(0!==r||0!==i)&&s.bezierCurveTo(e,n,e,n,e+2*r,n);return s}(e);break;case"polygon":r=i(e,r),M=function(t){function e(t,e,i){var o=l(e),a=l(i);0===r?n.moveTo(o,a):n.lineTo(o,a),r++}var n=new b.ShapePath,r=0;return t.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,e),n.currentPath.autoClose=!0,n}(e);break;case"polyline":r=i(e,r),M=function(t){function e(t,e,i){var o=l(e),a=l(i);0===r?n.moveTo(o,a):n.lineTo(o,a),r++}var n=new b.ShapePath,r=0;return t.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,e),n.currentPath.autoClose=!1,n}(e);break;case"circle":r=i(e,r),M=function(t){var e=l(t.getAttribute("cx")),n=l(t.getAttribute("cy")),r=l(t.getAttribute("r")),i=new b.Path;i.absarc(e,n,r,0,2*Math.PI);var o=new b.ShapePath;return o.subPaths.push(i),o}(e);break;case"ellipse":r=i(e,r),M=function(t){var e=l(t.getAttribute("cx")),n=l(t.getAttribute("cy")),r=l(t.getAttribute("rx")),i=l(t.getAttribute("ry")),o=new b.Path;o.absellipse(e,n,r,i,0,2*Math.PI);var a=new b.ShapePath;return a.subPaths.push(o),a}(e);break;case"line":r=i(e,r),M=function(t){var e=l(t.getAttribute("x1")),n=l(t.getAttribute("y1")),r=l(t.getAttribute("x2")),i=l(t.getAttribute("y2")),o=new b.ShapePath;return o.moveTo(e,n),o.lineTo(r,i),o.currentPath.autoClose=!1,o}(e);break;case"defs":c=!1;break;case"use":r=i(e,r);var S=e.href.baseVal.substring(1),T=e.viewportElement.getElementById(S);T?t(T,r):console.warn("SVGLoader: 'use node' references non-existent node id: "+S)}if(M&&(void 0!==r.fill&&"none"!==r.fill&&M.color.setStyle(r.fill),function(t,e){function n(t){w.set(t.x,t.y,1).applyMatrix3(e),t.set(w.x,w.y)}for(var r=function(t){return 0!==t.elements[1]||0!==t.elements[3]}(e),i=t.subPaths,o=0,a=i.length;o<a;o++)for(var s=i[o].curves,c=0;c<s.length;c++){var l=s[c];l.isLineCurve?(n(l.v1),n(l.v2)):l.isCubicBezierCurve?(n(l.v0),n(l.v1),n(l.v2),n(l.v3)):l.isQuadraticBezierCurve?(n(l.v0),n(l.v1),n(l.v2)):l.isEllipseCurve&&(r&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),x.set(l.aX,l.aY),n(x),l.aX=x.x,l.aY=x.y,l.xRadius*=u(e),l.yRadius*=h(e))}}(M,_),d.push(M),M.userData={node:e,style:r}),c)for(var E=e.childNodes,A=0;A<E.length;A++)t(E[A],r);s&&(f.pop(),f.length>0?_.copy(f[f.length-1]):_.identity())}}(M.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:d,xml:M.documentElement}}}),w.getStrokeStyle=function(t,e,n,r,i){return{strokeColor:e=void 0!==e?e:"#000",strokeWidth:t=void 0!==t?t:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:r=void 0!==r?r:"butt",strokeMiterLimit:i=void 0!==i?i:4}},w.pointsToStroke=function(t,e,n,r){var i=[],o=[],a=[];if(0===w.pointsToStrokeWithBuffers(t,e,n,r,i,o,a))return null;var s=new b.BufferGeometry;return s.setAttribute("position",new b.Float32BufferAttribute(i,3)),s.setAttribute("normal",new b.Float32BufferAttribute(o,3)),s.setAttribute("uv",new b.Float32BufferAttribute(a,2)),s},w.pointsToStrokeWithBuffers=(r=new b.Vector2,i=new b.Vector2,o=new b.Vector2,a=new b.Vector2,s=new b.Vector2,c=new b.Vector2,l=new b.Vector2,u=new b.Vector2,h=new b.Vector2,d=new b.Vector2,p=new b.Vector2,f=new b.Vector2,m=new b.Vector2,g=new b.Vector2,v=new b.Vector2,y=new b.Vector2,x=new b.Vector2,function(t,e,n,b,w,_,M,S){n=void 0!==n?n:12,b=void 0!==b?b:.001,S=void 0!==S?S:0;var T=(t=function(t){for(var e=!1,n=1,r=t.length-1;n<r;n++)if(t[n].distanceTo(t[n+1])<b){e=!0;break}if(!e)return t;var i=[];for(i.push(t[0]),n=1,r=t.length-1;n<r;n++)t[n].distanceTo(t[n+1])>=b&&i.push(t[n]);return i.push(t[t.length-1]),i}(t)).length;if(T<2)return 0;var E,A,L,R,P,C=t[0].equals(t[T-1]),I=t[0],O=e.strokeWidth/2,N=1/(T-1),D=0,B=!1,F=0,U=3*S,z=2*S;K(t[0],t[1],r).multiplyScalar(O),u.copy(t[0]).sub(r),h.copy(t[0]).add(r),d.copy(u),p.copy(h);for(var G=1;G<T;G++){E=t[G],A=G===T-1?C?t[1]:void 0:t[G+1];var H=r;K(I,E,H),o.copy(H).multiplyScalar(O),f.copy(E).sub(o),m.copy(E).add(o);var k=D+N;if(L=!1,void 0!==A){K(E,A,i),o.copy(i).multiplyScalar(O),g.copy(E).sub(o),v.copy(E).add(o),R=!0,o.subVectors(A,I),H.dot(o)<0&&(R=!1),1===G&&(B=R),o.subVectors(A,E),o.normalize();var V=Math.abs(H.dot(o));if(0!==V){var j=O/V;o.multiplyScalar(-j),a.subVectors(E,I),s.copy(a).setLength(j).add(o),y.copy(s).negate();var W=s.length(),X=a.length();a.divideScalar(X),c.subVectors(A,E);var q=c.length();switch(c.divideScalar(q),a.dot(y)<X&&c.dot(y)<q&&(L=!0),x.copy(s).add(E),y.add(E),P=!1,L?R?(v.copy(y),m.copy(y)):(g.copy(y),f.copy(y)):tt(),e.strokeLineJoin){case"bevel":et(R,L,k);break;case"round":nt(R,L),R?$(E,f,g,k,0):$(E,v,m,k,1);break;case"miter":case"miter-clip":default:var Y=O*e.strokeMiterLimit/W;if(Y<1){if("miter-clip"!==e.strokeLineJoin){et(R,L,k);break}nt(R,L),R?(c.subVectors(x,f).multiplyScalar(Y).add(f),l.subVectors(x,g).multiplyScalar(Y).add(g),Q(f,k,0),Q(c,k,0),Q(E,k,.5),Q(E,k,.5),Q(c,k,0),Q(l,k,0),Q(E,k,.5),Q(l,k,0),Q(g,k,0)):(c.subVectors(x,m).multiplyScalar(Y).add(m),l.subVectors(x,v).multiplyScalar(Y).add(v),Q(m,k,1),Q(c,k,1),Q(E,k,.5),Q(E,k,.5),Q(c,k,1),Q(l,k,1),Q(E,k,.5),Q(l,k,1),Q(v,k,1))}else L?(R?(Q(h,D,1),Q(u,D,0),Q(x,k,0),Q(h,D,1),Q(x,k,0),Q(y,k,1)):(Q(h,D,1),Q(u,D,0),Q(x,k,1),Q(u,D,0),Q(y,k,0),Q(x,k,1)),R?g.copy(x):v.copy(x)):R?(Q(f,k,0),Q(x,k,0),Q(E,k,.5),Q(E,k,.5),Q(x,k,0),Q(g,k,0)):(Q(m,k,1),Q(x,k,1),Q(E,k,.5),Q(E,k,.5),Q(x,k,1),Q(v,k,1)),P=!0}}else tt()}else tt();C||G!==T-1||rt(t[0],d,p,R,!0,D),D=k,I=E,u.copy(g),h.copy(v)}if(C){if(L&&w){var Z=x,J=y;B!==R&&(Z=y,J=x),R?(P||B)&&(J.toArray(w,0),J.toArray(w,9),P&&Z.toArray(w,3)):!P&&B||(J.toArray(w,3),J.toArray(w,9),P&&Z.toArray(w,0))}}else rt(E,f,m,R,!1,k);return F;function K(t,e,n){return n.subVectors(e,t),n.set(-n.y,n.x).normalize()}function Q(t,e,n){w&&(w[U]=t.x,w[U+1]=t.y,w[U+2]=0,_&&(_[U]=0,_[U+1]=0,_[U+2]=1),U+=3,M&&(M[z]=e,M[z+1]=n,z+=2)),F+=3}function $(t,e,s,c,l){r.copy(e).sub(t).normalize(),i.copy(s).sub(t).normalize();var u=Math.PI,h=r.dot(i);Math.abs(h)<1&&(u=Math.abs(Math.acos(h))),u/=n,o.copy(e);for(var d=0,p=n-1;d<p;d++)a.copy(o).rotateAround(t,u),Q(o,c,l),Q(a,c,l),Q(t,c,.5),o.copy(a);Q(a,c,l),Q(s,c,l),Q(t,c,.5)}function tt(){Q(h,D,1),Q(u,D,0),Q(f,k,0),Q(h,D,1),Q(f,k,1),Q(m,k,0)}function et(t,e,n){e?t?(Q(h,D,1),Q(u,D,0),Q(f,k,0),Q(h,D,1),Q(f,k,0),Q(y,k,1),Q(f,n,0),Q(g,n,0),Q(y,n,.5)):(Q(h,D,1),Q(u,D,0),Q(m,k,1),Q(u,D,0),Q(y,k,0),Q(m,k,1),Q(m,n,1),Q(v,n,0),Q(y,n,.5)):t?(Q(f,n,0),Q(g,n,0),Q(E,n,.5)):(Q(m,n,1),Q(v,n,0),Q(E,n,.5))}function nt(t,e){e&&(t?(Q(h,D,1),Q(u,D,0),Q(f,k,0),Q(h,D,1),Q(f,k,0),Q(y,k,1),Q(f,D,0),Q(E,k,.5),Q(y,k,1),Q(E,k,.5),Q(g,D,0),Q(y,k,1)):(Q(h,D,1),Q(u,D,0),Q(m,k,1),Q(u,D,0),Q(y,k,0),Q(m,k,1),Q(m,D,1),Q(y,k,0),Q(E,k,.5),Q(E,k,.5),Q(y,k,0),Q(v,D,1)))}function rt(t,n,s,c,l,u){switch(e.strokeLineCap){case"round":l?$(t,s,n,u,.5):$(t,n,s,u,.5);break;case"square":if(l)r.subVectors(n,t),i.set(r.y,-r.x),o.addVectors(r,i).add(t),a.subVectors(i,r).add(t),c?(o.toArray(w,3),a.toArray(w,0),a.toArray(w,9)):(o.toArray(w,3),o.toArray(w,9),a.toArray(w,0));else{r.subVectors(s,t),i.set(r.y,-r.x),o.addVectors(r,i).add(t),a.subVectors(i,r).add(t);var h=w.length;c?(o.toArray(w,h-3),a.toArray(w,h-6),a.toArray(w,h-12)):(o.toArray(w,h-6),a.toArray(w,h-3),a.toArray(w,h-12))}}}})},function(t,e,n){"use strict";n.r(e),n.d(e,"VRButton",(function(){return r}));class r{static createButton(t,e){e&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const n=document.createElement("button");function r(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null,n.textContent="VR NOT SUPPORTED"}function i(t){t.style.position="absolute",t.style.bottom="20px",t.style.padding="12px 6px",t.style.border="1px solid #fff",t.style.borderRadius="4px",t.style.background="rgba(0,0,0,0.1)",t.style.color="#fff",t.style.font="normal 13px sans-serif",t.style.textAlign="center",t.style.opacity="0.5",t.style.outline="none",t.style.zIndex="999"}if("xr"in navigator)return n.id="VRButton",n.style.display="none",i(n),navigator.xr.isSessionSupported("immersive-vr").then((function(e){e?function(){let e=null;function r(r){r.addEventListener("end",i),t.xr.setSession(r),n.textContent="EXIT VR",e=r}function i(){e.removeEventListener("end",i),n.textContent="ENTER VR",e=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){if(null===e){const t={optionalFeatures:["local-floor","bounded-floor","hand-tracking"]};navigator.xr.requestSession("immersive-vr",t).then(r)}else e.end()}}():r()})),n;{const t=document.createElement("a");return!1===window.isSecureContext?(t.href=document.location.href.replace(/^http:/,"https:"),t.innerHTML="WEBXR NEEDS HTTPS"):(t.href="https://immersiveweb.dev/",t.innerHTML="WEBXR NOT AVAILABLE"),t.style.left="calc(50% - 90px)",t.style.width="180px",t.style.textDecoration="none",i(t),t}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Sky",(function(){return i}));var r=n(0),i=function(){var t=i.SkyShader,e=new r.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:r.UniformsUtils.clone(t.uniforms),side:r.BackSide,depthWrite:!1});r.Mesh.call(this,new r.BoxBufferGeometry(1,1,1),e)};i.prototype=Object.create(r.Mesh.prototype),i.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new r.Vector3},up:{value:new r.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")}},function(t,e,n){"use strict";n.r(e),n.d(e,"OrbitControls",(function(){return i})),n.d(e,"MapControls",(function(){return o}));var r=n(0),i=function(t,e){var n,i,o,a,s,c;void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.MOUSE.ROTATE,MIDDLE:r.MOUSE.DOLLY,RIGHT:r.MOUSE.PAN},this.touches={ONE:r.TOUCH.ROTATE,TWO:r.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return g.phi},this.getAzimuthalAngle=function(){return g.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(u),l.update(),f=p.NONE},this.update=(n=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),o=i.clone().invert(),a=new r.Vector3,s=new r.Quaternion,c=2*Math.PI,function(){var t=l.object.position;n.copy(t).sub(l.target),n.applyQuaternion(i),g.setFromVector3(n),l.autoRotate&&f===p.NONE&&C(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(g.theta+=v.theta*l.dampingFactor,g.phi+=v.phi*l.dampingFactor):(g.theta+=v.theta,g.phi+=v.phi);var e=l.minAzimuthAngle,r=l.maxAzimuthAngle;return isFinite(e)&&isFinite(r)&&(e<-Math.PI?e+=c:e>Math.PI&&(e-=c),r<-Math.PI?r+=c:r>Math.PI&&(r-=c),g.theta=e<=r?Math.max(e,Math.min(r,g.theta)):g.theta>(e+r)/2?Math.max(e,g.theta):Math.min(r,g.theta)),g.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=y,g.radius=Math.max(l.minDistance,Math.min(l.maxDistance,g.radius)),!0===l.enableDamping?l.target.addScaledVector(x,l.dampingFactor):l.target.add(x),n.setFromSpherical(g),n.applyQuaternion(o),t.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(v.theta*=1-l.dampingFactor,v.phi*=1-l.dampingFactor,x.multiplyScalar(1-l.dampingFactor)):(v.set(0,0,0),x.set(0,0,0)),y=1,!!(b||a.distanceToSquared(l.object.position)>m||8*(1-s.dot(l.object.quaternion))>m)&&(l.dispatchEvent(u),a.copy(l.object.position),s.copy(l.object.quaternion),b=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",et,!1),l.domElement.removeEventListener("pointerdown",q,!1),l.domElement.removeEventListener("wheel",J,!1),l.domElement.removeEventListener("touchstart",Q,!1),l.domElement.removeEventListener("touchend",tt,!1),l.domElement.removeEventListener("touchmove",$,!1),l.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),l.domElement.ownerDocument.removeEventListener("pointerup",Z,!1),l.domElement.removeEventListener("keydown",K,!1)};var l=this,u={type:"change"},h={type:"start"},d={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=p.NONE,m=1e-6,g=new r.Spherical,v=new r.Spherical,y=1,x=new r.Vector3,b=!1,w=new r.Vector2,_=new r.Vector2,M=new r.Vector2,S=new r.Vector2,T=new r.Vector2,E=new r.Vector2,A=new r.Vector2,L=new r.Vector2,R=new r.Vector2;function P(){return Math.pow(.95,l.zoomSpeed)}function C(t){v.theta-=t}function I(t){v.phi-=t}var O,N=(O=new r.Vector3,function(t,e){O.setFromMatrixColumn(e,0),O.multiplyScalar(-t),x.add(O)}),D=function(){var t=new r.Vector3;return function(e,n){!0===l.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(l.object.up,t)),t.multiplyScalar(e),x.add(t)}}(),B=function(){var t=new r.Vector3;return function(e,n){var r=l.domElement;if(l.object.isPerspectiveCamera){var i=l.object.position;t.copy(i).sub(l.target);var o=t.length();o*=Math.tan(l.object.fov/2*Math.PI/180),N(2*e*o/r.clientHeight,l.object.matrix),D(2*n*o/r.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(N(e*(l.object.right-l.object.left)/l.object.zoom/r.clientWidth,l.object.matrix),D(n*(l.object.top-l.object.bottom)/l.object.zoom/r.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function F(t){l.object.isPerspectiveCamera?y/=t:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*t)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function U(t){l.object.isPerspectiveCamera?y*=t:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/t)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function z(t){w.set(t.clientX,t.clientY)}function G(t){S.set(t.clientX,t.clientY)}function H(t){if(1==t.touches.length)w.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);w.set(e,n)}}function k(t){if(1==t.touches.length)S.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);S.set(e,n)}}function V(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);A.set(0,r)}function j(t){if(1==t.touches.length)_.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);_.set(e,n)}M.subVectors(_,w).multiplyScalar(l.rotateSpeed);var r=l.domElement;C(2*Math.PI*M.x/r.clientHeight),I(2*Math.PI*M.y/r.clientHeight),w.copy(_)}function W(t){if(1==t.touches.length)T.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);T.set(e,n)}E.subVectors(T,S).multiplyScalar(l.panSpeed),B(E.x,E.y),S.copy(T)}function X(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);L.set(0,r),R.set(0,Math.pow(L.y/A.y,l.zoomSpeed)),F(R.y),A.copy(L)}function q(t){if(!1!==l.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),t.button){case 0:e=l.mouseButtons.LEFT;break;case 1:e=l.mouseButtons.MIDDLE;break;case 2:e=l.mouseButtons.RIGHT;break;default:e=-1}switch(e){case r.MOUSE.DOLLY:if(!1===l.enableZoom)return;!function(t){A.set(t.clientX,t.clientY)}(t),f=p.DOLLY;break;case r.MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===l.enablePan)return;G(t),f=p.PAN}else{if(!1===l.enableRotate)return;z(t),f=p.ROTATE}break;case r.MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===l.enableRotate)return;z(t),f=p.ROTATE}else{if(!1===l.enablePan)return;G(t),f=p.PAN}break;default:f=p.NONE}f!==p.NONE&&(l.domElement.ownerDocument.addEventListener("pointermove",Y,!1),l.domElement.ownerDocument.addEventListener("pointerup",Z,!1),l.dispatchEvent(h))}(t)}}function Y(t){if(!1!==l.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1===l.enabled)return;switch(t.preventDefault(),f){case p.ROTATE:if(!1===l.enableRotate)return;!function(t){_.set(t.clientX,t.clientY),M.subVectors(_,w).multiplyScalar(l.rotateSpeed);var e=l.domElement;C(2*Math.PI*M.x/e.clientHeight),I(2*Math.PI*M.y/e.clientHeight),w.copy(_),l.update()}(t);break;case p.DOLLY:if(!1===l.enableZoom)return;!function(t){L.set(t.clientX,t.clientY),R.subVectors(L,A),R.y>0?F(P()):R.y<0&&U(P()),A.copy(L),l.update()}(t);break;case p.PAN:if(!1===l.enablePan)return;!function(t){T.set(t.clientX,t.clientY),E.subVectors(T,S).multiplyScalar(l.panSpeed),B(E.x,E.y),S.copy(T),l.update()}(t)}}(t)}}function Z(t){switch(t.pointerType){case"mouse":case"pen":!function(t){if(l.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),l.domElement.ownerDocument.removeEventListener("pointerup",Z,!1),!1===l.enabled)return;l.dispatchEvent(d),f=p.NONE}()}}function J(t){!1===l.enabled||!1===l.enableZoom||f!==p.NONE&&f!==p.ROTATE||(t.preventDefault(),t.stopPropagation(),l.dispatchEvent(h),function(t){t.deltaY<0?U(P()):t.deltaY>0&&F(P()),l.update()}(t),l.dispatchEvent(d))}function K(t){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(t){var e=!1;switch(t.keyCode){case l.keys.UP:B(0,l.keyPanSpeed),e=!0;break;case l.keys.BOTTOM:B(0,-l.keyPanSpeed),e=!0;break;case l.keys.LEFT:B(l.keyPanSpeed,0),e=!0;break;case l.keys.RIGHT:B(-l.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),l.update())}(t)}function Q(t){if(!1!==l.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(l.touches.ONE){case r.TOUCH.ROTATE:if(!1===l.enableRotate)return;H(t),f=p.TOUCH_ROTATE;break;case r.TOUCH.PAN:if(!1===l.enablePan)return;k(t),f=p.TOUCH_PAN;break;default:f=p.NONE}break;case 2:switch(l.touches.TWO){case r.TOUCH.DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(t){l.enableZoom&&V(t),l.enablePan&&k(t)}(t),f=p.TOUCH_DOLLY_PAN;break;case r.TOUCH.DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(t){l.enableZoom&&V(t),l.enableRotate&&H(t)}(t),f=p.TOUCH_DOLLY_ROTATE;break;default:f=p.NONE}break;default:f=p.NONE}f!==p.NONE&&l.dispatchEvent(h)}}function $(t){if(!1!==l.enabled)switch(t.preventDefault(),t.stopPropagation(),f){case p.TOUCH_ROTATE:if(!1===l.enableRotate)return;j(t),l.update();break;case p.TOUCH_PAN:if(!1===l.enablePan)return;W(t),l.update();break;case p.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(t){l.enableZoom&&X(t),l.enablePan&&W(t)}(t),l.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(t){l.enableZoom&&X(t),l.enableRotate&&j(t)}(t),l.update();break;default:f=p.NONE}}function tt(t){!1!==l.enabled&&(l.dispatchEvent(d),f=p.NONE)}function et(t){!1!==l.enabled&&t.preventDefault()}l.domElement.addEventListener("contextmenu",et,!1),l.domElement.addEventListener("pointerdown",q,!1),l.domElement.addEventListener("wheel",J,!1),l.domElement.addEventListener("touchstart",Q,!1),l.domElement.addEventListener("touchend",tt,!1),l.domElement.addEventListener("touchmove",$,!1),l.domElement.addEventListener("keydown",K,!1),this.update()};i.prototype=Object.create(r.EventDispatcher.prototype),i.prototype.constructor=i;var o=function(t,e){i.call(this,t,e),this.screenSpacePanning=!1,this.mouseButtons.LEFT=r.MOUSE.PAN,this.mouseButtons.RIGHT=r.MOUSE.ROTATE,this.touches.ONE=r.TOUCH.PAN,this.touches.TWO=r.TOUCH.DOLLY_ROTATE};o.prototype=Object.create(r.EventDispatcher.prototype),o.prototype.constructor=o},function(t,e,n){"use strict";n.r(e),n.d(e,"WEBGL",(function(){return r}));var r={isWebGLAvailable:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},isWebGL2Available:function(){try{var t=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!t.getContext("webgl2"))}catch(t){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(t){var e={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},n='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',r=document.createElement("div");return r.id="webglmessage",r.style.fontFamily="monospace",r.style.fontSize="13px",r.style.fontWeight="normal",r.style.textAlign="center",r.style.background="#fff",r.style.color="#000",r.style.padding="1.5em",r.style.width="400px",r.style.margin="5em auto 0",n=(n=e[t]?n.replace("$0","graphics card"):n.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[t]),r.innerHTML=n,r}}},function(t,e,n){"use strict";n.r(e),n.d(e,"RenderPass",(function(){return i}));var r=n(1),i=function(t,e,n,i,o){r.a.call(this),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};i.prototype=Object.assign(Object.create(r.a.prototype),{constructor:i,render:function(t,e,n){var r,i,o,a=t.autoClear;t.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(r=t.getClearColor().getHex(),i=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(r,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),t.autoClear=a}})},function(t,e,n){"use strict";n.r(e),n.d(e,"DotScreenShader",(function(){return i}));var r=n(0),i={uniforms:{tDiffuse:{value:null},tSize:{value:new r.Vector2(256,256)},center:{value:new r.Vector2(.5,.5)},angle:{value:1.57},scale:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec2 center;","uniform float angle;","uniform float scale;","uniform vec2 tSize;","uniform sampler2D tDiffuse;","varying vec2 vUv;","float pattern() {","\tfloat s = sin( angle ), c = cos( angle );","\tvec2 tex = vUv * tSize - center;","\tvec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;","\treturn ( sin( point.x ) * sin( point.y ) ) * 4.0;","}","void main() {","\tvec4 color = texture2D( tDiffuse, vUv );","\tfloat average = ( color.r + color.g + color.b ) / 3.0;","\tgl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );","}"].join("\n")}},function(t,e,n){"use strict";n.r(e),n.d(e,"FBXLoader",(function(){return V}));var r=n(0),i={},o=i;
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */function a(t,e){var n,r=t.split("."),i=o;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}var s="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function c(t){var e,n,r,i,o,a,c,l,u,h,d=t.length,p=0,f=Number.POSITIVE_INFINITY;for(l=0;l<d;++l)t[l]>p&&(p=t[l]),t[l]<f&&(f=t[l]);for(e=1<<p,n=new(s?Uint32Array:Array)(e),r=1,i=0,o=2;r<=p;){for(l=0;l<d;++l)if(t[l]===r){for(a=0,c=i,u=0;u<r;++u)a=a<<1|1&c,c>>=1;for(h=r<<16|l,u=a;u<e;u+=o)n[u]=h;++i}++r,i<<=1,o<<=1}return[n,p,f]}function l(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=s?new Uint8Array(t):t,this.m=!1,this.i=h,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case u:this.b=32768,this.c=new(s?Uint8Array:Array)(32768+this.h+258);break;case h:this.b=0,this.c=new(s?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var u=0,h=1,d={t:u,s:h};l.prototype.k=function(){for(;!this.m;){var t=C(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var e=this.input,n=this.a,r=this.c,i=this.b,o=e.length,a=void 0,l=r.length,d=void 0;if(this.d=this.f=0,n+1>=o)throw Error("invalid uncompressed block header: LEN");if(a=e[n++]|e[n++]<<8,n+1>=o)throw Error("invalid uncompressed block header: NLEN");if(a===~(e[n++]|e[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+a>e.length)throw Error("input buffer is broken");switch(this.i){case u:for(;i+a>r.length;){if(a-=d=l-i,s)r.set(e.subarray(n,n+d),i),i+=d,n+=d;else for(;d--;)r[i++]=e[n++];this.b=i,r=this.e(),i=this.b}break;case h:for(;i+a>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(s)r.set(e.subarray(n,n+a),i),i+=a,n+=a;else for(;a--;)r[i++]=e[n++];this.a=n,this.b=i,this.c=r;break;case 1:this.j(L,P);break;case 2:var p,f,m,v,y=C(this,5)+257,x=C(this,5)+1,b=C(this,4)+4,w=new(s?Uint8Array:Array)(g.length),_=void 0,M=void 0,S=void 0,T=void 0,E=void 0;for(E=0;E<b;++E)w[g[E]]=C(this,3);if(!s)for(E=b,b=w.length;E<b;++E)w[g[E]]=0;for(p=c(w),_=new(s?Uint8Array:Array)(y+x),E=0,v=y+x;E<v;)switch(M=I(this,p),M){case 16:for(T=3+C(this,2);T--;)_[E++]=S;break;case 17:for(T=3+C(this,3);T--;)_[E++]=0;S=0;break;case 18:for(T=11+C(this,7);T--;)_[E++]=0;S=0;break;default:S=_[E++]=M}f=c(s?_.subarray(0,y):_.slice(0,y)),m=c(s?_.subarray(y):_.slice(y)),this.j(f,m);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var p,f,m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g=s?new Uint16Array(m):m,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],y=s?new Uint16Array(v):v,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],b=s?new Uint8Array(x):x,w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],_=s?new Uint16Array(w):w,M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=s?new Uint8Array(M):M,T=new(s?Uint8Array:Array)(288);for(p=0,f=T.length;p<f;++p)T[p]=143>=p?8:255>=p?9:279>=p?7:8;var E,A,L=c(T),R=new(s?Uint8Array:Array)(30);for(E=0,A=R.length;E<A;++E)R[E]=5;var P=c(R);function C(t,e){for(var n,r=t.f,i=t.d,o=t.input,a=t.a,s=o.length;i<e;){if(a>=s)throw Error("input buffer is broken");r|=o[a++]<<i,i+=8}return n=r&(1<<e)-1,t.f=r>>>e,t.d=i-e,t.a=a,n}function I(t,e){for(var n,r,i=t.f,o=t.d,a=t.input,s=t.a,c=a.length,l=e[0],u=e[1];o<u&&!(s>=c);)i|=a[s++]<<o,o+=8;if((r=(n=l[i&(1<<u)-1])>>>16)>o)throw Error("invalid code length: "+r);return t.f=i>>r,t.d=o-r,t.a=s,65535&n}function O(t,e){var n,r;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),n=t[this.a++],r=t[this.a++],15&n){case N:this.method=N;break;default:throw Error("unsupported compression method")}if(0!=((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new l(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}l.prototype.j=function(t,e){var n=this.c,r=this.b;this.o=t;for(var i,o,a,s,c=n.length-258;256!==(i=I(this,t));)if(256>i)r>=c&&(this.b=r,n=this.e(),r=this.b),n[r++]=i;else for(s=y[o=i-257],0<b[o]&&(s+=C(this,b[o])),i=I(this,e),a=_[i],0<S[i]&&(a+=C(this,S[i])),r>=c&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},l.prototype.w=function(t,e){var n=this.c,r=this.b;this.o=t;for(var i,o,a,s,c=n.length;256!==(i=I(this,t));)if(256>i)r>=c&&(c=(n=this.e()).length),n[r++]=i;else for(s=y[o=i-257],0<b[o]&&(s+=C(this,b[o])),i=I(this,e),a=_[i],0<S[i]&&(a+=C(this,S[i])),r+s>c&&(c=(n=this.e()).length);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},l.prototype.e=function(){var t,e,n=new(s?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.c;if(s)n.set(i.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=i[t+32768];if(this.g.push(n),this.l+=n.length,s)i.set(i.subarray(r,r+32768));else for(t=0;32768>t;++t)i[t]=i[r+t];return this.b=32768,i},l.prototype.z=function(t){var e,n,r,i=this.input.length/this.a+1|0,o=this.input,a=this.c;return t&&("number"==typeof t.p&&(i=t.p),"number"==typeof t.u&&(i+=t.u)),2>i?n=(r=(o.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+r:a.length<<1:n=a.length*i,s?(e=new Uint8Array(n)).set(a):e=a,this.c=e},l.prototype.n=function(){var t,e,n,r,i,o=0,a=this.c,c=this.g,l=new(s?Uint8Array:Array)(this.l+(this.b-32768));if(0===c.length)return s?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,n=c.length;e<n;++e)for(r=0,i=(t=c[e]).length;r<i;++r)l[o++]=t[r];for(e=32768,n=this.b;e<n;++e)l[o++]=a[e];return this.g=[],this.buffer=l},l.prototype.v=function(){var t,e=this.b;return s?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},O.prototype.k=function(){var t,e,n=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=t;if("string"==typeof r){var i,o,a=r.split("");for(i=0,o=a.length;i<o;i++)a[i]=(255&a[i].charCodeAt(0))>>>0;r=a}for(var s,c=1,l=0,u=r.length,h=0;0<u;){u-=s=1024<u?1024:u;do{l+=c+=r[h++]}while(--s);c%=65521,l%=65521}if(e!==(l<<16|c)>>>0)throw Error("invalid adler-32 checksum")}return t};var N=8;a("Zlib.Inflate",O),a("Zlib.Inflate.prototype.decompress",O.prototype.k);var D,B,F,U,z={ADAPTIVE:d.s,BLOCK:d.t};if(Object.keys)D=Object.keys(z);else for(B in D=[],F=0,z)D[F++]=B;for(F=0,U=D.length;F<U;++F)a("Zlib.Inflate.BufferType."+(B=D[F]),z[B]);var G=i.Zlib.Inflate,H={findSpan:function(t,e,n){var r=n.length-t-1;if(e>=n[r])return r-1;if(e<=n[t])return t;for(var i=t,o=r,a=Math.floor((i+o)/2);e<n[a]||e>=n[a+1];)e<n[a]?o=a:i=a,a=Math.floor((i+o)/2);return a},calcBasisFunctions:function(t,e,n,r){var i=[],o=[],a=[];i[0]=1;for(var s=1;s<=n;++s){o[s]=e-r[t+1-s],a[s]=r[t+s]-e;for(var c=0,l=0;l<s;++l){var u=a[l+1],h=o[s-l],d=i[l]/(u+h);i[l]=c+u*d,c=h*d}i[s]=c}return i},calcBSplinePoint:function(t,e,n,i){for(var o=this.findSpan(t,i,e),a=this.calcBasisFunctions(o,i,t,e),s=new r.Vector4(0,0,0,0),c=0;c<=t;++c){var l=n[o-t+c],u=a[c],h=l.w*u;s.x+=l.x*h,s.y+=l.y*h,s.z+=l.z*h,s.w+=l.w*u}return s},calcBasisFunctionDerivatives:function(t,e,n,r,i){for(var o=[],a=0;a<=n;++a)o[a]=0;var s=[];for(a=0;a<=r;++a)s[a]=o.slice(0);var c=[];for(a=0;a<=n;++a)c[a]=o.slice(0);c[0][0]=1;for(var l=o.slice(0),u=o.slice(0),h=1;h<=n;++h){l[h]=e-i[t+1-h],u[h]=i[t+h]-e;for(var d=0,p=0;p<h;++p){var f=u[p+1],m=l[h-p];c[h][p]=f+m;var g=c[p][h-1]/c[h][p];c[p][h]=d+f*g,d=m*g}c[h][h]=d}for(h=0;h<=n;++h)s[0][h]=c[h][n];for(p=0;p<=n;++p){var v=0,y=1,x=[];for(a=0;a<=n;++a)x[a]=o.slice(0);x[0][0]=1;for(var b=1;b<=r;++b){var w=0,_=p-b,M=n-b;p>=b&&(x[y][0]=x[v][0]/c[M+1][_],w=x[y][0]*c[_][M]);var S=p-1<=M?b-1:n-p;for(h=_>=-1?1:-_;h<=S;++h)x[y][h]=(x[v][h]-x[v][h-1])/c[M+1][_+h],w+=x[y][h]*c[_+h][M];p<=M&&(x[y][b]=-x[v][b-1]/c[M+1][p],w+=x[y][b]*c[p][M]),s[b][p]=w;h=v;v=y,y=h}}for(p=n,b=1;b<=r;++b){for(h=0;h<=n;++h)s[b][h]*=p;p*=n-b}return s},calcBSplineDerivatives:function(t,e,n,i,o){for(var a=o<t?o:t,s=[],c=this.findSpan(t,i,e),l=this.calcBasisFunctionDerivatives(c,i,t,a,e),u=[],h=0;h<n.length;++h){var d=(f=n[h].clone()).w;f.x*=d,f.y*=d,f.z*=d,u[h]=f}for(var p=0;p<=a;++p){for(var f=u[c-t].clone().multiplyScalar(l[p][0]),m=1;m<=t;++m)f.add(u[c-t+m].clone().multiplyScalar(l[p][m]));s[p]=f}for(p=a+1;p<=o+1;++p)s[p]=new r.Vector4(0,0,0);return s},calcKoverI:function(t,e){for(var n=1,r=2;r<=t;++r)n*=r;var i=1;for(r=2;r<=e;++r)i*=r;for(r=2;r<=t-e;++r)i*=r;return n/i},calcRationalCurveDerivatives:function(t){for(var e=t.length,n=[],i=[],o=0;o<e;++o){var a=t[o];n[o]=new r.Vector3(a.x,a.y,a.z),i[o]=a.w}for(var s=[],c=0;c<e;++c){var l=n[c].clone();for(o=1;o<=c;++o)l.sub(s[c-o].clone().multiplyScalar(this.calcKoverI(c,o)*i[o]));s[c]=l.divideScalar(i[0])}return s},calcNURBSDerivatives:function(t,e,n,r,i){var o=this.calcBSplineDerivatives(t,e,n,r,i);return this.calcRationalCurveDerivatives(o)},calcSurfacePoint:function(t,e,n,i,o,a,s,c){for(var l=this.findSpan(t,a,n),u=this.findSpan(e,s,i),h=this.calcBasisFunctions(l,a,t,n),d=this.calcBasisFunctions(u,s,e,i),p=[],f=0;f<=e;++f){p[f]=new r.Vector4(0,0,0,0);for(var m=0;m<=t;++m){var g=o[l-t+m][u-e+f].clone(),v=g.w;g.x*=v,g.y*=v,g.z*=v,p[f].add(g.multiplyScalar(h[m]))}}var y=new r.Vector4(0,0,0,0);for(f=0;f<=e;++f)y.add(p[f].multiplyScalar(d[f]));y.divideScalar(y.w),c.set(y.x,y.y,y.z)}},k=function(t,e,n,i,o){r.Curve.call(this),this.degree=t,this.knots=e,this.controlPoints=[],this.startKnot=i||0,this.endKnot=o||this.knots.length-1;for(var a=0;a<n.length;++a){var s=n[a];this.controlPoints[a]=new r.Vector4(s.x,s.y,s.z,s.w)}};(k.prototype=Object.create(r.Curve.prototype)).constructor=k,k.prototype.getPoint=function(t,e){var n=e||new r.Vector3,i=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=H.calcBSplinePoint(this.degree,this.knots,this.controlPoints,i);return 1!=o.w&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)},k.prototype.getTangent=function(t,e){var n=e||new r.Vector3,i=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),o=H.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,i,1);return n.copy(o[1]).normalize(),n};var V=function(){var t,e,n;function i(t){r.Loader.call(this,t)}function o(t,e){this.textureLoader=t,this.manager=e}function a(){}function s(){}function c(){}function l(){}function u(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===e||e}function h(){}function d(t){var e=t.match(/FBXVersion: (\d+)/);if(e)return parseInt(e[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function p(t){return t/46186158e3}i.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:i,load:function(t,e,n,i){var o=this,a=""===o.path?r.LoaderUtils.extractUrlBase(t):o.path,s=new r.FileLoader(this.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(t,(function(n){try{e(o.parse(n,a))}catch(e){i?i(e):console.error(e),o.manager.itemError(t)}}),n,i)},parse:function(e,n){if(s="Kaydara FBX Binary  \0",(a=e).byteLength>=s.length&&s===w(a,0,s.length))t=(new l).parse(e);else{var i=w(e);if(!function(t){var e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;for(var r=0;r<e.length;++r){if((o=void 0,o=t[(i=1)-1],t=t.slice(n+i),n++,o)===e[r])return!1}var i,o;return!0}(i))throw new Error("THREE.FBXLoader: Unknown format.");if(d(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(i));t=(new c).parse(i)}var a,s;return new o(new r.TextureLoader(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(t)}}),o.prototype={constructor:o,parse:function(){e=this.parseConnections();var t=this.parseImages(),r=this.parseTextures(t),i=this.parseMaterials(r),o=this.parseDeformers(),s=(new a).parse(o);return this.parseScene(o,s,i),n},parseConnections:function(){var e=new Map;"Connections"in t&&t.Connections.connections.forEach((function(t){var n=t[0],r=t[1],i=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var o={ID:r,relationship:i};e.get(n).parents.push(o),e.has(r)||e.set(r,{parents:[],children:[]});var a={ID:n,relationship:i};e.get(r).children.push(a)}));return e},parseImages:function(){var e={},n={};if("Video"in t.Objects){var r=t.Objects.Video;for(var i in r){var o=r[i];if(e[l=parseInt(i)]=o.RelativeFilename||o.Filename,"Content"in o){var a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,s="string"==typeof o.Content&&""!==o.Content;if(a||s){var c=this.parseImage(r[i]);n[o.RelativeFilename||o.Filename]=c}}}}for(var l in e){var u=e[l];void 0!==n[u]?e[l]=n[u]:e[l]=e[l].split("\\").pop()}return e},parseImage:function(t){var e,n=t.Content,r=t.RelativeFilename||t.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":e="image/bmp";break;case"jpg":case"jpeg":e="image/jpeg";break;case"png":e="image/png";break;case"tif":e="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),e="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"==typeof n)return"data:"+e+";base64,"+n;var o=new Uint8Array(n);return window.URL.createObjectURL(new Blob([o],{type:e}))},parseTextures:function(e){var n=new Map;if("Texture"in t.Objects){var r=t.Objects.Texture;for(var i in r){var o=this.parseTexture(r[i],e);n.set(parseInt(i),o)}}return n},parseTexture:function(t,e){var n=this.loadTexture(t,e);n.ID=t.id,n.name=t.attrName;var i=t.WrapModeU,o=t.WrapModeV,a=void 0!==i?i.value:0,s=void 0!==o?o.value:0;if(n.wrapS=0===a?r.RepeatWrapping:r.ClampToEdgeWrapping,n.wrapT=0===s?r.RepeatWrapping:r.ClampToEdgeWrapping,"Scaling"in t){var c=t.Scaling.value;n.repeat.x=c[0],n.repeat.y=c[1]}return n},loadTexture:function(t,n){var i,o,a=this.textureLoader.path,s=e.get(t.id).children;void 0!==s&&s.length>0&&void 0!==n[s[0].ID]&&(0!==(i=n[s[0].ID]).indexOf("blob:")&&0!==i.indexOf("data:")||this.textureLoader.setPath(void 0));var c=t.FileName.slice(-3).toLowerCase();if("tga"===c){var l=this.manager.getHandler(".tga");null===l?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",t.RelativeFilename),o=new r.Texture):o=l.load(i)}else"psd"===c?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",t.RelativeFilename),o=new r.Texture):o=this.textureLoader.load(i);return this.textureLoader.setPath(a),o},parseMaterials:function(e){var n=new Map;if("Material"in t.Objects){var r=t.Objects.Material;for(var i in r){var o=this.parseMaterial(r[i],e);null!==o&&n.set(parseInt(i),o)}}return n},parseMaterial:function(t,n){var i=t.id,o=t.attrName,a=t.ShadingModel;if("object"==typeof a&&(a=a.value),!e.has(i))return null;var s,c=this.parseParameters(t,n,i);switch(a.toLowerCase()){case"phong":s=new r.MeshPhongMaterial;break;case"lambert":s=new r.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),s=new r.MeshPhongMaterial}return s.setValues(c),s.name=o,s},parseParameters:function(t,n,i){var o={};t.BumpFactor&&(o.bumpScale=t.BumpFactor.value),t.Diffuse?o.color=(new r.Color).fromArray(t.Diffuse.value):!t.DiffuseColor||"Color"!==t.DiffuseColor.type&&"ColorRGB"!==t.DiffuseColor.type||(o.color=(new r.Color).fromArray(t.DiffuseColor.value)),t.DisplacementFactor&&(o.displacementScale=t.DisplacementFactor.value),t.Emissive?o.emissive=(new r.Color).fromArray(t.Emissive.value):!t.EmissiveColor||"Color"!==t.EmissiveColor.type&&"ColorRGB"!==t.EmissiveColor.type||(o.emissive=(new r.Color).fromArray(t.EmissiveColor.value)),t.EmissiveFactor&&(o.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),t.Opacity&&(o.opacity=parseFloat(t.Opacity.value)),o.opacity<1&&(o.transparent=!0),t.ReflectionFactor&&(o.reflectivity=t.ReflectionFactor.value),t.Shininess&&(o.shininess=t.Shininess.value),t.Specular?o.specular=(new r.Color).fromArray(t.Specular.value):t.SpecularColor&&"Color"===t.SpecularColor.type&&(o.specular=(new r.Color).fromArray(t.SpecularColor.value));var a=this;return e.get(i).children.forEach((function(t){var e=t.relationship;switch(e){case"Bump":o.bumpMap=a.getTexture(n,t.ID);break;case"Maya|TEX_ao_map":o.aoMap=a.getTexture(n,t.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":o.map=a.getTexture(n,t.ID),o.map.encoding=r.sRGBEncoding;break;case"DisplacementColor":o.displacementMap=a.getTexture(n,t.ID);break;case"EmissiveColor":o.emissiveMap=a.getTexture(n,t.ID),o.emissiveMap.encoding=r.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":o.normalMap=a.getTexture(n,t.ID);break;case"ReflectionColor":o.envMap=a.getTexture(n,t.ID),o.envMap.mapping=r.EquirectangularReflectionMapping,o.envMap.encoding=r.sRGBEncoding;break;case"SpecularColor":o.specularMap=a.getTexture(n,t.ID),o.specularMap.encoding=r.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":o.alphaMap=a.getTexture(n,t.ID),o.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",e)}})),o},getTexture:function(n,r){return"LayeredTexture"in t.Objects&&r in t.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=e.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in t.Objects){var i=t.Objects.Deformer;for(var o in i){var a=i[o],s=e.get(parseInt(o));if("Skin"===a.attrType){var c=this.parseSkeleton(s,i);c.ID=o,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),c.geometryID=s.parents[0].ID,n[o]=c}else if("BlendShape"===a.attrType){var l={id:o};l.rawTargets=this.parseMorphTargets(s,i),l.id=o,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[o]=l}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(t,e){var n=[];return t.children.forEach((function(t){var i=e[t.ID];if("Cluster"===i.attrType){var o={ID:t.ID,indices:[],weights:[],transformLink:(new r.Matrix4).fromArray(i.TransformLink.a)};"Indexes"in i&&(o.indices=i.Indexes.a,o.weights=i.Weights.a),n.push(o)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(t,n){for(var r=[],i=0;i<t.children.length;i++){var o=t.children[i],a=n[o.ID],s={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;s.geoID=e.get(parseInt(o.ID)).children.filter((function(t){return void 0===t.relationship}))[0].ID,r.push(s)}return r},parseScene:function(i,o,a){n=new r.Group;var c=this.parseModels(i.skeletons,o,a),l=t.Objects.Model,u=this;c.forEach((function(t){var r=l[t.ID];u.setLookAtProperties(t,r),e.get(t.ID).parents.forEach((function(e){var n=c.get(e.ID);void 0!==n&&n.add(t)})),null===t.parent&&n.add(t)})),this.bindSkeleton(i.skeletons,o,c),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(t){if(t.userData.transformData){t.parent&&(t.userData.transformData.parentMatrixWorld=t.parent.matrix);var e=y(t.userData.transformData);t.applyMatrix4(e)}}));var h=(new s).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=h,n=n.children[0]),n.animations=h},parseModels:function(n,i,o){var a=new Map,s=t.Objects.Model;for(var c in s){var l=parseInt(c),u=s[c],h=e.get(l),d=this.buildSkeleton(h,n,l,u.attrName);if(!d){switch(u.attrType){case"Camera":d=this.createCamera(h);break;case"Light":d=this.createLight(h);break;case"Mesh":d=this.createMesh(h,i,o);break;case"NurbsCurve":d=this.createCurve(h,i);break;case"LimbNode":case"Root":d=new r.Bone;break;case"Null":default:d=new r.Group}d.name=u.attrName?r.PropertyBinding.sanitizeNodeName(u.attrName):"",d.ID=l}this.getTransformData(d,u),a.set(l,d)}return a},buildSkeleton:function(t,e,n,i){var o=null;return t.parents.forEach((function(t){for(var a in e){var s=e[a];s.rawBones.forEach((function(e,a){if(e.ID===t.ID){var c=o;(o=new r.Bone).matrixWorld.copy(e.transformLink),o.name=i?r.PropertyBinding.sanitizeNodeName(i):"",o.ID=n,s.bones[a]=o,null!==c&&o.add(c)}}))}})),o},createCamera:function(e){var n,i;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)})),void 0===i)n=new r.Object3D;else{var o=0;void 0!==i.CameraProjectionType&&1===i.CameraProjectionType.value&&(o=1);var a=1;void 0!==i.NearPlane&&(a=i.NearPlane.value/1e3);var s=1e3;void 0!==i.FarPlane&&(s=i.FarPlane.value/1e3);var c=window.innerWidth,l=window.innerHeight;void 0!==i.AspectWidth&&void 0!==i.AspectHeight&&(c=i.AspectWidth.value,l=i.AspectHeight.value);var u=c/l,h=45;void 0!==i.FieldOfView&&(h=i.FieldOfView.value);var d=i.FocalLength?i.FocalLength.value:null;switch(o){case 0:n=new r.PerspectiveCamera(h,u,a,s),null!==d&&n.setFocalLength(d);break;case 1:n=new r.OrthographicCamera(-c/2,c/2,l/2,-l/2,a,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),n=new r.Object3D}}return n},createLight:function(e){var n,i;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)})),void 0===i)n=new r.Object3D;else{var o;o=void 0===i.LightType?0:i.LightType.value;var a=16777215;void 0!==i.Color&&(a=(new r.Color).fromArray(i.Color.value));var s=void 0===i.Intensity?1:i.Intensity.value/100;void 0!==i.CastLightOnObject&&0===i.CastLightOnObject.value&&(s=0);var c=0;void 0!==i.FarAttenuationEnd&&(c=void 0!==i.EnableFarAttenuation&&0===i.EnableFarAttenuation.value?0:i.FarAttenuationEnd.value);switch(o){case 0:n=new r.PointLight(a,s,c,1);break;case 1:n=new r.DirectionalLight(a,s);break;case 2:var l=Math.PI/3;void 0!==i.InnerAngle&&(l=r.MathUtils.degToRad(i.InnerAngle.value));var u=0;void 0!==i.OuterAngle&&(u=r.MathUtils.degToRad(i.OuterAngle.value),u=Math.max(u,1)),n=new r.SpotLight(a,s,c,l,u,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),n=new r.PointLight(a,s)}void 0!==i.CastShadows&&1===i.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(t,e,n){var i,o=null,a=null,s=[];return t.children.forEach((function(t){e.has(t.ID)&&(o=e.get(t.ID)),n.has(t.ID)&&s.push(n.get(t.ID))})),s.length>1?a=s:s.length>0?a=s[0]:(a=new r.MeshPhongMaterial({color:13421772}),s.push(a)),"color"in o.attributes&&s.forEach((function(t){t.vertexColors=!0})),o.FBX_Deformer?(s.forEach((function(t){t.skinning=!0})),(i=new r.SkinnedMesh(o,a)).normalizeSkinWeights()):i=new r.Mesh(o,a),i},createCurve:function(t,e){var n=t.children.reduce((function(t,n){return e.has(n.ID)&&(t=e.get(n.ID)),t}),null),i=new r.LineBasicMaterial({color:3342591,linewidth:1});return new r.Line(n,i)},getTransformData:function(t,e){var n={};"InheritType"in e&&(n.inheritType=parseInt(e.InheritType.value)),n.eulerOrder="RotationOrder"in e?x(e.RotationOrder.value):"ZYX","Lcl_Translation"in e&&(n.translation=e.Lcl_Translation.value),"PreRotation"in e&&(n.preRotation=e.PreRotation.value),"Lcl_Rotation"in e&&(n.rotation=e.Lcl_Rotation.value),"PostRotation"in e&&(n.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(n.scale=e.Lcl_Scaling.value),"ScalingOffset"in e&&(n.scalingOffset=e.ScalingOffset.value),"ScalingPivot"in e&&(n.scalingPivot=e.ScalingPivot.value),"RotationOffset"in e&&(n.rotationOffset=e.RotationOffset.value),"RotationPivot"in e&&(n.rotationPivot=e.RotationPivot.value),t.userData.transformData=n},setLookAtProperties:function(i,o){"LookAtProperty"in o&&e.get(i.ID).children.forEach((function(e){if("LookAtProperty"===e.relationship){var o=t.Objects.Model[e.ID];if("Lcl_Translation"in o){var a=o.Lcl_Translation.value;void 0!==i.target?(i.target.position.fromArray(a),n.add(i.target)):i.lookAt((new r.Vector3).fromArray(a))}}}))},bindSkeleton:function(t,n,i){var o=this.parsePoseNodes();for(var a in t){var s=t[a];e.get(parseInt(s.ID)).parents.forEach((function(t){if(n.has(t.ID)){var a=t.ID;e.get(a).parents.forEach((function(t){i.has(t.ID)&&i.get(t.ID).bind(new r.Skeleton(s.bones),o[t.ID])}))}}))}},parsePoseNodes:function(){var e={};if("Pose"in t.Objects){var n=t.Objects.Pose;for(var i in n)if("BindPose"===n[i].attrType){var o=n[i].PoseNode;Array.isArray(o)?o.forEach((function(t){e[t.Node]=(new r.Matrix4).fromArray(t.Matrix.a)})):e[o.Node]=(new r.Matrix4).fromArray(o.Matrix.a)}}return e},createAmbientLight:function(){if("GlobalSettings"in t&&"AmbientColor"in t.GlobalSettings){var e=t.GlobalSettings.AmbientColor.value,i=e[0],o=e[1],a=e[2];if(0!==i||0!==o||0!==a){var s=new r.Color(i,o,a);n.add(new r.AmbientLight(s,1))}}},setupMorphMaterials:function(){var t=this;n.traverse((function(e){e.isMesh&&e.geometry.morphAttributes.position&&e.geometry.morphAttributes.position.length&&(Array.isArray(e.material)?e.material.forEach((function(n,r){t.setupMorphMaterial(e,n,r)})):t.setupMorphMaterial(e,e.material))}))},setupMorphMaterial:function(t,e,r){var i=t.uuid,o=e.uuid,a=!1;if(n.traverse((function(t){t.isMesh&&(Array.isArray(t.material)?t.material.forEach((function(e){e.uuid===o&&t.uuid!==i&&(a=!0)})):t.material.uuid===o&&t.uuid!==i&&(a=!0))})),!0===a){var s=e.clone();s.morphTargets=!0,void 0===r?t.material=s:t.material[r]=s}else e.morphTargets=!0}},a.prototype={constructor:a,parse:function(n){var r=new Map;if("Geometry"in t.Objects){var i=t.Objects.Geometry;for(var o in i){var a=e.get(parseInt(o)),s=this.parseGeometry(a,i[o],n);r.set(parseInt(o),s)}}return r},parseGeometry:function(t,e,n){switch(e.attrType){case"Mesh":return this.parseMeshGeometry(t,e,n);case"NurbsCurve":return this.parseNurbsGeometry(e)}},parseMeshGeometry:function(e,n,r){var i=r.skeletons,o=[],a=e.parents.map((function(e){return t.Objects.Model[e.ID]}));if(0!==a.length){var s=e.children.reduce((function(t,e){return void 0!==i[e.ID]&&(t=i[e.ID]),t}),null);e.children.forEach((function(t){void 0!==r.morphTargets[t.ID]&&o.push(r.morphTargets[t.ID])}));var c=a[0],l={};"RotationOrder"in c&&(l.eulerOrder=x(c.RotationOrder.value)),"InheritType"in c&&(l.inheritType=parseInt(c.InheritType.value)),"GeometricTranslation"in c&&(l.translation=c.GeometricTranslation.value),"GeometricRotation"in c&&(l.rotation=c.GeometricRotation.value),"GeometricScaling"in c&&(l.scale=c.GeometricScaling.value);var u=y(l);return this.genGeometry(n,s,o,u)}},genGeometry:function(t,e,n,i){var o=new r.BufferGeometry;t.attrName&&(o.name=t.attrName);var a=this.parseGeoNode(t,e),s=this.genBuffers(a),c=new r.Float32BufferAttribute(s.vertex,3);if(c.applyMatrix4(i),o.setAttribute("position",c),s.colors.length>0&&o.setAttribute("color",new r.Float32BufferAttribute(s.colors,3)),e&&(o.setAttribute("skinIndex",new r.Uint16BufferAttribute(s.weightsIndices,4)),o.setAttribute("skinWeight",new r.Float32BufferAttribute(s.vertexWeights,4)),o.FBX_Deformer=e),s.normal.length>0){var l=(new r.Matrix3).getNormalMatrix(i),u=new r.Float32BufferAttribute(s.normal,3);u.applyNormalMatrix(l),o.setAttribute("normal",u)}if(s.uvs.forEach((function(t,e){var n="uv"+(e+1).toString();0===e&&(n="uv"),o.setAttribute(n,new r.Float32BufferAttribute(s.uvs[e],2))})),a.material&&"AllSame"!==a.material.mappingType){var h=s.materialIndex[0],d=0;if(s.materialIndex.forEach((function(t,e){t!==h&&(o.addGroup(d,e-d,h),h=t,d=e)})),o.groups.length>0){var p=o.groups[o.groups.length-1],f=p.start+p.count;f!==s.materialIndex.length&&o.addGroup(f,s.materialIndex.length-f,h)}0===o.groups.length&&o.addGroup(0,s.materialIndex.length,s.materialIndex[0])}return this.addMorphTargets(o,t,n,i),o},parseGeoNode:function(t,e){var n={};if(n.vertexPositions=void 0!==t.Vertices?t.Vertices.a:[],n.vertexIndices=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(n.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(n.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(n.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){n.uv=[];for(var r=0;t.LayerElementUV[r];)t.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(t.LayerElementUV[r])),r++}return n.weightTable={},null!==e&&(n.skeleton=e,e.rawBones.forEach((function(t,e){t.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:e,weight:t.weights[i]})}))}))),n},genBuffers:function(t){var e={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,o=[],a=[],s=[],c=[],l=[],u=[],h=this;return t.vertexIndices.forEach((function(d,p){var f=!1;d<0&&(d^=-1,f=!0);var g=[],v=[];if(o.push(3*d,3*d+1,3*d+2),t.color){var y=m(p,n,d,t.color);s.push(y[0],y[1],y[2])}if(t.skeleton){if(void 0!==t.weightTable[d]&&t.weightTable[d].forEach((function(t){v.push(t.weight),g.push(t.id)})),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var x=[0,0,0,0],b=[0,0,0,0];v.forEach((function(t,e){var n=t,r=g[e];b.forEach((function(t,e,i){if(n>t){i[e]=n,n=t;var o=x[e];x[e]=r,r=o}}))})),g=x,v=b}for(;v.length<4;)v.push(0),g.push(0);for(var w=0;w<4;++w)l.push(v[w]),u.push(g[w])}if(t.normal){y=m(p,n,d,t.normal);a.push(y[0],y[1],y[2])}if(t.material&&"AllSame"!==t.material.mappingType)var _=m(p,n,d,t.material)[0];t.uv&&t.uv.forEach((function(t,e){var r=m(p,n,d,t);void 0===c[e]&&(c[e]=[]),c[e].push(r[0]),c[e].push(r[1])})),r++,f&&(h.genFace(e,t,o,_,a,s,c,l,u,r),n++,r=0,o=[],a=[],s=[],c=[],l=[],u=[])})),e},genFace:function(t,e,n,r,i,o,a,s,c,l){for(var u=2;u<l;u++)t.vertex.push(e.vertexPositions[n[0]]),t.vertex.push(e.vertexPositions[n[1]]),t.vertex.push(e.vertexPositions[n[2]]),t.vertex.push(e.vertexPositions[n[3*(u-1)]]),t.vertex.push(e.vertexPositions[n[3*(u-1)+1]]),t.vertex.push(e.vertexPositions[n[3*(u-1)+2]]),t.vertex.push(e.vertexPositions[n[3*u]]),t.vertex.push(e.vertexPositions[n[3*u+1]]),t.vertex.push(e.vertexPositions[n[3*u+2]]),e.skeleton&&(t.vertexWeights.push(s[0]),t.vertexWeights.push(s[1]),t.vertexWeights.push(s[2]),t.vertexWeights.push(s[3]),t.vertexWeights.push(s[4*(u-1)]),t.vertexWeights.push(s[4*(u-1)+1]),t.vertexWeights.push(s[4*(u-1)+2]),t.vertexWeights.push(s[4*(u-1)+3]),t.vertexWeights.push(s[4*u]),t.vertexWeights.push(s[4*u+1]),t.vertexWeights.push(s[4*u+2]),t.vertexWeights.push(s[4*u+3]),t.weightsIndices.push(c[0]),t.weightsIndices.push(c[1]),t.weightsIndices.push(c[2]),t.weightsIndices.push(c[3]),t.weightsIndices.push(c[4*(u-1)]),t.weightsIndices.push(c[4*(u-1)+1]),t.weightsIndices.push(c[4*(u-1)+2]),t.weightsIndices.push(c[4*(u-1)+3]),t.weightsIndices.push(c[4*u]),t.weightsIndices.push(c[4*u+1]),t.weightsIndices.push(c[4*u+2]),t.weightsIndices.push(c[4*u+3])),e.color&&(t.colors.push(o[0]),t.colors.push(o[1]),t.colors.push(o[2]),t.colors.push(o[3*(u-1)]),t.colors.push(o[3*(u-1)+1]),t.colors.push(o[3*(u-1)+2]),t.colors.push(o[3*u]),t.colors.push(o[3*u+1]),t.colors.push(o[3*u+2])),e.material&&"AllSame"!==e.material.mappingType&&(t.materialIndex.push(r),t.materialIndex.push(r),t.materialIndex.push(r)),e.normal&&(t.normal.push(i[0]),t.normal.push(i[1]),t.normal.push(i[2]),t.normal.push(i[3*(u-1)]),t.normal.push(i[3*(u-1)+1]),t.normal.push(i[3*(u-1)+2]),t.normal.push(i[3*u]),t.normal.push(i[3*u+1]),t.normal.push(i[3*u+2])),e.uv&&e.uv.forEach((function(e,n){void 0===t.uvs[n]&&(t.uvs[n]=[]),t.uvs[n].push(a[n][0]),t.uvs[n].push(a[n][1]),t.uvs[n].push(a[n][2*(u-1)]),t.uvs[n].push(a[n][2*(u-1)+1]),t.uvs[n].push(a[n][2*u]),t.uvs[n].push(a[n][2*u+1])}))},addMorphTargets:function(e,n,r,i){if(0!==r.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];var o=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var a=t.Objects.Geometry[r.geoID];void 0!==a&&o.genMorphGeometry(e,n,a,i,r.name)}))}))}},genMorphGeometry:function(t,e,n,i,o){for(var a=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],s=void 0!==n.Vertices?n.Vertices.a:[],c=void 0!==n.Indexes?n.Indexes.a:[],l=3*t.attributes.position.count,u=new Float32Array(l),h=0;h<c.length;h++){var d=3*c[h];u[d]=s[3*h],u[d+1]=s[3*h+1],u[d+2]=s[3*h+2]}var p={vertexIndices:a,vertexPositions:u},f=this.genBuffers(p),m=new r.Float32BufferAttribute(f.vertex,3);m.name=o||n.attrName,m.applyMatrix4(i),t.morphAttributes.position.push(m)},parseNormals:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in t?i=t.NormalIndex.a:"NormalsIndex"in t&&(i=t.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:e,referenceType:n}},parseUVs:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.UV.a,i=[];return"IndexToDirect"===n&&(i=t.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:e,referenceType:n}},parseVertexColors:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Colors.a,i=[];return"IndexToDirect"===n&&(i=t.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:e,referenceType:n}},parseMaterialIndices:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType;if("NoMappingInformation"===e)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=t.Materials.a,i=[],o=0;o<r.length;++o)i.push(o);return{dataSize:1,buffer:r,indices:i,mappingType:e,referenceType:n}},parseNurbsGeometry:function(t){if(void 0===k)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new r.BufferGeometry;var e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new r.BufferGeometry;for(var n,i,o=e-1,a=t.KnotVector.a,s=[],c=t.Points.a,l=0,u=c.length;l<u;l+=4)s.push((new r.Vector4).fromArray(c,l));if("Closed"===t.Form)s.push(s[0]);else if("Periodic"===t.Form){n=o,i=a.length-1-n;for(l=0;l<o;++l)s.push(s[l])}var h=new k(o,a,s,n,i).getPoints(7*s.length),d=new Float32Array(3*h.length);h.forEach((function(t,e){t.toArray(d,3*e)}));var p=new r.BufferGeometry;return p.setAttribute("position",new r.BufferAttribute(d,3)),p}},s.prototype={constructor:s,parse:function(){var t=[],e=this.parseClips();if(void 0!==e)for(var n in e){var r=e[n],i=this.addClip(r);t.push(i)}return t},parseClips:function(){if(void 0!==t.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var n=this.parseAnimationLayers(e);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var e=t.Objects.AnimationCurveNode,n=new Map;for(var r in e){var i=e[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var o={id:i.id,attr:i.attrName,curves:{}};n.set(o.id,o)}}return n},parseAnimationCurves:function(n){var r=t.Objects.AnimationCurve;for(var i in r){var o={id:r[i].id,times:r[i].KeyTime.a.map(p),values:r[i].KeyValueFloat.a},a=e.get(o.id);if(void 0!==a){var s=a.parents[0].ID,c=a.parents[0].relationship;c.match(/X/)?n.get(s).curves.x=o:c.match(/Y/)?n.get(s).curves.y=o:c.match(/Z/)?n.get(s).curves.z=o:c.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=o)}}},parseAnimationLayers:function(i){var o=t.Objects.AnimationLayer,a=new Map;for(var s in o){var c=[],l=e.get(parseInt(s));if(void 0!==l)l.children.forEach((function(o,a){if(i.has(o.ID)){var s=i.get(o.ID);if(void 0!==s.curves.x||void 0!==s.curves.y||void 0!==s.curves.z){if(void 0===c[a])if(void 0!==(f=e.get(o.ID).parents.filter((function(t){return void 0!==t.relationship}))[0].ID)){if(void 0===(u=t.Objects.Model[f.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",o);var l={modelName:u.attrName?r.PropertyBinding.sanitizeNodeName(u.attrName):"",ID:u.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(t){t.ID===u.id&&(l.transform=t.matrix,t.userData.transformData&&(l.eulerOrder=t.userData.transformData.eulerOrder))})),l.transform||(l.transform=new r.Matrix4),"PreRotation"in u&&(l.preRotation=u.PreRotation.value),"PostRotation"in u&&(l.postRotation=u.PostRotation.value),c[a]=l}c[a]&&(c[a][s.attr]=s)}else if(void 0!==s.curves.morph){if(void 0===c[a]){var u,h=e.get(o.ID).parents.filter((function(t){return void 0!==t.relationship}))[0].ID,d=e.get(h).parents[0].ID,p=e.get(d).parents[0].ID,f=e.get(p).parents[0].ID;l={modelName:(u=t.Objects.Model[f]).attrName?r.PropertyBinding.sanitizeNodeName(u.attrName):"",morphName:t.Objects.Deformer[h].attrName};c[a]=l}c[a][s.attr]=s}}})),a.set(parseInt(s),c)}return a},parseAnimStacks:function(n){var r=t.Objects.AnimationStack,i={};for(var o in r){var a=e.get(parseInt(o)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(a[0].ID);i[o]={name:r[o].attrName,layer:s}}return i},addClip:function(t){var e=[],n=this;return t.layer.forEach((function(t){e=e.concat(n.generateTracks(t))})),new r.AnimationClip(t.name,-1,e)},generateTracks:function(t){var e=[],n=new r.Vector3,i=new r.Quaternion,o=new r.Vector3;if(t.transform&&t.transform.decompose(n,i,o),n=n.toArray(),i=(new r.Euler).setFromQuaternion(i,t.eulerOrder).toArray(),o=o.toArray(),void 0!==t.T&&Object.keys(t.T.curves).length>0){var a=this.generateVectorTrack(t.modelName,t.T.curves,n,"position");void 0!==a&&e.push(a)}if(void 0!==t.R&&Object.keys(t.R.curves).length>0){var s=this.generateRotationTrack(t.modelName,t.R.curves,i,t.preRotation,t.postRotation,t.eulerOrder);void 0!==s&&e.push(s)}if(void 0!==t.S&&Object.keys(t.S.curves).length>0){var c=this.generateVectorTrack(t.modelName,t.S.curves,o,"scale");void 0!==c&&e.push(c)}if(void 0!==t.DeformPercent){var l=this.generateMorphTrack(t);void 0!==l&&e.push(l)}return e},generateVectorTrack:function(t,e,n,i){var o=this.getTimesForAllAxes(e),a=this.getKeyframeTrackValues(o,e,n);return new r.VectorKeyframeTrack(t+"."+i,o,a)},generateRotationTrack:function(t,e,n,i,o,a){void 0!==e.x&&(this.interpolateRotations(e.x),e.x.values=e.x.values.map(r.MathUtils.degToRad)),void 0!==e.y&&(this.interpolateRotations(e.y),e.y.values=e.y.values.map(r.MathUtils.degToRad)),void 0!==e.z&&(this.interpolateRotations(e.z),e.z.values=e.z.values.map(r.MathUtils.degToRad));var s=this.getTimesForAllAxes(e),c=this.getKeyframeTrackValues(s,e,n);void 0!==i&&((i=i.map(r.MathUtils.degToRad)).push(a),i=(new r.Euler).fromArray(i),i=(new r.Quaternion).setFromEuler(i)),void 0!==o&&((o=o.map(r.MathUtils.degToRad)).push(a),o=(new r.Euler).fromArray(o),o=(new r.Quaternion).setFromEuler(o).invert());for(var l=new r.Quaternion,u=new r.Euler,h=[],d=0;d<c.length;d+=3)u.set(c[d],c[d+1],c[d+2],a),l.setFromEuler(u),void 0!==i&&l.premultiply(i),void 0!==o&&l.multiply(o),l.toArray(h,d/3*4);return new r.QuaternionKeyframeTrack(t+".quaternion",s,h)},generateMorphTrack:function(t){var e=t.DeformPercent.curves.morph,i=e.values.map((function(t){return t/100})),o=n.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new r.NumberKeyframeTrack(t.modelName+".morphTargetInfluences["+o+"]",e.times,i)},getTimesForAllAxes:function(t){var e=[];return void 0!==t.x&&(e=e.concat(t.x.times)),void 0!==t.y&&(e=e.concat(t.y.times)),void 0!==t.z&&(e=e.concat(t.z.times)),e=e.sort((function(t,e){return t-e})).filter((function(t,e,n){return n.indexOf(t)==e}))},getKeyframeTrackValues:function(t,e,n){var r=n,i=[],o=-1,a=-1,s=-1;return t.forEach((function(t){if(e.x&&(o=e.x.times.indexOf(t)),e.y&&(a=e.y.times.indexOf(t)),e.z&&(s=e.z.times.indexOf(t)),-1!==o){var n=e.x.values[o];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==a){var c=e.y.values[a];i.push(c),r[1]=c}else i.push(r[1]);if(-1!==s){var l=e.z.values[s];i.push(l),r[2]=l}else i.push(r[2])})),i},interpolateRotations:function(t){for(var e=1;e<t.values.length;e++){var n=t.values[e-1],r=t.values[e]-n,i=Math.abs(r);if(i>=180){for(var o=i/180,a=r/o,s=n+a,c=t.times[e-1],l=(t.times[e]-c)/o,u=c+l,h=[],d=[];u<t.times[e];)h.push(u),u+=l,d.push(s),s+=a;t.times=_(t.times,e,h),t.values=_(t.values,e,d)}}}},c.prototype={constructor:c,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(t){this.nodeStack.push(t),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(t,e){this.currentProp=t,this.currentPropName=e},parse:function(t){this.currentIndent=0,this.allNodes=new h,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var e=this,n=t.split(/[\r\n]+/);return n.forEach((function(t,r){var i=t.match(/^[\s\t]*;/),o=t.match(/^[\s\t]*$/);if(!i&&!o){var a=t.match("^\\t{"+e.currentIndent+"}(\\w+):(.*){",""),s=t.match("^\\t{"+e.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=t.match("^\\t{"+(e.currentIndent-1)+"}}");a?e.parseNodeBegin(t,a):s?e.parseNodeProperty(t,s,n[++r]):c?e.popStack():t.match(/^[^\s\t}]/)&&e.parseNodePropertyContinued(t)}})),this.allNodes},parseNodeBegin:function(t,e){var n=e[1].trim().replace(/^"/,"").replace(/"$/,""),r=e[2].split(",").map((function(t){return t.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},o=this.parseNodeAttr(r),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in a?("PoseNode"===n?a.PoseNode.push(i):void 0!==a[n].id&&(a[n]={},a[n][a[n].id]=a[n]),""!==o.id&&(a[n][o.id]=i)):"number"==typeof o.id?(a[n]={},a[n][o.id]=i):"Properties70"!==n&&(a[n]="PoseNode"===n?[i]:i),"number"==typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)},parseNodeAttr:function(t){var e=t[0];""!==t[0]&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));var n="",r="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),r=t[2]),{id:e,name:n,type:r}},parseNodeProperty:function(t,e,n){var r=e[1].replace(/^"/,"").replace(/"$/,"").trim(),i=e[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===r){var a=i.split(",").slice(1),s=parseInt(a[0]),c=parseInt(a[1]),l=i.split(",").slice(3);r="connections",function(t,e){for(var n=0,r=t.length,i=e.length;n<i;n++,r++)t[r]=e[n]}(i=[s,c],l=l.map((function(t){return t.trim().replace(/^"/,"")}))),void 0===o[r]&&(o[r]=[])}"Node"===r&&(o.id=i),r in o&&Array.isArray(o[r])?o[r].push(i):"a"!==r?o[r]=i:o.a=i,this.setCurrentProp(o,r),"a"===r&&","!==i.slice(-1)&&(o.a=b(i))}else this.parseNodeSpecialProperty(t,r,i)},parseNodePropertyContinued:function(t){var e=this.getCurrentNode();e.a+=t,","!==t.slice(-1)&&(e.a=b(e.a))},parseNodeSpecialProperty:function(t,e,n){var r=n.split('",').map((function(t){return t.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],o=r[1],a=r[2],s=r[3],c=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=b(c)}this.getPrevNode()[i]={type:o,type2:a,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),i)}},l.prototype={constructor:l,parse:function(t){var e=new u(t);e.skip(23);var n=e.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new h;!this.endOfContent(e);){var i=this.parseNode(e,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(t){return t.size()%16==0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()},parseNode:function(t,e){var n={},r=e>=7500?t.getUint64():t.getUint32(),i=e>=7500?t.getUint64():t.getUint32();e>=7500?t.getUint64():t.getUint32();var o=t.getUint8(),a=t.getString(o);if(0===r)return null;for(var s=[],c=0;c<i;c++)s.push(this.parseProperty(t));var l=s.length>0?s[0]:"",u=s.length>1?s[1]:"",h=s.length>2?s[2]:"";for(n.singleProperty=1===i&&t.getOffset()===r;r>t.getOffset();){var d=this.parseNode(t,e);null!==d&&this.parseSubNode(a,n,d)}return n.propertyList=s,"number"==typeof l&&(n.id=l),""!==u&&(n.attrName=u),""!==h&&(n.attrType=h),""!==a&&(n.name=a),n},parseSubNode:function(t,e,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(e[n.name]=n,n.a=r):e[n.name]=r}else if("Connections"===t&&"C"===n.name){var i=[];n.propertyList.forEach((function(t,e){0!==e&&i.push(t)})),void 0===e.connections&&(e.connections=[]),e.connections.push(i)}else if("Properties70"===n.name){Object.keys(n).forEach((function(t){e[t]=n[t]}))}else if("Properties70"===t&&"P"===n.name){var o,a=n.propertyList[0],s=n.propertyList[1],c=n.propertyList[2],l=n.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),o="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],e[a]={type:s,type2:c,flag:l,value:o}}else void 0===e[n.name]?"number"==typeof n.id?(e[n.name]={},e[n.name][n.id]=n):e[n.name]=n:"PoseNode"===n.name?(Array.isArray(e[n.name])||(e[n.name]=[e[n.name]]),e[n.name].push(n)):void 0===e[n.name][n.id]&&(e[n.name][n.id]=n)},parseProperty:function(t){var e=t.getString(1);switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":var n=t.getUint32();return t.getArrayBuffer(n);case"S":n=t.getUint32();return t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=t.getUint32(),i=t.getUint32(),o=t.getUint32();if(0===i)switch(e){case"b":case"c":return t.getBooleanArray(r);case"d":return t.getFloat64Array(r);case"f":return t.getFloat32Array(r);case"i":return t.getInt32Array(r);case"l":return t.getInt64Array(r)}void 0===G&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new u(new G(new Uint8Array(t.getArrayBuffer(o))).decompress().buffer);switch(e){case"b":case"c":return a.getBooleanArray(r);case"d":return a.getFloat64Array(r);case"f":return a.getFloat32Array(r);case"i":return a.getInt32Array(r);case"l":return a.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}},u.prototype={constructor:u,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(t){this.offset+=t},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getBoolean());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getInt64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),2147483648&e?(e=4294967295&~e,4294967295===(t=4294967295&~t)&&(e=e+1&4294967295),-(4294967296*e+(t=t+1&4294967295))):4294967296*e+t},getInt64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt64());return e},getUint64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),4294967296*e+t},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getArrayBuffer:function(t){var e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},getString:function(t){for(var e=[],n=0;n<t;n++)e[n]=this.getUint8();var i=e.indexOf(0);return i>=0&&(e=e.slice(0,i)),r.LoaderUtils.decodeText(new Uint8Array(e))}},h.prototype={constructor:h,add:function(t,e){this[t]=e}};var f=[];function m(t,e,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=t;break;case"ByPolygon":i=e;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var o=i*r.dataSize,a=o+r.dataSize;return function(t,e,n,r){for(var i=n,o=0;i<r;i++,o++)t[o]=e[i];return t}(f,r.buffer,o,a)}var g=new r.Euler,v=new r.Vector3;function y(t){var e,n=new r.Matrix4,i=new r.Matrix4,o=new r.Matrix4,a=new r.Matrix4,s=new r.Matrix4,c=new r.Matrix4,l=new r.Matrix4,u=new r.Matrix4,h=new r.Matrix4,d=new r.Matrix4,p=new r.Matrix4,f=t.inheritType?t.inheritType:0;(t.translation&&n.setPosition(v.fromArray(t.translation)),t.preRotation)&&((e=t.preRotation.map(r.MathUtils.degToRad)).push(t.eulerOrder),i.makeRotationFromEuler(g.fromArray(e)));t.rotation&&((e=t.rotation.map(r.MathUtils.degToRad)).push(t.eulerOrder),o.makeRotationFromEuler(g.fromArray(e)));t.postRotation&&((e=t.postRotation.map(r.MathUtils.degToRad)).push(t.eulerOrder),a.makeRotationFromEuler(g.fromArray(e)));t.scale&&s.scale(v.fromArray(t.scale)),t.scalingOffset&&l.setPosition(v.fromArray(t.scalingOffset)),t.scalingPivot&&c.setPosition(v.fromArray(t.scalingPivot)),t.rotationOffset&&u.setPosition(v.fromArray(t.rotationOffset)),t.rotationPivot&&h.setPosition(v.fromArray(t.rotationPivot)),t.parentMatrixWorld&&(d=t.parentMatrixWorld);var m=i.multiply(o).multiply(a),y=new r.Matrix4;d.extractRotation(y),(new r.Matrix4).copyPosition(d);var x=new r.Matrix4;x.copy(y).invert().multiply(d);var b=new r.Matrix4;if(0===f)b.copy(y).multiply(m).multiply(x).multiply(s);else if(1===f)b.copy(y).multiply(x).multiply(m).multiply(s);else{var w=new r.Matrix4;w.copy(s).invert();var _=(new r.Matrix4).multiply(x).multiply(w);b.copy(y).multiply(m).multiply(_).multiply(s)}var M=new r.Matrix4;M.copy(h).invert();var S=new r.Matrix4;S.copy(c).invert();var T=new r.Matrix4;T.copy(n).multiply(u).multiply(h).multiply(i).multiply(o).multiply(a).multiply(M).multiply(l).multiply(c).multiply(s).multiply(S);var E=(new r.Matrix4).copyPosition(T),A=(new r.Matrix4).copy(d).multiply(E);return p.copyPosition(A),T=(new r.Matrix4).multiply(p).multiply(b)}function x(t){var e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(t=t||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function b(t){return t.split(",").map((function(t){return parseFloat(t)}))}function w(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),r.LoaderUtils.decodeText(new Uint8Array(t,e,n))}function _(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}return i}()},function(t,e,n){"use strict";n.r(e),n.d(e,"Water",(function(){return a}));var r=n(0),i=function(t,e){r.Mesh.call(this,t),this.type="Reflector";var n=this,o=void 0!==(e=e||{}).color?new r.Color(e.color):new r.Color(8355711),a=e.textureWidth||512,s=e.textureHeight||512,c=e.clipBias||0,l=e.shader||i.ReflectorShader,u=new r.Plane,h=new r.Vector3,d=new r.Vector3,p=new r.Vector3,f=new r.Matrix4,m=new r.Vector3(0,0,-1),g=new r.Vector4,v=new r.Vector3,y=new r.Vector3,x=new r.Vector4,b=new r.Matrix4,w=new r.PerspectiveCamera,_={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBFormat},M=new r.WebGLRenderTarget(a,s,_);r.MathUtils.isPowerOfTwo(a)&&r.MathUtils.isPowerOfTwo(s)||(M.texture.generateMipmaps=!1);var S=new r.ShaderMaterial({uniforms:r.UniformsUtils.clone(l.uniforms),fragmentShader:l.fragmentShader,vertexShader:l.vertexShader});S.uniforms.tDiffuse.value=M.texture,S.uniforms.color.value=o,S.uniforms.textureMatrix.value=b,this.material=S,this.onBeforeRender=function(t,e,r){if(d.setFromMatrixPosition(n.matrixWorld),p.setFromMatrixPosition(r.matrixWorld),f.extractRotation(n.matrixWorld),h.set(0,0,1),h.applyMatrix4(f),v.subVectors(d,p),!(v.dot(h)>0)){v.reflect(h).negate(),v.add(d),f.extractRotation(r.matrixWorld),m.set(0,0,-1),m.applyMatrix4(f),m.add(p),y.subVectors(d,m),y.reflect(h).negate(),y.add(d),w.position.copy(v),w.up.set(0,1,0),w.up.applyMatrix4(f),w.up.reflect(h),w.lookAt(y),w.far=r.far,w.updateMatrixWorld(),w.projectionMatrix.copy(r.projectionMatrix),b.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),b.multiply(w.projectionMatrix),b.multiply(w.matrixWorldInverse),b.multiply(n.matrixWorld),u.setFromNormalAndCoplanarPoint(h,d),u.applyMatrix4(w.matrixWorldInverse),g.set(u.normal.x,u.normal.y,u.normal.z,u.constant);var i=w.projectionMatrix;x.x=(Math.sign(g.x)+i.elements[8])/i.elements[0],x.y=(Math.sign(g.y)+i.elements[9])/i.elements[5],x.z=-1,x.w=(1+i.elements[10])/i.elements[14],g.multiplyScalar(2/g.dot(x)),i.elements[2]=g.x,i.elements[6]=g.y,i.elements[10]=g.z+1-c,i.elements[14]=g.w,M.texture.encoding=t.outputEncoding,n.visible=!1;var o=t.getRenderTarget(),a=t.xr.enabled,s=t.shadowMap.autoUpdate;t.xr.enabled=!1,t.shadowMap.autoUpdate=!1,t.setRenderTarget(M),t.state.buffers.depth.setMask(!0),!1===t.autoClear&&t.clear(),t.render(e,w),t.xr.enabled=a,t.shadowMap.autoUpdate=s,t.setRenderTarget(o);var l=r.viewport;void 0!==l&&t.state.viewport(l),n.visible=!0}},this.getRenderTarget=function(){return M}};i.prototype=Object.create(r.Mesh.prototype),i.prototype.constructor=i,i.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};var o=function(t,e){r.Mesh.call(this,t),this.type="Refractor";var n=this,i=void 0!==(e=e||{}).color?new r.Color(e.color):new r.Color(8355711),a=e.textureWidth||512,s=e.textureHeight||512,c=e.clipBias||0,l=e.shader||o.RefractorShader,u=new r.PerspectiveCamera;u.matrixAutoUpdate=!1,u.userData.refractor=!0;var h=new r.Plane,d=new r.Matrix4,p={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBFormat},f=new r.WebGLRenderTarget(a,s,p);r.MathUtils.isPowerOfTwo(a)&&r.MathUtils.isPowerOfTwo(s)||(f.texture.generateMipmaps=!1),this.material=new r.ShaderMaterial({uniforms:r.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,transparent:!0}),this.material.uniforms.color.value=i,this.material.uniforms.tDiffuse.value=f.texture,this.material.uniforms.textureMatrix.value=d;var m,g,v,y,x,b,w,_,M=(m=new r.Vector3,g=new r.Vector3,v=new r.Matrix4,y=new r.Vector3,x=new r.Vector3,function(t){return m.setFromMatrixPosition(n.matrixWorld),g.setFromMatrixPosition(t.matrixWorld),y.subVectors(m,g),v.extractRotation(n.matrixWorld),x.set(0,0,1),x.applyMatrix4(v),y.dot(x)<0}),S=function(){var t=new r.Vector3,e=new r.Vector3,i=new r.Quaternion,o=new r.Vector3;return function(){n.matrixWorld.decompose(e,i,o),t.set(0,0,1).applyQuaternion(i).normalize(),t.negate(),h.setFromNormalAndCoplanarPoint(t,e)}}(),T=(b=new r.Plane,w=new r.Vector4,_=new r.Vector4,function(t){u.matrixWorld.copy(t.matrixWorld),u.matrixWorldInverse.copy(u.matrixWorld).invert(),u.projectionMatrix.copy(t.projectionMatrix),u.far=t.far,b.copy(h),b.applyMatrix4(u.matrixWorldInverse),w.set(b.normal.x,b.normal.y,b.normal.z,b.constant);var e=u.projectionMatrix;_.x=(Math.sign(w.x)+e.elements[8])/e.elements[0],_.y=(Math.sign(w.y)+e.elements[9])/e.elements[5],_.z=-1,_.w=(1+e.elements[10])/e.elements[14],w.multiplyScalar(2/w.dot(_)),e.elements[2]=w.x,e.elements[6]=w.y,e.elements[10]=w.z+1-c,e.elements[14]=w.w});this.onBeforeRender=function(t,e,r){f.texture.encoding=t.outputEncoding,!0!==r.userData.refractor&&!0!=!M(r)&&(S(),function(t){d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(t.projectionMatrix),d.multiply(t.matrixWorldInverse),d.multiply(n.matrixWorld)}(r),T(r),function(t,e,r){n.visible=!1;var i=t.getRenderTarget(),o=t.xr.enabled,a=t.shadowMap.autoUpdate;t.xr.enabled=!1,t.shadowMap.autoUpdate=!1,t.setRenderTarget(f),!1===t.autoClear&&t.clear(),t.render(e,u),t.xr.enabled=o,t.shadowMap.autoUpdate=a,t.setRenderTarget(i);var s=r.viewport;void 0!==s&&t.state.viewport(s),n.visible=!0}(t,e,r))},this.getRenderTarget=function(){return f}};o.prototype=Object.create(r.Mesh.prototype),o.prototype.constructor=o,o.RefractorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};var a=function(t,e){r.Mesh.call(this,t),this.type="Water";var n=this,s=void 0!==(e=e||{}).color?new r.Color(e.color):new r.Color(16777215),c=e.textureWidth||512,l=e.textureHeight||512,u=e.clipBias||0,h=e.flowDirection||new r.Vector2(1,0),d=e.flowSpeed||.03,p=e.reflectivity||.02,f=e.scale||1,m=e.shader||a.WaterShader,g=void 0!==e.encoding?e.encoding:r.LinearEncoding,v=new r.TextureLoader,y=e.flowMap||void 0,x=e.normalMap0||v.load("textures/water/Water_1_M_Normal.jpg"),b=e.normalMap1||v.load("textures/water/Water_2_M_Normal.jpg"),w=new r.Matrix4,_=new r.Clock;if(void 0!==i)if(void 0!==o){var M=new i(t,{textureWidth:c,textureHeight:l,clipBias:u,encoding:g}),S=new o(t,{textureWidth:c,textureHeight:l,clipBias:u,encoding:g});M.matrixAutoUpdate=!1,S.matrixAutoUpdate=!1,this.material=new r.ShaderMaterial({uniforms:r.UniformsUtils.merge([r.UniformsLib.fog,m.uniforms]),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,transparent:!0,fog:!0}),void 0!==y?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:y}):this.material.uniforms.flowDirection={type:"v2",value:h},x.wrapS=x.wrapT=r.RepeatWrapping,b.wrapS=b.wrapT=r.RepeatWrapping,this.material.uniforms.tReflectionMap.value=M.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=S.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=x,this.material.uniforms.tNormalMap1.value=b,this.material.uniforms.color.value=s,this.material.uniforms.reflectivity.value=p,this.material.uniforms.textureMatrix.value=w,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=.075,this.material.uniforms.config.value.z=.075,this.material.uniforms.config.value.w=f,this.onBeforeRender=function(t,e,r){var i,o;!function(t){w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(t.projectionMatrix),w.multiply(t.matrixWorldInverse),w.multiply(n.matrixWorld)}(r),i=_.getDelta(),(o=n.material.uniforms.config).value.x+=d*i,o.value.y=o.value.x+.075,o.value.x>=.15?(o.value.x=0,o.value.y=.075):o.value.y>=.15&&(o.value.y=o.value.y-.15),n.visible=!1,M.matrixWorld.copy(n.matrixWorld),S.matrixWorld.copy(n.matrixWorld),M.onBeforeRender(t,e,r),S.onBeforeRender(t,e,r),n.visible=!0}}else console.error("THREE.Water: Required component Refractor not found.");else console.error("THREE.Water: Required component Reflector not found.")};a.prototype=Object.create(r.Mesh.prototype),a.prototype.constructor=a,a.WaterShader={uniforms:{color:{type:"c",value:null},reflectivity:{type:"f",value:0},tReflectionMap:{type:"t",value:null},tRefractionMap:{type:"t",value:null},tNormalMap0:{type:"t",value:null},tNormalMap1:{type:"t",value:null},textureMatrix:{type:"m4",value:null},config:{type:"v4",value:new r.Vector4}},vertexShader:["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","uniform mat4 textureMatrix;","varying vec4 vCoord;","varying vec2 vUv;","varying vec3 vToEye;","void main() {","\tvUv = uv;","\tvCoord = textureMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvToEye = cameraPosition - worldPosition.xyz;","\tvec4 mvPosition =  viewMatrix * worldPosition;","\tgl_Position = projectionMatrix * mvPosition;","\t#include <logdepthbuf_vertex>","\t#include <fog_vertex>","}"].join("\n"),fragmentShader:["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform sampler2D tReflectionMap;","uniform sampler2D tRefractionMap;","uniform sampler2D tNormalMap0;","uniform sampler2D tNormalMap1;","#ifdef USE_FLOWMAP","\tuniform sampler2D tFlowMap;","#else","\tuniform vec2 flowDirection;","#endif","uniform vec3 color;","uniform float reflectivity;","uniform vec4 config;","varying vec4 vCoord;","varying vec2 vUv;","varying vec3 vToEye;","void main() {","\t#include <logdepthbuf_fragment>","\tfloat flowMapOffset0 = config.x;","\tfloat flowMapOffset1 = config.y;","\tfloat halfCycle = config.z;","\tfloat scale = config.w;","\tvec3 toEye = normalize( vToEye );","\tvec2 flow;","\t#ifdef USE_FLOWMAP","\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;","\t#else","\t\tflow = flowDirection;","\t#endif","\tflow.x *= - 1.0;","\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );","\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );","\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;","\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );","\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );","\tfloat theta = max( dot( toEye, normal ), 0.0 );","\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 coord = vCoord.xyz / vCoord.w;","\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;","\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );","\tvec4 refractColor = texture2D( tRefractionMap, uv );","\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );","\t#include <tonemapping_fragment>","\t#include <encodings_fragment>","\t#include <fog_fragment>","}"].join("\n")}},function(t,e,n){"use strict";n.r(e),n.d(e,"EffectComposer",(function(){return l})),n.d(e,"Pass",(function(){return p}));var r=n(0),i={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},o=n(2),a=n(1),s=function(t,e){a.a.call(this),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1};s.prototype=Object.assign(Object.create(a.a.prototype),{constructor:s,render:function(t,e,n){var r,i,o=t.getContext(),a=t.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),a.buffers.stencil.setClear(i),a.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(o.EQUAL,1,4294967295),a.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.buffers.stencil.setLocked(!0)}});var c=function(){a.a.call(this),this.needsSwap=!1};c.prototype=Object.create(a.a.prototype),Object.assign(c.prototype,{render:function(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}});var l=function(t,e){if(this.renderer=t,void 0===e){var n={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBAFormat},a=t.getSize(new r.Vector2);this._pixelRatio=t.getPixelRatio(),this._width=a.width,this._height=a.height,(e=new r.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===i&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===o.ShaderPass&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new o.ShaderPass(i),this.clock=new r.Clock};Object.assign(l.prototype,{swapBuffers:function(){var t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t},addPass:function(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},removePass:function(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)},isLastEnabledPass:function(t){for(var e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0},render:function(t){void 0===t&&(t=this.clock.getDelta());var e,n,r=this.renderer.getRenderTarget(),i=!1,o=this.passes.length;for(n=0;n<o;n++)if(!1!==(e=this.passes[n]).enabled){if(e.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),e.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),e.needsSwap){if(i){var a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==s&&(e instanceof s?i=!0:e instanceof c&&(i=!1))}this.renderer.setRenderTarget(r)},reset:function(t){if(void 0===t){var e=this.renderer.getSize(new r.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(t,e){this._width=t,this._height=e;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)},setPixelRatio:function(t){this._pixelRatio=t,this.setSize(this._width,this._height)}});var u,h,d,p=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(p.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),p.FullScreenQuad=(u=new r.OrthographicCamera(-1,1,1,-1,0,1),h=new r.PlaneBufferGeometry(2,2),d=function(t){this._mesh=new r.Mesh(h,t)},Object.defineProperty(d.prototype,"material",{get:function(){return this._mesh.material},set:function(t){this._mesh.material=t}}),Object.assign(d.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,u)}}),d)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConvexGeometry",(function(){return o})),n.d(e,"ConvexBufferGeometry",(function(){return a}));var r=n(0),i=function(){var t,e,n,i,o=new r.Vector3;function a(){this.tolerance=-1,this.faces=[],this.newFaces=[],this.assigned=new u,this.unassigned=new u,this.vertices=[]}function s(){this.normal=new r.Vector3,this.midpoint=new r.Vector3,this.area=0,this.constant=0,this.outside=null,this.mark=0,this.edge=null}function c(t,e){this.vertex=t,this.prev=null,this.next=null,this.twin=null,this.face=e}function l(t){this.point=t,this.prev=null,this.next=null,this.face=null}function u(){this.head=null,this.tail=null}return Object.assign(a.prototype,{setFromPoints:function(t){!0!==Array.isArray(t)&&console.error("THREE.ConvexHull: Points parameter is not an array."),t.length<4&&console.error("THREE.ConvexHull: The algorithm needs at least four points."),this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.vertices.push(new l(t[e]));return this.compute(),this},setFromObject:function(t){var e=[];return t.updateMatrixWorld(!0),t.traverse((function(t){var n,i,o,a=t.geometry;if(void 0!==a)if(a.isGeometry){var s=a.vertices;for(n=0,i=s.length;n<i;n++)(o=s[n].clone()).applyMatrix4(t.matrixWorld),e.push(o)}else if(a.isBufferGeometry){var c=a.attributes.position;if(void 0!==c)for(n=0,i=c.count;n<i;n++)(o=new r.Vector3).fromBufferAttribute(c,n).applyMatrix4(t.matrixWorld),e.push(o)}})),this.setFromPoints(e)},containsPoint:function(t){for(var e=this.faces,n=0,r=e.length;n<r;n++){if(e[n].distanceToPoint(t)>this.tolerance)return!1}return!0},intersectRay:function(t,e){for(var n=this.faces,r=-1/0,i=1/0,o=0,a=n.length;o<a;o++){var s=n[o],c=s.distanceToPoint(t.origin),l=s.normal.dot(t.direction);if(c>0&&l>=0)return null;var u=0!==l?-c/l:0;if(!(u<=0)&&(l>0?i=Math.min(u,i):r=Math.max(u,r),r>i))return null}return r!==-1/0?t.at(r,e):t.at(i,e),e},intersectsRay:function(t){return null!==this.intersectRay(t,o)},makeEmpty:function(){return this.faces=[],this.vertices=[],this},addVertexToFace:function(t,e){return t.face=e,null===e.outside?this.assigned.append(t):this.assigned.insertBefore(e.outside,t),e.outside=t,this},removeVertexFromFace:function(t,e){return t===e.outside&&(null!==t.next&&t.next.face===e?e.outside=t.next:e.outside=null),this.assigned.remove(t),this},removeAllVerticesFromFace:function(t){if(null!==t.outside){for(var e=t.outside,n=t.outside;null!==n.next&&n.next.face===t;)n=n.next;return this.assigned.removeSubList(e,n),e.prev=n.next=null,t.outside=null,e}},deleteFaceVertices:function(t,e){var n=this.removeAllVerticesFromFace(t);if(void 0!==n)if(void 0===e)this.unassigned.appendChain(n);else{var r=n;do{var i=r.next;e.distanceToPoint(r.point)>this.tolerance?this.addVertexToFace(r,e):this.unassigned.append(r),r=i}while(null!==r)}return this},resolveUnassignedPoints:function(t){if(!1===this.unassigned.isEmpty()){var e=this.unassigned.first();do{for(var n=e.next,r=this.tolerance,i=null,o=0;o<t.length;o++){var a=t[o];if(0===a.mark){var s=a.distanceToPoint(e.point);if(s>r&&(r=s,i=a),r>1e3*this.tolerance)break}}null!==i&&this.addVertexToFace(e,i),e=n}while(null!==e)}return this},computeExtremes:function(){var t,e,n,i=new r.Vector3,o=new r.Vector3,a=[],s=[];for(t=0;t<3;t++)a[t]=s[t]=this.vertices[0];for(i.copy(this.vertices[0].point),o.copy(this.vertices[0].point),t=0,e=this.vertices.length;t<e;t++){var c=this.vertices[t],l=c.point;for(n=0;n<3;n++)l.getComponent(n)<i.getComponent(n)&&(i.setComponent(n,l.getComponent(n)),a[n]=c);for(n=0;n<3;n++)l.getComponent(n)>o.getComponent(n)&&(o.setComponent(n,l.getComponent(n)),s[n]=c)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(i.x),Math.abs(o.x))+Math.max(Math.abs(i.y),Math.abs(o.y))+Math.max(Math.abs(i.z),Math.abs(o.z))),{min:a,max:s}},computeInitialHull:function(){void 0===t&&(t=new r.Line3,e=new r.Plane,n=new r.Vector3);var i,o,a,c,l,u,h,d,p,f=this.vertices,m=this.computeExtremes(),g=m.min,v=m.max,y=0,x=0;for(u=0;u<3;u++)(p=v[u].point.getComponent(u)-g[u].point.getComponent(u))>y&&(y=p,x=u);for(o=g[x],a=v[x],y=0,t.set(o.point,a.point),u=0,h=this.vertices.length;u<h;u++)(i=f[u])!==o&&i!==a&&(t.closestPointToPoint(i.point,!0,n),(p=n.distanceToSquared(i.point))>y&&(y=p,c=i));for(y=-1,e.setFromCoplanarPoints(o.point,a.point,c.point),u=0,h=this.vertices.length;u<h;u++)(i=f[u])!==o&&i!==a&&i!==c&&(p=Math.abs(e.distanceToPoint(i.point)))>y&&(y=p,l=i);var b=[];if(e.distanceToPoint(l.point)<0)for(b.push(s.create(o,a,c),s.create(l,a,o),s.create(l,c,a),s.create(l,o,c)),u=0;u<3;u++)d=(u+1)%3,b[u+1].getEdge(2).setTwin(b[0].getEdge(d)),b[u+1].getEdge(1).setTwin(b[d+1].getEdge(0));else for(b.push(s.create(o,c,a),s.create(l,o,a),s.create(l,a,c),s.create(l,c,o)),u=0;u<3;u++)d=(u+1)%3,b[u+1].getEdge(2).setTwin(b[0].getEdge((3-u)%3)),b[u+1].getEdge(0).setTwin(b[d+1].getEdge(1));for(u=0;u<4;u++)this.faces.push(b[u]);for(u=0,h=f.length;u<h;u++)if((i=f[u])!==o&&i!==a&&i!==c&&i!==l){y=this.tolerance;var w=null;for(d=0;d<4;d++)(p=this.faces[d].distanceToPoint(i.point))>y&&(y=p,w=this.faces[d]);null!==w&&this.addVertexToFace(i,w)}return this},reindexFaces:function(){for(var t=[],e=0;e<this.faces.length;e++){var n=this.faces[e];0===n.mark&&t.push(n)}return this.faces=t,this},nextVertexToAdd:function(){if(!1===this.assigned.isEmpty()){var t,e=0,n=this.assigned.first().face,r=n.outside;do{var i=n.distanceToPoint(r.point);i>e&&(e=i,t=r),r=r.next}while(null!==r&&r.face===n);return t}},computeHorizon:function(t,e,n,r){var i;this.deleteFaceVertices(n),n.mark=1,i=null===e?e=n.getEdge(0):e.next;do{var o=i.twin,a=o.face;0===a.mark&&(a.distanceToPoint(t)>this.tolerance?this.computeHorizon(t,o,a,r):r.push(i)),i=i.next}while(i!==e);return this},addAdjoiningFace:function(t,e){var n=s.create(t,e.tail(),e.head());return this.faces.push(n),n.getEdge(-1).setTwin(e.twin),n.getEdge(0)},addNewFaces:function(t,e){this.newFaces=[];for(var n=null,r=null,i=0;i<e.length;i++){var o=e[i],a=this.addAdjoiningFace(t,o);null===n?n=a:a.next.setTwin(r),this.newFaces.push(a.face),r=a}return n.next.setTwin(r),this},addVertexToHull:function(t){var e=[];return this.unassigned.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,e),this.addNewFaces(t,e),this.resolveUnassignedPoints(this.newFaces),this},cleanup:function(){return this.assigned.clear(),this.unassigned.clear(),this.newFaces=[],this},compute:function(){var t;for(this.computeInitialHull();void 0!==(t=this.nextVertexToAdd());)this.addVertexToHull(t);return this.reindexFaces(),this.cleanup(),this}}),Object.assign(s,{create:function(t,e,n){var r=new s,i=new c(t,r),o=new c(e,r),a=new c(n,r);return i.next=a.prev=o,o.next=i.prev=a,a.next=o.prev=i,r.edge=i,r.compute()}}),Object.assign(s.prototype,{getEdge:function(t){for(var e=this.edge;t>0;)e=e.next,t--;for(;t<0;)e=e.prev,t++;return e},compute:function(){void 0===i&&(i=new r.Triangle);var t=this.edge.tail(),e=this.edge.head(),n=this.edge.next.head();return i.set(t.point,e.point,n.point),i.getNormal(this.normal),i.getMidpoint(this.midpoint),this.area=i.getArea(),this.constant=this.normal.dot(this.midpoint),this},distanceToPoint:function(t){return this.normal.dot(t)-this.constant}}),Object.assign(c.prototype,{head:function(){return this.vertex},tail:function(){return this.prev?this.prev.vertex:null},length:function(){var t=this.head(),e=this.tail();return null!==e?e.point.distanceTo(t.point):-1},lengthSquared:function(){var t=this.head(),e=this.tail();return null!==e?e.point.distanceToSquared(t.point):-1},setTwin:function(t){return this.twin=t,t.twin=this,this}}),Object.assign(u.prototype,{first:function(){return this.head},last:function(){return this.tail},clear:function(){return this.head=this.tail=null,this},insertBefore:function(t,e){return e.prev=t.prev,e.next=t,null===e.prev?this.head=e:e.prev.next=e,t.prev=e,this},insertAfter:function(t,e){return e.prev=t,e.next=t.next,null===e.next?this.tail=e:e.next.prev=e,t.next=e,this},append:function(t){return null===this.head?this.head=t:this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t,this},appendChain:function(t){for(null===this.head?this.head=t:this.tail.next=t,t.prev=this.tail;null!==t.next;)t=t.next;return this.tail=t,this},remove:function(t){return null===t.prev?this.head=t.next:t.prev.next=t.next,null===t.next?this.tail=t.prev:t.next.prev=t.prev,this},removeSubList:function(t,e){return null===t.prev?this.head=e.next:t.prev.next=e.next,null===e.next?this.tail=t.prev:e.next.prev=t.prev,this},isEmpty:function(){return null===this.head}}),a}(),o=function(t){r.Geometry.call(this),this.fromBufferGeometry(new a(t)),this.mergeVertices()};o.prototype=Object.create(r.Geometry.prototype),o.prototype.constructor=o;var a=function(t){r.BufferGeometry.call(this);var e=[],n=[];void 0===i&&console.error("THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on ConvexHull");for(var o=(new i).setFromPoints(t).faces,a=0;a<o.length;a++){var s=o[a],c=s.edge;do{var l=c.head().point;e.push(l.x,l.y,l.z),n.push(s.normal.x,s.normal.y,s.normal.z),c=c.next}while(c!==s.edge)}this.setAttribute("position",new r.Float32BufferAttribute(e,3)),this.setAttribute("normal",new r.Float32BufferAttribute(n,3))};a.prototype=Object.create(r.BufferGeometry.prototype),a.prototype.constructor=a},function(t,e,n){"use strict";n.r(e),n.d(e,"XRControllerModelFactory",(function(){return f}));var r=n(0),i=n(3);const o={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function a(t){const e=await fetch(t);if(e.ok)return e.json();throw new Error(e.statusText)}async function s(t,e,n=null,r=!0){if(!t)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const i=await async function(t){if(!t)throw new Error("No basePath supplied");return await a(t+"/profilesList.json")}(e);let o;if(t.profiles.some(t=>{const n=i[t];return n&&(o={profileId:t,profilePath:`${e}/${n.path}`,deprecated:!!n.deprecated}),!!o}),!o){if(!n)throw new Error("No matching profile name found");const t=i[n];if(!t)throw new Error(`No matching profile name found and default profile "${n}" missing.`);o={profileId:n,profilePath:`${e}/${t.path}`,deprecated:!!t.deprecated}}const s=await a(o.profilePath);let c;if(r){let e;if(e="any"===t.handedness?s.layouts[Object.keys(s.layouts)[0]]:s.layouts[t.handedness],!e)throw new Error(`No matching handedness, ${t.handedness}, in profile ${o.profileId}`);e.assetPath&&(c=o.profilePath.replace("profile.json",e.assetPath))}return{profile:s,assetPath:c}}const c={xAxis:0,yAxis:0,button:0,state:o.ComponentState.DEFAULT};class l{constructor(t){this.componentProperty=t.componentProperty,this.states=t.states,this.valueNodeName=t.valueNodeName,this.valueNodeProperty=t.valueNodeProperty,this.valueNodeProperty===o.VisualResponseProperty.TRANSFORM&&(this.minNodeName=t.minNodeName,this.maxNodeName=t.maxNodeName),this.value=0,this.updateFromComponent(c)}updateFromComponent({xAxis:t,yAxis:e,button:n,state:r}){const{normalizedXAxis:i,normalizedYAxis:a}=function(t=0,e=0){let n=t,r=e;if(Math.sqrt(t*t+e*e)>1){const i=Math.atan2(e,t);n=Math.cos(i),r=Math.sin(i)}return{normalizedXAxis:.5*n+.5,normalizedYAxis:.5*r+.5}}(t,e);switch(this.componentProperty){case o.ComponentProperty.X_AXIS:this.value=this.states.includes(r)?i:.5;break;case o.ComponentProperty.Y_AXIS:this.value=this.states.includes(r)?a:.5;break;case o.ComponentProperty.BUTTON:this.value=this.states.includes(r)?n:0;break;case o.ComponentProperty.STATE:this.valueNodeProperty===o.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(r):this.value=this.states.includes(r)?1:0;break;default:throw new Error("Unexpected visualResponse componentProperty "+this.componentProperty)}}}class u{constructor(t,e){if(!(t&&e&&e.visualResponses&&e.gamepadIndices&&0!==Object.keys(e.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=t,this.type=e.type,this.rootNodeName=e.rootNodeName,this.touchPointNodeName=e.touchPointNodeName,this.visualResponses={},Object.keys(e.visualResponses).forEach(t=>{const n=new l(e.visualResponses[t]);this.visualResponses[t]=n}),this.gamepadIndices=Object.assign({},e.gamepadIndices),this.values={state:o.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(t){if(this.values.state=o.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&t.buttons.length>this.gamepadIndices.button){const e=t.buttons[this.gamepadIndices.button];this.values.button=e.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,e.pressed||1===this.values.button?this.values.state=o.ComponentState.PRESSED:(e.touched||this.values.button>o.ButtonTouchThreshold)&&(this.values.state=o.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&t.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=t.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===o.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>o.AxisTouchThreshold&&(this.values.state=o.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&t.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=t.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===o.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>o.AxisTouchThreshold&&(this.values.state=o.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class h{constructor(t,e,n){if(!t)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No profile supplied");this.xrInputSource=t,this.assetUrl=n,this.id=e.profileId,this.layoutDescription=e.layouts[t.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(t=>{const e=this.layoutDescription.components[t];this.components[t]=new u(t,e)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const t=[];return Object.values(this.components).forEach(e=>{t.push(e.data)}),t}updateFromGamepad(){Object.values(this.components).forEach(t=>{t.updateFromGamepad(this.xrInputSource.gamepad)})}}function d(){r.Object3D.call(this),this.motionController=null,this.envMap=null}function p(t,e){!function(t,e){Object.values(t.components).forEach(t=>{const{type:n,touchPointNodeName:i,visualResponses:a}=t;if(n===o.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(i),t.touchPointNode){const e=new r.SphereBufferGeometry(.001),n=new r.MeshBasicMaterial({color:255}),i=new r.Mesh(e,n);t.touchPointNode.add(i)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(a).forEach(t=>{const{valueNodeName:n,minNodeName:r,maxNodeName:i,valueNodeProperty:a}=t;if(a===o.VisualResponseProperty.TRANSFORM){if(t.minNode=e.getObjectByName(r),t.maxNode=e.getObjectByName(i),!t.minNode)return void console.warn(`Could not find ${r} in the model`);if(!t.maxNode)return void console.warn(`Could not find ${i} in the model`)}t.valueNode=e.getObjectByName(n),t.valueNode||console.warn(`Could not find ${n} in the model`)})})}(t.motionController,e),t.envMap&&e.traverse(e=>{e.isMesh&&(e.material.envMap=t.envMap,e.material.needsUpdate=!0)}),t.add(e)}d.prototype=Object.assign(Object.create(r.Object3D.prototype),{constructor:d,setEnvironmentMap:function(t){return this.envMap==t||(this.envMap=t,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)})),this},updateMatrixWorld:function(t){r.Object3D.prototype.updateMatrixWorld.call(this,t),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(t=>{const{valueNode:e,minNode:n,maxNode:i,value:a,valueNodeProperty:s}=t;e&&(s===o.VisualResponseProperty.VISIBILITY?e.visible=a:s===o.VisualResponseProperty.TRANSFORM&&(r.Quaternion.slerp(n.quaternion,i.quaternion,e.quaternion,a),e.position.lerpVectors(n.position,i.position,a)))})}))}});var f=function(){function t(t=null){this.gltfLoader=t,this.path="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",this._assetCache={},this.gltfLoader||(this.gltfLoader=new i.GLTFLoader)}return t.prototype={constructor:t,createControllerModel:function(t){const e=new d;let n=null;return t.addEventListener("connected",t=>{const r=t.data;"tracked-pointer"===r.targetRayMode&&r.gamepad&&s(r,this.path,"generic-trigger").then(({profile:t,assetPath:i})=>{e.motionController=new h(r,t,i);const o=this._assetCache[e.motionController.assetUrl];if(o)n=o.scene.clone(),p(e,n);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(e.motionController.assetUrl,t=>{this._assetCache[e.motionController.assetUrl]=t,n=t.scene.clone(),p(e,n)},null,()=>{throw new Error(`Asset ${e.motionController.assetUrl} missing or malformed.`)})}}).catch(t=>{console.warn(t)})}),t.addEventListener("disconnected",()=>{e.motionController=null,e.remove(n),n=null}),e}},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"AnimationAction",(function(){return r}));class r{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const i=e.tracks,o=i.length,a=new Array(o),s={endingStart:2400,endingEnd:2400};for(let t=0;t!==o;++t){const e=i[t].createInterpolant(null);a[t]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,i=r/n,o=n/r;t.warp(1,i,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);const i=this._startTime;if(null!==i){const r=(t-i)*n;if(r<0||0===n)return;this._startTime=null,e=n*r}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(a);break;case 2500:default:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulate(r,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let r=this.time+t,i=this._loopCount;const o=2202===n;if(0===t)return-1===i?r:o&&1==(1&i)?e-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=e||r<0){const n=Math.floor(r/e);r-=e*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===a){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1==(1&i))return e-r}return r}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(t,e,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}},function(t,e,n){"use strict";n.r(e),n.d(e,"GlitchPass",(function(){return a}));var r=n(0),i=n(1),o={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform int byp;","uniform sampler2D tDiffuse;","uniform sampler2D tDisp;","uniform float amount;","uniform float angle;","uniform float seed;","uniform float seed_x;","uniform float seed_y;","uniform float distortion_x;","uniform float distortion_y;","uniform float col_s;","varying vec2 vUv;","float rand(vec2 co){","\treturn fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);","}","void main() {","\tif(byp<1) {","\t\tvec2 p = vUv;","\t\tfloat xs = floor(gl_FragCoord.x / 0.5);","\t\tfloat ys = floor(gl_FragCoord.y / 0.5);","\t\tvec4 normal = texture2D (tDisp, p*seed*seed);","\t\tif(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {","\t\t\tif(seed_x>0.){","\t\t\t\tp.y = 1. - (p.y + distortion_y);","\t\t\t}","\t\t\telse {","\t\t\t\tp.y = distortion_y;","\t\t\t}","\t\t}","\t\tif(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {","\t\t\tif(seed_y>0.){","\t\t\t\tp.x=distortion_x;","\t\t\t}","\t\t\telse {","\t\t\t\tp.x = 1. - (p.x + distortion_x);","\t\t\t}","\t\t}","\t\tp.x+=normal.x*seed_x*(seed/5.);","\t\tp.y+=normal.y*seed_y*(seed/5.);","\t\tvec2 offset = amount * vec2( cos(angle), sin(angle));","\t\tvec4 cr = texture2D(tDiffuse, p + offset);","\t\tvec4 cga = texture2D(tDiffuse, p);","\t\tvec4 cb = texture2D(tDiffuse, p - offset);","\t\tgl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","\t\tvec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);","\t\tgl_FragColor = gl_FragColor+ snow;","\t}","\telse {","\t\tgl_FragColor=texture2D (tDiffuse, vUv);","\t}","}"].join("\n")},a=function(t){i.a.call(this),void 0===o&&console.error("GlitchPass relies on DigitalGlitch");var e=o;this.uniforms=r.UniformsUtils.clone(e.uniforms),null==t&&(t=64),this.uniforms.tDisp.value=this.generateHeightmap(t),this.material=new r.ShaderMaterial({uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.fsQuad=new i.a.FullScreenQuad(this.material),this.goWild=!1,this.curF=0,this.generateTrigger()};a.prototype=Object.assign(Object.create(i.a.prototype),{constructor:a,render:function(t,e,n){this.uniforms.tDiffuse.value=n.texture,this.uniforms.seed.value=Math.random(),this.uniforms.byp.value=0,this.curF%this.randX==0||1==this.goWild?(this.uniforms.amount.value=Math.random()/30,this.uniforms.angle.value=r.MathUtils.randFloat(-Math.PI,Math.PI),this.uniforms.seed_x.value=r.MathUtils.randFloat(-1,1),this.uniforms.seed_y.value=r.MathUtils.randFloat(-1,1),this.uniforms.distortion_x.value=r.MathUtils.randFloat(0,1),this.uniforms.distortion_y.value=r.MathUtils.randFloat(0,1),this.curF=0,this.generateTrigger()):this.curF%this.randX<this.randX/5?(this.uniforms.amount.value=Math.random()/90,this.uniforms.angle.value=r.MathUtils.randFloat(-Math.PI,Math.PI),this.uniforms.distortion_x.value=r.MathUtils.randFloat(0,1),this.uniforms.distortion_y.value=r.MathUtils.randFloat(0,1),this.uniforms.seed_x.value=r.MathUtils.randFloat(-.3,.3),this.uniforms.seed_y.value=r.MathUtils.randFloat(-.3,.3)):0==this.goWild&&(this.uniforms.byp.value=1),this.curF++,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(),this.fsQuad.render(t))},generateTrigger:function(){this.randX=r.MathUtils.randInt(120,240)},generateHeightmap:function(t){for(var e=new Float32Array(t*t*3),n=t*t,i=0;i<n;i++){var o=r.MathUtils.randFloat(0,1);e[3*i+0]=o,e[3*i+1]=o,e[3*i+2]=o}return new r.DataTexture(e,t,t,r.RGBFormat,r.FloatType)}})}]));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/engine.io-client/lib/globalThis.browser.js":
/*!*****************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/globalThis.browser.js ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = (() => {
  if (typeof self !== "undefined") {
    return self;
  } else if (typeof window !== "undefined") {
    return window;
  } else {
    return Function("return this")();
  }
})();


/***/ }),

/***/ "./node_modules/engine.io-client/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/engine.io-client/lib/index.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Socket = __webpack_require__(/*! ./socket */ "./node_modules/engine.io-client/lib/socket.js");

module.exports = (uri, opts) => new Socket(uri, opts);

/**
 * Expose deps for legacy compatibility
 * and standalone browser access.
 */

module.exports.Socket = Socket;
module.exports.protocol = Socket.protocol; // this is an int
module.exports.Transport = __webpack_require__(/*! ./transport */ "./node_modules/engine.io-client/lib/transport.js");
module.exports.transports = __webpack_require__(/*! ./transports/index */ "./node_modules/engine.io-client/lib/transports/index.js");
module.exports.parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/index.js");


/***/ }),

/***/ "./node_modules/engine.io-client/lib/socket.js":
/*!*****************************************************!*\
  !*** ./node_modules/engine.io-client/lib/socket.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const transports = __webpack_require__(/*! ./transports/index */ "./node_modules/engine.io-client/lib/transports/index.js");
const Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")("engine.io-client:socket");
const parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/index.js");
const parseuri = __webpack_require__(/*! parseuri */ "./node_modules/parseuri/index.js");
const parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");

class Socket extends Emitter {
  /**
   * Socket constructor.
   *
   * @param {String|Object} uri or options
   * @param {Object} options
   * @api public
   */
  constructor(uri, opts = {}) {
    super();

    if (uri && "object" === typeof uri) {
      opts = uri;
      uri = null;
    }

    if (uri) {
      uri = parseuri(uri);
      opts.hostname = uri.host;
      opts.secure = uri.protocol === "https" || uri.protocol === "wss";
      opts.port = uri.port;
      if (uri.query) opts.query = uri.query;
    } else if (opts.host) {
      opts.hostname = parseuri(opts.host).host;
    }

    this.secure =
      null != opts.secure
        ? opts.secure
        : typeof location !== "undefined" && "https:" === location.protocol;

    if (opts.hostname && !opts.port) {
      // if no port is specified manually, use the protocol default
      opts.port = this.secure ? "443" : "80";
    }

    this.hostname =
      opts.hostname ||
      (typeof location !== "undefined" ? location.hostname : "localhost");
    this.port =
      opts.port ||
      (typeof location !== "undefined" && location.port
        ? location.port
        : this.secure
        ? 443
        : 80);

    this.transports = opts.transports || ["polling", "websocket"];
    this.readyState = "";
    this.writeBuffer = [];
    this.prevBufferLen = 0;

    this.opts = Object.assign(
      {
        path: "/engine.io",
        agent: false,
        withCredentials: false,
        upgrade: true,
        jsonp: true,
        timestampParam: "t",
        rememberUpgrade: false,
        rejectUnauthorized: true,
        perMessageDeflate: {
          threshold: 1024
        },
        transportOptions: {},
        closeOnBeforeunload: true
      },
      opts
    );

    this.opts.path = this.opts.path.replace(/\/$/, "") + "/";

    if (typeof this.opts.query === "string") {
      this.opts.query = parseqs.decode(this.opts.query);
    }

    // set on handshake
    this.id = null;
    this.upgrades = null;
    this.pingInterval = null;
    this.pingTimeout = null;

    // set on heartbeat
    this.pingTimeoutTimer = null;

    if (typeof addEventListener === "function") {
      if (this.opts.closeOnBeforeunload) {
        // Firefox closes the connection when the "beforeunload" event is emitted but not Chrome. This event listener
        // ensures every browser behaves the same (no "disconnect" event at the Socket.IO level when the page is
        // closed/reloaded)
        addEventListener(
          "beforeunload",
          () => {
            if (this.transport) {
              // silently close the transport
              this.transport.removeAllListeners();
              this.transport.close();
            }
          },
          false
        );
      }
      if (this.hostname !== "localhost") {
        this.offlineEventListener = () => {
          this.onClose("transport close");
        };
        addEventListener("offline", this.offlineEventListener, false);
      }
    }

    this.open();
  }

  /**
   * Creates transport of the given type.
   *
   * @param {String} transport name
   * @return {Transport}
   * @api private
   */
  createTransport(name) {
    debug('creating transport "%s"', name);
    const query = clone(this.opts.query);

    // append engine.io protocol identifier
    query.EIO = parser.protocol;

    // transport name
    query.transport = name;

    // session id if we already have one
    if (this.id) query.sid = this.id;

    const opts = Object.assign(
      {},
      this.opts.transportOptions[name],
      this.opts,
      {
        query,
        socket: this,
        hostname: this.hostname,
        secure: this.secure,
        port: this.port
      }
    );

    debug("options: %j", opts);

    return new transports[name](opts);
  }

  /**
   * Initializes transport to use and starts probe.
   *
   * @api private
   */
  open() {
    let transport;
    if (
      this.opts.rememberUpgrade &&
      Socket.priorWebsocketSuccess &&
      this.transports.indexOf("websocket") !== -1
    ) {
      transport = "websocket";
    } else if (0 === this.transports.length) {
      // Emit error on next tick so it can be listened to
      setTimeout(() => {
        this.emit("error", "No transports available");
      }, 0);
      return;
    } else {
      transport = this.transports[0];
    }
    this.readyState = "opening";

    // Retry with the next transport if the transport is disabled (jsonp: false)
    try {
      transport = this.createTransport(transport);
    } catch (e) {
      debug("error while creating transport: %s", e);
      this.transports.shift();
      this.open();
      return;
    }

    transport.open();
    this.setTransport(transport);
  }

  /**
   * Sets the current transport. Disables the existing one (if any).
   *
   * @api private
   */
  setTransport(transport) {
    debug("setting transport %s", transport.name);

    if (this.transport) {
      debug("clearing existing transport %s", this.transport.name);
      this.transport.removeAllListeners();
    }

    // set up transport
    this.transport = transport;

    // set up transport listeners
    transport
      .on("drain", this.onDrain.bind(this))
      .on("packet", this.onPacket.bind(this))
      .on("error", this.onError.bind(this))
      .on("close", () => {
        this.onClose("transport close");
      });
  }

  /**
   * Probes a transport.
   *
   * @param {String} transport name
   * @api private
   */
  probe(name) {
    debug('probing transport "%s"', name);
    let transport = this.createTransport(name, { probe: 1 });
    let failed = false;

    Socket.priorWebsocketSuccess = false;

    const onTransportOpen = () => {
      if (failed) return;

      debug('probe transport "%s" opened', name);
      transport.send([{ type: "ping", data: "probe" }]);
      transport.once("packet", msg => {
        if (failed) return;
        if ("pong" === msg.type && "probe" === msg.data) {
          debug('probe transport "%s" pong', name);
          this.upgrading = true;
          this.emit("upgrading", transport);
          if (!transport) return;
          Socket.priorWebsocketSuccess = "websocket" === transport.name;

          debug('pausing current transport "%s"', this.transport.name);
          this.transport.pause(() => {
            if (failed) return;
            if ("closed" === this.readyState) return;
            debug("changing transport and sending upgrade packet");

            cleanup();

            this.setTransport(transport);
            transport.send([{ type: "upgrade" }]);
            this.emit("upgrade", transport);
            transport = null;
            this.upgrading = false;
            this.flush();
          });
        } else {
          debug('probe transport "%s" failed', name);
          const err = new Error("probe error");
          err.transport = transport.name;
          this.emit("upgradeError", err);
        }
      });
    };

    function freezeTransport() {
      if (failed) return;

      // Any callback called by transport should be ignored since now
      failed = true;

      cleanup();

      transport.close();
      transport = null;
    }

    // Handle any error that happens while probing
    const onerror = err => {
      const error = new Error("probe error: " + err);
      error.transport = transport.name;

      freezeTransport();

      debug('probe transport "%s" failed because of error: %s', name, err);

      this.emit("upgradeError", error);
    };

    function onTransportClose() {
      onerror("transport closed");
    }

    // When the socket is closed while we're probing
    function onclose() {
      onerror("socket closed");
    }

    // When the socket is upgraded while we're probing
    function onupgrade(to) {
      if (transport && to.name !== transport.name) {
        debug('"%s" works - aborting "%s"', to.name, transport.name);
        freezeTransport();
      }
    }

    // Remove all listeners on the transport and on self
    const cleanup = () => {
      transport.removeListener("open", onTransportOpen);
      transport.removeListener("error", onerror);
      transport.removeListener("close", onTransportClose);
      this.removeListener("close", onclose);
      this.removeListener("upgrading", onupgrade);
    };

    transport.once("open", onTransportOpen);
    transport.once("error", onerror);
    transport.once("close", onTransportClose);

    this.once("close", onclose);
    this.once("upgrading", onupgrade);

    transport.open();
  }

  /**
   * Called when connection is deemed open.
   *
   * @api public
   */
  onOpen() {
    debug("socket open");
    this.readyState = "open";
    Socket.priorWebsocketSuccess = "websocket" === this.transport.name;
    this.emit("open");
    this.flush();

    // we check for `readyState` in case an `open`
    // listener already closed the socket
    if (
      "open" === this.readyState &&
      this.opts.upgrade &&
      this.transport.pause
    ) {
      debug("starting upgrade probes");
      let i = 0;
      const l = this.upgrades.length;
      for (; i < l; i++) {
        this.probe(this.upgrades[i]);
      }
    }
  }

  /**
   * Handles a packet.
   *
   * @api private
   */
  onPacket(packet) {
    if (
      "opening" === this.readyState ||
      "open" === this.readyState ||
      "closing" === this.readyState
    ) {
      debug('socket receive: type "%s", data "%s"', packet.type, packet.data);

      this.emit("packet", packet);

      // Socket is live - any packet counts
      this.emit("heartbeat");

      switch (packet.type) {
        case "open":
          this.onHandshake(JSON.parse(packet.data));
          break;

        case "ping":
          this.resetPingTimeout();
          this.sendPacket("pong");
          this.emit("pong");
          break;

        case "error":
          const err = new Error("server error");
          err.code = packet.data;
          this.onError(err);
          break;

        case "message":
          this.emit("data", packet.data);
          this.emit("message", packet.data);
          break;
      }
    } else {
      debug('packet received with socket readyState "%s"', this.readyState);
    }
  }

  /**
   * Called upon handshake completion.
   *
   * @param {Object} handshake obj
   * @api private
   */
  onHandshake(data) {
    this.emit("handshake", data);
    this.id = data.sid;
    this.transport.query.sid = data.sid;
    this.upgrades = this.filterUpgrades(data.upgrades);
    this.pingInterval = data.pingInterval;
    this.pingTimeout = data.pingTimeout;
    this.onOpen();
    // In case open handler closes socket
    if ("closed" === this.readyState) return;
    this.resetPingTimeout();
  }

  /**
   * Sets and resets ping timeout timer based on server pings.
   *
   * @api private
   */
  resetPingTimeout() {
    clearTimeout(this.pingTimeoutTimer);
    this.pingTimeoutTimer = setTimeout(() => {
      this.onClose("ping timeout");
    }, this.pingInterval + this.pingTimeout);
    if (this.opts.autoUnref) {
      this.pingTimeoutTimer.unref();
    }
  }

  /**
   * Called on `drain` event
   *
   * @api private
   */
  onDrain() {
    this.writeBuffer.splice(0, this.prevBufferLen);

    // setting prevBufferLen = 0 is very important
    // for example, when upgrading, upgrade packet is sent over,
    // and a nonzero prevBufferLen could cause problems on `drain`
    this.prevBufferLen = 0;

    if (0 === this.writeBuffer.length) {
      this.emit("drain");
    } else {
      this.flush();
    }
  }

  /**
   * Flush write buffers.
   *
   * @api private
   */
  flush() {
    if (
      "closed" !== this.readyState &&
      this.transport.writable &&
      !this.upgrading &&
      this.writeBuffer.length
    ) {
      debug("flushing %d packets in socket", this.writeBuffer.length);
      this.transport.send(this.writeBuffer);
      // keep track of current length of writeBuffer
      // splice writeBuffer and callbackBuffer on `drain`
      this.prevBufferLen = this.writeBuffer.length;
      this.emit("flush");
    }
  }

  /**
   * Sends a message.
   *
   * @param {String} message.
   * @param {Function} callback function.
   * @param {Object} options.
   * @return {Socket} for chaining.
   * @api public
   */
  write(msg, options, fn) {
    this.sendPacket("message", msg, options, fn);
    return this;
  }

  send(msg, options, fn) {
    this.sendPacket("message", msg, options, fn);
    return this;
  }

  /**
   * Sends a packet.
   *
   * @param {String} packet type.
   * @param {String} data.
   * @param {Object} options.
   * @param {Function} callback function.
   * @api private
   */
  sendPacket(type, data, options, fn) {
    if ("function" === typeof data) {
      fn = data;
      data = undefined;
    }

    if ("function" === typeof options) {
      fn = options;
      options = null;
    }

    if ("closing" === this.readyState || "closed" === this.readyState) {
      return;
    }

    options = options || {};
    options.compress = false !== options.compress;

    const packet = {
      type: type,
      data: data,
      options: options
    };
    this.emit("packetCreate", packet);
    this.writeBuffer.push(packet);
    if (fn) this.once("flush", fn);
    this.flush();
  }

  /**
   * Closes the connection.
   *
   * @api private
   */
  close() {
    const close = () => {
      this.onClose("forced close");
      debug("socket closing - telling transport to close");
      this.transport.close();
    };

    const cleanupAndClose = () => {
      this.removeListener("upgrade", cleanupAndClose);
      this.removeListener("upgradeError", cleanupAndClose);
      close();
    };

    const waitForUpgrade = () => {
      // wait for upgrade to finish since we can't send packets while pausing a transport
      this.once("upgrade", cleanupAndClose);
      this.once("upgradeError", cleanupAndClose);
    };

    if ("opening" === this.readyState || "open" === this.readyState) {
      this.readyState = "closing";

      if (this.writeBuffer.length) {
        this.once("drain", () => {
          if (this.upgrading) {
            waitForUpgrade();
          } else {
            close();
          }
        });
      } else if (this.upgrading) {
        waitForUpgrade();
      } else {
        close();
      }
    }

    return this;
  }

  /**
   * Called upon transport error
   *
   * @api private
   */
  onError(err) {
    debug("socket error %j", err);
    Socket.priorWebsocketSuccess = false;
    this.emit("error", err);
    this.onClose("transport error", err);
  }

  /**
   * Called upon transport close.
   *
   * @api private
   */
  onClose(reason, desc) {
    if (
      "opening" === this.readyState ||
      "open" === this.readyState ||
      "closing" === this.readyState
    ) {
      debug('socket close with reason: "%s"', reason);

      // clear timers
      clearTimeout(this.pingIntervalTimer);
      clearTimeout(this.pingTimeoutTimer);

      // stop event from firing again for transport
      this.transport.removeAllListeners("close");

      // ensure transport won't stay open
      this.transport.close();

      // ignore further transport communication
      this.transport.removeAllListeners();

      if (typeof removeEventListener === "function") {
        removeEventListener("offline", this.offlineEventListener, false);
      }

      // set ready state
      this.readyState = "closed";

      // clear session id
      this.id = null;

      // emit close event
      this.emit("close", reason, desc);

      // clean buffers after, so users can still
      // grab the buffers on `close` event
      this.writeBuffer = [];
      this.prevBufferLen = 0;
    }
  }

  /**
   * Filters upgrades, returning only those matching client transports.
   *
   * @param {Array} server upgrades
   * @api private
   *
   */
  filterUpgrades(upgrades) {
    const filteredUpgrades = [];
    let i = 0;
    const j = upgrades.length;
    for (; i < j; i++) {
      if (~this.transports.indexOf(upgrades[i]))
        filteredUpgrades.push(upgrades[i]);
    }
    return filteredUpgrades;
  }
}

Socket.priorWebsocketSuccess = false;

/**
 * Protocol version.
 *
 * @api public
 */

Socket.protocol = parser.protocol; // this is an int

function clone(obj) {
  const o = {};
  for (let i in obj) {
    if (obj.hasOwnProperty(i)) {
      o[i] = obj[i];
    }
  }
  return o;
}

module.exports = Socket;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transport.js":
/*!********************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transport.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/index.js");
const Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")("engine.io-client:transport");

class Transport extends Emitter {
  /**
   * Transport abstract constructor.
   *
   * @param {Object} options.
   * @api private
   */
  constructor(opts) {
    super();

    this.opts = opts;
    this.query = opts.query;
    this.readyState = "";
    this.socket = opts.socket;
  }

  /**
   * Emits an error.
   *
   * @param {String} str
   * @return {Transport} for chaining
   * @api public
   */
  onError(msg, desc) {
    const err = new Error(msg);
    err.type = "TransportError";
    err.description = desc;
    this.emit("error", err);
    return this;
  }

  /**
   * Opens the transport.
   *
   * @api public
   */
  open() {
    if ("closed" === this.readyState || "" === this.readyState) {
      this.readyState = "opening";
      this.doOpen();
    }

    return this;
  }

  /**
   * Closes the transport.
   *
   * @api private
   */
  close() {
    if ("opening" === this.readyState || "open" === this.readyState) {
      this.doClose();
      this.onClose();
    }

    return this;
  }

  /**
   * Sends multiple packets.
   *
   * @param {Array} packets
   * @api private
   */
  send(packets) {
    if ("open" === this.readyState) {
      this.write(packets);
    } else {
      // this might happen if the transport was silently closed in the beforeunload event handler
      debug("transport is not open, discarding packets");
    }
  }

  /**
   * Called upon open
   *
   * @api private
   */
  onOpen() {
    this.readyState = "open";
    this.writable = true;
    this.emit("open");
  }

  /**
   * Called with data.
   *
   * @param {String} data
   * @api private
   */
  onData(data) {
    const packet = parser.decodePacket(data, this.socket.binaryType);
    this.onPacket(packet);
  }

  /**
   * Called with a decoded packet.
   */
  onPacket(packet) {
    this.emit("packet", packet);
  }

  /**
   * Called upon close.
   *
   * @api private
   */
  onClose() {
    this.readyState = "closed";
    this.emit("close");
  }
}

module.exports = Transport;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

const XMLHttpRequest = __webpack_require__(/*! ../../contrib/xmlhttprequest-ssl/XMLHttpRequest */ "./node_modules/engine.io-client/lib/xmlhttprequest.js");
const XHR = __webpack_require__(/*! ./polling-xhr */ "./node_modules/engine.io-client/lib/transports/polling-xhr.js");
const JSONP = __webpack_require__(/*! ./polling-jsonp */ "./node_modules/engine.io-client/lib/transports/polling-jsonp.js");
const websocket = __webpack_require__(/*! ./websocket */ "./node_modules/engine.io-client/lib/transports/websocket.js");

exports.polling = polling;
exports.websocket = websocket;

/**
 * Polling transport polymorphic constructor.
 * Decides on xhr vs jsonp based on feature detection.
 *
 * @api private
 */

function polling(opts) {
  let xhr;
  let xd = false;
  let xs = false;
  const jsonp = false !== opts.jsonp;

  if (typeof location !== "undefined") {
    const isSSL = "https:" === location.protocol;
    let port = location.port;

    // some user agents have empty `location.port`
    if (!port) {
      port = isSSL ? 443 : 80;
    }

    xd = opts.hostname !== location.hostname || port !== opts.port;
    xs = opts.secure !== isSSL;
  }

  opts.xdomain = xd;
  opts.xscheme = xs;
  xhr = new XMLHttpRequest(opts);

  if ("open" in xhr && !opts.forceJSONP) {
    return new XHR(opts);
  } else {
    if (!jsonp) throw new Error("JSONP disabled");
    return new JSONP(opts);
  }
}


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling-jsonp.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling-jsonp.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Polling = __webpack_require__(/*! ./polling */ "./node_modules/engine.io-client/lib/transports/polling.js");
const globalThis = __webpack_require__(/*! ../globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

const rNewline = /\n/g;
const rEscapedNewline = /\\n/g;

/**
 * Global JSONP callbacks.
 */

let callbacks;

class JSONPPolling extends Polling {
  /**
   * JSONP Polling constructor.
   *
   * @param {Object} opts.
   * @api public
   */
  constructor(opts) {
    super(opts);

    this.query = this.query || {};

    // define global callbacks array if not present
    // we do this here (lazily) to avoid unneeded global pollution
    if (!callbacks) {
      // we need to consider multiple engines in the same page
      callbacks = globalThis.___eio = globalThis.___eio || [];
    }

    // callback identifier
    this.index = callbacks.length;

    // add callback to jsonp global
    callbacks.push(this.onData.bind(this));

    // append to query string
    this.query.j = this.index;
  }

  /**
   * JSONP only supports binary as base64 encoded strings
   */
  get supportsBinary() {
    return false;
  }

  /**
   * Closes the socket.
   *
   * @api private
   */
  doClose() {
    if (this.script) {
      // prevent spurious errors from being emitted when the window is unloaded
      this.script.onerror = () => {};
      this.script.parentNode.removeChild(this.script);
      this.script = null;
    }

    if (this.form) {
      this.form.parentNode.removeChild(this.form);
      this.form = null;
      this.iframe = null;
    }

    super.doClose();
  }

  /**
   * Starts a poll cycle.
   *
   * @api private
   */
  doPoll() {
    const script = document.createElement("script");

    if (this.script) {
      this.script.parentNode.removeChild(this.script);
      this.script = null;
    }

    script.async = true;
    script.src = this.uri();
    script.onerror = e => {
      this.onError("jsonp poll error", e);
    };

    const insertAt = document.getElementsByTagName("script")[0];
    if (insertAt) {
      insertAt.parentNode.insertBefore(script, insertAt);
    } else {
      (document.head || document.body).appendChild(script);
    }
    this.script = script;

    const isUAgecko =
      "undefined" !== typeof navigator && /gecko/i.test(navigator.userAgent);

    if (isUAgecko) {
      setTimeout(function() {
        const iframe = document.createElement("iframe");
        document.body.appendChild(iframe);
        document.body.removeChild(iframe);
      }, 100);
    }
  }

  /**
   * Writes with a hidden iframe.
   *
   * @param {String} data to send
   * @param {Function} called upon flush.
   * @api private
   */
  doWrite(data, fn) {
    let iframe;

    if (!this.form) {
      const form = document.createElement("form");
      const area = document.createElement("textarea");
      const id = (this.iframeId = "eio_iframe_" + this.index);

      form.className = "socketio";
      form.style.position = "absolute";
      form.style.top = "-1000px";
      form.style.left = "-1000px";
      form.target = id;
      form.method = "POST";
      form.setAttribute("accept-charset", "utf-8");
      area.name = "d";
      form.appendChild(area);
      document.body.appendChild(form);

      this.form = form;
      this.area = area;
    }

    this.form.action = this.uri();

    function complete() {
      initIframe();
      fn();
    }

    const initIframe = () => {
      if (this.iframe) {
        try {
          this.form.removeChild(this.iframe);
        } catch (e) {
          this.onError("jsonp polling iframe removal error", e);
        }
      }

      try {
        // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
        const html = '<iframe src="javascript:0" name="' + this.iframeId + '">';
        iframe = document.createElement(html);
      } catch (e) {
        iframe = document.createElement("iframe");
        iframe.name = this.iframeId;
        iframe.src = "javascript:0";
      }

      iframe.id = this.iframeId;

      this.form.appendChild(iframe);
      this.iframe = iframe;
    };

    initIframe();

    // escape \n to prevent it from being converted into \r\n by some UAs
    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side
    data = data.replace(rEscapedNewline, "\\\n");
    this.area.value = data.replace(rNewline, "\\n");

    try {
      this.form.submit();
    } catch (e) {}

    if (this.iframe.attachEvent) {
      this.iframe.onreadystatechange = () => {
        if (this.iframe.readyState === "complete") {
          complete();
        }
      };
    } else {
      this.iframe.onload = complete;
    }
  }
}

module.exports = JSONPPolling;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling-xhr.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling-xhr.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* global attachEvent */

const XMLHttpRequest = __webpack_require__(/*! ../../contrib/xmlhttprequest-ssl/XMLHttpRequest */ "./node_modules/engine.io-client/lib/xmlhttprequest.js");
const Polling = __webpack_require__(/*! ./polling */ "./node_modules/engine.io-client/lib/transports/polling.js");
const Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
const { pick } = __webpack_require__(/*! ../util */ "./node_modules/engine.io-client/lib/util.js");
const globalThis = __webpack_require__(/*! ../globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

const debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")("engine.io-client:polling-xhr");

/**
 * Empty function
 */

function empty() {}

const hasXHR2 = (function() {
  const xhr = new XMLHttpRequest({ xdomain: false });
  return null != xhr.responseType;
})();

class XHR extends Polling {
  /**
   * XHR Polling constructor.
   *
   * @param {Object} opts
   * @api public
   */
  constructor(opts) {
    super(opts);

    if (typeof location !== "undefined") {
      const isSSL = "https:" === location.protocol;
      let port = location.port;

      // some user agents have empty `location.port`
      if (!port) {
        port = isSSL ? 443 : 80;
      }

      this.xd =
        (typeof location !== "undefined" &&
          opts.hostname !== location.hostname) ||
        port !== opts.port;
      this.xs = opts.secure !== isSSL;
    }
    /**
     * XHR supports binary
     */
    const forceBase64 = opts && opts.forceBase64;
    this.supportsBinary = hasXHR2 && !forceBase64;
  }

  /**
   * Creates a request.
   *
   * @param {String} method
   * @api private
   */
  request(opts = {}) {
    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);
    return new Request(this.uri(), opts);
  }

  /**
   * Sends data.
   *
   * @param {String} data to send.
   * @param {Function} called upon flush.
   * @api private
   */
  doWrite(data, fn) {
    const req = this.request({
      method: "POST",
      data: data
    });
    req.on("success", fn);
    req.on("error", err => {
      this.onError("xhr post error", err);
    });
  }

  /**
   * Starts a poll cycle.
   *
   * @api private
   */
  doPoll() {
    debug("xhr poll");
    const req = this.request();
    req.on("data", this.onData.bind(this));
    req.on("error", err => {
      this.onError("xhr poll error", err);
    });
    this.pollXhr = req;
  }
}

class Request extends Emitter {
  /**
   * Request constructor
   *
   * @param {Object} options
   * @api public
   */
  constructor(uri, opts) {
    super();
    this.opts = opts;

    this.method = opts.method || "GET";
    this.uri = uri;
    this.async = false !== opts.async;
    this.data = undefined !== opts.data ? opts.data : null;

    this.create();
  }

  /**
   * Creates the XHR object and sends the request.
   *
   * @api private
   */
  create() {
    const opts = pick(
      this.opts,
      "agent",
      "enablesXDR",
      "pfx",
      "key",
      "passphrase",
      "cert",
      "ca",
      "ciphers",
      "rejectUnauthorized",
      "autoUnref"
    );
    opts.xdomain = !!this.opts.xd;
    opts.xscheme = !!this.opts.xs;

    const xhr = (this.xhr = new XMLHttpRequest(opts));

    try {
      debug("xhr open %s: %s", this.method, this.uri);
      xhr.open(this.method, this.uri, this.async);
      try {
        if (this.opts.extraHeaders) {
          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);
          for (let i in this.opts.extraHeaders) {
            if (this.opts.extraHeaders.hasOwnProperty(i)) {
              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);
            }
          }
        }
      } catch (e) {}

      if ("POST" === this.method) {
        try {
          xhr.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
        } catch (e) {}
      }

      try {
        xhr.setRequestHeader("Accept", "*/*");
      } catch (e) {}

      // ie6 check
      if ("withCredentials" in xhr) {
        xhr.withCredentials = this.opts.withCredentials;
      }

      if (this.opts.requestTimeout) {
        xhr.timeout = this.opts.requestTimeout;
      }

      if (this.hasXDR()) {
        xhr.onload = () => {
          this.onLoad();
        };
        xhr.onerror = () => {
          this.onError(xhr.responseText);
        };
      } else {
        xhr.onreadystatechange = () => {
          if (4 !== xhr.readyState) return;
          if (200 === xhr.status || 1223 === xhr.status) {
            this.onLoad();
          } else {
            // make sure the `error` event handler that's user-set
            // does not throw in the same tick and gets caught here
            setTimeout(() => {
              this.onError(typeof xhr.status === "number" ? xhr.status : 0);
            }, 0);
          }
        };
      }

      debug("xhr data %s", this.data);
      xhr.send(this.data);
    } catch (e) {
      // Need to defer since .create() is called directly from the constructor
      // and thus the 'error' event can only be only bound *after* this exception
      // occurs.  Therefore, also, we cannot throw here at all.
      setTimeout(() => {
        this.onError(e);
      }, 0);
      return;
    }

    if (typeof document !== "undefined") {
      this.index = Request.requestsCount++;
      Request.requests[this.index] = this;
    }
  }

  /**
   * Called upon successful response.
   *
   * @api private
   */
  onSuccess() {
    this.emit("success");
    this.cleanup();
  }

  /**
   * Called if we have data.
   *
   * @api private
   */
  onData(data) {
    this.emit("data", data);
    this.onSuccess();
  }

  /**
   * Called upon error.
   *
   * @api private
   */
  onError(err) {
    this.emit("error", err);
    this.cleanup(true);
  }

  /**
   * Cleans up house.
   *
   * @api private
   */
  cleanup(fromError) {
    if ("undefined" === typeof this.xhr || null === this.xhr) {
      return;
    }
    // xmlhttprequest
    if (this.hasXDR()) {
      this.xhr.onload = this.xhr.onerror = empty;
    } else {
      this.xhr.onreadystatechange = empty;
    }

    if (fromError) {
      try {
        this.xhr.abort();
      } catch (e) {}
    }

    if (typeof document !== "undefined") {
      delete Request.requests[this.index];
    }

    this.xhr = null;
  }

  /**
   * Called upon load.
   *
   * @api private
   */
  onLoad() {
    const data = this.xhr.responseText;
    if (data !== null) {
      this.onData(data);
    }
  }

  /**
   * Check if it has XDomainRequest.
   *
   * @api private
   */
  hasXDR() {
    return typeof XDomainRequest !== "undefined" && !this.xs && this.enablesXDR;
  }

  /**
   * Aborts the request.
   *
   * @api public
   */
  abort() {
    this.cleanup();
  }
}

/**
 * Aborts pending requests when unloading the window. This is needed to prevent
 * memory leaks (e.g. when using IE) and to ensure that no spurious error is
 * emitted.
 */

Request.requestsCount = 0;
Request.requests = {};

if (typeof document !== "undefined") {
  if (typeof attachEvent === "function") {
    attachEvent("onunload", unloadHandler);
  } else if (typeof addEventListener === "function") {
    const terminationEvent = "onpagehide" in globalThis ? "pagehide" : "unload";
    addEventListener(terminationEvent, unloadHandler, false);
  }
}

function unloadHandler() {
  for (let i in Request.requests) {
    if (Request.requests.hasOwnProperty(i)) {
      Request.requests[i].abort();
    }
  }
}

module.exports = XHR;
module.exports.Request = Request;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling.js":
/*!*****************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling.js ***!
  \*****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Transport = __webpack_require__(/*! ../transport */ "./node_modules/engine.io-client/lib/transport.js");
const parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");
const parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/index.js");
const yeast = __webpack_require__(/*! yeast */ "./node_modules/yeast/index.js");

const debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")("engine.io-client:polling");

class Polling extends Transport {
  /**
   * Transport name.
   */
  get name() {
    return "polling";
  }

  /**
   * Opens the socket (triggers polling). We write a PING message to determine
   * when the transport is open.
   *
   * @api private
   */
  doOpen() {
    this.poll();
  }

  /**
   * Pauses polling.
   *
   * @param {Function} callback upon buffers are flushed and transport is paused
   * @api private
   */
  pause(onPause) {
    this.readyState = "pausing";

    const pause = () => {
      debug("paused");
      this.readyState = "paused";
      onPause();
    };

    if (this.polling || !this.writable) {
      let total = 0;

      if (this.polling) {
        debug("we are currently polling - waiting to pause");
        total++;
        this.once("pollComplete", function() {
          debug("pre-pause polling complete");
          --total || pause();
        });
      }

      if (!this.writable) {
        debug("we are currently writing - waiting to pause");
        total++;
        this.once("drain", function() {
          debug("pre-pause writing complete");
          --total || pause();
        });
      }
    } else {
      pause();
    }
  }

  /**
   * Starts polling cycle.
   *
   * @api public
   */
  poll() {
    debug("polling");
    this.polling = true;
    this.doPoll();
    this.emit("poll");
  }

  /**
   * Overloads onData to detect payloads.
   *
   * @api private
   */
  onData(data) {
    debug("polling got data %s", data);
    const callback = packet => {
      // if its the first message we consider the transport open
      if ("opening" === this.readyState && packet.type === "open") {
        this.onOpen();
      }

      // if its a close packet, we close the ongoing requests
      if ("close" === packet.type) {
        this.onClose();
        return false;
      }

      // otherwise bypass onData and handle the message
      this.onPacket(packet);
    };

    // decode payload
    parser.decodePayload(data, this.socket.binaryType).forEach(callback);

    // if an event did not trigger closing
    if ("closed" !== this.readyState) {
      // if we got data we're not polling
      this.polling = false;
      this.emit("pollComplete");

      if ("open" === this.readyState) {
        this.poll();
      } else {
        debug('ignoring poll - transport state "%s"', this.readyState);
      }
    }
  }

  /**
   * For polling, send a close packet.
   *
   * @api private
   */
  doClose() {
    const close = () => {
      debug("writing close packet");
      this.write([{ type: "close" }]);
    };

    if ("open" === this.readyState) {
      debug("transport open - closing");
      close();
    } else {
      // in case we're trying to close while
      // handshaking is in progress (GH-164)
      debug("transport not open - deferring close");
      this.once("open", close);
    }
  }

  /**
   * Writes a packets payload.
   *
   * @param {Array} data packets
   * @param {Function} drain callback
   * @api private
   */
  write(packets) {
    this.writable = false;

    parser.encodePayload(packets, data => {
      this.doWrite(data, () => {
        this.writable = true;
        this.emit("drain");
      });
    });
  }

  /**
   * Generates uri for connection.
   *
   * @api private
   */
  uri() {
    let query = this.query || {};
    const schema = this.opts.secure ? "https" : "http";
    let port = "";

    // cache busting is forced
    if (false !== this.opts.timestampRequests) {
      query[this.opts.timestampParam] = yeast();
    }

    if (!this.supportsBinary && !query.sid) {
      query.b64 = 1;
    }

    query = parseqs.encode(query);

    // avoid port if default for schema
    if (
      this.opts.port &&
      (("https" === schema && Number(this.opts.port) !== 443) ||
        ("http" === schema && Number(this.opts.port) !== 80))
    ) {
      port = ":" + this.opts.port;
    }

    // prepend ? to query
    if (query.length) {
      query = "?" + query;
    }

    const ipv6 = this.opts.hostname.indexOf(":") !== -1;
    return (
      schema +
      "://" +
      (ipv6 ? "[" + this.opts.hostname + "]" : this.opts.hostname) +
      port +
      this.opts.path +
      query
    );
  }
}

module.exports = Polling;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const globalThis = __webpack_require__(/*! ../globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

module.exports = {
  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,
  usingBrowserWebSocket: true,
  defaultBinaryType: "arraybuffer"
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/websocket.js":
/*!*******************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/websocket.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Transport = __webpack_require__(/*! ../transport */ "./node_modules/engine.io-client/lib/transport.js");
const parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/index.js");
const parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");
const yeast = __webpack_require__(/*! yeast */ "./node_modules/yeast/index.js");
const { pick } = __webpack_require__(/*! ../util */ "./node_modules/engine.io-client/lib/util.js");
const {
  WebSocket,
  usingBrowserWebSocket,
  defaultBinaryType
} = __webpack_require__(/*! ./websocket-constructor */ "./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js");

const debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")("engine.io-client:websocket");

// detect ReactNative environment
const isReactNative =
  typeof navigator !== "undefined" &&
  typeof navigator.product === "string" &&
  navigator.product.toLowerCase() === "reactnative";

class WS extends Transport {
  /**
   * WebSocket transport constructor.
   *
   * @api {Object} connection options
   * @api public
   */
  constructor(opts) {
    super(opts);

    this.supportsBinary = !opts.forceBase64;
  }

  /**
   * Transport name.
   *
   * @api public
   */
  get name() {
    return "websocket";
  }

  /**
   * Opens socket.
   *
   * @api private
   */
  doOpen() {
    if (!this.check()) {
      // let probe timeout
      return;
    }

    const uri = this.uri();
    const protocols = this.opts.protocols;

    // React Native only supports the 'headers' option, and will print a warning if anything else is passed
    const opts = isReactNative
      ? {}
      : pick(
          this.opts,
          "agent",
          "perMessageDeflate",
          "pfx",
          "key",
          "passphrase",
          "cert",
          "ca",
          "ciphers",
          "rejectUnauthorized",
          "localAddress",
          "protocolVersion",
          "origin",
          "maxPayload",
          "family",
          "checkServerIdentity"
        );

    if (this.opts.extraHeaders) {
      opts.headers = this.opts.extraHeaders;
    }

    try {
      this.ws =
        usingBrowserWebSocket && !isReactNative
          ? protocols
            ? new WebSocket(uri, protocols)
            : new WebSocket(uri)
          : new WebSocket(uri, protocols, opts);
    } catch (err) {
      return this.emit("error", err);
    }

    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;

    this.addEventListeners();
  }

  /**
   * Adds event listeners to the socket
   *
   * @api private
   */
  addEventListeners() {
    this.ws.onopen = () => {
      if (this.opts.autoUnref) {
        this.ws._socket.unref();
      }
      this.onOpen();
    };
    this.ws.onclose = this.onClose.bind(this);
    this.ws.onmessage = ev => this.onData(ev.data);
    this.ws.onerror = e => this.onError("websocket error", e);
  }

  /**
   * Writes data to socket.
   *
   * @param {Array} array of packets.
   * @api private
   */
  write(packets) {
    this.writable = false;

    // encodePacket efficient as it uses WS framing
    // no need for encodePayload
    for (let i = 0; i < packets.length; i++) {
      const packet = packets[i];
      const lastPacket = i === packets.length - 1;

      parser.encodePacket(packet, this.supportsBinary, data => {
        // always create a new object (GH-437)
        const opts = {};
        if (!usingBrowserWebSocket) {
          if (packet.options) {
            opts.compress = packet.options.compress;
          }

          if (this.opts.perMessageDeflate) {
            const len =
              "string" === typeof data ? Buffer.byteLength(data) : data.length;
            if (len < this.opts.perMessageDeflate.threshold) {
              opts.compress = false;
            }
          }
        }

        // Sometimes the websocket has already been closed but the browser didn't
        // have a chance of informing us about it yet, in that case send will
        // throw an error
        try {
          if (usingBrowserWebSocket) {
            // TypeError is thrown when passing the second argument on Safari
            this.ws.send(data);
          } else {
            this.ws.send(data, opts);
          }
        } catch (e) {
          debug("websocket closed before onclose event");
        }

        if (lastPacket) {
          // fake drain
          // defer to next tick to allow Socket to clear writeBuffer
          setTimeout(() => {
            this.writable = true;
            this.emit("drain");
          }, 0);
        }
      });
    }
  }

  /**
   * Called upon close
   *
   * @api private
   */
  onClose() {
    Transport.prototype.onClose.call(this);
  }

  /**
   * Closes socket.
   *
   * @api private
   */
  doClose() {
    if (typeof this.ws !== "undefined") {
      this.ws.close();
      this.ws = null;
    }
  }

  /**
   * Generates uri for connection.
   *
   * @api private
   */
  uri() {
    let query = this.query || {};
    const schema = this.opts.secure ? "wss" : "ws";
    let port = "";

    // avoid port if default for schema
    if (
      this.opts.port &&
      (("wss" === schema && Number(this.opts.port) !== 443) ||
        ("ws" === schema && Number(this.opts.port) !== 80))
    ) {
      port = ":" + this.opts.port;
    }

    // append timestamp to URI
    if (this.opts.timestampRequests) {
      query[this.opts.timestampParam] = yeast();
    }

    // communicate binary support capabilities
    if (!this.supportsBinary) {
      query.b64 = 1;
    }

    query = parseqs.encode(query);

    // prepend ? to query
    if (query.length) {
      query = "?" + query;
    }

    const ipv6 = this.opts.hostname.indexOf(":") !== -1;
    return (
      schema +
      "://" +
      (ipv6 ? "[" + this.opts.hostname + "]" : this.opts.hostname) +
      port +
      this.opts.path +
      query
    );
  }

  /**
   * Feature detection for WebSocket.
   *
   * @return {Boolean} whether this transport is available.
   * @api public
   */
  check() {
    return (
      !!WebSocket &&
      !("__initialize" in WebSocket && this.name === WS.prototype.name)
    );
  }
}

module.exports = WS;


/***/ }),

/***/ "./node_modules/engine.io-client/lib/util.js":
/*!***************************************************!*\
  !*** ./node_modules/engine.io-client/lib/util.js ***!
  \***************************************************/
/***/ ((module) => {

module.exports.pick = (obj, ...attr) => {
  return attr.reduce((acc, k) => {
    if (obj.hasOwnProperty(k)) {
      acc[k] = obj[k];
    }
    return acc;
  }, {});
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/xmlhttprequest.js":
/*!*************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/xmlhttprequest.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// browser shim for xmlhttprequest module

const hasCORS = __webpack_require__(/*! has-cors */ "./node_modules/has-cors/index.js");
const globalThis = __webpack_require__(/*! ./globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

module.exports = function(opts) {
  const xdomain = opts.xdomain;

  // scheme must be same when usign XDomainRequest
  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx
  const xscheme = opts.xscheme;

  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.
  // https://github.com/Automattic/engine.io-client/pull/217
  const enablesXDR = opts.enablesXDR;

  // XMLHttpRequest can be disabled on IE
  try {
    if ("undefined" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {
      return new XMLHttpRequest();
    }
  } catch (e) {}

  // Use XDomainRequest for IE8 if enablesXDR is true
  // because loading bar keeps flashing when using jsonp-polling
  // https://github.com/yujiosaka/socke.io-ie8-loading-example
  try {
    if ("undefined" !== typeof XDomainRequest && !xscheme && enablesXDR) {
      return new XDomainRequest();
    }
  } catch (e) {}

  if (!xdomain) {
    try {
      return new globalThis[["Active"].concat("Object").join("X")](
        "Microsoft.XMLHTTP"
      );
    } catch (e) {}
  }
};


/***/ }),

/***/ "./node_modules/engine.io-client/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-client/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */

exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
exports.destroy = (() => {
	let warned = false;

	return () => {
		if (!warned) {
			warned = true;
			console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
		}
	};
})();

/**
 * Colors.
 */

exports.colors = [
	'#0000CC',
	'#0000FF',
	'#0033CC',
	'#0033FF',
	'#0066CC',
	'#0066FF',
	'#0099CC',
	'#0099FF',
	'#00CC00',
	'#00CC33',
	'#00CC66',
	'#00CC99',
	'#00CCCC',
	'#00CCFF',
	'#3300CC',
	'#3300FF',
	'#3333CC',
	'#3333FF',
	'#3366CC',
	'#3366FF',
	'#3399CC',
	'#3399FF',
	'#33CC00',
	'#33CC33',
	'#33CC66',
	'#33CC99',
	'#33CCCC',
	'#33CCFF',
	'#6600CC',
	'#6600FF',
	'#6633CC',
	'#6633FF',
	'#66CC00',
	'#66CC33',
	'#9900CC',
	'#9900FF',
	'#9933CC',
	'#9933FF',
	'#99CC00',
	'#99CC33',
	'#CC0000',
	'#CC0033',
	'#CC0066',
	'#CC0099',
	'#CC00CC',
	'#CC00FF',
	'#CC3300',
	'#CC3333',
	'#CC3366',
	'#CC3399',
	'#CC33CC',
	'#CC33FF',
	'#CC6600',
	'#CC6633',
	'#CC9900',
	'#CC9933',
	'#CCCC00',
	'#CCCC33',
	'#FF0000',
	'#FF0033',
	'#FF0066',
	'#FF0099',
	'#FF00CC',
	'#FF00FF',
	'#FF3300',
	'#FF3333',
	'#FF3366',
	'#FF3399',
	'#FF33CC',
	'#FF33FF',
	'#FF6600',
	'#FF6633',
	'#FF9900',
	'#FF9933',
	'#FFCC00',
	'#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

// eslint-disable-next-line complexity
function useColors() {
	// NB: In an Electron preload script, document will be defined but not fully
	// initialized. Since we know we're in Chrome, we'll just detect this case
	// explicitly
	if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
		return true;
	}

	// Internet Explorer and Edge do not support colors.
	if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
		return false;
	}

	// Is webkit? http://stackoverflow.com/a/16459606/376773
	// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
	return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
		// Is firebug? http://stackoverflow.com/a/398120/376773
		(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
		// Is firefox >= v31?
		// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
		// Double check webkit in userAgent just in case we are in a worker
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
	args[0] = (this.useColors ? '%c' : '') +
		this.namespace +
		(this.useColors ? ' %c' : ' ') +
		args[0] +
		(this.useColors ? '%c ' : ' ') +
		'+' + module.exports.humanize(this.diff);

	if (!this.useColors) {
		return;
	}

	const c = 'color: ' + this.color;
	args.splice(1, 0, c, 'color: inherit');

	// The final "%c" is somewhat tricky, because there could be other
	// arguments passed either before or after the %c, so we need to
	// figure out the correct index to insert the CSS into
	let index = 0;
	let lastC = 0;
	args[0].replace(/%[a-zA-Z%]/g, match => {
		if (match === '%%') {
			return;
		}
		index++;
		if (match === '%c') {
			// We only are interested in the *last* %c
			// (the user may have provided their own)
			lastC = index;
		}
	});

	args.splice(lastC, 0, c);
}

/**
 * Invokes `console.debug()` when available.
 * No-op when `console.debug` is not a "function".
 * If `console.debug` is not available, falls back
 * to `console.log`.
 *
 * @api public
 */
exports.log = console.debug || console.log || (() => {});

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */
function save(namespaces) {
	try {
		if (namespaces) {
			exports.storage.setItem('debug', namespaces);
		} else {
			exports.storage.removeItem('debug');
		}
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */
function load() {
	let r;
	try {
		r = exports.storage.getItem('debug');
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}

	// If debug isn't set in LS, and we're in Electron, try to load $DEBUG
	if (!r && typeof process !== 'undefined' && 'env' in process) {
		r = process.env.DEBUG;
	}

	return r;
}

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
	try {
		// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
		// The Browser also has localStorage in the global context.
		return localStorage;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/engine.io-client/node_modules/debug/src/common.js")(exports);

const {formatters} = module.exports;

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
	try {
		return JSON.stringify(v);
	} catch (error) {
		return '[UnexpectedJSONParseError]: ' + error.message;
	}
};


/***/ }),

/***/ "./node_modules/engine.io-client/node_modules/debug/src/common.js":
/*!************************************************************************!*\
  !*** ./node_modules/engine.io-client/node_modules/debug/src/common.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */

function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;
	createDebug.coerce = coerce;
	createDebug.disable = disable;
	createDebug.enable = enable;
	createDebug.enabled = enabled;
	createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/engine.io-client/node_modules/ms/index.js");
	createDebug.destroy = destroy;

	Object.keys(env).forEach(key => {
		createDebug[key] = env[key];
	});

	/**
	* The currently active debug mode names, and names to skip.
	*/

	createDebug.names = [];
	createDebug.skips = [];

	/**
	* Map of special "%n" handling functions, for the debug "format" argument.
	*
	* Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
	*/
	createDebug.formatters = {};

	/**
	* Selects a color for a debug namespace
	* @param {String} namespace The namespace string for the for the debug instance to be colored
	* @return {Number|String} An ANSI color code for the given namespace
	* @api private
	*/
	function selectColor(namespace) {
		let hash = 0;

		for (let i = 0; i < namespace.length; i++) {
			hash = ((hash << 5) - hash) + namespace.charCodeAt(i);
			hash |= 0; // Convert to 32bit integer
		}

		return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
	}
	createDebug.selectColor = selectColor;

	/**
	* Create a debugger with the given `namespace`.
	*
	* @param {String} namespace
	* @return {Function}
	* @api public
	*/
	function createDebug(namespace) {
		let prevTime;
		let enableOverride = null;

		function debug(...args) {
			// Disabled?
			if (!debug.enabled) {
				return;
			}

			const self = debug;

			// Set `diff` timestamp
			const curr = Number(new Date());
			const ms = curr - (prevTime || curr);
			self.diff = ms;
			self.prev = prevTime;
			self.curr = curr;
			prevTime = curr;

			args[0] = createDebug.coerce(args[0]);

			if (typeof args[0] !== 'string') {
				// Anything else let's inspect with %O
				args.unshift('%O');
			}

			// Apply any `formatters` transformations
			let index = 0;
			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
				// If we encounter an escaped % then don't increase the array index
				if (match === '%%') {
					return '%';
				}
				index++;
				const formatter = createDebug.formatters[format];
				if (typeof formatter === 'function') {
					const val = args[index];
					match = formatter.call(self, val);

					// Now we need to remove `args[index]` since it's inlined in the `format`
					args.splice(index, 1);
					index--;
				}
				return match;
			});

			// Apply env-specific formatting (colors, etc.)
			createDebug.formatArgs.call(self, args);

			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}

		debug.namespace = namespace;
		debug.useColors = createDebug.useColors();
		debug.color = createDebug.selectColor(namespace);
		debug.extend = extend;
		debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.

		Object.defineProperty(debug, 'enabled', {
			enumerable: true,
			configurable: false,
			get: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,
			set: v => {
				enableOverride = v;
			}
		});

		// Env-specific initialization logic for debug instances
		if (typeof createDebug.init === 'function') {
			createDebug.init(debug);
		}

		return debug;
	}

	function extend(namespace, delimiter) {
		const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
		newDebug.log = this.log;
		return newDebug;
	}

	/**
	* Enables a debug mode by namespaces. This can include modes
	* separated by a colon and wildcards.
	*
	* @param {String} namespaces
	* @api public
	*/
	function enable(namespaces) {
		createDebug.save(namespaces);

		createDebug.names = [];
		createDebug.skips = [];

		let i;
		const split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
		const len = split.length;

		for (i = 0; i < len; i++) {
			if (!split[i]) {
				// ignore empty strings
				continue;
			}

			namespaces = split[i].replace(/\*/g, '.*?');

			if (namespaces[0] === '-') {
				createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
			} else {
				createDebug.names.push(new RegExp('^' + namespaces + '$'));
			}
		}
	}

	/**
	* Disable debug output.
	*
	* @return {String} namespaces
	* @api public
	*/
	function disable() {
		const namespaces = [
			...createDebug.names.map(toNamespace),
			...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)
		].join(',');
		createDebug.enable('');
		return namespaces;
	}

	/**
	* Returns true if the given mode name is enabled, false otherwise.
	*
	* @param {String} name
	* @return {Boolean}
	* @api public
	*/
	function enabled(name) {
		if (name[name.length - 1] === '*') {
			return true;
		}

		let i;
		let len;

		for (i = 0, len = createDebug.skips.length; i < len; i++) {
			if (createDebug.skips[i].test(name)) {
				return false;
			}
		}

		for (i = 0, len = createDebug.names.length; i < len; i++) {
			if (createDebug.names[i].test(name)) {
				return true;
			}
		}

		return false;
	}

	/**
	* Convert regexp to namespace
	*
	* @param {RegExp} regxep
	* @return {String} namespace
	* @api private
	*/
	function toNamespace(regexp) {
		return regexp.toString()
			.substring(2, regexp.toString().length - 2)
			.replace(/\.\*\?$/, '*');
	}

	/**
	* Coerce `val`.
	*
	* @param {Mixed} val
	* @return {Mixed}
	* @api private
	*/
	function coerce(val) {
		if (val instanceof Error) {
			return val.stack || val.message;
		}
		return val;
	}

	/**
	* XXX DO NOT USE. This is a temporary stub function.
	* XXX It WILL be removed in the next major release.
	*/
	function destroy() {
		console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
	}

	createDebug.enable(createDebug.load());

	return createDebug;
}

module.exports = setup;


/***/ }),

/***/ "./node_modules/engine.io-client/node_modules/ms/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/engine.io-client/node_modules/ms/index.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/commons.js":
/*!******************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/commons.js ***!
  \******************************************************/
/***/ ((module) => {

const PACKET_TYPES = Object.create(null); // no Map = no polyfill
PACKET_TYPES["open"] = "0";
PACKET_TYPES["close"] = "1";
PACKET_TYPES["ping"] = "2";
PACKET_TYPES["pong"] = "3";
PACKET_TYPES["message"] = "4";
PACKET_TYPES["upgrade"] = "5";
PACKET_TYPES["noop"] = "6";

const PACKET_TYPES_REVERSE = Object.create(null);
Object.keys(PACKET_TYPES).forEach(key => {
  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;
});

const ERROR_PACKET = { type: "error", data: "parser error" };

module.exports = {
  PACKET_TYPES,
  PACKET_TYPES_REVERSE,
  ERROR_PACKET
};


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/decodePacket.browser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/decodePacket.browser.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const { PACKET_TYPES_REVERSE, ERROR_PACKET } = __webpack_require__(/*! ./commons */ "./node_modules/engine.io-parser/lib/commons.js");

const withNativeArrayBuffer = typeof ArrayBuffer === "function";

let base64decoder;
if (withNativeArrayBuffer) {
  base64decoder = __webpack_require__(/*! base64-arraybuffer */ "./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js");
}

const decodePacket = (encodedPacket, binaryType) => {
  if (typeof encodedPacket !== "string") {
    return {
      type: "message",
      data: mapBinary(encodedPacket, binaryType)
    };
  }
  const type = encodedPacket.charAt(0);
  if (type === "b") {
    return {
      type: "message",
      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)
    };
  }
  const packetType = PACKET_TYPES_REVERSE[type];
  if (!packetType) {
    return ERROR_PACKET;
  }
  return encodedPacket.length > 1
    ? {
        type: PACKET_TYPES_REVERSE[type],
        data: encodedPacket.substring(1)
      }
    : {
        type: PACKET_TYPES_REVERSE[type]
      };
};

const decodeBase64Packet = (data, binaryType) => {
  if (base64decoder) {
    const decoded = base64decoder.decode(data);
    return mapBinary(decoded, binaryType);
  } else {
    return { base64: true, data }; // fallback for old browsers
  }
};

const mapBinary = (data, binaryType) => {
  switch (binaryType) {
    case "blob":
      return data instanceof ArrayBuffer ? new Blob([data]) : data;
    case "arraybuffer":
    default:
      return data; // assuming the data is already an ArrayBuffer
  }
};

module.exports = decodePacket;


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/encodePacket.browser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/encodePacket.browser.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const { PACKET_TYPES } = __webpack_require__(/*! ./commons */ "./node_modules/engine.io-parser/lib/commons.js");

const withNativeBlob =
  typeof Blob === "function" ||
  (typeof Blob !== "undefined" &&
    Object.prototype.toString.call(Blob) === "[object BlobConstructor]");
const withNativeArrayBuffer = typeof ArrayBuffer === "function";

// ArrayBuffer.isView method is not defined in IE10
const isView = obj => {
  return typeof ArrayBuffer.isView === "function"
    ? ArrayBuffer.isView(obj)
    : obj && obj.buffer instanceof ArrayBuffer;
};

const encodePacket = ({ type, data }, supportsBinary, callback) => {
  if (withNativeBlob && data instanceof Blob) {
    if (supportsBinary) {
      return callback(data);
    } else {
      return encodeBlobAsBase64(data, callback);
    }
  } else if (
    withNativeArrayBuffer &&
    (data instanceof ArrayBuffer || isView(data))
  ) {
    if (supportsBinary) {
      return callback(data instanceof ArrayBuffer ? data : data.buffer);
    } else {
      return encodeBlobAsBase64(new Blob([data]), callback);
    }
  }
  // plain string
  return callback(PACKET_TYPES[type] + (data || ""));
};

const encodeBlobAsBase64 = (data, callback) => {
  const fileReader = new FileReader();
  fileReader.onload = function() {
    const content = fileReader.result.split(",")[1];
    callback("b" + content);
  };
  return fileReader.readAsDataURL(data);
};

module.exports = encodePacket;


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/index.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const encodePacket = __webpack_require__(/*! ./encodePacket */ "./node_modules/engine.io-parser/lib/encodePacket.browser.js");
const decodePacket = __webpack_require__(/*! ./decodePacket */ "./node_modules/engine.io-parser/lib/decodePacket.browser.js");

const SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text

const encodePayload = (packets, callback) => {
  // some packets may be added to the array while encoding, so the initial length must be saved
  const length = packets.length;
  const encodedPackets = new Array(length);
  let count = 0;

  packets.forEach((packet, i) => {
    // force base64 encoding for binary packets
    encodePacket(packet, false, encodedPacket => {
      encodedPackets[i] = encodedPacket;
      if (++count === length) {
        callback(encodedPackets.join(SEPARATOR));
      }
    });
  });
};

const decodePayload = (encodedPayload, binaryType) => {
  const encodedPackets = encodedPayload.split(SEPARATOR);
  const packets = [];
  for (let i = 0; i < encodedPackets.length; i++) {
    const decodedPacket = decodePacket(encodedPackets[i], binaryType);
    packets.push(decodedPacket);
    if (decodedPacket.type === "error") {
      break;
    }
  }
  return packets;
};

module.exports = {
  protocol: 4,
  encodePacket,
  encodePayload,
  decodePacket,
  decodePayload
};


/***/ }),

/***/ "./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


var has = Object.prototype.hasOwnProperty
  , prefix = '~';

/**
 * Constructor to create a storage for our `EE` objects.
 * An `Events` instance is a plain object whose properties are event names.
 *
 * @constructor
 * @private
 */
function Events() {}

//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
if (Object.create) {
  Events.prototype = Object.create(null);

  //
  // This hack is needed because the `__proto__` property is still inherited in
  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
  //
  if (!new Events().__proto__) prefix = false;
}

/**
 * Representation of a single event listener.
 *
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
 * @constructor
 * @private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Add a listener for a given event.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} once Specify if the listener is a one-time listener.
 * @returns {EventEmitter}
 * @private
 */
function addListener(emitter, event, fn, context, once) {
  if (typeof fn !== 'function') {
    throw new TypeError('The listener must be a function');
  }

  var listener = new EE(fn, context || emitter, once)
    , evt = prefix ? prefix + event : event;

  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;
  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);
  else emitter._events[evt] = [emitter._events[evt], listener];

  return emitter;
}

/**
 * Clear event by name.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} evt The Event name.
 * @private
 */
function clearEvent(emitter, evt) {
  if (--emitter._eventsCount === 0) emitter._events = new Events();
  else delete emitter._events[evt];
}

/**
 * Minimal `EventEmitter` interface that is molded against the Node.js
 * `EventEmitter` interface.
 *
 * @constructor
 * @public
 */
function EventEmitter() {
  this._events = new Events();
  this._eventsCount = 0;
}

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var names = []
    , events
    , name;

  if (this._eventsCount === 0) return names;

  for (name in (events = this._events)) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Array} The registered listeners.
 * @public
 */
EventEmitter.prototype.listeners = function listeners(event) {
  var evt = prefix ? prefix + event : event
    , handlers = this._events[evt];

  if (!handlers) return [];
  if (handlers.fn) return [handlers.fn];

  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
    ee[i] = handlers[i].fn;
  }

  return ee;
};

/**
 * Return the number of listeners listening to a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Number} The number of listeners.
 * @public
 */
EventEmitter.prototype.listenerCount = function listenerCount(event) {
  var evt = prefix ? prefix + event : event
    , listeners = this._events[evt];

  if (!listeners) return 0;
  if (listeners.fn) return 1;
  return listeners.length;
};

/**
 * Calls each of the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Boolean} `true` if the event had listeners, else `false`.
 * @public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if (listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Add a listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  return addListener(this, event, fn, context, false);
};

/**
 * Add a one-time listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  return addListener(this, event, fn, context, true);
};

/**
 * Remove the listeners of a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn Only remove the listeners that match this function.
 * @param {*} context Only remove the listeners that have this context.
 * @param {Boolean} once Only remove one-time listeners.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return this;
  if (!fn) {
    clearEvent(this, evt);
    return this;
  }

  var listeners = this._events[evt];

  if (listeners.fn) {
    if (
      listeners.fn === fn &&
      (!once || listeners.once) &&
      (!context || listeners.context === context)
    ) {
      clearEvent(this, evt);
    }
  } else {
    for (var i = 0, events = [], length = listeners.length; i < length; i++) {
      if (
        listeners[i].fn !== fn ||
        (once && !listeners[i].once) ||
        (context && listeners[i].context !== context)
      ) {
        events.push(listeners[i]);
      }
    }

    //
    // Reset the array, or remove it completely if we have no more listeners.
    //
    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
    else clearEvent(this, evt);
  }

  return this;
};

/**
 * Remove all listeners, or those of the specified event.
 *
 * @param {(String|Symbol)} [event] The event name.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  var evt;

  if (event) {
    evt = prefix ? prefix + event : event;
    if (this._events[evt]) clearEvent(this, evt);
  } else {
    this._events = new Events();
    this._eventsCount = 0;
  }

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Allow `EventEmitter` to be imported as module namespace.
//
EventEmitter.EventEmitter = EventEmitter;

//
// Expose the module.
//
if (true) {
  module.exports = EventEmitter;
}


/***/ }),

/***/ "./node_modules/has-cors/index.js":
/*!****************************************!*\
  !*** ./node_modules/has-cors/index.js ***!
  \****************************************/
/***/ ((module) => {


/**
 * Module exports.
 *
 * Logic borrowed from Modernizr:
 *
 *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js
 */

try {
  module.exports = typeof XMLHttpRequest !== 'undefined' &&
    'withCredentials' in new XMLHttpRequest();
} catch (err) {
  // if XMLHttp support is disabled in IE then it will throw
  // when trying to create
  module.exports = false;
}


/***/ }),

/***/ "./node_modules/parseqs/index.js":
/*!***************************************!*\
  !*** ./node_modules/parseqs/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

/**
 * Compiles a querystring
 * Returns string representation of the object
 *
 * @param {Object}
 * @api private
 */

exports.encode = function (obj) {
  var str = '';

  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      if (str.length) str += '&';
      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);
    }
  }

  return str;
};

/**
 * Parses a simple querystring into an object
 *
 * @param {String} qs
 * @api private
 */

exports.decode = function(qs){
  var qry = {};
  var pairs = qs.split('&');
  for (var i = 0, l = pairs.length; i < l; i++) {
    var pair = pairs[i].split('=');
    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
  }
  return qry;
};


/***/ }),

/***/ "./node_modules/parseuri/index.js":
/*!****************************************!*\
  !*** ./node_modules/parseuri/index.js ***!
  \****************************************/
/***/ ((module) => {

/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */

var re = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;

var parts = [
    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'
];

module.exports = function parseuri(str) {
    var src = str,
        b = str.indexOf('['),
        e = str.indexOf(']');

    if (b != -1 && e != -1) {
        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);
    }

    var m = re.exec(str || ''),
        uri = {},
        i = 14;

    while (i--) {
        uri[parts[i]] = m[i] || '';
    }

    if (b != -1 && e != -1) {
        uri.source = src;
        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');
        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');
        uri.ipv6uri = true;
    }

    uri.pathNames = pathNames(uri, uri['path']);
    uri.queryKey = queryKey(uri, uri['query']);

    return uri;
};

function pathNames(obj, path) {
    var regx = /\/{2,9}/g,
        names = path.replace(regx, "/").split("/");

    if (path.substr(0, 1) == '/' || path.length === 0) {
        names.splice(0, 1);
    }
    if (path.substr(path.length - 1, 1) == '/') {
        names.splice(names.length - 1, 1);
    }

    return names;
}

function queryKey(uri, query) {
    var data = {};

    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {
        if ($1) {
            data[$1] = $2;
        }
    });

    return data;
}


/***/ }),

/***/ "./node_modules/peerjs/dist/peerjs.min.js":
/*!************************************************!*\
  !*** ./node_modules/peerjs/dist/peerjs.min.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u=undefined;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if( true&&"string"==typeof t)return __webpack_require__("./node_modules/peerjs/dist sync recursive")(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]); true?module.exports=l:0}if(parcelRequire=f,i)throw i;return f}({"EgBh":[function(require,module,exports) {
var e={};e.useBlobBuilder=function(){try{return new Blob([]),!1}catch(e){return!0}}(),e.useArrayBufferView=!e.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(e){return!0}}(),module.exports.binaryFeatures=e;var r=module.exports.BlobBuilder;function t(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(r=module.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),t.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},t.prototype.flush=function(){if(this._pieces.length>0){var r=new Uint8Array(this._pieces);e.useArrayBufferView||(r=r.buffer),this._parts.push(r),this._pieces=[]}},t.prototype.getBuffer=function(){if(this.flush(),e.useBlobBuilder){for(var t=new r,i=0,u=this._parts.length;i<u;i++)t.append(this._parts[i]);return t.getBlob()}return new Blob(this._parts)},module.exports.BufferBuilder=t;
},{}],"kdPp":[function(require,module,exports) {
var t=require("./bufferbuilder").BufferBuilder,e=require("./bufferbuilder").binaryFeatures,i={unpack:function(t){return new r(t).unpack()},pack:function(t){var e=new n;return e.pack(t),e.getBuffer()}};function r(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function n(){this.bufferBuilder=new t}function u(t){var e=t.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}function a(t){return t.length>600?new Blob([t]).size:t.replace(/[^\u0000-\u007F]/g,u).length}module.exports=i,r.prototype.unpack=function(){var t,e=this.unpack_uint8();if(e<128)return e;if((224^e)<32)return(224^e)-32;if((t=160^e)<=15)return this.unpack_raw(t);if((t=176^e)<=15)return this.unpack_string(t);if((t=144^e)<=15)return this.unpack_array(t);if((t=128^e)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}},r.prototype.unpack_uint8=function(){var t=255&this.dataView[this.index];return this.index++,t},r.prototype.unpack_uint16=function(){var t=this.read(2),e=256*(255&t[0])+(255&t[1]);return this.index+=2,e},r.prototype.unpack_uint32=function(){var t=this.read(4),e=256*(256*(256*t[0]+t[1])+t[2])+t[3];return this.index+=4,e},r.prototype.unpack_uint64=function(){var t=this.read(8),e=256*(256*(256*(256*(256*(256*(256*t[0]+t[1])+t[2])+t[3])+t[4])+t[5])+t[6])+t[7];return this.index+=8,e},r.prototype.unpack_int8=function(){var t=this.unpack_uint8();return t<128?t:t-256},r.prototype.unpack_int16=function(){var t=this.unpack_uint16();return t<32768?t:t-65536},r.prototype.unpack_int32=function(){var t=this.unpack_uint32();return t<Math.pow(2,31)?t:t-Math.pow(2,32)},r.prototype.unpack_int64=function(){var t=this.unpack_uint64();return t<Math.pow(2,63)?t:t-Math.pow(2,64)},r.prototype.unpack_raw=function(t){if(this.length<this.index+t)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+t+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e},r.prototype.unpack_string=function(t){for(var e,i,r=this.read(t),n=0,u="";n<t;)(e=r[n])<128?(u+=String.fromCharCode(e),n++):(192^e)<32?(i=(192^e)<<6|63&r[n+1],u+=String.fromCharCode(i),n+=2):(i=(15&e)<<12|(63&r[n+1])<<6|63&r[n+2],u+=String.fromCharCode(i),n+=3);return this.index+=t,u},r.prototype.unpack_array=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this.unpack();return e},r.prototype.unpack_map=function(t){for(var e={},i=0;i<t;i++){var r=this.unpack(),n=this.unpack();e[r]=n}return e},r.prototype.unpack_float=function(){var t=this.unpack_uint32(),e=(t>>23&255)-127;return(0===t>>31?1:-1)*(8388607&t|8388608)*Math.pow(2,e-23)},r.prototype.unpack_double=function(){var t=this.unpack_uint32(),e=this.unpack_uint32(),i=(t>>20&2047)-1023;return(0===t>>31?1:-1)*((1048575&t|1048576)*Math.pow(2,i-20)+e*Math.pow(2,i-52))},r.prototype.read=function(t){var e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")},n.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},n.prototype.pack=function(t){var i=typeof t;if("string"===i)this.pack_string(t);else if("number"===i)Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if("boolean"===i)!0===t?this.bufferBuilder.append(195):!1===t&&this.bufferBuilder.append(194);else if("undefined"===i)this.bufferBuilder.append(192);else{if("object"!==i)throw new Error('Type "'+i+'" not yet supported');if(null===t)this.bufferBuilder.append(192);else{var r=t.constructor;if(r==Array)this.pack_array(t);else if(r==Blob||r==File||t instanceof Blob||t instanceof File)this.pack_bin(t);else if(r==ArrayBuffer)e.useArrayBufferView?this.pack_bin(new Uint8Array(t)):this.pack_bin(t);else if("BYTES_PER_ELEMENT"in t)e.useArrayBufferView?this.pack_bin(new Uint8Array(t.buffer)):this.pack_bin(t.buffer);else if(r==Object||r.toString().startsWith("class"))this.pack_object(t);else if(r==Date)this.pack_string(t.toString());else{if("function"!=typeof t.toBinaryPack)throw new Error('Type "'+r.toString()+'" not yet supported');this.bufferBuilder.append(t.toBinaryPack())}}}this.bufferBuilder.flush()},n.prototype.pack_bin=function(t){var e=t.length||t.byteLength||t.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(e)}this.bufferBuilder.append(t)},n.prototype.pack_string=function(t){var e=a(t);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(e)}this.bufferBuilder.append(t)},n.prototype.pack_array=function(t){var e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(e)}for(var i=0;i<e;i++)this.pack(t[i])},n.prototype.pack_integer=function(t){if(t>=-32&&t<=127)this.bufferBuilder.append(255&t);else if(t>=0&&t<=255)this.bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this.bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this.bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this.bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this.bufferBuilder.append(210),this.pack_int32(t);else if(t>=-0x8000000000000000&&t<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(t);else{if(!(t>=0&&t<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(t)}},n.prototype.pack_double=function(t){var e=0;t<0&&(e=1,t=-t);var i=Math.floor(Math.log(t)/Math.LN2),r=t/Math.pow(2,i)-1,n=Math.floor(r*Math.pow(2,52)),u=Math.pow(2,32),a=e<<31|i+1023<<20|n/u&1048575,p=n%u;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(p)},n.prototype.pack_object=function(t){var e=Object.keys(t).length;if(e<=15)this.pack_uint8(128+e);else if(e<=65535)this.bufferBuilder.append(222),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(e)}for(var i in t)t.hasOwnProperty(i)&&(this.pack(i),this.pack(t[i]))},n.prototype.pack_uint8=function(t){this.bufferBuilder.append(t)},n.prototype.pack_uint16=function(t){this.bufferBuilder.append(t>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_uint32=function(t){var e=4294967295&t;this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},n.prototype.pack_uint64=function(t){var e=t/Math.pow(2,32),i=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&i)>>>24),this.bufferBuilder.append((16711680&i)>>>16),this.bufferBuilder.append((65280&i)>>>8),this.bufferBuilder.append(255&i)},n.prototype.pack_int8=function(t){this.bufferBuilder.append(255&t)},n.prototype.pack_int16=function(t){this.bufferBuilder.append((65280&t)>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_int32=function(t){this.bufferBuilder.append(t>>>24&255),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_int64=function(t){var e=Math.floor(t/Math.pow(2,32)),i=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&i)>>>24),this.bufferBuilder.append((16711680&i)>>>16),this.bufferBuilder.append((65280&i)>>>8),this.bufferBuilder.append(255&i)};
},{"./bufferbuilder":"EgBh"}],"iSxC":[function(require,module,exports) {
"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractVersion=o,exports.wrapPeerConnectionEvent=i,exports.disableLog=s,exports.disableWarnings=a,exports.log=p,exports.deprecated=u,exports.detectBrowser=c,exports.compactObject=f,exports.walkStats=l,exports.filterStats=v;var n=!0,r=!0;function o(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function i(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);var i=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,i),o.apply(this,[e,i])};var i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(n))return i.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function s(e){return"boolean"!=typeof e?new Error("Argument type: "+t(e)+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function a(e){return"boolean"!=typeof e?new Error("Argument type: "+t(e)+". Please use a boolean."):(r=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function p(){if("object"===("undefined"==typeof window?"undefined":t(window))){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function u(e,t){r&&console.warn(e+" is deprecated, please use "+t+" instead.")}function c(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=o(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=o(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=o(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=o(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function d(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(t){return d(t)?Object.keys(t).reduce(function(n,r){var o=d(t[r]),i=o?f(t[r]):t[r],s=o&&!Object.keys(i).length;return void 0===i||s?n:Object.assign(n,e({},r,i))},{}):t}function l(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(function(r){r.endsWith("Id")?l(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(function(t){l(e,e.get(t),n)})}))}function v(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var i=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(function(t){e.forEach(function(n){n.type===r&&n.trackId===t.id&&l(e,n,o)})}),o}
},{}],"s6SN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=i;var e=t(require("../utils.js"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function t(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=e.log;function i(e,r){var t=e&&e.navigator;if(t.mediaDevices){var i=function(e){if("object"!==o(e)||e.mandatory||e.optional)return e;var r={};return Object.keys(e).forEach(function(t){if("require"!==t&&"advanced"!==t&&"mediaSource"!==t){var n="object"===o(e[t])?e[t]:{ideal:e[t]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,r){return e?e+r.charAt(0).toUpperCase()+r.slice(1):"deviceId"===r?"sourceId":r};if(void 0!==n.ideal){r.optional=r.optional||[];var a={};"number"==typeof n.ideal?(a[i("min",t)]=n.ideal,r.optional.push(a),(a={})[i("max",t)]=n.ideal,r.optional.push(a)):(a[i("",t)]=n.ideal,r.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(r.mandatory=r.mandatory||{},r.mandatory[i("",t)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(r.mandatory=r.mandatory||{},r.mandatory[i(e,t)]=n[e])})}}),e.advanced&&(r.optional=(r.optional||[]).concat(e.advanced)),r},a=function(e,a){if(r.version>=61)return a(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===o(e.audio)){var c=function(e,r,t){r in e&&!(t in e)&&(e[t]=e[r],delete e[r])};c((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),c(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"===o(e.video)){var d=e.video.facingMode;d=d&&("object"===o(d)?d:{ideal:d});var u,s=r.version<66;if(d&&("user"===d.exact||"environment"===d.exact||"user"===d.ideal||"environment"===d.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||s))if(delete e.video.facingMode,"environment"===d.exact||"environment"===d.ideal?u=["back","rear"]:"user"!==d.exact&&"user"!==d.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then(function(r){var t=(r=r.filter(function(e){return"videoinput"===e.kind})).find(function(e){return u.some(function(r){return e.label.toLowerCase().includes(r)})});return!t&&r.length&&u.includes("back")&&(t=r[r.length-1]),t&&(e.video.deviceId=d.exact?{exact:t.deviceId}:{ideal:t.deviceId}),e.video=i(e.video),n("chrome: "+JSON.stringify(e)),a(e)});e.video=i(e.video)}return n("chrome: "+JSON.stringify(e)),a(e)},c=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,r,o){a(e,function(e){t.webkitGetUserMedia(e,r,function(e){o&&o(c(e))})})}.bind(t),t.mediaDevices.getUserMedia){var d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return a(e,function(e){return d(e).then(function(r){if(e.audio&&!r.getAudioTracks().length||e.video&&!r.getVideoTracks().length)throw r.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return r},function(e){return Promise.reject(c(e))})})}}}}
},{"../utils.js":"iSxC"}],"VHa8":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof i?e.navigator.mediaDevices.getDisplayMedia=function(a){return i(a).then(function(i){var t=a.video&&a.video.width,o=a.video&&a.video.height,d=a.video&&a.video.frameRate;return a.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:d||3}},t&&(a.video.mandatory.maxWidth=t),o&&(a.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(a)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"uI5X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimMediaStream=a,exports.shimOnTrack=c,exports.shimGetSendersWithDtmf=p,exports.shimGetStats=d,exports.shimSenderReceiverGetStats=h,exports.shimAddTrackRemoveTrackWithNative=f,exports.shimAddTrackRemoveTrack=m,exports.shimPeerConnection=u,exports.fixNegotiationNeeded=l,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}});var e=i(require("../utils.js")),t=require("./getusermedia"),r=require("./getdisplaymedia");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function c(t){if("object"!==s(t)||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)e.wrapPeerConnectionEvent(t,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._ontrackpoly||(this._ontrackpoly=function(r){r.stream.addEventListener("addtrack",function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?e.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],e.dispatchEvent(o)}),r.stream.getTracks().forEach(function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?e.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],e.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}}function p(e){if("object"===s(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(function(e){r._senders.push(t(r,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){var r=t._senders.find(function(t){return t.track===e});r&&t._senders.splice(t._senders.indexOf(r),1)})}}else if("object"===s(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function d(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,[r,n,i]=arguments;if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){n(s(o(e)))},r])}return new Promise(function(r,n){t.apply(e,[function(e){r(s(o(e)))},n])}).then(n,i)}}}function h(t){if("object"===s(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=r.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(r){return e.filterStats(r,t.track,!0)})}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),e.wrapPeerConnectionEvent(t,"track",function(e){return e.receiver._pc=e.srcElement,e}),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(r){return e.filterStats(r,t.track,!1)})}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){var e,r,n,i=arguments[0];return this.getSenders().forEach(function(t){t.track===i&&(e?n=!0:e=t)}),this.getReceivers().forEach(function(e){return e.track===i&&(r?n=!0:r=e),e.track===i}),n||e&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function f(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]}),i.apply(this,arguments)}}function m(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return f(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){if(r.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var s=new e.MediaStream([t]);this._streams[r.id]=s,this._reverseStreams[s.id]=r,this.addStream(s)}return this.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t],n=o({},t,function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=c(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then(function(t){return c(e,t)})});e.RTCPeerConnection.prototype[t]=n[t]});var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],r=t.sdp,Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})),s.apply(this,arguments)):s.apply(this,arguments);var e,t,r};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(n){r._streams[n].getTracks().find(function(t){return e.track===t})&&(t=r._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}}function u(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t],n=o({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=n[t]})}function l(t,r){e.wrapPeerConnectionEvent(t,"negotiationneeded",function(e){var t=e.target;if(!(r.version<72||t.getConfiguration&&"plan-b"===t.getConfiguration().sdpSemantics)||"stable"===t.signalingState)return e})}
},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],"NZ1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterIceServers=n;var r=t(require("../utils"));function e(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return e=function(){return r},r}function t(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=e();if(t&&t.has(r))return t.get(r);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var f=u?Object.getOwnPropertyDescriptor(r,i):null;f&&(f.get||f.set)?Object.defineProperty(n,i,f):n[i]=r[i]}return n.default=r,t&&t.set(r,n),n}function n(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var u="string"==typeof t;return u&&(t=[t]),t=t.filter(function(r){if(0===r.indexOf("stun:"))return!1;var e=r.startsWith("turn")&&!r.startsWith("turn:[")&&r.includes("transport=udp");return e&&!n?(n=!0,!0):e&&!n}),delete e.url,e.urls=u?t[0]:t,!!t.length}})}
},{"../utils":"iSxC"}],"YHvh":[function(require,module,exports) {
"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(r){return r.trim().split("\n").map(function(r){return r.trim()})},r.splitSections=function(r){return r.split("\nm=").map(function(r,e){return(e>0?"m="+r:r).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(r){return 0===r.indexOf(t)})},r.parseCandidate=function(r){for(var e,t={foundation:(e=0===r.indexOf("a=candidate:")?r.substring(12).split(" "):r.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},a=8;a<e.length;a+=2)switch(e[a]){case"raddr":t.relatedAddress=e[a+1];break;case"rport":t.relatedPort=parseInt(e[a+1],10);break;case"tcptype":t.tcpType=e[a+1];break;case"ufrag":t.ufrag=e[a+1],t.usernameFragment=e[a+1];break;default:t[e[a]]=e[a+1]}return t},r.writeCandidate=function(r){var e=[];e.push(r.foundation),e.push(r.component),e.push(r.protocol.toUpperCase()),e.push(r.priority),e.push(r.address||r.ip),e.push(r.port);var t=r.type;return e.push("typ"),e.push(t),"host"!==t&&r.relatedAddress&&r.relatedPort&&(e.push("raddr"),e.push(r.relatedAddress),e.push("rport"),e.push(r.relatedPort)),r.tcpType&&"tcp"===r.protocol.toLowerCase()&&(e.push("tcptype"),e.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(e.push("ufrag"),e.push(r.usernameFragment||r.ufrag)),"candidate:"+e.join(" ")},r.parseIceOptions=function(r){return r.substr(14).split(" ")},r.parseRtpMap=function(r){var e=r.substr(9).split(" "),t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},r.writeRtpMap=function(r){var e=r.payloadType;void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType);var t=r.channels||r.numChannels||1;return"a=rtpmap:"+e+" "+r.name+"/"+r.clockRate+(1!==t?"/"+t:"")+"\r\n"},r.parseExtmap=function(r){var e=r.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},r.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&"sendrecv"!==r.direction?"/"+r.direction:"")+" "+r.uri+"\r\n"},r.parseFmtp=function(r){for(var e,t={},a=r.substr(r.indexOf(" ")+1).split(";"),n=0;n<a.length;n++)t[(e=a[n].trim().split("="))[0].trim()]=e[1];return t},r.writeFmtp=function(r){var e="",t=r.payloadType;if(void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var a=[];Object.keys(r.parameters).forEach(function(e){r.parameters[e]?a.push(e+"="+r.parameters[e]):a.push(e)}),e+="a=fmtp:"+t+" "+a.join(";")+"\r\n"}return e},r.parseRtcpFb=function(r){var e=r.substr(r.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},r.writeRtcpFb=function(r){var e="",t=r.payloadType;return void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(r){e+="a=rtcp-fb:"+t+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+"\r\n"}),e},r.parseSsrcMedia=function(r){var e=r.indexOf(" "),t={ssrc:parseInt(r.substr(7,e-7),10)},a=r.indexOf(":",e);return a>-1?(t.attribute=r.substr(e+1,a-e-1),t.value=r.substr(a+1)):t.attribute=r.substr(e+1),t},r.parseSsrcGroup=function(r){var e=r.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(r){return parseInt(r,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(r){var e=r.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(r,e){var t="a=setup:"+e+"\r\n";return r.fingerprints.forEach(function(r){t+="a=fingerprint:"+r.algorithm+" "+r.value+"\r\n"}),t},r.parseCryptoLine=function(r){var e=r.substr(9).split(" ");return{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(r){if(0!==r.indexOf("inline:"))return null;var e=r.substr(7).split("|");return{keyMethod:"inline",keySalt:e[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var a=r.matchPrefix(e+t,"a=ice-ufrag:")[0],n=r.matchPrefix(e+t,"a=ice-pwd:")[0];return a&&n?{usernameFragment:a.substr(12),password:n.substr(10)}:null},r.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+"\r\na=ice-pwd:"+r.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=r.splitLines(e)[0].split(" "),n=3;n<a.length;n++){var s=a[n],i=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(i){var p=r.parseRtpMap(i),c=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(p.parameters=c.length?r.parseFmtp(c[0]):{},p.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(p.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var a="";a+="m="+e+" ",a+=t.codecs.length>0?"9":"0",a+=" UDP/TLS/RTP/SAVPF ",a+=t.codecs.map(function(r){return void 0!==r.preferredPayloadType?r.preferredPayloadType:r.payloadType}).join(" ")+"\r\n",a+="c=IN IP4 0.0.0.0\r\n",a+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){a+=r.writeRtpMap(e),a+=r.writeFmtp(e),a+=r.writeRtcpFb(e)});var n=0;return t.codecs.forEach(function(r){r.maxptime>n&&(n=r.maxptime)}),n>0&&(a+="a=maxptime:"+n+"\r\n"),a+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){a+=r.writeExtmap(e)}),a},r.parseRtpEncodingParameters=function(e){var t,a=[],n=r.parseRtpParameters(e),s=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),p=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute}),c=p.length>0&&p[0].ssrc,o=r.matchPrefix(e,"a=ssrc-group:FID").map(function(r){return r.substr(17).split(" ").map(function(r){return parseInt(r,10)})});o.length>0&&o[0].length>1&&o[0][0]===c&&(t=o[0][1]),n.codecs.forEach(function(r){if("RTX"===r.name.toUpperCase()&&r.parameters.apt){var e={ssrc:c,codecPayloadType:parseInt(r.parameters.apt,10)};c&&t&&(e.rtx={ssrc:t}),a.push(e),s&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:c,mechanism:i?"red+ulpfec":"red"},a.push(e))}}),0===a.length&&c&&a.push({ssrc:c});var u=r.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,a.forEach(function(r){r.maxBitrate=u})),a},r.parseRtcpParameters=function(e){var t={},a=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute})[0];a&&(t.cname=a.value,t.ssrc=a.ssrc);var n=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=0===n.length;var s=r.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},r.parseMsid=function(e){var t,a=r.matchPrefix(e,"a=msid:");if(1===a.length)return{stream:(t=a[0].substr(7).split(" "))[0],track:t[1]};var n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"msid"===r.attribute});return n.length>0?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,a=r.parseMLine(e),n=r.matchPrefix(e,"a=max-message-size:");n.length>0&&(t=parseInt(n[0].substr(19),10)),isNaN(t)&&(t=65536);var s=r.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:a.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var i=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(i[0],10),protocol:i[1],maxMessageSize:t}}},r.writeSctpDescription=function(r,e){var t=[];return t="DTLS/SCTP"!==r.protocol?["m="+r.kind+" 9 "+r.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+r.kind+" 9 "+r.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&t.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),t.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,a){var n=void 0!==t?t:2;return"v=0\r\no="+(a||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,a,n){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var i="msid:"+n.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s},r.getDirection=function(e,t){for(var a=r.splitLines(e),n=0;n<a.length;n++)switch(a[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[n].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(r){return"0"===r.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),a=0;a<t.length;a++)if(t[a].length<2||"="!==t[a].charAt(1))return!1;return!0},"object"==typeof module&&(module.exports=r);
},{}],"NJ2u":[function(require,module,exports) {
"use strict";var e=require("sdp");function t(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function r(t,r,n,a,i){var s=e.writeRtpDescription(t.kind,r);if(s+=e.writeIceParameters(t.iceGatherer.getLocalParameters()),s+=e.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),s+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?s+="a=sendrecv\r\n":t.rtpSender?s+="a=sendonly\r\n":t.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",t.rtpSender){var o=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=o;var c="msid:"+(a?a.id:"-")+" "+o+"\r\n";s+="a="+c,s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+c,t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+"\r\n"),s}function n(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var a="string"==typeof n;return a&&(n=[n]),n=n.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r?(r=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=a?n[0]:n,!!n.length}})}function a(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},a=function(e,t,r,a){var i=n(e.parameters.apt,r),s=n(t.parameters.apt,a);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach(function(n){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(n.name.toLowerCase()===s.name.toLowerCase()&&n.clockRate===s.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&s.parameters.apt&&!a(n,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(n.numChannels,s.numChannels),r.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var a=t.headerExtensions[n];if(e.uri===a.uri){r.headerExtensions.push(a);break}}}),r}function i(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function o(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}module.exports=function(c,d){function p(e,t){t.addTrack(e),t.dispatchEvent(new c.MediaStreamTrackEvent("addtrack",{track:e}))}function l(e,t,r,n){var a=new Event("track");a.track=t,a.receiver=r,a.transceiver={receiver:r},a.streams=n,c.setTimeout(function(){e._dispatchEvent("track",a)})}var f=function(t){var r=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){r[e]=a[e].bind(a)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw o("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=n(t.iceServers||[],d),this._iceGatherers=[],t.iceCandidatePoolSize)for(var i=t.iceCandidatePoolSize;i>0;i--)this._iceGatherers.push(new c.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=e.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},f.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var a=this._createIceAndDtlsTransports();n.iceTransport=a.iceTransport,n.dtlsTransport=a.dtlsTransport}return t||this.transceivers.push(n),n},f.prototype.addTrack=function(e,t){if(this._isClosed)throw o("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(t){return t.track===e}))throw o("InvalidAccessError","Track already exists.");for(var n=0;n<this.transceivers.length;n++)this.transceivers[n].track||this.transceivers[n].kind!==e.kind||(r=this.transceivers[n]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(t)&&this.localStreams.push(t),r.track=e,r.stream=t,r.rtpSender=new c.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},f.prototype.addStream=function(e){var t=this;if(d>=15025)e.getTracks().forEach(function(r){t.addTrack(r,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){t.addTrack(e,r)})}},f.prototype.removeTrack=function(e){if(this._isClosed)throw o("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof c.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var t=this.transceivers.find(function(t){return t.rtpSender===e});if(!t)throw o("InvalidAccessError","Sender was not created by this connection.");var r=t.stream;t.rtpSender.stop(),t.rtpSender=null,t.track=null,t.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},f.prototype._createIceGatherer=function(e,t){var r=this;if(t&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var n=new c.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(n,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var a=!t.candidate||0===Object.keys(t.candidate).length;n.state=a?"completed":"gathering",null!==r.transceivers[e].bufferedCandidateEvents&&r.transceivers[e].bufferedCandidateEvents.push(t)},n.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),n},f.prototype._gather=function(t,r){var n=this,a=this.transceivers[r].iceGatherer;if(!a.onlocalcandidate){var i=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),a.onlocalcandidate=function(i){if(!(n.usingBundle&&r>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:r};var o=i.candidate,c=!o||0===Object.keys(o).length;if(c)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),o.component=1,o.ufrag=a.getLocalParameters().usernameFragment;var d=e.writeCandidate(o);s.candidate=Object.assign(s.candidate,e.parseCandidate(d)),s.candidate.candidate=d,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var p=e.getMediaSections(n._localDescription.sdp);p[s.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",n._localDescription.sdp=e.getDescription(n._localDescription.sdp)+p.join("");var l=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),c||n._dispatchEvent("icecandidate",s),l&&(n._dispatchEvent("icecandidate",new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},c.setTimeout(function(){i.forEach(function(e){a.onlocalcandidate(e)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var e=this,t=new c.RTCIceTransport(null);t.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new c.RTCDtlsTransport(t);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:t,dtlsTransport:r}},f.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},f.prototype._transceive=function(t,r,n){var i=a(t.localCapabilities,t.remoteCapabilities);r&&t.rtpSender&&(i.encodings=t.sendEncodingParameters,i.rtcp={cname:e.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(i.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(i)),n&&t.rtpReceiver&&i.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&d<15019&&t.recvEncodingParameters.forEach(function(e){delete e.rtx}),t.recvEncodingParameters.length?i.encodings=t.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(i.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(i.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(i))},f.prototype.setLocalDescription=function(t){var r,n,s=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setLocalDescription",t.type,s.signalingState)||s._isClosed)return Promise.reject(o("InvalidStateError","Can not set local "+t.type+" in state "+s.signalingState));if("offer"===t.type)r=e.splitSections(t.sdp),n=r.shift(),r.forEach(function(t,r){var n=e.parseRtpParameters(t);s.transceivers[r].localCapabilities=n}),s.transceivers.forEach(function(e,t){s._gather(e.mid,t)});else if("answer"===t.type){r=e.splitSections(s._remoteDescription.sdp),n=r.shift();var c=e.matchPrefix(n,"a=ice-lite").length>0;r.forEach(function(t,r){var i=s.transceivers[r],o=i.iceGatherer,d=i.iceTransport,p=i.dtlsTransport,l=i.localCapabilities,f=i.remoteCapabilities;if(!(e.isRejected(t)&&0===e.matchPrefix(t,"a=bundle-only").length)&&!i.rejected){var u=e.getIceParameters(t,n),v=e.getDtlsParameters(t,n);c&&(v.role="server"),s.usingBundle&&0!==r||(s._gather(i.mid,r),"new"===d.state&&d.start(o,u,c?"controlling":"controlled"),"new"===p.state&&p.start(v));var h=a(l,f);s._transceive(i,h.codecs.length>0,!1)}})}return s._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(t){var r=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setRemoteDescription",t.type,r.signalingState)||r._isClosed)return Promise.reject(o("InvalidStateError","Can not set remote "+t.type+" in state "+r.signalingState));var n={};r.remoteStreams.forEach(function(e){n[e.id]=e});var f=[],u=e.splitSections(t.sdp),v=u.shift(),h=e.matchPrefix(v,"a=ice-lite").length>0,m=e.matchPrefix(v,"a=group:BUNDLE ").length>0;r.usingBundle=m;var g=e.matchPrefix(v,"a=ice-options:")[0];return r.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,u.forEach(function(i,o){var l=e.splitLines(i),u=e.getKind(i),g=e.isRejected(i)&&0===e.matchPrefix(i,"a=bundle-only").length,y=l[0].substr(2).split(" ")[2],S=e.getDirection(i,v),T=e.parseMsid(i),E=e.getMid(i)||e.generateIdentifier();if(g||"application"===u&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))r.transceivers[o]={mid:E,kind:u,protocol:y,rejected:!0};else{var C,P,w,R,_,k,b,x,D;!g&&r.transceivers[o]&&r.transceivers[o].rejected&&(r.transceivers[o]=r._createTransceiver(u,!0));var I,L,M=e.parseRtpParameters(i);g||(I=e.getIceParameters(i,v),(L=e.getDtlsParameters(i,v)).role="client"),b=e.parseRtpEncodingParameters(i);var O=e.parseRtcpParameters(i),G=e.matchPrefix(i,"a=end-of-candidates",v).length>0,j=e.matchPrefix(i,"a=candidate:").map(function(t){return e.parseCandidate(t)}).filter(function(e){return 1===e.component});if(("offer"===t.type||"answer"===t.type)&&!g&&m&&o>0&&r.transceivers[o]&&(r._disposeIceAndDtlsTransports(o),r.transceivers[o].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[o].iceTransport=r.transceivers[0].iceTransport,r.transceivers[o].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[o].rtpSender&&r.transceivers[o].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[o].rtpReceiver&&r.transceivers[o].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==t.type||g){if("answer"===t.type&&!g){P=(C=r.transceivers[o]).iceGatherer,w=C.iceTransport,R=C.dtlsTransport,_=C.rtpReceiver,k=C.sendEncodingParameters,x=C.localCapabilities,r.transceivers[o].recvEncodingParameters=b,r.transceivers[o].remoteCapabilities=M,r.transceivers[o].rtcpParameters=O,j.length&&"new"===w.state&&(!h&&!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):w.setRemoteCandidates(j)),m&&0!==o||("new"===w.state&&w.start(P,I,"controlling"),"new"===R.state&&R.start(L)),!a(C.localCapabilities,C.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,r._transceive(C,"sendrecv"===S||"recvonly"===S,"sendrecv"===S||"sendonly"===S),!_||"sendrecv"!==S&&"sendonly"!==S?delete C.rtpReceiver:(D=_.track,T?(n[T.stream]||(n[T.stream]=new c.MediaStream),p(D,n[T.stream]),f.push([D,_,n[T.stream]])):(n.default||(n.default=new c.MediaStream),p(D,n.default),f.push([D,_,n.default])))}}else{(C=r.transceivers[o]||r._createTransceiver(u)).mid=E,C.iceGatherer||(C.iceGatherer=r._createIceGatherer(o,m)),j.length&&"new"===C.iceTransport.state&&(!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):C.iceTransport.setRemoteCandidates(j)),x=c.RTCRtpReceiver.getCapabilities(u),d<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),k=C.sendEncodingParameters||[{ssrc:1001*(2*o+2)}];var N,A=!1;if("sendrecv"===S||"sendonly"===S){if(A=!C.rtpReceiver,_=C.rtpReceiver||new c.RTCRtpReceiver(C.dtlsTransport,u),A)D=_.track,T&&"-"===T.stream||(T?(n[T.stream]||(n[T.stream]=new c.MediaStream,Object.defineProperty(n[T.stream],"id",{get:function(){return T.stream}})),Object.defineProperty(D,"id",{get:function(){return T.track}}),N=n[T.stream]):(n.default||(n.default=new c.MediaStream),N=n.default)),N&&(p(D,N),C.associatedRemoteMediaStreams.push(N)),f.push([D,_,N])}else C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach(function(e){var t,r,n=e.getTracks().find(function(e){return e.id===C.rtpReceiver.track.id});n&&(t=n,(r=e).removeTrack(t),r.dispatchEvent(new c.MediaStreamTrackEvent("removetrack",{track:t})))}),C.associatedRemoteMediaStreams=[]);C.localCapabilities=x,C.remoteCapabilities=M,C.rtpReceiver=_,C.rtcpParameters=O,C.sendEncodingParameters=k,C.recvEncodingParameters=b,r._transceive(r.transceivers[o],!1,A)}}}),void 0===r._dtlsRole&&(r._dtlsRole="offer"===t.type?"active":"passive"),r._remoteDescription={type:t.type,sdp:t.sdp},"offer"===t.type?r._updateSignalingState("have-remote-offer"):r._updateSignalingState("stable"),Object.keys(n).forEach(function(e){var t=n[e];if(t.getTracks().length){if(-1===r.remoteStreams.indexOf(t)){r.remoteStreams.push(t);var a=new Event("addstream");a.stream=t,c.setTimeout(function(){r._dispatchEvent("addstream",a)})}f.forEach(function(e){var n=e[0],a=e[1];t.id===e[2].id&&l(r,n,a,[t])})}}),f.forEach(function(e){e[2]||l(r,e[0],e[1],[])}),c.setTimeout(function(){r&&r.transceivers&&r.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},f.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,c.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}},0))},f.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},f.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},f.prototype.createOffer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createOffer after close"));var n=t.transceivers.filter(function(e){return"audio"===e.kind}).length,a=t.transceivers.filter(function(e){return"video"===e.kind}).length,i=arguments[0];if(i){if(i.mandatory||i.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==i.offerToReceiveAudio&&(n=!0===i.offerToReceiveAudio?1:!1===i.offerToReceiveAudio?0:i.offerToReceiveAudio),void 0!==i.offerToReceiveVideo&&(a=!0===i.offerToReceiveVideo?1:!1===i.offerToReceiveVideo?0:i.offerToReceiveVideo)}for(t.transceivers.forEach(function(e){"audio"===e.kind?--n<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});n>0||a>0;)n>0&&(t._createTransceiver("audio"),n--),a>0&&(t._createTransceiver("video"),a--);var s=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.transceivers.forEach(function(r,n){var a=r.track,i=r.kind,s=r.mid||e.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=t._createIceGatherer(n,t.usingBundle));var o=c.RTCRtpSender.getCapabilities(i);d<15019&&(o.codecs=o.codecs.filter(function(e){return"rtx"!==e.name})),o.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),o.headerExtensions.forEach(function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var p=r.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];a&&d>=15019&&"video"===i&&!p[0].rtx&&(p[0].rtx={ssrc:p[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new c.RTCRtpReceiver(r.dtlsTransport,i)),r.localCapabilities=o,r.sendEncodingParameters=p}),"max-compat"!==t._config.bundlePolicy&&(s+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",t.transceivers.forEach(function(n,a){s+=r(n,n.localCapabilities,"offer",n.stream,t._dtlsRole),s+="a=rtcp-rsize\r\n",!n.iceGatherer||"new"===t.iceGatheringState||0!==a&&t.usingBundle||(n.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,s+="a="+e.writeCandidate(t)+"\r\n"}),"completed"===n.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))});var p=new c.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(p)},f.prototype.createAnswer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==t.signalingState&&"have-local-pranswer"!==t.signalingState)return Promise.reject(o("InvalidStateError","Can not call createAnswer in signalingState "+t.signalingState));var n=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.usingBundle&&(n+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),n+="a=ice-options:trickle\r\n";var i=e.getMediaSections(t._remoteDescription.sdp).length;t.transceivers.forEach(function(e,s){if(!(s+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?n+="m=application 0 DTLS/SCTP 5000\r\n":n+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?n+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(n+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(n+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var o;if(e.stream)"audio"===e.kind?o=e.stream.getAudioTracks()[0]:"video"===e.kind&&(o=e.stream.getVideoTracks()[0]),o&&d>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=a(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,n+=r(e,c,"answer",e.stream,t._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(n+="a=rtcp-rsize\r\n")}});var s=new c.RTCSessionDescription({type:"answer",sdp:n});return Promise.resolve(s)},f.prototype.addIceCandidate=function(t){var r,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(a,i){if(!n._remoteDescription)return i(o("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var c=t.sdpMLineIndex;if(t.sdpMid)for(var d=0;d<n.transceivers.length;d++)if(n.transceivers[d].mid===t.sdpMid){c=d;break}var p=n.transceivers[c];if(!p)return i(o("OperationError","Can not add ICE candidate"));if(p.rejected)return a();var l=Object.keys(t.candidate).length>0?e.parseCandidate(t.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return a();if(l.component&&1!==l.component)return a();if((0===c||c>0&&p.iceTransport!==n.transceivers[0].iceTransport)&&!s(p.iceTransport,l))return i(o("OperationError","Can not add ICE candidate"));var f=t.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(r=e.getMediaSections(n._remoteDescription.sdp))[c]+="a="+(l.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join("")}else for(var u=0;u<n.transceivers.length&&(n.transceivers[u].rejected||(n.transceivers[u].iceTransport.addRemoteCandidate({}),(r=e.getMediaSections(n._remoteDescription.sdp))[u]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join(""),!n.usingBundle));u++);a()})},f.prototype.getStats=function(e){if(e&&e instanceof c.MediaStreamTrack){var t=null;if(this.transceivers.forEach(function(r){r.rtpSender&&r.rtpSender.track===e?t=r.rtpSender:r.rtpReceiver&&r.rtpReceiver.track===e&&(t=r.rtpReceiver)}),!t)throw o("InvalidAccessError","Invalid selector.");return t.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var r=c[e];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var r=new Map;return Object.keys(e).forEach(function(n){e[n].type=t(e[n]),r.set(n,e[n])}),r})}}});var u=["createOffer","createAnswer"];return u.forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(u=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),f};
},{"sdp":"YHvh"}],"YdKx":[function(require,module,exports) {
"use strict";function e(e){var r=e&&e.navigator,t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return t(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=e;
},{}],"P3bV":[function(require,module,exports) {
"use strict";function e(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"XRic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimPeerConnection=p,exports.shimReplaceTrack=a,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}});var e=s(require("../utils")),t=require("./filtericeservers"),r=o(require("rtcpeerconnection-shim")),n=require("./getusermedia"),i=require("./getdisplaymedia");function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function p(n,i){if(n.RTCIceGatherer&&(n.RTCIceCandidate||(n.RTCIceCandidate=function(e){return e}),n.RTCSessionDescription||(n.RTCSessionDescription=function(e){return e}),i.version<15025)){var o=Object.getOwnPropertyDescriptor(n.MediaStreamTrack.prototype,"enabled");Object.defineProperty(n.MediaStreamTrack.prototype,"enabled",{set:function(e){o.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!n.RTCRtpSender||"dtmf"in n.RTCRtpSender.prototype||Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new n.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),n.RTCDtmfSender&&!n.RTCDTMFSender&&(n.RTCDTMFSender=n.RTCDtmfSender);var c=(0,r.default)(n,i.version);n.RTCPeerConnection=function(r){return r&&r.iceServers&&(r.iceServers=(0,t.filterIceServers)(r.iceServers,i.version),e.log("ICE servers after filtering:",r.iceServers)),new c(r)},n.RTCPeerConnection.prototype=c.prototype}function a(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}
},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],"GzSv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=n;var e=o(require("../utils"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t();if(o&&o.has(e))return o.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t,o){var n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,o,r){e.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(o,r)},!(o.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(e,t,o){t in e&&!(o in e)&&(e[o]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===r(e)&&"object"===r(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},i&&i.prototype.getSettings){var p=i.prototype.getSettings;i.prototype.getSettings=function(){var e=p.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===r(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}}
},{"../utils":"iSxC"}],"UuGU":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(a){if(!a||!a.video){var t=new DOMException("getDisplayMedia without video constraints is undefined");return t.name="NotFoundError",t.code=8,Promise.reject(t)}return!0===a.video?a.video={mediaSource:i}:a.video.mediaSource=i,e.navigator.mediaDevices.getUserMedia(a)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"Fzdr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimOnTrack=s,exports.shimPeerConnection=c,exports.shimSenderGetStats=p,exports.shimReceiverGetStats=u,exports.shimRemoveStream=f,exports.shimRTCDataChannel=d,exports.shimAddTransceiver=C,exports.shimGetParameters=y,exports.shimCreateOffer=l,exports.shimCreateAnswer=m,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}});var e=o(require("../utils")),t=require("./getusermedia"),n=require("./getdisplaymedia");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){"object"===a(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function c(e,t){if("object"===a(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=i({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=r[t]});var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var[e,o,i]=arguments;return r.apply(this,[e||null]).then(function(e){if(t.version<53&&!o)try{e.forEach(function(e){e.type=n[e.type]||e.type})}catch(r){if("TypeError"!==r.name)throw r;e.forEach(function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,i)}}}function p(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function u(t){if("object"===a(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&!(t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)){var n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),e.wrapPeerConnectionEvent(t,"track",function(e){return e.receiver._pc=e.srcElement,e}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function f(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var n=this;e.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(e){e.track&&t.getTracks().includes(e.track)&&n.removeTrack(e)})})}function d(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function C(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var r=t.apply(this,arguments);if(n){var{sender:o}=r,i=o.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e.sendEncodings,o.sendEncodings=e.sendEncodings,this.setParametersPromises.push(o.setParameters(i).then(function(){delete o.sendEncodings}).catch(function(){delete o.sendEncodings})))}return r})}}function y(e){if("object"===a(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function l(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}function m(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}
},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],"t1lL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimLocalStreamsAPI=n,exports.shimRemoteStreamsAPI=i,exports.shimCallbacksAPI=a,exports.shimGetUserMedia=c,exports.shimConstraints=s,exports.shimRTCIceServerUrls=d,exports.shimTrackEventTransceiver=f,exports.shimCreateOfferLegacy=p,exports.shimAudioContext=u;var e=r(require("../utils"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){if("object"===o(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(o){return t.call(r,o,e)}),e.getVideoTracks().forEach(function(o){return t.call(r,o,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return n&&n.forEach(function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var o=e.getTracks();this.getSenders().forEach(function(e){o.includes(e.track)&&t.removeTrack(e)})}})}}function i(e){if("object"===o(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}}function a(e){if("object"===o(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(e,t){var o=arguments.length>=2?arguments[2]:arguments[0],n=r.apply(this,[o]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};var s=function(e,t,r){var o=i.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o};t.setLocalDescription=s,s=function(e,t,r){var o=a.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.setRemoteDescription=s,s=function(e,t,r){var o=c.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.addIceCandidate=s}}function c(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,o=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return o(s(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,o){t.mediaDevices.getUserMedia(e).then(r,o)}.bind(t))}function s(t){return t&&void 0!==t.video?Object.assign({},t,{video:e.compactObject(t.video)}):t}function d(t){if(t.RTCPeerConnection){var r=t.RTCPeerConnection;t.RTCPeerConnection=function(t,o){if(t&&t.iceServers){for(var n=[],i=0;i<t.iceServers.length;i++){var a=t.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(e.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,n.push(a)):n.push(t.iceServers[i])}t.iceServers=n}return new r(t,o)},t.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return r.generateCertificate}})}}function f(e){"object"===o(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function p(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var o=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":"recvonly"===o.direction&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):!0!==e.offerToReceiveVideo||o||this.addTransceiver("video")}return t.apply(this,arguments)}}function u(e){"object"!==o(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}
},{"../utils":"iSxC"}],"GOQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimRTCIceCandidate=a,exports.shimMaxMessageSize=c,exports.shimSendThrowTypeError=s,exports.shimConnectionState=p,exports.removeExtmapAllowMixed=d,exports.shimAddIceCandidateNullOrEmpty=u;var e=r(require("sdp")),t=o(require("./utils"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(n){if(n.RTCIceCandidate&&!(n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)){var o=n.RTCIceCandidate;n.RTCIceCandidate=function(t){if("object"===i(t)&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var n=new o(t),r=e.default.parseCandidate(t.candidate),a=Object.assign(n,r);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new o(t)},n.RTCIceCandidate.prototype=o.prototype,t.wrapPeerConnectionEvent(n,"icecandidate",function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new n.RTCIceCandidate(e.candidate),writable:"false"}),e})}}function c(t,n){if(t.RTCPeerConnection){"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===n.browser&&n.version>=76){var{sdpSemantics:t}=this.getConfiguration();"plan-b"===t&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(t){if(!t||!t.sdp)return!1;var n=e.default.splitSections(t.sdp);return n.shift(),n.some(function(t){var n=e.default.parseMLine(t);return n&&"application"===n.kind&&-1!==n.protocol.indexOf("SCTP")})}(arguments[0])){var r,i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),a=(p=i,d=65536,"firefox"===n.browser&&(d=n.version<57?-1===p?16384:2147483637:n.version<60?57===n.version?65535:65536:2147483637),d),c=function(t,o){var r=65536;"firefox"===n.browser&&57===n.version&&(r=65535);var i=e.default.matchPrefix(t.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===n.browser&&-1!==o&&(r=2147483637),r}(arguments[0],i);r=0===a&&0===c?Number.POSITIVE_INFINITY:0===a||0===c?Math.max(a,c):Math.min(a,c);var s={};Object.defineProperty(s,"maxMessageSize",{get:function(){return r}}),this._sctp=s}var p,d;return o.apply(this,arguments)}}}function s(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return o(e,this),e},t.wrapPeerConnectionEvent(e,"datachannel",function(e){return o(e.channel,e.target),e})}function o(e,t){var n=e.send;e.send=function(){var o=arguments[0],r=o.length||o.size||o.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function p(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}}function d(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var o=t.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:o}):t.sdp=o}return n.apply(this,arguments)}}}function u(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}
},{"sdp":"YHvh","./utils":"iSxC"}],"KtlG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFactory=o;var e=m(require("./utils")),i=m(require("./chrome/chrome_shim")),r=m(require("./edge/edge_shim")),s=m(require("./firefox/firefox_shim")),t=m(require("./safari/safari_shim")),a=m(require("./common_shim"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=n();if(i&&i.has(e))return i.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=s?Object.getOwnPropertyDescriptor(e,t):null;a&&(a.get||a.set)?Object.defineProperty(r,t,a):r[t]=e[t]}return r.default=e,i&&i.set(e,r),r}function o(){var{window:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},o=e.log,h=e.detectBrowser(n),d={browserDetails:h,commonShim:a,extractVersion:e.extractVersion,disableLog:e.disableLog,disableWarnings:e.disableWarnings};switch(h.browser){case"chrome":if(!i||!i.shimPeerConnection||!m.shimChrome)return o("Chrome shim is not included in this adapter release."),d;if(null===h.version)return o("Chrome shim can not determine version, not shimming."),d;o("adapter.js shimming chrome."),d.browserShim=i,a.shimAddIceCandidateNullOrEmpty(n,h),i.shimGetUserMedia(n,h),i.shimMediaStream(n,h),i.shimPeerConnection(n,h),i.shimOnTrack(n,h),i.shimAddTrackRemoveTrack(n,h),i.shimGetSendersWithDtmf(n,h),i.shimGetStats(n,h),i.shimSenderReceiverGetStats(n,h),i.fixNegotiationNeeded(n,h),a.shimRTCIceCandidate(n,h),a.shimConnectionState(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h),a.removeExtmapAllowMixed(n,h);break;case"firefox":if(!s||!s.shimPeerConnection||!m.shimFirefox)return o("Firefox shim is not included in this adapter release."),d;o("adapter.js shimming firefox."),d.browserShim=s,a.shimAddIceCandidateNullOrEmpty(n,h),s.shimGetUserMedia(n,h),s.shimPeerConnection(n,h),s.shimOnTrack(n,h),s.shimRemoveStream(n,h),s.shimSenderGetStats(n,h),s.shimReceiverGetStats(n,h),s.shimRTCDataChannel(n,h),s.shimAddTransceiver(n,h),s.shimGetParameters(n,h),s.shimCreateOffer(n,h),s.shimCreateAnswer(n,h),a.shimRTCIceCandidate(n,h),a.shimConnectionState(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h);break;case"edge":if(!r||!r.shimPeerConnection||!m.shimEdge)return o("MS edge shim is not included in this adapter release."),d;o("adapter.js shimming edge."),d.browserShim=r,r.shimGetUserMedia(n,h),r.shimGetDisplayMedia(n,h),r.shimPeerConnection(n,h),r.shimReplaceTrack(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h);break;case"safari":if(!t||!m.shimSafari)return o("Safari shim is not included in this adapter release."),d;o("adapter.js shimming safari."),d.browserShim=t,a.shimAddIceCandidateNullOrEmpty(n,h),t.shimRTCIceServerUrls(n,h),t.shimCreateOfferLegacy(n,h),t.shimCallbacksAPI(n,h),t.shimLocalStreamsAPI(n,h),t.shimRemoteStreamsAPI(n,h),t.shimTrackEventTransceiver(n,h),t.shimGetUserMedia(n,h),t.shimAudioContext(n,h),a.shimRTCIceCandidate(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h),a.removeExtmapAllowMixed(n,h);break;default:o("Unsupported browser!")}return d}
},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],"tI1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./adapter_factory.js"),t=(0,e.adapterFactory)({window:"undefined"==typeof window?void 0:window}),d=t;exports.default=d;
},{"./adapter_factory.js":"KtlG"}],"sXtV":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.webRTCAdapter=void 0;var t=e(require("webrtc-adapter"));exports.webRTCAdapter=t.default;
},{"webrtc-adapter":"tI1X"}],"I31f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Supports=void 0;var r=require("./adapter");exports.Supports=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},e.prototype.isBrowserSupported=function(){var r=this.getBrowser(),e=this.getVersion();return!!this.supportedBrowsers.includes(r)&&("chrome"===r?e>=this.minChromeVersion:"firefox"===r?e>=this.minFirefoxVersion:"safari"===r&&(!this.isIOS&&e>=this.minSafariVersion))},e.prototype.getBrowser=function(){return r.webRTCAdapter.browserDetails.browser},e.prototype.getVersion=function(){return r.webRTCAdapter.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var e,i=this.getBrowser(),t=r.webRTCAdapter.browserDetails.version||0;if("chrome"===i&&t<72)return!1;if("firefox"===i&&t>=59)return!0;if(!(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype))return!1;var o=!1;try{(e=new RTCPeerConnection).addTransceiver("audio"),o=!0}catch(s){}finally{e&&e.close()}return o},e.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},e}());
},{"./adapter":"sXtV"}],"BHXf":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(o,r,n);return t(o,r),o};Object.defineProperty(exports,"__esModule",{value:!0}),exports.util=void 0;var o=r(require("peerjs-js-binarypack")),n=require("./supports"),i={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};exports.util=new(function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=i,this.browser=n.Supports.getBrowser(),this.browserVersion=n.Supports.getVersion(),this.supports=function(){var e,t={browser:n.Supports.isBrowserSupported(),webRTC:n.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{e=new RTCPeerConnection(i),t.audioVideo=!0;var r=void 0;try{r=e.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!n.Supports.isIOS}catch(o){}}catch(o){}finally{r&&r.close()}}catch(o){}finally{e&&e.close()}return t}(),this.pack=o.pack,this.unpack=o.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},e.prototype.chunk=function(e){for(var t=[],r=e.size,o=Math.ceil(r/exports.util.chunkedMTU),n=0,i=0;i<r;){var a=Math.min(r,i+exports.util.chunkedMTU),u=e.slice(i,a),s={__peerData:this._dataCount,n:n,data:u,total:o};t.push(s),i=a,n++}return this._dataCount++,t},e.prototype.blobToArrayBuffer=function(e,t){var r=new FileReader;return r.onload=function(e){e.target&&t(e.target.result)},r.readAsArrayBuffer(e),r},e.prototype.binaryStringToArrayBuffer=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},e.prototype.isSecure=function(){return"https:"===location.protocol},e}());
},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],"JJlS":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"WOs9":[function(require,module,exports) {
"use strict";var r=this&&this.__read||function(r,e){var o="function"==typeof Symbol&&r[Symbol.iterator];if(!o)return r;var t,n,l=o.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=l.next()).done;)i.push(t.value)}catch(s){n={error:s}}finally{try{t&&!t.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return i},e=this&&this.__spreadArray||function(r,e){for(var o=0,t=e.length,n=r.length;o<t;o++,n++)r[n]=e[o];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogLevel=void 0;var o,t="PeerJS: ";!function(r){r[r.Disabled=0]="Disabled",r[r.Errors=1]="Errors",r[r.Warnings=2]="Warnings",r[r.All=3]="All"}(o=exports.LogLevel||(exports.LogLevel={}));var n=function(){function n(){this._logLevel=o.Disabled}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(r){this._logLevel=r},enumerable:!1,configurable:!0}),n.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=o.All&&this._print.apply(this,e([o.All],r(t)))},n.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=o.Warnings&&this._print.apply(this,e([o.Warnings],r(t)))},n.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=o.Errors&&this._print.apply(this,e([o.Errors],r(t)))},n.prototype.setLogFunction=function(r){this._print=r},n.prototype._print=function(n){for(var l=[],i=1;i<arguments.length;i++)l[i-1]=arguments[i];var s=e([t],r(l));for(var a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);n>=o.All?console.log.apply(console,e([],r(s))):n>=o.Warnings?console.warn.apply(console,e(["WARNING"],r(s))):n>=o.Errors&&console.error.apply(console,e(["ERROR"],r(s)))},n}();exports.default=new n;
},{}],"ZRYf":[function(require,module,exports) {
"use strict";var e,r,o,n,t,a,i;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ServerMessageType=exports.SocketEventType=exports.SerializationType=exports.PeerErrorType=exports.PeerEventType=exports.ConnectionType=exports.ConnectionEventType=void 0,function(e){e.Open="open",e.Stream="stream",e.Data="data",e.Close="close",e.Error="error",e.IceStateChanged="iceStateChanged"}(e=exports.ConnectionEventType||(exports.ConnectionEventType={})),function(e){e.Data="data",e.Media="media"}(r=exports.ConnectionType||(exports.ConnectionType={})),function(e){e.Open="open",e.Close="close",e.Connection="connection",e.Call="call",e.Disconnected="disconnected",e.Error="error"}(o=exports.PeerEventType||(exports.PeerEventType={})),function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"}(n=exports.PeerErrorType||(exports.PeerErrorType={})),function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"}(t=exports.SerializationType||(exports.SerializationType={})),function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"}(a=exports.SocketEventType||(exports.SocketEventType={})),function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"}(i=exports.ServerMessageType||(exports.ServerMessageType={}));
},{}],"wJlv":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),t=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,s,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},n=this&&this.__spreadArray||function(e,t){for(var n=0,o=t.length,s=e.length;n<o;n++,s++)e[s]=t[n];return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Socket=void 0;var r=require("eventemitter3"),i=s(require("./logger")),c=require("./enums"),a=function(s){function r(e,t,n,o,r,i){void 0===i&&(i=5e3);var c=s.call(this)||this;c.pingInterval=i,c._disconnected=!0,c._messagesQueue=[];var a=e?"wss://":"ws://";return c._baseUrl=a+t+":"+n+o+"peerjs?key="+r,c}return e(r,s),r.prototype.start=function(e,t){var n=this;this._id=e;var o=this._baseUrl+"&id="+e+"&token="+t;!this._socket&&this._disconnected&&(this._socket=new WebSocket(o),this._disconnected=!1,this._socket.onmessage=function(e){var t;try{t=JSON.parse(e.data),i.default.log("Server message received:",t)}catch(o){return void i.default.log("Invalid server message",e.data)}n.emit(c.SocketEventType.Message,t)},this._socket.onclose=function(e){n._disconnected||(i.default.log("Socket closed.",e),n._cleanup(),n._disconnected=!0,n.emit(c.SocketEventType.Disconnected))},this._socket.onopen=function(){n._disconnected||(n._sendQueuedMessages(),i.default.log("Socket open"),n._scheduleHeartbeat())})},r.prototype._scheduleHeartbeat=function(){var e=this;this._wsPingTimer=setTimeout(function(){e._sendHeartbeat()},this.pingInterval)},r.prototype._sendHeartbeat=function(){if(this._wsOpen()){var e=JSON.stringify({type:c.ServerMessageType.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}else i.default.log("Cannot send heartbeat, because socket closed")},r.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},r.prototype._sendQueuedMessages=function(){var e,s,r=n([],t(this._messagesQueue));this._messagesQueue=[];try{for(var i=o(r),c=i.next();!c.done;c=i.next()){var a=c.value;this.send(a)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(e)throw e.error}}},r.prototype.send=function(e){if(!this._disconnected)if(this._id)if(e.type){if(this._wsOpen()){var t=JSON.stringify(e);this._socket.send(t)}}else this.emit(c.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(e)},r.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},r.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},r}(r.EventEmitter);exports.Socket=a;
},{"eventemitter3":"JJlS","./logger":"WOs9","./enums":"ZRYf"}],"HCdX":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(i,r){function c(e){try{s(o.next(e))}catch(n){r(n)}}function a(e){try{s(o.throw(e))}catch(n){r(n)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(c,a)}s((o=o.apply(e,n||[])).next())})},t=this&&this.__generator||function(e,n){var t,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=n.call(e,c)}catch(a){r=[6,a],o=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Negotiator=void 0;var i=require("./util"),r=o(require("./logger")),c=require("./enums"),a=function(){function o(e){this.connection=e}return o.prototype.startConnection=function(e){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===c.ConnectionType.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){if(this.connection.type===c.ConnectionType.Data){var t=this.connection,o={ordered:!!e.reliable},i=n.createDataChannel(t.label,o);t.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},o.prototype._startPeerConnection=function(){r.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},o.prototype._setupListeners=function(e){var n=this,t=this.connection.peer,o=this.connection.connectionId,a=this.connection.type,s=this.connection.provider;r.default.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&e.candidate.candidate&&(r.default.log("Received ICE candidates for "+t+":",e.candidate),s.socket.send({type:c.ServerMessageType.Candidate,payload:{candidate:e.candidate,type:a,connectionId:o},dst:t}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":r.default.log("iceConnectionState is failed, closing connections to "+t),n.connection.emit(c.ConnectionEventType.Error,new Error("Negotiation of connection to "+t+" failed.")),n.connection.close();break;case"closed":r.default.log("iceConnectionState is closed, closing connections to "+t),n.connection.emit(c.ConnectionEventType.Error,new Error("Connection to "+t+" closed.")),n.connection.close();break;case"disconnected":r.default.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=i.util.noop}n.connection.emit(c.ConnectionEventType.IceStateChanged,e.iceConnectionState)},r.default.log("Listening for data channel"),e.ondatachannel=function(e){r.default.log("Received data channel");var n=e.channel;s.getConnection(t,o).initialize(n)},r.default.log("Listening for remote stream"),e.ontrack=function(e){r.default.log("Received remote stream");var i=e.streams[0],a=s.getConnection(t,o);if(a.type===c.ConnectionType.Media){var d=a;n._addStreamToMediaConnection(i,d)}}},o.prototype.cleanup=function(){r.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var n="closed"!==e.signalingState,t=!1;if(this.connection.type===c.ConnectionType.Data){var o=this.connection.dataChannel;o&&(t=!!o.readyState&&"closed"!==o.readyState)}(n||t)&&e.close()}},o.prototype._makeOffer=function(){return n(this,void 0,Promise,function(){var n,o,a,s,d,l,u;return t(this,function(t){switch(t.label){case 0:n=this.connection.peerConnection,o=this.connection.provider,t.label=1;case 1:return t.trys.push([1,7,,8]),[4,n.createOffer(this.connection.options.constraints)];case 2:a=t.sent(),r.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(a.sdp=this.connection.options.sdpTransform(a.sdp)||a.sdp),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,n.setLocalDescription(a)];case 4:return t.sent(),r.default.log("Set localDescription:",a,"for:"+this.connection.peer),s={sdp:a,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:i.util.browser},this.connection.type===c.ConnectionType.Data&&(d=this.connection,s=e(e({},s),{label:d.label,reliable:d.reliable,serialization:d.serialization})),o.socket.send({type:c.ServerMessageType.Offer,payload:s,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(l=t.sent())&&(o.emitError(c.PeerErrorType.WebRTC,l),r.default.log("Failed to setLocalDescription, ",l)),[3,6];case 6:return[3,8];case 7:return u=t.sent(),o.emitError(c.PeerErrorType.WebRTC,u),r.default.log("Failed to createOffer, ",u),[3,8];case 8:return[2]}})})},o.prototype._makeAnswer=function(){return n(this,void 0,Promise,function(){var e,n,o,a,s;return t(this,function(t){switch(t.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,t.label=1;case 1:return t.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:o=t.sent(),r.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,e.setLocalDescription(o)];case 4:return t.sent(),r.default.log("Set localDescription:",o,"for:"+this.connection.peer),n.socket.send({type:c.ServerMessageType.Answer,payload:{sdp:o,type:this.connection.type,connectionId:this.connection.connectionId,browser:i.util.browser},dst:this.connection.peer}),[3,6];case 5:return a=t.sent(),n.emitError(c.PeerErrorType.WebRTC,a),r.default.log("Failed to setLocalDescription, ",a),[3,6];case 6:return[3,8];case 7:return s=t.sent(),n.emitError(c.PeerErrorType.WebRTC,s),r.default.log("Failed to create answer, ",s),[3,8];case 8:return[2]}})})},o.prototype.handleSDP=function(e,o){return n(this,void 0,Promise,function(){var n,i,a,s;return t(this,function(t){switch(t.label){case 0:o=new RTCSessionDescription(o),n=this.connection.peerConnection,i=this.connection.provider,r.default.log("Setting remote description",o),a=this,t.label=1;case 1:return t.trys.push([1,5,,6]),[4,n.setRemoteDescription(o)];case 2:return t.sent(),r.default.log("Set remoteDescription:"+e+" for:"+this.connection.peer),"OFFER"!==e?[3,4]:[4,a._makeAnswer()];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:return s=t.sent(),i.emitError(c.PeerErrorType.WebRTC,s),r.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},o.prototype.handleCandidate=function(e){return n(this,void 0,Promise,function(){var n,o,i,a,s,d;return t(this,function(t){switch(t.label){case 0:r.default.log("handleCandidate:",e),n=e.candidate,o=e.sdpMLineIndex,i=e.sdpMid,a=this.connection.peerConnection,s=this.connection.provider,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:o,candidate:n}))];case 2:return t.sent(),r.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=t.sent(),s.emitError(c.PeerErrorType.WebRTC,d),r.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},o.prototype._addTracksToConnection=function(e,n){if(r.default.log("add tracks from stream "+e.id+" to peer connection"),!n.addTrack)return r.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(function(t){n.addTrack(t,e)})},o.prototype._addStreamToMediaConnection=function(e,n){r.default.log("add stream "+e.id+" to media connection "+n.connectionId),n.addStream(e)},o}();exports.Negotiator=a;
},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],"tQFK":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseConnection=void 0;var e=require("eventemitter3"),n=function(e){function n(t,n,o){var r=e.call(this)||this;return r.peer=t,r.provider=n,r.options=o,r._open=!1,r.metadata=o.metadata,r}return t(n,e),Object.defineProperty(n.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),n}(e.EventEmitter);exports.BaseConnection=n;
},{"eventemitter3":"JJlS"}],"dbHP":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MediaConnection=void 0;var n=require("./util"),i=r(require("./logger")),a=require("./negotiator"),s=require("./enums"),l=require("./baseconnection"),c=function(r){function l(e,t,o){var i=r.call(this,e,t,o)||this;return i._localStream=i.options._stream,i.connectionId=i.options.connectionId||l.ID_PREFIX+n.util.randomToken(),i._negotiator=new a.Negotiator(i),i._localStream&&i._negotiator.startConnection({_stream:i._localStream,originator:!0}),i}return e(l,r),Object.defineProperty(l.prototype,"type",{get:function(){return s.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),l.prototype.addStream=function(e){i.default.log("Receiving stream",e),this._remoteStream=e,r.prototype.emit.call(this,s.ConnectionEventType.Stream,e)},l.prototype.handleMessage=function(e){var t=e.type,o=e.payload;switch(e.type){case s.ServerMessageType.Answer:this._negotiator.handleSDP(t,o.sdp),this._open=!0;break;case s.ServerMessageType.Candidate:this._negotiator.handleCandidate(o.candidate);break;default:i.default.warn("Unrecognized message type:"+t+" from peer:"+this.peer)}},l.prototype.answer=function(e,r){var n,a;if(void 0===r&&(r={}),this._localStream)i.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=e,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(t(t({},this.options._payload),{_stream:e}));var s=this.provider._getMessages(this.connectionId);try{for(var l=o(s),c=l.next();!c.done;c=l.next()){var p=c.value;this.handleMessage(p)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}this._open=!0}},l.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,r.prototype.emit.call(this,s.ConnectionEventType.Close))},l.ID_PREFIX="mc_",l}(l.BaseConnection);exports.MediaConnection=c;
},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],"GGp6":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EncodingQueue=void 0;var r=require("eventemitter3"),o=t(require("./logger")),n=function(t){function r(){var e=t.call(this)||this;return e.fileReader=new FileReader,e._queue=[],e._processing=!1,e.fileReader.onload=function(t){e._processing=!1,t.target&&e.emit("done",t.target.result),e.doNextTask()},e.fileReader.onerror=function(t){o.default.error("EncodingQueue error:",t),e._processing=!1,e.destroy(),e.emit("error",t)},e}return e(r,t),Object.defineProperty(r.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),r.prototype.enque=function(e){this.queue.push(e),this.processing||this.doNextTask()},r.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},r.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},r}(r.EventEmitter);exports.EncodingQueue=n;
},{"eventemitter3":"JJlS","./logger":"WOs9"}],"GBTQ":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),t=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataConnection=void 0;var i=require("./util"),o=n(require("./logger")),r=require("./negotiator"),a=require("./enums"),s=require("./baseconnection"),u=require("./encodingQueue"),l=function(n){function s(e,t,l){var f=n.call(this,e,t,l)||this;return f.stringify=JSON.stringify,f.parse=JSON.parse,f._buffer=[],f._bufferSize=0,f._buffering=!1,f._chunkedData={},f._encodingQueue=new u.EncodingQueue,f.connectionId=f.options.connectionId||s.ID_PREFIX+i.util.randomToken(),f.label=f.options.label||f.connectionId,f.serialization=f.options.serialization||a.SerializationType.Binary,f.reliable=!!f.options.reliable,f._encodingQueue.on("done",function(e){f._bufferedSend(e)}),f._encodingQueue.on("error",function(){o.default.error("DC#"+f.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),f.close()}),f._negotiator=new r.Negotiator(f),f._negotiator.startConnection(f.options._payload||{originator:!0}),f}return e(s,n),Object.defineProperty(s.prototype,"type",{get:function(){return a.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e){this._dc=e,this._configureDataChannel()},s.prototype._configureDataChannel=function(){var e=this;i.util.supports.binaryBlob&&!i.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){o.default.log("DC#"+e.connectionId+" dc connection success"),e._open=!0,e.emit(a.ConnectionEventType.Open)},this.dataChannel.onmessage=function(t){o.default.log("DC#"+e.connectionId+" dc onmessage:",t.data),e._handleDataMessage(t)},this.dataChannel.onclose=function(){o.default.log("DC#"+e.connectionId+" dc closed for:",e.peer),e.close()}},s.prototype._handleDataMessage=function(e){var t=this,o=e.data,r=o.constructor,s=o;if(this.serialization===a.SerializationType.Binary||this.serialization===a.SerializationType.BinaryUTF8){if(r===Blob)return void i.util.blobToArrayBuffer(o,function(e){var n=i.util.unpack(e);t.emit(a.ConnectionEventType.Data,n)});if(r===ArrayBuffer)s=i.util.unpack(o);else if(r===String){var u=i.util.binaryStringToArrayBuffer(o);s=i.util.unpack(u)}}else this.serialization===a.SerializationType.JSON&&(s=this.parse(o));s.__peerData?this._handleChunk(s):n.prototype.emit.call(this,a.ConnectionEventType.Data,s)},s.prototype._handleChunk=function(e){var t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];var i=new Blob(n.data);this._handleDataMessage({data:i})}},s.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,n.prototype.emit.call(this,a.ConnectionEventType.Close))},s.prototype.send=function(e,t){if(this.open)if(this.serialization===a.SerializationType.JSON)this._bufferedSend(this.stringify(e));else if(this.serialization===a.SerializationType.Binary||this.serialization===a.SerializationType.BinaryUTF8){var o=i.util.pack(e);if(!t&&o.size>i.util.chunkedMTU)return void this._sendChunks(o);i.util.supports.binaryBlob?this._bufferedSend(o):this._encodingQueue.enque(o)}else this._bufferedSend(e);else n.prototype.emit.call(this,a.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},s.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)},s.prototype._trySend=function(e){var t=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>s.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){t._buffering=!1,t._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return o.default.error("DC#:"+this.connectionId+" Error when sending:",n),this._buffering=!0,this.close(),!1}return!0},s.prototype._tryBuffer=function(){if(this.open&&0!==this._buffer.length){var e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},s.prototype._sendChunks=function(e){var n,r,a=i.util.chunk(e);o.default.log("DC#"+this.connectionId+" Try to send "+a.length+" chunks...");try{for(var s=t(a),u=s.next();!u.done;u=s.next()){var l=u.value;this.send(l,!0)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},s.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case a.ServerMessageType.Answer:this._negotiator.handleSDP(e.type,t.sdp);break;case a.ServerMessageType.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:o.default.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},s.ID_PREFIX="dc_",s.MAX_BUFFERED_AMOUNT=8388608,s}(s.BaseConnection);exports.DataConnection=l;
},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],"in7L":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,s){function i(t){try{a(o.next(t))}catch(e){s(e)}}function u(t){try{a(o.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}a((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var r,o,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){i.label=s[1];break}if(6===s[0]&&i.label<n[1]){i.label=n[1],n=s;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(s);break}n[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(u){s=[6,u],o=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.API=void 0;var o=require("./util"),n=r(require("./logger")),s=function(){function r(t){this._options=t}return r.prototype._buildUrl=function(t){var e=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+t;return e+="?ts="+(new Date).getTime()+Math.random()},r.prototype.retrieveId=function(){return t(this,void 0,Promise,function(){var t,r,s,i;return e(this,function(e){switch(e.label){case 0:t=this._buildUrl("id"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(r=e.sent()).status)throw new Error("Error. Status:"+r.status);return[2,r.text()];case 3:throw s=e.sent(),n.default.error("Error retrieving ID",s),i="","/"===this._options.path&&this._options.host!==o.util.CLOUD_HOST&&(i=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+i);case 4:return[2]}})})},r.prototype.listAllPeers=function(){return t(this,void 0,Promise,function(){var t,r,s,i;return e(this,function(e){switch(e.label){case 0:t=this._buildUrl("peers"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(r=e.sent()).status){if(401===r.status)throw s="",s=this._options.host===o.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+s);throw new Error("Error. Status:"+r.status)}return[2,r.json()];case 3:throw i=e.sent(),n.default.error("Error retrieving list peers",i),new Error("Could not get list peers from the server."+i);case 4:return[2]}})})},r}();exports.API=s;
},{"./util":"BHXf","./logger":"WOs9"}],"Hxpd":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Peer=void 0;var i=require("eventemitter3"),s=require("./util"),a=o(require("./logger")),c=require("./socket"),l=require("./mediaconnection"),u=require("./dataconnection"),d=require("./enums"),p=require("./api"),h=function(){return function(){}}(),f=function(o){function i(e,n){var r,c=o.call(this)||this;return c._id=null,c._lastServerId=null,c._destroyed=!1,c._disconnected=!1,c._open=!1,c._connections=new Map,c._lostMessages=new Map,e&&e.constructor==Object?n=e:e&&(r=e.toString()),n=t({debug:0,host:s.util.CLOUD_HOST,port:s.util.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:s.util.randomToken(),config:s.util.defaultConfig},n),c._options=n,"/"===c._options.host&&(c._options.host=window.location.hostname),c._options.path&&("/"!==c._options.path[0]&&(c._options.path="/"+c._options.path),"/"!==c._options.path[c._options.path.length-1]&&(c._options.path+="/")),void 0===c._options.secure&&c._options.host!==s.util.CLOUD_HOST?c._options.secure=s.util.isSecure():c._options.host==s.util.CLOUD_HOST&&(c._options.secure=!0),c._options.logFunction&&a.default.setLogFunction(c._options.logFunction),a.default.logLevel=c._options.debug||0,c._api=new p.API(n),c._socket=c._createServerConnection(),s.util.supports.audioVideo||s.util.supports.data?r&&!s.util.validateId(r)?(c._delayedAbort(d.PeerErrorType.InvalidID,'ID "'+r+'" is invalid'),c):(r?c._initialize(r):c._api.retrieveId().then(function(e){return c._initialize(e)}).catch(function(e){return c._abort(d.PeerErrorType.ServerError,e)}),c):(c._delayedAbort(d.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),c)}return e(i,o),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var e,t,o=Object.create(null);try{for(var i=n(this._connections),s=i.next();!s.done;s=i.next()){var a=r(s.value,2),c=a[0],l=a[1];o[c]=l}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),i.prototype._createServerConnection=function(){var e=this,t=new c.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(d.SocketEventType.Message,function(t){e._handleMessage(t)}),t.on(d.SocketEventType.Error,function(t){e._abort(d.PeerErrorType.SocketError,t)}),t.on(d.SocketEventType.Disconnected,function(){e.disconnected||(e.emitError(d.PeerErrorType.Network,"Lost connection to server."),e.disconnect())}),t.on(d.SocketEventType.Close,function(){e.disconnected||e._abort(d.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),t},i.prototype._initialize=function(e){this._id=e,this.socket.start(e,this._options.token)},i.prototype._handleMessage=function(e){var t,r,o=e.type,i=e.payload,s=e.src;switch(o){case d.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(d.PeerEventType.Open,this.id);break;case d.ServerMessageType.Error:this._abort(d.PeerErrorType.ServerError,i.msg);break;case d.ServerMessageType.IdTaken:this._abort(d.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case d.ServerMessageType.InvalidKey:this._abort(d.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case d.ServerMessageType.Leave:a.default.log("Received leave message from "+s),this._cleanupPeer(s),this._connections.delete(s);break;case d.ServerMessageType.Expire:this.emitError(d.PeerErrorType.PeerUnavailable,"Could not connect to peer "+s);break;case d.ServerMessageType.Offer:var c=i.connectionId;if((_=this.getConnection(s,c))&&(_.close(),a.default.warn("Offer received for existing Connection ID:"+c)),i.type===d.ConnectionType.Media)_=new l.MediaConnection(s,this,{connectionId:c,_payload:i,metadata:i.metadata}),this._addConnection(s,_),this.emit(d.PeerEventType.Call,_);else{if(i.type!==d.ConnectionType.Data)return void a.default.warn("Received malformed connection type:"+i.type);_=new u.DataConnection(s,this,{connectionId:c,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(s,_),this.emit(d.PeerEventType.Connection,_)}var p=this._getMessages(c);try{for(var h=n(p),f=h.next();!f.done;f=h.next()){var y=f.value;_.handleMessage(y)}}catch(v){t={error:v}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}break;default:if(!i)return void a.default.warn("You received a malformed message from "+s+" of type "+o);var _;c=i.connectionId;(_=this.getConnection(s,c))&&_.peerConnection?_.handleMessage(e):c?this._storeMessage(c,e):a.default.warn("You received an unrecognized message:",e)}},i.prototype._storeMessage=function(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)},i.prototype._getMessages=function(e){var t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]},i.prototype.connect=function(e,t){if(void 0===t&&(t={}),this.disconnected)return a.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(d.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var n=new u.DataConnection(e,this,t);return this._addConnection(e,n),n},i.prototype.call=function(e,t,n){if(void 0===n&&(n={}),this.disconnected)return a.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(d.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(t){n._stream=t;var r=new l.MediaConnection(e,this,n);return this._addConnection(e,r),r}a.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(e,t){a.default.log("add connection "+t.type+":"+t.connectionId+" to peerId:"+e),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)},i.prototype._removeConnection=function(e){var t=this._connections.get(e.peer);if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)},i.prototype.getConnection=function(e,t){var r,o,i=this._connections.get(e);if(!i)return null;try{for(var s=n(i),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.connectionId===t)return c}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return null},i.prototype._delayedAbort=function(e,t){var n=this;setTimeout(function(){n._abort(e,t)},0)},i.prototype._abort=function(e,t){a.default.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(e,t){var n;a.default.error("Error:",t),(n="string"==typeof t?new Error(t):t).type=e,this.emit(d.PeerEventType.Error,n)},i.prototype.destroy=function(){this.destroyed||(a.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(d.PeerEventType.Close))},i.prototype._cleanup=function(){var e,t;try{for(var r=n(this._connections.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;this._cleanupPeer(i),this._connections.delete(i)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(e){var t,r,o=this._connections.get(e);if(o)try{for(var i=n(o),s=i.next();!s.done;s=i.next()){s.value.close()}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var e=this.id;a.default.log("Disconnect peer with ID:"+e),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit(d.PeerEventType.Disconnected,e)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)a.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");a.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(e){var t=this;void 0===e&&(e=function(e){}),this._api.listAllPeers().then(function(t){return e(t)}).catch(function(e){return t._abort(d.PeerErrorType.ServerError,e)})},i.DEFAULT_KEY="peerjs",i}(i.EventEmitter);exports.Peer=f;
},{"eventemitter3":"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],"iTK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peerjs=void 0;var e=require("./util"),r=require("./peer");exports.peerjs={Peer:r.Peer,util:e.util},exports.default=r.Peer,window.peerjs=exports.peerjs,window.Peer=r.Peer;
},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"], null)
//# sourceMappingURL=/peerjs.min.js.map

/***/ }),

/***/ "./node_modules/peerjs/dist sync recursive":
/*!****************************************!*\
  !*** ./node_modules/peerjs/dist/ sync ***!
  \****************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/peerjs/dist sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/socket.io-client/build/index.js":
/*!******************************************************!*\
  !*** ./node_modules/socket.io-client/build/index.js ***!
  \******************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.io = exports.Socket = exports.Manager = exports.protocol = void 0;
const url_1 = __webpack_require__(/*! ./url */ "./node_modules/socket.io-client/build/url.js");
const manager_1 = __webpack_require__(/*! ./manager */ "./node_modules/socket.io-client/build/manager.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")("socket.io-client");
/**
 * Module exports.
 */
module.exports = exports = lookup;
/**
 * Managers cache.
 */
const cache = (exports.managers = {});
function lookup(uri, opts) {
    if (typeof uri === "object") {
        opts = uri;
        uri = undefined;
    }
    opts = opts || {};
    const parsed = url_1.url(uri, opts.path || "/socket.io");
    const source = parsed.source;
    const id = parsed.id;
    const path = parsed.path;
    const sameNamespace = cache[id] && path in cache[id]["nsps"];
    const newConnection = opts.forceNew ||
        opts["force new connection"] ||
        false === opts.multiplex ||
        sameNamespace;
    let io;
    if (newConnection) {
        debug("ignoring socket cache for %s", source);
        io = new manager_1.Manager(source, opts);
    }
    else {
        if (!cache[id]) {
            debug("new io instance for %s", source);
            cache[id] = new manager_1.Manager(source, opts);
        }
        io = cache[id];
    }
    if (parsed.query && !opts.query) {
        opts.query = parsed.queryKey;
    }
    return io.socket(parsed.path, opts);
}
exports.io = lookup;
/**
 * Protocol version.
 *
 * @public
 */
var socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/dist/index.js");
Object.defineProperty(exports, "protocol", ({ enumerable: true, get: function () { return socket_io_parser_1.protocol; } }));
/**
 * `connect`.
 *
 * @param {String} uri
 * @public
 */
exports.connect = lookup;
/**
 * Expose constructors for standalone build.
 *
 * @public
 */
var manager_2 = __webpack_require__(/*! ./manager */ "./node_modules/socket.io-client/build/manager.js");
Object.defineProperty(exports, "Manager", ({ enumerable: true, get: function () { return manager_2.Manager; } }));
var socket_1 = __webpack_require__(/*! ./socket */ "./node_modules/socket.io-client/build/socket.js");
Object.defineProperty(exports, "Socket", ({ enumerable: true, get: function () { return socket_1.Socket; } }));
exports.default = lookup;


/***/ }),

/***/ "./node_modules/socket.io-client/build/manager.js":
/*!********************************************************!*\
  !*** ./node_modules/socket.io-client/build/manager.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Manager = void 0;
const eio = __webpack_require__(/*! engine.io-client */ "./node_modules/engine.io-client/lib/index.js");
const socket_1 = __webpack_require__(/*! ./socket */ "./node_modules/socket.io-client/build/socket.js");
const parser = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/dist/index.js");
const on_1 = __webpack_require__(/*! ./on */ "./node_modules/socket.io-client/build/on.js");
const Backoff = __webpack_require__(/*! backo2 */ "./node_modules/backo2/index.js");
const typed_events_1 = __webpack_require__(/*! ./typed-events */ "./node_modules/socket.io-client/build/typed-events.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")("socket.io-client:manager");
class Manager extends typed_events_1.StrictEventEmitter {
    constructor(uri, opts) {
        super();
        this.nsps = {};
        this.subs = [];
        if (uri && "object" === typeof uri) {
            opts = uri;
            uri = undefined;
        }
        opts = opts || {};
        opts.path = opts.path || "/socket.io";
        this.opts = opts;
        this.reconnection(opts.reconnection !== false);
        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);
        this.reconnectionDelay(opts.reconnectionDelay || 1000);
        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);
        this.randomizationFactor(opts.randomizationFactor || 0.5);
        this.backoff = new Backoff({
            min: this.reconnectionDelay(),
            max: this.reconnectionDelayMax(),
            jitter: this.randomizationFactor(),
        });
        this.timeout(null == opts.timeout ? 20000 : opts.timeout);
        this._readyState = "closed";
        this.uri = uri;
        const _parser = opts.parser || parser;
        this.encoder = new _parser.Encoder();
        this.decoder = new _parser.Decoder();
        this._autoConnect = opts.autoConnect !== false;
        if (this._autoConnect)
            this.open();
    }
    reconnection(v) {
        if (!arguments.length)
            return this._reconnection;
        this._reconnection = !!v;
        return this;
    }
    reconnectionAttempts(v) {
        if (v === undefined)
            return this._reconnectionAttempts;
        this._reconnectionAttempts = v;
        return this;
    }
    reconnectionDelay(v) {
        var _a;
        if (v === undefined)
            return this._reconnectionDelay;
        this._reconnectionDelay = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);
        return this;
    }
    randomizationFactor(v) {
        var _a;
        if (v === undefined)
            return this._randomizationFactor;
        this._randomizationFactor = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);
        return this;
    }
    reconnectionDelayMax(v) {
        var _a;
        if (v === undefined)
            return this._reconnectionDelayMax;
        this._reconnectionDelayMax = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);
        return this;
    }
    timeout(v) {
        if (!arguments.length)
            return this._timeout;
        this._timeout = v;
        return this;
    }
    /**
     * Starts trying to reconnect if reconnection is enabled and we have not
     * started reconnecting yet
     *
     * @private
     */
    maybeReconnectOnOpen() {
        // Only try to reconnect if it's the first time we're connecting
        if (!this._reconnecting &&
            this._reconnection &&
            this.backoff.attempts === 0) {
            // keeps reconnection from firing twice for the same reconnection loop
            this.reconnect();
        }
    }
    /**
     * Sets the current transport `socket`.
     *
     * @param {Function} fn - optional, callback
     * @return self
     * @public
     */
    open(fn) {
        debug("readyState %s", this._readyState);
        if (~this._readyState.indexOf("open"))
            return this;
        debug("opening %s", this.uri);
        this.engine = eio(this.uri, this.opts);
        const socket = this.engine;
        const self = this;
        this._readyState = "opening";
        this.skipReconnect = false;
        // emit `open`
        const openSubDestroy = on_1.on(socket, "open", function () {
            self.onopen();
            fn && fn();
        });
        // emit `error`
        const errorSub = on_1.on(socket, "error", (err) => {
            debug("error");
            self.cleanup();
            self._readyState = "closed";
            this.emitReserved("error", err);
            if (fn) {
                fn(err);
            }
            else {
                // Only do this if there is no fn to handle the error
                self.maybeReconnectOnOpen();
            }
        });
        if (false !== this._timeout) {
            const timeout = this._timeout;
            debug("connect attempt will timeout after %d", timeout);
            if (timeout === 0) {
                openSubDestroy(); // prevents a race condition with the 'open' event
            }
            // set timer
            const timer = setTimeout(() => {
                debug("connect attempt timed out after %d", timeout);
                openSubDestroy();
                socket.close();
                socket.emit("error", new Error("timeout"));
            }, timeout);
            if (this.opts.autoUnref) {
                timer.unref();
            }
            this.subs.push(function subDestroy() {
                clearTimeout(timer);
            });
        }
        this.subs.push(openSubDestroy);
        this.subs.push(errorSub);
        return this;
    }
    /**
     * Alias for open()
     *
     * @return self
     * @public
     */
    connect(fn) {
        return this.open(fn);
    }
    /**
     * Called upon transport open.
     *
     * @private
     */
    onopen() {
        debug("open");
        // clear old subs
        this.cleanup();
        // mark as open
        this._readyState = "open";
        this.emitReserved("open");
        // add new subs
        const socket = this.engine;
        this.subs.push(on_1.on(socket, "ping", this.onping.bind(this)), on_1.on(socket, "data", this.ondata.bind(this)), on_1.on(socket, "error", this.onerror.bind(this)), on_1.on(socket, "close", this.onclose.bind(this)), on_1.on(this.decoder, "decoded", this.ondecoded.bind(this)));
    }
    /**
     * Called upon a ping.
     *
     * @private
     */
    onping() {
        this.emitReserved("ping");
    }
    /**
     * Called with data.
     *
     * @private
     */
    ondata(data) {
        this.decoder.add(data);
    }
    /**
     * Called when parser fully decodes a packet.
     *
     * @private
     */
    ondecoded(packet) {
        this.emitReserved("packet", packet);
    }
    /**
     * Called upon socket error.
     *
     * @private
     */
    onerror(err) {
        debug("error", err);
        this.emitReserved("error", err);
    }
    /**
     * Creates a new socket for the given `nsp`.
     *
     * @return {Socket}
     * @public
     */
    socket(nsp, opts) {
        let socket = this.nsps[nsp];
        if (!socket) {
            socket = new socket_1.Socket(this, nsp, opts);
            this.nsps[nsp] = socket;
        }
        return socket;
    }
    /**
     * Called upon a socket close.
     *
     * @param socket
     * @private
     */
    _destroy(socket) {
        const nsps = Object.keys(this.nsps);
        for (const nsp of nsps) {
            const socket = this.nsps[nsp];
            if (socket.active) {
                debug("socket %s is still active, skipping close", nsp);
                return;
            }
        }
        this._close();
    }
    /**
     * Writes a packet.
     *
     * @param packet
     * @private
     */
    _packet(packet) {
        debug("writing packet %j", packet);
        const encodedPackets = this.encoder.encode(packet);
        for (let i = 0; i < encodedPackets.length; i++) {
            this.engine.write(encodedPackets[i], packet.options);
        }
    }
    /**
     * Clean up transport subscriptions and packet buffer.
     *
     * @private
     */
    cleanup() {
        debug("cleanup");
        this.subs.forEach((subDestroy) => subDestroy());
        this.subs.length = 0;
        this.decoder.destroy();
    }
    /**
     * Close the current socket.
     *
     * @private
     */
    _close() {
        debug("disconnect");
        this.skipReconnect = true;
        this._reconnecting = false;
        if ("opening" === this._readyState) {
            // `onclose` will not fire because
            // an open event never happened
            this.cleanup();
        }
        this.backoff.reset();
        this._readyState = "closed";
        if (this.engine)
            this.engine.close();
    }
    /**
     * Alias for close()
     *
     * @private
     */
    disconnect() {
        return this._close();
    }
    /**
     * Called upon engine close.
     *
     * @private
     */
    onclose(reason) {
        debug("onclose");
        this.cleanup();
        this.backoff.reset();
        this._readyState = "closed";
        this.emitReserved("close", reason);
        if (this._reconnection && !this.skipReconnect) {
            this.reconnect();
        }
    }
    /**
     * Attempt a reconnection.
     *
     * @private
     */
    reconnect() {
        if (this._reconnecting || this.skipReconnect)
            return this;
        const self = this;
        if (this.backoff.attempts >= this._reconnectionAttempts) {
            debug("reconnect failed");
            this.backoff.reset();
            this.emitReserved("reconnect_failed");
            this._reconnecting = false;
        }
        else {
            const delay = this.backoff.duration();
            debug("will wait %dms before reconnect attempt", delay);
            this._reconnecting = true;
            const timer = setTimeout(() => {
                if (self.skipReconnect)
                    return;
                debug("attempting reconnect");
                this.emitReserved("reconnect_attempt", self.backoff.attempts);
                // check again for the case socket closed in above events
                if (self.skipReconnect)
                    return;
                self.open((err) => {
                    if (err) {
                        debug("reconnect attempt error");
                        self._reconnecting = false;
                        self.reconnect();
                        this.emitReserved("reconnect_error", err);
                    }
                    else {
                        debug("reconnect success");
                        self.onreconnect();
                    }
                });
            }, delay);
            if (this.opts.autoUnref) {
                timer.unref();
            }
            this.subs.push(function subDestroy() {
                clearTimeout(timer);
            });
        }
    }
    /**
     * Called upon successful reconnect.
     *
     * @private
     */
    onreconnect() {
        const attempt = this.backoff.attempts;
        this._reconnecting = false;
        this.backoff.reset();
        this.emitReserved("reconnect", attempt);
    }
}
exports.Manager = Manager;


/***/ }),

/***/ "./node_modules/socket.io-client/build/on.js":
/*!***************************************************!*\
  !*** ./node_modules/socket.io-client/build/on.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.on = void 0;
function on(obj, ev, fn) {
    obj.on(ev, fn);
    return function subDestroy() {
        obj.off(ev, fn);
    };
}
exports.on = on;


/***/ }),

/***/ "./node_modules/socket.io-client/build/socket.js":
/*!*******************************************************!*\
  !*** ./node_modules/socket.io-client/build/socket.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Socket = void 0;
const socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/dist/index.js");
const on_1 = __webpack_require__(/*! ./on */ "./node_modules/socket.io-client/build/on.js");
const typed_events_1 = __webpack_require__(/*! ./typed-events */ "./node_modules/socket.io-client/build/typed-events.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")("socket.io-client:socket");
/**
 * Internal events.
 * These events can't be emitted by the user.
 */
const RESERVED_EVENTS = Object.freeze({
    connect: 1,
    connect_error: 1,
    disconnect: 1,
    disconnecting: 1,
    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener
    newListener: 1,
    removeListener: 1,
});
class Socket extends typed_events_1.StrictEventEmitter {
    /**
     * `Socket` constructor.
     *
     * @public
     */
    constructor(io, nsp, opts) {
        super();
        this.receiveBuffer = [];
        this.sendBuffer = [];
        this.ids = 0;
        this.acks = {};
        this.flags = {};
        this.io = io;
        this.nsp = nsp;
        this.ids = 0;
        this.acks = {};
        this.receiveBuffer = [];
        this.sendBuffer = [];
        this.connected = false;
        this.disconnected = true;
        this.flags = {};
        if (opts && opts.auth) {
            this.auth = opts.auth;
        }
        if (this.io._autoConnect)
            this.open();
    }
    /**
     * Subscribe to open, close and packet events
     *
     * @private
     */
    subEvents() {
        if (this.subs)
            return;
        const io = this.io;
        this.subs = [
            on_1.on(io, "open", this.onopen.bind(this)),
            on_1.on(io, "packet", this.onpacket.bind(this)),
            on_1.on(io, "error", this.onerror.bind(this)),
            on_1.on(io, "close", this.onclose.bind(this)),
        ];
    }
    /**
     * Whether the Socket will try to reconnect when its Manager connects or reconnects
     */
    get active() {
        return !!this.subs;
    }
    /**
     * "Opens" the socket.
     *
     * @public
     */
    connect() {
        if (this.connected)
            return this;
        this.subEvents();
        if (!this.io["_reconnecting"])
            this.io.open(); // ensure open
        if ("open" === this.io._readyState)
            this.onopen();
        return this;
    }
    /**
     * Alias for connect()
     */
    open() {
        return this.connect();
    }
    /**
     * Sends a `message` event.
     *
     * @return self
     * @public
     */
    send(...args) {
        args.unshift("message");
        this.emit.apply(this, args);
        return this;
    }
    /**
     * Override `emit`.
     * If the event is in `events`, it's emitted normally.
     *
     * @return self
     * @public
     */
    emit(ev, ...args) {
        if (RESERVED_EVENTS.hasOwnProperty(ev)) {
            throw new Error('"' + ev + '" is a reserved event name');
        }
        args.unshift(ev);
        const packet = {
            type: socket_io_parser_1.PacketType.EVENT,
            data: args,
        };
        packet.options = {};
        packet.options.compress = this.flags.compress !== false;
        // event ack callback
        if ("function" === typeof args[args.length - 1]) {
            debug("emitting packet with ack id %d", this.ids);
            this.acks[this.ids] = args.pop();
            packet.id = this.ids++;
        }
        const isTransportWritable = this.io.engine &&
            this.io.engine.transport &&
            this.io.engine.transport.writable;
        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);
        if (discardPacket) {
            debug("discard packet as the transport is not currently writable");
        }
        else if (this.connected) {
            this.packet(packet);
        }
        else {
            this.sendBuffer.push(packet);
        }
        this.flags = {};
        return this;
    }
    /**
     * Sends a packet.
     *
     * @param packet
     * @private
     */
    packet(packet) {
        packet.nsp = this.nsp;
        this.io._packet(packet);
    }
    /**
     * Called upon engine `open`.
     *
     * @private
     */
    onopen() {
        debug("transport is open - connecting");
        if (typeof this.auth == "function") {
            this.auth((data) => {
                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });
            });
        }
        else {
            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });
        }
    }
    /**
     * Called upon engine or manager `error`.
     *
     * @param err
     * @private
     */
    onerror(err) {
        if (!this.connected) {
            this.emitReserved("connect_error", err);
        }
    }
    /**
     * Called upon engine `close`.
     *
     * @param reason
     * @private
     */
    onclose(reason) {
        debug("close (%s)", reason);
        this.connected = false;
        this.disconnected = true;
        delete this.id;
        this.emitReserved("disconnect", reason);
    }
    /**
     * Called with socket packet.
     *
     * @param packet
     * @private
     */
    onpacket(packet) {
        const sameNamespace = packet.nsp === this.nsp;
        if (!sameNamespace)
            return;
        switch (packet.type) {
            case socket_io_parser_1.PacketType.CONNECT:
                if (packet.data && packet.data.sid) {
                    const id = packet.data.sid;
                    this.onconnect(id);
                }
                else {
                    this.emitReserved("connect_error", new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));
                }
                break;
            case socket_io_parser_1.PacketType.EVENT:
                this.onevent(packet);
                break;
            case socket_io_parser_1.PacketType.BINARY_EVENT:
                this.onevent(packet);
                break;
            case socket_io_parser_1.PacketType.ACK:
                this.onack(packet);
                break;
            case socket_io_parser_1.PacketType.BINARY_ACK:
                this.onack(packet);
                break;
            case socket_io_parser_1.PacketType.DISCONNECT:
                this.ondisconnect();
                break;
            case socket_io_parser_1.PacketType.CONNECT_ERROR:
                const err = new Error(packet.data.message);
                // @ts-ignore
                err.data = packet.data.data;
                this.emitReserved("connect_error", err);
                break;
        }
    }
    /**
     * Called upon a server event.
     *
     * @param packet
     * @private
     */
    onevent(packet) {
        const args = packet.data || [];
        debug("emitting event %j", args);
        if (null != packet.id) {
            debug("attaching ack callback to event");
            args.push(this.ack(packet.id));
        }
        if (this.connected) {
            this.emitEvent(args);
        }
        else {
            this.receiveBuffer.push(Object.freeze(args));
        }
    }
    emitEvent(args) {
        if (this._anyListeners && this._anyListeners.length) {
            const listeners = this._anyListeners.slice();
            for (const listener of listeners) {
                listener.apply(this, args);
            }
        }
        super.emit.apply(this, args);
    }
    /**
     * Produces an ack callback to emit with an event.
     *
     * @private
     */
    ack(id) {
        const self = this;
        let sent = false;
        return function (...args) {
            // prevent double callbacks
            if (sent)
                return;
            sent = true;
            debug("sending ack %j", args);
            self.packet({
                type: socket_io_parser_1.PacketType.ACK,
                id: id,
                data: args,
            });
        };
    }
    /**
     * Called upon a server acknowlegement.
     *
     * @param packet
     * @private
     */
    onack(packet) {
        const ack = this.acks[packet.id];
        if ("function" === typeof ack) {
            debug("calling ack %s with %j", packet.id, packet.data);
            ack.apply(this, packet.data);
            delete this.acks[packet.id];
        }
        else {
            debug("bad ack %s", packet.id);
        }
    }
    /**
     * Called upon server connect.
     *
     * @private
     */
    onconnect(id) {
        debug("socket connected with id %s", id);
        this.id = id;
        this.connected = true;
        this.disconnected = false;
        this.emitBuffered();
        this.emitReserved("connect");
    }
    /**
     * Emit buffered events (received and emitted).
     *
     * @private
     */
    emitBuffered() {
        this.receiveBuffer.forEach((args) => this.emitEvent(args));
        this.receiveBuffer = [];
        this.sendBuffer.forEach((packet) => this.packet(packet));
        this.sendBuffer = [];
    }
    /**
     * Called upon server disconnect.
     *
     * @private
     */
    ondisconnect() {
        debug("server disconnect (%s)", this.nsp);
        this.destroy();
        this.onclose("io server disconnect");
    }
    /**
     * Called upon forced client/server side disconnections,
     * this method ensures the manager stops tracking us and
     * that reconnections don't get triggered for this.
     *
     * @private
     */
    destroy() {
        if (this.subs) {
            // clean subscriptions to avoid reconnections
            this.subs.forEach((subDestroy) => subDestroy());
            this.subs = undefined;
        }
        this.io["_destroy"](this);
    }
    /**
     * Disconnects the socket manually.
     *
     * @return self
     * @public
     */
    disconnect() {
        if (this.connected) {
            debug("performing disconnect (%s)", this.nsp);
            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });
        }
        // remove socket from pool
        this.destroy();
        if (this.connected) {
            // fire events
            this.onclose("io client disconnect");
        }
        return this;
    }
    /**
     * Alias for disconnect()
     *
     * @return self
     * @public
     */
    close() {
        return this.disconnect();
    }
    /**
     * Sets the compress flag.
     *
     * @param compress - if `true`, compresses the sending data
     * @return self
     * @public
     */
    compress(compress) {
        this.flags.compress = compress;
        return this;
    }
    /**
     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not
     * ready to send messages.
     *
     * @returns self
     * @public
     */
    get volatile() {
        this.flags.volatile = true;
        return this;
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback.
     *
     * @param listener
     * @public
     */
    onAny(listener) {
        this._anyListeners = this._anyListeners || [];
        this._anyListeners.push(listener);
        return this;
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback. The listener is added to the beginning of the listeners array.
     *
     * @param listener
     * @public
     */
    prependAny(listener) {
        this._anyListeners = this._anyListeners || [];
        this._anyListeners.unshift(listener);
        return this;
    }
    /**
     * Removes the listener that will be fired when any event is emitted.
     *
     * @param listener
     * @public
     */
    offAny(listener) {
        if (!this._anyListeners) {
            return this;
        }
        if (listener) {
            const listeners = this._anyListeners;
            for (let i = 0; i < listeners.length; i++) {
                if (listener === listeners[i]) {
                    listeners.splice(i, 1);
                    return this;
                }
            }
        }
        else {
            this._anyListeners = [];
        }
        return this;
    }
    /**
     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,
     * e.g. to remove listeners.
     *
     * @public
     */
    listenersAny() {
        return this._anyListeners || [];
    }
}
exports.Socket = Socket;


/***/ }),

/***/ "./node_modules/socket.io-client/build/typed-events.js":
/*!*************************************************************!*\
  !*** ./node_modules/socket.io-client/build/typed-events.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StrictEventEmitter = void 0;
const Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/**
 * Strictly typed version of an `EventEmitter`. A `TypedEventEmitter` takes type
 * parameters for mappings of event names to event data types, and strictly
 * types method calls to the `EventEmitter` according to these event maps.
 *
 * @typeParam ListenEvents - `EventsMap` of user-defined events that can be
 * listened to with `on` or `once`
 * @typeParam EmitEvents - `EventsMap` of user-defined events that can be
 * emitted with `emit`
 * @typeParam ReservedEvents - `EventsMap` of reserved events, that can be
 * emitted by socket.io with `emitReserved`, and can be listened to with
 * `listen`.
 */
class StrictEventEmitter extends Emitter {
    /**
     * Adds the `listener` function as an event listener for `ev`.
     *
     * @param ev Name of the event
     * @param listener Callback function
     */
    on(ev, listener) {
        super.on(ev, listener);
        return this;
    }
    /**
     * Adds a one-time `listener` function as an event listener for `ev`.
     *
     * @param ev Name of the event
     * @param listener Callback function
     */
    once(ev, listener) {
        super.once(ev, listener);
        return this;
    }
    /**
     * Emits an event.
     *
     * @param ev Name of the event
     * @param args Values to send to listeners of this event
     */
    emit(ev, ...args) {
        super.emit(ev, ...args);
        return this;
    }
    /**
     * Emits a reserved event.
     *
     * This method is `protected`, so that only a class extending
     * `StrictEventEmitter` can emit its own reserved events.
     *
     * @param ev Reserved event name
     * @param args Arguments to emit along with the event
     */
    emitReserved(ev, ...args) {
        super.emit(ev, ...args);
        return this;
    }
    /**
     * Returns the listeners listening to an event.
     *
     * @param event Event name
     * @returns Array of listeners subscribed to `event`
     */
    listeners(event) {
        return super.listeners(event);
    }
}
exports.StrictEventEmitter = StrictEventEmitter;


/***/ }),

/***/ "./node_modules/socket.io-client/build/url.js":
/*!****************************************************!*\
  !*** ./node_modules/socket.io-client/build/url.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.url = void 0;
const parseuri = __webpack_require__(/*! parseuri */ "./node_modules/parseuri/index.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")("socket.io-client:url");
/**
 * URL parser.
 *
 * @param uri - url
 * @param path - the request path of the connection
 * @param loc - An object meant to mimic window.location.
 *        Defaults to window.location.
 * @public
 */
function url(uri, path = "", loc) {
    let obj = uri;
    // default to window.location
    loc = loc || (typeof location !== "undefined" && location);
    if (null == uri)
        uri = loc.protocol + "//" + loc.host;
    // relative path support
    if (typeof uri === "string") {
        if ("/" === uri.charAt(0)) {
            if ("/" === uri.charAt(1)) {
                uri = loc.protocol + uri;
            }
            else {
                uri = loc.host + uri;
            }
        }
        if (!/^(https?|wss?):\/\//.test(uri)) {
            debug("protocol-less url %s", uri);
            if ("undefined" !== typeof loc) {
                uri = loc.protocol + "//" + uri;
            }
            else {
                uri = "https://" + uri;
            }
        }
        // parse
        debug("parse %s", uri);
        obj = parseuri(uri);
    }
    // make sure we treat `localhost:80` and `localhost` equally
    if (!obj.port) {
        if (/^(http|ws)$/.test(obj.protocol)) {
            obj.port = "80";
        }
        else if (/^(http|ws)s$/.test(obj.protocol)) {
            obj.port = "443";
        }
    }
    obj.path = obj.path || "/";
    const ipv6 = obj.host.indexOf(":") !== -1;
    const host = ipv6 ? "[" + obj.host + "]" : obj.host;
    // define unique id
    obj.id = obj.protocol + "://" + host + ":" + obj.port + path;
    // define href
    obj.href =
        obj.protocol +
            "://" +
            host +
            (loc && loc.port === obj.port ? "" : ":" + obj.port);
    return obj;
}
exports.url = url;


/***/ }),

/***/ "./node_modules/socket.io-client/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/socket.io-client/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */

exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
exports.destroy = (() => {
	let warned = false;

	return () => {
		if (!warned) {
			warned = true;
			console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
		}
	};
})();

/**
 * Colors.
 */

exports.colors = [
	'#0000CC',
	'#0000FF',
	'#0033CC',
	'#0033FF',
	'#0066CC',
	'#0066FF',
	'#0099CC',
	'#0099FF',
	'#00CC00',
	'#00CC33',
	'#00CC66',
	'#00CC99',
	'#00CCCC',
	'#00CCFF',
	'#3300CC',
	'#3300FF',
	'#3333CC',
	'#3333FF',
	'#3366CC',
	'#3366FF',
	'#3399CC',
	'#3399FF',
	'#33CC00',
	'#33CC33',
	'#33CC66',
	'#33CC99',
	'#33CCCC',
	'#33CCFF',
	'#6600CC',
	'#6600FF',
	'#6633CC',
	'#6633FF',
	'#66CC00',
	'#66CC33',
	'#9900CC',
	'#9900FF',
	'#9933CC',
	'#9933FF',
	'#99CC00',
	'#99CC33',
	'#CC0000',
	'#CC0033',
	'#CC0066',
	'#CC0099',
	'#CC00CC',
	'#CC00FF',
	'#CC3300',
	'#CC3333',
	'#CC3366',
	'#CC3399',
	'#CC33CC',
	'#CC33FF',
	'#CC6600',
	'#CC6633',
	'#CC9900',
	'#CC9933',
	'#CCCC00',
	'#CCCC33',
	'#FF0000',
	'#FF0033',
	'#FF0066',
	'#FF0099',
	'#FF00CC',
	'#FF00FF',
	'#FF3300',
	'#FF3333',
	'#FF3366',
	'#FF3399',
	'#FF33CC',
	'#FF33FF',
	'#FF6600',
	'#FF6633',
	'#FF9900',
	'#FF9933',
	'#FFCC00',
	'#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

// eslint-disable-next-line complexity
function useColors() {
	// NB: In an Electron preload script, document will be defined but not fully
	// initialized. Since we know we're in Chrome, we'll just detect this case
	// explicitly
	if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
		return true;
	}

	// Internet Explorer and Edge do not support colors.
	if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
		return false;
	}

	// Is webkit? http://stackoverflow.com/a/16459606/376773
	// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
	return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
		// Is firebug? http://stackoverflow.com/a/398120/376773
		(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
		// Is firefox >= v31?
		// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
		// Double check webkit in userAgent just in case we are in a worker
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
	args[0] = (this.useColors ? '%c' : '') +
		this.namespace +
		(this.useColors ? ' %c' : ' ') +
		args[0] +
		(this.useColors ? '%c ' : ' ') +
		'+' + module.exports.humanize(this.diff);

	if (!this.useColors) {
		return;
	}

	const c = 'color: ' + this.color;
	args.splice(1, 0, c, 'color: inherit');

	// The final "%c" is somewhat tricky, because there could be other
	// arguments passed either before or after the %c, so we need to
	// figure out the correct index to insert the CSS into
	let index = 0;
	let lastC = 0;
	args[0].replace(/%[a-zA-Z%]/g, match => {
		if (match === '%%') {
			return;
		}
		index++;
		if (match === '%c') {
			// We only are interested in the *last* %c
			// (the user may have provided their own)
			lastC = index;
		}
	});

	args.splice(lastC, 0, c);
}

/**
 * Invokes `console.debug()` when available.
 * No-op when `console.debug` is not a "function".
 * If `console.debug` is not available, falls back
 * to `console.log`.
 *
 * @api public
 */
exports.log = console.debug || console.log || (() => {});

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */
function save(namespaces) {
	try {
		if (namespaces) {
			exports.storage.setItem('debug', namespaces);
		} else {
			exports.storage.removeItem('debug');
		}
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */
function load() {
	let r;
	try {
		r = exports.storage.getItem('debug');
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}

	// If debug isn't set in LS, and we're in Electron, try to load $DEBUG
	if (!r && typeof process !== 'undefined' && 'env' in process) {
		r = process.env.DEBUG;
	}

	return r;
}

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
	try {
		// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
		// The Browser also has localStorage in the global context.
		return localStorage;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/socket.io-client/node_modules/debug/src/common.js")(exports);

const {formatters} = module.exports;

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
	try {
		return JSON.stringify(v);
	} catch (error) {
		return '[UnexpectedJSONParseError]: ' + error.message;
	}
};


/***/ }),

/***/ "./node_modules/socket.io-client/node_modules/debug/src/common.js":
/*!************************************************************************!*\
  !*** ./node_modules/socket.io-client/node_modules/debug/src/common.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */

function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;
	createDebug.coerce = coerce;
	createDebug.disable = disable;
	createDebug.enable = enable;
	createDebug.enabled = enabled;
	createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/socket.io-client/node_modules/ms/index.js");
	createDebug.destroy = destroy;

	Object.keys(env).forEach(key => {
		createDebug[key] = env[key];
	});

	/**
	* The currently active debug mode names, and names to skip.
	*/

	createDebug.names = [];
	createDebug.skips = [];

	/**
	* Map of special "%n" handling functions, for the debug "format" argument.
	*
	* Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
	*/
	createDebug.formatters = {};

	/**
	* Selects a color for a debug namespace
	* @param {String} namespace The namespace string for the for the debug instance to be colored
	* @return {Number|String} An ANSI color code for the given namespace
	* @api private
	*/
	function selectColor(namespace) {
		let hash = 0;

		for (let i = 0; i < namespace.length; i++) {
			hash = ((hash << 5) - hash) + namespace.charCodeAt(i);
			hash |= 0; // Convert to 32bit integer
		}

		return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
	}
	createDebug.selectColor = selectColor;

	/**
	* Create a debugger with the given `namespace`.
	*
	* @param {String} namespace
	* @return {Function}
	* @api public
	*/
	function createDebug(namespace) {
		let prevTime;
		let enableOverride = null;

		function debug(...args) {
			// Disabled?
			if (!debug.enabled) {
				return;
			}

			const self = debug;

			// Set `diff` timestamp
			const curr = Number(new Date());
			const ms = curr - (prevTime || curr);
			self.diff = ms;
			self.prev = prevTime;
			self.curr = curr;
			prevTime = curr;

			args[0] = createDebug.coerce(args[0]);

			if (typeof args[0] !== 'string') {
				// Anything else let's inspect with %O
				args.unshift('%O');
			}

			// Apply any `formatters` transformations
			let index = 0;
			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
				// If we encounter an escaped % then don't increase the array index
				if (match === '%%') {
					return '%';
				}
				index++;
				const formatter = createDebug.formatters[format];
				if (typeof formatter === 'function') {
					const val = args[index];
					match = formatter.call(self, val);

					// Now we need to remove `args[index]` since it's inlined in the `format`
					args.splice(index, 1);
					index--;
				}
				return match;
			});

			// Apply env-specific formatting (colors, etc.)
			createDebug.formatArgs.call(self, args);

			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}

		debug.namespace = namespace;
		debug.useColors = createDebug.useColors();
		debug.color = createDebug.selectColor(namespace);
		debug.extend = extend;
		debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.

		Object.defineProperty(debug, 'enabled', {
			enumerable: true,
			configurable: false,
			get: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,
			set: v => {
				enableOverride = v;
			}
		});

		// Env-specific initialization logic for debug instances
		if (typeof createDebug.init === 'function') {
			createDebug.init(debug);
		}

		return debug;
	}

	function extend(namespace, delimiter) {
		const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
		newDebug.log = this.log;
		return newDebug;
	}

	/**
	* Enables a debug mode by namespaces. This can include modes
	* separated by a colon and wildcards.
	*
	* @param {String} namespaces
	* @api public
	*/
	function enable(namespaces) {
		createDebug.save(namespaces);

		createDebug.names = [];
		createDebug.skips = [];

		let i;
		const split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
		const len = split.length;

		for (i = 0; i < len; i++) {
			if (!split[i]) {
				// ignore empty strings
				continue;
			}

			namespaces = split[i].replace(/\*/g, '.*?');

			if (namespaces[0] === '-') {
				createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
			} else {
				createDebug.names.push(new RegExp('^' + namespaces + '$'));
			}
		}
	}

	/**
	* Disable debug output.
	*
	* @return {String} namespaces
	* @api public
	*/
	function disable() {
		const namespaces = [
			...createDebug.names.map(toNamespace),
			...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)
		].join(',');
		createDebug.enable('');
		return namespaces;
	}

	/**
	* Returns true if the given mode name is enabled, false otherwise.
	*
	* @param {String} name
	* @return {Boolean}
	* @api public
	*/
	function enabled(name) {
		if (name[name.length - 1] === '*') {
			return true;
		}

		let i;
		let len;

		for (i = 0, len = createDebug.skips.length; i < len; i++) {
			if (createDebug.skips[i].test(name)) {
				return false;
			}
		}

		for (i = 0, len = createDebug.names.length; i < len; i++) {
			if (createDebug.names[i].test(name)) {
				return true;
			}
		}

		return false;
	}

	/**
	* Convert regexp to namespace
	*
	* @param {RegExp} regxep
	* @return {String} namespace
	* @api private
	*/
	function toNamespace(regexp) {
		return regexp.toString()
			.substring(2, regexp.toString().length - 2)
			.replace(/\.\*\?$/, '*');
	}

	/**
	* Coerce `val`.
	*
	* @param {Mixed} val
	* @return {Mixed}
	* @api private
	*/
	function coerce(val) {
		if (val instanceof Error) {
			return val.stack || val.message;
		}
		return val;
	}

	/**
	* XXX DO NOT USE. This is a temporary stub function.
	* XXX It WILL be removed in the next major release.
	*/
	function destroy() {
		console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
	}

	createDebug.enable(createDebug.load());

	return createDebug;
}

module.exports = setup;


/***/ }),

/***/ "./node_modules/socket.io-client/node_modules/ms/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/socket.io-client/node_modules/ms/index.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./node_modules/socket.io-parser/dist/binary.js":
/*!******************************************************!*\
  !*** ./node_modules/socket.io-parser/dist/binary.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.reconstructPacket = exports.deconstructPacket = void 0;
const is_binary_1 = __webpack_require__(/*! ./is-binary */ "./node_modules/socket.io-parser/dist/is-binary.js");
/**
 * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.
 *
 * @param {Object} packet - socket.io event packet
 * @return {Object} with deconstructed packet and list of buffers
 * @public
 */
function deconstructPacket(packet) {
    const buffers = [];
    const packetData = packet.data;
    const pack = packet;
    pack.data = _deconstructPacket(packetData, buffers);
    pack.attachments = buffers.length; // number of binary 'attachments'
    return { packet: pack, buffers: buffers };
}
exports.deconstructPacket = deconstructPacket;
function _deconstructPacket(data, buffers) {
    if (!data)
        return data;
    if (is_binary_1.isBinary(data)) {
        const placeholder = { _placeholder: true, num: buffers.length };
        buffers.push(data);
        return placeholder;
    }
    else if (Array.isArray(data)) {
        const newData = new Array(data.length);
        for (let i = 0; i < data.length; i++) {
            newData[i] = _deconstructPacket(data[i], buffers);
        }
        return newData;
    }
    else if (typeof data === "object" && !(data instanceof Date)) {
        const newData = {};
        for (const key in data) {
            if (data.hasOwnProperty(key)) {
                newData[key] = _deconstructPacket(data[key], buffers);
            }
        }
        return newData;
    }
    return data;
}
/**
 * Reconstructs a binary packet from its placeholder packet and buffers
 *
 * @param {Object} packet - event packet with placeholders
 * @param {Array} buffers - binary buffers to put in placeholder positions
 * @return {Object} reconstructed packet
 * @public
 */
function reconstructPacket(packet, buffers) {
    packet.data = _reconstructPacket(packet.data, buffers);
    packet.attachments = undefined; // no longer useful
    return packet;
}
exports.reconstructPacket = reconstructPacket;
function _reconstructPacket(data, buffers) {
    if (!data)
        return data;
    if (data && data._placeholder) {
        return buffers[data.num]; // appropriate buffer (should be natural order anyway)
    }
    else if (Array.isArray(data)) {
        for (let i = 0; i < data.length; i++) {
            data[i] = _reconstructPacket(data[i], buffers);
        }
    }
    else if (typeof data === "object") {
        for (const key in data) {
            if (data.hasOwnProperty(key)) {
                data[key] = _reconstructPacket(data[key], buffers);
            }
        }
    }
    return data;
}


/***/ }),

/***/ "./node_modules/socket.io-parser/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/socket.io-parser/dist/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;
const Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
const binary_1 = __webpack_require__(/*! ./binary */ "./node_modules/socket.io-parser/dist/binary.js");
const is_binary_1 = __webpack_require__(/*! ./is-binary */ "./node_modules/socket.io-parser/dist/is-binary.js");
const debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-parser/node_modules/debug/src/browser.js")("socket.io-parser");
/**
 * Protocol version.
 *
 * @public
 */
exports.protocol = 5;
var PacketType;
(function (PacketType) {
    PacketType[PacketType["CONNECT"] = 0] = "CONNECT";
    PacketType[PacketType["DISCONNECT"] = 1] = "DISCONNECT";
    PacketType[PacketType["EVENT"] = 2] = "EVENT";
    PacketType[PacketType["ACK"] = 3] = "ACK";
    PacketType[PacketType["CONNECT_ERROR"] = 4] = "CONNECT_ERROR";
    PacketType[PacketType["BINARY_EVENT"] = 5] = "BINARY_EVENT";
    PacketType[PacketType["BINARY_ACK"] = 6] = "BINARY_ACK";
})(PacketType = exports.PacketType || (exports.PacketType = {}));
/**
 * A socket.io Encoder instance
 */
class Encoder {
    /**
     * Encode a packet as a single string if non-binary, or as a
     * buffer sequence, depending on packet type.
     *
     * @param {Object} obj - packet object
     */
    encode(obj) {
        debug("encoding packet %j", obj);
        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {
            if (is_binary_1.hasBinary(obj)) {
                obj.type =
                    obj.type === PacketType.EVENT
                        ? PacketType.BINARY_EVENT
                        : PacketType.BINARY_ACK;
                return this.encodeAsBinary(obj);
            }
        }
        return [this.encodeAsString(obj)];
    }
    /**
     * Encode packet as string.
     */
    encodeAsString(obj) {
        // first is type
        let str = "" + obj.type;
        // attachments if we have them
        if (obj.type === PacketType.BINARY_EVENT ||
            obj.type === PacketType.BINARY_ACK) {
            str += obj.attachments + "-";
        }
        // if we have a namespace other than `/`
        // we append it followed by a comma `,`
        if (obj.nsp && "/" !== obj.nsp) {
            str += obj.nsp + ",";
        }
        // immediately followed by the id
        if (null != obj.id) {
            str += obj.id;
        }
        // json data
        if (null != obj.data) {
            str += JSON.stringify(obj.data);
        }
        debug("encoded %j as %s", obj, str);
        return str;
    }
    /**
     * Encode packet as 'buffer sequence' by removing blobs, and
     * deconstructing packet into object with placeholders and
     * a list of buffers.
     */
    encodeAsBinary(obj) {
        const deconstruction = binary_1.deconstructPacket(obj);
        const pack = this.encodeAsString(deconstruction.packet);
        const buffers = deconstruction.buffers;
        buffers.unshift(pack); // add packet info to beginning of data list
        return buffers; // write all the buffers
    }
}
exports.Encoder = Encoder;
/**
 * A socket.io Decoder instance
 *
 * @return {Object} decoder
 */
class Decoder extends Emitter {
    constructor() {
        super();
    }
    /**
     * Decodes an encoded packet string into packet JSON.
     *
     * @param {String} obj - encoded packet
     */
    add(obj) {
        let packet;
        if (typeof obj === "string") {
            packet = this.decodeString(obj);
            if (packet.type === PacketType.BINARY_EVENT ||
                packet.type === PacketType.BINARY_ACK) {
                // binary packet's json
                this.reconstructor = new BinaryReconstructor(packet);
                // no attachments, labeled binary but no binary data to follow
                if (packet.attachments === 0) {
                    super.emit("decoded", packet);
                }
            }
            else {
                // non-binary full packet
                super.emit("decoded", packet);
            }
        }
        else if (is_binary_1.isBinary(obj) || obj.base64) {
            // raw binary data
            if (!this.reconstructor) {
                throw new Error("got binary data when not reconstructing a packet");
            }
            else {
                packet = this.reconstructor.takeBinaryData(obj);
                if (packet) {
                    // received final buffer
                    this.reconstructor = null;
                    super.emit("decoded", packet);
                }
            }
        }
        else {
            throw new Error("Unknown type: " + obj);
        }
    }
    /**
     * Decode a packet String (JSON data)
     *
     * @param {String} str
     * @return {Object} packet
     */
    decodeString(str) {
        let i = 0;
        // look up type
        const p = {
            type: Number(str.charAt(0)),
        };
        if (PacketType[p.type] === undefined) {
            throw new Error("unknown packet type " + p.type);
        }
        // look up attachments if type binary
        if (p.type === PacketType.BINARY_EVENT ||
            p.type === PacketType.BINARY_ACK) {
            const start = i + 1;
            while (str.charAt(++i) !== "-" && i != str.length) { }
            const buf = str.substring(start, i);
            if (buf != Number(buf) || str.charAt(i) !== "-") {
                throw new Error("Illegal attachments");
            }
            p.attachments = Number(buf);
        }
        // look up namespace (if any)
        if ("/" === str.charAt(i + 1)) {
            const start = i + 1;
            while (++i) {
                const c = str.charAt(i);
                if ("," === c)
                    break;
                if (i === str.length)
                    break;
            }
            p.nsp = str.substring(start, i);
        }
        else {
            p.nsp = "/";
        }
        // look up id
        const next = str.charAt(i + 1);
        if ("" !== next && Number(next) == next) {
            const start = i + 1;
            while (++i) {
                const c = str.charAt(i);
                if (null == c || Number(c) != c) {
                    --i;
                    break;
                }
                if (i === str.length)
                    break;
            }
            p.id = Number(str.substring(start, i + 1));
        }
        // look up json data
        if (str.charAt(++i)) {
            const payload = tryParse(str.substr(i));
            if (Decoder.isPayloadValid(p.type, payload)) {
                p.data = payload;
            }
            else {
                throw new Error("invalid payload");
            }
        }
        debug("decoded %s as %j", str, p);
        return p;
    }
    static isPayloadValid(type, payload) {
        switch (type) {
            case PacketType.CONNECT:
                return typeof payload === "object";
            case PacketType.DISCONNECT:
                return payload === undefined;
            case PacketType.CONNECT_ERROR:
                return typeof payload === "string" || typeof payload === "object";
            case PacketType.EVENT:
            case PacketType.BINARY_EVENT:
                return Array.isArray(payload) && payload.length > 0;
            case PacketType.ACK:
            case PacketType.BINARY_ACK:
                return Array.isArray(payload);
        }
    }
    /**
     * Deallocates a parser's resources
     */
    destroy() {
        if (this.reconstructor) {
            this.reconstructor.finishedReconstruction();
        }
    }
}
exports.Decoder = Decoder;
function tryParse(str) {
    try {
        return JSON.parse(str);
    }
    catch (e) {
        return false;
    }
}
/**
 * A manager of a binary event's 'buffer sequence'. Should
 * be constructed whenever a packet of type BINARY_EVENT is
 * decoded.
 *
 * @param {Object} packet
 * @return {BinaryReconstructor} initialized reconstructor
 */
class BinaryReconstructor {
    constructor(packet) {
        this.packet = packet;
        this.buffers = [];
        this.reconPack = packet;
    }
    /**
     * Method to be called when binary data received from connection
     * after a BINARY_EVENT packet.
     *
     * @param {Buffer | ArrayBuffer} binData - the raw binary data received
     * @return {null | Object} returns null if more binary data is expected or
     *   a reconstructed packet object if all buffers have been received.
     */
    takeBinaryData(binData) {
        this.buffers.push(binData);
        if (this.buffers.length === this.reconPack.attachments) {
            // done with buffer list
            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);
            this.finishedReconstruction();
            return packet;
        }
        return null;
    }
    /**
     * Cleans up binary packet reconstruction variables.
     */
    finishedReconstruction() {
        this.reconPack = null;
        this.buffers = [];
    }
}


/***/ }),

/***/ "./node_modules/socket.io-parser/dist/is-binary.js":
/*!*********************************************************!*\
  !*** ./node_modules/socket.io-parser/dist/is-binary.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hasBinary = exports.isBinary = void 0;
const withNativeArrayBuffer = typeof ArrayBuffer === "function";
const isView = (obj) => {
    return typeof ArrayBuffer.isView === "function"
        ? ArrayBuffer.isView(obj)
        : obj.buffer instanceof ArrayBuffer;
};
const toString = Object.prototype.toString;
const withNativeBlob = typeof Blob === "function" ||
    (typeof Blob !== "undefined" &&
        toString.call(Blob) === "[object BlobConstructor]");
const withNativeFile = typeof File === "function" ||
    (typeof File !== "undefined" &&
        toString.call(File) === "[object FileConstructor]");
/**
 * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.
 *
 * @private
 */
function isBinary(obj) {
    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||
        (withNativeBlob && obj instanceof Blob) ||
        (withNativeFile && obj instanceof File));
}
exports.isBinary = isBinary;
function hasBinary(obj, toJSON) {
    if (!obj || typeof obj !== "object") {
        return false;
    }
    if (Array.isArray(obj)) {
        for (let i = 0, l = obj.length; i < l; i++) {
            if (hasBinary(obj[i])) {
                return true;
            }
        }
        return false;
    }
    if (isBinary(obj)) {
        return true;
    }
    if (obj.toJSON &&
        typeof obj.toJSON === "function" &&
        arguments.length === 1) {
        return hasBinary(obj.toJSON(), true);
    }
    for (const key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {
            return true;
        }
    }
    return false;
}
exports.hasBinary = hasBinary;


/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */

exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
exports.destroy = (() => {
	let warned = false;

	return () => {
		if (!warned) {
			warned = true;
			console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
		}
	};
})();

/**
 * Colors.
 */

exports.colors = [
	'#0000CC',
	'#0000FF',
	'#0033CC',
	'#0033FF',
	'#0066CC',
	'#0066FF',
	'#0099CC',
	'#0099FF',
	'#00CC00',
	'#00CC33',
	'#00CC66',
	'#00CC99',
	'#00CCCC',
	'#00CCFF',
	'#3300CC',
	'#3300FF',
	'#3333CC',
	'#3333FF',
	'#3366CC',
	'#3366FF',
	'#3399CC',
	'#3399FF',
	'#33CC00',
	'#33CC33',
	'#33CC66',
	'#33CC99',
	'#33CCCC',
	'#33CCFF',
	'#6600CC',
	'#6600FF',
	'#6633CC',
	'#6633FF',
	'#66CC00',
	'#66CC33',
	'#9900CC',
	'#9900FF',
	'#9933CC',
	'#9933FF',
	'#99CC00',
	'#99CC33',
	'#CC0000',
	'#CC0033',
	'#CC0066',
	'#CC0099',
	'#CC00CC',
	'#CC00FF',
	'#CC3300',
	'#CC3333',
	'#CC3366',
	'#CC3399',
	'#CC33CC',
	'#CC33FF',
	'#CC6600',
	'#CC6633',
	'#CC9900',
	'#CC9933',
	'#CCCC00',
	'#CCCC33',
	'#FF0000',
	'#FF0033',
	'#FF0066',
	'#FF0099',
	'#FF00CC',
	'#FF00FF',
	'#FF3300',
	'#FF3333',
	'#FF3366',
	'#FF3399',
	'#FF33CC',
	'#FF33FF',
	'#FF6600',
	'#FF6633',
	'#FF9900',
	'#FF9933',
	'#FFCC00',
	'#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

// eslint-disable-next-line complexity
function useColors() {
	// NB: In an Electron preload script, document will be defined but not fully
	// initialized. Since we know we're in Chrome, we'll just detect this case
	// explicitly
	if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
		return true;
	}

	// Internet Explorer and Edge do not support colors.
	if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
		return false;
	}

	// Is webkit? http://stackoverflow.com/a/16459606/376773
	// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
	return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
		// Is firebug? http://stackoverflow.com/a/398120/376773
		(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
		// Is firefox >= v31?
		// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
		// Double check webkit in userAgent just in case we are in a worker
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
	args[0] = (this.useColors ? '%c' : '') +
		this.namespace +
		(this.useColors ? ' %c' : ' ') +
		args[0] +
		(this.useColors ? '%c ' : ' ') +
		'+' + module.exports.humanize(this.diff);

	if (!this.useColors) {
		return;
	}

	const c = 'color: ' + this.color;
	args.splice(1, 0, c, 'color: inherit');

	// The final "%c" is somewhat tricky, because there could be other
	// arguments passed either before or after the %c, so we need to
	// figure out the correct index to insert the CSS into
	let index = 0;
	let lastC = 0;
	args[0].replace(/%[a-zA-Z%]/g, match => {
		if (match === '%%') {
			return;
		}
		index++;
		if (match === '%c') {
			// We only are interested in the *last* %c
			// (the user may have provided their own)
			lastC = index;
		}
	});

	args.splice(lastC, 0, c);
}

/**
 * Invokes `console.debug()` when available.
 * No-op when `console.debug` is not a "function".
 * If `console.debug` is not available, falls back
 * to `console.log`.
 *
 * @api public
 */
exports.log = console.debug || console.log || (() => {});

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */
function save(namespaces) {
	try {
		if (namespaces) {
			exports.storage.setItem('debug', namespaces);
		} else {
			exports.storage.removeItem('debug');
		}
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */
function load() {
	let r;
	try {
		r = exports.storage.getItem('debug');
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}

	// If debug isn't set in LS, and we're in Electron, try to load $DEBUG
	if (!r && typeof process !== 'undefined' && 'env' in process) {
		r = process.env.DEBUG;
	}

	return r;
}

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
	try {
		// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
		// The Browser also has localStorage in the global context.
		return localStorage;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/socket.io-parser/node_modules/debug/src/common.js")(exports);

const {formatters} = module.exports;

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
	try {
		return JSON.stringify(v);
	} catch (error) {
		return '[UnexpectedJSONParseError]: ' + error.message;
	}
};


/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/debug/src/common.js":
/*!************************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/debug/src/common.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */

function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;
	createDebug.coerce = coerce;
	createDebug.disable = disable;
	createDebug.enable = enable;
	createDebug.enabled = enabled;
	createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/socket.io-parser/node_modules/ms/index.js");
	createDebug.destroy = destroy;

	Object.keys(env).forEach(key => {
		createDebug[key] = env[key];
	});

	/**
	* The currently active debug mode names, and names to skip.
	*/

	createDebug.names = [];
	createDebug.skips = [];

	/**
	* Map of special "%n" handling functions, for the debug "format" argument.
	*
	* Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
	*/
	createDebug.formatters = {};

	/**
	* Selects a color for a debug namespace
	* @param {String} namespace The namespace string for the for the debug instance to be colored
	* @return {Number|String} An ANSI color code for the given namespace
	* @api private
	*/
	function selectColor(namespace) {
		let hash = 0;

		for (let i = 0; i < namespace.length; i++) {
			hash = ((hash << 5) - hash) + namespace.charCodeAt(i);
			hash |= 0; // Convert to 32bit integer
		}

		return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
	}
	createDebug.selectColor = selectColor;

	/**
	* Create a debugger with the given `namespace`.
	*
	* @param {String} namespace
	* @return {Function}
	* @api public
	*/
	function createDebug(namespace) {
		let prevTime;
		let enableOverride = null;

		function debug(...args) {
			// Disabled?
			if (!debug.enabled) {
				return;
			}

			const self = debug;

			// Set `diff` timestamp
			const curr = Number(new Date());
			const ms = curr - (prevTime || curr);
			self.diff = ms;
			self.prev = prevTime;
			self.curr = curr;
			prevTime = curr;

			args[0] = createDebug.coerce(args[0]);

			if (typeof args[0] !== 'string') {
				// Anything else let's inspect with %O
				args.unshift('%O');
			}

			// Apply any `formatters` transformations
			let index = 0;
			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
				// If we encounter an escaped % then don't increase the array index
				if (match === '%%') {
					return '%';
				}
				index++;
				const formatter = createDebug.formatters[format];
				if (typeof formatter === 'function') {
					const val = args[index];
					match = formatter.call(self, val);

					// Now we need to remove `args[index]` since it's inlined in the `format`
					args.splice(index, 1);
					index--;
				}
				return match;
			});

			// Apply env-specific formatting (colors, etc.)
			createDebug.formatArgs.call(self, args);

			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}

		debug.namespace = namespace;
		debug.useColors = createDebug.useColors();
		debug.color = createDebug.selectColor(namespace);
		debug.extend = extend;
		debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.

		Object.defineProperty(debug, 'enabled', {
			enumerable: true,
			configurable: false,
			get: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,
			set: v => {
				enableOverride = v;
			}
		});

		// Env-specific initialization logic for debug instances
		if (typeof createDebug.init === 'function') {
			createDebug.init(debug);
		}

		return debug;
	}

	function extend(namespace, delimiter) {
		const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
		newDebug.log = this.log;
		return newDebug;
	}

	/**
	* Enables a debug mode by namespaces. This can include modes
	* separated by a colon and wildcards.
	*
	* @param {String} namespaces
	* @api public
	*/
	function enable(namespaces) {
		createDebug.save(namespaces);

		createDebug.names = [];
		createDebug.skips = [];

		let i;
		const split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
		const len = split.length;

		for (i = 0; i < len; i++) {
			if (!split[i]) {
				// ignore empty strings
				continue;
			}

			namespaces = split[i].replace(/\*/g, '.*?');

			if (namespaces[0] === '-') {
				createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
			} else {
				createDebug.names.push(new RegExp('^' + namespaces + '$'));
			}
		}
	}

	/**
	* Disable debug output.
	*
	* @return {String} namespaces
	* @api public
	*/
	function disable() {
		const namespaces = [
			...createDebug.names.map(toNamespace),
			...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)
		].join(',');
		createDebug.enable('');
		return namespaces;
	}

	/**
	* Returns true if the given mode name is enabled, false otherwise.
	*
	* @param {String} name
	* @return {Boolean}
	* @api public
	*/
	function enabled(name) {
		if (name[name.length - 1] === '*') {
			return true;
		}

		let i;
		let len;

		for (i = 0, len = createDebug.skips.length; i < len; i++) {
			if (createDebug.skips[i].test(name)) {
				return false;
			}
		}

		for (i = 0, len = createDebug.names.length; i < len; i++) {
			if (createDebug.names[i].test(name)) {
				return true;
			}
		}

		return false;
	}

	/**
	* Convert regexp to namespace
	*
	* @param {RegExp} regxep
	* @return {String} namespace
	* @api private
	*/
	function toNamespace(regexp) {
		return regexp.toString()
			.substring(2, regexp.toString().length - 2)
			.replace(/\.\*\?$/, '*');
	}

	/**
	* Coerce `val`.
	*
	* @param {Mixed} val
	* @return {Mixed}
	* @api private
	*/
	function coerce(val) {
		if (val instanceof Error) {
			return val.stack || val.message;
		}
		return val;
	}

	/**
	* XXX DO NOT USE. This is a temporary stub function.
	* XXX It WILL be removed in the next major release.
	*/
	function destroy() {
		console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
	}

	createDebug.enable(createDebug.load());

	return createDebug;
}

module.exports = setup;


/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/ms/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/ms/index.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MainScene = exports.mainCharacterinitialPosition = exports.isTouchDevice = void 0;
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
const Chair_1 = __webpack_require__(/*! ./modules/Chair */ "./src/modules/Chair.ts");
const Character_1 = __webpack_require__(/*! ./modules/Character */ "./src/modules/Character.ts");
const CharacterController_1 = __webpack_require__(/*! ./modules/CharacterController */ "./src/modules/CharacterController.ts");
const Classroom3D_1 = __webpack_require__(/*! ./modules/Classroom3D */ "./src/modules/Classroom3D.ts");
const ClassroomManager_1 = __webpack_require__(/*! ./modules/ClassroomManager */ "./src/modules/ClassroomManager.ts");
const data_1 = __webpack_require__(/*! ./modules/data */ "./src/modules/data.ts");
/**
* Is touch device?
*/
exports.isTouchDevice = 'ontouchstart' in window;
exports.mainCharacterinitialPosition = new enable3d_1.THREE.Vector3(-6 + Math.random() * 3, 0, 3 + Math.random() * 2);
const MAXIMUM_AUDIBLE_DISTANCE = 10;
class MainScene extends enable3d_1.Scene3D {
    constructor() {
        super({ key: "MainScene" });
        this.subCharacters = {};
        this.chairs = [];
        this.classroom = new ClassroomManager_1.ClassroomManager(this);
    }
    init() {
        this.renderer.setPixelRatio(Math.max(1, window.devicePixelRatio / 2));
    }
    preload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield Promise.all([
                this.load.preload('man', './resources/models/box_man/box_man.glb'),
                this.load.preload('bg1', './resources/textures/world/posx.jpg'),
                this.load.preload('bg2', './resources/textures/world/negx.jpg'),
                this.load.preload('bg3', './resources/textures/world/posy.jpg'),
                this.load.preload('bg4', './resources/textures/world/negy.jpg'),
                this.load.preload('bg5', './resources/textures/world/posz.jpg'),
                this.load.preload('bg6', './resources/textures/world/negz.jpg'),
                this.load.preload('wood', './resources/textures/wood.jpg'),
                this.load.preload('floor', './resources/textures/floor.jpg'),
                this.load.preload('floor', './resources/textures/board.jpg')
            ]);
        });
    }
    create() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.warpSpeed('-ground', '-orbitControls', '-light', '-sky');
            // this.physics.debug.enable()
            /**
            * Setup Lights
            */
            this.setupLights();
            /**
             * Set up Enviornment
             */
            this.setupEnviornment();
            // Add Character
            this.addMainCharacter(exports.mainCharacterinitialPosition);
        });
    }
    setupEnviornment() {
        const loader = new enable3d_1.THREE.CubeTextureLoader();
        const terrainTexture = loader.load([
            './resources/textures/world/posx.jpg',
            './resources/textures/world/negx.jpg',
            './resources/textures/world/posy.jpg',
            './resources/textures/world/negy.jpg',
            './resources/textures/world/posz.jpg',
            './resources/textures/world/negz.jpg',
        ]);
        terrainTexture.encoding = enable3d_1.THREE.sRGBEncoding;
        this.scene.background = terrainTexture;
        this.addClassroom();
        for (let i of data_1.chairPositions) {
            const chair1 = new Chair_1.Chair();
            const chair2 = new Chair_1.Chair();
            chair1.position.set(i[0], 0, i[1] - 0.35);
            chair2.position.set(i[0], 0, i[1] + 0.35);
            chair1.addToWorld(this);
            chair2.addToWorld(this);
            this.chairs.push(chair1);
            this.chairs.push(chair2);
        }
    }
    addClassroom() {
        Classroom3D_1.addClassroomToScene(this);
    }
    setupLights() {
        const directionalLight = new enable3d_1.THREE.DirectionalLight(0xFFFFFF, 0.6);
        directionalLight.position.set(-40, 30, -40);
        directionalLight.target.position.set(0, 0, 0);
        directionalLight.castShadow = true;
        directionalLight.shadow.bias = -0.001;
        directionalLight.shadow.mapSize.width = 4096;
        directionalLight.shadow.mapSize.height = 4096;
        directionalLight.shadow.camera.near = 0.1;
        directionalLight.shadow.camera.far = 500.0;
        directionalLight.shadow.camera.left = 50;
        directionalLight.shadow.camera.right = -50;
        directionalLight.shadow.camera.top = 50;
        directionalLight.shadow.camera.bottom = -50;
        this.scene.add(directionalLight);
        const ambientLight = new enable3d_1.THREE.AmbientLight(0xFFFFFF, 1);
        this.scene.add(ambientLight);
    }
    addMainCharacter(initialPosition = undefined) {
        this.mainCharacter = new Character_1.Character({
            scene: this,
            initialPosition: exports.mainCharacterinitialPosition,
            name: this.classroom.username,
            onReady: (character) => {
                this.characterController = new CharacterController_1.CharacterController({
                    character,
                    camera: this.camera,
                    scene: this,
                });
            }
        });
    }
    setMainCharacterColorFromString(color) {
        var _a;
        (_a = this.mainCharacter) === null || _a === void 0 ? void 0 : _a.setColor(new enable3d_1.THREE.Color(color));
    }
    addSubCharacter(character) {
        if (!Object.keys(this.subCharacters).includes('uuid')) {
            const initialPosition = new enable3d_1.THREE.Vector3(character.position.x, character.position.y, character.position.z);
            const newCharacter = new Character_1.Character({ scene: this, color: new enable3d_1.THREE.Color(character.color), initialPosition, name: character.username });
            newCharacter.lookingAt.set(...character.lookingAt);
            newCharacter.isSitting = character.isSitting;
            newCharacter.addNameLabel(character.username);
            this.subCharacters[character.uuid] = newCharacter;
            console.log("New character added");
        }
    }
    update(time, delta) {
        var _a;
        (_a = this.characterController) === null || _a === void 0 ? void 0 : _a.update(time, delta);
        Object.keys(this.subCharacters).forEach(uuid => {
            var _a;
            const character = this.subCharacters[uuid];
            character.update(time, delta);
            if (((_a = this.mainCharacter) === null || _a === void 0 ? void 0 : _a.target) && character.target && this.classroom.audios[uuid]) {
                const distance = this.mainCharacter.target.position.distanceTo(character.target.position);
                this.classroom.audios[uuid].volume = Math.max((MAXIMUM_AUDIBLE_DISTANCE - distance) / MAXIMUM_AUDIBLE_DISTANCE, 0);
            }
        });
    }
}
exports.MainScene = MainScene;
window.addEventListener('load', () => {
    enable3d_1.PhysicsLoader('ammo', () => {
        const project = new enable3d_1.Project({ antialias: true, maxSubSteps: 10, gravity: { x: 0, y: -9.81, z: 0 }, fixedTimeStep: 1 / 120, scenes: [MainScene] });
        project.canvas.style.marginTop = '0px !important';
        const htmlContainer = document.getElementById('classroom');
        if (!htmlContainer)
            throw ("Can't find an html element with id classroom");
        htmlContainer.appendChild(project.canvas);
        project.canvas.style.marginTop = '0px !important';
        const resize = () => {
            const newWidth = window.innerWidth;
            const newHeight = window.innerHeight;
            htmlContainer.style.width = `${newWidth}px`;
            htmlContainer.style.height = `${newHeight}px`;
            project.renderer.setSize(newWidth, newHeight);
            if ('aspect' in project.camera)
                project.camera.aspect = newWidth / newHeight;
            project.camera.updateProjectionMatrix();
        };
        window.onresize = resize;
        resize();
    });
});


/***/ }),

/***/ "./src/modules/Chair.ts":
/*!******************************!*\
  !*** ./src/modules/Chair.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Chair = void 0;
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
const loader = new enable3d_1.THREE.TextureLoader();
class Chair extends enable3d_1.ExtendedObject3D {
    constructor() {
        super();
        const group = new enable3d_1.THREE.Group();
        const material = new enable3d_1.THREE.MeshBasicMaterial({
            color: 0xFF8844,
            map: loader.load('./resources/textures/wood.jpg'),
        });
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 1, 0.1).translate(0.45, 0.5, 0.45))); // Leg 1
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 1, 0.1).translate(0.45, 0.5, -0.45))); // Leg 2
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 1, 0.1).translate(-0.45, 0.5, 0.45))); // Leg 3
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 1, 0.1).translate(-0.45, 0.5, -0.45))); // Leg 4
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(1, 0.11, 1).translate(0, 1, 0))); // Seat
        this.add(new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 1.3, 1).translate(0.5, 1.6, 0))); // Side
        this.traverse((child) => {
            if (child.isMesh) {
                child.castShadow = true;
                child.receiveShadow = true;
                child.material = material;
                child.material.roughness = 0.5;
                child.material.metalness = 0.5;
            }
        });
        this.scale.setScalar(0.43);
    }
    addToWorld(scene) {
        scene.add.existing(this);
        scene.physics.add.existing(this, {
            shape: 'box',
            width: 0.5,
            height: 1,
            offset: { y: -0.25 },
            mass: 100000
        });
        this.body.setFriction(100);
        this.body.setCollisionFlags(0);
        this.body.setAngularFactor(0, 0, 0);
        // https://docs.panda3d.org/1.10/python/programming/physics/bullet/ccd
        this.body.setCcdMotionThreshold(1e-7);
        this.body.setCcdSweptSphereRadius(0.25);
    }
}
exports.Chair = Chair;


/***/ }),

/***/ "./src/modules/Character.ts":
/*!**********************************!*\
  !*** ./src/modules/Character.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = void 0;
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
const __1 = __webpack_require__(/*! .. */ "./src/index.ts");
const DEFAULT_VECTOR_3 = new enable3d_1.THREE.Vector3();
const MOVEMENT_SPEED = 3.5;
class Character {
    constructor(params) {
        var _a;
        this.lookingAt = new enable3d_1.THREE.Vector3();
        this.isMovingForward = false;
        this.isSitting = false;
        this.params = params;
        this.color = (_a = params.color) !== null && _a !== void 0 ? _a : new enable3d_1.THREE.Color(0xFFFFFF);
        this.loadCharacter();
    }
    loadCharacter() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const object = yield this.params.scene.load.gltf('man');
            const man = object.scene.children[0];
            this.target = new enable3d_1.ExtendedObject3D();
            this.target.name = 'character';
            this.target.rotateY(Math.PI + 0.1); // a hack
            this.target.add(man);
            this.target.rotation.set(0, Math.PI * 1.5, 0);
            const initialPosition = (_a = this.params.initialPosition) !== null && _a !== void 0 ? _a : new enable3d_1.THREE.Vector3();
            initialPosition.setY(initialPosition.y);
            this.target.position.set(...initialPosition.toArray());
            // Add shadow and Color
            this.target.traverse((child) => {
                if (child.isMesh && child.name != 'name-label') {
                    child.castShadow = true;
                    child.receiveShadow = true;
                    child.material.color.set(this.color);
                    child.material.roughness = 0.5;
                    child.material.metalness = 0.5;
                }
            });
            /**
            * Animations
            */
            // ad the box man's animation mixer to the animationMixers array (for auto updates)
            this.params.scene.animationMixers.add(this.target.animation.mixer);
            object.animations.forEach(animation => {
                var _a;
                if (animation.name)
                    (_a = this.target) === null || _a === void 0 ? void 0 : _a.animation.add(animation.name, animation);
            });
            this.target.animation.play('idle');
            /**
            * Add the player to the scene with a body
            */
            this.params.scene.add.existing(this.target);
            this.addPhysics();
            if (this.params.onReady) {
                this.params.onReady(this);
            }
        });
    }
    setColor(color) {
        var _a;
        this.color = color;
        (_a = this.target) === null || _a === void 0 ? void 0 : _a.traverse((child) => {
            if (child.isMesh && child.name != 'name-label') {
                child.material.color.set(this.color);
            }
        });
    }
    addNameLabel(name) {
        var _a;
        if (this.nameLabel) {
            (_a = this.target) === null || _a === void 0 ? void 0 : _a.remove(this.nameLabel);
        }
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext("2d");
        if (ctx) {
            ctx.canvas.height = 300;
            ctx.canvas.height = 40;
            ctx.fillStyle = "rgba(255,255,255,1)";
            ctx.font = "25px Arial";
            ctx.textAlign = 'center';
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 8;
            ctx.strokeText(name, 150, 27.5);
            ctx.fillText(name, 150, 27.5);
        }
        var texture = new enable3d_1.THREE.Texture(canvas);
        texture.needsUpdate = true;
        const nameLabel = new enable3d_1.THREE.Mesh(new enable3d_1.THREE.PlaneGeometry(1, 0.15), new enable3d_1.THREE.MeshBasicMaterial({ map: texture, side: enable3d_1.THREE.DoubleSide, transparent: true }));
        nameLabel.name = 'name-label';
        nameLabel.position.setY(1.25);
        this.nameLabel = nameLabel;
        const attatchToTarget = () => {
            if (this.target)
                this.target.add(nameLabel);
            else {
                setTimeout(attatchToTarget, 1000);
            }
        };
        attatchToTarget();
    }
    update(time, delta) {
        var _a, _b;
        if (!((_a = this.target) === null || _a === void 0 ? void 0 : _a.body))
            return;
        const rotation = this.isSitting == false ? this.lookingAt : new enable3d_1.THREE.Vector3(-1000000, 0, 0);
        const theta = Math.atan2(rotation.x, rotation.z);
        this.target.body.setAngularVelocityY(0);
        const rotationMan = this.target.getWorldDirection(DEFAULT_VECTOR_3);
        const thetaMan = Math.atan2(rotationMan.x, rotationMan.z);
        const l = Math.abs(theta - thetaMan);
        let rotationSpeed = __1.isTouchDevice ? 2 : 4;
        let d = Math.PI / 24;
        if (l > d) {
            if (l > Math.PI - d)
                rotationSpeed *= -1;
            if (theta < thetaMan)
                rotationSpeed *= -1;
            this.target.body.setAngularVelocityY(rotationSpeed);
        }
        switch (this.target.animation.current) {
            case 'idle':
                if (this.isMovingForward == true) {
                    this.target.animation.play('run');
                    break;
                }
                if (this.isSitting == true) {
                    this.target.animation.play('sit_down_right', undefined, false);
                    this.target.body.setVelocityY(3.2);
                    setTimeout(() => { var _a; return (_a = this.target) === null || _a === void 0 ? void 0 : _a.body.setVelocityX(1); }, 100);
                    break;
                }
                break;
            case 'run':
                if (this.isMovingForward == false) {
                    this.target.animation.play('idle');
                    break;
                }
                this.updateMovement(theta);
                break;
            case 'sit_down_right':
                if (this.isSitting == false) {
                    this.target.body.setVelocity(-1, 2, 0);
                    this.target.animation.play('idle');
                    break;
                }
        }
        /**
         * Player Label Update
         */
        (_b = this.nameLabel) === null || _b === void 0 ? void 0 : _b.lookAt(this.params.scene.camera.position);
    }
    updateMovement(theta) {
        var _a;
        if (!((_a = this.target) === null || _a === void 0 ? void 0 : _a.body))
            return;
        const x = Math.sin(theta) * MOVEMENT_SPEED, y = this.target.body.velocity.y, z = Math.cos(theta) * MOVEMENT_SPEED;
        this.target.body.setVelocity(x, y, z);
    }
    correctPosition(newPosition, lookingAt) {
        if (this.target) {
            // this.
            // this.target.body.setPosition(...newPosition.toArray());
            // this.target.body.needUpdate = true;
            // this.target.body.refresh();
        }
    }
    addPhysics() {
        if (this.target) {
            this.params.scene.physics.add.existing(this.target, {
                shape: 'sphere',
                radius: 0.25,
                width: 0.5,
                offset: { y: -0.25 },
                mass: 100
            });
            this.target.body.setFriction(100);
            this.target.body.setAngularFactor(0, 0, 0);
            this.target.body.setCollisionFlags(0);
            // https://docs.panda3d.org/1.10/python/programming/physics/bullet/ccd
            this.target.body.setCcdMotionThreshold(1e-7);
            this.target.body.setCcdSweptSphereRadius(0.25);
            this.target.body.needUpdate = true;
        }
    }
    delete() {
        if (this.target)
            this.params.scene.scene.remove(this.target);
    }
}
exports.Character = Character;


/***/ }),

/***/ "./src/modules/CharacterController.ts":
/*!********************************************!*\
  !*** ./src/modules/CharacterController.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CharacterController = void 0;
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
const __1 = __webpack_require__(/*! .. */ "./src/index.ts");
const DEFAULT_VECTOR_3 = new enable3d_1.THREE.Vector3();
const MOUSE_SENSITIVITY = 0.25;
class CharacterController {
    constructor(params) {
        this.keys = {
            w: { isDown: false },
        };
        this.mouseMovementX = 0;
        this.mouseMovementY = 0;
        this.params = params;
        this.character = params.character;
        this.controls = new enable3d_1.ThirdPersonControls(this.params.camera, this.character.target, {
            offset: new enable3d_1.THREE.Vector3(0, 1, 0),
            targetRadius: 3,
            theta: 300
        });
        // Map Input
        const press = (e, isDown) => {
            if (this.params.scene.classroom.isPlaying != true)
                return true;
            switch (e.keyCode) {
                case 87: // w
                    this.keys.w.isDown = isDown;
                    e.preventDefault();
                    break;
                case 67: // c
                    if (isDown == false) {
                        this.toggleSitDown();
                    }
                    e.preventDefault();
                    break;
            }
            this.syncMovement();
        };
        document.addEventListener('keydown', e => press(e, true));
        document.addEventListener('keyup', e => press(e, false));
        /**
        * Add Pointer Lock and Pointer Drag
        */
        if (!__1.isTouchDevice) {
            let pl = new enable3d_1.PointerLock(this.params.scene.canvas);
            let pd = new enable3d_1.PointerDrag(this.params.scene.canvas);
            pd.onMove(delta => {
                if (pl.isLocked()) {
                    this.mouseMovementY = -delta.y * MOUSE_SENSITIVITY;
                    this.mouseMovementX = delta.x * MOUSE_SENSITIVITY;
                }
            });
        }
    }
    toggleSitDown() {
        var _a, _b;
        // Find Nearby Chair
        if (!this.character.target)
            return;
        if (this.character.isSitting == true) {
            this.character.isSitting = false;
        }
        else {
            const x = (_b = (_a = this.character) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.position;
            let distance = 1000000;
            let chair = this.params.scene.chairs[0];
            this.params.scene.chairs.forEach(c => {
                if (c.position.distanceTo(x) < distance) {
                    distance = c.position.distanceTo(x);
                    chair = c;
                }
            });
            if (distance < 1) {
                this.character.isSitting = true;
            }
        }
        this.params.scene.classroom.handleMySitDown(this.character.isSitting);
    }
    syncMovement() {
        var _a, _b, _c;
        this.params.scene.classroom.handleMyMovement(this.keys.w.isDown, {
            x: (_a = this.character.target) === null || _a === void 0 ? void 0 : _a.position.x,
            y: (_b = this.character.target) === null || _b === void 0 ? void 0 : _b.position.y,
            z: (_c = this.character.target) === null || _c === void 0 ? void 0 : _c.position.z,
        });
    }
    syncLookingAt() {
        this.params.scene.classroom.syncMyLookingAt(this.character.lookingAt.toArray());
    }
    update(time, delta) {
        var _a;
        this.character.update(time, delta);
        if ((_a = this.character.target) === null || _a === void 0 ? void 0 : _a.body) {
            /**
            * Update Controls
            */
            this.controls.update(this.mouseMovementX * 3, -this.mouseMovementY * 3);
            if (!__1.isTouchDevice)
                this.mouseMovementX = this.mouseMovementY = 0;
            /**
            * Player Turn
            */
            const oldLookAt = this.character.lookingAt.clone();
            this.character.lookingAt = this.params.camera.getWorldDirection(DEFAULT_VECTOR_3);
            if (!oldLookAt.equals(this.character.lookingAt))
                this.syncLookingAt(); // Sync Lookat
            /**
            * Player Move
            */
            this.character.isMovingForward = this.keys.w.isDown;
        }
    }
}
exports.CharacterController = CharacterController;


/***/ }),

/***/ "./src/modules/Classroom3D.ts":
/*!************************************!*\
  !*** ./src/modules/Classroom3D.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addClassroomToScene = exports.DEFAULT_BOARD_MATERIAL = exports.textureLoader = void 0;
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
exports.textureLoader = new enable3d_1.THREE.TextureLoader();
exports.DEFAULT_BOARD_MATERIAL = exports.textureLoader.load('./resources/textures/board.jpg');
function addClassroomToScene(scene) {
    // Floor
    const floorTexture = exports.textureLoader.load('./resources/textures/floor.jpg');
    floorTexture.wrapS = floorTexture.wrapT = enable3d_1.THREE.RepeatWrapping;
    floorTexture.repeat.set(8, 8);
    const floorMaterial = new enable3d_1.THREE.MeshStandardMaterial({
        color: 0xC1C1C1,
        map: floorTexture
    });
    floorMaterial.roughness = 1;
    floorMaterial.metalness = 0;
    const plane = scene.physics.add.box({ width: 18, height: 0.3, depth: 14, mass: 0 });
    plane.material = floorMaterial;
    plane.body.setGravity(0, 10, 0);
    plane.body.setFriction(1);
    plane.rotation.set(Math.PI / 2, 0, 0);
    plane.receiveShadow = true;
    // Walls
    const wallTexture = exports.textureLoader.load('./resources/textures/wall.jpg');
    wallTexture.wrapS = wallTexture.wrapT = enable3d_1.THREE.RepeatWrapping;
    wallTexture.repeat.set(4, 2);
    const wallMaterial = new enable3d_1.THREE.MeshStandardMaterial({
        color: 0xC1C1C1,
        map: wallTexture
    });
    wallMaterial.roughness = 1;
    wallMaterial.metalness = 0;
    const walls = [
        scene.physics.add.box({ width: 0.3, height: 5, depth: 14, mass: 0, x: 9, y: 2 }),
        scene.physics.add.box({ width: 0.3, height: 5, depth: 14, mass: 0, x: -9, y: 2 }),
        scene.physics.add.box({ width: 18, height: 5, depth: 0.3, mass: 0, z: 7, y: 2 }),
        scene.physics.add.box({ width: 18, height: 5, depth: 0.3, mass: 0, z: -7, y: 2 }),
    ];
    walls.forEach(wall => {
        wall.body.setFriction(0);
        wall.material = wallMaterial;
        wall.receiveShadow = true;
        wall.castShadow = false;
    });
    const roof = scene.physics.add.box({ width: 18, height: 0.3, depth: 14, mass: 0, y: 4.5 });
    roof.castShadow = false;
    roof.receiveShadow = false;
    roof.material = floorMaterial;
    // White Board
    const boardBorder = new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 3.1, 6.1), new enable3d_1.THREE.MeshStandardMaterial({ color: 0xAAAA00 }));
    boardBorder.receiveShadow = true;
    boardBorder.position.set(-8.86, 2.5, 0);
    scene.add.existing(boardBorder);
    const board = new enable3d_1.THREE.Mesh(new enable3d_1.THREE.BoxGeometry(0.1, 3, 6), new enable3d_1.THREE.MeshStandardMaterial({ color: 0xFFFFFF, roughness: 1 }));
    board.receiveShadow = true;
    board.material.map = exports.DEFAULT_BOARD_MATERIAL;
    board.position.set(-8.85, 2.5, 0);
    scene.add.existing(board);
    scene.projectionScreen = board;
}
exports.addClassroomToScene = addClassroomToScene;


/***/ }),

/***/ "./src/modules/ClassroomManager.ts":
/*!*****************************************!*\
  !*** ./src/modules/ClassroomManager.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ClassroomManager = void 0;
const socket_io_client_1 = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/build/index.js");
const enable3d_1 = __webpack_require__(/*! enable3d */ "./node_modules/enable3d/dist/index.js");
const __1 = __webpack_require__(/*! .. */ "./src/index.ts");
const peerjs_1 = __importDefault(__webpack_require__(/*! peerjs */ "./node_modules/peerjs/dist/peerjs.min.js"));
const Classroom3D_1 = __webpack_require__(/*! ./Classroom3D */ "./src/modules/Classroom3D.ts");
const SOCKET_ADDRESS = "ws://localhost:3500";
const PEER_CONFIG = {
    debug: 3,
    config: {
        iceTransportPolicy: "relay",
        'iceServers': [
            {
                // iceTransportPolicy:"relay",
                urls: 'stun:stun1.l.google.com:19302'
            },
            {
                // iceTransportPolicy:"relay",
                urls: 'turn:20.198.6.107:3478?transport=tcp',
                credential: '1234',
                username: 'caleum'
            }
        ]
    }
};
class ClassroomManager {
    constructor(scene) {
        this.isPlaying = false;
        this.emitHistory = {};
        this.myMediaStream = new MediaStream();
        this.peers = {};
        this.audios = {};
        this.isSocketReady = false;
        this.isAudioReady = false;
        this.isStartButtonLocked = false;
        this.links = [];
        this.activeLink = 0;
        this.scene = scene;
        const joinButton = document.getElementById('button');
        this.myAudio = document.createElement('audio');
        this.myAudio.muted = true;
        // Peer JS Connection
        this.logEvent("Connecting to voice chat manager...");
        this.myPeer = new peerjs_1.default(undefined, PEER_CONFIG);
        this.myPeer.on('error', (e) => { this.logEvent("Could't connect to voice chat manager", "error"); });
        // Microphone Permission
        this.logEvent('Waiting for your permission for microphone...');
        navigator.mediaDevices.getUserMedia({
            video: false,
            audio: true
        }).then(stream => {
            this.logEvent('Microphone permission granted', 'success');
            this.myMediaStream = stream;
        }).catch((e) => {
            this.logEvent("Revoked Microphone Permission. Users won't hear you", 'error');
        });
        // Peer JS Connection
        this.myPeer.on('open', () => {
            var _a;
            console.log("Peer JS connected");
            this.logEvent("Connected to voice chat manager", "success");
            joinButton.disabled = false;
            (_a = document.getElementById("button")) === null || _a === void 0 ? void 0 : _a.addEventListener("click", () => this.onSubmitInput());
        });
        document.addEventListener('keypress', (e) => {
            this.handleKeyEvents(e);
        });
    }
    onSubmitInput() {
        var _a;
        document.getElementById("button").disabled = true;
        const name = (_a = document.getElementById("username")) === null || _a === void 0 ? void 0 : _a.value;
        try {
            this.tryValidateInput(name);
        }
        catch (e) {
            document.getElementById("button").disabled = false;
            return;
        }
        this.username = name;
        this.startConnections();
    }
    startConnections() {
        const socket = this.socket = socket_io_client_1.io();
        this.logEvent("Connecting with server");
        socket.on('connect', () => {
            this.logEvent("Sending data to server");
            socket.emit('init', { uuid: this.myPeer.id, username: this.username, initialPosition: __1.mainCharacterinitialPosition.toArray() }, (data) => {
                this.handleInitResponse(data);
                this.fadeOutMenu().then(() => this.startClassroom());
                this.logEvent("Connected", "success");
            });
            // this.autoCorrectStateOnIntervals();
            this.handlerSocketEvents(socket);
            this.handleCalls();
        });
    }
    tryValidateInput(name) {
        if (!name)
            throw ("Can't find element with id `username`");
        if (name.length < 3) {
            alert("Name too short");
            throw ('Error');
        }
    }
    fadeOutMenu(DURATION = 300) {
        return new Promise((resolve, reject) => {
            const menuUI = document.getElementById("menu");
            const NUMBER_OF_FRAMES = 20;
            const x = setInterval(() => {
                const newOpacity = Number(window.getComputedStyle(menuUI).getPropertyValue("opacity")) - 1 / NUMBER_OF_FRAMES;
                menuUI.style.opacity = newOpacity.toString();
                if (newOpacity <= 0) {
                    resolve(null);
                    menuUI.style.display = "none";
                    clearInterval(x);
                }
            }, DURATION / NUMBER_OF_FRAMES);
        });
    }
    startClassroom() {
        this.isPlaying = true;
    }
    handleKeyEvents(e) {
        var _a, _b;
        if (!this.isPlaying)
            return;
        switch (e.key) {
            case 'p':
            case 'P':
                e.preventDefault();
                document.getElementById('links').style.display = 'flex';
                const elm = document.getElementById('linksTextarea').focus();
                break;
            case '[':
            case '{':
                if (this.activeLink > 0) {
                    (_a = this.socket) === null || _a === void 0 ? void 0 : _a.emit('update-active-link', this.activeLink - 1);
                    this.logEvent('Switching to previous slide');
                }
                else {
                    this.logEvent('Current slide is the first one');
                }
                break;
            case ']':
            case '}':
                if (this.activeLink < this.links.length - 1) {
                    (_b = this.socket) === null || _b === void 0 ? void 0 : _b.emit('update-active-link', this.activeLink + 1);
                    this.logEvent('Switching to next slide');
                }
                else {
                    this.logEvent('Current slide is the last one');
                }
                break;
            case 'o':
            case 'O':
                if (this.links.length > 0) {
                    e.preventDefault();
                    const screen = document.getElementById('screen');
                    screen.style.display = screen.style.display == 'block' ? 'none' : 'block';
                }
                else {
                    this.logEvent('No Active Slide', 'error');
                }
                break;
            case 'Enter':
                const input = document.getElementById('linksTextarea');
                if (input == document.activeElement) {
                    e.preventDefault();
                    this.serveMediaLinks(input.value);
                    document.getElementById('links').style.display = 'none';
                    document.getElementsByTagName('canvas')[0].focus();
                }
                break;
        }
    }
    autoCorrectStateOnIntervals() {
        const x = setInterval(() => {
            var _a, _b, _c;
            const target = (_a = this.scene.mainCharacter) === null || _a === void 0 ? void 0 : _a.target;
            if (target) {
                if (((_b = this.scene.mainCharacter) === null || _b === void 0 ? void 0 : _b.isMovingForward) == false) {
                    (_c = this.socket) === null || _c === void 0 ? void 0 : _c.emit('state-correction', target.position.toArray(), this.scene.mainCharacter.lookingAt.toArray());
                }
            }
        }, 1000);
    }
    handleInitResponse(data) {
        this.scene.setMainCharacterColorFromString(data.color);
        data.otherUsers.forEach(user => {
            this.scene.addSubCharacter(user);
            // Voice Chat
            this.callNewUser(user.uuid);
        });
    }
    handlerSocketEvents(socket) {
        socket.on('new-user', (newUser) => {
            this.logEvent(`New User ${newUser.username} Joined`);
            this.scene.addSubCharacter(newUser);
        });
        socket.on('movement', (uuid, isMovingForward) => {
            const character = this.scene.subCharacters[uuid];
            if (character) {
                character.isMovingForward = isMovingForward;
            }
            else {
                console.error(`Movement failed : ${uuid} is not in the character list `);
            }
        });
        socket.on('lookingAt', (uuid, lookingAt) => {
            if (this.scene.subCharacters[uuid])
                this.scene.subCharacters[uuid].lookingAt.set(...lookingAt);
            else
                console.error(`LooingAt failed : ${uuid} is not in the character list `);
        });
        socket.on('isSitting', (uuid, isSitting) => {
            if (this.scene.subCharacters[uuid])
                this.scene.subCharacters[uuid].isSitting = isSitting;
            else
                console.error(`isSitting failed : ${uuid} is not in the character list `);
        });
        socket.on('state-correction', (uuid, position, lookingAt) => {
            if (this.scene.subCharacters[uuid]) {
                this.scene.subCharacters[uuid].correctPosition(new enable3d_1.THREE.Vector3(...position), new enable3d_1.THREE.Vector3(...lookingAt));
            }
            else
                console.error(`State Correction failed : ${uuid} is not in the character list `);
        });
        socket.on('update-links', (links) => {
            this.activeLink = 0;
            links = links.trim();
            this.links = links.split('\n');
            if (this.scene.projectionScreen) {
                this.logEvent("Slides Updated");
                if (links.length > 0) {
                    this.scene.projectionScreen.material.map = Classroom3D_1.textureLoader.load(this.links[0]);
                    console.log(document.getElementById('screen'));
                    document.getElementById('screen').style.backgroundImage = `url(${this.links[0]}`;
                }
                else {
                    this.scene.projectionScreen.material.map = Classroom3D_1.DEFAULT_BOARD_MATERIAL;
                }
            }
        });
        socket.on('update-active-link', (activeLink) => {
            if (0 <= activeLink && activeLink < this.links.length) {
                if (this.scene.projectionScreen) {
                    this.activeLink = activeLink;
                    this.scene.projectionScreen.material.map = Classroom3D_1.textureLoader.load(this.links[activeLink]);
                    document.getElementById('screen').style.backgroundImage = `url(${this.links[activeLink]}`;
                }
            }
        });
        socket.on('user-exit', (uuid) => {
            const character = this.scene.subCharacters[uuid];
            if (character) {
                this.logEvent(`${character.params.name} exited`);
                if (character.target)
                    this.scene.physics.destroy(character.target.body);
                character.delete();
                delete this.scene.subCharacters[uuid];
            }
            else {
                console.error(`User exit failed : ${uuid} is not in the character list `);
            }
            if (this.peers[uuid]) {
                this.peers[uuid].close();
                delete this.peers[uuid];
            }
            ;
        });
        socket.on('disconnect', () => {
            this.logEvent("Connection to server is lost", 'error');
            const TIME_LIMIT_SECONDS = 10;
            for (let i = TIME_LIMIT_SECONDS; i > 0; i--) {
                setTimeout(() => this.logEvent(`Reloading in ${i} seconds`, 'error'), (TIME_LIMIT_SECONDS - i) * 1000);
            }
            setTimeout(() => {
                this.logEvent(`Reloading...`, 'error');
                location.reload();
            }, TIME_LIMIT_SECONDS * 1000);
        });
    }
    handleMyMovement(isMovingForward, position) {
        var _a;
        if (this.emitHistory['isMovingForward'] && this.emitHistory['isMovingForward'].data == isMovingForward) {
            if (this.emitHistory['isMovingForward'].sameDataCounter++ != 10)
                return;
        }
        ;
        this.emitHistory['isMovingForward'] = {
            sameDataCounter: 0,
            data: isMovingForward
        };
        (_a = this.socket) === null || _a === void 0 ? void 0 : _a.emit('movement', isMovingForward, position);
    }
    syncMyLookingAt(lookingAt) {
        var _a;
        // if(this.emitHistory['lookingAt']){
        // 	if(JSON.stringify(this.emitHistory['lookingAt'].data) == JSON.stringify(lookingAt)){
        // 		this.emitHistory['lookingAt'].sameDataCounter = 0;
        // 		return;
        // 	}
        // 	else{
        // 		if(this.emitHistory['lookingAt'].sameDataCounter++ != 0) return;
        // 	}
        // };
        this.emitHistory['lookingAt'] = {
            sameDataCounter: 0,
            data: lookingAt
        };
        (_a = this.socket) === null || _a === void 0 ? void 0 : _a.emit('lookingAt', lookingAt);
    }
    handleMySitDown(isSitting) {
        var _a;
        (_a = this.socket) === null || _a === void 0 ? void 0 : _a.emit('isSitting', isSitting);
    }
    serveMediaLinks(links) {
        var _a;
        (_a = this.socket) === null || _a === void 0 ? void 0 : _a.emit('update-links', links);
        this.logEvent("Updating Slides");
    }
    // Voice Chat
    handleCalls() {
        this.myPeer.on('call', call => {
            console.log(`New Call from ${call.peer}`);
            call.answer(this.myMediaStream);
            const audio = document.createElement('audio');
            call.on('stream', userAudioStream => this.addAudioStream(call.peer, audio, userAudioStream));
            call.on('close', () => {
                audio.remove();
                if (this.audios[call.peer])
                    delete this.audios[call.peer];
            });
        });
    }
    callNewUser(uuid) {
        console.log(`Calling User ${uuid}`);
        const call = this.myPeer.call(uuid, this.myMediaStream);
        const audio = document.createElement('audio');
        call.on('stream', userAudioStream => { this.addAudioStream(uuid, audio, userAudioStream); });
        call.on('close', () => {
            audio.remove();
            if (this.audios[uuid])
                delete this.audios[uuid];
        });
        this.peers[uuid] = call;
    }
    addAudioStream(uuid, audio, stream) {
        audio.srcObject = stream;
        audio.addEventListener('loadedmetadata', () => { audio.play(); });
        this.audios[uuid] = audio;
    }
    // Logging
    logEvent(text, type = undefined) {
        const li = document.createElement("li");
        if (type == 'error')
            text = "ERROR: " + text;
        li.innerHTML = text;
        if (type)
            li.className = "log-" + type;
        const console = document.getElementById("console");
        console.appendChild(li);
        console.scrollTop = console.scrollHeight;
    }
}
exports.ClassroomManager = ClassroomManager;


/***/ }),

/***/ "./src/modules/data.ts":
/*!*****************************!*\
  !*** ./src/modules/data.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.chairPositions = void 0;
exports.chairPositions = [
    [-2, -3], [0, -3], [2, -3], [4, -3], [6, -3],
    [-2, -1], [0, -1], [2, -1], [4, -1], [6, -1],
    [-2, 1], [0, 1], [2, 1], [4, 1], [6, 1],
    [-2, 3], [0, 3], [2, 3], [4, 3], [6, 3],
];


/***/ }),

/***/ "./node_modules/yeast/index.js":
/*!*************************************!*\
  !*** ./node_modules/yeast/index.js ***!
  \*************************************/
/***/ ((module) => {

"use strict";


var alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')
  , length = 64
  , map = {}
  , seed = 0
  , i = 0
  , prev;

/**
 * Return a string representing the specified number.
 *
 * @param {Number} num The number to convert.
 * @returns {String} The string representation of the number.
 * @api public
 */
function encode(num) {
  var encoded = '';

  do {
    encoded = alphabet[num % length] + encoded;
    num = Math.floor(num / length);
  } while (num > 0);

  return encoded;
}

/**
 * Return the integer value specified by the given string.
 *
 * @param {String} str The string to convert.
 * @returns {Number} The integer value represented by the string.
 * @api public
 */
function decode(str) {
  var decoded = 0;

  for (i = 0; i < str.length; i++) {
    decoded = decoded * length + map[str.charAt(i)];
  }

  return decoded;
}

/**
 * Yeast: A tiny growing id generator.
 *
 * @returns {String} A unique id.
 * @api public
 */
function yeast() {
  var now = encode(+new Date());

  if (now !== prev) return seed = 0, prev = now;
  return now +'.'+ encode(seed++);
}

//
// Map each character to its index.
//
for (; i < length; i++) map[alphabet[i]] = i;

//
// Expose the `yeast`, `encode` and `decode` functions.
//
yeast.encode = encode;
yeast.decode = decode;
module.exports = yeast;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvYmFja28yL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9iYXNlNjQtYXJyYXlidWZmZXIvbGliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL2Rpc3QvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2QvZGlzdC9zY2VuZTNkLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L2NvbGxpc2lvbkV2ZW50cy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC9jb25zdHJhaW50cy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC9jb252ZXhPYmplY3RCcmVha2VyLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L2RlYnVnRHJhd2VyLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L2xpYi9DbG9jay5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC9waHlzaWNzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L3JheWNhc3Rlci9hbGxIaXRzUmF5UmVzdWx0Q2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvYW1tby1waHlzaWNzL2Rpc3QvcmF5Y2FzdGVyL2Nsb3Nlc3RSYXlSZXN1bHRDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC9yYXljYXN0ZXIvcmF5Y2FzdGVyLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L3NoYXBlcy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC90aHJlZS10by1hbW1vLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2FtbW8tcGh5c2ljcy9kaXN0L3RvcnVzU2hhcGUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvYXBwbHlNaXhpbnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvZGVmYXVsdE1hdGVyaWFsLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2V4dGVuZGVkR3JvdXAuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvZXh0ZW5kZWRNZXNoLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2V4dGVuZGVkT2JqZWN0M0QuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvZmFjdG9yaWVzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2xvZ2dlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9jb21tb24vZGlzdC9taXNjL2ZpcnN0UGVyc29uQ29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvbWlzYy9qb3lzdGljay5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9jb21tb24vZGlzdC9taXNjL3BvaW50ZXJEcmFnLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2NvbW1vbi9kaXN0L21pc2MvcG9pbnRlckxvY2suanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvbWlzYy90aGlyZFBlcnNvbkNvbnRyb2xzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL2NvbW1vbi9kaXN0L21pc2Mvd2F0ZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvcGh5c2ljc0JvZHkuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvcGh5c2ljc0xvYWRlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9jb21tb24vZGlzdC90eXBlcy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC9jb21tb24vZGlzdC90eXBlc0FtbW8uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3QvdHlwZXNDdXN0b20uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvY29tbW9uL2Rpc3Qvd2FzbUxvYWRlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L2NvcmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvdGhyZWUtZ3JhcGhpY3MvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3BsdWdpbnMvY2FtZXJhcy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3BsdWdpbnMvY3NnLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9oYXZlU29tZUZ1bi5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3BsdWdpbnMvaGVpZ2h0bWFwLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3BsdWdpbnMvbGlnaHRzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9sb2FkZXJzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9taXNjLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9taXhlcnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvdGhyZWUtZ3JhcGhpY3MvZGlzdC9wbHVnaW5zL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3BsdWdpbnMvd2FycFNwZWVkLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmFibGUzZC9ub2RlX21vZHVsZXMvQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy93ZWJ4ci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5hYmxlM2Qvbm9kZV9tb2R1bGVzL0BlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuYWJsZTNkL25vZGVfbW9kdWxlcy9AZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi9nbG9iYWxUaGlzLmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy9wb2xsaW5nLWpzb25wLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcteGhyLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvd2Vic29ja2V0LWNvbnN0cnVjdG9yLmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi91dGlsLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi94bWxodHRwcmVxdWVzdC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9jb21tb25zLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9kZWNvZGVQYWNrZXQuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9saWIvZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9oYXMtY29ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvcGFyc2Vxcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvcGFyc2V1cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0L3BlZXJqcy5taW4uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0fHN5bmMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvbWFuYWdlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9vbi5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvdHlwZWQtZXZlbnRzLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL3VybC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvYmluYXJ5LmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pcy1iaW5hcnkuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vc3JjL21vZHVsZXMvQ2hhaXIudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vc3JjL21vZHVsZXMvQ2hhcmFjdGVyLnRzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL3NyYy9tb2R1bGVzL0NoYXJhY3RlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vc3JjL21vZHVsZXMvQ2xhc3Nyb29tM0QudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlLy4vc3JjL21vZHVsZXMvQ2xhc3Nyb29tTWFuYWdlci50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvLi9zcmMvbW9kdWxlcy9kYXRhLnRzIiwid2VicGFjazovL3RocmVlanMtYW1tb2pzLXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy95ZWFzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWFtbW9qcy13ZWJwYWNrLWV4YW1wbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1hbW1vanMtd2VicGFjay1leGFtcGxlL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGNBQWM7QUFDaEI7QUFDQTs7QUFFQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFLGNBQWM7QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVB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QTBGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZCQUE2QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZix1Qzs7Ozs7Ozs7Ozs7QUM1U2E7QUFDYiw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLHFCQUFxQixtQkFBTyxDQUFDLDhGQUFjO0FBQzNDO0FB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QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFlBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZCQUE2QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LDZDQUE2QyxVQUFVLDZDQUE2QyxVQUFVLG1DQUFtQyxVQUFVLHlDQUF5QyxVQUFVLCtDQUErQyxVQUFVLCtDQUErQyxVQUFVLHdDQUF3QyxVQUFVLHlDQUF5QyxVQUFVLHdDQUF3QyxVQUFVLG9DQUFvQyxTQUFTLHFDQUFxQyxTQUFTLHlDQUF5QyxTQUFTLG9DQUFvQyxTQUFTLDZCQUE2QixVQUFVLGlDQUFpQyxVQUFVLHNDQUFzQyxTQUFTLHlDQUF5QyxVQUFVLDhDQUE4QyxVQUFVLHdDQUF3QyxVQUFVLG1DQUFtQyxVQUFVLG1DQUFtQyxVQUFVLDBDQUEwQyxVQUFVLHFDQUFxQyxVQUFVLHlDQUF5QyxVQUFVLGlDQUFpQyxVQUFVLDBDQUEwQyxVQUFVLDhDQUE4QyxVQUFVLDZDQUE2QyxVQUFVLG1DQUFtQyxVQUFVLDBDQUEwQyxVQUFVLG9DQUFvQyxVQUFVLHdDQUF3QyxVQUFVLDhDQUE4QyxVQUFVLDJDQUEyQyxVQUFVLGtEQUFrRCxVQUFVLDRDQUE0QyxVQUFVLGtDQUFrQyxTQUFTLHNDQUFzQyxTQUFTLHNDQUFzQyxTQUFTLDhDQUE4QyxVQUFVLHdDQUF3QyxVQUFVLHdDQUF3QyxVQUFVLHdDQUF3QyxVQUFVLHFDQUFxQyxVQUFVLG1DQUFtQyxVQUFVLG9DQUFvQyxVQUFVLGtDQUFrQyxTQUFTLHdDQUF3QyxVQUFVLHdEQUF3RCxVQUFVLHdEQUF3RCxVQUFVLDZCQUE2QixVQUFVLHVDQUF1QyxVQUFVLDZDQUE2QyxVQUFVLHVDQUF1QyxVQUFVLDZCQUE2QixVQUFVLDZCQUE2QixVQUFVLGtDQUFrQyxVQUFVLGtDQUFrQyxVQUFVLG1DQUFtQyxTQUFTLDhDQUE4QyxVQUFVLHdDQUF3QyxVQUFVLDhDQUE4QyxVQUFVLHdDQUF3QyxVQUFVLDhDQUE4QyxVQUFVLGlDQUFpQyxVQUFVLDJCQUEyQixVQUFVLCtCQUErQixVQUFVLDRCQUE0QixVQUFVLGtDQUFrQyxVQUFVLGlDQUFpQyxTQUFTLCtCQUErQixVQUFVLHlDQUF5QyxVQUFVLDZCQUE2QixVQUFVLDZCQUE2QixVQUFVLHFDQUFxQyxVQUFVLGdDQUFnQyxVQUFVLHFDQUFxQyxVQUFVLG9DQUFvQyxTQUFTLHlDQUF5QyxTQUFTLCtDQUErQyxVQUFVLDBDQUEwQyxVQUFVLGtDQUFrQyxVQUFVLDZCQUE2QixVQUFVLHFDQUFxQyxVQUFVLHVDQUF1QyxVQUFVLDZDQUE2QyxVQUFVLDRDQUE0QyxVQUFVLGlEQUFpRCxVQUFVLDJDQUEyQyxVQUFVLHlDQUF5QyxVQUFVLG1DQUFtQyxVQUFVLGtDQUFrQyxVQUFVLDZDQUE2QyxVQUFVLDBDQUEwQyxVQUFVLDhDQUE4QyxVQUFVLGdEQUFnRCxVQUFVLCtDQUErQyxVQUFVLGtEQUFrRCxVQUFVLHFDQUFxQyxVQUFVLHNDQUFzQyxVQUFVLDRDQUE0QyxVQUFVLHNDQUFzQyxVQUFVLDRDQUE0QyxVQUFVLHFDQUFxQyxVQUFVLDJDQUEyQyxVQUFVLCtCQUErQixVQUFVLHlDQUF5QyxVQUFVLGtEQUFrRCxVQUFVLG1DQUFtQyxVQUFVLDJDQUEyQyxVQUFVLHlDQUF5QyxVQUFVLHlDQUF5QyxVQUFVLHVDQUF1QyxVQUFVLGtDQUFrQyxVQUFVLHFDQUFxQyxVQUFVLHFDQUFxQyxVQUFVLDJCQUEyQixVQUFVLDJDQUEyQyxVQUFVLHFDQUFxQyxVQUFVLDhCQUE4QixVQUFVLGlDQUFpQyxVQUFVLGlDQUFpQyxTQUFTLHNDQUFzQyxTQUFTLDRDQUE0QyxVQUFVLHVDQUF1QyxVQUFVLDZCQUE2QixVQUFVLGtDQUFrQyxVQUFVLDRCQUE0QixVQUFVLDZCQUE2QixVQUFVLHlDQUF5QyxVQUFVLGlDQUFpQyxVQUFVLGtDQUFrQyxVQUFVLDBDQUEwQyxVQUFVLGdDQUFnQyxVQUFVLGtDQUFrQyxVQUFVLG9DQUFvQyxVQUFVLGlDQUFpQyxVQUFVLHNDQUFzQyxVQUFVLG9DQUFvQyxVQUFVLHlDQUF5QyxVQUFVLGdEQUFnRCxVQUFVLGlEQUFpRCxVQUFVLGdEQUFnRCxVQUFVLGlEQUFpRCxVQUFVLHlDQUF5QyxTQUFTLDhCQUE4QixVQUFVLG1DQUFtQyxVQUFVLHNDQUFzQyxVQUFVLHNDQUFzQyxVQUFVLGdDQUFnQyxVQUFVLG9DQUFvQyxVQUFVLGtDQUFrQyxVQUFVLDRDQUE0QyxVQUFVLHVDQUF1QyxVQUFVLDZCQUE2QixTQUFTLGdDQUFnQyxVQUFVLHNDQUFzQyxVQUFVLDRCQUE0QixVQUFVLGlDQUFpQyxVQUFVLCtCQUErQixVQUFVLCtCQUErQixVQUFVLG1DQUFtQyxTQUFTLDRCQUE0QixVQUFVLHlDQUF5QyxVQUFVLHlDQUF5QyxVQUFVLDRDQUE0QyxVQUFVLHdDQUF3QyxVQUFVLDJDQUEyQyxVQUFVLDBDQUEwQyxVQUFVLDBDQUEwQyxVQUFVLHlDQUF5QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLHdDQUF3QyxVQUFVLG1DQUFtQyxTQUFTLDhDQUE4QyxVQUFVLG9DQUFvQyxTQUFTLHFDQUFxQyxVQUFVLHdDQUF3QyxTQUFTLHlDQUF5QyxTQUFTLHFDQUFxQyxVQUFVLGlEQUFpRCxVQUFVLGtEQUFrRCxVQUFVLGlEQUFpRCxVQUFVLGtEQUFrRCxVQUFVLGtDQUFrQyxTQUFTLHdDQUF3QyxVQUFVLGtDQUFrQyxTQUFTLGdDQUFnQyxVQUFVLHFDQUFxQyxTQUFTLGdEQUFnRCxVQUFVLHNDQUFzQyxTQUFTLHFDQUFxQyxTQUFTLDJDQUEyQyxVQUFVLDJDQUEyQyxVQUFVLGdDQUFnQyxVQUFVLG9DQUFvQyxVQUFVLDRDQUE0QyxVQUFVLGdEQUFnRCxVQUFVLDBDQUEwQyxVQUFVLGlDQUFpQyxTQUFTLDhDQUE4QyxTQUFTLDhDQUE4QyxTQUFTLDhDQUE4QyxTQUFTLDhDQUE4QyxTQUFTLDBDQUEwQyxVQUFVLG9DQUFvQyxTQUFTLHdDQUF3QyxTQUFTLHNDQUFzQyxVQUFVLGdEQUFnRCxVQUFVLDBDQUEwQyxVQUFVLGdDQUFnQyxVQUFVLDZDQUE2QyxVQUFVLHNDQUFzQyxVQUFVLDhDQUE4QyxVQUFVLDRCQUE0QixVQUFVLHlDQUF5QyxVQUFVLDZCQUE2QixVQUFVLDJDQUEyQyxVQUFVLHFDQUFxQyxVQUFVLG1DQUFtQyxVQUFVLGtDQUFrQyxVQUFVLDBDQUEwQyxVQUFVLGtDQUFrQyxVQUFVLHdDQUF3QyxVQUFVLDhCQUE4QixVQUFVLHNDQUFzQyxVQUFVLHVDQUF1QyxVQUFVLGdEQUFnRCxVQUFVLDBDQUEwQyxVQUFVLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLHFDQUFxQyxVQUFVLDRDQUE0QyxVQUFVLDZDQUE2QyxVQUFVLGtDQUFrQyxVQUFVLCtDQUErQyxVQUFVLG1EQUFtRCxVQUFVLGdDQUFnQyxTQUFTLHdDQUF3QyxVQUFVLGtDQUFrQyxVQUFVLHlDQUF5QyxVQUFVLDhDQUE4QyxVQUFVLDZDQUE2QyxVQUFVLDZDQUE2QyxVQUFVLDZDQUE2QyxVQUFVLDhDQUE4QyxVQUFVLDhDQUE4QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLDRDQUE0QyxVQUFVLHdDQUF3QyxVQUFVLDRDQUE0QyxVQUFVLGdEQUFnRCxVQUFVLGdEQUFnRCxVQUFVLDZDQUE2QyxVQUFVLDZDQUE2QyxVQUFVLDZDQUE2QyxVQUFVLG9DQUFvQyxVQUFVLG9DQUFvQyxVQUFVLGtDQUFrQyxVQUFVLGlDQUFpQyxVQUFVLHdDQUF3QyxVQUFVLHNDQUFzQyxVQUFVLHFDQUFxQyxVQUFVLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLCtDQUErQyxVQUFVLCtDQUErQyxVQUFVLDRDQUE0QyxVQUFVLGdDQUFnQyxVQUFVLHVDQUF1QyxVQUFVLHlDQUF5QyxVQUFVLDJCQUEyQixVQUFVLGlDQUFpQyxVQUFVLHFDQUFxQyxVQUFVLGlDQUFpQyxVQUFVLHdDQUF3QyxVQUFVLDJDQUEyQyxVQUFVLHNDQUFzQyxVQUFVLHdDQUF3QyxVQUFVLCtDQUErQyxTQUFTLDBDQUEwQyxVQUFVLG9DQUFvQyxVQUFVLHNEQUFzRCxVQUFVLHFEQUFxRCxVQUFVLHFEQUFxRCxVQUFVLHFEQUFxRCxVQUFVLHNEQUFzRCxVQUFVLHNEQUFzRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLG9EQUFvRCxVQUFVLDZCQUE2QixVQUFVLGtDQUFrQyxVQUFVLG1DQUFtQyxVQUFVLGlDQUFpQyxVQUFVLHNDQUFzQyxVQUFVLHNDQUFzQyxVQUFVLDZCQUE2QixVQUFVLDJDQUEyQyxVQUFVLHFDQUFxQyxVQUFVLGlDQUFpQyxVQUFVLGtDQUFrQyxVQUFVLGlDQUFpQyxVQUFVLGdDQUFnQyxVQUFVLHNDQUFzQyxVQUFVLG1DQUFtQyxVQUFVLHFDQUFxQyxTQUFTLDhCQUE4QixVQUFVLDRDQUE0QyxVQUFVLHNDQUFzQyxVQUFVLGlDQUFpQyxVQUFVLDJDQUEyQyxVQUFVLDhCQUE4QixVQUFVLG1DQUFtQyxVQUFVLG9DQUFvQyxVQUFVLGlDQUFpQyxVQUFVLHVDQUF1QyxVQUFVLDhCQUE4QixVQUFVLHNDQUFzQyxVQUFVLHNDQUFzQyxTQUFTLDhDQUE4QyxTQUFTLHNDQUFzQyxTQUFTLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLG9DQUFvQyxVQUFVLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLHVDQUF1QyxVQUFVLDJDQUEyQyxVQUFVLHdDQUF3QyxTQUFTLDJDQUEyQyxTQUFTLDZCQUE2QixTQUFTLDZDQUE2QyxVQUFVLGlEQUFpRCxVQUFVLDJDQUEyQyxVQUFVLDBDQUEwQyxVQUFVLG9DQUFvQyxVQUFVLCtCQUErQixVQUFVLHFDQUFxQyxVQUFVLDJDQUEyQyxVQUFVLHFDQUFxQyxVQUFVLCtDQUErQyxVQUFVLHlDQUF5QyxVQUFVLGdDQUFnQyxVQUFVLDJDQUEyQyxVQUFVLDZDQUE2QyxVQUFVLHlDQUF5QyxVQUFVLDBDQUEwQyxVQUFVLG9DQUFvQyxVQUFVLGlDQUFpQyxVQUFVLHVDQUF1QyxVQUFVLDZDQUE2QyxVQUFVLHVDQUF1QyxVQUFVLDZDQUE2QyxVQUFVLHNDQUFzQyxVQUFVLDRDQUE0QyxVQUFVLDZDQUE2QyxVQUFVLG1EQUFtRCxVQUFVLCtCQUErQixVQUFVLG1DQUFtQyxVQUFVLHFDQUFxQyxVQUFVLHdDQUF3QyxVQUFV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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRCQUE0QjtBQUM1QjtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxXQUFXO0FBQzNEOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsOEJBQThCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDZCQUE2QixrQkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsU0FBUztBQUN0QixhQUFhLE9BQU87QUFDcEIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUM1TUEsbUJBQW1CLG1CQUFPLENBQUMsZ0ZBQWU7O0FB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QUFrQjtBQUNsQixZQUFZO0FBQ1osWUFBWTtBQUNaLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2YsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNENBQTRDOztBQUV2RDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNENBQTRDOztBQUV2RDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QkFBTyxDQUFDLDBCQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlJQUF5SSxxRUFBcUU7QUFDOU07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUSx3RkFBd0YsRUFBRTtBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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aW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogRXhwb3NlIGBCYWNrb2ZmYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tvZmY7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gIHRoaXMuZmFjdG9yID0gb3B0cy5mYWN0b3IgfHwgMjtcbiAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBiYWNrb2ZmIGR1cmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbigpe1xuICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gIGlmICh0aGlzLmppdHRlcikge1xuICAgIHZhciByYW5kID0gIE1hdGgucmFuZG9tKCk7XG4gICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgfVxuICByZXR1cm4gTWF0aC5taW4obXMsIHRoaXMubWF4KSB8IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0IHRoZSBudW1iZXIgb2YgYXR0ZW1wdHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1pbmltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uKG1pbil7XG4gIHRoaXMubXMgPSBtaW47XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24obWF4KXtcbiAgdGhpcy5tYXggPSBtYXg7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgaml0dGVyXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbihqaXR0ZXIpe1xuICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG5cbiIsIi8qXG4gKiBiYXNlNjQtYXJyYXlidWZmZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgTmlrbGFzIHZvbiBIZXJ0emVuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbihmdW5jdGlvbihjaGFycyl7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksXG4gICAgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSBcIlwiO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSs9Mykge1xuICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaV0gJiAzKSA8PCA0KSB8IChieXRlc1tpICsgMV0gPj4gNCldO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cblxuICAgIGlmICgobGVuICUgMykgPT09IDIpIHtcbiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgXCI9XCI7XG4gICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArIFwiPT1cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTY0O1xuICB9O1xuXG4gIGV4cG9ydHMuZGVjb2RlID0gIGZ1bmN0aW9uKGJhc2U2NCkge1xuICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSxcbiAgICBsZW4gPSBiYXNlNjQubGVuZ3RoLCBpLCBwID0gMCxcbiAgICBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSBcIj1cIikge1xuICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gXCI9XCIpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksXG4gICAgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlcik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKz00KSB7XG4gICAgICBlbmNvZGVkMSA9IGNoYXJzLmluZGV4T2YoYmFzZTY0W2ldKTtcbiAgICAgIGVuY29kZWQyID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSsxXSk7XG4gICAgICBlbmNvZGVkMyA9IGNoYXJzLmluZGV4T2YoYmFzZTY0W2krMl0pO1xuICAgICAgZW5jb2RlZDQgPSBjaGFycy5pbmRleE9mKGJhc2U2NFtpKzNdKTtcblxuICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMSA8PCAyKSB8IChlbmNvZGVkMiA+PiA0KTtcbiAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG4gIH07XG59KShcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIik7XG4iLCJcclxuLyoqXHJcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXHJcbiAqL1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcbiAqXHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcclxuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXHJcbiAgICAucHVzaChmbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIGZ1bmN0aW9uIG9uKCkge1xyXG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcclxuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBvbi5mbiA9IGZuO1xyXG4gIHRoaXMub24oZXZlbnQsIG9uKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIC8vIGFsbFxyXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBzcGVjaWZpYyBldmVudFxyXG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxyXG4gIHZhciBjYjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cclxuICAvLyBvbmUgaXMgc3Vic2NyaWJlZCBmb3IgdG8gYXZvaWQgbWVtb3J5IGxlYWsuXHJcbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHJcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXHJcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcblxyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcclxuICB9XHJcblxyXG4gIGlmIChjYWxsYmFja3MpIHtcclxuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2NlbmUzZF8xID0gcmVxdWlyZShcIi4vc2NlbmUzZFwiKTtcclxuZXhwb3J0cy5TY2VuZTNEID0gc2NlbmUzZF8xLlNjZW5lM0Q7XHJcbnZhciBwcm9qZWN0XzEgPSByZXF1aXJlKFwiLi9wcm9qZWN0XCIpO1xyXG5leHBvcnRzLlByb2plY3QgPSBwcm9qZWN0XzEuUHJvamVjdDtcclxudmFyIHBoeXNpY3NMb2FkZXJfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvcGh5c2ljc0xvYWRlclwiKTtcclxuZXhwb3J0cy5QaHlzaWNzTG9hZGVyID0gcGh5c2ljc0xvYWRlcl8xLlBoeXNpY3NMb2FkZXI7XHJcbnZhciBleHRlbmRlZE1lc2hfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZXh0ZW5kZWRNZXNoXCIpO1xyXG5leHBvcnRzLkV4dGVuZGVkTWVzaCA9IGV4dGVuZGVkTWVzaF8xLkV4dGVuZGVkTWVzaDtcclxudmFyIGV4dGVuZGVkT2JqZWN0M0RfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZXh0ZW5kZWRPYmplY3QzRFwiKTtcclxuZXhwb3J0cy5FeHRlbmRlZE9iamVjdDNEID0gZXh0ZW5kZWRPYmplY3QzRF8xLkV4dGVuZGVkT2JqZWN0M0Q7XHJcbnZhciBleHRlbmRlZEdyb3VwXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2V4dGVuZGVkR3JvdXBcIik7XHJcbmV4cG9ydHMuRXh0ZW5kZWRHcm91cCA9IGV4dGVuZGVkR3JvdXBfMS5FeHRlbmRlZEdyb3VwO1xyXG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5leHBvcnRzLlRIUkVFID0gVEhSRUU7XHJcbmNvbnN0IFR5cGVzID0gcmVxdWlyZShcIkBlbmFibGUzZC9jb21tb24vZGlzdC90eXBlc1wiKTtcclxuZXhwb3J0cy5UeXBlcyA9IFR5cGVzO1xyXG52YXIgam95c3RpY2tfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvbWlzYy9qb3lzdGlja1wiKTtcclxuZXhwb3J0cy5Kb3lTdGljayA9IGpveXN0aWNrXzEuSm95U3RpY2s7XHJcbnZhciB0aGlyZFBlcnNvbkNvbnRyb2xzXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L21pc2MvdGhpcmRQZXJzb25Db250cm9sc1wiKTtcclxuZXhwb3J0cy5UaGlyZFBlcnNvbkNvbnRyb2xzID0gdGhpcmRQZXJzb25Db250cm9sc18xLlRoaXJkUGVyc29uQ29udHJvbHM7XHJcbnZhciBmaXJzdFBlcnNvbkNvbnRyb2xzXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L21pc2MvZmlyc3RQZXJzb25Db250cm9sc1wiKTtcclxuZXhwb3J0cy5GaXJzdFBlcnNvbkNvbnRyb2xzID0gZmlyc3RQZXJzb25Db250cm9sc18xLkZpcnN0UGVyc29uQ29udHJvbHM7XHJcbnZhciBwb2ludGVyTG9ja18xID0gcmVxdWlyZShcIkBlbmFibGUzZC9jb21tb24vZGlzdC9taXNjL3BvaW50ZXJMb2NrXCIpO1xyXG5leHBvcnRzLlBvaW50ZXJMb2NrID0gcG9pbnRlckxvY2tfMS5Qb2ludGVyTG9jaztcclxudmFyIHBvaW50ZXJEcmFnXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L21pc2MvcG9pbnRlckRyYWdcIik7XHJcbmV4cG9ydHMuUG9pbnRlckRyYWcgPSBwb2ludGVyRHJhZ18xLlBvaW50ZXJEcmFnO1xyXG4vLyBwb3N0LXByb2Nlc3NpbmdcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuZXhwb3J0cy5FZmZlY3RDb21wb3NlciA9IGluZGV4XzEuRWZmZWN0Q29tcG9zZXI7XHJcbmV4cG9ydHMuUmVuZGVyUGFzcyA9IGluZGV4XzEuUmVuZGVyUGFzcztcclxuZXhwb3J0cy5TaGFkZXJQYXNzID0gaW5kZXhfMS5TaGFkZXJQYXNzO1xyXG5leHBvcnRzLkdsaXRjaFBhc3MgPSBpbmRleF8xLkdsaXRjaFBhc3M7XHJcbmV4cG9ydHMuRG90U2NyZWVuU2hhZGVyID0gaW5kZXhfMS5Eb3RTY3JlZW5TaGFkZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS1ncmFwaGljcy9kaXN0L2luZGV4XCIpO1xyXG5jbGFzcyBQcm9qZWN0IGV4dGVuZHMgaW5kZXhfMS5UaHJlZUdyYXBoaWNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHByb2plY3RDb25maWcpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgc3VwZXIocHJvamVjdENvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0Q29uZmlnID0gcHJvamVjdENvbmZpZztcclxuICAgICAgICB0aGlzLnNjZW5lcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdENvbmZpZy5wYXJlbnQpXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcm9qZWN0Q29uZmlnLnBhcmVudCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFtlbmFibGUzZF0gcGFyZW50IFwiJHt0aGlzLnByb2plY3RDb25maWcucGFyZW50fVwiIG5vdCBmb3VuZCEgV2lsbCBhZGQgaXQgdG8gdGhlIGJvZHkuYCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudDtcclxuICAgICAgICBsZXQgZmlyc3RTY2VuZUtleSA9ICcnO1xyXG4gICAgICAgIHRoaXMucHJvamVjdENvbmZpZy5zY2VuZXMuZm9yRWFjaCgoc2NlbmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcyA9IG5ldyBzY2VuZSgpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMClcclxuICAgICAgICAgICAgICAgIGZpcnN0U2NlbmVLZXkgPSBzLnNjZW5lS2V5O1xyXG4gICAgICAgICAgICBjb25zdCBwbHVnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gc2NlbmUgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgc2NlbmVDb25maWc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQW5pc290cm9weTogdGhpcy50ZXh0dXJlQW5pc290cm9weSxcclxuICAgICAgICAgICAgICAgICAgICBhdXRvU3RhcnQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGNvcmUgZmVhdHVyZXMgZnJvbSB0aHJlZS1ncmFwaGljc2NvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI6IHRoaXMucmVuZGVyZXIsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMucGFyZW50LFxyXG4gICAgICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcclxuICAgICAgICAgICAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxyXG4gICAgICAgICAgICAgICAgc2NlbmVzOiB0aGlzLnNjZW5lcyxcclxuICAgICAgICAgICAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmEsXHJcbiAgICAgICAgICAgICAgICBjYWNoZTogdGhpcy5jYWNoZSxcclxuICAgICAgICAgICAgICAgIHBoeXNpY3M6IHRoaXMucGh5c2ljc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzLmluaXRpYWxpemVTY2VuZShwbHVnKTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHMuc2V0U2l6ZSh0aGlzLnBhcmVudC5jbGllbnRXaWR0aCwgdGhpcy5wYXJlbnQuY2xpZW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHMuc2V0UGl4ZWxSYXRpbyhNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAvIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lcy5zZXQocy5zY2VuZUtleSwgcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gc3RhcnQgdGhlIGZpcnN0IHNjZW5lXHJcbiAgICAgICAgKF9hID0gdGhpcy5zY2VuZXMuZ2V0KGZpcnN0U2NlbmVLZXkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnQoZmlyc3RTY2VuZUtleSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Qcm9qZWN0ID0gUHJvamVjdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNvbnN0IFBsdWdpbnMgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLWdyYXBoaWNzL2Rpc3QvcGx1Z2lucy9pbmRleFwiKTtcclxuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svdXRpbGl0eS10eXBlcy5odG1sIFBpY2s8VCxLPlxyXG4vLyBleHBvcnQgY2xhc3MgU2NlbmUzRCBpbXBsZW1lbnRzIFBhcnRpYWw8VGhyZWVHcmFwaGljcz4ge1xyXG5jbGFzcyBTY2VuZTNEIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lQ29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLnNjZW5lQ29uZmlnID0gc2NlbmVDb25maWc7XHJcbiAgICAgICAgLy8gY29yZSBtb2R1bGVzIGZyb20gdGhyZWUtZ3JhcGhpY3NcclxuICAgICAgICB0aGlzLnNjZW5lcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLl9fY29uZmlnID0ge307XHJcbiAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZGVjb25zdHJ1Y3RvckZ1bmN0aW9ucyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHsga2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLCBlbmFibGVYUiA9IGZhbHNlIH0gPSBzY2VuZUNvbmZpZztcclxuICAgICAgICB0aGlzLl9fY29uZmlnLnNjZW5lS2V5ID0ga2V5O1xyXG4gICAgICAgIHRoaXMuX19jb25maWcuZW5hYmxlWFIgPSBlbmFibGVYUjtcclxuICAgIH1cclxuICAgIGdldCBkZWNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFkZDogKGZuYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVjb25zdHJ1Y3RvckZ1bmN0aW9ucy5wdXNoKGZuYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgaW5pdGlhbGl6ZVNjZW5lKHBsdWdpbnMpIHtcclxuICAgICAgICBjb25zdCB7IHJlbmRlcmVyLCBwYXJlbnQsIGNhbnZhcywgc2NlbmUsIHNjZW5lcywgY2FtZXJhLCBjYWNoZSwgcGh5c2ljcywgc2NlbmVDb25maWcgfSA9IHBsdWdpbnM7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmVzID0gc2NlbmVzO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MgPSBwaHlzaWNzO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBjb25zdCB7IGF1dG9TdGFydCwgdGV4dHVyZUFuaXNvdHJvcHkgfSA9IHNjZW5lQ29uZmlnO1xyXG4gICAgICAgIC8vIHBsdWdpbnNcclxuICAgICAgICB0aGlzLmxvYWQgPSBuZXcgUGx1Z2lucy5Mb2FkZXJzKHRoaXMuY2FjaGUsIHRleHR1cmVBbmlzb3Ryb3B5KTtcclxuICAgICAgICB0aGlzLmxpZ2h0cyA9IG5ldyBQbHVnaW5zLkxpZ2h0cyh0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBQbHVnaW5zLlRyYW5zZm9ybSh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlcik7XHJcbiAgICAgICAgdGhpcy5jc2cgPSBuZXcgUGx1Z2lucy5DU0codGhpcy5zY2VuZSwgdGhpcy50cmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwID0gbmV3IFBsdWdpbnMuSGVpZ2h0TWFwKHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gbmV3IFBsdWdpbnMuRmFjdG9yaWVzKHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMubWlzYyA9IG5ldyBQbHVnaW5zLk1pc2ModGhpcy5zY2VuZSwgdGhpcy5yZW5kZXJlciwgdGhpcy5mYWN0b3JpZXMpO1xyXG4gICAgICAgIHRoaXMud3MgPSBuZXcgUGx1Z2lucy5XYXJwU3BlZWQoc2NlbmUsIHJlbmRlcmVyLCBjYW1lcmEsIHRoaXMubGlnaHRzLCB0aGlzLnBoeXNpY3MsIHRoaXMubG9hZCwgdGhpcy5mYWN0b3JpZXMpO1xyXG4gICAgICAgIHRoaXMubWl4ZXJzID0gbmV3IFBsdWdpbnMuTWl4ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzID0gbmV3IFBsdWdpbnMuQ2FtZXJhcygpO1xyXG4gICAgICAgIHRoaXMuY2xvY2sgPSBuZXcgaW5kZXhfMS5DbG9jaygpO1xyXG4gICAgICAgIC8vIGFkZCB2ciBjYW1lcmFcclxuICAgICAgICBpZiAodGhpcy5fX2NvbmZpZy5lbmFibGVYUikge1xyXG4gICAgICAgICAgICB0aGlzLndlYlhSID0gbmV3IFBsdWdpbnMuV2ViWFIodGhpcy5yZW5kZXJlciwgdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXV0b1N0YXJ0KVxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KHRoaXMuX19jb25maWcuc2NlbmVLZXkpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNjZW5lS2V5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9fY29uZmlnLnNjZW5lS2V5O1xyXG4gICAgfVxyXG4gICAgLyoqIERlc3Ryb3lzIGEgb2JqZWN0IGFuZCBpdHMgYm9keS4gKi9cclxuICAgIGRlc3Ryb3kob2JqKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMucGh5c2ljcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3kob2JqLmJvZHkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKG9iaik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG9iaiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICB3YXJwU3BlZWQoLi4uZmVhdHVyZXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy53cy53YXJwU3BlZWQoLi4uZmVhdHVyZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGFuaW1hdGlvbk1peGVycygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5taXhlcnMubWl4ZXJzO1xyXG4gICAgfVxyXG4gICAgZ2V0IG1ha2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yaWVzLm1ha2U7XHJcbiAgICB9XHJcbiAgICBnZXQgYWRkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZhY3Rvcmllcy5hZGQ7XHJcbiAgICB9XHJcbiAgICBoYXZlU29tZUZ1bihudW1iZXJPZkVsZW1lbnRzID0gMjApIHtcclxuICAgICAgICBQbHVnaW5zLkhhdmVTb21lRnVuKG51bWJlck9mRWxlbWVudHMsIHRoaXMucGh5c2ljcyk7XHJcbiAgICB9XHJcbiAgICBpc1J1bm5pbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUnVubmluZztcclxuICAgIH1cclxuICAgIHN0YXJ0KGtleSwgZGF0YSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAvLyBzdGFydCBhbm90aGVyIHNjZW5lXHJcbiAgICAgICAgICAgIC8vIGFuZCBzdG9wIHRoaXMgb25lXHJcbiAgICAgICAgICAgIGlmIChrZXkgJiYga2V5ICE9PSB0aGlzLl9fY29uZmlnLnNjZW5lS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuc2NlbmVzLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX3N0YXJ0KGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9zdGFydChkYXRhKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB5aWVsZCAoKF9iID0gKF9hID0gdGhpcykuaW5pdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGRhdGEpKTtcclxuICAgICAgICAgICAgeWllbGQgdGhpcy5fcHJlbG9hZCgpO1xyXG4gICAgICAgICAgICB5aWVsZCB0aGlzLl9jcmVhdGUoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YXJ0JylcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlc3RhcnQoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KHRoaXMuX19jb25maWcuc2NlbmVLZXksIGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKG51bGwpO1xyXG4gICAgICAgICAgICAvLyByZXNldCBjbG9ja1xyXG4gICAgICAgICAgICB0aGlzLmNsb2NrLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGVjb25zdHJ1Y3RvckZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5fZGVjb25zdHJ1Y3RvckZ1bmN0aW9uc1tpXSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2RlY29uc3RydWN0b3JGdW5jdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgLy8gZGVzdHJveSBhbGwgcmlnaWQgYm9kaWVzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnBoeXNpY3MucmlnaWRCb2RpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5kZXN0cm95KHRoaXMucGh5c2ljcy5yaWdpZEJvZGllc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZGVzdHJveSBhbGwgdGhyZWUgb2JqZWN0c1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zY2VuZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5zY2VuZS5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbWVyYS5hc3BlY3QgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICB9XHJcbiAgICBzZXRQaXhlbFJhdGlvKHJhdGlvKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHJhdGlvKTtcclxuICAgIH1cclxuICAgIC8vIHB1YmxpYyBnZXQgY29udHJvbHMoKSB7XHJcbiAgICAvLyAgIHJldHVybiB7XHJcbiAgICAvLyAgICAgcG9pbnRlckRyYWc6IChhdXRvU3RhcnQgPSB0cnVlKSA9PiBuZXcgUG9pbnRlckRyYWcodGhpcy5jYW52YXMsIGF1dG9TdGFydCksXHJcbiAgICAvLyAgICAgcG9pbnRlckxvY2s6IChhdXRvTG9jayA9IHRydWUpID0+IG5ldyBQb2ludGVyTG9jayh0aGlzLmNhbnZhcywgYXV0b0xvY2spLFxyXG4gICAgLy8gICAgIGpveXN0aWNrOiAoKSA9PiBuZXcgSm95U3RpY2soKSxcclxuICAgIC8vICAgICBmaXJzdFBlcnNvbjogKHRhcmdldDogRXh0ZW5kZWRPYmplY3QzRCwgY29uZmlnOiBGaXJzdFBlcnNvbkNvbnRyb2xzQ29uZmlnID0ge30pID0+XHJcbiAgICAvLyAgICAgICBuZXcgRmlyc3RQZXJzb25Db250cm9scyh0aGlzLmNhbWVyYSwgdGFyZ2V0LCBjb25maWcpLFxyXG4gICAgLy8gICAgIHRoaXJkUGVyc29uOiAodGFyZ2V0OiBFeHRlbmRlZE9iamVjdDNELCBjb25maWc6IFRoaXJkUGVyc29uQ29udHJvbHNDb25maWcgPSB7fSkgPT5cclxuICAgIC8vICAgICAgIG5ldyBUaGlyZFBlcnNvbkNvbnRyb2xzKHRoaXMuY2FtZXJhLCB0YXJnZXQsIGNvbmZpZylcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgaW5pdChkYXRhID0ge30pIHsgfVxyXG4gICAgcHJlbG9hZCgpIHsgfVxyXG4gICAgY3JlYXRlKCkgeyB9XHJcbiAgICB1cGRhdGUoX3RpbWUsIF9kZWx0YSkgeyB9XHJcbiAgICBfcHJlbG9hZCgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHlpZWxkICgoX2IgPSAoX2EgPSB0aGlzKS5wcmVsb2FkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2NyZWF0ZSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHlpZWxkICgoX2IgPSAoX2EgPSB0aGlzKS5jcmVhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlKCkge1xyXG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcclxuICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuY2xvY2suZ2V0RGVsdGEoKSAqIDEwMDA7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuY2xvY2suZ2V0RWxhcHNlZFRpbWUoKTtcclxuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzKS51cGRhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBwYXJzZUZsb2F0KHRpbWUudG9GaXhlZCgzKSksIHBhcnNlSW50KGRlbHRhLnRvU3RyaW5nKCkpKTtcclxuICAgICAgICAoX2MgPSB0aGlzLnBoeXNpY3MpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIChfZCA9IHRoaXMucGh5c2ljcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnVwZGF0ZURlYnVnZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25NaXhlcnMudXBkYXRlKGRlbHRhKTtcclxuICAgICAgICBpZiAodGhpcy5jb21wb3NlcilcclxuICAgICAgICAgICAgdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlNjZW5lM0QgPSBTY2VuZTNEO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2VuZTNkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkNvbGxpc2lvbkV2ZW50cyA9IHZvaWQgMDtcclxuY29uc3QgZXZlbnRlbWl0dGVyM18xID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XHJcbmNsYXNzIENvbGxpc2lvbkV2ZW50cyBleHRlbmRzIGV2ZW50ZW1pdHRlcjNfMS5FdmVudEVtaXR0ZXIge1xyXG4gICAgYWRkQ29sbGlkZXIob2JqZWN0MSwgb2JqZWN0MiwgZXZlbnRDYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghb2JqZWN0MS5ib2R5IHx8ICFvYmplY3QyLmJvZHkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBvYmplY3QxLmJvZHkuY2hlY2tDb2xsaXNpb25zID0gdHJ1ZTtcclxuICAgICAgICBvYmplY3QyLmJvZHkuY2hlY2tDb2xsaXNpb25zID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uKCdjb2xsaXNpb24nLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgICAgICBjb25zdCB7IGJvZGllcywgZXZlbnQgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGlmICgoKF9hID0gYm9kaWVzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSkgJiYgKChfYiA9IGJvZGllc1sxXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5hbWUpICYmIChvYmplY3QxID09PSBudWxsIHx8IG9iamVjdDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iamVjdDEubmFtZSkgJiYgKG9iamVjdDIgPT09IG51bGwgfHwgb2JqZWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqZWN0Mi5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvZGllc1swXS5uYW1lID09PSBvYmplY3QxLm5hbWUgJiYgYm9kaWVzWzFdLm5hbWUgPT09IG9iamVjdDIubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBldmVudENhbGxiYWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJvZGllc1sxXS5uYW1lID09PSBvYmplY3QxLm5hbWUgJiYgYm9kaWVzWzBdLm5hbWUgPT09IG9iamVjdDIubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBldmVudENhbGxiYWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQ29sbGlzaW9uRXZlbnRzID0gQ29sbGlzaW9uRXZlbnRzO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsaXNpb25FdmVudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNsYXNzIENvbnN0cmFpbnRzIHtcclxuICAgIGNvbnN0cnVjdG9yKHdvcmxkVHJhbnNmb3JtLCBwaHlzaWNzV29ybGQpIHtcclxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gd29ybGRUcmFuc2Zvcm07XHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQgPSBwaHlzaWNzV29ybGQ7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgIH1cclxuICAgIHRvQW1tb1YzKHYsIGQgPSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbW1vLmJ0VmVjdG9yMyh0eXBlb2YgKHYgPT09IG51bGwgfHwgdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdi54KSAhPT0gJ3VuZGVmaW5lZCcgPyB2LnggOiBkLCB0eXBlb2YgKHYgPT09IG51bGwgfHwgdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdi55KSAhPT0gJ3VuZGVmaW5lZCcgPyB2LnkgOiBkLCB0eXBlb2YgKHYgPT09IG51bGwgfHwgdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdi56KSAhPT0gJ3VuZGVmaW5lZCcgPyB2LnogOiBkKTtcclxuICAgIH1cclxuICAgIGdldCBhZGRDb25zdHJhaW50cygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsb2NrOiAoYm9keUEsIGJvZHlCLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpID0+IHRoaXMubG9jayhib2R5QSwgYm9keUIsIGRpc2FibGVDb2xsaXNpb25zQmV0d2VlbkxpbmtlZEJvZGllcyksXHJcbiAgICAgICAgICAgIGZpeGVkOiAoYm9keUEsIGJvZHlCLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpID0+IHRoaXMuZml4ZWQoYm9keUEsIGJvZHlCLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpLFxyXG4gICAgICAgICAgICBwb2ludFRvUG9pbnQ6IChib2R5QSwgYm9keUIsIGNvbmZpZywgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKSA9PiB0aGlzLnBvaW50VG9Qb2ludChib2R5QSwgYm9keUIsIGNvbmZpZywgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKSxcclxuICAgICAgICAgICAgaGluZ2U6IChib2R5QSwgYm9keUIsIGNvbmZpZywgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKSA9PiB0aGlzLmhpbmdlKGJvZHlBLCBib2R5QiwgY29uZmlnLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpLFxyXG4gICAgICAgICAgICBzbGlkZXI6IChib2R5QSwgYm9keUIsIGNvbmZpZyA9IHt9LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpID0+IHRoaXMuc2xpZGVyKGJvZHlBLCBib2R5QiwgY29uZmlnLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpLFxyXG4gICAgICAgICAgICBzcHJpbmc6IChib2R5QSwgYm9keUIsIGNvbmZpZyA9IHt9LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpID0+IHRoaXMuc3ByaW5nKGJvZHlBLCBib2R5QiwgY29uZmlnLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpLFxyXG4gICAgICAgICAgICBjb25lVHdpc3Q6IChib2R5QSwgYm9keUIsIGNvbmZpZyA9IHsgZnJhbWVBOiB7fSwgZnJhbWVCOiB7fSB9LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpID0+IHRoaXMuY29uZVR3aXN0KGJvZHlBLCBib2R5QiwgY29uZmlnLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpLFxyXG4gICAgICAgICAgICBkb2Y6IChib2R5QSwgYm9keUIsIGNvbmZpZywgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKSA9PiB0aGlzLmRvZihib2R5QSwgYm9keUIsIGNvbmZpZywgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2Zvcm0oYm9keUEsIGJvZHlCLCBvZmZzZXQgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSwgY2VudGVyID0gZmFsc2UpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb2Zmc2V0ID0gT2JqZWN0LmFzc2lnbih7IHg6IDAsIHk6IDAsIHo6IDAgfSwgb2Zmc2V0KTtcclxuICAgICAgICBjb25zdCBjZW50ZXJWZWN0b3IgPSAodjEsIHYyKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBkeCA9ICh2MS54KCkgLSB2Mi54KCkpIC8gMiArIG9mZnNldC54O1xyXG4gICAgICAgICAgICB2YXIgZHkgPSAodjEueSgpIC0gdjIueSgpKSAvIDIgKyBvZmZzZXQueTtcclxuICAgICAgICAgICAgdmFyIGR6ID0gKHYxLnooKSAtIHYyLnooKSkgLyAyICsgb2Zmc2V0Lno7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQW1tby5idFZlY3RvcjMoZHgsIGR5LCBkeik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1CID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcclxuICAgICAgICB0cmFuc2Zvcm1CLnNldElkZW50aXR5KCk7XHJcbiAgICAgICAgaWYgKCFjZW50ZXIpIHtcclxuICAgICAgICAgICAgLy8gb2Zmc2V0XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybUIuc2V0T3JpZ2luKG5ldyBBbW1vLmJ0VmVjdG9yMyhvZmZzZXQueCwgb2Zmc2V0LnksIG9mZnNldC56KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybUEgPSBib2R5QVxyXG4gICAgICAgICAgICAgICAgLmdldENlbnRlck9mTWFzc1RyYW5zZm9ybSgpXHJcbiAgICAgICAgICAgICAgICAuaW52ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAub3BfbXVsKGJvZHlCLmdldFdvcmxkVHJhbnNmb3JtKCkpXHJcbiAgICAgICAgICAgICAgICAub3BfbXVsKHRyYW5zZm9ybUIpO1xyXG4gICAgICAgICAgICByZXR1cm4geyB0cmFuc2Zvcm1BOiB0cmFuc2Zvcm1BLCB0cmFuc2Zvcm1COiB0cmFuc2Zvcm1CIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBjZW50ZXJWZWN0b3IoYm9keUEuZ2V0V29ybGRUcmFuc2Zvcm0oKS5nZXRPcmlnaW4oKSwgYm9keUIuZ2V0V29ybGRUcmFuc2Zvcm0oKS5nZXRPcmlnaW4oKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybUIgPSBuZXcgQW1tby5idFRyYW5zZm9ybSgpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1CLnNldElkZW50aXR5KCk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybUIuc2V0T3JpZ2luKGNlbnRlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybUEgPSBib2R5QVxyXG4gICAgICAgICAgICAgICAgLmdldENlbnRlck9mTWFzc1RyYW5zZm9ybSgpXHJcbiAgICAgICAgICAgICAgICAuaW52ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAub3BfbXVsKGJvZHlCLmdldFdvcmxkVHJhbnNmb3JtKCkpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1BLm9wX211bCh0cmFuc2Zvcm1CKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtQTogdHJhbnNmb3JtQSwgdHJhbnNmb3JtQjogdHJhbnNmb3JtQiB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvY2soYm9keUEsIGJvZHlCLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgemVybyA9IHsgeDogMCwgeTogMCwgejogMCB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRvZihib2R5QSwgYm9keUIsIHsgYW5ndWxhckxvd2VyTGltaXQ6IHplcm8sIGFuZ3VsYXJVcHBlckxpbWl0OiB6ZXJvIH0sIGRpc2FibGVDb2xsaXNpb25zQmV0d2VlbkxpbmtlZEJvZGllcyk7XHJcbiAgICB9XHJcbiAgICBmaXhlZChib2R5QSwgYm9keUIsIGRpc2FibGVDb2xsaXNpb25zQmV0d2VlbkxpbmtlZEJvZGllcyA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybShib2R5QS5hbW1vLCBib2R5Qi5hbW1vKTtcclxuICAgICAgICB0cmFuc2Zvcm0udHJhbnNmb3JtQS5zZXRSb3RhdGlvbihib2R5QS5hbW1vLmdldFdvcmxkVHJhbnNmb3JtKCkuZ2V0Um90YXRpb24oKSk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybUIuc2V0Um90YXRpb24oYm9keUIuYW1tby5nZXRXb3JsZFRyYW5zZm9ybSgpLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgQW1tby5idEZpeGVkQ29uc3RyYWludChib2R5QS5hbW1vLCBib2R5Qi5hbW1vLCB0cmFuc2Zvcm0udHJhbnNmb3JtQSwgdHJhbnNmb3JtLnRyYW5zZm9ybUIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljc1dvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCwgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKTtcclxuICAgICAgICByZXR1cm4gY29uc3RyYWludDtcclxuICAgIH1cclxuICAgIHBvaW50VG9Qb2ludChib2R5QSwgYm9keUIsIGNvbmZpZyA9IHt9LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBwaXZvdEEsIHBpdm90QiB9ID0gY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHBpdm90VjMgPSBuZXcgQW1tby5idFZlY3RvcjMoKHBpdm90QSA9PT0gbnVsbCB8fCBwaXZvdEEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBpdm90QS54KSB8fCAwLCAocGl2b3RBID09PSBudWxsIHx8IHBpdm90QSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGl2b3RBLnkpIHx8IDAsIChwaXZvdEEgPT09IG51bGwgfHwgcGl2b3RBID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaXZvdEEueikgfHwgMCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UGl2b3RWMyA9IG5ldyBBbW1vLmJ0VmVjdG9yMygocGl2b3RCID09PSBudWxsIHx8IHBpdm90QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGl2b3RCLngpIHx8IDAsIChwaXZvdEIgPT09IG51bGwgfHwgcGl2b3RCID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaXZvdEIueSkgfHwgMCwgKHBpdm90QiA9PT0gbnVsbCB8fCBwaXZvdEIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBpdm90Qi56KSB8fCAwKTtcclxuICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IEFtbW8uYnRQb2ludDJQb2ludENvbnN0cmFpbnQoYm9keUEuYW1tbywgYm9keUIuYW1tbywgcGl2b3RWMywgdGFyZ2V0UGl2b3RWMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpO1xyXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xyXG4gICAgfVxyXG4gICAgaGluZ2UoYm9keUEsIGJvZHlCLCBjb25maWcgPSB7fSwgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgcGl2b3RBLCBwaXZvdEIsIGF4aXNBLCBheGlzQiB9ID0gY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHBpdm90VjMgPSBuZXcgQW1tby5idFZlY3RvcjMoKHBpdm90QSA9PT0gbnVsbCB8fCBwaXZvdEEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBpdm90QS54KSB8fCAwLCAocGl2b3RBID09PSBudWxsIHx8IHBpdm90QSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGl2b3RBLnkpIHx8IDAsIChwaXZvdEEgPT09IG51bGwgfHwgcGl2b3RBID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaXZvdEEueikgfHwgMCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UGl2b3RWMyA9IG5ldyBBbW1vLmJ0VmVjdG9yMygocGl2b3RCID09PSBudWxsIHx8IHBpdm90QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGl2b3RCLngpIHx8IDAsIChwaXZvdEIgPT09IG51bGwgfHwgcGl2b3RCID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaXZvdEIueSkgfHwgMCwgKHBpdm90QiA9PT0gbnVsbCB8fCBwaXZvdEIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBpdm90Qi56KSB8fCAwKTtcclxuICAgICAgICBjb25zdCBheGlzVjMgPSBuZXcgQW1tby5idFZlY3RvcjMoKGF4aXNBID09PSBudWxsIHx8IGF4aXNBID09PSB2b2lkIDAgPyB2b2lkIDAgOiBheGlzQS54KSB8fCAwLCAoYXhpc0EgPT09IG51bGwgfHwgYXhpc0EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGF4aXNBLnkpIHx8IDAsIChheGlzQSA9PT0gbnVsbCB8fCBheGlzQSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXhpc0EueikgfHwgMCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0QXhpc1YzID0gbmV3IEFtbW8uYnRWZWN0b3IzKChheGlzQiA9PT0gbnVsbCB8fCBheGlzQiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXhpc0IueCkgfHwgMCwgKGF4aXNCID09PSBudWxsIHx8IGF4aXNCID09PSB2b2lkIDAgPyB2b2lkIDAgOiBheGlzQi55KSB8fCAwLCAoYXhpc0IgPT09IG51bGwgfHwgYXhpc0IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGF4aXNCLnopIHx8IDApO1xyXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgQW1tby5idEhpbmdlQ29uc3RyYWludChib2R5QS5hbW1vLCBib2R5Qi5hbW1vLCBwaXZvdFYzLCB0YXJnZXRQaXZvdFYzLCBheGlzVjMsIHRhcmdldEF4aXNWMywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpO1xyXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xyXG4gICAgfVxyXG4gICAgLy8gaHR0cHM6Ly9weWJ1bGxldC5vcmcvQnVsbGV0L3BocEJCMy92aWV3dG9waWMucGhwP2Y9OSZ0PTEyNjkwJnA9NDIxNTImaGlsaXQ9YnRTbGlkZXJDb25zdHJhaW50I3A0MjE1MlxyXG4gICAgc2xpZGVyKGJvZHlBLCBib2R5QiwgY29uZmlnID0ge30sIGRpc2FibGVDb2xsaXNpb25zQmV0d2VlbkxpbmtlZEJvZGllcyA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybShib2R5QS5hbW1vLCBib2R5Qi5hbW1vKTtcclxuICAgICAgICBjb25zdCB7IGZyYW1lQSA9IHt9LCBmcmFtZUIgPSB7fSwgbGluZWFyTG93ZXJMaW1pdDogbGxsID0gMCwgbGluZWFyVXBwZXJMaW1pdDogbHVsID0gMCwgYW5ndWxhckxvd2VyTGltaXQ6IGFsbCA9IDAsIGFuZ3VsYXJVcHBlckxpbWl0OiBhdWwgPSAwIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3Qgcm90YXRpb25BID0gdHJhbnNmb3JtLnRyYW5zZm9ybUEuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICByb3RhdGlvbkEuc2V0RXVsZXJaWVgoZnJhbWVBLnggfHwgMCwgZnJhbWVBLnkgfHwgMCwgZnJhbWVBLnogfHwgMCk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybUEuc2V0Um90YXRpb24ocm90YXRpb25BKTtcclxuICAgICAgICBjb25zdCByb3RhdGlvbkIgPSB0cmFuc2Zvcm0udHJhbnNmb3JtQi5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIHJvdGF0aW9uQi5zZXRFdWxlclpZWChmcmFtZUIueCB8fCAwLCBmcmFtZUIueSB8fCAwLCBmcmFtZUIueiB8fCAwKTtcclxuICAgICAgICB0cmFuc2Zvcm0udHJhbnNmb3JtQi5zZXRSb3RhdGlvbihyb3RhdGlvbkIpO1xyXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgQW1tby5idFNsaWRlckNvbnN0cmFpbnQoYm9keUEuYW1tbywgYm9keUIuYW1tbywgdHJhbnNmb3JtLnRyYW5zZm9ybUEsIHRyYW5zZm9ybS50cmFuc2Zvcm1CLCB0cnVlKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldExvd2VyTGluTGltaXQobGxsKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldFVwcGVyTGluTGltaXQobHVsKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldExvd2VyQW5nTGltaXQoYWxsKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldFVwcGVyQW5nTGltaXQoYXVsKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3NXb3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQsIGRpc2FibGVDb2xsaXNpb25zQmV0d2VlbkxpbmtlZEJvZGllcyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQ7XHJcbiAgICB9XHJcbiAgICBzcHJpbmcoYm9keUEsIGJvZHlCLCBjb25maWcgPSB7fSwgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgc3RpZmZuZXNzID0gNTAsIGRhbXBpbmcgPSAwLjAxLCBhbmd1bGFyTG9jayA9IGZhbHNlLCBsaW5lYXJMb3dlckxpbWl0OiBsbGwgPSB7fSwgbGluZWFyVXBwZXJMaW1pdDogbHVsID0ge30sIGFuZ3VsYXJMb3dlckxpbWl0OiBhbGwgPSB7fSwgYW5ndWxhclVwcGVyTGltaXQ6IGF1bCA9IHt9LCBvZmZzZXQgPSB7fSwgY2VudGVyID0gZmFsc2UsIGVuYWJsZVNwcmluZyA9IHRydWUgfSA9IGNvbmZpZztcclxuICAgICAgICBjb25zdCBvZmYgPSBPYmplY3QuYXNzaWduKHsgeDogMCwgeTogMCwgejogMCB9LCBvZmZzZXQpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNmb3JtKGJvZHlBLmFtbW8sIGJvZHlCLmFtbW8sIG9mZiwgY2VudGVyKTtcclxuICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IEFtbW8uYnRHZW5lcmljNkRvZlNwcmluZ0NvbnN0cmFpbnQoYm9keUEuYW1tbywgYm9keUIuYW1tbywgdHJhbnNmb3JtLnRyYW5zZm9ybUEsIHRyYW5zZm9ybS50cmFuc2Zvcm1CLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZShsbGwueCB8fCAwLCBsbGwueSB8fCAwLCBsbGwueiB8fCAwKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldExpbmVhckxvd2VyTGltaXQodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKGx1bC54IHx8IDAsIGx1bC55IHx8IDAsIGx1bC56IHx8IDApO1xyXG4gICAgICAgIGNvbnN0cmFpbnQuc2V0TGluZWFyVXBwZXJMaW1pdCh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXJMb2NrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKDAsIDAsIDApO1xyXG4gICAgICAgICAgICBjb25zdHJhaW50LnNldEFuZ3VsYXJMb3dlckxpbWl0KHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgICAgICAgICAgY29uc3RyYWludC5zZXRBbmd1bGFyVXBwZXJMaW1pdCh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGwsIGF1bCk7XHJcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuc2V0QW5ndWxhckxvd2VyTGltaXQodGhpcy50b0FtbW9WMyhhbGwsIC1NYXRoLlBJKSk7XHJcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuc2V0QW5ndWxhclVwcGVyTGltaXQodGhpcy50b0FtbW9WMyhhdWwsIE1hdGguUEkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3RyYWludC5lbmFibGVTcHJpbmcoaSwgZW5hYmxlU3ByaW5nKTtcclxuICAgICAgICAgICAgY29uc3RyYWludC5zZXRTdGlmZm5lc3MoaSwgc3RpZmZuZXNzKTtcclxuICAgICAgICAgICAgY29uc3RyYWludC5zZXREYW1waW5nKGksIGRhbXBpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJIGhhdmUgbm8gaWRlYSB3aGF0IHNldEVxdWlsaWJyaXVtUG9pbnQgZG9lcyA6L1xyXG4gICAgICAgIC8vIGNvbnN0cmFpbnQuc2V0RXF1aWxpYnJpdW1Qb2ludCgpXHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpO1xyXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xyXG4gICAgfVxyXG4gICAgY29uZVR3aXN0KGJvZHlBLCBib2R5QiwgY29uZmlnLCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBmcmFtZUEsIGZyYW1lQiB9ID0gY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHJiQUZyYW1lID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcclxuICAgICAgICByYkFGcmFtZS5zZXRJZGVudGl0eSgpO1xyXG4gICAgICAgIHJiQUZyYW1lLmdldE9yaWdpbigpLnNldFZhbHVlKChmcmFtZUEgPT09IG51bGwgfHwgZnJhbWVBID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcmFtZUEueCkgfHwgMCwgKGZyYW1lQSA9PT0gbnVsbCB8fCBmcmFtZUEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyYW1lQS55KSB8fCAwLCAoZnJhbWVBID09PSBudWxsIHx8IGZyYW1lQSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJhbWVBLnopIHx8IDApO1xyXG4gICAgICAgIGNvbnN0IHJiQkZyYW1lID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcclxuICAgICAgICByYkJGcmFtZS5zZXRJZGVudGl0eSgpO1xyXG4gICAgICAgIHJiQkZyYW1lLmdldE9yaWdpbigpLnNldFZhbHVlKChmcmFtZUIgPT09IG51bGwgfHwgZnJhbWVCID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcmFtZUIueCkgfHwgMCwgKGZyYW1lQiA9PT0gbnVsbCB8fCBmcmFtZUIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyYW1lQi55KSB8fCAwLCAoZnJhbWVCID09PSBudWxsIHx8IGZyYW1lQiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJhbWVCLnopIHx8IDApO1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmdldFRyYW5zZm9ybShib2R5QS5hbW1vLCBib2R5Qi5hbW1vKTtcclxuICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IEFtbW8uYnRDb25lVHdpc3RDb25zdHJhaW50KGJvZHlCLmFtbW8sIGJvZHlBLmFtbW8sIHJiQUZyYW1lLCByYkJGcmFtZSk7XHJcbiAgICAgICAgLy8gZG9lcyBub3Qgd29yayBhdCBhbGwgOi9cclxuICAgICAgICAvLyBjb25zdHJhaW50LnNldExpbWl0KC1NYXRoLlBJIC8gNTAsIE1hdGguUEkgLyA1MClcclxuICAgICAgICBjb25zdHJhaW50LnNldEFuZ3VsYXJPbmx5KHRydWUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljc1dvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCwgZGlzYWJsZUNvbGxpc2lvbnNCZXR3ZWVuTGlua2VkQm9kaWVzKTtcclxuICAgICAgICByZXR1cm4gY29uc3RyYWludDtcclxuICAgIH1cclxuICAgIGRvZihib2R5QSwgYm9keUIsIGNvbmZpZyA9IHt9LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQsIGNlbnRlciA9IGZhbHNlIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3Qgb2ZmID0gT2JqZWN0LmFzc2lnbih7IHg6IDAsIHk6IDAsIHo6IDAgfSwgb2Zmc2V0KTtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybShib2R5QS5hbW1vLCBib2R5Qi5hbW1vLCBvZmYsIGNlbnRlcik7XHJcbiAgICAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBBbW1vLmJ0R2VuZXJpYzZEb2ZDb25zdHJhaW50KGJvZHlBLmFtbW8sIGJvZHlCLmFtbW8sIHRyYW5zZm9ybS50cmFuc2Zvcm1BLCB0cmFuc2Zvcm0udHJhbnNmb3JtQiwgdHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgeyBsaW5lYXJMb3dlckxpbWl0LCBsaW5lYXJVcHBlckxpbWl0LCBhbmd1bGFyTG93ZXJMaW1pdCwgYW5ndWxhclVwcGVyTGltaXQgfSA9IGNvbmZpZztcclxuICAgICAgICBjb25zdCBsbGwgPSB0aGlzLnRvQW1tb1YzKGxpbmVhckxvd2VyTGltaXQpO1xyXG4gICAgICAgIGNvbnN0IGx1bCA9IHRoaXMudG9BbW1vVjMobGluZWFyVXBwZXJMaW1pdCk7XHJcbiAgICAgICAgY29uc3QgYWxsID0gdGhpcy50b0FtbW9WMyhhbmd1bGFyTG93ZXJMaW1pdCwgLU1hdGguUEkpO1xyXG4gICAgICAgIGNvbnN0IGF1bCA9IHRoaXMudG9BbW1vVjMoYW5ndWxhclVwcGVyTGltaXQsIE1hdGguUEkpO1xyXG4gICAgICAgIGNvbnN0cmFpbnQuc2V0TGluZWFyTG93ZXJMaW1pdChsbGwpO1xyXG4gICAgICAgIGNvbnN0cmFpbnQuc2V0TGluZWFyVXBwZXJMaW1pdChsdWwpO1xyXG4gICAgICAgIGNvbnN0cmFpbnQuc2V0QW5ndWxhckxvd2VyTGltaXQoYWxsKTtcclxuICAgICAgICBjb25zdHJhaW50LnNldEFuZ3VsYXJVcHBlckxpbWl0KGF1bCk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KGxsbCk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KGx1bCk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KGFsbCk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KGF1bCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50LCBkaXNhYmxlQ29sbGlzaW9uc0JldHdlZW5MaW5rZWRCb2RpZXMpO1xyXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvbnN0cmFpbnRzO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdHJhaW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIENvcGllZCBmcm9tIHRocmVlLmpzIGV4YW1wbGVzIGFuZCBhZGRlZCBhIGZpeFxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkNvbnZleE9iamVjdEJyZWFrZXIgPSB2b2lkIDA7XHJcbi8qKlxyXG4gKiBAYXV0aG9yIHlvbWJvcHJpbWUgaHR0cHM6Ly9naXRodWIuY29tL3lvbWJvcHJpbWVcclxuICpcclxuICogQGZpbGVvdmVydmlldyBUaGlzIGNsYXNzIGNhbiBiZSB1c2VkIHRvIHN1YmRpdmlkZSBhIGNvbnZleCBHZW9tZXRyeSBvYmplY3QgaW50byBwaWVjZXMuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBVc2UgdGhlIGZ1bmN0aW9uIHByZXBhcmVCcmVha2FibGVPYmplY3QgdG8gcHJlcGFyZSBhIE1lc2ggb2JqZWN0IHRvIGJlIGJyb2tlbi5cclxuICpcclxuICogVGhlbiwgY2FsbCB0aGUgdmFyaW91cyBmdW5jdGlvbnMgdG8gc3ViZGl2aWRlIHRoZSBvYmplY3QgKHN1YmRpdmlkZUJ5SW1wYWN0LCBjdXRCeVBsYW5lKVxyXG4gKlxyXG4gKiBTdWItb2JqZWN0cyB0aGF0IGFyZSBwcm9kdWN0IG9mIHN1YmRpdmlzaW9uIGRvbid0IG5lZWQgcHJlcGFyZUJyZWFrYWJsZU9iamVjdCB0byBiZSBjYWxsZWQgb24gdGhlbS5cclxuICpcclxuICogUmVxdWlzaXRlcyBmb3IgdGhlIG9iamVjdDpcclxuICpcclxuICogIC0gTWVzaCBvYmplY3QgbXVzdCBoYXZlIGEgQnVmZmVyR2VvbWV0cnkgKG5vdCBHZW9tZXRyeSkgYW5kIGEgTWF0ZXJpYWxcclxuICpcclxuICogIC0gVmVydGV4IG5vcm1hbHMgbXVzdCBiZSBwbGFuYXIgKG5vdCBzbW9vdGhlZClcclxuICpcclxuICogIC0gVGhlIGdlb21ldHJ5IG11c3QgYmUgY29udmV4ICh0aGlzIGlzIG5vdCBjaGVja2VkIGluIHRoZSBsaWJyYXJ5KS4gWW91IGNhbiBjcmVhdGUgY29udmV4XHJcbiAqICBnZW9tZXRyaWVzIHdpdGggQ29udmV4QnVmZmVyR2VvbWV0cnkuIFRoZSBCb3hCdWZmZXJHZW9tZXRyeSwgU3BoZXJlQnVmZmVyR2VvbWV0cnkgYW5kIG90aGVyIGNvbnZleCBwcmltaXRpdmVzXHJcbiAqICBjYW4gYWxzbyBiZSB1c2VkLlxyXG4gKlxyXG4gKiBOb3RlOiBUaGlzIGxpYiBhZGRzIG1lbWJlciB2YXJpYWJsZXMgdG8gb2JqZWN0J3MgdXNlckRhdGEgbWVtYmVyIChzZWUgcHJlcGFyZUJyZWFrYWJsZU9iamVjdCBmdW5jdGlvbilcclxuICogVXNlIHdpdGggY2F1dGlvbiBhbmQgcmVhZCB0aGUgY29kZSB3aGVuIHVzaW5nIHdpdGggb3RoZXIgbGlicy5cclxuICpcclxuICogQHBhcmFtIHtkb3VibGV9IG1pblNpemVGb3JCcmVhayBNaW4gc2l6ZSBhIGRlYnJpcyBjYW4gaGF2ZSB0byBicmVhay5cclxuICogQHBhcmFtIHtkb3VibGV9IHNtYWxsRGVsdGEgTWF4IGRpc3RhbmNlIHRvIGNvbnNpZGVyIHRoYXQgYSBwb2ludCBiZWxvbmdzIHRvIGEgcGxhbmUuXHJcbiAqXHJcbiAqL1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNvbnN0IGluZGV4XzIgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY29uc3QgbG9nZ2VyXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2xvZ2dlclwiKTtcclxuY29uc3QgQ29udmV4T2JqZWN0QnJlYWtlciA9IGZ1bmN0aW9uIChtaW5TaXplRm9yQnJlYWssIHNtYWxsRGVsdGEpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMubWluU2l6ZUZvckJyZWFrID0gbWluU2l6ZUZvckJyZWFrIHx8IDEuNDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMuc21hbGxEZWx0YSA9IHNtYWxsRGVsdGEgfHwgMC4wMDAxO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wTGluZTEgPSBuZXcgaW5kZXhfMS5MaW5lMygpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wUGxhbmUxID0gbmV3IGluZGV4XzEuUGxhbmUoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFBsYW5lMiA9IG5ldyBpbmRleF8xLlBsYW5lKCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLnRlbXBQbGFuZV9DdXQgPSBuZXcgaW5kZXhfMS5QbGFuZSgpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wQ00xID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wQ00yID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wVmVjdG9yMyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFZlY3RvcjNfMiA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFZlY3RvcjNfMyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFZlY3RvcjNfUDAgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLnRlbXBWZWN0b3IzX1AxID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wVmVjdG9yM19QMiA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFZlY3RvcjNfTjAgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLnRlbXBWZWN0b3IzX04xID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgdGhpcy50ZW1wVmVjdG9yM19BQiA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHRoaXMudGVtcFZlY3RvcjNfQ0IgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLnRlbXBSZXN1bHRPYmplY3RzID0geyBvYmplY3QxOiBudWxsLCBvYmplY3QyOiBudWxsIH07XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLnNlZ21lbnRzID0gW107XHJcbiAgICB2YXIgbiA9IDMwICogMzA7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKylcclxuICAgICAgICB0aGlzLnNlZ21lbnRzW2ldID0gZmFsc2U7XHJcbn07XHJcbmV4cG9ydHMuQ29udmV4T2JqZWN0QnJlYWtlciA9IENvbnZleE9iamVjdEJyZWFrZXI7XHJcbkNvbnZleE9iamVjdEJyZWFrZXIucHJvdG90eXBlID0ge1xyXG4gICAgY29uc3RydWN0b3I6IENvbnZleE9iamVjdEJyZWFrZXIsXHJcbiAgICBwcmVwYXJlQnJlYWthYmxlT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0LCBtYXNzLCB2ZWxvY2l0eSwgYW5ndWxhclZlbG9jaXR5LCBicmVha2FibGUpIHtcclxuICAgICAgICAvLyBvYmplY3QgaXMgYSBPYmplY3QzZCAobm9ybWFsbHkgYSBNZXNoKSwgbXVzdCBoYXZlIGEgQnVmZmVyR2VvbWV0cnksIGFuZCBpdCBtdXN0IGJlIGNvbnZleC5cclxuICAgICAgICAvLyBJdHMgbWF0ZXJpYWwgcHJvcGVydHkgaXMgcHJvcGFnYXRlZCB0byBpdHMgY2hpbGRyZW4gKHN1Yi1waWVjZXMpXHJcbiAgICAgICAgLy8gbWFzcyBtdXN0IGJlID4gMFxyXG4gICAgICAgIGlmICghb2JqZWN0Lmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVEhSRUUuQ29udmV4T2JqZWN0QnJlYWtlci5wcmVwYXJlQnJlYWthYmxlT2JqZWN0KCk6IFBhcmFtZXRlciBvYmplY3QgbXVzdCBoYXZlIGEgQnVmZmVyR2VvbWV0cnkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGEgPSB7fTsgLy8gaW5pdGlhbGlzZSBvdXIgbmV3IGRhdGEgY29udGFpbmVyIC0gd291bGQgYmUgYmVzdCB0byBtb3ZlIHRoaXMgdG8gRXh0ZW5kZWRPYmplY3QgYW5kIG5vdCByZWx5IG9uIHVzZXJEYXRhIGF0IGFsbCBmb3IgYmVzdCBjb21wYXRpYmlsaXR5XHJcbiAgICAgICAgdmFyIGFtbW9QaHlzaWNzRGF0YSA9IG9iamVjdC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGE7IC8vIGdldCByZWZlcmVuY2UgdG8gaXRcclxuICAgICAgICBhbW1vUGh5c2ljc0RhdGEubWFzcyA9IG1hc3M7XHJcbiAgICAgICAgYW1tb1BoeXNpY3NEYXRhLnZlbG9jaXR5ID0gdmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICBhbW1vUGh5c2ljc0RhdGEuYW5ndWxhclZlbG9jaXR5ID0gYW5ndWxhclZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgYW1tb1BoeXNpY3NEYXRhLmJyZWFrYWJsZSA9IGJyZWFrYWJsZTtcclxuICAgIH0sXHJcbiAgICAvKlxyXG4gICAgICogQHBhcmFtIHtpbnR9IG1heFJhZGlhbEl0ZXJhdGlvbnMgSXRlcmF0aW9ucyBmb3IgcmFkaWFsIGN1dHMuXHJcbiAgICAgKiBAcGFyYW0ge2ludH0gbWF4UmFuZG9tSXRlcmF0aW9ucyBNYXggcmFuZG9tIGl0ZXJhdGlvbnMgZm9yIG5vdC1yYWRpYWwgY3V0c1xyXG4gICAgICpcclxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IG9mIHBpZWNlc1xyXG4gICAgICovXHJcbiAgICBzdWJkaXZpZGVCeUltcGFjdDogZnVuY3Rpb24gKG9iamVjdCwgcG9pbnRPZkltcGFjdCwgbm9ybWFsLCBtYXhSYWRpYWxJdGVyYXRpb25zLCBtYXhSYW5kb21JdGVyYXRpb25zKSB7XHJcbiAgICAgICAgdmFyIGRlYnJpcyA9IFtdO1xyXG4gICAgICAgIHZhciB0ZW1wUGxhbmUxID0gdGhpcy50ZW1wUGxhbmUxO1xyXG4gICAgICAgIHZhciB0ZW1wUGxhbmUyID0gdGhpcy50ZW1wUGxhbmUyO1xyXG4gICAgICAgIHRoaXMudGVtcFZlY3RvcjMuYWRkVmVjdG9ycyhwb2ludE9mSW1wYWN0LCBub3JtYWwpO1xyXG4gICAgICAgIHRlbXBQbGFuZTEuc2V0RnJvbUNvcGxhbmFyUG9pbnRzKHBvaW50T2ZJbXBhY3QsIG9iamVjdC5wb3NpdGlvbiwgdGhpcy50ZW1wVmVjdG9yMyk7XHJcbiAgICAgICAgdmFyIG1heFRvdGFsSXRlcmF0aW9ucyA9IG1heFJhbmRvbUl0ZXJhdGlvbnMgKyBtYXhSYWRpYWxJdGVyYXRpb25zO1xyXG4gICAgICAgIHZhciBzY29wZSA9IHRoaXM7XHJcbiAgICAgICAgZnVuY3Rpb24gc3ViZGl2aWRlUmFkaWFsKHN1Yk9iamVjdCwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIG51bUl0ZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBudW1JdGVyYXRpb25zICogMC4wNSB8fCBudW1JdGVyYXRpb25zID4gbWF4VG90YWxJdGVyYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBkZWJyaXMucHVzaChzdWJPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguUEk7XHJcbiAgICAgICAgICAgIGlmIChudW1JdGVyYXRpb25zID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wUGxhbmUyLm5vcm1hbC5jb3B5KHRlbXBQbGFuZTEubm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIHRlbXBQbGFuZTIuY29uc3RhbnQgPSB0ZW1wUGxhbmUxLmNvbnN0YW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bUl0ZXJhdGlvbnMgPD0gbWF4UmFkaWFsSXRlcmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gKGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSkgKiAoMC4yICsgMC42ICogTWF0aC5yYW5kb20oKSkgKyBzdGFydEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSB0ZW1wUGxhbmUyIGF0IGltcGFjdCBwb2ludCBhcm91bmQgbm9ybWFsIGF4aXMgYW5kIHRoZSBhbmdsZVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnRlbXBWZWN0b3IzXzIuY29weShvYmplY3QucG9zaXRpb24pLnN1Yihwb2ludE9mSW1wYWN0KS5hcHBseUF4aXNBbmdsZShub3JtYWwsIGFuZ2xlKS5hZGQocG9pbnRPZkltcGFjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFBsYW5lMi5zZXRGcm9tQ29wbGFuYXJQb2ludHMocG9pbnRPZkltcGFjdCwgc2NvcGUudGVtcFZlY3RvcjMsIHNjb3BlLnRlbXBWZWN0b3IzXzIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSAoMC41ICogKG51bUl0ZXJhdGlvbnMgJiAxKSArIDAuMiAqICgyIC0gTWF0aC5yYW5kb20oKSkpICogTWF0aC5QSTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgdGVtcFBsYW5lMiBhdCBvYmplY3QgcG9zaXRpb24gYXJvdW5kIG5vcm1hbCBheGlzIGFuZCB0aGUgYW5nbGVcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS50ZW1wVmVjdG9yM18yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb3B5KHBvaW50T2ZJbXBhY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWIoc3ViT2JqZWN0LnBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwbHlBeGlzQW5nbGUobm9ybWFsLCBhbmdsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZChzdWJPYmplY3QucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnRlbXBWZWN0b3IzXzMuY29weShub3JtYWwpLmFkZChzdWJPYmplY3QucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBQbGFuZTIuc2V0RnJvbUNvcGxhbmFyUG9pbnRzKHN1Yk9iamVjdC5wb3NpdGlvbiwgc2NvcGUudGVtcFZlY3RvcjNfMywgc2NvcGUudGVtcFZlY3RvcjNfMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgY3V0XHJcbiAgICAgICAgICAgIHNjb3BlLmN1dEJ5UGxhbmUoc3ViT2JqZWN0LCB0ZW1wUGxhbmUyLCBzY29wZS50ZW1wUmVzdWx0T2JqZWN0cyk7XHJcbiAgICAgICAgICAgIHZhciBvYmoxID0gc2NvcGUudGVtcFJlc3VsdE9iamVjdHMub2JqZWN0MTtcclxuICAgICAgICAgICAgdmFyIG9iajIgPSBzY29wZS50ZW1wUmVzdWx0T2JqZWN0cy5vYmplY3QyO1xyXG4gICAgICAgICAgICBpZiAob2JqMSkge1xyXG4gICAgICAgICAgICAgICAgc3ViZGl2aWRlUmFkaWFsKG9iajEsIHN0YXJ0QW5nbGUsIGFuZ2xlLCBudW1JdGVyYXRpb25zICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iajIpIHtcclxuICAgICAgICAgICAgICAgIHN1YmRpdmlkZVJhZGlhbChvYmoyLCBhbmdsZSwgZW5kQW5nbGUsIG51bUl0ZXJhdGlvbnMgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdWJkaXZpZGVSYWRpYWwob2JqZWN0LCAwLCAyICogTWF0aC5QSSwgMCk7XHJcbiAgICAgICAgcmV0dXJuIGRlYnJpcztcclxuICAgIH0sXHJcbiAgICBjdXRCeVBsYW5lOiBmdW5jdGlvbiAob2JqZWN0LCBwbGFuZSwgb3V0cHV0KSB7XHJcbiAgICAgICAgLy8gUmV0dXJucyBicmVha2FibGUgb2JqZWN0cyBpbiBvdXRwdXQub2JqZWN0MSBhbmQgb3V0cHV0Lm9iamVjdDIgbWVtYmVycywgdGhlIHJlc3VsdGluZyAyIHBpZWNlcyBvZiB0aGUgY3V0LlxyXG4gICAgICAgIC8vIG9iamVjdDIgY2FuIGJlIG51bGwgaWYgdGhlIHBsYW5lIGRvZXNuJ3QgY3V0IHRoZSBvYmplY3QuXHJcbiAgICAgICAgLy8gb2JqZWN0MSBjYW4gYmUgbnVsbCBvbmx5IGluIGNhc2Ugb2YgaW50ZXJuYWwgZXJyb3JcclxuICAgICAgICAvLyBSZXR1cm5lZCB2YWx1ZSBpcyBudW1iZXIgb2YgcGllY2VzLCAwIGZvciBlcnJvci5cclxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBvYmplY3QuZ2VvbWV0cnk7XHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XHJcbiAgICAgICAgdmFyIG5vcm1hbHMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTtcclxuICAgICAgICB2YXIgbnVtUG9pbnRzID0gY29vcmRzLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgdmFyIG51bUZhY2VzID0gbnVtUG9pbnRzIC8gMztcclxuICAgICAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICAgICAgaWYgKGluZGljZXMpIHtcclxuICAgICAgICAgICAgaW5kaWNlcyA9IGluZGljZXMuYXJyYXk7XHJcbiAgICAgICAgICAgIG51bUZhY2VzID0gaW5kaWNlcy5sZW5ndGggLyAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRWZXJ0ZXhJbmRleChmYWNlSWR4LCB2ZXJ0KSB7XHJcbiAgICAgICAgICAgIC8vIHZlcnQgPSAwLCAxIG9yIDIuXHJcbiAgICAgICAgICAgIHZhciBpZHggPSBmYWNlSWR4ICogMyArIHZlcnQ7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRpY2VzID8gaW5kaWNlc1tpZHhdIDogaWR4O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcG9pbnRzMSA9IFtdO1xyXG4gICAgICAgIHZhciBwb2ludHMyID0gW107XHJcbiAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5zbWFsbERlbHRhO1xyXG4gICAgICAgIC8vIFJlc2V0IHNlZ21lbnRzIG1hcmtcclxuICAgICAgICB2YXIgbnVtUG9pbnRQYWlycyA9IG51bVBvaW50cyAqIG51bVBvaW50cztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVBvaW50UGFpcnM7IGkrKylcclxuICAgICAgICAgICAgdGhpcy5zZWdtZW50c1tpXSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwMCA9IHRoaXMudGVtcFZlY3RvcjNfUDA7XHJcbiAgICAgICAgdmFyIHAxID0gdGhpcy50ZW1wVmVjdG9yM19QMTtcclxuICAgICAgICB2YXIgbjAgPSB0aGlzLnRlbXBWZWN0b3IzX04wO1xyXG4gICAgICAgIHZhciBuMSA9IHRoaXMudGVtcFZlY3RvcjNfTjE7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBmYWNlcyB0byBtYXJrIGVkZ2VzIHNoYXJlZCBieSBjb3BsYW5hciBmYWNlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRmFjZXMgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGExID0gZ2V0VmVydGV4SW5kZXgoaSwgMCk7XHJcbiAgICAgICAgICAgIHZhciBiMSA9IGdldFZlcnRleEluZGV4KGksIDEpO1xyXG4gICAgICAgICAgICB2YXIgYzEgPSBnZXRWZXJ0ZXhJbmRleChpLCAyKTtcclxuICAgICAgICAgICAgLy8gQXNzdW1pbmcgYWxsIDMgdmVydGljZXMgaGF2ZSB0aGUgc2FtZSBub3JtYWxcclxuICAgICAgICAgICAgbjAuc2V0KG5vcm1hbHNbYTFdLCBub3JtYWxzW2ExXSArIDEsIG5vcm1hbHNbYTFdICsgMik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG51bUZhY2VzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhMiA9IGdldFZlcnRleEluZGV4KGosIDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIyID0gZ2V0VmVydGV4SW5kZXgoaiwgMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBnZXRWZXJ0ZXhJbmRleChqLCAyKTtcclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIGFsbCAzIHZlcnRpY2VzIGhhdmUgdGhlIHNhbWUgbm9ybWFsXHJcbiAgICAgICAgICAgICAgICBuMS5zZXQobm9ybWFsc1thMl0sIG5vcm1hbHNbYTJdICsgMSwgbm9ybWFsc1thMl0gKyAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb3BsYW5hciA9IDEgLSBuMC5kb3QobjEpIDwgZGVsdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29wbGFuYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYTEgPT09IGEyIHx8IGExID09PSBiMiB8fCBhMSA9PT0gYzIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIxID09PSBhMiB8fCBiMSA9PT0gYjIgfHwgYjEgPT09IGMyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzW2ExICogbnVtUG9pbnRzICsgYjFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHNbYjEgKiBudW1Qb2ludHMgKyBhMV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50c1tjMSAqIG51bVBvaW50cyArIGExXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzW2ExICogbnVtUG9pbnRzICsgYzFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChiMSA9PT0gYTIgfHwgYjEgPT09IGIyIHx8IGIxID09PSBjMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzW2MxICogbnVtUG9pbnRzICsgYjFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50c1tiMSAqIG51bVBvaW50cyArIGMxXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgcGxhbmUgdG8gb2JqZWN0IGxvY2FsIHNwYWNlXHJcbiAgICAgICAgdmFyIGxvY2FsUGxhbmUgPSB0aGlzLnRlbXBQbGFuZV9DdXQ7XHJcbiAgICAgICAgb2JqZWN0LnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICAgIENvbnZleE9iamVjdEJyZWFrZXIudHJhbnNmb3JtUGxhbmVUb0xvY2FsU3BhY2UocGxhbmUsIG9iamVjdC5tYXRyaXgsIGxvY2FsUGxhbmUpO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgZmFjZXMgYWRkaW5nIHBvaW50cyB0byBib3RoIHBpZWNlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRmFjZXM7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdmEgPSBnZXRWZXJ0ZXhJbmRleChpLCAwKTtcclxuICAgICAgICAgICAgdmFyIHZiID0gZ2V0VmVydGV4SW5kZXgoaSwgMSk7XHJcbiAgICAgICAgICAgIHZhciB2YyA9IGdldFZlcnRleEluZGV4KGksIDIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzZWdtZW50ID0gMDsgc2VnbWVudCA8IDM7IHNlZ21lbnQrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGkwID0gc2VnbWVudCA9PT0gMCA/IHZhIDogc2VnbWVudCA9PT0gMSA/IHZiIDogdmM7XHJcbiAgICAgICAgICAgICAgICB2YXIgaTEgPSBzZWdtZW50ID09PSAwID8gdmIgOiBzZWdtZW50ID09PSAxID8gdmMgOiB2YTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWdtZW50U3RhdGUgPSB0aGlzLnNlZ21lbnRzW2kwICogbnVtUG9pbnRzICsgaTFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRTdGF0ZSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gVGhlIHNlZ21lbnQgYWxyZWFkeSBoYXMgYmVlbiBwcm9jZXNzZWQgaW4gYW5vdGhlciBmYWNlXHJcbiAgICAgICAgICAgICAgICAvLyBNYXJrIHNlZ21lbnQgYXMgcHJvY2Vzc2VkIChhbHNvIGludmVydGVkIHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzW2kwICogbnVtUG9pbnRzICsgaTFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHNbaTEgKiBudW1Qb2ludHMgKyBpMF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcDAuc2V0KGNvb3Jkc1szICogaTBdLCBjb29yZHNbMyAqIGkwICsgMV0sIGNvb3Jkc1szICogaTAgKyAyXSk7XHJcbiAgICAgICAgICAgICAgICBwMS5zZXQoY29vcmRzWzMgKiBpMV0sIGNvb3Jkc1szICogaTEgKyAxXSwgY29vcmRzWzMgKiBpMSArIDJdKTtcclxuICAgICAgICAgICAgICAgIC8vIG1hcms6IDEgZm9yIG5lZ2F0aXZlIHNpZGUsIDIgZm9yIHBvc2l0aXZlIHNpZGUsIDMgZm9yIGNvcGxhbmFyIHBvaW50XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFyazAgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBsb2NhbFBsYW5lLmRpc3RhbmNlVG9Qb2ludChwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA+IGRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyazAgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50czIucHVzaChwMC5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGQgPCAtZGVsdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrMCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzMS5wdXNoKHAwLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyazAgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50czEucHVzaChwMC5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMyLnB1c2gocDAuY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtYXJrOiAxIGZvciBuZWdhdGl2ZSBzaWRlLCAyIGZvciBwb3NpdGl2ZSBzaWRlLCAzIGZvciBjb3BsYW5hciBwb2ludFxyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmsxID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gbG9jYWxQbGFuZS5kaXN0YW5jZVRvUG9pbnQocDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgPiBkZWx0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmsxID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMyLnB1c2gocDEuY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkIDwgLWRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyazEgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50czEucHVzaChwMS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmsxID0gMztcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMxLnB1c2gocDEuY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzMi5wdXNoKHAxLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChtYXJrMCA9PT0gMSAmJiBtYXJrMSA9PT0gMikgfHwgKG1hcmswID09PSAyICYmIG1hcmsxID09PSAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVyc2VjdGlvbiBvZiBzZWdtZW50IHdpdGggdGhlIHBsYW5lXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZTEuc3RhcnQuY29weShwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZTEuZW5kLmNvcHkocDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3Rpb24gPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uID0gbG9jYWxQbGFuZS5pbnRlcnNlY3RMaW5lKHRoaXMudGVtcExpbmUxLCBpbnRlcnNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG91bGRuJ3QgaGFwcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludGVybmFsIGVycm9yOiBzZWdtZW50IGRvZXMgbm90IGludGVyc2VjdCBwbGFuZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnNlZ21lbnRlZE9iamVjdDEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc2VnbWVudGVkT2JqZWN0MiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMxLnB1c2goaW50ZXJzZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMyLnB1c2goaW50ZXJzZWN0aW9uLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkZWJyaXMgbWFzcyAodmVyeSBmYXN0IGFuZCBpbXByZWNpc2UpOlxyXG4gICAgICAgIHZhciBuZXdNYXNzID0gb2JqZWN0LnVzZXJEYXRhLmFtbW9QaHlzaWNzRGF0YS5tYXNzICogMC41O1xyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkZWJyaXMgQ2VudGVyIG9mIE1hc3MgKGFnYWluIGZhc3QgYW5kIGltcHJlY2lzZSlcclxuICAgICAgICB0aGlzLnRlbXBDTTEuc2V0KDAsIDAsIDApO1xyXG4gICAgICAgIHZhciByYWRpdXMxID0gMDtcclxuICAgICAgICB2YXIgbnVtUG9pbnRzMSA9IHBvaW50czEubGVuZ3RoO1xyXG4gICAgICAgIGlmIChudW1Qb2ludHMxID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVBvaW50czE7IGkrKylcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcENNMS5hZGQocG9pbnRzMVtpXSk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcENNMS5kaXZpZGVTY2FsYXIobnVtUG9pbnRzMSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUG9pbnRzMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHBvaW50czFbaV07XHJcbiAgICAgICAgICAgICAgICBwLnN1Yih0aGlzLnRlbXBDTTEpO1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzMSA9IE1hdGgubWF4KHJhZGl1czEsIHAueCwgcC55LCBwLnopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGVtcENNMS5hZGQob2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZW1wQ00yLnNldCgwLCAwLCAwKTtcclxuICAgICAgICB2YXIgcmFkaXVzMiA9IDA7XHJcbiAgICAgICAgdmFyIG51bVBvaW50czIgPSBwb2ludHMyLmxlbmd0aDtcclxuICAgICAgICBpZiAobnVtUG9pbnRzMiA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Qb2ludHMyOyBpKyspXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBDTTIuYWRkKHBvaW50czJbaV0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBDTTIuZGl2aWRlU2NhbGFyKG51bVBvaW50czIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVBvaW50czI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBwb2ludHMyW2ldO1xyXG4gICAgICAgICAgICAgICAgcC5zdWIodGhpcy50ZW1wQ00yKTtcclxuICAgICAgICAgICAgICAgIHJhZGl1czIgPSBNYXRoLm1heChyYWRpdXMyLCBwLngsIHAueSwgcC56KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRlbXBDTTIuYWRkKG9iamVjdC5wb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYmplY3QxID0gbnVsbDtcclxuICAgICAgICB2YXIgb2JqZWN0MiA9IG51bGw7XHJcbiAgICAgICAgdmFyIG51bU9iamVjdHMgPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1PRDogV3JhcHBlZCBpbiB0cnkgY2F0Y2ggYmxvY2sgdG8gYXZvaWQgZXJyb3JzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKG51bVBvaW50czEgPiA0KSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QxID0gbmV3IGluZGV4XzEuTWVzaChuZXcgaW5kZXhfMi5Db252ZXhCdWZmZXJHZW9tZXRyeShwb2ludHMxKSwgb2JqZWN0Lm1hdGVyaWFsKTtcclxuICAgICAgICAgICAgICAgIG9iamVjdDEucG9zaXRpb24uY29weSh0aGlzLnRlbXBDTTEpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0MS5xdWF0ZXJuaW9uLmNvcHkob2JqZWN0LnF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0MS51c2VyRGF0YSA9IG9iamVjdC51c2VyRGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJlcGFyZUJyZWFrYWJsZU9iamVjdChvYmplY3QxLCBuZXdNYXNzLCBvYmplY3QudXNlckRhdGEuYW1tb1BoeXNpY3NEYXRhLnZlbG9jaXR5LCBvYmplY3QudXNlckRhdGEuYW1tb1BoeXNpY3NEYXRhLmFuZ3VsYXJWZWxvY2l0eSwgMiAqIHJhZGl1czEgPiB0aGlzLm1pblNpemVGb3JCcmVhayk7XHJcbiAgICAgICAgICAgICAgICBudW1PYmplY3RzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5kZWZhdWx0KCdFcnJvciBpbiBDb252ZXhPYmplY3RCcmVha2VyLnRzJyk7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5kZWZhdWx0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtUG9pbnRzMiA+IDQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG9iamVjdDIgPSBuZXcgaW5kZXhfMS5NZXNoKG5ldyBpbmRleF8yLkNvbnZleEJ1ZmZlckdlb21ldHJ5KHBvaW50czIpLCBvYmplY3QubWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0Mi5wb3NpdGlvbi5jb3B5KHRoaXMudGVtcENNMik7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QyLnF1YXRlcm5pb24uY29weShvYmplY3QucXVhdGVybmlvbik7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QyLnVzZXJEYXRhID0gb2JqZWN0LnVzZXJEYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlQnJlYWthYmxlT2JqZWN0KG9iamVjdDIsIG5ld01hc3MsIG9iamVjdC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGEudmVsb2NpdHksIG9iamVjdC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGEuYW5ndWxhclZlbG9jaXR5LCAyICogcmFkaXVzMiA+IHRoaXMubWluU2l6ZUZvckJyZWFrKTtcclxuICAgICAgICAgICAgICAgIG51bU9iamVjdHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmRlZmF1bHQoJ0Vycm9yIGluIENvbnZleE9iamVjdEJyZWFrZXIudHMnKTtcclxuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmRlZmF1bHQoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dHB1dC5vYmplY3QxID0gb2JqZWN0MTtcclxuICAgICAgICBvdXRwdXQub2JqZWN0MiA9IG9iamVjdDI7XHJcbiAgICAgICAgcmV0dXJuIG51bU9iamVjdHM7XHJcbiAgICB9XHJcbn07XHJcbkNvbnZleE9iamVjdEJyZWFrZXIudHJhbnNmb3JtRnJlZVZlY3RvciA9IGZ1bmN0aW9uICh2LCBtKSB7XHJcbiAgICAvLyBpbnB1dDpcclxuICAgIC8vIHZlY3RvciBpbnRlcnByZXRlZCBhcyBhIGZyZWUgdmVjdG9yXHJcbiAgICAvLyBUSFJFRS5NYXRyaXg0IG9ydGhvZ29uYWwgbWF0cml4IChtYXRyaXggd2l0aG91dCBzY2FsZSlcclxuICAgIHZhciB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56O1xyXG4gICAgdmFyIGUgPSBtLmVsZW1lbnRzO1xyXG4gICAgdi54ID0gZVswXSAqIHggKyBlWzRdICogeSArIGVbOF0gKiB6O1xyXG4gICAgdi55ID0gZVsxXSAqIHggKyBlWzVdICogeSArIGVbOV0gKiB6O1xyXG4gICAgdi56ID0gZVsyXSAqIHggKyBlWzZdICogeSArIGVbMTBdICogejtcclxuICAgIHJldHVybiB2O1xyXG59O1xyXG5Db252ZXhPYmplY3RCcmVha2VyLnRyYW5zZm9ybUZyZWVWZWN0b3JJbnZlcnNlID0gZnVuY3Rpb24gKHYsIG0pIHtcclxuICAgIC8vIGlucHV0OlxyXG4gICAgLy8gdmVjdG9yIGludGVycHJldGVkIGFzIGEgZnJlZSB2ZWN0b3JcclxuICAgIC8vIFRIUkVFLk1hdHJpeDQgb3J0aG9nb25hbCBtYXRyaXggKG1hdHJpeCB3aXRob3V0IHNjYWxlKVxyXG4gICAgdmFyIHggPSB2LngsIHkgPSB2LnksIHogPSB2Lno7XHJcbiAgICB2YXIgZSA9IG0uZWxlbWVudHM7XHJcbiAgICB2LnggPSBlWzBdICogeCArIGVbMV0gKiB5ICsgZVsyXSAqIHo7XHJcbiAgICB2LnkgPSBlWzRdICogeCArIGVbNV0gKiB5ICsgZVs2XSAqIHo7XHJcbiAgICB2LnogPSBlWzhdICogeCArIGVbOV0gKiB5ICsgZVsxMF0gKiB6O1xyXG4gICAgcmV0dXJuIHY7XHJcbn07XHJcbkNvbnZleE9iamVjdEJyZWFrZXIudHJhbnNmb3JtVGllZFZlY3RvckludmVyc2UgPSBmdW5jdGlvbiAodiwgbSkge1xyXG4gICAgLy8gaW5wdXQ6XHJcbiAgICAvLyB2ZWN0b3IgaW50ZXJwcmV0ZWQgYXMgYSB0aWVkIChvcmRpbmFyeSkgdmVjdG9yXHJcbiAgICAvLyBUSFJFRS5NYXRyaXg0IG9ydGhvZ29uYWwgbWF0cml4IChtYXRyaXggd2l0aG91dCBzY2FsZSlcclxuICAgIHZhciB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56O1xyXG4gICAgdmFyIGUgPSBtLmVsZW1lbnRzO1xyXG4gICAgdi54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6IC0gZVsxMl07XHJcbiAgICB2LnkgPSBlWzRdICogeCArIGVbNV0gKiB5ICsgZVs2XSAqIHogLSBlWzEzXTtcclxuICAgIHYueiA9IGVbOF0gKiB4ICsgZVs5XSAqIHkgKyBlWzEwXSAqIHogLSBlWzE0XTtcclxuICAgIHJldHVybiB2O1xyXG59O1xyXG5Db252ZXhPYmplY3RCcmVha2VyLnRyYW5zZm9ybVBsYW5lVG9Mb2NhbFNwYWNlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB2MSA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiB0cmFuc2Zvcm1QbGFuZVRvTG9jYWxTcGFjZShwbGFuZSwgbSwgcmVzdWx0UGxhbmUpIHtcclxuICAgICAgICByZXN1bHRQbGFuZS5ub3JtYWwuY29weShwbGFuZS5ub3JtYWwpO1xyXG4gICAgICAgIHJlc3VsdFBsYW5lLmNvbnN0YW50ID0gcGxhbmUuY29uc3RhbnQ7XHJcbiAgICAgICAgdmFyIHJlZmVyZW5jZVBvaW50ID0gQ29udmV4T2JqZWN0QnJlYWtlci50cmFuc2Zvcm1UaWVkVmVjdG9ySW52ZXJzZShwbGFuZS5jb3BsYW5hclBvaW50KHYxKSwgbSk7XHJcbiAgICAgICAgQ29udmV4T2JqZWN0QnJlYWtlci50cmFuc2Zvcm1GcmVlVmVjdG9ySW52ZXJzZShyZXN1bHRQbGFuZS5ub3JtYWwsIG0pO1xyXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGNvbnN0YW50IChsaWtlIGluIHNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KVxyXG4gICAgICAgIHJlc3VsdFBsYW5lLmNvbnN0YW50ID0gLXJlZmVyZW5jZVBvaW50LmRvdChyZXN1bHRQbGFuZS5ub3JtYWwpO1xyXG4gICAgfTtcclxufSkoKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udmV4T2JqZWN0QnJlYWtlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBkZXNjcmlwdGlvbiAgVGhpcyBpcyBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGNvZGUgZnJvbSBLZXZpbiBMZWVcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgS2V2aW4gTGVlIChodHRwczovL2dpdGh1Yi5jb20vSW5maW5pdGVMZWUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDE5IEtldmluIExlZTsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9JbmZpbml0ZUxlZS9hbW1vLWRlYnVnLWRyYXdlclxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSW5maW5pdGVMZWUvYW1tby1kZWJ1Zy1kcmF3ZXIvYmxvYi9tYXN0ZXIvTElDRU5TRXxNUEwtMi4wfVxyXG4gKi9cclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jb25zdCBBbW1vRGVidWdDb25zdGFudHMgPSB7XHJcbiAgICBOb0RlYnVnOiAwLFxyXG4gICAgRHJhd1dpcmVmcmFtZTogMSxcclxuICAgIERyYXdBYWJiOiAyLFxyXG4gICAgRHJhd0ZlYXR1cmVzVGV4dDogNCxcclxuICAgIERyYXdDb250YWN0UG9pbnRzOiA4LFxyXG4gICAgTm9EZWFjdGl2YXRpb246IDE2LFxyXG4gICAgTm9IZWxwVGV4dDogMzIsXHJcbiAgICBEcmF3VGV4dDogNjQsXHJcbiAgICBQcm9maWxlVGltaW5nczogMTI4LFxyXG4gICAgRW5hYmxlU2F0Q29tcGFyaXNvbjogMjU2LFxyXG4gICAgRGlzYWJsZUJ1bGxldExDUDogNTEyLFxyXG4gICAgRW5hYmxlQ0NEOiAxMDI0LFxyXG4gICAgRHJhd0NvbnN0cmFpbnRzOiAxIDw8IDExLFxyXG4gICAgRHJhd0NvbnN0cmFpbnRMaW1pdHM6IDEgPDwgMTIsXHJcbiAgICBGYXN0V2lyZWZyYW1lOiAxIDw8IDEzLFxyXG4gICAgRHJhd05vcm1hbHM6IDEgPDwgMTQsXHJcbiAgICBEcmF3T25Ub3A6IDEgPDwgMTUsXHJcbiAgICBNQVhfREVCVUdfRFJBV19NT0RFOiAweGZmZmZmZmZmXHJcbn07XHJcbi8qKlxyXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYnRJRGVidWdEcmF3IGludGVyZmFjZSBpbiBBbW1vLmpzLCBmb3IgZGVidWcgcmVuZGVyaW5nIG9mIEFtbW8gc2hhcGVzXHJcbiAqL1xyXG5jbGFzcyBEZWJ1Z0RyYXdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgd29ybGQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLmRlYnVnRHJhd01vZGUgPSBvcHRpb25zLmRlYnVnRHJhd01vZGUgfHwgQW1tb0RlYnVnQ29uc3RhbnRzLkRyYXdXaXJlZnJhbWU7XHJcbiAgICAgICAgY29uc3QgZHJhd09uVG9wID0gdGhpcy5kZWJ1Z0RyYXdNb2RlICYgQW1tb0RlYnVnQ29uc3RhbnRzLkRyYXdPblRvcCB8fCBmYWxzZTtcclxuICAgICAgICBjb25zdCBtYXhCdWZmZXJTaXplID0gb3B0aW9ucy5tYXhCdWZmZXJTaXplIHx8IDEwMDAwMDA7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBpbmRleF8xLkJ1ZmZlckdlb21ldHJ5KCk7XHJcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KG1heEJ1ZmZlclNpemUgKiAzKTtcclxuICAgICAgICBjb25zdCBjb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KG1heEJ1ZmZlclNpemUgKiAzKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIEkgZG8gbm90IGtub3cgdGhlIGRpZmZlcmVuY2UsIGp1c3QgdXNpbmcgdGhlIGZpcnN0IG9uZS5cclxuICAgICAgICBleHBvcnQgY29uc3QgU3RhdGljRHJhd1VzYWdlOiBVc2FnZTtcclxuICAgICAgICBleHBvcnQgY29uc3QgRHluYW1pY0RyYXdVc2FnZTogVXNhZ2U7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IFN0cmVhbURyYXdVc2FnZTogVXNhZ2U7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IFN0YXRpY1JlYWRVc2FnZTogVXNhZ2U7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IER5bmFtaWNSZWFkVXNhZ2U6IFVzYWdlO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBTdHJlYW1SZWFkVXNhZ2U6IFVzYWdlO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBTdGF0aWNDb3B5VXNhZ2U6IFVzYWdlO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBEeW5hbWljQ29weVVzYWdlOiBVc2FnZTtcclxuICAgICAgICBleHBvcnQgY29uc3QgU3RyZWFtQ29weVVzYWdlOiBVc2FnZTtcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgaW5kZXhfMS5CdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsIDMpLnNldFVzYWdlKGluZGV4XzEuU3RhdGljRHJhd1VzYWdlKSk7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgbmV3IGluZGV4XzEuQnVmZmVyQXR0cmlidXRlKGNvbG9ycywgMykuc2V0VXNhZ2UoaW5kZXhfMS5TdGF0aWNEcmF3VXNhZ2UpKTtcclxuICAgICAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBpbmRleF8xLkxpbmVCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgdmVydGV4Q29sb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICBkZXB0aFRlc3Q6ICFkcmF3T25Ub3BcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgaW5kZXhfMS5MaW5lU2VnbWVudHModGhpcy5nZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIGlmIChkcmF3T25Ub3ApXHJcbiAgICAgICAgICAgIHRoaXMubWVzaC5yZW5kZXJPcmRlciA9IDk5OTtcclxuICAgICAgICB0aGlzLm1lc2guZnJ1c3R1bUN1bGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVidWdEcmF3ZXIgPSBuZXcgQW1tby5EZWJ1Z0RyYXdlcigpO1xyXG4gICAgICAgIHRoaXMuZGVidWdEcmF3ZXIuZHJhd0xpbmUgPSB0aGlzLmRyYXdMaW5lLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z0RyYXdlci5kcmF3Q29udGFjdFBvaW50ID0gdGhpcy5kcmF3Q29udGFjdFBvaW50LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z0RyYXdlci5yZXBvcnRFcnJvcldhcm5pbmcgPSB0aGlzLnJlcG9ydEVycm9yV2FybmluZy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGVidWdEcmF3ZXIuZHJhdzNkVGV4dCA9IHRoaXMuZHJhdzNkVGV4dC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGVidWdEcmF3ZXIuc2V0RGVidWdNb2RlID0gdGhpcy5zZXREZWJ1Z01vZGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRlYnVnRHJhd2VyLmdldERlYnVnTW9kZSA9IHRoaXMuZ2V0RGVidWdNb2RlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy53b3JsZC5zZXREZWJ1Z0RyYXdlcih0aGlzLmRlYnVnRHJhd2VyKTtcclxuICAgIH1cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubWVzaCk7XHJcbiAgICB9XHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMubWVzaCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLndvcmxkLmRlYnVnRHJhd1dvcmxkKCk7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5zZXREcmF3UmFuZ2UoMCwgdGhpcy5pbmRleCk7XHJcbiAgICB9XHJcbiAgICBkcmF3TGluZShmcm9tLCB0bywgY29sb3IpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgaGVhcCA9IEFtbW8uSEVBUEYzMjtcclxuICAgICAgICBjb25zdCByID0gaGVhcFsoY29sb3IgKyAwKSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IGcgPSBoZWFwWyhjb2xvciArIDQpIC8gNF07XHJcbiAgICAgICAgY29uc3QgYiA9IGhlYXBbKGNvbG9yICsgOCkgLyA0XTtcclxuICAgICAgICBjb25zdCBmcm9tWCA9IGhlYXBbKGZyb20gKyAwKSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IGZyb21ZID0gaGVhcFsoZnJvbSArIDQpIC8gNF07XHJcbiAgICAgICAgY29uc3QgZnJvbVogPSBoZWFwWyhmcm9tICsgOCkgLyA0XTtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uc2V0WFlaKHRoaXMuaW5kZXgsIGZyb21YLCBmcm9tWSwgZnJvbVopO1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5zZXRYWVoodGhpcy5pbmRleCsrLCByLCBnLCBiKTtcclxuICAgICAgICBjb25zdCB0b1ggPSBoZWFwWyh0byArIDApIC8gNF07XHJcbiAgICAgICAgY29uc3QgdG9ZID0gaGVhcFsodG8gKyA0KSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IHRvWiA9IGhlYXBbKHRvICsgOCkgLyA0XTtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uc2V0WFlaKHRoaXMuaW5kZXgsIHRvWCwgdG9ZLCB0b1opO1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5zZXRYWVoodGhpcy5pbmRleCsrLCByLCBnLCBiKTtcclxuICAgIH1cclxuICAgIC8vVE9ETzogZmlndXJlIG91dCBob3cgdG8gbWFrZSBsaWZlVGltZSB3b3JrXHJcbiAgICBkcmF3Q29udGFjdFBvaW50KHBvaW50T25CLCBub3JtYWxPbkIsIGRpc3RhbmNlLCBfbGlmZVRpbWUsIGNvbG9yKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGhlYXAgPSBBbW1vLkhFQVBGMzI7XHJcbiAgICAgICAgY29uc3QgciA9IGhlYXBbKGNvbG9yICsgMCkgLyA0XTtcclxuICAgICAgICBjb25zdCBnID0gaGVhcFsoY29sb3IgKyA0KSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IGIgPSBoZWFwWyhjb2xvciArIDgpIC8gNF07XHJcbiAgICAgICAgY29uc3QgeCA9IGhlYXBbKHBvaW50T25CICsgMCkgLyA0XTtcclxuICAgICAgICBjb25zdCB5ID0gaGVhcFsocG9pbnRPbkIgKyA0KSAvIDRdO1xyXG4gICAgICAgIGNvbnN0IHogPSBoZWFwWyhwb2ludE9uQiArIDgpIC8gNF07XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLnNldFhZWih0aGlzLmluZGV4LCB4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3Iuc2V0WFlaKHRoaXMuaW5kZXgrKywgciwgZywgYik7XHJcbiAgICAgICAgY29uc3QgZHggPSBoZWFwWyhub3JtYWxPbkIgKyAwKSAvIDRdICogZGlzdGFuY2U7XHJcbiAgICAgICAgY29uc3QgZHkgPSBoZWFwWyhub3JtYWxPbkIgKyA0KSAvIDRdICogZGlzdGFuY2U7XHJcbiAgICAgICAgY29uc3QgZHogPSBoZWFwWyhub3JtYWxPbkIgKyA4KSAvIDRdICogZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLnNldFhZWih0aGlzLmluZGV4LCB4ICsgZHgsIHkgKyBkeSwgeiArIGR6KTtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3Iuc2V0WFlaKHRoaXMuaW5kZXgrKywgciwgZywgYik7XHJcbiAgICB9XHJcbiAgICByZXBvcnRFcnJvcldhcm5pbmcod2FybmluZ1N0cmluZykge1xyXG4gICAgICAgIGlmIChBbW1vLmhhc093blByb3BlcnR5KCdQb2ludGVyX3N0cmluZ2lmeScpKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKEFtbW8uUG9pbnRlcl9zdHJpbmdpZnkod2FybmluZ1N0cmluZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy53YXJuZWRPbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2FybmVkT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBwcmludCB3YXJuaW5nU3RyaW5nLCBwbGVhc2UgcmVidWlsZCBBbW1vLmpzIHVzaW5nICdkZWJ1ZycgZmxhZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3M2RUZXh0KF9sb2NhdGlvbiwgX3RleHRTdHJpbmcpIHtcclxuICAgICAgICAvL1RPRE9cclxuICAgICAgICBjb25zb2xlLndhcm4oJ1RPRE86IGRyYXczZFRleHQnKTtcclxuICAgIH1cclxuICAgIHNldERlYnVnTW9kZShkZWJ1Z01vZGUpIHtcclxuICAgICAgICB0aGlzLmRlYnVnRHJhd01vZGUgPSBkZWJ1Z01vZGU7XHJcbiAgICB9XHJcbiAgICBnZXREZWJ1Z01vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVidWdEcmF3TW9kZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBEZWJ1Z0RyYXdlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVidWdEcmF3ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KSk7XHJcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvdHlwZXNBbW1vXCIpO1xyXG5yZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L3R5cGVzQ3VzdG9tXCIpO1xyXG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGh5c2ljc1wiKSwgZXhwb3J0cyk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciB5YW5kZXVcclxuICogQGRlc2NyaXB0aW9uIFBvcnRlZCB0byBUeXBlU2NyaXB0XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ2xvY2sgPSB2b2lkIDA7XHJcbi8qKlxyXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgaXMgdGhlIENsb2NrIGNsYXNzIFRIUkVFIHByb3ZpZGVzLlxyXG4gKi9cclxuY2xhc3MgQ2xvY2sge1xyXG4gICAgY29uc3RydWN0b3IoYXV0b1N0YXJ0ID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gYXV0b1N0YXJ0ICE9PSB1bmRlZmluZWQgPyBhdXRvU3RhcnQgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLm9sZFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSAodHlwZW9mIHBlcmZvcm1hbmNlID09PSAndW5kZWZpbmVkJyA/IERhdGUgOiBwZXJmb3JtYW5jZSkubm93KCk7IC8vIHNlZSAjMTA3MzJcclxuICAgICAgICB0aGlzLm9sZFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcclxuICAgICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmdldEVsYXBzZWRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hdXRvU3RhcnQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGdldEVsYXBzZWRUaW1lKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0RGVsdGEoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGFwc2VkVGltZTtcclxuICAgIH1cclxuICAgIGdldERlbHRhKCkge1xyXG4gICAgICAgIGxldCBkaWZmID0gMDtcclxuICAgICAgICBpZiAodGhpcy5hdXRvU3RhcnQgJiYgIXRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdUaW1lID0gKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ3VuZGVmaW5lZCcgPyBEYXRlIDogcGVyZm9ybWFuY2UpLm5vdygpO1xyXG4gICAgICAgICAgICBkaWZmID0gKG5ld1RpbWUgLSB0aGlzLm9sZFRpbWUpIC8gMTAwMDtcclxuICAgICAgICAgICAgdGhpcy5vbGRUaW1lID0gbmV3VGltZTtcclxuICAgICAgICAgICAgdGhpcy5lbGFwc2VkVGltZSArPSBkaWZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlmZjtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkNsb2NrID0gQ2xvY2s7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsb2NrLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkFtbW9QaHlzaWNzID0gZXhwb3J0cy5DbG9jayA9IGV4cG9ydHMuVHlwZXMgPSBleHBvcnRzLkFsbEhpdHNSYXljYXN0ZXIgPSBleHBvcnRzLkNsb3Nlc3RSYXljYXN0ZXIgPSBleHBvcnRzLlBoeXNpY3NMb2FkZXIgPSBleHBvcnRzLkV4dGVuZGVkR3JvdXAgPSBleHBvcnRzLkV4dGVuZGVkTWVzaCA9IGV4cG9ydHMuRXh0ZW5kZWRPYmplY3QzRCA9IHZvaWQgMDtcclxuY29uc3QgbG9nZ2VyXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2xvZ2dlclwiKTtcclxuY29uc3QgcGh5c2ljc0JvZHlfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvcGh5c2ljc0JvZHlcIik7XHJcbmNvbnN0IGV4dGVuZGVkT2JqZWN0M0RfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZXh0ZW5kZWRPYmplY3QzRFwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRXh0ZW5kZWRPYmplY3QzRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0ZW5kZWRPYmplY3QzRF8xLkV4dGVuZGVkT2JqZWN0M0Q7IH0gfSk7XHJcbmNvbnN0IGV4dGVuZGVkTWVzaF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC9jb21tb24vZGlzdC9leHRlbmRlZE1lc2hcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkV4dGVuZGVkTWVzaFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0ZW5kZWRNZXNoXzEuRXh0ZW5kZWRNZXNoOyB9IH0pO1xyXG5jb25zdCBleHRlbmRlZEdyb3VwXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L2V4dGVuZGVkR3JvdXBcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkV4dGVuZGVkR3JvdXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dGVuZGVkR3JvdXBfMS5FeHRlbmRlZEdyb3VwOyB9IH0pO1xyXG5jb25zdCBzaGFwZXNfMSA9IHJlcXVpcmUoXCIuL3NoYXBlc1wiKTtcclxuY29uc3QgY29uc3RyYWludHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0cmFpbnRzXCIpO1xyXG5jb25zdCBldmVudGVtaXR0ZXIzXzEgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jb25zdCB0aHJlZV90b19hbW1vXzEgPSByZXF1aXJlKFwiLi90aHJlZS10by1hbW1vXCIpO1xyXG5jb25zdCB0b3J1c1NoYXBlXzEgPSByZXF1aXJlKFwiLi90b3J1c1NoYXBlXCIpO1xyXG5jb25zdCBmYWN0b3JpZXNfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZmFjdG9yaWVzXCIpO1xyXG5jb25zdCBjb2xsaXNpb25FdmVudHNfMSA9IHJlcXVpcmUoXCIuL2NvbGxpc2lvbkV2ZW50c1wiKTtcclxuY29uc3QgZGVidWdEcmF3ZXJfMSA9IHJlcXVpcmUoXCIuL2RlYnVnRHJhd2VyXCIpO1xyXG5jb25zdCBjb252ZXhPYmplY3RCcmVha2VyXzEgPSByZXF1aXJlKFwiLi9jb252ZXhPYmplY3RCcmVha2VyXCIpO1xyXG5jb25zdCBwaHlzaWNzTG9hZGVyXzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L3BoeXNpY3NMb2FkZXJcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBoeXNpY3NMb2FkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBoeXNpY3NMb2FkZXJfMS5QaHlzaWNzTG9hZGVyOyB9IH0pO1xyXG5jb25zdCBkZWZhdWx0TWF0ZXJpYWxfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZGVmYXVsdE1hdGVyaWFsXCIpO1xyXG5jb25zdCBUeXBlcyA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvdHlwZXNcIik7XHJcbmV4cG9ydHMuVHlwZXMgPSBUeXBlcztcclxuY29uc3QgcmF5Y2FzdGVyXzEgPSByZXF1aXJlKFwiLi9yYXljYXN0ZXIvcmF5Y2FzdGVyXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbG9zZXN0UmF5Y2FzdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByYXljYXN0ZXJfMS5DbG9zZXN0UmF5Y2FzdGVyOyB9IH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBbGxIaXRzUmF5Y2FzdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByYXljYXN0ZXJfMS5BbGxIaXRzUmF5Y2FzdGVyOyB9IH0pO1xyXG4vLyBFeHBvcnQgVEhSRUUuQ2xvY2tcclxudmFyIENsb2NrXzEgPSByZXF1aXJlKFwiLi9saWIvQ2xvY2tcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNsb2NrXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBDbG9ja18xLkNsb2NrOyB9IH0pO1xyXG5jbGFzcyBBbW1vUGh5c2ljcyBleHRlbmRzIGV2ZW50ZW1pdHRlcjNfMS5FdmVudEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5yaWdpZEJvZGllcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZWFybGllckRldGVjdGVkQ29sbGlzaW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcGxleFNoYXBlcyA9IFsncGxhbmUnLCAnaHVsbCcsICdoYWNkJywgJ3ZoYWNkJywgJ2NvbnZleE1lc2gnLCAnY29uY2F2ZU1lc2gnXTtcclxuICAgICAgICB0aGlzLmdyYXZpdHkgPSBjb25maWcuZ3Jhdml0eSB8fCB7IHg6IDAsIHk6IC05LjgxLCB6OiAwIH07XHJcbiAgICAgICAgdGhpcy5pc0hlYWRsZXNzID0gc2NlbmUgPT09ICdoZWFkbGVzcycgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy50bXBFdWxlciA9IG5ldyBpbmRleF8xLkV1bGVyKCk7XHJcbiAgICAgICAgdGhpcy50bXBRdWF0ZXJuaW9uID0gbmV3IGluZGV4XzEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudG1wVmVjdG9yMyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnRtcFZlY3RvcjNhID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMudG1wTWF0cml4NCA9IG5ldyBpbmRleF8xLk1hdHJpeDQoKTtcclxuICAgICAgICB0aGlzLnRtcE1hdHJpeDRhID0gbmV3IGluZGV4XzEuTWF0cml4NCgpO1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzID0gbmV3IEFtbW8uYnRWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy50bXBCdFF1YXRlcm5pb24gPSBuZXcgQW1tby5idFF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XHJcbiAgICAgICAgdGhpcy5lbXB0eVYzID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuaW1wYWN0UG9pbnQgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5pbXBhY3ROb3JtYWwgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgaWYgKHNjZW5lICE9PSAnaGVhZGxlc3MnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IGRlZmF1bHRNYXRlcmlhbF8xLmRlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgaW5mbyA9IGBBbW1vLmpzIHBoeXNpY3MgcHJvdmlkZWQgYnkgZW5hYmxlM2RgXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAvLyAgIGAlYyAlYyAlYyAlYyAlYyAke2luZm99ICVjIGh0dHBzOi8vZW5hYmxlM2QuaW8vYCxcclxuICAgICAgICAgICAgLy8gICAnYmFja2dyb3VuZDogI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIC8vICAgJ2JhY2tncm91bmQ6ICNmZmZmMDAnLFxyXG4gICAgICAgICAgICAvLyAgICdiYWNrZ3JvdW5kOiAjMDBmZjAwJyxcclxuICAgICAgICAgICAgLy8gICAnYmFja2dyb3VuZDogIzAwZmZmZicsXHJcbiAgICAgICAgICAgIC8vICAgJ2NvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjMDAwMDAwOycsXHJcbiAgICAgICAgICAgIC8vICAgJ2JhY2tncm91bmQ6IG5vbmUnXHJcbiAgICAgICAgICAgIC8vIClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSB3b3JsZFRyYW5zZm9ybSBpbnN0ZWFkIG9mIHRtcFRyYW5zLiAqL1xyXG4gICAgZ2V0IHRtcFRyYW5zKCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVXNlIHdvcmxkVHJhbnNmb3JtIGluc3RlYWQgb2YgdG1wVHJhbnMuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm07XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIHdvcmxkVHJhbnNmb3JtIGluc3RlYWQgb2YgdG1wVHJhbnMuICovXHJcbiAgICBzZXQgdG1wVHJhbnModHJhbnNmb3JtKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdVc2Ugd29ybGRUcmFuc2Zvcm0gaW5zdGVhZCBvZiB0bXBUcmFucy4nKTtcclxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xyXG4gICAgfVxyXG4gICAgLyoqIERlc3Ryb3lzIGEgcGh5c2ljcyBib2R5LiAqL1xyXG4gICAgZGVzdHJveShib2R5KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBiID0gT2JqZWN0LmtleXMoYm9keSkuaW5jbHVkZXMoJ2JvZHknKSA/IGJvZHkuYm9keSA6IGJvZHk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiAoYiA9PT0gbnVsbCB8fCBiID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiLmFtbW8pID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBuYW1lID0gYi5hbW1vLm5hbWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGxldCBvYmogPSBiLmFtbW8udGhyZWVPYmplY3Q7XHJcbiAgICAgICAgaWYgKG5hbWUgJiYgb2JqKSB7XHJcbiAgICAgICAgICAgIGlmICgoX2EgPSBvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouYm9keSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFtbW8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHBoeXNpY3Mgd29ybGRcclxuICAgICAgICAgICAgICAgICFvYmouYm9keS5pc1NvZnRCb2R5XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnBoeXNpY3NXb3JsZC5yZW1vdmVSaWdpZEJvZHkob2JqLmJvZHkuYW1tbylcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucGh5c2ljc1dvcmxkLnJlbW92ZVNvZnRCb2R5KG9iai5ib2R5LmFtbW8pO1xyXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkZXN0cnVjdG9yIG9uIGJvZHlcclxuICAgICAgICAgICAgICAgIG9iai5ib2R5LmRlc3RydWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHByb3BlcnRpZXNcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIG9iai5ib2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgb2JqLmhhc0JvZHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoaXMub2JqZWN0QW1tb1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGIuYW1tby50aHJlZU9iamVjdDtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoaXMucmlnaWRCb2RpZXNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yaWdpZEJvZGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJpZ2lkQm9kaWVzW2ldLm5hbWUgPT09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdpZEJvZGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUgPT09ICdoZWFkbGVzcycgJiYgb2JqKVxyXG4gICAgICAgICAgICBvYmogPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc2V0dXAoKSB7XHJcbiAgICAgICAgLy8gYWRkIHdvcmxkVHJhbnNmb3JtXHJcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgLy8gc2V0dXAgYW1tbyBwaHlzaWNzXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbmZpZy5zZXR1cFBoeXNpY3NXb3JsZCA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzV29ybGQgPSB0aGlzLmNvbmZpZy5zZXR1cFBoeXNpY3NXb3JsZCgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzV29ybGQgPSB0aGlzLnNldHVwUGh5c2ljc1dvcmxkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUgIT09ICdoZWFkbGVzcycpIHtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb252ZXhCcmVha2VyXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGhpcy5jb252ZXhCcmVha2VyID0gbmV3IGNvbnZleE9iamVjdEJyZWFrZXJfMS5Db252ZXhPYmplY3RCcmVha2VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1RvUmVtb3ZlID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubnVtT2JqZWN0c1RvUmVtb3ZlID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3RzVG9SZW1vdmVbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uRXZlbnRzID0gbmV3IGNvbGxpc2lvbkV2ZW50c18xLkNvbGxpc2lvbkV2ZW50cygpO1xyXG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IG5ldyBmYWN0b3JpZXNfMS5kZWZhdWx0KHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMuc2hhcGVzID0gbmV3IHNoYXBlc18xLmRlZmF1bHQodGhpcy5mYWN0b3J5LCAob2JqZWN0LCBjb25maWcpID0+IHRoaXMuYWRkRXhpc3Rpbmcob2JqZWN0LCBjb25maWcpKTtcclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gbmV3IGNvbnN0cmFpbnRzXzEuZGVmYXVsdCh0aGlzLndvcmxkVHJhbnNmb3JtLCB0aGlzLnBoeXNpY3NXb3JsZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUgIT09ICdoZWFkbGVzcycpXHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdEcmF3ZXIgPSBuZXcgZGVidWdEcmF3ZXJfMS5kZWZhdWx0KHRoaXMuc2NlbmUsIHRoaXMucGh5c2ljc1dvcmxkLCB7fSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVEZWJ1Z2dlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZSA9PT0gJ2hlYWRsZXNzJylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnRHJhd2VyICYmIHRoaXMuZGVidWdEcmF3ZXIuZW5hYmxlZClcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0RyYXdlci51cGRhdGUoKTtcclxuICAgIH1cclxuICAgIHNldHVwUGh5c2ljc1dvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLmdyYXZpdHk7XHJcbiAgICAgICAgY29uc3QgeyBzb2Z0Qm9kaWVzID0gZmFsc2UgfSA9IHRoaXMuY29uZmlnO1xyXG4gICAgICAgIGxldCBwaHlzaWNzV29ybGQ7XHJcbiAgICAgICAgaWYgKCFzb2Z0Qm9kaWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24gPSBuZXcgQW1tby5idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uKCksIGRpc3BhdGNoZXIgPSBuZXcgQW1tby5idENvbGxpc2lvbkRpc3BhdGNoZXIoY29sbGlzaW9uQ29uZmlndXJhdGlvbiksIGJyb2FkcGhhc2UgPSBuZXcgQW1tby5idERidnRCcm9hZHBoYXNlKCksIHNvbHZlciA9IG5ldyBBbW1vLmJ0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyKCk7XHJcbiAgICAgICAgICAgIHBoeXNpY3NXb3JsZCA9IG5ldyBBbW1vLmJ0RGlzY3JldGVEeW5hbWljc1dvcmxkKGRpc3BhdGNoZXIsIGJyb2FkcGhhc2UsIHNvbHZlciwgY29sbGlzaW9uQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzb2Z0Qm9kaWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24gPSBuZXcgQW1tby5idFNvZnRCb2R5UmlnaWRCb2R5Q29sbGlzaW9uQ29uZmlndXJhdGlvbigpLCBkaXNwYXRjaGVyID0gbmV3IEFtbW8uYnRDb2xsaXNpb25EaXNwYXRjaGVyKGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24pLCBicm9hZHBoYXNlID0gbmV3IEFtbW8uYnREYnZ0QnJvYWRwaGFzZSgpLCBzb2x2ZXIgPSBuZXcgQW1tby5idFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcigpLCBzb2Z0Qm9keVNvbHZlciA9IG5ldyBBbW1vLmJ0RGVmYXVsdFNvZnRCb2R5U29sdmVyKCk7XHJcbiAgICAgICAgICAgIHBoeXNpY3NXb3JsZCA9IG5ldyBBbW1vLmJ0U29mdFJpZ2lkRHluYW1pY3NXb3JsZChkaXNwYXRjaGVyLCBicm9hZHBoYXNlLCBzb2x2ZXIsIGNvbGxpc2lvbkNvbmZpZ3VyYXRpb24sIHNvZnRCb2R5U29sdmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGh5c2ljc1dvcmxkLnNldEdyYXZpdHkobmV3IEFtbW8uYnRWZWN0b3IzKGcueCwgZy55LCBnLnopKTtcclxuICAgICAgICByZXR1cm4gcGh5c2ljc1dvcmxkO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRGVicmlzRnJvbUJyZWFrYWJsZU9iamVjdChvYmplY3QsIHBhcmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lID09PSAnaGVhZGxlc3MnKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgb2JqZWN0Lm1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWwuZ2V0KCk7XHJcbiAgICAgICAgb2JqZWN0LnNoYXBlID0gJ2h1bGwnO1xyXG4gICAgICAgIG9iamVjdC5mcmFnbWVudERlcHRoID0gcGFyZW50LmZyYWdtZW50RGVwdGggKyAxO1xyXG4gICAgICAgIC8vIEFkZCB0aGUgb2JqZWN0IHRvIHRoZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKG9iamVjdCk7XHJcbiAgICAgICAgLy8gQWRkIHBoeXNpY3MgdG8gdGhlIG9iamVjdFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iamVjdCk7XHJcbiAgICAgICAgb2JqZWN0LmJvZHkuYnJlYWthYmxlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gbWFrZSB0aGlzIGZyYWdtZW50IGJyZWFrYWJsZSBpbiAyLjVzZWNvbmRzXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG9iamVjdC5ib2R5LmJyZWFrYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfSwgMjUwMCk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVEZWJyaXMob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUgPT09ICdoZWFkbGVzcycpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZShvYmplY3QpO1xyXG4gICAgICAgIHRoaXMuZGVzdHJveShvYmplY3QpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQaHlzaWNzKGRlbHRhKTtcclxuICAgICAgICB0aGlzLmRldGVjdENvbGxpc2lvbnMoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBoeXNpY3MoZGVsdGEpIHtcclxuICAgICAgICAvLyBzdGVwIHdvcmxkXHJcbiAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gZGVsdGEgLyAxMDAwO1xyXG4gICAgICAgIC8vIG11c3QgYWx3YXlzIHNhdGlzZnkgdGhlIGVxdWF0aW9uIHRpbWVTdGVwIDwgbWF4U3ViU3RlcHMgKiBmaXhlZFRpbWVTdGVwXHJcbiAgICAgICAgdGhpcy5waHlzaWNzV29ybGQuc3RlcFNpbXVsYXRpb24oZGVsdGFUaW1lLCB0aGlzLmNvbmZpZy5tYXhTdWJTdGVwcyB8fCA0LCB0aGlzLmNvbmZpZy5maXhlZFRpbWVTdGVwIHx8IDEgLyA2MCk7XHJcbiAgICAgICAgLy8gdXBkYXRlIHJpZ2lkIGJvZGllc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yaWdpZEJvZGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvYmpUaHJlZSA9IHRoaXMucmlnaWRCb2RpZXNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IG9ialBoeXMgPSBvYmpUaHJlZS5ib2R5LmFtbW87XHJcbiAgICAgICAgICAgIGNvbnN0IG1zID0gb2JqUGh5cy5nZXRNb3Rpb25TdGF0ZSgpO1xyXG4gICAgICAgICAgICBpZiAobXMpIHtcclxuICAgICAgICAgICAgICAgIG1zLmdldFdvcmxkVHJhbnNmb3JtKHRoaXMud29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgb2JqZWN0IGRpZCBhbiB1cGRhdGUgc2luY2UgbGFzdCBjYWxsXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqVGhyZWUuYm9keS5kaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ialRocmVlLmJvZHkuX2VtaXRVcGRhdGVFdmVudHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialRocmVlLmJvZHkuZXZlbnRFbWl0dGVyLmVtaXQoJ3VwZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialRocmVlLmJvZHkuZGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqVGhyZWUuYm9keS5hbW1vLmlzS2luZW1hdGljT2JqZWN0KCkgJiYgb2JqVGhyZWUuYm9keS5uZWVkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHBvc2l0aW9uIGFuZCByb3RhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIG9ialRocmVlLmdldFdvcmxkUXVhdGVybmlvbih0aGlzLnRtcFF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialRocmVlLmdldFdvcmxkUG9zaXRpb24odGhpcy50bXBWZWN0b3IzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGp1c3QgdG1wIHZhcmlhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHRoaXMudG1wVmVjdG9yMy54LCB0aGlzLnRtcFZlY3RvcjMueSwgdGhpcy50bXBWZWN0b3IzLnopO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG1wQnRRdWF0ZXJuaW9uLnNldFZhbHVlKHRoaXMudG1wUXVhdGVybmlvbi54LCB0aGlzLnRtcFF1YXRlcm5pb24ueSwgdGhpcy50bXBRdWF0ZXJuaW9uLnosIHRoaXMudG1wUXVhdGVybmlvbi53KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgcG9zaXRpb24gYW5kIHJvdGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5zZXRPcmlnaW4odGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uc2V0Um90YXRpb24odGhpcy50bXBCdFF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB0cmFuc2Zvcm1cclxuICAgICAgICAgICAgICAgICAgICBtcy5zZXRXb3JsZFRyYW5zZm9ybSh0aGlzLndvcmxkVHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBuZWVkc1VwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialRocmVlLmJvZHkubmVlZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqVGhyZWUuYm9keS5za2lwVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZyAuLi5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFvYmpUaHJlZS5ib2R5LmFtbW8uaXNTdGF0aWNPYmplY3QoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBwb3NpdGlvbiBhbmQgcm90YXRpb25cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHRoaXMud29ybGRUcmFuc2Zvcm0uZ2V0T3JpZ2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHEgPSB0aGlzLndvcmxkVHJhbnNmb3JtLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYm9keSBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbyA9IG9ialRocmVlLmJvZHkub2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBwb3NpdGlvbiBhbmQgcm90YXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqVGhyZWUuYm9keS5pZ25vcmVTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcFZlY3RvcjNhLnNldChvYmpUaHJlZS5zY2FsZS54LCBvYmpUaHJlZS5zY2FsZS55LCBvYmpUaHJlZS5zY2FsZS56KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gb2JqVGhyZWUuYm9keS5hbW1vLmdldENvbGxpc2lvblNoYXBlKCkuZ2V0TG9jYWxTY2FsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG1wVmVjdG9yM2Euc2V0KHNjYWxlLngoKSwgc2NhbGUueSgpLCBzY2FsZS56KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcFZlY3RvcjMuc2V0KHAueCgpICsgby54LCBwLnkoKSArIG8ueSwgcC56KCkgKyBvLnopO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG1wUXVhdGVybmlvbi5zZXQocS54KCksIHEueSgpLCBxLnooKSwgcS53KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG1wTWF0cml4NC5jb21wb3NlKHRoaXMudG1wVmVjdG9yMywgdGhpcy50bXBRdWF0ZXJuaW9uLCB0aGlzLnRtcFZlY3RvcjNhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqVGhyZWUucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBhdGliaWxpdHkgZml4IGZvciB0aHJlZS5qcyA+PSByMTIzIChEZXplbWJlciAyMDIwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgraW5kZXhfMS5SRVZJU0lPTiA+PSAxMjMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcE1hdHJpeDRhLmNvcHkob2JqVGhyZWUucGFyZW50Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50bXBNYXRyaXg0YS5nZXRJbnZlcnNlKG9ialRocmVlLnBhcmVudC5tYXRyaXhXb3JsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcE1hdHJpeDRhLmlkZW50aXR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG1wTWF0cml4NGEubXVsdGlwbHkodGhpcy50bXBNYXRyaXg0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcE1hdHJpeDRhLmRlY29tcG9zZShvYmpUaHJlZS5wb3NpdGlvbiwgb2JqVGhyZWUucXVhdGVybmlvbiwgb2JqVGhyZWUuc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGV0ZWN0Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGNvbnN0IGRldGVjdGVkQ29sbGlzaW9ucyA9IFtdO1xyXG4gICAgICAgIC8vIHJlc2V0IHRoZXNlIHZlY3RvcnNcclxuICAgICAgICB0aGlzLmltcGFjdFBvaW50LnNldCgwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmltcGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XHJcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IHRoaXMucGh5c2ljc1dvcmxkLmdldERpc3BhdGNoZXIoKTtcclxuICAgICAgICBjb25zdCBudW1NYW5pZm9sZHMgPSBkaXNwYXRjaGVyLmdldE51bU1hbmlmb2xkcygpO1xyXG4gICAgICAgIC8vIGNoZWNrIGNvbGxpc2lvbnNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU1hbmlmb2xkczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250YWN0TWFuaWZvbGQgPSBkaXNwYXRjaGVyLmdldE1hbmlmb2xkQnlJbmRleEludGVybmFsKGkpO1xyXG4gICAgICAgICAgICBsZXQgbnVtQ29udGFjdHMgPSBjb250YWN0TWFuaWZvbGQuZ2V0TnVtQ29udGFjdHMoKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCByYjAgPSBBbW1vLmNhc3RPYmplY3QoY29udGFjdE1hbmlmb2xkLmdldEJvZHkwKCksIEFtbW8uYnRSaWdpZEJvZHkpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHJiMSA9IEFtbW8uY2FzdE9iamVjdChjb250YWN0TWFuaWZvbGQuZ2V0Qm9keTEoKSwgQW1tby5idFJpZ2lkQm9keSk7XHJcbiAgICAgICAgICAgIGxldCB0aHJlZU9iamVjdDAgPSByYjAudGhyZWVPYmplY3Q7XHJcbiAgICAgICAgICAgIGxldCB0aHJlZU9iamVjdDEgPSByYjEudGhyZWVPYmplY3Q7XHJcbiAgICAgICAgICAgIGlmICghdGhyZWVPYmplY3QwIHx8ICF0aHJlZU9iamVjdDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBjaGVjayBjb2xsaXNpb24gYmV0d2VlbiAyIHVubmFtZWQgb2JqZWN0c1xyXG4gICAgICAgICAgICAvLyAoZnJhZ21lbnRzIGRvIG5vdCBoYXZlIGEgbmFtZSwgZm9yIGV4YW1wbGUpXHJcbiAgICAgICAgICAgIGlmIChyYjAubmFtZSA9PT0gJycgJiYgcmIxLm5hbWUgPT09ICcnKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBHZXQgc29tZSBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29uc3QgY2hlY2tDb2xsaXNpb25zMCA9IChfYSA9IHRocmVlT2JqZWN0MC5ib2R5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hlY2tDb2xsaXNpb25zO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja0NvbGxpc2lvbnMxID0gKF9iID0gdGhyZWVPYmplY3QxLmJvZHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jaGVja0NvbGxpc2lvbnM7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrYWJsZTAgPSB0aHJlZU9iamVjdDAuYm9keS5icmVha2FibGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrYWJsZTEgPSB0aHJlZU9iamVjdDEuYm9keS5icmVha2FibGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrQ29sbGlzaW9ucyA9IGNoZWNrQ29sbGlzaW9uczAgfHwgY2hlY2tDb2xsaXNpb25zMTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tCcmVha2FibGUgPSBicmVha2FibGUwIHx8IGJyZWFrYWJsZTE7XHJcbiAgICAgICAgICAgIGlmICghY2hlY2tDb2xsaXNpb25zICYmICFjaGVja0JyZWFrYWJsZSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBsZXQgY29udGFjdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgbWF4SW1wdWxzZSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9ICdzdGFydCc7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbnVtQ29udGFjdHM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFjdFBvaW50ID0gY29udGFjdE1hbmlmb2xkLmdldENvbnRhY3RQb2ludChqKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gY29udGFjdFBvaW50LmdldERpc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBEaXN0YW5jZSBkZWZpbml0aW9uOiB3aGVuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIG9iamVjdHMgaXMgcG9zaXRpdmUsIHRoZXkgYXJlIHNlcGFyYXRlZC4gV2hlbiB0aGUgZGlzdGFuY2UgaXMgbmVnYXRpdmUsIHRoZXkgYXJlIHBlbmV0cmF0aW5nLiBaZXJvIGRpc3RhbmNlIG1lYW5zIGV4YWN0bHkgdG91Y2hpbmcuXHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3B5YnVsbGV0Lm9yZy9CdWxsZXQvcGhwQkIzL3ZpZXd0b3BpYy5waHA/dD01ODMxXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcHVsc2UgPSBjb250YWN0UG9pbnQuZ2V0QXBwbGllZEltcHVsc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbXBhY3RQb2ludCA9IGNvbnRhY3RQb2ludC5nZXRfbV9wb3NpdGlvbldvcmxkT25CKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wYWN0Tm9ybWFsID0gY29udGFjdFBvaW50LmdldF9tX25vcm1hbFdvcmxkT25CKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIGNvbGxpc2lvbiBldmVudHNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tDb2xsaXNpb25zMCB8fCBjaGVja0NvbGxpc2lvbnMxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gW3RocmVlT2JqZWN0MC5uYW1lLCB0aHJlZU9iamVjdDEubmFtZV0uc29ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZE5hbWUgPSBgJHtuYW1lc1swXX1fXyR7bmFtZXNbMV19YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWFybGllckRldGVjdGVkQ29sbGlzaW9ucy5maW5kKGVsID0+IGVsLmNvbWJpbmVkTmFtZSA9PT0gY29tYmluZWROYW1lKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gJ2NvbGxpc2lvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGV0ZWN0ZWRDb2xsaXNpb25zLmZpbmQoZWwgPT4gZWwuY29tYmluZWROYW1lID09PSBjb21iaW5lZE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlY3RlZENvbGxpc2lvbnMucHVzaCh7IGNvbWJpbmVkTmFtZSwgY29sbGlzaW9uOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25FdmVudHMuZW1pdCgnY29sbGlzaW9uJywgeyBib2RpZXM6IFt0aHJlZU9iamVjdDAsIHRocmVlT2JqZWN0MV0sIGV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBpbXBhY3RQb2ludCBhbmQgaW1wYWN0Tm9ybWFsIG9mIHRoZSBoaWdodCBpbXB1bHNlIHBvaW50IChmb3IgYnJlYWthYmxlIG9iamVjdHMpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltcHVsc2UgPj0gbWF4SW1wdWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhJbXB1bHNlID0gaW1wdWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHdoYXQgd2VlbiBuZWVkIGZvciB0aGUgY29udmV4IGJyZWFraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicmVha2FibGUwIHx8IGJyZWFrYWJsZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1wYWN0UG9pbnQuc2V0KGltcGFjdFBvaW50LngoKSwgaW1wYWN0UG9pbnQueSgpLCBpbXBhY3RQb2ludC56KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbXBhY3ROb3JtYWwuc2V0KGltcGFjdE5vcm1hbC54KCksIGltcGFjdE5vcm1hbC55KCksIGltcGFjdE5vcm1hbC56KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIHBvaW50IGhhcyBjb250YWN0LCBhYm9ydFxyXG4gICAgICAgICAgICBpZiAoIWNvbnRhY3QpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgLy8gaWYgbm8gb2JqZWN0cyBhcmUgYnJlYWthYmxlLCBhYm9ydFxyXG4gICAgICAgICAgICBpZiAoIWNoZWNrQnJlYWthYmxlKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBjaGVjayBmb3IgYnJlYWthYmxlIG9iamVjdHMgKHN1YmRpdmlzaW9uKVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29uc3QgZnJhY3R1cmVJbXB1bHNlID0gNTsgLy8yNTBcclxuICAgICAgICAgICAgY29uc3QgTUFYX0ZSQUdNRU5UX0RFUFRIID0gMjtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGxpYnJhcnkgY29udmV4QnJlYWtlciBtYWtlcyB1c2Ugb2YgdGhyZWUncyB1c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGFcclxuICAgICAgICAgICAgLy8gd2UgaGF2ZSB0byBjbG9uZSB0aGUgbmVjZXNzYXJ5IHBhcmFtcyB0byB0aHJlZU9iamVjdFgudXNlckRhdGEuYW1tb1BoeXNpY3NEYXRhXHJcbiAgICAgICAgICAgIC8vIFRPRE8gaW1wcm92ZSB0aGlzXHJcbiAgICAgICAgICAgIHRoaXMuZW1wdHlWMy5zZXQoMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIHRocmVlT2JqZWN0MC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBtYXNzOiAxLFxyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHRoaXMuZW1wdHlWMyxcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogdGhpcy5lbXB0eVYzLFxyXG4gICAgICAgICAgICAgICAgYnJlYWthYmxlOiBicmVha2FibGUwLFxyXG4gICAgICAgICAgICAgICAgcGh5c2ljc0JvZHk6IHJiMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aHJlZU9iamVjdDEudXNlckRhdGEuYW1tb1BoeXNpY3NEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbWFzczogMSxcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiB0aGlzLmVtcHR5VjMsXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IHRoaXMuZW1wdHlWMyxcclxuICAgICAgICAgICAgICAgIGJyZWFrYWJsZTogYnJlYWthYmxlMSxcclxuICAgICAgICAgICAgICAgIHBoeXNpY3NCb2R5OiByYjFcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aHJlZU9iamVjdDAuZnJhZ21lbnREZXB0aCA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICB0aHJlZU9iamVjdDAuZnJhZ21lbnREZXB0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhyZWVPYmplY3QxLmZyYWdtZW50RGVwdGggPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgdGhyZWVPYmplY3QxLmZyYWdtZW50RGVwdGggPSAwO1xyXG4gICAgICAgICAgICAvLyB0aHJlZU9iamVjdDBcclxuICAgICAgICAgICAgaWYgKGJyZWFrYWJsZTAgJiYgbWF4SW1wdWxzZSA+IGZyYWN0dXJlSW1wdWxzZSAmJiB0aHJlZU9iamVjdDAuZnJhZ21lbnREZXB0aCA8IE1BWF9GUkFHTUVOVF9ERVBUSCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVicmlzID0gdGhpcy5jb252ZXhCcmVha2VyLnN1YmRpdmlkZUJ5SW1wYWN0KHRocmVlT2JqZWN0MCwgdGhpcy5pbXBhY3RQb2ludCwgdGhpcy5pbXBhY3ROb3JtYWwsIDEsIDIpOyAvLywgMS41KVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbnVtT2JqZWN0cyA9IGRlYnJpcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG51bU9iamVjdHM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlbCA9IHJiMC5nZXRMaW5lYXJWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ1ZlbCA9IHJiMC5nZXRBbmd1bGFyVmVsb2NpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRlYnJpc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC51c2VyRGF0YS5hbW1vUGh5c2ljc0RhdGEudmVsb2NpdHkuc2V0KHZlbC54KCksIHZlbC55KCksIHZlbC56KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LnVzZXJEYXRhLmFtbW9QaHlzaWNzRGF0YS5hbmd1bGFyVmVsb2NpdHkuc2V0KGFuZ1ZlbC54KCksIGFuZ1ZlbC55KCksIGFuZ1ZlbC56KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVicmlzRnJvbUJyZWFrYWJsZU9iamVjdChmcmFnbWVudCwgdGhyZWVPYmplY3QwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0c1RvUmVtb3ZlW3RoaXMubnVtT2JqZWN0c1RvUmVtb3ZlKytdID0gdGhyZWVPYmplY3QwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRocmVlT2JqZWN0MVxyXG4gICAgICAgICAgICBpZiAoYnJlYWthYmxlMSAmJiBtYXhJbXB1bHNlID4gZnJhY3R1cmVJbXB1bHNlICYmIHRocmVlT2JqZWN0MS5mcmFnbWVudERlcHRoIDwgTUFYX0ZSQUdNRU5UX0RFUFRIKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJyaXMgPSB0aGlzLmNvbnZleEJyZWFrZXIuc3ViZGl2aWRlQnlJbXBhY3QodGhyZWVPYmplY3QxLCB0aGlzLmltcGFjdFBvaW50LCB0aGlzLmltcGFjdE5vcm1hbCwgMSwgMik7IC8vLCAxLjUpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBudW1PYmplY3RzID0gZGVicmlzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbnVtT2JqZWN0czsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVsID0gcmIxLmdldExpbmVhclZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5nVmVsID0gcmIxLmdldEFuZ3VsYXJWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZGVicmlzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LnVzZXJEYXRhLmFtbW9QaHlzaWNzRGF0YS52ZWxvY2l0eS5zZXQodmVsLngoKSwgdmVsLnkoKSwgdmVsLnooKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQudXNlckRhdGEuYW1tb1BoeXNpY3NEYXRhLmFuZ3VsYXJWZWxvY2l0eS5zZXQoYW5nVmVsLngoKSwgYW5nVmVsLnkoKSwgYW5nVmVsLnooKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWJyaXNGcm9tQnJlYWthYmxlT2JqZWN0KGZyYWdtZW50LCB0aHJlZU9iamVjdDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3RzVG9SZW1vdmVbdGhpcy5udW1PYmplY3RzVG9SZW1vdmUrK10gPSB0aHJlZU9iamVjdDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVtb3ZlIG9iamVjdHNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtT2JqZWN0c1RvUmVtb3ZlOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVEZWJyaXModGhpcy5vYmplY3RzVG9SZW1vdmVbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm51bU9iamVjdHNUb1JlbW92ZSA9IDA7XHJcbiAgICAgICAgLy8gaGFuZGxlIGNvbGxpc2lvbiBlbmQgZXZlbnRzXHJcbiAgICAgICAgdGhpcy5lYXJsaWVyRGV0ZWN0ZWRDb2xsaXNpb25zLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IGNvbWJpbmVkTmFtZSB9ID0gZWw7XHJcbiAgICAgICAgICAgIGlmICghZGV0ZWN0ZWRDb2xsaXNpb25zLmZpbmQoZWwgPT4gZWwuY29tYmluZWROYW1lID09PSBjb21iaW5lZE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IGNvbWJpbmVkTmFtZS5zcGxpdCgnX18nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iajAgPSB0aGlzLnJpZ2lkQm9kaWVzLmZpbmQob2JqID0+IG9iai5uYW1lID09PSBzcGxpdFswXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmoxID0gdGhpcy5yaWdpZEJvZGllcy5maW5kKG9iaiA9PiBvYmoubmFtZSA9PT0gc3BsaXRbMV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSAnZW5kJztcclxuICAgICAgICAgICAgICAgIGlmIChvYmowICYmIG9iajEpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25FdmVudHMuZW1pdCgnY29sbGlzaW9uJywgeyBib2RpZXM6IFtvYmowLCBvYmoxXSwgZXZlbnQgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVhcmxpZXJEZXRlY3RlZENvbGxpc2lvbnMgPSBbLi4uZGV0ZWN0ZWRDb2xsaXNpb25zXTtcclxuICAgIH1cclxuICAgIHNldEdyYXZpdHkoeCA9IDAsIHkgPSAtOS44LCB6ID0gMCkge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMucGh5c2ljc1dvcmxkLnNldEdyYXZpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRlYnVnKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSGVhZGxlc3MpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVuYWJsZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z0RyYXdlci5lbmFibGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW9kZTogKGRlYnVnTW9kZSA9IDEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVidWdEcmF3ZXIuc2V0RGVidWdNb2RlKGRlYnVnTW9kZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpc2FibGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVidWdEcmF3ZXIuZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgQW1tbyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgbG9nZ2VyXzEuZGVmYXVsdCgnQXJlIHlvdSBzdXJlIHlvdSBpbmNsdWRlZCBhbW1vLmpzPycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgQW1tbyA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgQW1tbygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXAoKTtcclxuICAgIH1cclxuICAgIGdldCBhZGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29sbGlkZXI6IChvYmplY3QxLCBvYmplY3QyLCBldmVudENhbGxiYWNrKSA9PiB0aGlzLmNvbGxpc2lvbkV2ZW50cy5hZGRDb2xsaWRlcihvYmplY3QxLCBvYmplY3QyLCBldmVudENhbGxiYWNrKSxcclxuICAgICAgICAgICAgY29uc3RyYWludHM6IHRoaXMuY29uc3RyYWludHMuYWRkQ29uc3RyYWludHMsXHJcbiAgICAgICAgICAgIGV4aXN0aW5nOiAob2JqZWN0LCBjb25maWcpID0+IHRoaXMuYWRkRXhpc3Rpbmcob2JqZWN0LCBjb25maWcpLFxyXG4gICAgICAgICAgICBwbGFuZTogKHBsYW5lQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pID0+IHRoaXMuc2hhcGVzLmFkZFBsYW5lKHBsYW5lQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIHNwaGVyZTogKHNwaGVyZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLnNoYXBlcy5hZGRTcGhlcmUoc3BoZXJlQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIGdyb3VuZDogKGdyb3VuZENvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLnNoYXBlcy5hZGRHcm91bmQoZ3JvdW5kQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIGJveDogKGJveENvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLnNoYXBlcy5hZGRCb3goYm94Q29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIGN5bGluZGVyOiAoY3lsaW5kZXJDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5zaGFwZXMuYWRkQ3lsaW5kZXIoY3lsaW5kZXJDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgY29uZTogKGNvbmVDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5zaGFwZXMuYWRkQ29uZShjb25lQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIHRvcnVzOiAodG9ydXNDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5zaGFwZXMuYWRkVG9ydXModG9ydXNDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgZXh0cnVkZTogKGV4dHJ1ZGVDb25maWcsIG1hdGVyaWFsQ29uZmlnID0ge30pID0+IHRoaXMuc2hhcGVzLmFkZEV4dHJ1ZGUoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBSYXljYXN0ZXJcclxuICAgICAgICAgICAgICogQHBhcmFtIHR5cGUgUmV0dXJucyBvbmx5IHRoZSBjbG9zZXMgYm9keSBieSBkZWZhdWx0LiBDYW4gYmUgJ2Nsb3Nlc3QnIG9yICdhbGxIaXRzJy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHJheWNhc3RlcjogKHR5cGUgPSAnY2xvc2VzdCcpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnY2xvc2VzdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyByYXljYXN0ZXJfMS5DbG9zZXN0UmF5Y2FzdGVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcmF5Y2FzdGVyXzEuQWxsSGl0c1JheWNhc3Rlcih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBwcmVwYXJlVGhyZWVPYmplY3RGb3JDb2xsaXNpb25TaGFwZShvYmplY3QsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICBjb25zdCB7IGF1dG9DZW50ZXIgPSBmYWxzZSB9ID0gY29uZmlnO1xyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IHBhcmFtc1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIGRlcHRoOiAxLFxyXG4gICAgICAgICAgICByYWRpdXM6IDEsXHJcbiAgICAgICAgICAgIHJhZGl1c1RvcDogMSxcclxuICAgICAgICAgICAgcmFkaXVzQm90dG9tOiAxLFxyXG4gICAgICAgICAgICB0dWJlOiAwLjQsXHJcbiAgICAgICAgICAgIHR1YnVsYXJTZWdtZW50czogNiAvLyBmb3IgdGhlIHRvcnVzXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHNoYXBlIChmYWxsYmFjayB0byBoYWNkKVxyXG4gICAgICAgIGxldCBzaGFwZSA9ICd1bmtub3duJztcclxuICAgICAgICAvLyByZXRyaWV2ZSB0aGUgc2hhcGUgZnJvbSB0aGUgZ2VvbWV0cnlcclxuICAgICAgICBjb25zdCB0eXBlID0gKChfYSA9IG9iamVjdC5nZW9tZXRyeSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnR5cGUpIHx8ICd1bmtub3duJztcclxuICAgICAgICBpZiAoL2JveC9pLnRlc3QodHlwZSkpXHJcbiAgICAgICAgICAgIHNoYXBlID0gJ2JveCc7XHJcbiAgICAgICAgZWxzZSBpZiAoL2NvbmUvaS50ZXN0KHR5cGUpKVxyXG4gICAgICAgICAgICBzaGFwZSA9ICdjb25lJztcclxuICAgICAgICBlbHNlIGlmICgvY3lsaW5kZXIvaS50ZXN0KHR5cGUpKVxyXG4gICAgICAgICAgICBzaGFwZSA9ICdjeWxpbmRlcic7XHJcbiAgICAgICAgZWxzZSBpZiAoL2V4dHJ1ZGUvaS50ZXN0KHR5cGUpKVxyXG4gICAgICAgICAgICBzaGFwZSA9ICdleHRydWRlJztcclxuICAgICAgICBlbHNlIGlmICgvcGxhbmUvaS50ZXN0KHR5cGUpKVxyXG4gICAgICAgICAgICBzaGFwZSA9ICdwbGFuZSc7XHJcbiAgICAgICAgZWxzZSBpZiAoL3NwaGVyZS9pLnRlc3QodHlwZSkpXHJcbiAgICAgICAgICAgIHNoYXBlID0gJ3NwaGVyZSc7XHJcbiAgICAgICAgZWxzZSBpZiAoL3RvcnVzL2kudGVzdCh0eXBlKSlcclxuICAgICAgICAgICAgc2hhcGUgPSAndG9ydXMnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBsZXQgcGFyYW1zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UGFyYW1zKSwgKF9iID0gb2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqZWN0Lmdlb21ldHJ5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGFyYW1ldGVycyk7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5zaGFwZSkge1xyXG4gICAgICAgICAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRQYXJhbXMpLCBjb25maWcpO1xyXG4gICAgICAgICAgICBzaGFwZSA9IGNvbmZpZy5zaGFwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2JqZWN0LnNoYXBlKSB7XHJcbiAgICAgICAgICAgIHNoYXBlID0gb2JqZWN0LnNoYXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgYWxsIGRlZmF1bHQgcGFyYW1zIGlmIHVuZGVmaW5lZFxyXG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zW2tleV0gPT09ICd1bmRlZmluZWQnICYmIGRlZmF1bHRQYXJhbXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgcGFyYW1zW2tleV0gPSBkZWZhdWx0UGFyYW1zW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBhdXRvIGFkanVzdCB0aGUgY2VudGVyIGZvciBjdXN0b20gc2hhcGVzXHJcbiAgICAgICAgaWYgKGF1dG9DZW50ZXIpXHJcbiAgICAgICAgICAgIG9iamVjdC5nZW9tZXRyeS5jZW50ZXIoKTtcclxuICAgICAgICAvLyBhZGp1c3QgdGhlIGN5bGluZGVyIHJhZGl1cyBmb3IgaXRzIHBoeXNjaXMgYm9keVxyXG4gICAgICAgIGlmIChzaGFwZSA9PT0gJ2N5bGluZGVyJylcclxuICAgICAgICAgICAgcGFyYW1zLnJhZGl1cyA9IGNvbmZpZy5yYWRpdXMgfHwgcGFyYW1zLnJhZGl1c1RvcDtcclxuICAgICAgICAvLyBzb21lIGFsaWFzZXNcclxuICAgICAgICBpZiAoc2hhcGUgPT09ICdleHRydWRlJylcclxuICAgICAgICAgICAgc2hhcGUgPSAnaGFjZCc7XHJcbiAgICAgICAgaWYgKHNoYXBlID09PSAnbWVzaCcgfHwgc2hhcGUgPT09ICdjb252ZXgnKVxyXG4gICAgICAgICAgICBzaGFwZSA9ICdjb252ZXhNZXNoJztcclxuICAgICAgICBpZiAoc2hhcGUgPT09ICdjb25jYXZlJylcclxuICAgICAgICAgICAgc2hhcGUgPSAnY29uY2F2ZU1lc2gnO1xyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgbm90IGZvdW5kIGEgc2hhcGUgdW50aWwgaGVyZSwgd2UgZmFsbGJhY2sgdG8gJ2JveCdcclxuICAgICAgICBpZiAoc2hhcGUgPT09ICd1bmtub3duJykge1xyXG4gICAgICAgICAgICBsb2dnZXJfMS5kZWZhdWx0KGBTaGFwZSBmb3IgJHtvYmplY3QgPT09IG51bGwgfHwgb2JqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmplY3QubmFtZX0gbm90IHJlY29nbml6ZWQhIFdpbGwgZmFsbGJhY2sgdG8gYm94LmApO1xyXG4gICAgICAgICAgICBzaGFwZSA9ICdib3gnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBzaGFwZSwgcGFyYW1zLCBvYmplY3QgfTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNvbGxpc2lvblNoYXBlKHNoYXBlLCBwYXJhbXMsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IHF1YXQgPSAob2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqZWN0LnF1YXRlcm5pb24pID8gb2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqZWN0LnF1YXRlcm5pb24gOiBuZXcgaW5kZXhfMS5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xyXG4gICAgICAgIGNvbnN0IHsgYXhpcyA9ICd5JyB9ID0gcGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGJ0SGFsZkV4dGVudHMgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICAvLyB0cmFuc2Zvcm0gZ2VvbWV0cnkgdG8gYnVmZmVyR2VvbWV0cnkgKGJlY2F1c2UgdGhyZWUtdG8tYW1tbyB3b3JrcyBvbmx5IHdpdGggYnVmZmVyR2VvbWV0cnkpXHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBvYmplY3QgPT09IG51bGwgfHwgb2JqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmplY3QuZ2VvbWV0cnk7XHJcbiAgICAgICAgaWYgKG9iamVjdCAmJiAoZ2VvbWV0cnkgPT09IG51bGwgfHwgZ2VvbWV0cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdlb21ldHJ5LmlzR2VvbWV0cnkpKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5nZW9tZXRyeSA9IG5ldyBpbmRleF8xLkJ1ZmZlckdlb21ldHJ5KCkuZnJvbUdlb21ldHJ5KGdlb21ldHJ5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJlcGFyZSBkYXRhIHRvIHBhc3MgdG8gdGhyZWUtdG8tYW1tby5qc1xyXG4gICAgICAgIGNvbnN0IGV4dHJhY3REYXRhID0gKG9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRyaXhXb3JsZCA9IG5ldyBpbmRleF8xLk1hdHJpeDQoKS5lbGVtZW50cztcclxuICAgICAgICAgICAgY29uc3QgdmVydGljZXMgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgbWF0cmljZXMgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXhlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aHJlZV90b19hbW1vXzEuaXRlcmF0ZUdlb21ldHJpZXMob2JqZWN0LCB7fSwgKHZlcnRleEFycmF5LCBtYXRyaXhBcnJheSwgaW5kZXhBcnJheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXhBcnJheSk7XHJcbiAgICAgICAgICAgICAgICBtYXRyaWNlcy5wdXNoKG1hdHJpeEFycmF5KTtcclxuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleEFycmF5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZlcnRpY2VzLCBtYXRyaWNlcywgaW5kZXhlcywgbWF0cml4V29ybGQgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBkID0ge307XHJcbiAgICAgICAgLy8gZXh0cmFjdCBkYXRhIGZvciBjb21wbGV4IHNoYXBlcyBnZW5lcmF0ZWQgd2l0aCB0aHJlZS10by1hbW1vLmpzXHJcbiAgICAgICAgaWYgKHRoaXMuY29tcGxleFNoYXBlcy5pbmRleE9mKHNoYXBlKSA+IDApXHJcbiAgICAgICAgICAgIGQgPSBleHRyYWN0RGF0YShvYmplY3QpO1xyXG4gICAgICAgIGxldCBjb2xsaXNpb25TaGFwZTtcclxuICAgICAgICBzd2l0Y2ggKHNoYXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JveCc6XHJcbiAgICAgICAgICAgICAgICBidEhhbGZFeHRlbnRzLnNldFZhbHVlKHBhcmFtcy53aWR0aCAvIDIsIHBhcmFtcy5oZWlnaHQgLyAyLCBwYXJhbXMuZGVwdGggLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRCb3hTaGFwZShidEhhbGZFeHRlbnRzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzcGhlcmUnOlxyXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idFNwaGVyZVNoYXBlKHBhcmFtcy5yYWRpdXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2N5bGluZGVyJzpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3knOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidEhhbGZFeHRlbnRzLnNldFZhbHVlKHBhcmFtcy5yYWRpdXMsIHBhcmFtcy5oZWlnaHQgLyAyLCBwYXJhbXMucmFkaXVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idEN5bGluZGVyU2hhcGUoYnRIYWxmRXh0ZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidEhhbGZFeHRlbnRzLnNldFZhbHVlKHBhcmFtcy5oZWlnaHQgLyAyLCBwYXJhbXMucmFkaXVzLCBwYXJhbXMucmFkaXVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idEN5bGluZGVyU2hhcGVYKGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRIYWxmRXh0ZW50cy5zZXRWYWx1ZShwYXJhbXMucmFkaXVzLCBwYXJhbXMucmFkaXVzLCBwYXJhbXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRDeWxpbmRlclNoYXBlWihidEhhbGZFeHRlbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY29uZSc6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd5JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idENvbmVTaGFwZShwYXJhbXMucmFkaXVzLCBwYXJhbXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRDb25lU2hhcGVYKHBhcmFtcy5yYWRpdXMsIHBhcmFtcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idENvbmVTaGFwZVoocGFyYW1zLnJhZGl1cywgcGFyYW1zLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NhcHN1bGUnOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChheGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRDYXBzdWxlU2hhcGUocGFyYW1zLnJhZGl1cywgcGFyYW1zLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IG5ldyBBbW1vLmJ0Q2Fwc3VsZVNoYXBlWChwYXJhbXMucmFkaXVzLCBwYXJhbXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRDYXBzdWxlU2hhcGVaKHBhcmFtcy5yYWRpdXMsIHBhcmFtcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3J1cyc6XHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IHRvcnVzU2hhcGVfMS5jcmVhdGVUb3J1c1NoYXBlKHBhcmFtcywgcXVhdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGxhbmUnOlxyXG4gICAgICAgICAgICAgICAgLy8gdXNlcyBhIHRyaU1lc2hTaGFwZSBmb3IgdGhlIHBsYW5lXHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IHRocmVlX3RvX2FtbW9fMS5jcmVhdGVUcmlNZXNoU2hhcGUoZC52ZXJ0aWNlcywgZC5tYXRyaWNlcywgZC5pbmRleGVzLCBkLm1hdHJpeFdvcmxkLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcyksIHsgY29uY2F2ZTogZmFsc2UgfSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h1bGwnOlxyXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSB0aHJlZV90b19hbW1vXzEuY3JlYXRlSHVsbFNoYXBlKGQudmVydGljZXMsIGQubWF0cmljZXMsIGQubWF0cml4V29ybGQsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaGFjZCc6XHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IHRocmVlX3RvX2FtbW9fMS5jcmVhdGVIQUNEU2hhcGVzKGQudmVydGljZXMsIGQubWF0cmljZXMsIGQuaW5kZXhlcywgZC5tYXRyaXhXb3JsZCwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd2aGFjZCc6XHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IHRocmVlX3RvX2FtbW9fMS5jcmVhdGVWSEFDRFNoYXBlcyhkLnZlcnRpY2VzLCBkLm1hdHJpY2VzLCBkLmluZGV4ZXMsIGQubWF0cml4V29ybGQsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY29udmV4TWVzaCc6XHJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZSA9IHRocmVlX3RvX2FtbW9fMS5jcmVhdGVUcmlNZXNoU2hhcGUoZC52ZXJ0aWNlcywgZC5tYXRyaWNlcywgZC5pbmRleGVzLCBkLm1hdHJpeFdvcmxkLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcyksIHsgY29uY2F2ZTogZmFsc2UgfSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbmNhdmVNZXNoJzpcclxuICAgICAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gdGhyZWVfdG9fYW1tb18xLmNyZWF0ZVRyaU1lc2hTaGFwZShkLnZlcnRpY2VzLCBkLm1hdHJpY2VzLCBkLmluZGV4ZXMsIGQubWF0cml4V29ybGQsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKSwgeyBjb25jYXZlOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBbW1vLmRlc3Ryb3koYnRIYWxmRXh0ZW50cyk7XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSB4LCB5IG9yIHosIHRha2UgaXMgYXMgdGVtcG9yYXJ5IG9mZnNldCBwYXJhbWV0ZXJcclxuICAgICAgICBjb25zdCB7IHgsIHksIHogfSA9IHBhcmFtcztcclxuICAgICAgICBpZiAoeCB8fCB5IHx8IHopIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb2xsaXNpb25TaGFwZS5vZmZzZXQgPSB7IHg6IHggfHwgMCwgeTogeSB8fCAwLCB6OiB6IHx8IDAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gc29tZSBjYXNlcywgbGlrZSBoYWNkLCBpdCB3aWxsIGJlIGFuIGFycmF5IG9mIHNoYXBlc1xyXG4gICAgICAgIC8vIHNvIHdlIG1lcmdlIHRoZW1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xsaXNpb25TaGFwZSkpXHJcbiAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlID0gdGhpcy5tZXJnZUNvbGxpc2lvblNoYXBlc1RvQ29tcG91bmRTaGFwZShjb2xsaXNpb25TaGFwZSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvblNoYXBlO1xyXG4gICAgfVxyXG4gICAgbWVyZ2VDb2xsaXNpb25TaGFwZXNUb0NvbXBvdW5kU2hhcGUoY29sbGlzaW9uU2hhcGVzKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG91bmRTaGFwZSA9IG5ldyBBbW1vLmJ0Q29tcG91bmRTaGFwZSgpO1xyXG4gICAgICAgIGNvbGxpc2lvblNoYXBlcy5mb3JFYWNoKHNoYXBlID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCB7IG9mZnNldCB9ID0gc2hhcGU7IC8vIG9mZnNldCBpcyBhIGN1c3RvbSBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtLnNldElkZW50aXR5KCk7XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQpXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uZ2V0T3JpZ2luKCkuc2V0VmFsdWUob2Zmc2V0LnggfHwgMCwgb2Zmc2V0LnkgfHwgMCwgb2Zmc2V0LnogfHwgMCk7XHJcbiAgICAgICAgICAgIGNvbXBvdW5kU2hhcGUuYWRkQ2hpbGRTaGFwZSh0cmFuc2Zvcm0sIHNoYXBlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY29tcG91bmRTaGFwZTtcclxuICAgIH1cclxuICAgIGFkZEV4aXN0aW5nKG9iamVjdCwgY29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGhhc0JvZHkgfSA9IG9iamVjdDtcclxuICAgICAgICBpZiAoaGFzQm9keSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFtFbmFibGUzZF06IE9iamVjdCBcIiR7b2JqZWN0Lm5hbWV9XCIgYWxyZWFkeSBoYXMgYSBwaHlzaWNhbCBib2R5IWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBvcyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBxdWF0ID0gbmV3IGluZGV4XzEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgICAgIG9iamVjdC5nZXRXb3JsZFBvc2l0aW9uKHBvcyk7XHJcbiAgICAgICAgb2JqZWN0LmdldFdvcmxkUXVhdGVybmlvbihxdWF0KTtcclxuICAgICAgICBvYmplY3QuZ2V0V29ybGRTY2FsZShzY2FsZSk7XHJcbiAgICAgICAgY29uc3QgaXNTdGF0aWNPYmplY3QgPSAoY29uZmlnLmNvbGxpc2lvbkZsYWdzIHx8IDApLnRvU3RyaW5nKDIpLnNsaWNlKC0xKSA9PT0gJzEnO1xyXG4gICAgICAgIGNvbnN0IGlzS2luZW1hdGljT2JqZWN0ID0gKGNvbmZpZy5jb2xsaXNpb25GbGFncyB8fCAwKS50b1N0cmluZygyKS5zbGljZSgtMiwgLTEpID09PSAnMSc7XHJcbiAgICAgICAgY29uc3QgeyBzaGFwZSA9ICd1bmtub3duJywgY29tcG91bmQgPSBbXSwgbWFzcyA9IGlzU3RhdGljT2JqZWN0IHx8IGlzS2luZW1hdGljT2JqZWN0ID8gMCA6IDEsIC8vIHNldCBkZWZhdWx0IG1hc3Mgb2YgMCBmb3Igc3RhdGljIG9iamVjdHMsIGFuZCAxIGZvciBhbGwgb3RoZXIgb2JqZWN0c1xyXG4gICAgICAgIGNvbGxpc2lvbkZsYWdzID0gMCwgY29sbGlzaW9uR3JvdXAgPSAxLCBjb2xsaXNpb25NYXNrID0gLTEsIG9mZnNldCA9IHVuZGVmaW5lZCwgYnJlYWthYmxlID0gZmFsc2UsIGFkZENoaWxkcmVuID0gdHJ1ZSwgbWFyZ2luID0gMC4wMSwgaWdub3JlU2NhbGUgPSBmYWxzZSB9ID0gY29uZmlnO1xyXG4gICAgICAgIGlmIChpZ25vcmVTY2FsZSlcclxuICAgICAgICAgICAgc2NhbGUuc2V0KDEsIDEsIDEpO1xyXG4gICAgICAgIGlmIChjb21wb3VuZC5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSB3YW50IGEgY3VzdG9tIGNvbXBvdW5kIHNoYXBlLCB3ZSBzaW1wbHkgZG9cclxuICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uU2hhcGVzID0gY29tcG91bmQubWFwKChzKSA9PiB0aGlzLmNyZWF0ZUNvbGxpc2lvblNoYXBlKHMuc2hhcGUsIHMpKTtcclxuICAgICAgICAgICAgY29uc3QgY29tcG91bmRTaGFwZSA9IHRoaXMubWVyZ2VDb2xsaXNpb25TaGFwZXNUb0NvbXBvdW5kU2hhcGUoY29sbGlzaW9uU2hhcGVzKTtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSB0aGlzLmZpbmlzaENvbGxpc2lvblNoYXBlKGNvbXBvdW5kU2hhcGUsIHBvcywgcXVhdCwgc2NhbGUsIG1hcmdpbik7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2lkQm9keSA9IHRoaXMuY29sbGlzaW9uU2hhcGVUb1JpZ2lkQm9keShjb21wb3VuZFNoYXBlLCBsb2NhbFRyYW5zZm9ybSwgbWFzcywgaXNLaW5lbWF0aWNPYmplY3QpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFJpZ2lkQm9keVRvV29ybGQob2JqZWN0LCByaWdpZEJvZHksIGNvbGxpc2lvbkZsYWdzLCBjb2xsaXNpb25Hcm91cCwgY29sbGlzaW9uTWFzaywgYnJlYWthYmxlLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBvYmplY3QuYm9keS5pZ25vcmVTY2FsZSA9IGlnbm9yZVNjYWxlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbGxpc2lvblNoYXBlcyA9IFtdO1xyXG4gICAgICAgIC8vIGlmIG9iamVjdCBpcyBhIFRIUkVFLkdyb3VwLCBvYmplY3QgZG9lcyBub3QgaGF2ZSBhIG1lc2hcclxuICAgICAgICBpZiAoc2hhcGUgIT09ICd1bmtub3duJyB8fCBvYmplY3QuaXNNZXNoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnByZXBhcmVUaHJlZU9iamVjdEZvckNvbGxpc2lvblNoYXBlKG9iamVjdCwgY29uZmlnKTtcclxuICAgICAgICAgICAgY29uc3QgY3MgPSB0aGlzLmNyZWF0ZUNvbGxpc2lvblNoYXBlKHAuc2hhcGUsIHAucGFyYW1zLCBwLm9iamVjdCk7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlcy5wdXNoKGNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIG9iamVjdCBoYXMgY2hpbGRyZW5cclxuICAgICAgICBpZiAoc2hhcGUgPT09ICd1bmtub3duJyAmJiBhZGRDaGlsZHJlbiAmJiBvYmplY3QuY2hpbGRyZW4ubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNNZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMucHJlcGFyZVRocmVlT2JqZWN0Rm9yQ29sbGlzaW9uU2hhcGUoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gdGhpcy5jcmVhdGVDb2xsaXNpb25TaGFwZShwLnNoYXBlLCBwLnBhcmFtcywgcC5vYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBjcy5vZmZzZXQgPSBjaGlsZC5wb3NpdGlvbi5jbG9uZSgpOyAvLyB0aGlzIGlzIHJlbGF0aXZlIHBvc2l0aW9uIHRvIGl0cyBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TaGFwZXMucHVzaChjcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGQUxMQkFDSzogaWYgd2UgZG8gbm90IGhhdmUgYW55IGNvbGxpc2lvblNoYXBlcyB5ZXQsIGFkZCBhIHNpbXBsZSBib3ggYXMgYSBmYWxsYmFja1xyXG4gICAgICAgIGlmIChjb2xsaXNpb25TaGFwZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnByZXBhcmVUaHJlZU9iamVjdEZvckNvbGxpc2lvblNoYXBlKG9iamVjdCwgY29uZmlnKTtcclxuICAgICAgICAgICAgY29uc3QgY3MgPSB0aGlzLmNyZWF0ZUNvbGxpc2lvblNoYXBlKHAuc2hhcGUsIHAucGFyYW1zLCBwLm9iamVjdCk7XHJcbiAgICAgICAgICAgIGNvbGxpc2lvblNoYXBlcy5wdXNoKGNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSBjb2xsaXNpb25TaGFwZXMubGVuZ3RoID09PSAxID8gY29sbGlzaW9uU2hhcGVzWzBdIDogdGhpcy5tZXJnZUNvbGxpc2lvblNoYXBlc1RvQ29tcG91bmRTaGFwZShjb2xsaXNpb25TaGFwZXMpO1xyXG4gICAgICAgIC8vIGFkZCByaWdpZCBib2R5XHJcbiAgICAgICAgLy8gb2JqZWN0LnBvc2l0aW9uLmNvcHkocG9zKVxyXG4gICAgICAgIC8vIG9iamVjdC5xdWF0ZXJuaW9uLmNvcHkocXVhdClcclxuICAgICAgICBjb25zdCBsb2NhbFRyYW5zZm9ybSA9IHRoaXMuZmluaXNoQ29sbGlzaW9uU2hhcGUoY29sbGlzaW9uU2hhcGUsIHBvcywgcXVhdCwgc2NhbGUsIG1hcmdpbik7XHJcbiAgICAgICAgY29uc3QgcmlnaWRCb2R5ID0gdGhpcy5jb2xsaXNpb25TaGFwZVRvUmlnaWRCb2R5KGNvbGxpc2lvblNoYXBlLCBsb2NhbFRyYW5zZm9ybSwgbWFzcywgaXNLaW5lbWF0aWNPYmplY3QpO1xyXG4gICAgICAgIHRoaXMuYWRkUmlnaWRCb2R5VG9Xb3JsZChvYmplY3QsIHJpZ2lkQm9keSwgY29sbGlzaW9uRmxhZ3MsIGNvbGxpc2lvbkdyb3VwLCBjb2xsaXNpb25NYXNrLCBicmVha2FibGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2JqZWN0LmJvZHkuaWdub3JlU2NhbGUgPSBpZ25vcmVTY2FsZTtcclxuICAgIH1cclxuICAgIGFkZFJpZ2lkQm9keVRvV29ybGQob2JqZWN0LCByaWdpZEJvZHksIGNvbGxpc2lvbkZsYWdzLCBjb2xsaXNpb25Hcm91cCwgY29sbGlzaW9uTWFzaywgYnJlYWthYmxlLCBvZmZzZXQpIHtcclxuICAgICAgICB0aGlzLnJpZ2lkQm9kaWVzLnB1c2gob2JqZWN0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3NXb3JsZC5hZGRSaWdpZEJvZHkocmlnaWRCb2R5LCBjb2xsaXNpb25Hcm91cCwgY29sbGlzaW9uTWFzayk7XHJcbiAgICAgICAgY29uc3QgcHRyID0gT2JqZWN0LnZhbHVlcyhyaWdpZEJvZHkpWzBdO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICByaWdpZEJvZHkubmFtZSA9IG9iamVjdC5uYW1lO1xyXG4gICAgICAgIG9iamVjdC5ib2R5ID0gbmV3IHBoeXNpY3NCb2R5XzEuZGVmYXVsdCh0aGlzLCByaWdpZEJvZHkpO1xyXG4gICAgICAgIG9iamVjdC5oYXNCb2R5ID0gdHJ1ZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgb2JqZWN0LnB0ciA9IHB0cjtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmlnaWRCb2R5LnRocmVlT2JqZWN0ID0gb2JqZWN0O1xyXG4gICAgICAgIGlmIChicmVha2FibGUpXHJcbiAgICAgICAgICAgIG9iamVjdC5ib2R5LmJyZWFrYWJsZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKG9mZnNldClcclxuICAgICAgICAgICAgb2JqZWN0LmJvZHkub2Zmc2V0ID0gT2JqZWN0LmFzc2lnbih7IHg6IDAsIHk6IDAsIHo6IDAgfSwgb2Zmc2V0KTtcclxuICAgICAgICBvYmplY3QuYm9keS5zZXRDb2xsaXNpb25GbGFncyhjb2xsaXNpb25GbGFncyk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2hDb2xsaXNpb25TaGFwZShjb2xsaXNpb25TaGFwZSwgcG9zLCBxdWF0LCBzY2FsZSwgbWFyZ2luKSB7XHJcbiAgICAgICAgY29sbGlzaW9uU2hhcGUuc2V0TWFyZ2luKG1hcmdpbik7XHJcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSBuZXcgQW1tby5idFF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XHJcbiAgICAgICAgcm90YXRpb24uc2V0VmFsdWUocXVhdC54LCBxdWF0LnksIHF1YXQueiwgcXVhdC53KTtcclxuICAgICAgICBjb25zdCBsb2NhbFRyYW5zZm9ybSA9IG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgbG9jYWxUcmFuc2Zvcm0uc2V0SWRlbnRpdHkoKTtcclxuICAgICAgICBsb2NhbFRyYW5zZm9ybS5nZXRPcmlnaW4oKS5zZXRWYWx1ZShwb3MueCwgcG9zLnksIHBvcy56KTtcclxuICAgICAgICBsb2NhbFRyYW5zZm9ybS5zZXRSb3RhdGlvbihyb3RhdGlvbik7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KHJvdGF0aW9uKTtcclxuICAgICAgICBjb25zdCBsb2NhbFNjYWxlID0gbmV3IEFtbW8uYnRWZWN0b3IzKHNjYWxlLngsIHNjYWxlLnksIHNjYWxlLnopO1xyXG4gICAgICAgIGNvbGxpc2lvblNoYXBlLnNldExvY2FsU2NhbGluZyhsb2NhbFNjYWxlKTtcclxuICAgICAgICBBbW1vLmRlc3Ryb3kobG9jYWxTY2FsZSk7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsVHJhbnNmb3JtO1xyXG4gICAgfVxyXG4gICAgY29sbGlzaW9uU2hhcGVUb1JpZ2lkQm9keShjb2xsaXNpb25TaGFwZSwgbG9jYWxUcmFuc2Zvcm0sIG1hc3MsIGRpc2FibGVEZWFjdGl2YXRpb24pIHtcclxuICAgICAgICBjb25zdCBtb3Rpb25TdGF0ZSA9IG5ldyBBbW1vLmJ0RGVmYXVsdE1vdGlvblN0YXRlKGxvY2FsVHJhbnNmb3JtKTtcclxuICAgICAgICBjb25zdCBsb2NhbEluZXJ0aWEgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICAgICAgaWYgKG1hc3MgPiAwKVxyXG4gICAgICAgICAgICBjb2xsaXNpb25TaGFwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgbG9jYWxJbmVydGlhKTtcclxuICAgICAgICBjb25zdCByYkluZm8gPSBuZXcgQW1tby5idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8obWFzcywgbW90aW9uU3RhdGUsIGNvbGxpc2lvblNoYXBlLCBsb2NhbEluZXJ0aWEpO1xyXG4gICAgICAgIGNvbnN0IHJpZ2lkQm9keSA9IG5ldyBBbW1vLmJ0UmlnaWRCb2R5KHJiSW5mbyk7XHJcbiAgICAgICAgaWYgKG1hc3MgPiAwIHx8IGRpc2FibGVEZWFjdGl2YXRpb24pXHJcbiAgICAgICAgICAgIHJpZ2lkQm9keS5zZXRBY3RpdmF0aW9uU3RhdGUoNCk7IC8vIERpc2FibGUgZGVhY3RpdmF0aW9uXHJcbiAgICAgICAgcmV0dXJuIHJpZ2lkQm9keTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkFtbW9QaHlzaWNzID0gQW1tb1BoeXNpY3M7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBoeXNpY3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNsYXNzIEFsbEhpdHNSYXlSZXN1bHRDYWxsYmFjayB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzKSB7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzID0gcGh5c2ljcztcclxuICAgIH1cclxuICAgIGdldEhpdFBvaW50c1dvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLl9idFJheUNhbGxiYWNrLmdldF9tX2hpdFBvaW50V29ybGQoKTtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gaC5zaXplKCkgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBoaCA9IGguYXQoaSk7XHJcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHsgeDogaGgueCgpLCB5OiBoaC55KCksIHo6IGhoLnooKSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvaW50cztcclxuICAgIH1cclxuICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIGluIGZ1dHVyZSB2ZXJzaW9ucyFcclxuICAgIGdldEhpdFBvaW50V29ybGQoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbZW5hYmxlM2RdIFVzZSBnZXRIaXRQb2ludHNXb3JsZCgpIGluc3RlYWQgb2YgZ2V0SGl0UG9pbnRXb3JsZCgpIGZvciB0aGUgQWxsSGl0c1JheUNhc3RlciEnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRIaXRQb2ludHNXb3JsZCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0SGl0Tm9ybWFsc1dvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLl9idFJheUNhbGxiYWNrLmdldF9tX2hpdE5vcm1hbFdvcmxkKCk7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFscyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBoLnNpemUoKSAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhoID0gaC5hdChpKTtcclxuICAgICAgICAgICAgbm9ybWFscy5wdXNoKHsgeDogaGgueCgpLCB5OiBoaC55KCksIHo6IGhoLnooKSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vcm1hbHM7XHJcbiAgICB9XHJcbiAgICBnZXRDb2xsaXNpb25PYmplY3RzKCkge1xyXG4gICAgICAgIGNvbnN0IHRocmVlT2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLl9idFJheUNhbGxiYWNrLmdldF9tX2NvbGxpc2lvbk9iamVjdHMoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gb2JqZWN0cy5zaXplKCkgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHJiID0gQW1tby5jYXN0T2JqZWN0KG9iamVjdHMuYXQoaSksIEFtbW8uYnRSaWdpZEJvZHkpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHRocmVlT2JqZWN0cy5wdXNoKHJiLnRocmVlT2JqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRocmVlT2JqZWN0cztcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBBbGxIaXRzUmF5UmVzdWx0Q2FsbGJhY2s7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFsbEhpdHNSYXlSZXN1bHRDYWxsYmFjay5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY2xhc3MgQ2xvc2VzdFJheVJlc3VsdENhbGxiYWNrIHtcclxuICAgIGNvbnN0cnVjdG9yKHBoeXNpY3MpIHtcclxuICAgICAgICB0aGlzLnBoeXNpY3MgPSBwaHlzaWNzO1xyXG4gICAgfVxyXG4gICAgZ2V0SGl0UG9pbnRXb3JsZCgpIHtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5fYnRSYXlDYWxsYmFjay5nZXRfbV9oaXRQb2ludFdvcmxkKCk7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IGgueCgpLCB5OiBoLnkoKSwgejogaC56KCkgfTtcclxuICAgICAgICByZXR1cm4gcG9pbnQ7XHJcbiAgICB9XHJcbiAgICBnZXRIaXROb3JtYWxXb3JsZCgpIHtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5fYnRSYXlDYWxsYmFjay5nZXRfbV9oaXROb3JtYWxXb3JsZCgpO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IHsgeDogaC54KCksIHk6IGgueSgpLCB6OiBoLnooKSB9O1xyXG4gICAgICAgIHJldHVybiBub3JtYWw7XHJcbiAgICB9XHJcbiAgICBnZXRDb2xsaXNpb25PYmplY3QoKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IHJiID0gQW1tby5jYXN0T2JqZWN0KHRoaXMuX2J0UmF5Q2FsbGJhY2suZ2V0X21fY29sbGlzaW9uT2JqZWN0KCksIEFtbW8uYnRSaWdpZEJvZHkpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICByZXR1cm4gcmIudGhyZWVPYmplY3Q7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvc2VzdFJheVJlc3VsdENhbGxiYWNrO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbG9zZXN0UmF5UmVzdWx0Q2FsbGJhY2suanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQWxsSGl0c1JheWNhc3RlciA9IGV4cG9ydHMuQ2xvc2VzdFJheWNhc3RlciA9IHZvaWQgMDtcclxuY29uc3QgYXBwbHlNaXhpbnNfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvYXBwbHlNaXhpbnNcIik7XHJcbmNvbnN0IGNsb3Nlc3RSYXlSZXN1bHRDYWxsYmFja18xID0gcmVxdWlyZShcIi4vY2xvc2VzdFJheVJlc3VsdENhbGxiYWNrXCIpO1xyXG5jb25zdCBhbGxIaXRzUmF5UmVzdWx0Q2FsbGJhY2tfMSA9IHJlcXVpcmUoXCIuL2FsbEhpdHNSYXlSZXN1bHRDYWxsYmFja1wiKTtcclxuY2xhc3MgUmF5Y2FzdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHBoeXNpY3MpIHtcclxuICAgICAgICB0aGlzLnBoeXNpY3MgPSBwaHlzaWNzO1xyXG4gICAgfVxyXG4gICAgc2V0UmF5RnJvbVdvcmxkKHggPSAwLCB5ID0gMCwgeiA9IDApIHtcclxuICAgICAgICB0aGlzLl9idFJheUZyb20uc2V0VmFsdWUoeCwgeSwgeik7XHJcbiAgICB9XHJcbiAgICBzZXRSYXlUb1dvcmxkKHggPSAwLCB5ID0gMCwgeiA9IDApIHtcclxuICAgICAgICB0aGlzLl9idFJheVRvLnNldFZhbHVlKHgsIHksIHopO1xyXG4gICAgfVxyXG4gICAgaGFzSGl0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idFJheUNhbGxiYWNrLmhhc0hpdCgpO1xyXG4gICAgfVxyXG4gICAgcmF5VGVzdCgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2J0UmF5Q2FsbGJhY2sgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5fYnRSYXlDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5fYnRSYXlDYWxsYmFjayA9XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9PT0gJ2Nsb3Nlc3QnXHJcbiAgICAgICAgICAgICAgICA/IG5ldyBBbW1vLkNsb3Nlc3RSYXlSZXN1bHRDYWxsYmFjayh0aGlzLl9idFJheUZyb20sIHRoaXMuX2J0UmF5VG8pXHJcbiAgICAgICAgICAgICAgICA6IG5ldyBBbW1vLkFsbEhpdHNSYXlSZXN1bHRDYWxsYmFjayh0aGlzLl9idFJheUZyb20sIHRoaXMuX2J0UmF5VG8pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5waHlzaWNzV29ybGQucmF5VGVzdCh0aGlzLl9idFJheUZyb20sIHRoaXMuX2J0UmF5VG8sIHRoaXMuX2J0UmF5Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2J0UmF5RnJvbSAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLl9idFJheUZyb20pO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fYnRSYXlUbyAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLl9idFJheVRvKTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2J0UmF5Q2FsbGJhY2sgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5fYnRSYXlDYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgQ2xvc2VzdFJheWNhc3RlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzKSB7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzID0gcGh5c2ljcztcclxuICAgICAgICB0aGlzLnR5cGUgPSAnY2xvc2VzdCc7XHJcbiAgICAgICAgdGhpcy5fYnRSYXlGcm9tID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuX2J0UmF5VG8gPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5DbG9zZXN0UmF5Y2FzdGVyID0gQ2xvc2VzdFJheWNhc3RlcjtcclxuY2xhc3MgQWxsSGl0c1JheWNhc3RlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzKSB7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzID0gcGh5c2ljcztcclxuICAgICAgICB0aGlzLnR5cGUgPSAnYWxsSGl0cyc7XHJcbiAgICAgICAgdGhpcy5fYnRSYXlGcm9tID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuX2J0UmF5VG8gPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5BbGxIaXRzUmF5Y2FzdGVyID0gQWxsSGl0c1JheWNhc3RlcjtcclxuYXBwbHlNaXhpbnNfMS5kZWZhdWx0KENsb3Nlc3RSYXljYXN0ZXIsIFtSYXljYXN0ZXIsIGNsb3Nlc3RSYXlSZXN1bHRDYWxsYmFja18xLmRlZmF1bHRdKTtcclxuYXBwbHlNaXhpbnNfMS5kZWZhdWx0KEFsbEhpdHNSYXljYXN0ZXIsIFtSYXljYXN0ZXIsIGFsbEhpdHNSYXlSZXN1bHRDYWxsYmFja18xLmRlZmF1bHRdKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmF5Y2FzdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jbGFzcyBTaGFwZXMge1xyXG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSwgYWRkRXhpc3RpbmcpIHtcclxuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3RpbmcgPSBhZGRFeGlzdGluZztcclxuICAgIH1cclxuICAgIGFkZFBsYW5lKHBsYW5lQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBwbGFuZSA9IHRoaXMuZmFjdG9yeS5hZGQucGxhbmUocGxhbmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKHBsYW5lLCBwbGFuZUNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIHBsYW5lO1xyXG4gICAgfVxyXG4gICAgYWRkU3BoZXJlKHNwaGVyZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3Qgc3BoZXJlID0gdGhpcy5mYWN0b3J5LmFkZC5zcGhlcmUoc3BoZXJlQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5hZGRFeGlzdGluZyhzcGhlcmUsIHNwaGVyZUNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIHNwaGVyZTtcclxuICAgIH1cclxuICAgIGFkZEJveChib3hDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuZmFjdG9yeS5hZGQuYm94KGJveENvbmZpZywgbWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3RpbmcoYm94LCBib3hDb25maWcpO1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9XHJcbiAgICBhZGRHcm91bmQoZ3JvdW5kQ29uZmlnLCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gdGhpcy5mYWN0b3J5LmFkZC5ncm91bmQoZ3JvdW5kQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBncm91bmRDb25maWcpLCB7IG1hc3M6IDAsIGNvbGxpc2lvbkZsYWdzOiAxIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3RpbmcoZ3JvdW5kLCBjb25maWcpO1xyXG4gICAgICAgIHJldHVybiBncm91bmQ7XHJcbiAgICB9XHJcbiAgICBhZGRDeWxpbmRlcihjeWxpbmRlckNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgY3lsaW5kZXIgPSB0aGlzLmZhY3RvcnkuYWRkLmN5bGluZGVyKGN5bGluZGVyQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5hZGRFeGlzdGluZyhjeWxpbmRlciwgY3lsaW5kZXJDb25maWcpO1xyXG4gICAgICAgIHJldHVybiBjeWxpbmRlcjtcclxuICAgIH1cclxuICAgIGFkZENvbmUoY29uZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgY29uZSA9IHRoaXMuZmFjdG9yeS5hZGQuY29uZShjb25lQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5hZGRFeGlzdGluZyhjb25lLCBjb25lQ29uZmlnKTtcclxuICAgICAgICByZXR1cm4gY29uZTtcclxuICAgIH1cclxuICAgIGFkZFRvcnVzKHRvcnVzQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCB0b3J1cyA9IHRoaXMuZmFjdG9yeS5hZGQudG9ydXModG9ydXNDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKHRvcnVzLCB0b3J1c0NvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIHRvcnVzO1xyXG4gICAgfVxyXG4gICAgYWRkRXh0cnVkZShleHRydWRlQ29uZmlnLCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5mYWN0b3J5LmFkZC5leHRydWRlKGV4dHJ1ZGVDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICBvYmplY3QudHJhbnNsYXRlWCgxKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBTaGFwZXM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBkZXNjcmlwdGlvbiAgVGhpcyBpcyBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGNvZGUgZnJvbSBLZXZpbiBMZWVcclxuICogKEluY2x1ZGVzIGxhdGVzdCB0aHJlZS10by1hbW1vIGNvbW1pdCBmcm9tIEF1Z3VzdCA2LCAyMDIwKVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLml0ZXJhdGVHZW9tZXRyaWVzID0gZXhwb3J0cy5jcmVhdGVIZWlnaHRmaWVsZFRlcnJhaW5TaGFwZSA9IGV4cG9ydHMuY3JlYXRlVHJpTWVzaFNoYXBlID0gZXhwb3J0cy5jcmVhdGVWSEFDRFNoYXBlcyA9IGV4cG9ydHMuY3JlYXRlSEFDRFNoYXBlcyA9IGV4cG9ydHMuY3JlYXRlSHVsbFNoYXBlID0gZXhwb3J0cy5jcmVhdGVTcGhlcmVTaGFwZSA9IGV4cG9ydHMuY3JlYXRlQ29uZVNoYXBlID0gZXhwb3J0cy5jcmVhdGVDYXBzdWxlU2hhcGUgPSBleHBvcnRzLmNyZWF0ZUN5bGluZGVyU2hhcGUgPSBleHBvcnRzLmNyZWF0ZUJveFNoYXBlID0gZXhwb3J0cy5jcmVhdGVDb2xsaXNpb25TaGFwZXMgPSBleHBvcnRzLkhFSUdIVEZJRUxEX0RBVEFfVFlQRSA9IGV4cG9ydHMuRklUID0gZXhwb3J0cy5UWVBFID0gdm9pZCAwO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBLZXZpbiBMZWUgKGh0dHBzOi8vZ2l0aHViLmNvbS9JbmZpbml0ZUxlZSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgS2V2aW4gTGVlOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL0luZmluaXRlTGVlL3RocmVlLXRvLWFtbW9cclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0luZmluaXRlTGVlL3RocmVlLXRvLWFtbW8vYmxvYi9tYXN0ZXIvTElDRU5TRXxNUEwtMi4wfVxyXG4gKi9cclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG4oJ3VzZSBzdHJpY3QnKTtcclxuLyogZ2xvYmFsIEFtbW8gKi9cclxuZXhwb3J0cy5UWVBFID0ge1xyXG4gICAgQk9YOiAnYm94JyxcclxuICAgIENZTElOREVSOiAnY3lsaW5kZXInLFxyXG4gICAgU1BIRVJFOiAnc3BoZXJlJyxcclxuICAgIENBUFNVTEU6ICdjYXBzdWxlJyxcclxuICAgIENPTkU6ICdjb25lJyxcclxuICAgIEhVTEw6ICdodWxsJyxcclxuICAgIEhBQ0Q6ICdoYWNkJyxcclxuICAgIFZIQUNEOiAndmhhY2QnLFxyXG4gICAgTUVTSDogJ21lc2gnLFxyXG4gICAgSEVJR0hURklFTEQ6ICdoZWlnaHRmaWVsZCdcclxufTtcclxuZXhwb3J0cy5GSVQgPSB7XHJcbiAgICBBTEw6ICdhbGwnLFxyXG4gICAgTUFOVUFMOiAnbWFudWFsJyAvL0Egc2luZ2xlIHNoYXBlIGlzIHNpemVkIG1hbnVhbGx5LiBSZXF1aXJlcyBoYWxmRXh0ZW50cyBvciBzcGhlcmVSYWRpdXMuXHJcbn07XHJcbmV4cG9ydHMuSEVJR0hURklFTERfREFUQV9UWVBFID0ge1xyXG4gICAgc2hvcnQ6ICdzaG9ydCcsXHJcbiAgICBmbG9hdDogJ2Zsb2F0J1xyXG59O1xyXG5jb25zdCBjcmVhdGVDb2xsaXNpb25TaGFwZXMgPSBmdW5jdGlvbiAodmVydGljZXMsIG1hdHJpY2VzLCBpbmRleGVzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xyXG4gICAgICAgIGNhc2UgZXhwb3J0cy5UWVBFLkJPWDpcclxuICAgICAgICAgICAgcmV0dXJuIFtleHBvcnRzLmNyZWF0ZUJveFNoYXBlKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMpXTtcclxuICAgICAgICBjYXNlIGV4cG9ydHMuVFlQRS5DWUxJTkRFUjpcclxuICAgICAgICAgICAgcmV0dXJuIFtleHBvcnRzLmNyZWF0ZUN5bGluZGVyU2hhcGUodmVydGljZXMsIG1hdHJpY2VzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyldO1xyXG4gICAgICAgIGNhc2UgZXhwb3J0cy5UWVBFLkNBUFNVTEU6XHJcbiAgICAgICAgICAgIHJldHVybiBbZXhwb3J0cy5jcmVhdGVDYXBzdWxlU2hhcGUodmVydGljZXMsIG1hdHJpY2VzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyldO1xyXG4gICAgICAgIGNhc2UgZXhwb3J0cy5UWVBFLkNPTkU6XHJcbiAgICAgICAgICAgIHJldHVybiBbZXhwb3J0cy5jcmVhdGVDb25lU2hhcGUodmVydGljZXMsIG1hdHJpY2VzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyldO1xyXG4gICAgICAgIGNhc2UgZXhwb3J0cy5UWVBFLlNQSEVSRTpcclxuICAgICAgICAgICAgcmV0dXJuIFtleHBvcnRzLmNyZWF0ZVNwaGVyZVNoYXBlKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMpXTtcclxuICAgICAgICBjYXNlIGV4cG9ydHMuVFlQRS5IVUxMOlxyXG4gICAgICAgICAgICByZXR1cm4gW2V4cG9ydHMuY3JlYXRlSHVsbFNoYXBlKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMpXTtcclxuICAgICAgICBjYXNlIGV4cG9ydHMuVFlQRS5IQUNEOlxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5jcmVhdGVIQUNEU2hhcGVzKHZlcnRpY2VzLCBtYXRyaWNlcywgaW5kZXhlcywgbWF0cml4V29ybGQsIG9wdGlvbnMpO1xyXG4gICAgICAgIGNhc2UgZXhwb3J0cy5UWVBFLlZIQUNEOlxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5jcmVhdGVWSEFDRFNoYXBlcyh2ZXJ0aWNlcywgbWF0cmljZXMsIGluZGV4ZXMsIG1hdHJpeFdvcmxkLCBvcHRpb25zKTtcclxuICAgICAgICBjYXNlIGV4cG9ydHMuVFlQRS5NRVNIOlxyXG4gICAgICAgICAgICByZXR1cm4gW2V4cG9ydHMuY3JlYXRlVHJpTWVzaFNoYXBlKHZlcnRpY2VzLCBtYXRyaWNlcywgaW5kZXhlcywgbWF0cml4V29ybGQsIG9wdGlvbnMpXTtcclxuICAgICAgICBjYXNlIGV4cG9ydHMuVFlQRS5IRUlHSFRGSUVMRDpcclxuICAgICAgICAgICAgcmV0dXJuIFtleHBvcnRzLmNyZWF0ZUhlaWdodGZpZWxkVGVycmFpblNoYXBlKG9wdGlvbnMpXTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4ob3B0aW9ucy50eXBlICsgJyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlQ29sbGlzaW9uU2hhcGVzID0gY3JlYXRlQ29sbGlzaW9uU2hhcGVzO1xyXG4vL1RPRE86IHN1cHBvcnQgZ2ltcGFjdCAoZHluYW1pYyB0cmltZXNoKSBhbmQgaGVpZ2h0bWFwXHJcbmNvbnN0IGNyZWF0ZUJveFNoYXBlID0gZnVuY3Rpb24gKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgb3B0aW9ucy50eXBlID0gZXhwb3J0cy5UWVBFLkJPWDtcclxuICAgIF9zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgaWYgKG9wdGlvbnMuZml0ID09PSBleHBvcnRzLkZJVC5BTEwpIHtcclxuICAgICAgICBvcHRpb25zLmhhbGZFeHRlbnRzID0gX2NvbXB1dGVIYWxmRXh0ZW50cyhfY29tcHV0ZUJvdW5kcyh2ZXJ0aWNlcywgbWF0cmljZXMpLCBvcHRpb25zLm1pbkhhbGZFeHRlbnQsIG9wdGlvbnMubWF4SGFsZkV4dGVudCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBidEhhbGZFeHRlbnRzID0gbmV3IEFtbW8uYnRWZWN0b3IzKG9wdGlvbnMuaGFsZkV4dGVudHMueCwgb3B0aW9ucy5oYWxmRXh0ZW50cy55LCBvcHRpb25zLmhhbGZFeHRlbnRzLnopO1xyXG4gICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idEJveFNoYXBlKGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgQW1tby5kZXN0cm95KGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgX2ZpbmlzaENvbGxpc2lvblNoYXBlKGNvbGxpc2lvblNoYXBlLCBvcHRpb25zLCBfY29tcHV0ZVNjYWxlKG1hdHJpeFdvcmxkLCBvcHRpb25zKSk7XHJcbiAgICByZXR1cm4gY29sbGlzaW9uU2hhcGU7XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlQm94U2hhcGUgPSBjcmVhdGVCb3hTaGFwZTtcclxuY29uc3QgY3JlYXRlQ3lsaW5kZXJTaGFwZSA9IGZ1bmN0aW9uICh2ZXJ0aWNlcywgbWF0cmljZXMsIG1hdHJpeFdvcmxkLCBvcHRpb25zID0ge30pIHtcclxuICAgIG9wdGlvbnMudHlwZSA9IGV4cG9ydHMuVFlQRS5DWUxJTkRFUjtcclxuICAgIF9zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgaWYgKG9wdGlvbnMuZml0ID09PSBleHBvcnRzLkZJVC5BTEwpIHtcclxuICAgICAgICBvcHRpb25zLmhhbGZFeHRlbnRzID0gX2NvbXB1dGVIYWxmRXh0ZW50cyhfY29tcHV0ZUJvdW5kcyh2ZXJ0aWNlcywgbWF0cmljZXMpLCBvcHRpb25zLm1pbkhhbGZFeHRlbnQsIG9wdGlvbnMubWF4SGFsZkV4dGVudCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBidEhhbGZFeHRlbnRzID0gbmV3IEFtbW8uYnRWZWN0b3IzKG9wdGlvbnMuaGFsZkV4dGVudHMueCwgb3B0aW9ucy5oYWxmRXh0ZW50cy55LCBvcHRpb25zLmhhbGZFeHRlbnRzLnopO1xyXG4gICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSAoKCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5jeWxpbmRlckF4aXMpIHtcclxuICAgICAgICAgICAgY2FzZSAneSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFtbW8uYnRDeWxpbmRlclNoYXBlKGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgICAgICAgICBjYXNlICd4JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQW1tby5idEN5bGluZGVyU2hhcGVYKGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQW1tby5idEN5bGluZGVyU2hhcGVaKGJ0SGFsZkV4dGVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0pKCk7XHJcbiAgICBBbW1vLmRlc3Ryb3koYnRIYWxmRXh0ZW50cyk7XHJcbiAgICBfZmluaXNoQ29sbGlzaW9uU2hhcGUoY29sbGlzaW9uU2hhcGUsIG9wdGlvbnMsIF9jb21wdXRlU2NhbGUobWF0cml4V29ybGQsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVDeWxpbmRlclNoYXBlID0gY3JlYXRlQ3lsaW5kZXJTaGFwZTtcclxuY29uc3QgY3JlYXRlQ2Fwc3VsZVNoYXBlID0gZnVuY3Rpb24gKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgb3B0aW9ucy50eXBlID0gZXhwb3J0cy5UWVBFLkNBUFNVTEU7XHJcbiAgICBfc2V0T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIGlmIChvcHRpb25zLmZpdCA9PT0gZXhwb3J0cy5GSVQuQUxMKSB7XHJcbiAgICAgICAgb3B0aW9ucy5oYWxmRXh0ZW50cyA9IF9jb21wdXRlSGFsZkV4dGVudHMoX2NvbXB1dGVCb3VuZHModmVydGljZXMsIG1hdHJpY2VzKSwgb3B0aW9ucy5taW5IYWxmRXh0ZW50LCBvcHRpb25zLm1heEhhbGZFeHRlbnQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyB4LCB5LCB6IH0gPSBvcHRpb25zLmhhbGZFeHRlbnRzO1xyXG4gICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSAoKCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5jeWxpbmRlckF4aXMpIHtcclxuICAgICAgICAgICAgY2FzZSAneSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFtbW8uYnRDYXBzdWxlU2hhcGUoTWF0aC5tYXgoeCwgeiksIHkgKiAyKTtcclxuICAgICAgICAgICAgY2FzZSAneCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFtbW8uYnRDYXBzdWxlU2hhcGVYKE1hdGgubWF4KHksIHopLCB4ICogMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ3onOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbW1vLmJ0Q2Fwc3VsZVNoYXBlWihNYXRoLm1heCh4LCB5KSwgeiAqIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0pKCk7XHJcbiAgICBfZmluaXNoQ29sbGlzaW9uU2hhcGUoY29sbGlzaW9uU2hhcGUsIG9wdGlvbnMsIF9jb21wdXRlU2NhbGUobWF0cml4V29ybGQsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVDYXBzdWxlU2hhcGUgPSBjcmVhdGVDYXBzdWxlU2hhcGU7XHJcbmNvbnN0IGNyZWF0ZUNvbmVTaGFwZSA9IGZ1bmN0aW9uICh2ZXJ0aWNlcywgbWF0cmljZXMsIG1hdHJpeFdvcmxkLCBvcHRpb25zID0ge30pIHtcclxuICAgIG9wdGlvbnMudHlwZSA9IGV4cG9ydHMuVFlQRS5DT05FO1xyXG4gICAgX3NldE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICBpZiAob3B0aW9ucy5maXQgPT09IGV4cG9ydHMuRklULkFMTCkge1xyXG4gICAgICAgIG9wdGlvbnMuaGFsZkV4dGVudHMgPSBfY29tcHV0ZUhhbGZFeHRlbnRzKF9jb21wdXRlQm91bmRzKHZlcnRpY2VzLCBtYXRyaWNlcyksIG9wdGlvbnMubWluSGFsZkV4dGVudCwgb3B0aW9ucy5tYXhIYWxmRXh0ZW50KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgeCwgeSwgeiB9ID0gb3B0aW9ucy5oYWxmRXh0ZW50cztcclxuICAgIGNvbnN0IGNvbGxpc2lvblNoYXBlID0gKCgpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuY3lsaW5kZXJBeGlzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3knOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbW1vLmJ0Q29uZVNoYXBlKE1hdGgubWF4KHgsIHopLCB5ICogMik7XHJcbiAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbW1vLmJ0Q29uZVNoYXBlWChNYXRoLm1heCh5LCB6KSwgeCAqIDIpO1xyXG4gICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQW1tby5idENvbmVTaGFwZVooTWF0aC5tYXgoeCwgeSksIHogKiAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9KSgpO1xyXG4gICAgX2ZpbmlzaENvbGxpc2lvblNoYXBlKGNvbGxpc2lvblNoYXBlLCBvcHRpb25zLCBfY29tcHV0ZVNjYWxlKG1hdHJpeFdvcmxkLCBvcHRpb25zKSk7XHJcbiAgICByZXR1cm4gY29sbGlzaW9uU2hhcGU7XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlQ29uZVNoYXBlID0gY3JlYXRlQ29uZVNoYXBlO1xyXG5jb25zdCBjcmVhdGVTcGhlcmVTaGFwZSA9IGZ1bmN0aW9uICh2ZXJ0aWNlcywgbWF0cmljZXMsIG1hdHJpeFdvcmxkLCBvcHRpb25zID0ge30pIHtcclxuICAgIG9wdGlvbnMudHlwZSA9IGV4cG9ydHMuVFlQRS5TUEhFUkU7XHJcbiAgICBfc2V0T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIGxldCByYWRpdXM7XHJcbiAgICBpZiAob3B0aW9ucy5maXQgPT09IGV4cG9ydHMuRklULk1BTlVBTCAmJiAhaXNOYU4ob3B0aW9ucy5zcGhlcmVSYWRpdXMpKSB7XHJcbiAgICAgICAgcmFkaXVzID0gb3B0aW9ucy5zcGhlcmVSYWRpdXM7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByYWRpdXMgPSBfY29tcHV0ZVJhZGl1cyh2ZXJ0aWNlcywgbWF0cmljZXMsIF9jb21wdXRlQm91bmRzKHZlcnRpY2VzLCBtYXRyaWNlcykpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idFNwaGVyZVNoYXBlKHJhZGl1cyk7XHJcbiAgICBfZmluaXNoQ29sbGlzaW9uU2hhcGUoY29sbGlzaW9uU2hhcGUsIG9wdGlvbnMsIF9jb21wdXRlU2NhbGUobWF0cml4V29ybGQsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVTcGhlcmVTaGFwZSA9IGNyZWF0ZVNwaGVyZVNoYXBlO1xyXG5leHBvcnRzLmNyZWF0ZUh1bGxTaGFwZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB2ZXJ0ZXggPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICBjb25zdCBjZW50ZXIgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgaW5kZXhfMS5NYXRyaXg0KCk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZlcnRpY2VzLCBtYXRyaWNlcywgbWF0cml4V29ybGQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIG9wdGlvbnMudHlwZSA9IGV4cG9ydHMuVFlQRS5IVUxMO1xyXG4gICAgICAgIF9zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmZpdCA9PT0gZXhwb3J0cy5GSVQuTUFOVUFMKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignY2Fubm90IHVzZSBmaXQ6IG1hbnVhbCB3aXRoIHR5cGU6IGh1bGwnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IF9jb21wdXRlQm91bmRzKHZlcnRpY2VzLCBtYXRyaWNlcyk7XHJcbiAgICAgICAgY29uc3QgYnRWZXJ0ZXggPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbEh1bGwgPSBuZXcgQW1tby5idENvbnZleEh1bGxTaGFwZSgpO1xyXG4gICAgICAgIG9yaWdpbmFsSHVsbC5zZXRNYXJnaW4ob3B0aW9ucy5tYXJnaW4pO1xyXG4gICAgICAgIGNlbnRlci5hZGRWZWN0b3JzKGJvdW5kcy5tYXgsIGJvdW5kcy5taW4pLm11bHRpcGx5U2NhbGFyKDAuNSk7XHJcbiAgICAgICAgbGV0IHZlcnRleENvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZlcnRleENvdW50ICs9IHZlcnRpY2VzW2ldLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1heFZlcnRpY2VzID0gb3B0aW9ucy5odWxsTWF4VmVydGljZXMgfHwgMTAwMDAwO1xyXG4gICAgICAgIC8vIHRvZG86IG1pZ2h0IHdhbnQgdG8gaW1wbGVtZW50IHRoaXMgaW4gYSBkZXRlcm1pbmlzdGljIHdheSB0aGF0IGRvZXNuJ3QgZG8gTyh2ZXJ0cykgY2FsbHMgdG8gTWF0aC5yYW5kb21cclxuICAgICAgICBpZiAodmVydGV4Q291bnQgPiBtYXhWZXJ0aWNlcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHRvbyBtYW55IHZlcnRpY2VzIGZvciBodWxsIHNoYXBlOyBzYW1wbGluZyB+JHttYXhWZXJ0aWNlc30gZnJvbSB+JHt2ZXJ0ZXhDb3VudH0gdmVydGljZXNgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcCA9IE1hdGgubWluKDEsIG1heFZlcnRpY2VzIC8gdmVydGV4Q291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHZlcnRpY2VzW2ldO1xyXG4gICAgICAgICAgICBtYXRyaXguZnJvbUFycmF5KG1hdHJpY2VzW2ldKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb21wb25lbnRzLmxlbmd0aDsgaiArPSAzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0xhc3RWZXJ0ZXggPSBpID09PSB2ZXJ0aWNlcy5sZW5ndGggLSAxICYmIGogPT09IGNvbXBvbmVudHMubGVuZ3RoIC0gMztcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDw9IHAgfHwgaXNMYXN0VmVydGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWx3YXlzIGluY2x1ZGUgdGhlIGxhc3QgdmVydGV4XHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXQoY29tcG9uZW50c1tqXSwgY29tcG9uZW50c1tqICsgMV0sIGNvbXBvbmVudHNbaiArIDJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwbHlNYXRyaXg0KG1hdHJpeClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1YihjZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0VmVydGV4LnNldFZhbHVlKHZlcnRleC54LCB2ZXJ0ZXgueSwgdmVydGV4LnopO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSHVsbC5hZGRQb2ludChidFZlcnRleCwgaXNMYXN0VmVydGV4KTsgLy8gcmVjYWxjIEFBQkIgb25seSBvbiBsYXN0IGdlb21ldHJ5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbGxpc2lvblNoYXBlID0gb3JpZ2luYWxIdWxsO1xyXG4gICAgICAgIGlmIChvcmlnaW5hbEh1bGwuZ2V0TnVtVmVydGljZXMoKSA+PSAxMDApIHtcclxuICAgICAgICAgICAgLy9CdWxsZXQgZG9jdW1lbnRhdGlvbiBzYXlzIGRvbid0IHVzZSBjb252ZXhIdWxscyB3aXRoIDEwMCB2ZXJ0cyBvciBtb3JlXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlSHVsbCA9IG5ldyBBbW1vLmJ0U2hhcGVIdWxsKG9yaWdpbmFsSHVsbCk7XHJcbiAgICAgICAgICAgIHNoYXBlSHVsbC5idWlsZEh1bGwob3B0aW9ucy5tYXJnaW4pO1xyXG4gICAgICAgICAgICBBbW1vLmRlc3Ryb3kob3JpZ2luYWxIdWxsKTtcclxuICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idENvbnZleEh1bGxTaGFwZShBbW1vLmdldFBvaW50ZXIoc2hhcGVIdWxsLmdldFZlcnRleFBvaW50ZXIoKSksIHNoYXBlSHVsbC5udW1WZXJ0aWNlcygpKTtcclxuICAgICAgICAgICAgQW1tby5kZXN0cm95KHNoYXBlSHVsbCk7IC8vIGJ0Q29udmV4SHVsbFNoYXBlIG1ha2VzIGEgY29weVxyXG4gICAgICAgIH1cclxuICAgICAgICBBbW1vLmRlc3Ryb3koYnRWZXJ0ZXgpO1xyXG4gICAgICAgIF9maW5pc2hDb2xsaXNpb25TaGFwZShjb2xsaXNpb25TaGFwZSwgb3B0aW9ucywgX2NvbXB1dGVTY2FsZShtYXRyaXhXb3JsZCwgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmV4cG9ydHMuY3JlYXRlSEFDRFNoYXBlcyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB2ZWN0b3IgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICBjb25zdCBjZW50ZXIgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgaW5kZXhfMS5NYXRyaXg0KCk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZlcnRpY2VzLCBtYXRyaWNlcywgaW5kZXhlcywgbWF0cml4V29ybGQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIG9wdGlvbnMudHlwZSA9IGV4cG9ydHMuVFlQRS5IQUNEO1xyXG4gICAgICAgIF9zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmZpdCA9PT0gZXhwb3J0cy5GSVQuTUFOVUFMKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignY2Fubm90IHVzZSBmaXQ6IG1hbnVhbCB3aXRoIHR5cGU6IGhhY2QnKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIUFtbW8uaGFzT3duUHJvcGVydHkoJ0hBQ0QnKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0hBQ0QgdW5hdmFpbGFibGUgaW4gaW5jbHVkZWQgYnVpbGQgb2YgQW1tby5qcy4gVmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGFyZWFsaXR5L2FtbW8uanMgZm9yIHRoZSBsYXRlc3QgdmVyc2lvbi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBib3VuZHMgPSBfY29tcHV0ZUJvdW5kcyh2ZXJ0aWNlcywgbWF0cmljZXMpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gX2NvbXB1dGVTY2FsZShtYXRyaXhXb3JsZCwgb3B0aW9ucyk7XHJcbiAgICAgICAgbGV0IHZlcnRleENvdW50ID0gMDtcclxuICAgICAgICBsZXQgdHJpQ291bnQgPSAwO1xyXG4gICAgICAgIGNlbnRlci5hZGRWZWN0b3JzKGJvdW5kcy5tYXgsIGJvdW5kcy5taW4pLm11bHRpcGx5U2NhbGFyKDAuNSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2ZXJ0ZXhDb3VudCArPSB2ZXJ0aWNlc1tpXS5sZW5ndGggLyAzO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhlcyAmJiBpbmRleGVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlDb3VudCArPSBpbmRleGVzW2ldLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmlDb3VudCArPSB2ZXJ0aWNlc1tpXS5sZW5ndGggLyA5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhhY2QgPSBuZXcgQW1tby5IQUNEKCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2NvbXBhY2l0eVdlaWdodCcpKVxyXG4gICAgICAgICAgICBoYWNkLlNldENvbXBhY2l0eVdlaWdodChvcHRpb25zLmNvbXBhY2l0eVdlaWdodCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3ZvbHVtZVdlaWdodCcpKVxyXG4gICAgICAgICAgICBoYWNkLlNldFZvbHVtZVdlaWdodChvcHRpb25zLnZvbHVtZVdlaWdodCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ25DbHVzdGVycycpKVxyXG4gICAgICAgICAgICBoYWNkLlNldE5DbHVzdGVycyhvcHRpb25zLm5DbHVzdGVycyk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ25WZXJ0aWNlc1BlckNIJykpXHJcbiAgICAgICAgICAgIGhhY2QuU2V0TlZlcnRpY2VzUGVyQ0gob3B0aW9ucy5uVmVydGljZXNQZXJDSCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2NvbmNhdml0eScpKVxyXG4gICAgICAgICAgICBoYWNkLlNldENvbmNhdml0eShvcHRpb25zLmNvbmNhdml0eSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gQW1tby5fbWFsbG9jKHZlcnRleENvdW50ICogMyAqIDgpO1xyXG4gICAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IEFtbW8uX21hbGxvYyh0cmlDb3VudCAqIDMgKiA0KTtcclxuICAgICAgICBoYWNkLlNldFBvaW50cyhwb2ludHMpO1xyXG4gICAgICAgIGhhY2QuU2V0VHJpYW5nbGVzKHRyaWFuZ2xlcyk7XHJcbiAgICAgICAgaGFjZC5TZXROUG9pbnRzKHZlcnRleENvdW50KTtcclxuICAgICAgICBoYWNkLlNldE5UcmlhbmdsZXModHJpQ291bnQpO1xyXG4gICAgICAgIGxldCBwcHRyID0gcG9pbnRzIC8gOCwgdHB0ciA9IHRyaWFuZ2xlcyAvIDQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdmVydGljZXNbaV07XHJcbiAgICAgICAgICAgIG1hdHJpeC5mcm9tQXJyYXkobWF0cmljZXNbaV0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBvbmVudHMubGVuZ3RoOyBqICs9IDMpIHtcclxuICAgICAgICAgICAgICAgIHZlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXQoY29tcG9uZW50c1tqICsgMF0sIGNvbXBvbmVudHNbaiArIDFdLCBjb21wb25lbnRzW2ogKyAyXSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwbHlNYXRyaXg0KG1hdHJpeClcclxuICAgICAgICAgICAgICAgICAgICAuc3ViKGNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDBdID0gdmVjdG9yLng7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDFdID0gdmVjdG9yLnk7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDJdID0gdmVjdG9yLno7XHJcbiAgICAgICAgICAgICAgICBwcHRyICs9IDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBpbmRleGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRpY2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQW1tby5IRUFQMzJbdHB0cl0gPSBpbmRpY2VzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRwdHIrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29tcG9uZW50cy5sZW5ndGggLyAzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBBbW1vLkhFQVAzMlt0cHRyXSA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgdHB0cisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhY2QuQ29tcHV0ZSgpO1xyXG4gICAgICAgIEFtbW8uX2ZyZWUocG9pbnRzKTtcclxuICAgICAgICBBbW1vLl9mcmVlKHRyaWFuZ2xlcyk7XHJcbiAgICAgICAgY29uc3QgbkNsdXN0ZXJzID0gaGFjZC5HZXROQ2x1c3RlcnMoKTtcclxuICAgICAgICBjb25zdCBzaGFwZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5DbHVzdGVyczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGh1bGwgPSBuZXcgQW1tby5idENvbnZleEh1bGxTaGFwZSgpO1xyXG4gICAgICAgICAgICBodWxsLnNldE1hcmdpbihvcHRpb25zLm1hcmdpbik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5Qb2ludHMgPSBoYWNkLkdldE5Qb2ludHNDSChpKTtcclxuICAgICAgICAgICAgY29uc3QgblRyaWFuZ2xlcyA9IGhhY2QuR2V0TlRyaWFuZ2xlc0NIKGkpO1xyXG4gICAgICAgICAgICBjb25zdCBodWxsUG9pbnRzID0gQW1tby5fbWFsbG9jKG5Qb2ludHMgKiAzICogOCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGh1bGxUcmlhbmdsZXMgPSBBbW1vLl9tYWxsb2MoblRyaWFuZ2xlcyAqIDMgKiA0KTtcclxuICAgICAgICAgICAgaGFjZC5HZXRDSChpLCBodWxsUG9pbnRzLCBodWxsVHJpYW5nbGVzKTtcclxuICAgICAgICAgICAgY29uc3QgcHB0ciA9IGh1bGxQb2ludHMgLyA4O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwaSA9IDA7IHBpIDwgblBvaW50czsgcGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnRWZXJ0ZXggPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB4ID0gQW1tby5IRUFQRjY0W3BwdHIgKyBwaSAqIDMgKyAwXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB5ID0gQW1tby5IRUFQRjY0W3BwdHIgKyBwaSAqIDMgKyAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB6ID0gQW1tby5IRUFQRjY0W3BwdHIgKyBwaSAqIDMgKyAyXTtcclxuICAgICAgICAgICAgICAgIGJ0VmVydGV4LnNldFZhbHVlKHB4LCBweSwgcHopO1xyXG4gICAgICAgICAgICAgICAgaHVsbC5hZGRQb2ludChidFZlcnRleCwgcGkgPT09IG5Qb2ludHMgLSAxKTtcclxuICAgICAgICAgICAgICAgIEFtbW8uZGVzdHJveShidFZlcnRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2ZpbmlzaENvbGxpc2lvblNoYXBlKGh1bGwsIG9wdGlvbnMsIHNjYWxlKTtcclxuICAgICAgICAgICAgc2hhcGVzLnB1c2goaHVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaGFwZXM7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5leHBvcnRzLmNyZWF0ZVZIQUNEU2hhcGVzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHZlY3RvciA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIGNvbnN0IGNlbnRlciA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBpbmRleF8xLk1hdHJpeDQoKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodmVydGljZXMsIG1hdHJpY2VzLCBpbmRleGVzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgb3B0aW9ucy50eXBlID0gZXhwb3J0cy5UWVBFLlZIQUNEO1xyXG4gICAgICAgIF9zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmZpdCA9PT0gZXhwb3J0cy5GSVQuTUFOVUFMKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignY2Fubm90IHVzZSBmaXQ6IG1hbnVhbCB3aXRoIHR5cGU6IHZoYWNkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFBbW1vLmhhc093blByb3BlcnR5KCdWSEFDRCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVkhBQ0QgdW5hdmFpbGFibGUgaW4gaW5jbHVkZWQgYnVpbGQgb2YgQW1tby5qcy4gVmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGFyZWFsaXR5L2FtbW8uanMgZm9yIHRoZSBsYXRlc3QgdmVyc2lvbi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBib3VuZHMgPSBfY29tcHV0ZUJvdW5kcyh2ZXJ0aWNlcywgbWF0cmljZXMpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gX2NvbXB1dGVTY2FsZShtYXRyaXhXb3JsZCwgb3B0aW9ucyk7XHJcbiAgICAgICAgbGV0IHZlcnRleENvdW50ID0gMDtcclxuICAgICAgICBsZXQgdHJpQ291bnQgPSAwO1xyXG4gICAgICAgIGNlbnRlci5hZGRWZWN0b3JzKGJvdW5kcy5tYXgsIGJvdW5kcy5taW4pLm11bHRpcGx5U2NhbGFyKDAuNSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2ZXJ0ZXhDb3VudCArPSB2ZXJ0aWNlc1tpXS5sZW5ndGggLyAzO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhlcyAmJiBpbmRleGVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlDb3VudCArPSBpbmRleGVzW2ldLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmlDb3VudCArPSB2ZXJ0aWNlc1tpXS5sZW5ndGggLyA5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZoYWNkID0gbmV3IEFtbW8uVkhBQ0QoKTtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgQW1tby5QYXJhbWV0ZXJzKCk7XHJcbiAgICAgICAgLy9odHRwczovL2ttYW1vdS5ibG9nc3BvdC5jb20vMjAxNC8xMi92LWhhY2QtMjAtcGFyYW1ldGVycy1kZXNjcmlwdGlvbi5odG1sXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3Jlc29sdXRpb24nKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX3Jlc29sdXRpb24ob3B0aW9ucy5yZXNvbHV0aW9uKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZGVwdGgnKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX2RlcHRoKG9wdGlvbnMuZGVwdGgpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdjb25jYXZpdHknKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX2NvbmNhdml0eShvcHRpb25zLmNvbmNhdml0eSk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3BsYW5lRG93bnNhbXBsaW5nJykpXHJcbiAgICAgICAgICAgIHBhcmFtcy5zZXRfbV9wbGFuZURvd25zYW1wbGluZyhvcHRpb25zLnBsYW5lRG93bnNhbXBsaW5nKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnY29udmV4aHVsbERvd25zYW1wbGluZycpKVxyXG4gICAgICAgICAgICBwYXJhbXMuc2V0X21fY29udmV4aHVsbERvd25zYW1wbGluZyhvcHRpb25zLmNvbnZleGh1bGxEb3duc2FtcGxpbmcpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdhbHBoYScpKVxyXG4gICAgICAgICAgICBwYXJhbXMuc2V0X21fYWxwaGEob3B0aW9ucy5hbHBoYSk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2JldGEnKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX2JldGEob3B0aW9ucy5iZXRhKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZ2FtbWEnKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX2dhbW1hKG9wdGlvbnMuZ2FtbWEpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdwY2EnKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX3BjYShvcHRpb25zLnBjYSk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21vZGUnKSlcclxuICAgICAgICAgICAgcGFyYW1zLnNldF9tX21vZGUob3B0aW9ucy5tb2RlKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWF4TnVtVmVydGljZXNQZXJDSCcpKVxyXG4gICAgICAgICAgICBwYXJhbXMuc2V0X21fbWF4TnVtVmVydGljZXNQZXJDSChvcHRpb25zLm1heE51bVZlcnRpY2VzUGVyQ0gpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdtaW5Wb2x1bWVQZXJDSCcpKVxyXG4gICAgICAgICAgICBwYXJhbXMuc2V0X21fbWluVm9sdW1lUGVyQ0gob3B0aW9ucy5taW5Wb2x1bWVQZXJDSCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2NvbnZleGh1bGxBcHByb3hpbWF0aW9uJykpXHJcbiAgICAgICAgICAgIHBhcmFtcy5zZXRfbV9jb252ZXhodWxsQXBwcm94aW1hdGlvbihvcHRpb25zLmNvbnZleGh1bGxBcHByb3hpbWF0aW9uKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnb2NsQWNjZWxlcmF0aW9uJykpXHJcbiAgICAgICAgICAgIHBhcmFtcy5zZXRfbV9vY2xBY2NlbGVyYXRpb24ob3B0aW9ucy5vY2xBY2NlbGVyYXRpb24pO1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IEFtbW8uX21hbGxvYyh2ZXJ0ZXhDb3VudCAqIDMgKiA4ICsgMyk7XHJcbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gQW1tby5fbWFsbG9jKHRyaUNvdW50ICogMyAqIDQpO1xyXG4gICAgICAgIGxldCBwcHRyID0gcG9pbnRzIC8gOCwgdHB0ciA9IHRyaWFuZ2xlcyAvIDQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdmVydGljZXNbaV07XHJcbiAgICAgICAgICAgIG1hdHJpeC5mcm9tQXJyYXkobWF0cmljZXNbaV0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBvbmVudHMubGVuZ3RoOyBqICs9IDMpIHtcclxuICAgICAgICAgICAgICAgIHZlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXQoY29tcG9uZW50c1tqICsgMF0sIGNvbXBvbmVudHNbaiArIDFdLCBjb21wb25lbnRzW2ogKyAyXSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwbHlNYXRyaXg0KG1hdHJpeClcclxuICAgICAgICAgICAgICAgICAgICAuc3ViKGNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDBdID0gdmVjdG9yLng7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDFdID0gdmVjdG9yLnk7XHJcbiAgICAgICAgICAgICAgICBBbW1vLkhFQVBGNjRbcHB0ciArIDJdID0gdmVjdG9yLno7XHJcbiAgICAgICAgICAgICAgICBwcHRyICs9IDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBpbmRleGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRpY2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQW1tby5IRUFQMzJbdHB0cl0gPSBpbmRpY2VzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRwdHIrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29tcG9uZW50cy5sZW5ndGggLyAzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBBbW1vLkhFQVAzMlt0cHRyXSA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgdHB0cisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZoYWNkLkNvbXB1dGUocG9pbnRzLCAzLCB2ZXJ0ZXhDb3VudCwgdHJpYW5nbGVzLCAzLCB0cmlDb3VudCwgcGFyYW1zKTtcclxuICAgICAgICBBbW1vLl9mcmVlKHBvaW50cyk7XHJcbiAgICAgICAgQW1tby5fZnJlZSh0cmlhbmdsZXMpO1xyXG4gICAgICAgIGNvbnN0IG5IdWxscyA9IHZoYWNkLkdldE5Db252ZXhIdWxscygpO1xyXG4gICAgICAgIGNvbnN0IHNoYXBlcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGNoID0gbmV3IEFtbW8uQ29udmV4SHVsbCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbkh1bGxzOyBpKyspIHtcclxuICAgICAgICAgICAgdmhhY2QuR2V0Q29udmV4SHVsbChpLCBjaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5Qb2ludHMgPSBjaC5nZXRfbV9uUG9pbnRzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGh1bGxQb2ludHMgPSBjaC5nZXRfbV9wb2ludHMoKTtcclxuICAgICAgICAgICAgY29uc3QgaHVsbCA9IG5ldyBBbW1vLmJ0Q29udmV4SHVsbFNoYXBlKCk7XHJcbiAgICAgICAgICAgIGh1bGwuc2V0TWFyZ2luKG9wdGlvbnMubWFyZ2luKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcGkgPSAwOyBwaSA8IG5Qb2ludHM7IHBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0VmVydGV4ID0gbmV3IEFtbW8uYnRWZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBweCA9IGNoLmdldF9tX3BvaW50cyhwaSAqIDMgKyAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB5ID0gY2guZ2V0X21fcG9pbnRzKHBpICogMyArIDEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHogPSBjaC5nZXRfbV9wb2ludHMocGkgKiAzICsgMik7XHJcbiAgICAgICAgICAgICAgICBidFZlcnRleC5zZXRWYWx1ZShweCwgcHksIHB6KTtcclxuICAgICAgICAgICAgICAgIGh1bGwuYWRkUG9pbnQoYnRWZXJ0ZXgsIHBpID09PSBuUG9pbnRzIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3koYnRWZXJ0ZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF9maW5pc2hDb2xsaXNpb25TaGFwZShodWxsLCBvcHRpb25zLCBzY2FsZSk7XHJcbiAgICAgICAgICAgIHNoYXBlcy5wdXNoKGh1bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBbW1vLmRlc3Ryb3koY2gpO1xyXG4gICAgICAgIEFtbW8uZGVzdHJveSh2aGFjZCk7XHJcbiAgICAgICAgcmV0dXJuIHNoYXBlcztcclxuICAgIH07XHJcbn0pKCk7XHJcbmV4cG9ydHMuY3JlYXRlVHJpTWVzaFNoYXBlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHZhID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgY29uc3QgdmIgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICBjb25zdCB2YyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBpbmRleF8xLk1hdHJpeDQoKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodmVydGljZXMsIG1hdHJpY2VzLCBpbmRleGVzLCBtYXRyaXhXb3JsZCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgb3B0aW9ucy50eXBlID0gZXhwb3J0cy5UWVBFLk1FU0g7XHJcbiAgICAgICAgX3NldE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZml0ID09PSBleHBvcnRzLkZJVC5NQU5VQUwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdjYW5ub3QgdXNlIGZpdDogbWFudWFsIHdpdGggdHlwZTogbWVzaCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBfY29tcHV0ZVNjYWxlKG1hdHJpeFdvcmxkLCBvcHRpb25zKTtcclxuICAgICAgICBjb25zdCBidGEgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBidGIgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBidGMgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCB0cmlNZXNoID0gbmV3IEFtbW8uYnRUcmlhbmdsZU1lc2godHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHZlcnRpY2VzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGluZGV4ZXNbaV0gPyBpbmRleGVzW2ldIDogbnVsbDtcclxuICAgICAgICAgICAgbWF0cml4LmZyb21BcnJheShtYXRyaWNlc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleC5sZW5ndGg7IGogKz0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFpID0gaW5kZXhbal0gKiAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpID0gaW5kZXhbaiArIDFdICogMztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaSA9IGluZGV4W2ogKyAyXSAqIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmEuc2V0KGNvbXBvbmVudHNbYWldLCBjb21wb25lbnRzW2FpICsgMV0sIGNvbXBvbmVudHNbYWkgKyAyXSkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmIuc2V0KGNvbXBvbmVudHNbYmldLCBjb21wb25lbnRzW2JpICsgMV0sIGNvbXBvbmVudHNbYmkgKyAyXSkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmMuc2V0KGNvbXBvbmVudHNbY2ldLCBjb21wb25lbnRzW2NpICsgMV0sIGNvbXBvbmVudHNbY2kgKyAyXSkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRhLnNldFZhbHVlKHZhLngsIHZhLnksIHZhLnopO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0Yi5zZXRWYWx1ZSh2Yi54LCB2Yi55LCB2Yi56KTtcclxuICAgICAgICAgICAgICAgICAgICBidGMuc2V0VmFsdWUodmMueCwgdmMueSwgdmMueik7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpTWVzaC5hZGRUcmlhbmdsZShidGEsIGJ0YiwgYnRjLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBvbmVudHMubGVuZ3RoOyBqICs9IDkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YS5zZXQoY29tcG9uZW50c1tqICsgMF0sIGNvbXBvbmVudHNbaiArIDFdLCBjb21wb25lbnRzW2ogKyAyXSkuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmIuc2V0KGNvbXBvbmVudHNbaiArIDNdLCBjb21wb25lbnRzW2ogKyA0XSwgY29tcG9uZW50c1tqICsgNV0pLmFwcGx5TWF0cml4NChtYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZjLnNldChjb21wb25lbnRzW2ogKyA2XSwgY29tcG9uZW50c1tqICsgN10sIGNvbXBvbmVudHNbaiArIDhdKS5hcHBseU1hdHJpeDQobWF0cml4KTtcclxuICAgICAgICAgICAgICAgICAgICBidGEuc2V0VmFsdWUodmEueCwgdmEueSwgdmEueik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRiLnNldFZhbHVlKHZiLngsIHZiLnksIHZiLnopO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0Yy5zZXRWYWx1ZSh2Yy54LCB2Yy55LCB2Yy56KTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlNZXNoLmFkZFRyaWFuZ2xlKGJ0YSwgYnRiLCBidGMsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsb2NhbFNjYWxlID0gbmV3IEFtbW8uYnRWZWN0b3IzKHNjYWxlLngsIHNjYWxlLnksIHNjYWxlLnopO1xyXG4gICAgICAgIHRyaU1lc2guc2V0U2NhbGluZyhsb2NhbFNjYWxlKTtcclxuICAgICAgICBBbW1vLmRlc3Ryb3kobG9jYWxTY2FsZSk7XHJcbiAgICAgICAgLy8gTU9EICh5YW5kZXUpOiBVc2UgYnRDb252ZXhUcmlhbmdsZU1lc2hTaGFwZSBmb3IgY29uY2F2ZSBzaGFwZXNcclxuICAgICAgICBsZXQgY29sbGlzaW9uU2hhcGU7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY29uY2F2ZSlcclxuICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idEJ2aFRyaWFuZ2xlTWVzaFNoYXBlKHRyaU1lc2gsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idENvbnZleFRyaWFuZ2xlTWVzaFNoYXBlKHRyaU1lc2gsIHRydWUpO1xyXG4gICAgICAgIC8vIGNvbnN0IGNvbGxpc2lvblNoYXBlID0gbmV3IEFtbW8uYnRCdmhUcmlhbmdsZU1lc2hTaGFwZSh0cmlNZXNoLCB0cnVlLCB0cnVlKVxyXG4gICAgICAgIGNvbGxpc2lvblNoYXBlLnJlc291cmNlcyA9IFt0cmlNZXNoXTtcclxuICAgICAgICBBbW1vLmRlc3Ryb3koYnRhKTtcclxuICAgICAgICBBbW1vLmRlc3Ryb3koYnRiKTtcclxuICAgICAgICBBbW1vLmRlc3Ryb3koYnRjKTtcclxuICAgICAgICBfZmluaXNoQ29sbGlzaW9uU2hhcGUoY29sbGlzaW9uU2hhcGUsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmNvbnN0IGNyZWF0ZUhlaWdodGZpZWxkVGVycmFpblNoYXBlID0gZnVuY3Rpb24gKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgX3NldE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICBpZiAob3B0aW9ucy5maXQgPT09IGV4cG9ydHMuRklULkFMTCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignY2Fubm90IHVzZSBmaXQ6IGFsbCB3aXRoIHR5cGU6IGhlaWdodGZpZWxkJyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoZWlnaHRmaWVsZERpc3RhbmNlID0gb3B0aW9ucy5oZWlnaHRmaWVsZERpc3RhbmNlIHx8IDE7XHJcbiAgICBjb25zdCBoZWlnaHRmaWVsZERhdGEgPSBvcHRpb25zLmhlaWdodGZpZWxkRGF0YSB8fCBbXTtcclxuICAgIGNvbnN0IGhlaWdodFNjYWxlID0gb3B0aW9ucy5oZWlnaHRTY2FsZSB8fCAwO1xyXG4gICAgY29uc3QgdXBBeGlzID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgndXBBeGlzJykgPyBvcHRpb25zLnVwQXhpcyA6IDE7IC8vIHggPSAwOyB5ID0gMTsgeiA9IDJcclxuICAgIGNvbnN0IGhkdCA9ICgoKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLmhlaWdodERhdGFUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Nob3J0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBBbW1vLlBIWV9TSE9SVDtcclxuICAgICAgICAgICAgY2FzZSAnZmxvYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFtbW8uUEhZX0ZMT0FUO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFtbW8uUEhZX0ZMT0FUO1xyXG4gICAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgICBjb25zdCBmbGlwUXVhZEVkZ2VzID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZmxpcFF1YWRFZGdlcycpID8gb3B0aW9ucy5mbGlwUXVhZEVkZ2VzIDogdHJ1ZTtcclxuICAgIGNvbnN0IGhlaWdodFN0aWNrTGVuZ3RoID0gaGVpZ2h0ZmllbGREYXRhLmxlbmd0aDtcclxuICAgIGNvbnN0IGhlaWdodFN0aWNrV2lkdGggPSBoZWlnaHRTdGlja0xlbmd0aCA+IDAgPyBoZWlnaHRmaWVsZERhdGFbMF0ubGVuZ3RoIDogMDtcclxuICAgIGNvbnN0IGRhdGEgPSBBbW1vLl9tYWxsb2MoaGVpZ2h0U3RpY2tMZW5ndGggKiBoZWlnaHRTdGlja1dpZHRoICogNCk7XHJcbiAgICBjb25zdCBwdHIgPSBkYXRhIC8gNDtcclxuICAgIGxldCBtaW5IZWlnaHQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XHJcbiAgICBsZXQgbWF4SGVpZ2h0ID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGZvciAobGV0IGwgPSAwOyBsIDwgaGVpZ2h0U3RpY2tMZW5ndGg7IGwrKykge1xyXG4gICAgICAgIGZvciAobGV0IHcgPSAwOyB3IDwgaGVpZ2h0U3RpY2tXaWR0aDsgdysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGhlaWdodGZpZWxkRGF0YVtsXVt3XTtcclxuICAgICAgICAgICAgQW1tby5IRUFQRjMyW3B0ciArIGluZGV4XSA9IGhlaWdodDtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgbWluSGVpZ2h0ID0gTWF0aC5taW4obWluSGVpZ2h0LCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29sbGlzaW9uU2hhcGUgPSBuZXcgQW1tby5idEhlaWdodGZpZWxkVGVycmFpblNoYXBlKGhlaWdodFN0aWNrV2lkdGgsIGhlaWdodFN0aWNrTGVuZ3RoLCBkYXRhLCBoZWlnaHRTY2FsZSwgbWluSGVpZ2h0LCBtYXhIZWlnaHQsIHVwQXhpcywgaGR0LCBmbGlwUXVhZEVkZ2VzKTtcclxuICAgIGNvbnN0IHNjYWxlID0gbmV3IEFtbW8uYnRWZWN0b3IzKGhlaWdodGZpZWxkRGlzdGFuY2UsIDEsIGhlaWdodGZpZWxkRGlzdGFuY2UpO1xyXG4gICAgY29sbGlzaW9uU2hhcGUuc2V0TG9jYWxTY2FsaW5nKHNjYWxlKTtcclxuICAgIEFtbW8uZGVzdHJveShzY2FsZSk7XHJcbiAgICBjb2xsaXNpb25TaGFwZS5oZWlnaHRmaWVsZERhdGEgPSBkYXRhO1xyXG4gICAgX2ZpbmlzaENvbGxpc2lvblNoYXBlKGNvbGxpc2lvblNoYXBlLCBvcHRpb25zKTtcclxuICAgIHJldHVybiBjb2xsaXNpb25TaGFwZTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVIZWlnaHRmaWVsZFRlcnJhaW5TaGFwZSA9IGNyZWF0ZUhlaWdodGZpZWxkVGVycmFpblNoYXBlO1xyXG5mdW5jdGlvbiBfc2V0T3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICAvLyBNT0QgKHlhbmRldSk6IEFsbCBvZiB0aGlzIHdpbGwgYmUgZG9uZSBpbiBwaHlzaWNzLnRzXHJcbiAgICAvLyB3ZSBvbmx5IGtlZXAgdHlwZSBhbmQgbWFyZ2luXHJcbiAgICBvcHRpb25zLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgZXhwb3J0cy5UWVBFLkhVTEw7XHJcbiAgICBvcHRpb25zLm1hcmdpbiA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21hcmdpbicpID8gb3B0aW9ucy5tYXJnaW4gOiAwLjAxO1xyXG4gICAgcmV0dXJuO1xyXG4gICAgb3B0aW9ucy5maXQgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdmaXQnKSA/IG9wdGlvbnMuZml0IDogZXhwb3J0cy5GSVQuQUxMO1xyXG4gICAgb3B0aW9ucy50eXBlID0gb3B0aW9ucy50eXBlIHx8IGV4cG9ydHMuVFlQRS5IVUxMO1xyXG4gICAgb3B0aW9ucy5taW5IYWxmRXh0ZW50ID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWluSGFsZkV4dGVudCcpID8gb3B0aW9ucy5taW5IYWxmRXh0ZW50IDogMDtcclxuICAgIG9wdGlvbnMubWF4SGFsZkV4dGVudCA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heEhhbGZFeHRlbnQnKSA/IG9wdGlvbnMubWF4SGFsZkV4dGVudCA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuICAgIG9wdGlvbnMuY3lsaW5kZXJBeGlzID0gb3B0aW9ucy5jeWxpbmRlckF4aXMgfHwgJ3knO1xyXG4gICAgb3B0aW9ucy5tYXJnaW4gPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdtYXJnaW4nKSA/IG9wdGlvbnMubWFyZ2luIDogMC4wMTtcclxuICAgIG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2luY2x1ZGVJbnZpc2libGUnKSA/IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSA6IGZhbHNlO1xyXG4gICAgaWYgKCFvcHRpb25zLm9mZnNldCkge1xyXG4gICAgICAgIG9wdGlvbnMub2Zmc2V0ID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFvcHRpb25zLm9yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9ucy5vcmllbnRhdGlvbiA9IG5ldyBpbmRleF8xLlF1YXRlcm5pb24oKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBfZmluaXNoQ29sbGlzaW9uU2hhcGUgPSBmdW5jdGlvbiAoY29sbGlzaW9uU2hhcGUsIG9wdGlvbnMsIHNjYWxlKSB7XHJcbiAgICAvLyBNT0QgKHlhbmRldSk6IEFsbCBvZiB0aGlzIHdpbGwgYmUgZG9uZSBpbiBwaHlzaWNzLnRzXHJcbiAgICByZXR1cm47XHJcbiAgICBjb2xsaXNpb25TaGFwZS50eXBlID0gb3B0aW9ucy50eXBlO1xyXG4gICAgY29sbGlzaW9uU2hhcGUuc2V0TWFyZ2luKG9wdGlvbnMubWFyZ2luKTtcclxuICAgIGNvbGxpc2lvblNoYXBlLmRlc3Ryb3kgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgcmVzIG9mIGNvbGxpc2lvblNoYXBlLnJlc291cmNlcyB8fCBbXSkge1xyXG4gICAgICAgICAgICBBbW1vLmRlc3Ryb3kocmVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbGxpc2lvblNoYXBlLmhlaWdodGZpZWxkRGF0YSkge1xyXG4gICAgICAgICAgICBBbW1vLl9mcmVlKGNvbGxpc2lvblNoYXBlLmhlaWdodGZpZWxkRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFtbW8uZGVzdHJveShjb2xsaXNpb25TaGFwZSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSBuZXcgQW1tby5idFRyYW5zZm9ybSgpO1xyXG4gICAgY29uc3Qgcm90YXRpb24gPSBuZXcgQW1tby5idFF1YXRlcm5pb24oKTtcclxuICAgIGxvY2FsVHJhbnNmb3JtLnNldElkZW50aXR5KCk7XHJcbiAgICBsb2NhbFRyYW5zZm9ybS5nZXRPcmlnaW4oKS5zZXRWYWx1ZShvcHRpb25zLm9mZnNldC54LCBvcHRpb25zLm9mZnNldC55LCBvcHRpb25zLm9mZnNldC56KTtcclxuICAgIHJvdGF0aW9uLnNldFZhbHVlKG9wdGlvbnMub3JpZW50YXRpb24ueCwgb3B0aW9ucy5vcmllbnRhdGlvbi55LCBvcHRpb25zLm9yaWVudGF0aW9uLnosIG9wdGlvbnMub3JpZW50YXRpb24udyk7XHJcbiAgICBsb2NhbFRyYW5zZm9ybS5zZXRSb3RhdGlvbihyb3RhdGlvbik7XHJcbiAgICBBbW1vLmRlc3Ryb3kocm90YXRpb24pO1xyXG4gICAgaWYgKHNjYWxlKSB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxTY2FsZSA9IG5ldyBBbW1vLmJ0VmVjdG9yMyhzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56KTtcclxuICAgICAgICBjb2xsaXNpb25TaGFwZS5zZXRMb2NhbFNjYWxpbmcobG9jYWxTY2FsZSk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KGxvY2FsU2NhbGUpO1xyXG4gICAgfVxyXG4gICAgY29sbGlzaW9uU2hhcGUubG9jYWxUcmFuc2Zvcm0gPSBsb2NhbFRyYW5zZm9ybTtcclxufTtcclxuZXhwb3J0cy5pdGVyYXRlR2VvbWV0cmllcyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBpbnZlcnNlID0gbmV3IGluZGV4XzEuTWF0cml4NCgpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyb290LCBvcHRpb25zLCBjYikge1xyXG4gICAgICAgIC8vIE1PRCAoeWFuZGV1KTogVXBkYXRlIHRvIHRocmVlLmpzIHIxMjNcclxuICAgICAgICAvLyBjb21wYXRpYmlsaXR5IGZpeCBmb3IgdGhyZWUuanMgPj0gcjEyMyAoRGV6ZW1iZXIgMjAyMClcclxuICAgICAgICBpZiAoK2luZGV4XzEuUkVWSVNJT04gPj0gMTIzKVxyXG4gICAgICAgICAgICBpbnZlcnNlLmNvcHkocm9vdC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBpbnZlcnNlLmdldEludmVyc2Uocm9vdC5tYXRyaXhXb3JsZCk7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgc2NhbGUuc2V0RnJvbU1hdHJpeFNjYWxlKHJvb3QubWF0cml4V29ybGQpO1xyXG4gICAgICAgIHJvb3QudHJhdmVyc2UobWVzaCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBpbmRleF8xLk1hdHJpeDQoKTtcclxuICAgICAgICAgICAgaWYgKG1lc2guaXNNZXNoICYmXHJcbiAgICAgICAgICAgICAgICAvLyBNT0QgKHlhbmRldSk6IE5vIG5lZWQgdG8gY2hlY2sgaWYgbmFtZSBpcyAnU2t5J1xyXG4gICAgICAgICAgICAgICAgLy8gbWVzaC5uYW1lICE9PSAnU2t5JyAmJlxyXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCAobWVzaC5lbCAmJiBtZXNoLmVsLm9iamVjdDNELnZpc2libGUpIHx8IG1lc2gudmlzaWJsZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtZXNoID09PSByb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLmlkZW50aXR5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5tdWx0aXBseU1hdHJpY2VzKGludmVyc2UsIG1lc2gubWF0cml4V29ybGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdG9kbzogbWlnaHQgd2FudCB0byByZXR1cm4gbnVsbCB4Zm9ybSBpZiB0aGlzIGlzIHRoZSByb290IHNvIHRoYXQgY2FsbGVycyBjYW4gYXZvaWQgbXVsdGlwbHlpbmdcclxuICAgICAgICAgICAgICAgIC8vIHRoaW5ncyBieSB0aGUgaWRlbnRpdHkgbWF0cml4XHJcbiAgICAgICAgICAgICAgICBjYihtZXNoLmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkgPyBtZXNoLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkgOiBtZXNoLmdlb21ldHJ5LnZlcnRpY2VzLCB0cmFuc2Zvcm0uZWxlbWVudHMsIG1lc2guZ2VvbWV0cnkuaW5kZXggPyBtZXNoLmdlb21ldHJ5LmluZGV4LmFycmF5IDogbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmNvbnN0IF9jb21wdXRlU2NhbGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgbWF0cml4ID0gbmV3IGluZGV4XzEuTWF0cml4NCgpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtYXRyaXhXb3JsZCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBuZXcgaW5kZXhfMS5WZWN0b3IzKDEsIDEsIDEpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmZpdCA9PT0gZXhwb3J0cy5GSVQuQUxMKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeC5mcm9tQXJyYXkobWF0cml4V29ybGQpO1xyXG4gICAgICAgICAgICBzY2FsZS5zZXRGcm9tTWF0cml4U2NhbGUobWF0cml4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xyXG4gICAgfTtcclxufSkoKTtcclxuY29uc3QgX2NvbXB1dGVSYWRpdXMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgY2VudGVyID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2ZXJ0aWNlcywgbWF0cmljZXMsIGJvdW5kcykge1xyXG4gICAgICAgIGxldCBtYXhSYWRpdXNTcSA9IDA7XHJcbiAgICAgICAgbGV0IHsgeDogY3gsIHk6IGN5LCB6OiBjeiB9ID0gYm91bmRzLmdldENlbnRlcihjZW50ZXIpO1xyXG4gICAgICAgIF9pdGVyYXRlVmVydGljZXModmVydGljZXMsIG1hdHJpY2VzLCB2ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZHggPSBjeCAtIHYueDtcclxuICAgICAgICAgICAgY29uc3QgZHkgPSBjeSAtIHYueTtcclxuICAgICAgICAgICAgY29uc3QgZHogPSBjeiAtIHYuejtcclxuICAgICAgICAgICAgbWF4UmFkaXVzU3EgPSBNYXRoLm1heChtYXhSYWRpdXNTcSwgZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KG1heFJhZGl1c1NxKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmNvbnN0IF9jb21wdXRlSGFsZkV4dGVudHMgPSBmdW5jdGlvbiAoYm91bmRzLCBtaW5IYWxmRXh0ZW50LCBtYXhIYWxmRXh0ZW50KSB7XHJcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgIHJldHVybiBoYWxmRXh0ZW50cy5zdWJWZWN0b3JzKGJvdW5kcy5tYXgsIGJvdW5kcy5taW4pLm11bHRpcGx5U2NhbGFyKDAuNSkuY2xhbXBTY2FsYXIobWluSGFsZkV4dGVudCwgbWF4SGFsZkV4dGVudCk7XHJcbn07XHJcbmNvbnN0IF9jb21wdXRlTG9jYWxPZmZzZXQgPSBmdW5jdGlvbiAobWF0cml4LCBib3VuZHMsIHRhcmdldCkge1xyXG4gICAgdGFyZ2V0LmFkZFZlY3RvcnMoYm91bmRzLm1heCwgYm91bmRzLm1pbikubXVsdGlwbHlTY2FsYXIoMC41KS5hcHBseU1hdHJpeDQobWF0cml4KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn07XHJcbi8vIHJldHVybnMgdGhlIGJvdW5kaW5nIGJveCBmb3IgdGhlIGdlb21ldHJpZXMgdW5kZXJuZWF0aCBgcm9vdGAuXHJcbmNvbnN0IF9jb21wdXRlQm91bmRzID0gZnVuY3Rpb24gKHZlcnRpY2VzLCBtYXRyaWNlcykge1xyXG4gICAgY29uc3QgYm91bmRzID0gbmV3IGluZGV4XzEuQm94MygpO1xyXG4gICAgbGV0IG1pblggPSArSW5maW5pdHk7XHJcbiAgICBsZXQgbWluWSA9ICtJbmZpbml0eTtcclxuICAgIGxldCBtaW5aID0gK0luZmluaXR5O1xyXG4gICAgbGV0IG1heFggPSAtSW5maW5pdHk7XHJcbiAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcclxuICAgIGxldCBtYXhaID0gLUluZmluaXR5O1xyXG4gICAgYm91bmRzLm1pbi5zZXQoMCwgMCwgMCk7XHJcbiAgICBib3VuZHMubWF4LnNldCgwLCAwLCAwKTtcclxuICAgIF9pdGVyYXRlVmVydGljZXModmVydGljZXMsIG1hdHJpY2VzLCB2ID0+IHtcclxuICAgICAgICBpZiAodi54IDwgbWluWClcclxuICAgICAgICAgICAgbWluWCA9IHYueDtcclxuICAgICAgICBpZiAodi55IDwgbWluWSlcclxuICAgICAgICAgICAgbWluWSA9IHYueTtcclxuICAgICAgICBpZiAodi56IDwgbWluWilcclxuICAgICAgICAgICAgbWluWiA9IHYuejtcclxuICAgICAgICBpZiAodi54ID4gbWF4WClcclxuICAgICAgICAgICAgbWF4WCA9IHYueDtcclxuICAgICAgICBpZiAodi55ID4gbWF4WSlcclxuICAgICAgICAgICAgbWF4WSA9IHYueTtcclxuICAgICAgICBpZiAodi56ID4gbWF4WilcclxuICAgICAgICAgICAgbWF4WiA9IHYuejtcclxuICAgIH0pO1xyXG4gICAgYm91bmRzLm1pbi5zZXQobWluWCwgbWluWSwgbWluWik7XHJcbiAgICBib3VuZHMubWF4LnNldChtYXhYLCBtYXhZLCBtYXhaKTtcclxuICAgIHJldHVybiBib3VuZHM7XHJcbn07XHJcbmNvbnN0IF9pdGVyYXRlVmVydGljZXMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdmVydGV4ID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgY29uc3QgbWF0cml4ID0gbmV3IGluZGV4XzEuTWF0cml4NCgpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2ZXJ0aWNlcywgbWF0cmljZXMsIGNiKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBtYXRyaXguZnJvbUFycmF5KG1hdHJpY2VzW2ldKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2ZXJ0aWNlc1tpXS5sZW5ndGg7IGogKz0gMykge1xyXG4gICAgICAgICAgICAgICAgdmVydGV4LnNldCh2ZXJ0aWNlc1tpXVtqXSwgdmVydGljZXNbaV1baiArIDFdLCB2ZXJ0aWNlc1tpXVtqICsgMl0pLmFwcGx5TWF0cml4NChtYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgY2IodmVydGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocmVlLXRvLWFtbW8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY3JlYXRlVG9ydXNTaGFwZSA9IHZvaWQgMDtcclxuLy8gaHR0cHM6Ly9weWJ1bGxldC5vcmcvQnVsbGV0L3BocEJCMy92aWV3dG9waWMucGhwP3Q9NzIyOFxyXG5jb25zdCBjcmVhdGVUb3J1c1NoYXBlID0gKGNvbmZpZywgcXVhdCkgPT4ge1xyXG4gICAgY29uc3QgeyByYWRpdXMgPSAxLCB0dWJlID0gMC40LCB0dWJ1bGFyU2VnbWVudHMgPSA4IH0gPSBjb25maWc7XHJcbiAgICBjb25zdCBTSU1EX1BJID0gTWF0aC5QSTtcclxuICAgIGNvbnN0IHN1YmRpdmlzaW9ucyA9IHR1YnVsYXJTZWdtZW50cztcclxuICAgIGNvbnN0IGdhcCA9IE1hdGguc3FydCgyLjAgKiB0dWJlICogdHViZSAtIDIuMCAqIHR1YmUgKiB0dWJlICogTWF0aC5jb3MoKDIuMCAqIFNJTURfUEkpIC8gc3ViZGl2aXNpb25zKSk7XHJcbiAgICBjb25zdCBidEhhbGZFeHRlbnRzID0gbmV3IEFtbW8uYnRWZWN0b3IzKHR1YmUsIFNJTURfUEkgLyBzdWJkaXZpc2lvbnMgKyAwLjUgKiBnYXAsIHR1YmUpO1xyXG4gICAgY29uc3QgY3lsaW5kZXJTaGFwZSA9IG5ldyBBbW1vLmJ0Q3lsaW5kZXJTaGFwZShidEhhbGZFeHRlbnRzKTtcclxuICAgIGN5bGluZGVyU2hhcGUuc2V0TWFyZ2luKDAuMDUpO1xyXG4gICAgY29uc3QgY29tcG91bmRTaGFwZSA9IG5ldyBBbW1vLmJ0Q29tcG91bmRTaGFwZSgpO1xyXG4gICAgY29uc3QgZm9yd2FyZCA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAxKTtcclxuICAgIGNvbnN0IHNpZGUgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgcmFkaXVzLCAwKTtcclxuICAgIGNvbnN0IHJvdGF0aW9uID0gbmV3IEFtbW8uYnRRdWF0ZXJuaW9uKHF1YXQueCwgcXVhdC55LCBxdWF0LnosIHF1YXQudyk7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHN1YmRpdmlzaW9uczsgeCsrKSB7XHJcbiAgICAgICAgY29uc3QgYW5nbGUgPSAoeCAqIDIuMCAqIFNJTURfUEkpIC8gc3ViZGl2aXNpb25zO1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gc2lkZS5yb3RhdGUoZm9yd2FyZCwgYW5nbGUpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgcm90YXRpb24uc2V0Um90YXRpb24oZm9yd2FyZCwgYW5nbGUgKyBNYXRoLlBJIC8gMik7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldElkZW50aXR5KCk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldE9yaWdpbihwb3NpdGlvbik7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldFJvdGF0aW9uKHJvdGF0aW9uKTtcclxuICAgICAgICBjb21wb3VuZFNoYXBlLmFkZENoaWxkU2hhcGUodHJhbnNmb3JtLCBjeWxpbmRlclNoYXBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21wb3VuZFNoYXBlO1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVRvcnVzU2hhcGUgPSBjcmVhdGVUb3J1c1NoYXBlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b3J1c1NoYXBlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL21peGlucy5odG1sXHJcbmNvbnN0IGFwcGx5TWl4aW5zID0gKGRlcml2ZWRDdG9yLCBiYXNlQ3RvcnMpID0+IHtcclxuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGJhc2VDdG9yID0+IHtcclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgbmFtZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlQ3Rvci5wcm90b3R5cGUsIG5hbWUpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBhcHBseU1peGlucztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbHlNaXhpbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jbGFzcyBEZWZhdWx0TWF0ZXJpYWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fZGVmYXVsdE1hdGVyaWFsID0gbmV3IGluZGV4XzEuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiAweGNjY2NjYyB9KTtcclxuICAgIH1cclxuICAgIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdE1hdGVyaWFsO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IERlZmF1bHRNYXRlcmlhbDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdE1hdGVyaWFsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkV4dGVuZGVkR3JvdXAgPSB2b2lkIDA7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY2xhc3MgRXh0ZW5kZWRHcm91cCBleHRlbmRzIGluZGV4XzEuR3JvdXAge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlzTWVzaCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaGFzQm9keSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGBvYmplY3QtJHt0aGlzLmlkfWA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5FeHRlbmRlZEdyb3VwID0gRXh0ZW5kZWRHcm91cDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW5kZWRHcm91cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5FeHRlbmRlZE1lc2ggPSB2b2lkIDA7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY2xhc3MgRXh0ZW5kZWRNZXNoIGV4dGVuZHMgaW5kZXhfMS5NZXNoIHtcclxuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5LCBtYXRlcmlhbCkge1xyXG4gICAgICAgIHN1cGVyKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgdGhpcy52ZWN0b3IzID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuaXNHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaGFzQm9keSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGBvYmplY3QtJHt0aGlzLmlkfWA7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyBhbGwgdmFsdWVzIHJlbGF0aXZlIHRvIHRoZSB3b3JsZC4gKi9cclxuICAgIGdldCB3b3JsZCgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aGV0YTogdGhpcy53b3JsZFRoZXRhLFxyXG4gICAgICAgICAgICBwaGk6IHRoaXMud29ybGRQaGlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqIEdldCB0aGUgdGhldGEgcmVsYXRpdmUgdG8gdGhlIHdvcmxkLiAqL1xyXG4gICAgZ2V0IHdvcmxkVGhldGEoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRXb3JsZERpcmVjdGlvbih0aGlzLnZlY3RvcjMpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMudmVjdG9yMy54LCB0aGlzLnZlY3RvcjMueik7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IHRoZSBwaGkgcmVsYXRpdmUgdG8gdGhlIHdvcmxkLiAqL1xyXG4gICAgZ2V0IHdvcmxkUGhpKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0V29ybGREaXJlY3Rpb24odGhpcy52ZWN0b3IzKTtcclxuICAgICAgICByZXR1cm4gTWF0aC5hY29zKHRoaXMudmVjdG9yMy55KTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkV4dGVuZGVkTWVzaCA9IEV4dGVuZGVkTWVzaDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW5kZWRNZXNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkV4dGVuZGVkT2JqZWN0M0QgPSB2b2lkIDA7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuLyoqXHJcbiAqIEV4dGVuZHMgdGhlIE9iamVjdDNEIGNsYXNzIGZyb20gVEhSRUUuanMgYW5kIGltcGxlbWVudHMgcHJvcGVydGllcyBmcm9tIExpbmUsIE1lc2ggYW5kIFBvaW50cy5cclxuICovXHJcbmNsYXNzIEV4dGVuZGVkT2JqZWN0M0QgZXh0ZW5kcyBpbmRleF8xLk9iamVjdDNEIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy52ZWN0b3IzID0gbmV3IGluZGV4XzEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuaXNHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaGFzQm9keSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYW5pbXMgPSB7fTsgLy8gZGVwcmVjYXRlZFxyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRBbmltYXRpb24gPSAnJztcclxuICAgICAgICB0aGlzLl9hbmltYXRpb25BY3Rpb25zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGBvYmplY3QtJHt0aGlzLmlkfWA7XHJcbiAgICB9XHJcbiAgICAvKiogc2V0QWN0aW9uKG5hbWUpIGlzIGRlcHJlY2F0ZWQuIFVzZSBhbmltYXRpb24ucGxheShuYW1lKSBpbnN0ZWFkISAqL1xyXG4gICAgc2V0QWN0aW9uKG5hbWUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tlbmFibGUzZF0gc2V0QWN0aW9uKG5hbWUpIGlzIGRlcHJlY2F0ZWQuIFVzZSBhbmltYXRpb24ucGxheShuYW1lKSBpbnN0ZWFkIScpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uUGxheShuYW1lKTtcclxuICAgIH1cclxuICAgIC8qKiBSZXR1cm5zIGFsbCB2YWx1ZXMgcmVsYXRpdmUgdG8gdGhlIHdvcmxkLiAqL1xyXG4gICAgZ2V0IHdvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRoZXRhOiB0aGlzLndvcmxkVGhldGEsXHJcbiAgICAgICAgICAgIHBoaTogdGhpcy53b3JsZFBoaVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IHRoZSB0aGV0YSByZWxhdGl2ZSB0byB0aGUgd29ybGQuICovXHJcbiAgICBnZXQgd29ybGRUaGV0YSgpIHtcclxuICAgICAgICB0aGlzLmdldFdvcmxkRGlyZWN0aW9uKHRoaXMudmVjdG9yMyk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy52ZWN0b3IzLngsIHRoaXMudmVjdG9yMy56KTtcclxuICAgIH1cclxuICAgIC8qKiBHZXQgdGhlIHBoaSByZWxhdGl2ZSB0byB0aGUgd29ybGQuICovXHJcbiAgICBnZXQgd29ybGRQaGkoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRXb3JsZERpcmVjdGlvbih0aGlzLnZlY3RvcjMpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmFjb3ModGhpcy52ZWN0b3IzLnkpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGFuaW1hdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjdXJyZW50OiB0aGlzLl9jdXJyZW50QW5pbWF0aW9uLFxyXG4gICAgICAgICAgICBhZGQ6IChrZXksIGFuaW1hdGlvbikgPT4gdGhpcy5hbmltYXRpb25BZGQoa2V5LCBhbmltYXRpb24pLFxyXG4gICAgICAgICAgICBwbGF5OiAobmFtZSwgdHJhbnNpdGlvbkR1cmF0aW9uID0gNTAwLCBsb29wID0gdHJ1ZSkgPT4gdGhpcy5hbmltYXRpb25QbGF5KG5hbWUsIHRyYW5zaXRpb25EdXJhdGlvbiwgbG9vcCksXHJcbiAgICAgICAgICAgIG1peGVyOiB0aGlzLmFuaW1hdGlvbk1peGVyXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldCBhbmltYXRpb25NaXhlcihhbmltYXRpb25NaXhlcikge1xyXG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbk1peGVyID0gYW5pbWF0aW9uTWl4ZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgYW5pbWF0aW9uTWl4ZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9hbmltYXRpb25NaXhlcilcclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uTWl4ZXIgPSBuZXcgaW5kZXhfMS5BbmltYXRpb25NaXhlcih0aGlzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWF0aW9uTWl4ZXI7XHJcbiAgICB9XHJcbiAgICBhbmltYXRpb25BZGQoa2V5LCBhbmltYXRpb24pIHtcclxuICAgICAgICB0aGlzLl9hbmltYXRpb25BY3Rpb25zLnNldChrZXksIHRoaXMuYW5pbWF0aW9uTWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pKTtcclxuICAgIH1cclxuICAgIGFuaW1hdGlvblBsYXkobmFtZSwgdHJhbnNpdGlvbkR1cmF0aW9uID0gNTAwLCBsb29wID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLl9hbmltYXRpb25BY3Rpb25zLmdldChuYW1lKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fYW5pbWF0aW9uQWN0aW9ucy5nZXQodGhpcy5fY3VycmVudEFuaW1hdGlvbik7XHJcbiAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgbmV4dC5yZXNldCgpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgbmV4dC5jcm9zc0ZhZGVGcm9tKGN1cnJlbnQsIHRyYW5zaXRpb25EdXJhdGlvbiAvIDEwMDAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgbmV4dC5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFsb29wKVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zZXRMb29wKGluZGV4XzEuTG9vcE9uY2UsIDApO1xyXG4gICAgICAgICAgICBuZXh0LnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY3VycmVudEFuaW1hdGlvbiA9IG5hbWU7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5FeHRlbmRlZE9iamVjdDNEID0gRXh0ZW5kZWRPYmplY3QzRDtcclxuZXhwb3J0cy5kZWZhdWx0ID0gRXh0ZW5kZWRPYmplY3QzRDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW5kZWRPYmplY3QzRC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY29uc3QgZXh0ZW5kZWRNZXNoXzEgPSByZXF1aXJlKFwiLi9leHRlbmRlZE1lc2hcIik7XHJcbmNvbnN0IGxvZ2dlcl8xID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xyXG5jb25zdCBkZWZhdWx0TWF0ZXJpYWxfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRNYXRlcmlhbFwiKTtcclxuY2xhc3MgRmFjdG9yaWVzIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNIZWFkbGVzcyA9IHNjZW5lID09PSAnaGVhZGxlc3MnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IGRlZmF1bHRNYXRlcmlhbF8xLmRlZmF1bHQoKTtcclxuICAgIH1cclxuICAgIGdldCBtYWtlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBsYW5lOiAocGxhbmVDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5tYWtlUGxhbmUocGxhbmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgYm94OiAoYm94Q29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pID0+IHRoaXMubWFrZUJveChib3hDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgc3BoZXJlOiAoc3BoZXJlQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pID0+IHRoaXMubWFrZVNwaGVyZShzcGhlcmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgY3lsaW5kZXI6IChjeWxpbmRlckNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLm1ha2VDeWxpbmRlcihjeWxpbmRlckNvbmZpZywgbWF0ZXJpYWxDb25maWcpLFxyXG4gICAgICAgICAgICBjb25lOiAoY29uZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLm1ha2VDb25lKGNvbmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgdG9ydXM6ICh0b3J1c0NvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLm1ha2VUb3J1cyh0b3J1c0NvbmZpZywgbWF0ZXJpYWxDb25maWcpLFxyXG4gICAgICAgICAgICBleHRydWRlOiAoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5tYWtlRXh0cnVkZShleHRydWRlQ29uZmlnLCBtYXRlcmlhbENvbmZpZylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0IGFkZCgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvLyBlZmZlY3RDb21wb3NlcjogKCkgPT4gdGhpcy5hZGRFZmZlY3RDb21wb3NlcigpLFxyXG4gICAgICAgICAgICBtZXNoOiAobWVzaCkgPT4gdGhpcy5hZGRNZXNoKG1lc2gpLFxyXG4gICAgICAgICAgICAvLyBncm91cDogKC4uLmNoaWxkcmVuKSA9PiB0aGlzLmFkZEdyb3VwKGNoaWxkcmVuKSxcclxuICAgICAgICAgICAgZXhpc3Rpbmc6IChvYmplY3QpID0+IHRoaXMuYWRkRXhpc3Rpbmcob2JqZWN0KSxcclxuICAgICAgICAgICAgLy8gIEdlb21ldHJ5XHJcbiAgICAgICAgICAgIHBsYW5lOiAocGxhbmVDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5hZGRQbGFuZShwbGFuZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpLFxyXG4gICAgICAgICAgICBib3g6IChib3hDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5hZGRCb3goYm94Q29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIGdyb3VuZDogKGdyb3VuZENvbmZpZywgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5hZGRHcm91bmQoZ3JvdW5kQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIC8vLi4uXHJcbiAgICAgICAgICAgIHNwaGVyZTogKHNwaGVyZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLmFkZFNwaGVyZShzcGhlcmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgY3lsaW5kZXI6IChjeWxpbmRlckNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLmFkZEN5bGluZGVyKGN5bGluZGVyQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIGNvbmU6IChjb25lQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pID0+IHRoaXMuYWRkQ29uZShjb25lQ29uZmlnLCBtYXRlcmlhbENvbmZpZyksXHJcbiAgICAgICAgICAgIHRvcnVzOiAodG9ydXNDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5hZGRUb3J1cyh0b3J1c0NvbmZpZywgbWF0ZXJpYWxDb25maWcpLFxyXG4gICAgICAgICAgICBleHRydWRlOiAoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcgPSB7fSkgPT4gdGhpcy5hZGRFeHRydWRlKGV4dHJ1ZGVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSxcclxuICAgICAgICAgICAgLy8uLi5cclxuICAgICAgICAgICAgbWF0ZXJpYWw6IChtYXRlcmlhbENvbmZpZyA9IHt9KSA9PiB0aGlzLmFkZE1hdGVyaWFsKG1hdGVyaWFsQ29uZmlnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRFeGlzdGluZyguLi5vYmplY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZSA9PT0gJ2hlYWRsZXNzJylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKC4uLm9iamVjdCk7XHJcbiAgICB9XHJcbiAgICBhZGRNZXNoKG1lc2gpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNoKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXhpc3RpbmcobWVzaFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRXhpc3RpbmcobWVzaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgeyB4ID0gMCwgeSA9IDAsIHogPSAwIH0gPSBwb3NpdGlvbjtcclxuICAgICAgICBsZXQgb2JqO1xyXG4gICAgICAgIHN3aXRjaCAoIUFycmF5LmlzQXJyYXkobWF0ZXJpYWwpICYmIG1hdGVyaWFsLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnTGluZUJhc2ljTWF0ZXJpYWwnOlxyXG4gICAgICAgICAgICAgICAgb2JqID0gbmV3IGluZGV4XzEuTGluZShnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1BvaW50c01hdGVyaWFsJzpcclxuICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBpbmRleF8xLlBvaW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBvYmogPSBuZXcgZXh0ZW5kZWRNZXNoXzEuRXh0ZW5kZWRNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgICAgICBvYmouY2FzdFNoYWRvdyA9IG9iai5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgbWFrZUV4dHJ1ZGUoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpIHtcclxuICAgICAgICBjb25zdCB7IHgsIHksIHosIG5hbWUsIHNoYXBlLCBhdXRvQ2VudGVyID0gdHJ1ZSwgYnJlYWthYmxlID0gZmFsc2UsIGJ1ZmZlckdlb21ldHJ5ID0gdHJ1ZSB9ID0gZXh0cnVkZUNvbmZpZywgcmVzdCA9IF9fcmVzdChleHRydWRlQ29uZmlnXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBFeHRydWRlR2VvbWV0cnlPcHRpb25zIGludGVyZmFjZSBtaXNzaW5nIHNpbmNlIHRocmVlLmpzIHIxMjFcclxuICAgICAgICAsIFtcInhcIiwgXCJ5XCIsIFwielwiLCBcIm5hbWVcIiwgXCJzaGFwZVwiLCBcImF1dG9DZW50ZXJcIiwgXCJicmVha2FibGVcIiwgXCJidWZmZXJHZW9tZXRyeVwiXSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBFeHRydWRlR2VvbWV0cnlPcHRpb25zIGludGVyZmFjZSBtaXNzaW5nIHNpbmNlIHRocmVlLmpzIHIxMjFcclxuICAgICAgICBjb25zdCB7IGRlcHRoID0gMSwgYmV2ZWxFbmFibGVkID0gZmFsc2UgfSA9IHJlc3Q7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBidWZmZXJHZW9tZXRyeSB8fCBicmVha2FibGUgfHwgdGhpcy5pc0hlYWRsZXNzXHJcbiAgICAgICAgICAgID8gbmV3IGluZGV4XzEuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5KHNoYXBlLCBPYmplY3QuYXNzaWduKHsgZGVwdGgsIGJldmVsRW5hYmxlZCB9LCByZXN0KSlcclxuICAgICAgICAgICAgOiBuZXcgaW5kZXhfMS5FeHRydWRlR2VvbWV0cnkoc2hhcGUsIE9iamVjdC5hc3NpZ24oeyBkZXB0aCwgYmV2ZWxFbmFibGVkIH0sIHJlc3QpKTtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMuYWRkTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIGNvbnN0IG1lc2ggPSB0aGlzLmNyZWF0ZU1lc2goZ2VvbWV0cnksIG1hdGVyaWFsLCB7IHgsIHksIHogfSk7XHJcbiAgICAgICAgLy8gYXV0byBhZGp1c3QgdGhlIGNlbnRlciBmb3IgY3VzdG9tIHNoYXBlc1xyXG4gICAgICAgIGlmIChhdXRvQ2VudGVyKVxyXG4gICAgICAgICAgICBtZXNoLmdlb21ldHJ5LmNlbnRlcigpO1xyXG4gICAgICAgIG1lc2gubmFtZSA9IG5hbWUgfHwgYGJvZHlfaWRfJHttZXNoLmlkfWA7XHJcbiAgICAgICAgbWVzaC5zaGFwZSA9ICdleHRydWRlJztcclxuICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgIH1cclxuICAgIGFkZEV4dHJ1ZGUoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWFrZUV4dHJ1ZGUoZXh0cnVkZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3Rpbmcob2JqKTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgbWFrZVBsYW5lKHBsYW5lQ29uZmlnLCBtYXRlcmlhbENvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgeiwgbmFtZSwgYnJlYWthYmxlID0gZmFsc2UsIGJ1ZmZlckdlb21ldHJ5ID0gdHJ1ZSB9ID0gcGxhbmVDb25maWcsIHJlc3QgPSBfX3Jlc3QocGxhbmVDb25maWcsIFtcInhcIiwgXCJ5XCIsIFwielwiLCBcIm5hbWVcIiwgXCJicmVha2FibGVcIiwgXCJidWZmZXJHZW9tZXRyeVwiXSk7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBidWZmZXJHZW9tZXRyeSB8fCBicmVha2FibGUgfHwgdGhpcy5pc0hlYWRsZXNzXHJcbiAgICAgICAgICAgID8gbmV3IGluZGV4XzEuUGxhbmVCdWZmZXJHZW9tZXRyeShyZXN0LndpZHRoIHx8IDEsIHJlc3QuaGVpZ2h0IHx8IDEsIHJlc3Qud2lkdGhTZWdtZW50cyB8fCAxLCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IDEpXHJcbiAgICAgICAgICAgIDogbmV3IGluZGV4XzEuUGxhbmVHZW9tZXRyeShyZXN0LndpZHRoIHx8IDEsIHJlc3QuaGVpZ2h0IHx8IDEsIHJlc3Qud2lkdGhTZWdtZW50cyB8fCAxLCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IDEpO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5hZGRNYXRlcmlhbChtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IGluZGV4XzEuRG91YmxlU2lkZTtcclxuICAgICAgICBjb25zdCBtZXNoID0gdGhpcy5jcmVhdGVNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCwgeyB4LCB5LCB6IH0pO1xyXG4gICAgICAgIG1lc2gubmFtZSA9IG5hbWUgfHwgYGJvZHlfaWRfJHttZXNoLmlkfWA7XHJcbiAgICAgICAgbWVzaC5zaGFwZSA9ICdwbGFuZSc7XHJcbiAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICB9XHJcbiAgICBhZGRQbGFuZShwbGFuZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1ha2VQbGFuZShwbGFuZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3Rpbmcob2JqKTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgbWFrZVNwaGVyZShzcGhlcmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6LCBuYW1lLCBicmVha2FibGUgPSBmYWxzZSwgYnVmZmVyR2VvbWV0cnkgPSB0cnVlIH0gPSBzcGhlcmVDb25maWcsIHJlc3QgPSBfX3Jlc3Qoc3BoZXJlQ29uZmlnLCBbXCJ4XCIsIFwieVwiLCBcInpcIiwgXCJuYW1lXCIsIFwiYnJlYWthYmxlXCIsIFwiYnVmZmVyR2VvbWV0cnlcIl0pO1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYnVmZmVyR2VvbWV0cnkgfHwgYnJlYWthYmxlIHx8IHRoaXMuaXNIZWFkbGVzc1xyXG4gICAgICAgICAgICA/IG5ldyBpbmRleF8xLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KHJlc3QucmFkaXVzIHx8IDEsIHJlc3Qud2lkdGhTZWdtZW50cyB8fCAxNiwgcmVzdC5oZWlnaHRTZWdtZW50cyB8fCAxMiwgcmVzdC5waGlTdGFydCB8fCB1bmRlZmluZWQsIHJlc3QucGhpTGVuZ3RoIHx8IHVuZGVmaW5lZCwgcmVzdC50aGV0YVN0YXJ0IHx8IHVuZGVmaW5lZCwgcmVzdC50aGV0YUxlbmd0aCB8fCB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIDogbmV3IGluZGV4XzEuU3BoZXJlR2VvbWV0cnkocmVzdC5yYWRpdXMgfHwgMSwgcmVzdC53aWR0aFNlZ21lbnRzIHx8IDE2LCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IDEyLCByZXN0LnBoaVN0YXJ0IHx8IHVuZGVmaW5lZCwgcmVzdC5waGlMZW5ndGggfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhU3RhcnQgfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhTGVuZ3RoIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLmFkZE1hdGVyaWFsKG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICBjb25zdCBtZXNoID0gdGhpcy5jcmVhdGVNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCwgeyB4LCB5LCB6IH0pO1xyXG4gICAgICAgIG1lc2gubmFtZSA9IG5hbWUgfHwgYGJvZHlfaWRfJHttZXNoLmlkfWA7XHJcbiAgICAgICAgbWVzaC5zaGFwZSA9ICdzcGhlcmUnO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG4gICAgYWRkU3BoZXJlKHNwaGVyZUNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5tYWtlU3BoZXJlKHNwaGVyZUNvbmZpZywgbWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIHRoaXMuYWRkRXhpc3Rpbmcob2JqKTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgbWFrZUJveChib3hDb25maWcsIG1hdGVyaWFsQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6LCBuYW1lLCBicmVha2FibGUgPSBmYWxzZSwgYnVmZmVyR2VvbWV0cnkgPSB0cnVlIH0gPSBib3hDb25maWcsIHJlc3QgPSBfX3Jlc3QoYm94Q29uZmlnLCBbXCJ4XCIsIFwieVwiLCBcInpcIiwgXCJuYW1lXCIsIFwiYnJlYWthYmxlXCIsIFwiYnVmZmVyR2VvbWV0cnlcIl0pO1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYnVmZmVyR2VvbWV0cnkgfHwgYnJlYWthYmxlIHx8IHRoaXMuaXNIZWFkbGVzc1xyXG4gICAgICAgICAgICA/IG5ldyBpbmRleF8xLkJveEJ1ZmZlckdlb21ldHJ5KHJlc3Qud2lkdGggfHwgMSwgcmVzdC5oZWlnaHQgfHwgMSwgcmVzdC5kZXB0aCB8fCAxLCByZXN0LndpZHRoU2VnbWVudHMgfHwgdW5kZWZpbmVkLCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC5kZXB0aFNlZ21lbnRzIHx8IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgOiBuZXcgaW5kZXhfMS5Cb3hHZW9tZXRyeShyZXN0LndpZHRoIHx8IDEsIHJlc3QuaGVpZ2h0IHx8IDEsIHJlc3QuZGVwdGggfHwgMSwgcmVzdC53aWR0aFNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC5oZWlnaHRTZWdtZW50cyB8fCB1bmRlZmluZWQsIHJlc3QuZGVwdGhTZWdtZW50cyB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5hZGRNYXRlcmlhbChtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgbWVzaCA9IHRoaXMuY3JlYXRlTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwsIHsgeCwgeSwgeiB9KTtcclxuICAgICAgICBtZXNoLm5hbWUgPSBuYW1lIHx8IGBib2R5X2lkXyR7bWVzaC5pZH1gO1xyXG4gICAgICAgIG1lc2guc2hhcGUgPSAnYm94JztcclxuICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgIH1cclxuICAgIGFkZEJveChib3hDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWFrZUJveChib3hDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIGFkZEdyb3VuZChncm91bmRDb25maWcsIG1hdGVyaWFsQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1ha2VCb3goZ3JvdW5kQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgb2JqLnJvdGF0ZVgoaW5kZXhfMS5NYXRoVXRpbHMuZGVnVG9SYWQoOTApKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIG1ha2VDeWxpbmRlcihjeWxpbmRlckNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6LCBuYW1lLCBicmVha2FibGUgPSBmYWxzZSwgYnVmZmVyR2VvbWV0cnkgPSB0cnVlIH0gPSBjeWxpbmRlckNvbmZpZywgcmVzdCA9IF9fcmVzdChjeWxpbmRlckNvbmZpZywgW1wieFwiLCBcInlcIiwgXCJ6XCIsIFwibmFtZVwiLCBcImJyZWFrYWJsZVwiLCBcImJ1ZmZlckdlb21ldHJ5XCJdKTtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGJ1ZmZlckdlb21ldHJ5IHx8IGJyZWFrYWJsZSB8fCB0aGlzLmlzSGVhZGxlc3NcclxuICAgICAgICAgICAgPyBuZXcgaW5kZXhfMS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KHJlc3QucmFkaXVzVG9wIHx8IDEsIHJlc3QucmFkaXVzQm90dG9tIHx8IDEsIHJlc3QuaGVpZ2h0IHx8IDEsIHJlc3QucmFkaXVzU2VnbWVudHMgfHwgdW5kZWZpbmVkLCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC5vcGVuRW5kZWQgfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhU3RhcnQgfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhTGVuZ3RoIHx8IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgOiBuZXcgaW5kZXhfMS5DeWxpbmRlckdlb21ldHJ5KHJlc3QucmFkaXVzVG9wIHx8IDEsIHJlc3QucmFkaXVzQm90dG9tIHx8IDEsIHJlc3QuaGVpZ2h0IHx8IDEsIHJlc3QucmFkaXVzU2VnbWVudHMgfHwgdW5kZWZpbmVkLCByZXN0LmhlaWdodFNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC5vcGVuRW5kZWQgfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhU3RhcnQgfHwgdW5kZWZpbmVkLCByZXN0LnRoZXRhTGVuZ3RoIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLmFkZE1hdGVyaWFsKG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICBjb25zdCBtZXNoID0gdGhpcy5jcmVhdGVNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCwgeyB4LCB5LCB6IH0pO1xyXG4gICAgICAgIG1lc2gubmFtZSA9IG5hbWUgfHwgYGJvZHlfaWRfJHttZXNoLmlkfWA7XHJcbiAgICAgICAgbWVzaC5zaGFwZSA9ICdjeWxpbmRlcic7XHJcbiAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICB9XHJcbiAgICBhZGRDeWxpbmRlcihjeWxpbmRlckNvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5tYWtlQ3lsaW5kZXIoY3lsaW5kZXJDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIG1ha2VDb25lKGNvbmVDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgeiwgbmFtZSwgYnJlYWthYmxlID0gZmFsc2UsIGJ1ZmZlckdlb21ldHJ5ID0gdHJ1ZSB9ID0gY29uZUNvbmZpZywgcmVzdCA9IF9fcmVzdChjb25lQ29uZmlnLCBbXCJ4XCIsIFwieVwiLCBcInpcIiwgXCJuYW1lXCIsIFwiYnJlYWthYmxlXCIsIFwiYnVmZmVyR2VvbWV0cnlcIl0pO1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYnVmZmVyR2VvbWV0cnkgfHwgYnJlYWthYmxlIHx8IHRoaXMuaXNIZWFkbGVzc1xyXG4gICAgICAgICAgICA/IG5ldyBpbmRleF8xLkNvbmVCdWZmZXJHZW9tZXRyeShyZXN0LnJhZGl1cyB8fCAxLCByZXN0LmhlaWdodCB8fCAxLCByZXN0LnJhZGl1c1NlZ21lbnRzIHx8IDgsIHJlc3QuaGVpZ2h0U2VnbWVudHMgfHwgMSwgcmVzdC5vcGVuRW5kZWQgfHwgZmFsc2UsIHJlc3QudGhldGFTdGFydCB8fCAwLCByZXN0LnRoZXRhTGVuZ3RoIHx8IDIgKiBNYXRoLlBJKVxyXG4gICAgICAgICAgICA6IG5ldyBpbmRleF8xLkNvbmVCdWZmZXJHZW9tZXRyeShyZXN0LnJhZGl1cyB8fCAxLCByZXN0LmhlaWdodCB8fCAxLCByZXN0LnJhZGl1c1NlZ21lbnRzIHx8IDgsIHJlc3QuaGVpZ2h0U2VnbWVudHMgfHwgMSwgcmVzdC5vcGVuRW5kZWQgfHwgZmFsc2UsIHJlc3QudGhldGFTdGFydCB8fCAwLCByZXN0LnRoZXRhTGVuZ3RoIHx8IDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMuYWRkTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcpO1xyXG4gICAgICAgIGNvbnN0IG1lc2ggPSB0aGlzLmNyZWF0ZU1lc2goZ2VvbWV0cnksIG1hdGVyaWFsLCB7IHgsIHksIHogfSk7XHJcbiAgICAgICAgbWVzaC5uYW1lID0gbmFtZSB8fCBgYm9keV9pZF8ke21lc2guaWR9YDtcclxuICAgICAgICBtZXNoLnNoYXBlID0gJ2NvbmUnO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG4gICAgYWRkQ29uZShjb25lQ29uZmlnID0ge30sIG1hdGVyaWFsQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1ha2VDb25lKGNvbmVDb25maWcsIG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICB0aGlzLmFkZEV4aXN0aW5nKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy9pbmRleC5odG1sI2FwaS9lbi9nZW9tZXRyaWVzL1RvcnVzQnVmZmVyR2VvbWV0cnlcclxuICAgIG1ha2VUb3J1cyh0b3J1c0NvbmZpZyA9IHt9LCBtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6LCBuYW1lLCBicmVha2FibGUgPSBmYWxzZSwgYnVmZmVyR2VvbWV0cnkgPSB0cnVlIH0gPSB0b3J1c0NvbmZpZywgcmVzdCA9IF9fcmVzdCh0b3J1c0NvbmZpZywgW1wieFwiLCBcInlcIiwgXCJ6XCIsIFwibmFtZVwiLCBcImJyZWFrYWJsZVwiLCBcImJ1ZmZlckdlb21ldHJ5XCJdKTtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGJ1ZmZlckdlb21ldHJ5IHx8IGJyZWFrYWJsZSB8fCB0aGlzLmlzSGVhZGxlc3NcclxuICAgICAgICAgICAgPyBuZXcgaW5kZXhfMS5Ub3J1c0J1ZmZlckdlb21ldHJ5KHJlc3QucmFkaXVzIHx8IHVuZGVmaW5lZCwgcmVzdC50dWJlIHx8IHVuZGVmaW5lZCwgcmVzdC5yYWRpYWxTZWdtZW50cyB8fCB1bmRlZmluZWQsIHJlc3QudHVidWxhclNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC5hcmMgfHwgdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICA6IG5ldyBpbmRleF8xLlRvcnVzR2VvbWV0cnkocmVzdC5yYWRpdXMgfHwgdW5kZWZpbmVkLCByZXN0LnR1YmUgfHwgdW5kZWZpbmVkLCByZXN0LnJhZGlhbFNlZ21lbnRzIHx8IHVuZGVmaW5lZCwgcmVzdC50dWJ1bGFyU2VnbWVudHMgfHwgdW5kZWZpbmVkLCByZXN0LmFyYyB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5hZGRNYXRlcmlhbChtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgbWVzaCA9IHRoaXMuY3JlYXRlTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwsIHsgeCwgeSwgeiB9KTtcclxuICAgICAgICBtZXNoLm5hbWUgPSBuYW1lIHx8IGBib2R5X2lkXyR7bWVzaC5pZH1gO1xyXG4gICAgICAgIG1lc2guc2hhcGUgPSAndG9ydXMnO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG4gICAgYWRkVG9ydXModG9ydXNDb25maWcgPSB7fSwgbWF0ZXJpYWxDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWFrZVRvcnVzKHRvcnVzQ29uZmlnLCBtYXRlcmlhbENvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5hZGRFeGlzdGluZyhvYmopO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICBhZGRNYXRlcmlhbChtYXRlcmlhbENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IE9iamVjdC5rZXlzKG1hdGVyaWFsQ29uZmlnKVswXTtcclxuICAgICAgICBsZXQgbWF0ZXJpYWw7XHJcbiAgICAgICAgLy8gaWYgKHR5cGUpIHtcclxuICAgICAgICAvLyAgIGNvbnN0IHsgbWFwIH0gPSBtYXRlcmlhbENvbmZpZ1t0eXBlXVxyXG4gICAgICAgIC8vICAgaWYgKHR5cGVvZiBtYXAgPT09ICdzdHJpbmcnKSBtYXRlcmlhbENvbmZpZ1t0eXBlXS5tYXAgPSB0aGlzLmxvYWRUZXh0dXJlKG1hcClcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gYWx3YXlzIHNoYXJlIHRoZSBzYW1lIG1hdGVyaWFsIGluIGhlYWRsZXNzIG1vZGUgdG8gc2F2ZSBtZW1vcnlcclxuICAgICAgICBpZiAodGhpcy5zY2VuZSA9PT0gJ2hlYWRsZXNzJylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdE1hdGVyaWFsLmdldCgpO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdiYXNpYyc6XHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBpbmRleF8xLk1lc2hCYXNpY01hdGVyaWFsKG1hdGVyaWFsQ29uZmlnLmJhc2ljKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgaW5kZXhfMS5NZXNoTm9ybWFsTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcubm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzdGFuZGFyZCc6XHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBpbmRleF8xLk1lc2hTdGFuZGFyZE1hdGVyaWFsKG1hdGVyaWFsQ29uZmlnLnN0YW5kYXJkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdsYW1iZXJ0JzpcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IGluZGV4XzEuTWVzaExhbWJlcnRNYXRlcmlhbChtYXRlcmlhbENvbmZpZy5sYW1iZXJ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaG9uZyc6XHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBpbmRleF8xLk1lc2hQaG9uZ01hdGVyaWFsKG1hdGVyaWFsQ29uZmlnLnBob25nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaHlzaWNhbCc6XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hdGVyaWFsQ29uZmlnLnBoeXNpY2FsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IGluZGV4XzEuTWVzaFBoeXNpY2FsTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcucGh5c2ljYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEuZGVmYXVsdCgnWW91IG5lZWQgdG8gcGFzcyBwYXJhbWV0ZXJzIHRvIHRoZSBwaHlzaWNhbCBtYXRlcmlhbC4gKEZhbGxiYWNrIHRvIGRlZmF1bHQgbWF0ZXJpYWwpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSB0aGlzLmRlZmF1bHRNYXRlcmlhbC5nZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b29uJzpcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IGluZGV4XzEuTWVzaFRvb25NYXRlcmlhbChtYXRlcmlhbENvbmZpZy50b29uKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdsaW5lJzpcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IGluZGV4XzEuTGluZUJhc2ljTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcubGluZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncG9pbnRzJzpcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IGluZGV4XzEuUG9pbnRzTWF0ZXJpYWwobWF0ZXJpYWxDb25maWcucG9pbnRzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjdXN0b20nOlxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBtYXRlcmlhbENvbmZpZy5jdXN0b20gfHwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwuZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gdGhpcy5kZWZhdWx0TWF0ZXJpYWwuZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEZhY3RvcmllcztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjdG9yaWVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGxvZ2dlciA9IChtc2cpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYCVjIFtlbmFibGUzZF0gJHttc2d9IGAsICdiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogI2JhZGE1NScpO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBsb2dnZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvbiAgVGhpcyBjb2RlIGhhcyBvcmlnaW5hbGx5IGJlZW4gY29waWVkIGZyb20gU2tldGNoYm9va1xyXG4gKlxyXG4gKiBAYXV0aG9yICAgICAgIHN3aWZ0NTAyIDxibGFoYS5qNTAyQGdtYWlsLmNvbT4gKGh0dHA6Ly9qYmxhaGEuYXJ0LylcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMTggc3dpZnQ1MDI7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vc3dpZnQ1MDIvU2tldGNoYm9va1xyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vc3dpZnQ1MDIvU2tldGNoYm9vay9ibG9iL21hc3Rlci9MSUNFTlNFfEdQTC0zLjB9XHJcbiAqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5GaXJzdFBlcnNvbkNvbnRyb2xzID0gdm9pZCAwO1xyXG5jb25zdCBkaXN0XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdFwiKTtcclxuY2xhc3MgRmlyc3RQZXJzb25Db250cm9scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmEsIHRhcmdldCwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQgPSBuZXcgZGlzdF8xLlZlY3RvcjMoMCwgMCwgMCksIHNlbnNpdGl2aXR5ID0gbmV3IGRpc3RfMS5WZWN0b3IyKDEsIDEpLCByYWRpdXMgPSA4LCB0YXJnZXRSYWRpdXMgPSAxMCwgaW50ZXJwb2xhdGlvbkZhY3RvciA9IDAuMDUsIHBvaW50ZXJMb2NrID0gdHJ1ZSwgYXV0b1VwZGF0ZSA9IHRydWUgfSA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcclxuICAgICAgICB0aGlzLnNlbnNpdGl2aXR5ID0gc2Vuc2l0aXZpdHk7XHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgICAgdGhpcy50YXJnZXRSYWRpdXMgPSB0YXJnZXRSYWRpdXM7XHJcbiAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uRmFjdG9yID0gaW50ZXJwb2xhdGlvbkZhY3RvcjtcclxuICAgICAgICB0aGlzLnRoZXRhID0gMDtcclxuICAgICAgICB0aGlzLnBoaSA9IDA7XHJcbiAgICAgICAgLy8gaWYgKHBvaW50ZXJMb2NrKSB7XHJcbiAgICAgICAgLy8gICBzY2VuZS5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHNjZW5lLmlucHV0Lm1vdXNlLnJlcXVlc3RQb2ludGVyTG9jaygpXHJcbiAgICAgICAgLy8gICB9KVxyXG4gICAgICAgIC8vICAgc2NlbmUuaW5wdXQub24oJ3BvaW50ZXJtb3ZlJywgKHBvaW50ZXI6IFBvaW50ZXJFdmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoc2NlbmUuaW5wdXQubW91c2UubG9ja2VkKSB7XHJcbiAgICAgICAgLy8gICAgICAgdGhpcy51cGRhdGUocG9pbnRlci5tb3ZlbWVudFgsIHBvaW50ZXIubW92ZW1lbnRZKVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICB9KVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBpZiAoYXV0b1VwZGF0ZSkge1xyXG4gICAgICAgIC8vICAgc2NlbmUuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudXBkYXRlKDAsIDApXHJcbiAgICAgICAgLy8gICB9KVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkZWx0YVgsIGRlbHRhWSkge1xyXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMudGFyZ2V0LnBvc2l0aW9uLmNsb25lKCkuYWRkKHRoaXMub2Zmc2V0KTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5jb3B5KGNlbnRlcik7XHJcbiAgICAgICAgdGhpcy50aGV0YSAtPSBkZWx0YVggKiAodGhpcy5zZW5zaXRpdml0eS54IC8gMik7XHJcbiAgICAgICAgdGhpcy50aGV0YSAlPSAzNjA7XHJcbiAgICAgICAgdGhpcy5waGkgKz0gZGVsdGFZICogKC10aGlzLnNlbnNpdGl2aXR5LnkgLyAyKTtcclxuICAgICAgICB0aGlzLnBoaSA9IE1hdGgubWluKDg1LCBNYXRoLm1heCgtODUsIHRoaXMucGhpKSk7XHJcbiAgICAgICAgY29uc3QgbG9va0F0ID0gbmV3IGRpc3RfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgbG9va0F0LnggPSBjZW50ZXIueCArIHRoaXMucmFkaXVzICogTWF0aC5zaW4oKHRoaXMudGhldGEgKiBNYXRoLlBJKSAvIDE4MCkgKiBNYXRoLmNvcygodGhpcy5waGkgKiBNYXRoLlBJKSAvIDE4MCk7XHJcbiAgICAgICAgbG9va0F0LnkgPSBjZW50ZXIueSArIHRoaXMucmFkaXVzICogTWF0aC5zaW4oKHRoaXMucGhpICogTWF0aC5QSSkgLyAxODApO1xyXG4gICAgICAgIGxvb2tBdC56ID0gY2VudGVyLnogKyB0aGlzLnJhZGl1cyAqIE1hdGguY29zKCh0aGlzLnRoZXRhICogTWF0aC5QSSkgLyAxODApICogTWF0aC5jb3MoKHRoaXMucGhpICogTWF0aC5QSSkgLyAxODApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChsb29rQXQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRmlyc3RQZXJzb25Db250cm9scyA9IEZpcnN0UGVyc29uQ29udHJvbHM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcnN0UGVyc29uQ29udHJvbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuSm95U3RpY2sgPSB2b2lkIDA7XHJcbmNvbnN0IGV2ZW50ZW1pdHRlcjNfMSA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xyXG4vLyBUaGlzIGNsYXNzIGlzIGJhc2VkIG9uIGEgZmlsZSBJIGZvdW5kIG9ubGluZSBjYWxsZWQgdG9vbjNkLmpzXHJcbi8vIFVuZm9ydHVuYXRlbHkgSSBjb3VsZCBub3QgZmluZCBpdHMgbGljZW5zZSBvciBhdXRob3IuXHJcbi8vIEkganVzdCBwb3J0ZWQgaXQgdG8gVHlwZVNjcmlwdCBhbmQgaW1wcm92ZWQgdGhlIGNvZGUuXHJcbmNsYXNzIEpveVN0aWNrIGV4dGVuZHMgZXZlbnRlbWl0dGVyM18xLkV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuaWQgPSAtMTtcclxuICAgIH1cclxuICAgIGdldCBhZGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXhpczogKGNvbmZpZyA9IHt9KSA9PiB0aGlzLmFkZEF4aXMoY29uZmlnKSxcclxuICAgICAgICAgICAgYnV0dG9uOiAoY29uZmlnID0ge30pID0+IHRoaXMuYWRkQnV0dG9uKGNvbmZpZylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgYWRkQXhpcyhjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuaWQrKztcclxuICAgICAgICBjb25zdCB7IHN0eWxlcyA9IHsgbGVmdDogMzUsIGJvdHRvbTogMzUsIHNpemU6IDEwMCB9IH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgY2lyY2xlID0gdGhpcy5jaXJjbGUoeyBzdHlsZXMgfSk7XHJcbiAgICAgICAgY29uc3QgdGh1bWIgPSB0aGlzLnRodW1iKHsgc3R5bGVzIH0pO1xyXG4gICAgICAgIGNpcmNsZS5hcHBlbmRDaGlsZCh0aHVtYik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjaXJjbGUpO1xyXG4gICAgICAgIGNvbnN0IHsgbWF4UmFkaXVzID0gNDAsIHJvdGF0aW9uRGFtcGluZyA9IDAuMDYsIG1vdmVEYW1waW5nID0gMC4wMSB9ID0gY29uZmlnO1xyXG4gICAgICAgIC8vIGVsZW1lbnRcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0ge1xyXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgZG9tRWxlbWVudDogdGh1bWIsXHJcbiAgICAgICAgICAgIG1heFJhZGl1czogbWF4UmFkaXVzLFxyXG4gICAgICAgICAgICBtYXhSYWRpdXNTcXVhcmVkOiBtYXhSYWRpdXMgKiBtYXhSYWRpdXMsXHJcbiAgICAgICAgICAgIG9yaWdpbjogeyBsZWZ0OiB0aHVtYi5vZmZzZXRMZWZ0LCB0b3A6IHRodW1iLm9mZnNldFRvcCB9LFxyXG4gICAgICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICByb3RhdGlvbkRhbXBpbmc6IHJvdGF0aW9uRGFtcGluZyxcclxuICAgICAgICAgICAgbW92ZURhbXBpbmc6IG1vdmVEYW1waW5nXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmRvbUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBkb21FbGVtZW50IH0gPSBlbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFwKGV2dCwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2dCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXAoZXZ0LCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBvbk1vdmU6IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbihgYXhpc19vbm1vdmVfJHtlbGVtZW50LmlkfWAsIGRlbHRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudChkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRCdXR0b24oY29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLmlkKys7XHJcbiAgICAgICAgY29uc3QgeyBzdHlsZXMgPSB7IHJpZ2h0OiAzNSwgYm90dG9tOiAzNSwgc2l6ZTogODAgfSwgbGV0dGVyOiBsID0gJ0EnIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgY2lyY2xlID0gdGhpcy5jaXJjbGUoeyBzdHlsZXMgfSk7XHJcbiAgICAgICAgY29uc3QgbGV0dGVyID0gdGhpcy5sZXR0ZXIoeyBsZXR0ZXI6IGwgfSk7XHJcbiAgICAgICAgY2lyY2xlLmFwcGVuZENoaWxkKGxldHRlcik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjaXJjbGUpO1xyXG4gICAgICAgIC8vIGVsZW1lbnRcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0ge1xyXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgZG9tRWxlbWVudDogY2lyY2xlLFxyXG4gICAgICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmRvbUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGljayhlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb25DbGljazogKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKGBidXR0b25fb25jbGlja18ke2VsZW1lbnQuaWR9YCwgZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25SZWxlYXNlOiAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub24oYGJ1dHRvbl9vbnJlbGVhc2VfJHtlbGVtZW50LmlkfWAsIGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY2lyY2xlKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyBzdHlsZXMgfSA9IGNvbmZpZztcclxuICAgICAgICBjb25zdCB7IHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCwgc2l6ZSB9ID0gc3R5bGVzO1xyXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGxldCBjc3MgPSBgcG9zaXRpb246YWJzb2x1dGU7IHdpZHRoOiR7c2l6ZX1weDsgaGVpZ2h0OiR7c2l6ZX1weDsgYmFja2dyb3VuZDpyZ2JhKDEyNiwgMTI2LCAxMjYsIDAuNSk7IGJvcmRlcjojNDQ0IHNvbGlkIG1lZGl1bTsgYm9yZGVyLXJhZGl1czo1MCU7IGN1cnNvcjogcG9pbnRlcjsgYDtcclxuICAgICAgICBpZiAodG9wKVxyXG4gICAgICAgICAgICBjc3MgKz0gYHRvcDoke3RvcH1weDsgYDtcclxuICAgICAgICBpZiAocmlnaHQpXHJcbiAgICAgICAgICAgIGNzcyArPSBgcmlnaHQ6JHtyaWdodH1weDsgYDtcclxuICAgICAgICBpZiAoYm90dG9tKVxyXG4gICAgICAgICAgICBjc3MgKz0gYGJvdHRvbToke2JvdHRvbX1weDsgYDtcclxuICAgICAgICBpZiAobGVmdClcclxuICAgICAgICAgICAgY3NzICs9IGBsZWZ0OiR7bGVmdH1weDsgYDtcclxuICAgICAgICBjaXJjbGUuc3R5bGUuY3NzVGV4dCA9IGNzcztcclxuICAgICAgICByZXR1cm4gY2lyY2xlO1xyXG4gICAgfVxyXG4gICAgdGh1bWIoY29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IHN0eWxlcyB9ID0gY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gc3R5bGVzO1xyXG4gICAgICAgIGNvbnN0IHRodW1iID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGh1bWIuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6ICR7c2l6ZSAvIDR9cHg7IHRvcDogJHtzaXplIC8gNH1weDsgd2lkdGg6ICR7c2l6ZSAvIDJ9cHg7IGhlaWdodDogJHtzaXplIC8gMn1weDsgYm9yZGVyLXJhZGl1czogNTAlOyBiYWNrZ3JvdW5kOiAjZmZmOyBgO1xyXG4gICAgICAgIHJldHVybiB0aHVtYjtcclxuICAgIH1cclxuICAgIGxldHRlcihjb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHsgbGV0dGVyOiBsIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgbGV0dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGxldHRlci5pbm5lclRleHQgPSBsO1xyXG4gICAgICAgIGxldHRlci5zdHlsZS5jc3NUZXh0ID1cclxuICAgICAgICAgICAgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdGV4dC1hbGlnbjogY2VudGVyOyB0b3A6IDRweDsgd2lkdGg6IDgwcHg7IGhlaWdodDogODBweDsgZm9udC1zaXplOiA2NHB4OyBjb2xvcjogI2ZmZjsgJztcclxuICAgICAgICByZXR1cm4gbGV0dGVyO1xyXG4gICAgfVxyXG4gICAgY2xpY2soZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IHsgaWQsIGRvbUVsZW1lbnQgfSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoYGJ1dHRvbl9vbmNsaWNrXyR7aWR9YCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGBidXR0b25fb25yZWxlYXNlXyR7aWR9YCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoYGJ1dHRvbl9vbmNsaWNrXyR7aWR9YCk7XHJcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoYGJ1dHRvbl9vbnJlbGVhc2VfJHtpZH1gKTtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGFwKGV2dCwgZWxlbWVudCkge1xyXG4gICAgICAgIGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBtb3VzZSBjdXJzb3IgcG9zaXRpb24gYXQgc3RhcnR1cDpcclxuICAgICAgICBlbGVtZW50Lm9mZnNldCA9IHRoaXMuZ2V0TW91c2VQb3NpdGlvbihldnQpO1xyXG4gICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQub250b3VjaG1vdmUgPSBldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGVsZW1lbnQuZG9tRWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmUoZXZ0LCBlbGVtZW50KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZG9jdW1lbnQub250b3VjaGVuZCA9IGV2dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZWxlbWVudC5kb21FbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXAoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGV2dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZWxlbWVudC5kb21FbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZShldnQsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBfZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXAoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW92ZShldnQsIGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB7IGRvbUVsZW1lbnQsIG1heFJhZGl1cywgbWF4UmFkaXVzU3F1YXJlZCwgb3JpZ2luLCBvZmZzZXQsIGlkIH0gPSBlbGVtZW50O1xyXG4gICAgICAgIGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgY29uc3QgbW91c2UgPSB0aGlzLmdldE1vdXNlUG9zaXRpb24oZXZ0KTtcclxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XHJcbiAgICAgICAgbGV0IGxlZnQgPSBtb3VzZS54IC0gb2Zmc2V0Lng7XHJcbiAgICAgICAgbGV0IHRvcCA9IG1vdXNlLnkgLSBvZmZzZXQueTtcclxuICAgICAgICAvL3RoaXMub2Zmc2V0ID0gbW91c2U7XHJcbiAgICAgICAgY29uc3Qgc3FNYWcgPSBsZWZ0ICogbGVmdCArIHRvcCAqIHRvcDtcclxuICAgICAgICBpZiAoc3FNYWcgPiBtYXhSYWRpdXNTcXVhcmVkKSB7XHJcbiAgICAgICAgICAgIC8vT25seSB1c2Ugc3FydCBpZiBlc3NlbnRpYWxcclxuICAgICAgICAgICAgY29uc3QgbWFnbml0dWRlID0gTWF0aC5zcXJ0KHNxTWFnKTtcclxuICAgICAgICAgICAgbGVmdCAvPSBtYWduaXR1ZGU7XHJcbiAgICAgICAgICAgIHRvcCAvPSBtYWduaXR1ZGU7XHJcbiAgICAgICAgICAgIGxlZnQgKj0gbWF4UmFkaXVzO1xyXG4gICAgICAgICAgICB0b3AgKj0gbWF4UmFkaXVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgdGhlIGVsZW1lbnQncyBuZXcgcG9zaXRpb246XHJcbiAgICAgICAgZG9tRWxlbWVudC5zdHlsZS50b3AgPSBgJHt0b3AgKyBkb21FbGVtZW50LmNsaWVudEhlaWdodCAvIDJ9cHhgO1xyXG4gICAgICAgIGRvbUVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnQgKyBkb21FbGVtZW50LmNsaWVudFdpZHRoIC8gMn1weGA7XHJcbiAgICAgICAgY29uc3QgZm9yd2FyZCA9IC0odG9wIC0gb3JpZ2luLnRvcCArIGRvbUVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gMikgLyBtYXhSYWRpdXM7XHJcbiAgICAgICAgY29uc3QgdHVybiA9IChsZWZ0IC0gb3JpZ2luLmxlZnQgKyBkb21FbGVtZW50LmNsaWVudFdpZHRoIC8gMikgLyBtYXhSYWRpdXM7XHJcbiAgICAgICAgdGhpcy5lbWl0KGBheGlzX29ubW92ZV8ke2lkfWAsIHsgdG9wOiBmb3J3YXJkLCByaWdodDogdHVybiB9KTtcclxuICAgIH1cclxuICAgIHVwKGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB7IGRvbUVsZW1lbnQsIG9yaWdpbiwgaWQgfSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5vbnRvdWNobW92ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZG9jdW1lbnQudG91Y2hlbmQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb21FbGVtZW50LnN0eWxlLnRvcCA9IGAke29yaWdpbi50b3B9cHhgO1xyXG4gICAgICAgIGRvbUVsZW1lbnQuc3R5bGUubGVmdCA9IGAke29yaWdpbi5sZWZ0fXB4YDtcclxuICAgICAgICB0aGlzLmVtaXQoYGF4aXNfb25tb3ZlXyR7aWR9YCwgeyB0b3A6IDAsIHJpZ2h0OiAwIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0TW91c2VQb3NpdGlvbihldnQpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbGV0IGNsaWVudFggPSBldnQudGFyZ2V0VG91Y2hlcyA/IGV2dC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZXZ0LmNsaWVudFg7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGxldCBjbGllbnRZID0gZXZ0LnRhcmdldFRvdWNoZXMgPyBldnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGV2dC5jbGllbnRZO1xyXG4gICAgICAgIHJldHVybiB7IHg6IGNsaWVudFgsIHk6IGNsaWVudFkgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkpveVN0aWNrID0gSm95U3RpY2s7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpveXN0aWNrLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuUG9pbnRlckRyYWcgPSB2b2lkIDA7XHJcbmNsYXNzIFBvaW50ZXJEcmFnIHtcclxuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50LCBhdXRvU3RhcnQgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IF9lbGVtZW50O1xyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgdGhpcy5fZGVsdGEgPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICB0aGlzLl9vbk1vdmVDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGF1dG9TdGFydClcclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGlzVG91Y2hEZXZpY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcclxuICAgIH1cclxuICAgIGdldCBpc1BvaW50ZXJEb3duKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BvaW50ZXJEb3duO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzUnVubmluZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNUb3VjaERldmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBlID0+IHRoaXMub25Ub3VjaFN0YXJ0KGUpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGUgPT4gdGhpcy5vblRvdWNoRW5kKGUpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBlID0+IHRoaXMub25Ub3VjaE1vdmUoZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHRoaXMub25Qb2ludGVyRG93bihlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGUgPT4gdGhpcy5vblBvaW50ZXJVcChlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGUgPT4gdGhpcy5vblBvaW50ZXJMZWF2ZShlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZSA9PiB0aGlzLm9uUG9pbnRlck92ZXIoZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4gdGhpcy5vblBvaW50ZXJNb3ZlKGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVG91Y2hEZXZpY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZSA9PiB0aGlzLm9uVG91Y2hTdGFydChlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBlID0+IHRoaXMub25Ub3VjaEVuZChlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZSA9PiB0aGlzLm9uVG91Y2hNb3ZlKGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiB0aGlzLm9uUG9pbnRlckRvd24oZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBlID0+IHRoaXMub25Qb2ludGVyTGVhdmUoZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHRoaXMub25Qb2ludGVyVXAoZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGUgPT4gdGhpcy5vblBvaW50ZXJPdmVyKGUpKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHRoaXMub25Qb2ludGVyTW92ZShlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgfVxyXG4gICAgb25Nb3ZlKG9uTW92ZUNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fb25Nb3ZlQ2FsbGJhY2sgPSBvbk1vdmVDYWxsYmFjaztcclxuICAgIH1cclxuICAgIG9uUG9pbnRlckRvd24oX2UpIHtcclxuICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIG9uUG9pbnRlclVwKF9lKSB7XHJcbiAgICAgICAgdGhpcy5faXNQb2ludGVyRG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgb25Qb2ludGVyTGVhdmUoX2UpIHtcclxuICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBvblBvaW50ZXJNb3ZlKGUpIHtcclxuICAgICAgICBjb25zdCBjbGllbnRYID0gZS5tb3ZlbWVudFg7XHJcbiAgICAgICAgY29uc3QgY2xpZW50WSA9IGUubW92ZW1lbnRZO1xyXG4gICAgICAgIHRoaXMuX2RlbHRhID0geyB4OiBjbGllbnRYLCB5OiBjbGllbnRZIH07XHJcbiAgICAgICAgdGhpcy5fb25Nb3ZlQ2FsbGJhY2sodGhpcy5fZGVsdGEpO1xyXG4gICAgfVxyXG4gICAgb25Qb2ludGVyT3ZlcihfZSkgeyB9XHJcbiAgICBvblRvdWNoU3RhcnQoZSkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgICBjb25zdCBjbGllbnRZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB7IHg6IGNsaWVudFgsIHk6IGNsaWVudFkgfTtcclxuICAgIH1cclxuICAgIG9uVG91Y2hFbmQoX2UpIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgIHRoaXMuX2RlbHRhID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgdGhpcy5fb25Nb3ZlQ2FsbGJhY2sodGhpcy5fZGVsdGEpO1xyXG4gICAgfVxyXG4gICAgb25Ub3VjaE1vdmUoZSkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgICBjb25zdCBjbGllbnRZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgICAgdGhpcy5fZGVsdGEgPSB7IHg6IGNsaWVudFggLSB0aGlzLl9wb3NpdGlvbi54LCB5OiBjbGllbnRZIC0gdGhpcy5fcG9zaXRpb24ueSB9O1xyXG4gICAgICAgIHRoaXMuX29uTW92ZUNhbGxiYWNrKHRoaXMuX2RlbHRhKTtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHsgeDogY2xpZW50WCwgeTogY2xpZW50WSB9O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuUG9pbnRlckRyYWcgPSBQb2ludGVyRHJhZztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9pbnRlckRyYWcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5Qb2ludGVyTG9jayA9IHZvaWQgMDtcclxuY2xhc3MgUG9pbnRlckxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoX2VsZW1lbnQsIGF1dG9Mb2NrID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcclxuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoYXV0b0xvY2spXHJcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdCgpO1xyXG4gICAgfVxyXG4gICAgaXNMb2NrZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZXhpdCgpIHtcclxuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgKCkgPT4gdGhpcy5wb2ludGVyTG9ja0NoYW5nZUhhbmRsZXIoKSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMucG9pbnRlckRvd25IYW5kbGVySGFuZGxlcigpKTtcclxuICAgIH1cclxuICAgIHBvaW50ZXJMb2NrQ2hhbmdlSGFuZGxlcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2lzUnVubmluZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX3JlcXVlc3QoKTtcclxuICAgIH1cclxuICAgIHBvaW50ZXJEb3duSGFuZGxlckhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc1J1bm5pbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaygpO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdCgpIHtcclxuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3JlcXVlc3QoKTtcclxuICAgIH1cclxuICAgIF9yZXF1ZXN0KCkge1xyXG4gICAgICAgIC8vIGxpc3RlbiB0byBwb2ludGVyIGxvY2sgY2hhbmdlIGV2ZW50c1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgKCkgPT4gdGhpcy5wb2ludGVyTG9ja0NoYW5nZUhhbmRsZXIoKSwge1xyXG4gICAgICAgICAgICBvbmNlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcmV0dXJuIGlmIHBvaW50ZXIgaXMgYWxyZWFkeSBsb2NrZWRcclxuICAgICAgICBpZiAoISFkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyBsaXN0ZW4gZm9yIHBvaW50ZXJkb3duIGV2ZW50XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMucG9pbnRlckRvd25IYW5kbGVySGFuZGxlcigpLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5Qb2ludGVyTG9jayA9IFBvaW50ZXJMb2NrO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2ludGVyTG9jay5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvbiAgVGhpcyBjb2RlIGhhcyBvcmlnaW5hbGx5IGJlZW4gY29waWVkIGZyb20gU2tldGNoYm9va1xyXG4gKlxyXG4gKiBAYXV0aG9yICAgICAgIHN3aWZ0NTAyIDxibGFoYS5qNTAyQGdtYWlsLmNvbT4gKGh0dHA6Ly9qYmxhaGEuYXJ0LylcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMTggc3dpZnQ1MDI7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vc3dpZnQ1MDIvU2tldGNoYm9va1xyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vc3dpZnQ1MDIvU2tldGNoYm9vay9ibG9iL21hc3Rlci9MSUNFTlNFfEdQTC0zLjB9XHJcbiAqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5UaGlyZFBlcnNvbkNvbnRyb2xzID0gdm9pZCAwO1xyXG5jb25zdCBkaXN0XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdFwiKTtcclxuY2xhc3MgVGhpcmRQZXJzb25Db250cm9scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmEsIHRhcmdldCwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQgPSBuZXcgZGlzdF8xLlZlY3RvcjMoMCwgMCwgMCksIHNlbnNpdGl2aXR5ID0gbmV3IGRpc3RfMS5WZWN0b3IyKDEsIDEpLCByYWRpdXMgPSA4LCB0YXJnZXRSYWRpdXMgPSAxMCwgaW50ZXJwb2xhdGlvbkZhY3RvciA9IDAuMDUsIHBvaW50ZXJMb2NrID0gdHJ1ZSwgYXV0b1VwZGF0ZSA9IHRydWUsIHRoZXRhID0gMCwgcGhpID0gMCwgXHJcbiAgICAgICAgLyoqIE1heCBQaGkgaW4gZGVnICovXHJcbiAgICAgICAgbWF4UGhpID0gODUsIFxyXG4gICAgICAgIC8qKiBNaW4gUGhpIGluIGRlZyAqL1xyXG4gICAgICAgIG1pblBoaSA9IC04NSB9ID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xyXG4gICAgICAgIHRoaXMuc2Vuc2l0aXZpdHkgPSBzZW5zaXRpdml0eTtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLnRhcmdldFJhZGl1cyA9IHRhcmdldFJhZGl1cztcclxuICAgICAgICB0aGlzLmludGVycG9sYXRpb25GYWN0b3IgPSBpbnRlcnBvbGF0aW9uRmFjdG9yO1xyXG4gICAgICAgIHRoaXMudGhldGEgPSB0aGV0YTtcclxuICAgICAgICB0aGlzLnBoaSA9IHBoaTtcclxuICAgICAgICB0aGlzLm1heFBoaSA9IG1heFBoaTtcclxuICAgICAgICB0aGlzLm1pblBoaSA9IG1pblBoaTtcclxuICAgICAgICAvLyBpZiAocG9pbnRlckxvY2spIHtcclxuICAgICAgICAvLyAgIHNjZW5lLmlucHV0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgc2NlbmUuaW5wdXQubW91c2UucmVxdWVzdFBvaW50ZXJMb2NrKClcclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gICBzY2VuZS5pbnB1dC5vbigncG9pbnRlcm1vdmUnLCAocG9pbnRlcjogUG9pbnRlckV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmIChzY2VuZS5pbnB1dC5tb3VzZS5sb2NrZWQpIHtcclxuICAgICAgICAvLyAgICAgICB0aGlzLnVwZGF0ZShwb2ludGVyLm1vdmVtZW50WCwgcG9pbnRlci5tb3ZlbWVudFkpXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGlmIChhdXRvVXBkYXRlKSB7XHJcbiAgICAgICAgLy8gICBzY2VuZS5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy51cGRhdGUoMCwgMClcclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGRlbHRhWCwgZGVsdGFZKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXQucG9zaXRpb24uY2xvbmUoKS5hZGQodGhpcy5vZmZzZXQpO1xyXG4gICAgICAgIHRoaXMudGhldGEgLT0gZGVsdGFYICogKHRoaXMuc2Vuc2l0aXZpdHkueCAvIDIpO1xyXG4gICAgICAgIHRoaXMudGhldGEgJT0gMzYwO1xyXG4gICAgICAgIHRoaXMucGhpICs9IGRlbHRhWSAqICh0aGlzLnNlbnNpdGl2aXR5LnkgLyAyKTtcclxuICAgICAgICB0aGlzLnBoaSA9IE1hdGgubWluKHRoaXMubWF4UGhpLCBNYXRoLm1heCh0aGlzLm1pblBoaSwgdGhpcy5waGkpKTtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IGRpc3RfMS5NYXRoVXRpbHMubGVycCh0aGlzLnJhZGl1cywgdGhpcy50YXJnZXRSYWRpdXMsIHRoaXMuaW50ZXJwb2xhdGlvbkZhY3Rvcik7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueCA9XHJcbiAgICAgICAgICAgIHRhcmdldC54ICsgdGhpcy5yYWRpdXMgKiBNYXRoLnNpbigodGhpcy50aGV0YSAqIE1hdGguUEkpIC8gMTgwKSAqIE1hdGguY29zKCh0aGlzLnBoaSAqIE1hdGguUEkpIC8gMTgwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gdGFyZ2V0LnkgKyB0aGlzLnJhZGl1cyAqIE1hdGguc2luKCh0aGlzLnBoaSAqIE1hdGguUEkpIC8gMTgwKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID1cclxuICAgICAgICAgICAgdGFyZ2V0LnogKyB0aGlzLnJhZGl1cyAqIE1hdGguY29zKCh0aGlzLnRoZXRhICogTWF0aC5QSSkgLyAxODApICogTWF0aC5jb3MoKHRoaXMucGhpICogTWF0aC5QSSkgLyAxODApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0YXJnZXQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVGhpcmRQZXJzb25Db250cm9scyA9IFRoaXJkUGVyc29uQ29udHJvbHM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRoaXJkUGVyc29uQ29udHJvbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5hZGRXYXRlciA9IHZvaWQgMDtcclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jb25zdCBhZGRXYXRlciA9IChzY2VuZSwgcmVuZGVyZXIsIGNvbmZpZyA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCB7IHdpZHRoID0gMjAsIGhlaWdodCA9IDIwLCB4ID0gMCwgeSA9IDAsIHogPSAwLCBjb2xvciA9ICcjZmZmZmZmJywgc2NhbGUgPSA0LCBmbG93WCA9IDEsIGZsb3dZID0gMSwgbm9ybWFsTWFwMCA9IHVuZGVmaW5lZCwgbm9ybWFsTWFwMSA9IHVuZGVmaW5lZCB9ID0gY29uZmlnO1xyXG4gICAgLy9ncm91bmRcclxuICAgIGNvbnN0IGdyb3VuZEdlb21ldHJ5ID0gbmV3IGluZGV4XzEuUGxhbmVCdWZmZXJHZW9tZXRyeSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIC8vICMwMDc3YmUgKGFsc28ga25vd24gYXMgT2NlYW4gQm9hdCBCbHVlKVxyXG4gICAgY29uc3QgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgaW5kZXhfMS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDAwNzdiZSwgdHJhbnNwYXJlbnQ6IHRydWUsIG9wYWNpdHk6IDAuOCB9KTtcclxuICAgIGNvbnN0IGdyb3VuZCA9IG5ldyBpbmRleF8xLk1lc2goZ3JvdW5kR2VvbWV0cnksIGdyb3VuZE1hdGVyaWFsKTtcclxuICAgIGdyb3VuZC5wb3NpdGlvbi5zZXQoeCwgeSwgeik7XHJcbiAgICBncm91bmQucm90YXRpb24ueCA9IE1hdGguUEkgKiAtMC41O1xyXG4gICAgc2NlbmUuYWRkKGdyb3VuZCk7XHJcbiAgICAvLyB3YXRlclxyXG4gICAgY29uc3Qgd2F0ZXJHZW9tZXRyeSA9IG5ldyBpbmRleF8xLlBsYW5lQnVmZmVyR2VvbWV0cnkod2lkdGgsIGhlaWdodCk7XHJcbiAgICBjb25zdCB3YXRlciA9IG5ldyBpbmRleF8xLldhdGVyKHdhdGVyR2VvbWV0cnksIHtcclxuICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICAgc2NhbGU6IHNjYWxlLFxyXG4gICAgICAgIGZsb3dEaXJlY3Rpb246IG5ldyBpbmRleF8xLlZlY3RvcjIoZmxvd1gsIGZsb3dZKSxcclxuICAgICAgICB0ZXh0dXJlV2lkdGg6IDEwMjQsXHJcbiAgICAgICAgdGV4dHVyZUhlaWdodDogMTAyNCxcclxuICAgICAgICBub3JtYWxNYXAwOiBub3JtYWxNYXAwLFxyXG4gICAgICAgIG5vcm1hbE1hcDE6IG5vcm1hbE1hcDEsXHJcbiAgICAgICAgZW5jb2Rpbmc6IHJlbmRlcmVyLm91dHB1dEVuY29kaW5nXHJcbiAgICB9KTtcclxuICAgIHdhdGVyLnBvc2l0aW9uLnNldCh4LCB5ICsgMC4xLCB6KTtcclxuICAgIHdhdGVyLnJvdGF0aW9uLnggPSBNYXRoLlBJICogLTAuNTtcclxuICAgIHNjZW5lLmFkZCh3YXRlcik7XHJcbiAgICByZXR1cm4geyBncm91bmQsIHdhdGVyIH07XHJcbn07XHJcbmV4cG9ydHMuYWRkV2F0ZXIgPSBhZGRXYXRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGV2ZW50ZW1pdHRlcjNfMSA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNsYXNzIFBoeXNpY3NCb2R5IHtcclxuICAgIGNvbnN0cnVjdG9yKHBoeXNpY3MsIGFtbW8pIHtcclxuICAgICAgICB0aGlzLnBoeXNpY3MgPSBwaHlzaWNzO1xyXG4gICAgICAgIHRoaXMuYW1tbyA9IGFtbW87XHJcbiAgICAgICAgdGhpcy5pZ25vcmVTY2FsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNTb2Z0Qm9keSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0geyB4OiAwLCB5OiAwLCB6OiAwIH07XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYnJlYWthYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAvKiogU2tpcCBzeW5jaW5nIHRoZSBtZXNoIHRvIHRoZSBwaHlzaWNzIGJvZHkuICovXHJcbiAgICAgICAgdGhpcy5za2lwVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZW1pdFVwZGF0ZUV2ZW50cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX25lZWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRtcEV1bGVyID0gbmV3IGluZGV4XzEuRXVsZXIoKTtcclxuICAgICAgICB0aGlzLnRtcFF1YXRlcm5pb24gPSBuZXcgaW5kZXhfMS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yM18xID0gbmV3IEFtbW8uYnRWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy50bXBCdFF1YXRlcm5pb24gPSBuZXcgQW1tby5idFF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XHJcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgZXZlbnRlbWl0dGVyM18xLkV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLm5hbWUgPSBhbW1vLm5hbWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERvbid0IGNhbGwgdGhpcyBtYW51YWxseSEgRG8gcGh5c2ljcy5kZXN0cm95KCkgaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZGVzdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyByZW1vdmUgZXZlbnRzXHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRFbWl0dGVyKVxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAvLyBkZXN0cm95IHRtcCBhbW1vIHZhbHVlc1xyXG4gICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICAgICAgQW1tby5kZXN0cm95KHRoaXMudG1wQnRWZWN0b3IzXzEpO1xyXG4gICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLnRtcEJ0UXVhdGVybmlvbik7XHJcbiAgICAgICAgLy8gZGVzdG9yeSBjb2xsaXNpb24gc2hhcGVcclxuICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5hbW1vLmdldENvbGxpc2lvblNoYXBlKCkpO1xyXG4gICAgICAgIC8vIGRlc3Ryb3kgYm9keVxyXG4gICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLmFtbW8pO1xyXG4gICAgfVxyXG4gICAgc2V0dXBFdmVudEVtaXR0ZXIoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmV2ZW50RW1pdHRlciA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IGV2ZW50ZW1pdHRlcjNfMS5FdmVudEVtaXR0ZXIoKTtcclxuICAgIH1cclxuICAgIGdldCBuZWVkVXBkYXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uZWVkVXBkYXRlO1xyXG4gICAgfVxyXG4gICAgc2V0IG5lZWRVcGRhdGUobmVlZCkge1xyXG4gICAgICAgIGlmICghbmVlZCAmJiB0aGlzLl9uZWVkVXBkYXRlKVxyXG4gICAgICAgICAgICB0aGlzLmRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fbmVlZFVwZGF0ZSA9IG5lZWQ7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZUV2ZW50KHVwZGF0ZUNhbGxiYWNrLCBvbmNlID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnNldHVwRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5fZW1pdFVwZGF0ZUV2ZW50cyA9IHRydWU7XHJcbiAgICAgICAgaWYgKG9uY2UpXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uY2UoJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVwZGF0ZTogKHVwZGF0ZUNhbGxiYWNrKSA9PiB0aGlzLm9uVXBkYXRlRXZlbnQodXBkYXRlQ2FsbGJhY2spLFxyXG4gICAgICAgICAgICBjb2xsaXNpb246IChjb2xsaXNpb25DYWxsYmFjaykgPT4gdGhpcy5vbkNvbGxpc2lvbihjb2xsaXNpb25DYWxsYmFjaylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0IG9uY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXBkYXRlOiAodXBkYXRlQ2FsbGJhY2spID0+IHRoaXMub25VcGRhdGVFdmVudCh1cGRhdGVDYWxsYmFjaywgdHJ1ZSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgb25Db2xsaXNpb24oY29sbGlzaW9uQ2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNoZWNrQ29sbGlzaW9ucyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmNvbGxpc2lvbkV2ZW50cy5vbignY29sbGlzaW9uJywgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyBib2RpZXMsIGV2ZW50IH0gPSBkYXRhO1xyXG4gICAgICAgICAgICBpZiAoYm9kaWVzWzBdLm5hbWUgPT09IHRoaXMubmFtZSlcclxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkNhbGxiYWNrKGJvZGllc1sxXSwgZXZlbnQpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChib2RpZXNbMV0ubmFtZSA9PT0gdGhpcy5uYW1lKVxyXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uQ2FsbGJhY2soYm9kaWVzWzBdLCBldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogWW91IGhhdmUgdG8gY2FsbCB0cmFuc2Zvcm0oKSBiZWZvcmUgeW91IGNhbiBnZXQgb3Igc2V0IHRoZSBib2R5J3MgcG9zaXRpb24gb3Igcm90YXRpb24uIChmb3IgaGVhZGxlc3MgbW9kZSBvbmx5KSAqL1xyXG4gICAgdHJhbnNmb3JtKCkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnBoeXNpY3Mud29ybGRUcmFuc2Zvcm07XHJcbiAgICAgICAgdGhpcy5hbW1vLmdldE1vdGlvblN0YXRlKCkuZ2V0V29ybGRUcmFuc2Zvcm0odCk7XHJcbiAgICB9XHJcbiAgICAvKiogWW91IGhhdmUgdG8gY2FsbCByZWZyZXNoKCkgYWZ0ZXIgeW91IHNldCB0aGUgcG9zaXRpb24gb3Igcm90YXRpb24gb2YgdGhlIGJvZHkuIChmb3IgaGVhZGxlc3MgbW9kZSBvbmx5KSAqL1xyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICBjb25zdCB0ID0gdGhpcy5waHlzaWNzLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgIHRoaXMuYW1tby5nZXRNb3Rpb25TdGF0ZSgpLnNldFdvcmxkVHJhbnNmb3JtKHQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFNldCB0aGUgcm90YXRpb24gaW4gcmFkaWFucy4gKGZvciBoZWFkbGVzcyBtb2RlIG9ubHkpICovXHJcbiAgICBzZXRSb3RhdGlvbih4LCB5LCB6KSB7XHJcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudG1wRXVsZXIuc2V0KHgsIHksIHopO1xyXG4gICAgICAgIGNvbnN0IHEgPSB0aGlzLnRtcFF1YXRlcm5pb24uc2V0KDAsIDAsIDAsIDEpO1xyXG4gICAgICAgIHEuc2V0RnJvbUV1bGVyKGUpO1xyXG4gICAgICAgIHRoaXMudG1wQnRRdWF0ZXJuaW9uLnNldFZhbHVlKDAsIDAsIDAsIDEpO1xyXG4gICAgICAgIGNvbnN0IGFtbW9RdWF0ID0gdGhpcy50bXBCdFF1YXRlcm5pb247XHJcbiAgICAgICAgYW1tb1F1YXQuc2V0VmFsdWUocS54LCBxLnksIHEueiwgcS53KTtcclxuICAgICAgICBjb25zdCB0ID0gdGhpcy5waHlzaWNzLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgIHQuc2V0Um90YXRpb24oYW1tb1F1YXQpO1xyXG4gICAgfVxyXG4gICAgLyoqIEdldCB0aGUgcm90YXRpb24gaW4gcmFkaWFucy4gKGZvciBoZWFkbGVzcyBtb2RlIG9ubHkpICovXHJcbiAgICBnZXQgcm90YXRpb24oKSB7XHJcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9xdWF0ZXJuaW9uVG9BbmdsZS9pbmRleC5odG1cclxuICAgICAgICBsZXQgeCwgeSwgejtcclxuICAgICAgICBjb25zdCB0ID0gdGhpcy5waHlzaWNzLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgIGNvbnN0IGFtbW9RdWF0ID0gdC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIGxldCBxMSA9IHRoaXMudG1wUXVhdGVybmlvbi5zZXQoYW1tb1F1YXQueCgpLCBhbW1vUXVhdC55KCksIGFtbW9RdWF0LnooKSwgYW1tb1F1YXQudygpKTtcclxuICAgICAgICBpZiAocTEudyA+IDEpXHJcbiAgICAgICAgICAgIHExID0gcTEubm9ybWFsaXplKCk7IC8vIGlmIHc+MSBhY29zIGFuZCBzcXJ0IHdpbGwgcHJvZHVjZSBlcnJvcnMsIHRoaXMgY2FudCBoYXBwZW4gaWYgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkXHJcbiAgICAgICAgY29uc3QgYW5nbGUgPSAyICogTWF0aC5hY29zKHExLncpO1xyXG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHExLncgKiBxMS53KTsgLy8gYXNzdW1pbmcgcXVhdGVybmlvbiBub3JtYWxpemVkIHRoZW4gdyBpcyBsZXNzIHRoYW4gMSwgc28gdGVybSBhbHdheXMgcG9zaXRpdmUuXHJcbiAgICAgICAgaWYgKHMgPCAwLjAwMSkge1xyXG4gICAgICAgICAgICAvLyB0ZXN0IHRvIGF2b2lkIGRpdmlkZSBieSB6ZXJvLCBzIGlzIGFsd2F5cyBwb3NpdGl2ZSBkdWUgdG8gc3FydFxyXG4gICAgICAgICAgICAvLyBpZiBzIGNsb3NlIHRvIHplcm8gdGhlbiBkaXJlY3Rpb24gb2YgYXhpcyBub3QgaW1wb3J0YW50XHJcbiAgICAgICAgICAgIHggPSBxMS54OyAvLyBpZiBpdCBpcyBpbXBvcnRhbnQgdGhhdCBheGlzIGlzIG5vcm1hbGl6ZWQgdGhlbiByZXBsYWNlIHdpdGggeD0xOyB5PXo9MDtcclxuICAgICAgICAgICAgeSA9IHExLnk7XHJcbiAgICAgICAgICAgIHogPSBxMS56O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgeCA9IHExLnggLyBzOyAvLyBub3JtYWxpemVkIGF4aXNcclxuICAgICAgICAgICAgeSA9IHExLnkgLyBzO1xyXG4gICAgICAgICAgICB6ID0gcTEueiAvIHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IHg6IHggKiBhbmdsZSwgeTogeSAqIGFuZ2xlLCB6OiB6ICogYW5nbGUgfTtcclxuICAgIH1cclxuICAgIC8qKiBTZXQgcG9zaXRpb24uIChmb3IgaGVhZGxlc3MgbW9kZSBvbmx5KSAqL1xyXG4gICAgc2V0UG9zaXRpb24oeCwgeSwgeikge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnBoeXNpY3Mud29ybGRUcmFuc2Zvcm07XHJcbiAgICAgICAgdC5nZXRPcmlnaW4oKS5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgIH1cclxuICAgIC8qKiBHZXQgcG9zaXRpb24uIChmb3IgaGVhZGxlc3MgbW9kZSBvbmx5KSAqL1xyXG4gICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnBoeXNpY3Mud29ybGRUcmFuc2Zvcm07XHJcbiAgICAgICAgcmV0dXJuIHsgeDogdC5nZXRPcmlnaW4oKS54KCksIHk6IHQuZ2V0T3JpZ2luKCkueSgpLCB6OiB0LmdldE9yaWdpbigpLnooKSB9O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZlbG9jaXR5KCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMuYW1tby5nZXRMaW5lYXJWZWxvY2l0eSgpLngoKSxcclxuICAgICAgICAgICAgeTogdGhpcy5hbW1vLmdldExpbmVhclZlbG9jaXR5KCkueSgpLFxyXG4gICAgICAgICAgICB6OiB0aGlzLmFtbW8uZ2V0TGluZWFyVmVsb2NpdHkoKS56KClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0IGFuZ3VsYXJWZWxvY2l0eSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLmFtbW8uZ2V0QW5ndWxhclZlbG9jaXR5KCkueCgpLFxyXG4gICAgICAgICAgICB5OiB0aGlzLmFtbW8uZ2V0QW5ndWxhclZlbG9jaXR5KCkueSgpLFxyXG4gICAgICAgICAgICB6OiB0aGlzLmFtbW8uZ2V0QW5ndWxhclZlbG9jaXR5KCkueigpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFZlbG9jaXR5KHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0TGluZWFyVmVsb2NpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHlYKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUodmFsdWUsIHRoaXMudmVsb2NpdHkueSwgdGhpcy52ZWxvY2l0eS56KTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0TGluZWFyVmVsb2NpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHlZKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUodGhpcy52ZWxvY2l0eS54LCB2YWx1ZSwgdGhpcy52ZWxvY2l0eS56KTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0TGluZWFyVmVsb2NpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgc2V0VmVsb2NpdHlaKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUodGhpcy52ZWxvY2l0eS54LCB0aGlzLnZlbG9jaXR5LnksIHZhbHVlKTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0TGluZWFyVmVsb2NpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgc2V0QW5ndWxhclZlbG9jaXR5KHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0QW5ndWxhclZlbG9jaXR5KHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIHNldEFuZ3VsYXJWZWxvY2l0eVgodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh2YWx1ZSwgdGhpcy5hbmd1bGFyVmVsb2NpdHkueSwgdGhpcy5hbmd1bGFyVmVsb2NpdHkueik7XHJcbiAgICAgICAgdGhpcy5hbW1vLnNldEFuZ3VsYXJWZWxvY2l0eSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBzZXRBbmd1bGFyVmVsb2NpdHlZKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUodGhpcy5hbmd1bGFyVmVsb2NpdHkueCwgdmFsdWUsIHRoaXMuYW5ndWxhclZlbG9jaXR5LnopO1xyXG4gICAgICAgIHRoaXMuYW1tby5zZXRBbmd1bGFyVmVsb2NpdHkodGhpcy50bXBCdFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgc2V0QW5ndWxhclZlbG9jaXR5Wih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHRoaXMuYW5ndWxhclZlbG9jaXR5LngsIHRoaXMuYW5ndWxhclZlbG9jaXR5LnksIHZhbHVlKTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0QW5ndWxhclZlbG9jaXR5KHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIC8vIEFwcGx5IEZvcmNlIG1ldGhvZHNcclxuICAgIGFwcGx5Rm9yY2UoeCwgeSwgeikge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMuYW1tby5hcHBseUNlbnRyYWxJbXB1bHNlKHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIGFwcGx5Rm9yY2VYKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUodmFsdWUsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuYW1tby5hcHBseUNlbnRyYWxJbXB1bHNlKHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIGFwcGx5Rm9yY2VZKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUoMCwgdmFsdWUsIDApO1xyXG4gICAgICAgIHRoaXMuYW1tby5hcHBseUNlbnRyYWxJbXB1bHNlKHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIGFwcGx5Rm9yY2VaKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUoMCwgMCwgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuYW1tby5hcHBseUNlbnRyYWxJbXB1bHNlKHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIC8vIEFwcGx5IFwiU29tZXRoaW5nXCIgTWV0aG9kc1xyXG4gICAgYXBwbHlDZW50cmFsRm9yY2UoeCwgeSwgeikge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMuYW1tby5hcHBseUNlbnRyYWxGb3JjZSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBhcHBseUNlbnRyYWxJbXB1bHNlKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uYXBwbHlDZW50cmFsSW1wdWxzZSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBhcHBseUNlbnRyYWxMb2NhbEZvcmNlKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uYXBwbHlDZW50cmFsTG9jYWxGb3JjZSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKGltcHVsc2UueCB8fCAwLCBpbXB1bHNlLnkgfHwgMCwgaW1wdWxzZS56IHx8IDApO1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzXzEuc2V0VmFsdWUocmVsYXRpdmVQb3NpdGlvbi54IHx8IDAsIHJlbGF0aXZlUG9zaXRpb24ueSB8fCAwLCByZWxhdGl2ZVBvc2l0aW9uLnogfHwgMCk7XHJcbiAgICAgICAgdGhpcy5hbW1vLmFwcGx5SW1wdWxzZSh0aGlzLnRtcEJ0VmVjdG9yMywgdGhpcy50bXBCdFZlY3RvcjNfMSk7XHJcbiAgICB9XHJcbiAgICBhcHBseUxvY2FsVG9ycXVlKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uYXBwbHlMb2NhbFRvcnF1ZSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBhcHBseVRvcnF1ZSh4LCB5LCB6KSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUoeCwgeSwgeik7XHJcbiAgICAgICAgdGhpcy5hbW1vLmFwcGx5VG9ycXVlKHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIGFwcGx5VG9ycXVlSW1wdWxzZSh4LCB5LCB6KSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUoeCwgeSwgeik7XHJcbiAgICAgICAgdGhpcy5hbW1vLmFwcGx5VG9ycXVlSW1wdWxzZSh0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCB0aGUgY29sbGlzaW9uIGZsYWdzXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgMCBpcyBEWU5BTUlDLCAxIGlzIFNUQVRJQywgMiBpcyBLSU5FTUFUSUMsIDQgR0hPU1RcclxuICAgICAqL1xyXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2J1bGxldHBoeXNpY3MvYnVsbGV0My9ibG9iL2FhZTgwNDg3MjJmMjU5NmY3ZTJiZGQ1MmQyYTFkY2I1MmEyMThmMmIvc3JjL0J1bGxldENvbGxpc2lvbi9Db2xsaXNpb25EaXNwYXRjaC9idENvbGxpc2lvbk9iamVjdC5oI0wxMjhcclxuICAgIHNldENvbGxpc2lvbkZsYWdzKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5hbW1vLnNldENvbGxpc2lvbkZsYWdzKHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjb2xsaXNpb24gZmxhZ3NcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAwIGlzIERZTkFNSUMsIDEgaXMgU1RBVElDLCAyIGlzIEtJTkVNQVRJQywgNCBHSE9TVFxyXG4gICAgICovXHJcbiAgICBnZXRDb2xsaXNpb25GbGFncygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbW1vLmdldENvbGxpc2lvbkZsYWdzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgcmVzdGl0dXRpb24gKHNhbWUgYXMgYm91bmNpbmVzcylcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBBIG51bWJlciBmcm9tIDAgdG8gMS5cclxuICAgICAqL1xyXG4gICAgc2V0UmVzdGl0dXRpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0UmVzdGl0dXRpb24odmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGJvdW5jaW5lc3MgKHNhbWUgYXMgcmVzdGl0dXRpb24pXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgQSBudW1iZXIgZnJvbSAwIHRvIDEuXHJcbiAgICAgKi9cclxuICAgIHNldEJvdW5jaW5lc3ModmFsdWUpIHtcclxuICAgICAgICB0aGlzLnNldFJlc3RpdHV0aW9uKHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBmcmljdGlvblxyXG4gICAgICogQHBhcmFtIHZhbHVlIEEgbnVtYmVyIGZyb20gMCB0byAxLlxyXG4gICAgICovXHJcbiAgICBzZXRGcmljdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuYW1tby5zZXRGcmljdGlvbih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKiogU2V0IHBlciBib2R5IGdyYXZpdHkgKi9cclxuICAgIHNldEdyYXZpdHkoeCwgeSwgeikge1xyXG4gICAgICAgIHRoaXMudG1wQnRWZWN0b3IzLnNldFZhbHVlKHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMuYW1tby5zZXRHcmF2aXR5KHRoaXMudG1wQnRWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIHNldExpbmVhckZhY3Rvcih4LCB5LCB6KSB7XHJcbiAgICAgICAgdGhpcy50bXBCdFZlY3RvcjMuc2V0VmFsdWUoeCwgeSwgeik7XHJcbiAgICAgICAgdGhpcy5hbW1vLnNldExpbmVhckZhY3Rvcih0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBzZXRBbmd1bGFyRmFjdG9yKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnRtcEJ0VmVjdG9yMy5zZXRWYWx1ZSh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLmFtbW8uc2V0QW5ndWxhckZhY3Rvcih0aGlzLnRtcEJ0VmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBzZXRDY2RNb3Rpb25UaHJlc2hvbGQodGhyZXNob2xkKSB7XHJcbiAgICAgICAgdGhpcy5hbW1vLnNldENjZE1vdGlvblRocmVzaG9sZCh0aHJlc2hvbGQpO1xyXG4gICAgfVxyXG4gICAgc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXMocmFkaXVzKSB7XHJcbiAgICAgICAgdGhpcy5hbW1vLnNldENjZFN3ZXB0U3BoZXJlUmFkaXVzKHJhZGl1cyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gUGh5c2ljc0JvZHk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBoeXNpY3NCb2R5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuUGh5c2ljc0xvYWRlciA9IHZvaWQgMDtcclxuY29uc3Qgd2FzbUxvYWRlcl8xID0gcmVxdWlyZShcIi4vd2FzbUxvYWRlclwiKTtcclxuY29uc3QgUGh5c2ljc0xvYWRlciA9IChwYXRoLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIHdpbmRvdy5fX2xvYWRQaHlzaWNzID0gdHJ1ZTtcclxuICAgIHdhc21Mb2FkZXJfMS5kZWZhdWx0KHBhdGgsICgpID0+IHtcclxuICAgICAgICBBbW1vKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuZXhwb3J0cy5QaHlzaWNzTG9hZGVyID0gUGh5c2ljc0xvYWRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGh5c2ljc0xvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5Hcm91cCA9IGV4cG9ydHMuUG9pbnRzID0gZXhwb3J0cy5MaW5lID0gZXhwb3J0cy5NYXRlcmlhbCA9IGV4cG9ydHMuTWVzaCA9IGV4cG9ydHMuT2JqZWN0M0QgPSBleHBvcnRzLkFuaW1hdGlvbkFjdGlvbiA9IGV4cG9ydHMuQW5pbWF0aW9uQ2xpcCA9IGV4cG9ydHMuQW5pbWF0aW9uTWl4ZXIgPSBleHBvcnRzLkV4dGVuZGVkTWVzaCA9IGV4cG9ydHMuRXh0ZW5kZWRPYmplY3QzRCA9IHZvaWQgMDtcclxuY29uc3QgZXh0ZW5kZWRPYmplY3QzRF8xID0gcmVxdWlyZShcIi4vZXh0ZW5kZWRPYmplY3QzRFwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRXh0ZW5kZWRPYmplY3QzRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0ZW5kZWRPYmplY3QzRF8xLkV4dGVuZGVkT2JqZWN0M0Q7IH0gfSk7XHJcbmNvbnN0IGV4dGVuZGVkTWVzaF8xID0gcmVxdWlyZShcIi4vZXh0ZW5kZWRNZXNoXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFeHRlbmRlZE1lc2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dGVuZGVkTWVzaF8xLkV4dGVuZGVkTWVzaDsgfSB9KTtcclxuLy8gVE9ETyBmaXggdGhpcyBleHBvcnRcclxuLy8gZXhwb3J0IHsgVGhpcmRQZXJzb25Db250cm9scyB9IGZyb20gJy4uL21pc2MvdGhpcmRQZXJzb25Db250cm9scydcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQW5pbWF0aW9uTWl4ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuQW5pbWF0aW9uTWl4ZXI7IH0gfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFuaW1hdGlvbkNsaXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuQW5pbWF0aW9uQ2xpcDsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQW5pbWF0aW9uQWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmRleF8xLkFuaW1hdGlvbkFjdGlvbjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT2JqZWN0M0RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuT2JqZWN0M0Q7IH0gfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1lc2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuTWVzaDsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWF0ZXJpYWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuTWF0ZXJpYWw7IH0gfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxpbmVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuTGluZTsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUG9pbnRzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmRleF8xLlBvaW50czsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR3JvdXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuR3JvdXA7IH0gfSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlc0FtbW8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzQ3VzdG9tLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9wbGF5Y2FudmFzL2VuZ2luZS9ibG9iL21hc3Rlci9leGFtcGxlcy93YXNtLWxvYWRlci5qc1xyXG5jb25zdCB3YXNtU3VwcG9ydGVkID0gKCgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBXZWJBc3NlbWJseSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVWludDhBcnJheS5vZigweDAsIDB4NjEsIDB4NzMsIDB4NmQsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDApKTtcclxuICAgICAgICAgICAgaWYgKG1vZHVsZSBpbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lk1vZHVsZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlKSBpbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lkluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufSkoKTtcclxuY29uc3QgbG9hZFNjcmlwdEFzeW5jID0gKHVybCwgZG9uZUNhbGxiYWNrKSA9PiB7XHJcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICB0YWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIGRvbmVDYWxsYmFjaygpO1xyXG4gICAgfTtcclxuICAgIHRhZy5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGxvYWQgJyArIHVybCk7XHJcbiAgICB9O1xyXG4gICAgdGFnLmFzeW5jID0gdHJ1ZTtcclxuICAgIHRhZy5zcmMgPSB1cmw7XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRhZyk7XHJcbn07XHJcbmNvbnN0IGxvYWRBbW1vTW9kdWxlID0gKHBhdGgsIGRvbmVDYWxsYmFjaykgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2cod2FzbVN1cHBvcnRlZCA/ICdXZWJBc3NlbWJseSBpcyBzdXBwb3J0ZWQnIDogJ1dlYkFzc2VtYmx5IGlzIG5vdCBzdXBwb3J0ZWQnKVxyXG4gICAgaWYgKHdhc21TdXBwb3J0ZWQpXHJcbiAgICAgICAgbG9hZFNjcmlwdEFzeW5jKGAke3BhdGh9L2FtbW8ud2FzbS5qc2AsICgpID0+IGRvbmVDYWxsYmFjaygpKTtcclxuICAgIGVsc2VcclxuICAgICAgICBsb2FkU2NyaXB0QXN5bmMoYCR7cGF0aH0vYW1tby5qc2AsICgpID0+IGRvbmVDYWxsYmFjaygpKTtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gbG9hZEFtbW9Nb2R1bGU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhc21Mb2FkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuVGhyZWVHcmFwaGljcyA9IHZvaWQgMDtcclxuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY29uc3QgY2FtZXJhc18xID0gcmVxdWlyZShcIi4vcGx1Z2lucy9jYW1lcmFzXCIpO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC9hbW1vLXBoeXNpY3MvZGlzdC9pbmRleFwiKTtcclxuY2xhc3MgVGhyZWVHcmFwaGljcyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aHJlZUdyYXBoaWNzQ29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLnRocmVlR3JhcGhpY3NDb25maWcgPSB0aHJlZUdyYXBoaWNzQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHsgYW5pc290cm9weSA9IDEsIGNhbWVyYSA9IGNhbWVyYXNfMS5kZWZhdWx0LlBlcnNwZWN0aXZlKHsgejogMjUsIHk6IDUgfSksIGFudGlhbGlhcyA9IGZhbHNlLCB1c2VQaHlzaWNzID0gdHJ1ZSwgcmVuZGVyZXIgfSA9IHRocmVlR3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlQW5pc290cm9weSA9IGFuaXNvdHJvcHk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgICAgIC8vIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyIHx8IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzIH0pO1xyXG4gICAgICAgIC8vIHNlZSBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2V4YW1wbGVzL2VuL2xvYWRlcnMvR0xURkxvYWRlclxyXG4gICAgICAgIC8vIHRoaXMucmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBzUkdCRW5jb2RpbmdcclxuICAgICAgICAvLyBzaGFkb3dcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcclxuICAgICAgICAvLyBlbmFibGUgY2FjaGVcclxuICAgICAgICB0aGlzLmNhY2hlID0gVEhSRUUuQ2FjaGU7XHJcbiAgICAgICAgdGhpcy5jYWNoZS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodXNlUGh5c2ljcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIEFtbW8gIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzID0gbmV3IGluZGV4XzEuQW1tb1BoeXNpY3ModGhpcy5zY2VuZSwgdGhyZWVHcmFwaGljc0NvbmZpZyk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbZW5hYmxlM2RdOiBBcmUgeW91IHN1cmUgeW91IGluY2x1ZGVkIGFtbW8uanM/Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVGhyZWVHcmFwaGljcyA9IFRocmVlR3JhcGhpY3M7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5NYXRoVXRpbHMgPSBleHBvcnRzLlZlY3RvcjMgPSBleHBvcnRzLlZlY3RvcjIgPSBleHBvcnRzLk9iamVjdDNEID0gZXhwb3J0cy5GQlhMb2FkZXIgPSBleHBvcnRzLkdMVEZMb2FkZXIgPSBleHBvcnRzLlJHQkFGb3JtYXQgPSBleHBvcnRzLlRleHR1cmUgPSBleHBvcnRzLldlYkdMUmVuZGVyZXIgPSBleHBvcnRzLlR5cGVzID0gZXhwb3J0cy5USFJFRSA9IGV4cG9ydHMuUGh5c2ljc0xvYWRlciA9IGV4cG9ydHMuVGhyZWVHcmFwaGljcyA9IHZvaWQgMDtcclxuY29uc3QgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGhyZWVHcmFwaGljc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZV8xLlRocmVlR3JhcGhpY3M7IH0gfSk7XHJcbmNvbnN0IHBoeXNpY3NMb2FkZXJfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvcGh5c2ljc0xvYWRlclwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGh5c2ljc0xvYWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGh5c2ljc0xvYWRlcl8xLlBoeXNpY3NMb2FkZXI7IH0gfSk7XHJcbmNvbnN0IFRIUkVFID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmV4cG9ydHMuVEhSRUUgPSBUSFJFRTtcclxuY29uc3QgVHlwZXMgPSByZXF1aXJlKFwiQGVuYWJsZTNkL2NvbW1vbi9kaXN0L3R5cGVzXCIpO1xyXG5leHBvcnRzLlR5cGVzID0gVHlwZXM7XHJcbmNvbnN0IHZlcnNpb25fMSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25cIik7XHJcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIldlYkdMUmVuZGVyZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuV2ViR0xSZW5kZXJlcjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGV4dHVyZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5kZXhfMS5UZXh0dXJlOyB9IH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSR0JBRm9ybWF0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmRleF8xLlJHQkFGb3JtYXQ7IH0gfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdMVEZMb2FkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuR0xURkxvYWRlcjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRkJYTG9hZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmRleF8xLkZCWExvYWRlcjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT2JqZWN0M0RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuT2JqZWN0M0Q7IH0gfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZlY3RvcjJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuVmVjdG9yMjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmVjdG9yM1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5kZXhfMS5WZWN0b3IzOyB9IH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNYXRoVXRpbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4XzEuTWF0aFV0aWxzOyB9IH0pO1xyXG5jb25zdCBpbmZvID0gYFBvd2VyZWQgYnkgZW5hYmxlM2QgdiR7dmVyc2lvbl8xLlZFUlNJT059YDtcclxuY29uc29sZS5sb2coYCVjICVjICVjICVjICVjICR7aW5mb30gJWMgaHR0cHM6Ly9lbmFibGUzZC5pby9gLCAnYmFja2dyb3VuZDogI2ZmMDAwMCcsICdiYWNrZ3JvdW5kOiAjZmZmZjAwJywgJ2JhY2tncm91bmQ6ICMwMGZmMDAnLCAnYmFja2dyb3VuZDogIzAwZmZmZicsICdjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzAwMDAwMDsnLCAnYmFja2dyb3VuZDogbm9uZScpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jbGFzcyBDYW1lcmFzIHtcclxuICAgIHBlcnNwZWN0aXZlQ2FtZXJhKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIENhbWVyYXMuUGVyc3BlY3RpdmUoY29uZmlnKTtcclxuICAgIH1cclxuICAgIG9ydGhvZ3JhcGhpY0NhbWVyYShjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiBDYW1lcmFzLk9ydGhvZ3JhcGhpYyhjb25maWcpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIFBlcnNwZWN0aXZlKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgLy8gZm9yIHBoYXNlclxyXG4gICAgICAgIC8vIGFzcGVjdCA9IHNjZW5lLnNjYWxlLmdhbWVTaXplLmFzcGVjdFJhdGlvXHJcbiAgICAgICAgY29uc3QgeyBmb3YgPSA1MCwgYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIG5lYXIgPSAwLjEsIGZhciA9IDIwMDAsIHggPSAwLCB5ID0gMCwgeiA9IDAgfSA9IGNvbmZpZztcclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBuZXcgaW5kZXhfMS5QZXJzcGVjdGl2ZUNhbWVyYShmb3YsIGFzcGVjdCwgbmVhciwgZmFyKTtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KHgsIHksIHopO1xyXG4gICAgICAgIHJldHVybiBjYW1lcmE7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgT3J0aG9ncmFwaGljKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgLy8gZm9yIHBoYXNlclxyXG4gICAgICAgIC8vIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2NlbmUuY2FtZXJhcy5tYWluXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgeyBsZWZ0ID0gd2lkdGggLyAtMTAwLCByaWdodCA9IHdpZHRoIC8gMTAwLCB0b3AgPSBoZWlnaHQgLyAxMDAsIGJvdHRvbSA9IGhlaWdodCAvIC0xMDAsIG5lYXIgPSAxLCBmYXIgPSAxMDAwLCB4ID0gMCwgeSA9IDAsIHogPSAwIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IGluZGV4XzEuT3J0aG9ncmFwaGljQ2FtZXJhKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyKTtcclxuICAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KHgsIHksIHopO1xyXG4gICAgICAgIHJldHVybiBjYW1lcmE7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FtZXJhcztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FtZXJhcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIwIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZC9ibG9iL21hc3Rlci9MSUNFTlNFfEdOVSBHUEx2M31cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gT3JpZ2luYWxseSBjb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSGktTGV2ZWwvdGhyZWUtY3NnXHJcbi8vIHdoaWNoIGlzIGEgdHlwZXNjcmlwdCByZXdyaXRlIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9tYW50aHJheC9USFJFRS1DU0dNZXNoXHJcbi8vIHdoaWNoIGFzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBDb3B5cmlnaHQgKGMpIDIwMTEgRXZhbiBXYWxsYWNlIChodHRwOi8vbWFkZWJ5ZXZhbi5jb20vKSwgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbi8qKlxyXG4gKiBDU0cgd3JhcHBlciBmb3IgZW5hYmxlM2RcclxuICpcclxuICogVGhlIENTRyBsaWJyYXJ5IGRvZXMgbm90IHN1cHBvcnQgYnVmZmVyIGdlb21ldHJpZXMuXHJcbiAqIE1lYW5zIHdlIGZpcnN0IG1ha2Ugc3VyZSB3ZSBhcmUgZGVhbGluZyB3aXRoIGdlb21ldHJpZXNcclxuICogYW5kIHRoZW4gdHJhbnNmb3JtIHRoZW0gYmFjayB0byBidWZmZXIgZ2VvbWV0cmllcy5cclxuICovXHJcbmNsYXNzIENTR1dyYXBwZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxuICAgIH1cclxuICAgIHRvR2VvbWV0cnkobWVzaEEsIG1lc2hCKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1lc2hBLmdlb21ldHJ5ID0gdGhpcy50cmFuc2Zvcm0uYnVmZmVyR2VvbWV0cnlUb0dlb21ldHJ5KG1lc2hBLmdlb21ldHJ5KTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWVzaEIuZ2VvbWV0cnkgPSB0aGlzLnRyYW5zZm9ybS5idWZmZXJHZW9tZXRyeVRvR2VvbWV0cnkobWVzaEIuZ2VvbWV0cnkpO1xyXG4gICAgfVxyXG4gICAgdG9CdWZmZXJHZW9tZXRyeShtZXNoQykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtZXNoQy5nZW9tZXRyeSA9IHRoaXMudHJhbnNmb3JtLmdlb21ldHJ5VG9CdWZmZXJHZW9tZXRyeShtZXNoQy5nZW9tZXRyeSk7XHJcbiAgICB9XHJcbiAgICB1bmlvbihtZXNoQSwgbWVzaEIpIHtcclxuICAgICAgICB0aGlzLnRvR2VvbWV0cnkobWVzaEEsIG1lc2hCKTtcclxuICAgICAgICBjb25zdCBtZXNoQyA9IHRoaXMuZG9DU0cobWVzaEEsIG1lc2hCLCAndW5pb24nKTtcclxuICAgICAgICB0aGlzLnRvQnVmZmVyR2VvbWV0cnkobWVzaEMpO1xyXG4gICAgICAgIHJldHVybiBtZXNoQztcclxuICAgIH1cclxuICAgIHN1YnRyYWN0KG1lc2hBLCBtZXNoQikge1xyXG4gICAgICAgIHRoaXMudG9HZW9tZXRyeShtZXNoQSwgbWVzaEIpO1xyXG4gICAgICAgIGNvbnN0IG1lc2hDID0gdGhpcy5kb0NTRyhtZXNoQSwgbWVzaEIsICdzdWJ0cmFjdCcpO1xyXG4gICAgICAgIHRoaXMudG9CdWZmZXJHZW9tZXRyeShtZXNoQyk7XHJcbiAgICAgICAgcmV0dXJuIG1lc2hDO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0KG1lc2hBLCBtZXNoQikge1xyXG4gICAgICAgIHRoaXMudG9HZW9tZXRyeShtZXNoQSwgbWVzaEIpO1xyXG4gICAgICAgIGNvbnN0IG1lc2hDID0gdGhpcy5kb0NTRyhtZXNoQSwgbWVzaEIsICdpbnRlcnNlY3QnKTtcclxuICAgICAgICB0aGlzLnRvQnVmZmVyR2VvbWV0cnkobWVzaEMpO1xyXG4gICAgICAgIHJldHVybiBtZXNoQztcclxuICAgIH1cclxuICAgIGRvQ1NHKG1lc2hBLCBtZXNoQiwgb3BlcmF0aW9uKSB7XHJcbiAgICAgICAgbWVzaEEudXBkYXRlTWF0cml4KCk7XHJcbiAgICAgICAgbWVzaEIudXBkYXRlTWF0cml4KCk7XHJcbiAgICAgICAgY29uc3QgYnNwQSA9IENTRy5mcm9tTWVzaChtZXNoQSk7XHJcbiAgICAgICAgY29uc3QgYnNwQiA9IENTRy5mcm9tTWVzaChtZXNoQik7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGJzcEMgPSBic3BBW29wZXJhdGlvbl0oYnNwQik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQ1NHLnRvTWVzaChic3BDLCBtZXNoQS5tYXRyaXgpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gQ1NHV3JhcHBlcjtcclxuLyoqXHJcbiAqIENTRyAoQ29uc3RydWN0aXZlIFNvbGlkIEdlb21ldHJ5KSBsaWJyYXJ5IGZvciB0aHJlZS5qcyB3aXRoIFR5cGVzY3JpcHQgc3VwcG9ydC5cclxuICogSG9sZHMgYSBiaW5hcnkgc3BhY2UgcGFydGl0aW9uIHRyZWUgcmVwcmVzZW50aW5nIGEgM0Qgc29saWQuIFR3byBzb2xpZHMgY2FuXHJcbiAqIGJlIGNvbWJpbmVkIHVzaW5nIHRoZSBgdW5pb24oKWAsIGBzdWJ0cmFjdCgpYCwgYW5kIGBpbnRlcnNlY3QoKWAgbWV0aG9kcy5cclxuICovXHJcbmNsYXNzIENTRyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBvbHlnb25zID0gW107XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZnJvbVBvbHlnb25zKHBvbHlnb25zKSB7XHJcbiAgICAgICAgY29uc3QgY3NnID0gbmV3IENTRygpO1xyXG4gICAgICAgIGNzZy5wb2x5Z29ucyA9IHBvbHlnb25zO1xyXG4gICAgICAgIHJldHVybiBjc2c7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZnJvbUdlb21ldHJ5KGdlb20pIHtcclxuICAgICAgICBpZiAoZ2VvbS5pc0J1ZmZlckdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgIGdlb20gPSBuZXcgaW5kZXhfMS5HZW9tZXRyeSgpLmZyb21CdWZmZXJHZW9tZXRyeShnZW9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZnMgPSBnZW9tLmZhY2VzO1xyXG4gICAgICAgIGNvbnN0IHZzID0gZ2VvbS52ZXJ0aWNlcztcclxuICAgICAgICBjb25zdCBwb2x5cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGZtID0gWydhJywgJ2InLCAnYyddO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZiA9IGZzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXZzID0gZ2VvbS5mYWNlVmVydGV4VXZzWzBdW2ldICE9PSB1bmRlZmluZWQgJiYgZ2VvbS5mYWNlVmVydGV4VXZzWzBdW2ldW2pdICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGdlb20uZmFjZVZlcnRleFV2c1swXVtpXVtqXVxyXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVydGV4KHZzW2ZbZm1bal1dXSwgZi52ZXJ0ZXhOb3JtYWxzW2pdLCB1dnMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb2x5cy5wdXNoKG5ldyBQb2x5Z29uKHZlcnRpY2VzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDU0cuZnJvbVBvbHlnb25zKHBvbHlzKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBmcm9tTWVzaChtZXNoKSB7XHJcbiAgICAgICAgY29uc3QgY3NnID0gQ1NHLmZyb21HZW9tZXRyeShtZXNoLmdlb21ldHJ5KTtcclxuICAgICAgICBDU0cuX3RtcG0zLmdldE5vcm1hbE1hdHJpeChtZXNoLm1hdHJpeCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIGNzZy5wb2x5Z29ucykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgcC52ZXJ0aWNlcykge1xyXG4gICAgICAgICAgICAgICAgdi5wb3MuYXBwbHlNYXRyaXg0KG1lc2gubWF0cml4KTtcclxuICAgICAgICAgICAgICAgIHYubm9ybWFsLmFwcGx5TWF0cml4MyhDU0cuX3RtcG0zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3NnO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHRvTWVzaChjc2csIHRvTWF0cml4KSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbSA9IG5ldyBpbmRleF8xLkdlb21ldHJ5KCk7XHJcbiAgICAgICAgY29uc3QgcHMgPSBjc2cucG9seWdvbnM7XHJcbiAgICAgICAgY29uc3QgdnMgPSBnZW9tLnZlcnRpY2VzO1xyXG4gICAgICAgIGNvbnN0IGZ2dXYgPSBnZW9tLmZhY2VWZXJ0ZXhVdnNbMF07XHJcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIHBzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHB2cyA9IHAudmVydGljZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHYwID0gdnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBwdmxlbiA9IHB2cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHYgb2YgcHZzKSB7XHJcbiAgICAgICAgICAgICAgICB2cy5wdXNoKG5ldyBpbmRleF8xLlZlY3RvcjMoKS5jb3B5KHB2LnBvcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAzOyBqIDw9IHB2bGVuOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZjID0gbmV3IGluZGV4XzEuRmFjZTModjAsIHYwICsgaiAtIDIsIHYwICsgaiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnV2ID0gW107XHJcbiAgICAgICAgICAgICAgICBmdnV2LnB1c2goZnV2KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZubWwgPSBmYy52ZXJ0ZXhOb3JtYWxzO1xyXG4gICAgICAgICAgICAgICAgZm5tbC5wdXNoKG5ldyBpbmRleF8xLlZlY3RvcjMoKS5jb3B5KHB2c1swXS5ub3JtYWwpKTtcclxuICAgICAgICAgICAgICAgIGZubWwucHVzaChuZXcgaW5kZXhfMS5WZWN0b3IzKCkuY29weShwdnNbaiAtIDJdLm5vcm1hbCkpO1xyXG4gICAgICAgICAgICAgICAgZm5tbC5wdXNoKG5ldyBpbmRleF8xLlZlY3RvcjMoKS5jb3B5KHB2c1tqIC0gMV0ubm9ybWFsKSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgdXYgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgIGlmIChwdnNbMF0udXYgJiYgcHZzW2ogLSAyXS51diAmJiBwdnNbaiAtIDFdLnV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnV2LnB1c2gobmV3IGluZGV4XzEuVmVjdG9yMygpLmNvcHkocHZzWzBdLnV2KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnV2LnB1c2gobmV3IGluZGV4XzEuVmVjdG9yMygpLmNvcHkocHZzW2ogLSAyXS51dikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1di5wdXNoKG5ldyBpbmRleF8xLlZlY3RvcjMoKS5jb3B5KHB2c1tqIC0gMV0udXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZjLm5vcm1hbCA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKS5jb3B5KHAucGxhbmUubm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIGdlb20uZmFjZXMucHVzaChmYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tcGF0aWJpbGl0eSBmaXggZm9yIHRocmVlLmpzID49IHIxMjMgKERlemVtYmVyIDIwMjApXHJcbiAgICAgICAgY29uc3QgaW52ID0gXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICtpbmRleF8xLlJFVklTSU9OID49IDEyMyA/IG5ldyBpbmRleF8xLk1hdHJpeDQoKS5jb3B5KHRvTWF0cml4KS5pbnZlcnQoKSA6IG5ldyBpbmRleF8xLk1hdHJpeDQoKS5nZXRJbnZlcnNlKHRvTWF0cml4KTtcclxuICAgICAgICBnZW9tLmFwcGx5TWF0cml4NChpbnYpO1xyXG4gICAgICAgIGdlb20udmVydGljZXNOZWVkVXBkYXRlID0gZ2VvbS5lbGVtZW50c05lZWRVcGRhdGUgPSBnZW9tLm5vcm1hbHNOZWVkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBnZW9tLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xyXG4gICAgICAgIGdlb20uY29tcHV0ZUJvdW5kaW5nQm94KCk7XHJcbiAgICAgICAgY29uc3QgbSA9IG5ldyBpbmRleF8xLk1lc2goZ2VvbSk7XHJcbiAgICAgICAgbS5tYXRyaXguY29weSh0b01hdHJpeCk7XHJcbiAgICAgICAgbS5tYXRyaXguZGVjb21wb3NlKG0ucG9zaXRpb24sIG0ucm90YXRpb24sIG0uc2NhbGUpO1xyXG4gICAgICAgIG0udXBkYXRlTWF0cml4V29ybGQoKTtcclxuICAgICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBpRXZhbCh0b2tlbnMsIF9pbmRleCA9IDApIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIENTRy5jdXJyZW50T3AgPSB0b2tlbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRva2VucyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XHJcbiAgICAgICAgICAgICAgICBDU0cuaUV2YWwodG9rZW4sIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0b2tlbnMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wID0gQ1NHLmN1cnJlbnRPcDtcclxuICAgICAgICAgICAgdG9rZW5zLnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICAgICAgICB0b2tlbnMudXBkYXRlTWF0cml4V29ybGQoKTtcclxuICAgICAgICAgICAgaWYgKCFDU0cuc291cmNlTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgQ1NHLmN1cnJlbnRQcmltID0gQ1NHLmZyb21NZXNoKChDU0cuc291cmNlTWVzaCA9IHRva2VucykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQ1NHLm5leHRQcmltID0gQ1NHLmZyb21NZXNoKHRva2Vucyk7XHJcbiAgICAgICAgICAgICAgICBDU0cuY3VycmVudFByaW0gPSBDU0cuY3VycmVudFByaW1bb3BdKENTRy5uZXh0UHJpbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKENTRy5kb1JlbW92ZSlcclxuICAgICAgICAgICAgICAgIChfYSA9IHRva2VucyA9PT0gbnVsbCB8fCB0b2tlbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRva2Vucy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUodG9rZW5zKTtcclxuICAgICAgICB9IC8vIHVuaW9uLHN1YnRyYWN0LGludGVyc2VjdCxpbnZlcnNlXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZXZhbCh0b2tlbnMsIGRvUmVtb3ZlKSB7XHJcbiAgICAgICAgLy8gW1snYWRkJyxtZXNoLG1lc2gsbWVzaCxtZXNoXSxbJ3N1YicsbWVzaCxtZXNoLG1lc2gsbWVzaF1dXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGRlbGV0ZSBDU0cuY3VycmVudE9wO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBkZWxldGUgQ1NHLnNvdXJjZU1lc2g7XHJcbiAgICAgICAgQ1NHLmRvUmVtb3ZlID0gZG9SZW1vdmU7XHJcbiAgICAgICAgQ1NHLmlFdmFsKHRva2Vucyk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQ1NHLnRvTWVzaChDU0cuY3VycmVudFByaW0sIENTRy5zb3VyY2VNZXNoLm1hdHJpeCk7XHJcbiAgICAgICAgcmVzdWx0Lm1hdGVyaWFsID0gQ1NHLnNvdXJjZU1lc2gubWF0ZXJpYWw7XHJcbiAgICAgICAgcmVzdWx0LmNhc3RTaGFkb3cgPSByZXN1bHQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIGNvbnN0IGNzZyA9IG5ldyBDU0coKTtcclxuICAgICAgICBjc2cucG9seWdvbnMgPSB0aGlzLnBvbHlnb25zLm1hcChwID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHAuY2xvbmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY3NnO1xyXG4gICAgfVxyXG4gICAgdG9Qb2x5Z29ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wb2x5Z29ucztcclxuICAgIH1cclxuICAgIHVuaW9uKGNzZykge1xyXG4gICAgICAgIGNvbnN0IGEgPSBuZXcgTm9kZSh0aGlzLmNsb25lKCkucG9seWdvbnMpO1xyXG4gICAgICAgIGNvbnN0IGIgPSBuZXcgTm9kZShjc2cuY2xvbmUoKS5wb2x5Z29ucyk7XHJcbiAgICAgICAgYS5jbGlwVG8oYik7XHJcbiAgICAgICAgYi5jbGlwVG8oYSk7XHJcbiAgICAgICAgYi5pbnZlcnQoKTtcclxuICAgICAgICBiLmNsaXBUbyhhKTtcclxuICAgICAgICBiLmludmVydCgpO1xyXG4gICAgICAgIGEuYnVpbGQoYi5hbGxQb2x5Z29ucygpKTtcclxuICAgICAgICByZXR1cm4gQ1NHLmZyb21Qb2x5Z29ucyhhLmFsbFBvbHlnb25zKCkpO1xyXG4gICAgfVxyXG4gICAgc3VidHJhY3QoY3NnKSB7XHJcbiAgICAgICAgY29uc3QgYSA9IG5ldyBOb2RlKHRoaXMuY2xvbmUoKS5wb2x5Z29ucyk7XHJcbiAgICAgICAgY29uc3QgYiA9IG5ldyBOb2RlKGNzZy5jbG9uZSgpLnBvbHlnb25zKTtcclxuICAgICAgICBhLmludmVydCgpO1xyXG4gICAgICAgIGEuY2xpcFRvKGIpO1xyXG4gICAgICAgIGIuY2xpcFRvKGEpO1xyXG4gICAgICAgIGIuaW52ZXJ0KCk7XHJcbiAgICAgICAgYi5jbGlwVG8oYSk7XHJcbiAgICAgICAgYi5pbnZlcnQoKTtcclxuICAgICAgICBhLmJ1aWxkKGIuYWxsUG9seWdvbnMoKSk7XHJcbiAgICAgICAgYS5pbnZlcnQoKTtcclxuICAgICAgICByZXR1cm4gQ1NHLmZyb21Qb2x5Z29ucyhhLmFsbFBvbHlnb25zKCkpO1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0KGNzZykge1xyXG4gICAgICAgIGNvbnN0IGEgPSBuZXcgTm9kZSh0aGlzLmNsb25lKCkucG9seWdvbnMpO1xyXG4gICAgICAgIGNvbnN0IGIgPSBuZXcgTm9kZShjc2cuY2xvbmUoKS5wb2x5Z29ucyk7XHJcbiAgICAgICAgYS5pbnZlcnQoKTtcclxuICAgICAgICBiLmNsaXBUbyhhKTtcclxuICAgICAgICBiLmludmVydCgpO1xyXG4gICAgICAgIGEuY2xpcFRvKGIpO1xyXG4gICAgICAgIGIuY2xpcFRvKGEpO1xyXG4gICAgICAgIGEuYnVpbGQoYi5hbGxQb2x5Z29ucygpKTtcclxuICAgICAgICBhLmludmVydCgpO1xyXG4gICAgICAgIHJldHVybiBDU0cuZnJvbVBvbHlnb25zKGEuYWxsUG9seWdvbnMoKSk7XHJcbiAgICB9XHJcbiAgICBpbnZlcnNlKCkge1xyXG4gICAgICAgIGNvbnN0IGNzZyA9IHRoaXMuY2xvbmUoKTtcclxuICAgICAgICBjc2cucG9seWdvbnMubWFwKHAgPT4ge1xyXG4gICAgICAgICAgICBwLmZsaXAoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY3NnO1xyXG4gICAgfVxyXG59XHJcbkNTRy5fdG1wbTMgPSBuZXcgaW5kZXhfMS5NYXRyaXgzKCk7XHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgM0QgdmVjdG9yLlxyXG4gKi9cclxuY2xhc3MgVmVjdG9yIGV4dGVuZHMgaW5kZXhfMS5WZWN0b3IzIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICBzdXBlcih4LCB5LCB6KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xyXG4gICAgICAgICAgICBzdXBlcih4WzBdLCB4WzFdLCB4WzJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHggPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGhpcy5jb3B5KHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbnN0cnVjdG9yIHRvIHZlY3RvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xyXG4gICAgfVxyXG4gICAgbmVnYXRlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKC0xKTtcclxuICAgIH1cclxuICAgIHBsdXMoYSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuYWRkKGEpO1xyXG4gICAgfVxyXG4gICAgbWludXMoYSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3ViKGEpO1xyXG4gICAgfVxyXG4gICAgdGltZXMoYSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoYSk7XHJcbiAgICB9XHJcbiAgICBkaXZpZGVkQnkoYSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZGl2aWRlU2NhbGFyKGEpO1xyXG4gICAgfVxyXG4gICAgbGVycChhLCB0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1cyhhLm1pbnVzKHRoaXMpLnRpbWVzKHQpKTtcclxuICAgIH1cclxuICAgIHVuaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlZEJ5KHRoaXMubGVuZ3RoKCkpO1xyXG4gICAgfVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY3Jvc3MoYSwgdykge1xyXG4gICAgICAgIHJldHVybiBpbmRleF8xLlZlY3RvcjMucHJvdG90eXBlLmNyb3NzLmNhbGwodGhpcy5jbG9uZSgpLCBhKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHZlcnRleCBvZiBhIHBvbHlnb24uIFVzZSB5b3VyIG93biB2ZXJ0ZXggY2xhc3MgaW5zdGVhZCBvZiB0aGlzXHJcbiAqIG9uZSB0byBwcm92aWRlIGFkZGl0aW9uYWwgZmVhdHVyZXMgbGlrZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGFuZCB2ZXJ0ZXhcclxuICogY29sb3JzLiBDdXN0b20gdmVydGV4IGNsYXNzZXMgbmVlZCB0byBwcm92aWRlIGEgYHBvc2AgcHJvcGVydHkgYW5kIGBjbG9uZSgpYCxcclxuICogYGZsaXAoKWAsIGFuZCBgaW50ZXJwb2xhdGUoKWAgbWV0aG9kcyB0aGF0IGJlaGF2ZSBhbmFsb2dvdXMgdG8gdGhlIG9uZXNcclxuICogZGVmaW5lZCBieSBgQ1NHLlZlcnRleGAuIFRoaXMgY2xhc3MgcHJvdmlkZXMgYG5vcm1hbGAgc28gY29udmVuaWVuY2VcclxuICogZnVuY3Rpb25zIGxpa2UgYENTRy5zcGhlcmUoKWAgY2FuIHJldHVybiBhIHNtb290aCB2ZXJ0ZXggbm9ybWFsLCBidXQgYG5vcm1hbGBcclxuICogaXMgbm90IHVzZWQgYW55d2hlcmUgZWxzZS5cclxuICovXHJcbmNsYXNzIFZlcnRleCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MsIG5vcm1hbCwgdXYpIHtcclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IocG9zLngsIHBvcy55LCBwb3Mueik7XHJcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBuZXcgVmVjdG9yKG5vcm1hbC54LCBub3JtYWwueSwgbm9ybWFsLnopO1xyXG4gICAgICAgIGlmICh1dilcclxuICAgICAgICAgICAgdGhpcy51diA9IG5ldyBWZWN0b3IodXYueCwgdXYueSwgdXYueik7XHJcbiAgICB9XHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlcnRleCh0aGlzLnBvcy5jbG9uZSgpLCB0aGlzLm5vcm1hbC5jbG9uZSgpLCB0aGlzLnV2ID8gdGhpcy51di5jbG9uZSgpIDogdW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIC8vIEludmVydCBhbGwgb3JpZW50YXRpb24tc3BlY2lmaWMgZGF0YSAoZS5nLiB2ZXJ0ZXggbm9ybWFsKS4gQ2FsbGVkIHdoZW4gdGhlXHJcbiAgICAvLyBvcmllbnRhdGlvbiBvZiBhIHBvbHlnb24gaXMgZmxpcHBlZC5cclxuICAgIGZsaXAoKSB7XHJcbiAgICAgICAgdGhpcy5ub3JtYWwgPSB0aGlzLm5vcm1hbC5uZWdhdGVkKCk7XHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgdmVydGV4IGJldHdlZW4gdGhpcyB2ZXJ0ZXggYW5kIGBvdGhlcmAgYnkgbGluZWFybHlcclxuICAgIC8vIGludGVycG9sYXRpbmcgYWxsIHByb3BlcnRpZXMgdXNpbmcgYSBwYXJhbWV0ZXIgb2YgYHRgLiBTdWJjbGFzc2VzIHNob3VsZFxyXG4gICAgLy8gb3ZlcnJpZGUgdGhpcyB0byBpbnRlcnBvbGF0ZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMuXHJcbiAgICBpbnRlcnBvbGF0ZShvdGhlciwgdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHRoaXMucG9zLmxlcnAob3RoZXIucG9zLCB0KSwgdGhpcy5ub3JtYWwubGVycChvdGhlci5ub3JtYWwsIHQpLCB0aGlzLnV2ID8gdGhpcy51di5sZXJwKG90aGVyLnV2LCB0KSA6IHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBwbGFuZSBpbiAzRCBzcGFjZS5cclxuICovXHJcbmNsYXNzIFBsYW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKG5vcm1hbCwgdykge1xyXG4gICAgICAgIHRoaXMubm9ybWFsID0gbm9ybWFsO1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZnJvbVBvaW50cyhhLCBiLCBjKSB7XHJcbiAgICAgICAgY29uc3QgbiA9IGJcclxuICAgICAgICAgICAgLm1pbnVzKGEpXHJcbiAgICAgICAgICAgIC5jcm9zcyhjLm1pbnVzKGEpKVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIC51bml0KCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZShuLCBuLmRvdChhKSk7XHJcbiAgICB9XHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBsYW5lKHRoaXMubm9ybWFsLmNsb25lKCksIHRoaXMudyk7XHJcbiAgICB9XHJcbiAgICBmbGlwKCkge1xyXG4gICAgICAgIHRoaXMubm9ybWFsID0gdGhpcy5ub3JtYWwubmVnYXRlZCgpO1xyXG4gICAgICAgIHRoaXMudyA9IC10aGlzLnc7XHJcbiAgICB9XHJcbiAgICAvLyBTcGxpdCBgcG9seWdvbmAgYnkgdGhpcyBwbGFuZSBpZiBuZWVkZWQsIHRoZW4gcHV0IHRoZSBwb2x5Z29uIG9yIHBvbHlnb25cclxuICAgIC8vIGZyYWdtZW50cyBpbiB0aGUgYXBwcm9wcmlhdGUgbGlzdHMuIENvcGxhbmFyIHBvbHlnb25zIGdvIGludG8gZWl0aGVyXHJcbiAgICAvLyBgY29wbGFuYXJGcm9udGAgb3IgYGNvcGxhbmFyQmFja2AgZGVwZW5kaW5nIG9uIHRoZWlyIG9yaWVudGF0aW9uIHdpdGhcclxuICAgIC8vIHJlc3BlY3QgdG8gdGhpcyBwbGFuZS4gUG9seWdvbnMgaW4gZnJvbnQgb3IgaW4gYmFjayBvZiB0aGlzIHBsYW5lIGdvIGludG9cclxuICAgIC8vIGVpdGhlciBgZnJvbnRgIG9yIGBiYWNrYC5cclxuICAgIHNwbGl0UG9seWdvbihwb2x5Z29uLCBjb3BsYW5hckZyb250LCBjb3BsYW5hckJhY2ssIGZyb250LCBiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgQ09QTEFOQVIgPSAwO1xyXG4gICAgICAgIGNvbnN0IEZST05UID0gMTtcclxuICAgICAgICBjb25zdCBCQUNLID0gMjtcclxuICAgICAgICBjb25zdCBTUEFOTklORyA9IDM7XHJcbiAgICAgICAgLy8gQ2xhc3NpZnkgZWFjaCBwb2ludCBhcyB3ZWxsIGFzIHRoZSBlbnRpcmUgcG9seWdvbiBpbnRvIG9uZSBvZiB0aGUgYWJvdmVcclxuICAgICAgICAvLyBmb3VyIGNsYXNzZXMuXHJcbiAgICAgICAgbGV0IHBvbHlnb25UeXBlID0gMDtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgdmVydGV4IG9mIHBvbHlnb24udmVydGljZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMubm9ybWFsLmRvdCh2ZXJ0ZXgucG9zKSAtIHRoaXMudztcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHQgPCAtUGxhbmUuRVBTSUxPTiA/IEJBQ0sgOiB0ID4gUGxhbmUuRVBTSUxPTiA/IEZST05UIDogQ09QTEFOQVI7XHJcbiAgICAgICAgICAgIHBvbHlnb25UeXBlIHw9IHR5cGU7XHJcbiAgICAgICAgICAgIHR5cGVzLnB1c2godHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFB1dCB0aGUgcG9seWdvbiBpbiB0aGUgY29ycmVjdCBsaXN0LCBzcGxpdHRpbmcgaXQgd2hlbiBuZWNlc3NhcnkuXHJcbiAgICAgICAgc3dpdGNoIChwb2x5Z29uVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENPUExBTkFSOlxyXG4gICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgKHRoaXMubm9ybWFsLmRvdChwb2x5Z29uLnBsYW5lLm5vcm1hbCkgPiAwID8gY29wbGFuYXJGcm9udCA6IGNvcGxhbmFyQmFjaykucHVzaChwb2x5Z29uKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZST05UOlxyXG4gICAgICAgICAgICAgICAgZnJvbnQucHVzaChwb2x5Z29uKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEJBQ0s6XHJcbiAgICAgICAgICAgICAgICBiYWNrLnB1c2gocG9seWdvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTUEFOTklORzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGYgPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9seWdvbi52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGogPSAoaSArIDEpICUgcG9seWdvbi52ZXJ0aWNlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGkgPSB0eXBlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aiA9IHR5cGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpID0gcG9seWdvbi52ZXJ0aWNlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aiA9IHBvbHlnb24udmVydGljZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpICE9PSBCQUNLKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGYucHVzaCh2aSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aSAhPT0gRlJPTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKHRpICE9PSBCQUNLID8gdmkuY2xvbmUoKSA6IHZpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0aSB8IHRqKSA9PT0gU1BBTk5JTkcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9ICh0aGlzLncgLSB0aGlzLm5vcm1hbC5kb3QodmkucG9zKSkgLyB0aGlzLm5vcm1hbC5kb3QodmoucG9zLm1pbnVzKHZpLnBvcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmkuaW50ZXJwb2xhdGUodmosIHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmLnB1c2godik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCh2LmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbnQucHVzaChuZXcgUG9seWdvbihmLCBwb2x5Z29uLnNoYXJlZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGIubGVuZ3RoID49IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrLnB1c2gobmV3IFBvbHlnb24oYiwgcG9seWdvbi5zaGFyZWQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyB0aGUgdG9sZXJhbmNlIHVzZWQgYnkgYHNwbGl0UG9seWdvbigpYCB0byBkZWNpZGUgaWYgYVxyXG4vLyBwb2ludCBpcyBvbiB0aGUgcGxhbmUuXHJcblBsYW5lLkVQU0lMT04gPSAxZS01O1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIGNvbnZleCBwb2x5Z29uLiBUaGUgdmVydGljZXMgdXNlZCB0byBpbml0aWFsaXplIGEgcG9seWdvbiBtdXN0XHJcbiAqIGJlIGNvcGxhbmFyIGFuZCBmb3JtIGEgY29udmV4IGxvb3AuIFRoZXkgZG8gbm90IGhhdmUgdG8gYmUgYFZlcnRleGBcclxuICogaW5zdGFuY2VzIGJ1dCB0aGV5IG11c3QgYmVoYXZlIHNpbWlsYXJseSAoZHVjayB0eXBpbmcgY2FuIGJlIHVzZWQgZm9yXHJcbiAqIGN1c3RvbWl6YXRpb24pLlxyXG4gKlxyXG4gKiBFYWNoIGNvbnZleCBwb2x5Z29uIGhhcyBhIGBzaGFyZWRgIHByb3BlcnR5LCB3aGljaCBpcyBzaGFyZWQgYmV0d2VlbiBhbGxcclxuICogcG9seWdvbnMgdGhhdCBhcmUgY2xvbmVzIG9mIGVhY2ggb3RoZXIgb3Igd2VyZSBzcGxpdCBmcm9tIHRoZSBzYW1lIHBvbHlnb24uXHJcbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gZGVmaW5lIHBlci1wb2x5Z29uIHByb3BlcnRpZXMgKHN1Y2ggYXMgc3VyZmFjZSBjb2xvcikuXHJcbiAqL1xyXG5jbGFzcyBQb2x5Z29uIHtcclxuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCBzaGFyZWQgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xyXG4gICAgICAgIHRoaXMuc2hhcmVkID0gc2hhcmVkO1xyXG4gICAgICAgIHRoaXMucGxhbmUgPSBQbGFuZS5mcm9tUG9pbnRzKHZlcnRpY2VzWzBdLnBvcywgdmVydGljZXNbMV0ucG9zLCB2ZXJ0aWNlc1syXS5wb3MpO1xyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzLm1hcCh2ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHYuY2xvbmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFBvbHlnb24odmVydGljZXMsIHRoaXMuc2hhcmVkKTtcclxuICAgIH1cclxuICAgIGZsaXAoKSB7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNlcy5yZXZlcnNlKCkubWFwKHYgPT4ge1xyXG4gICAgICAgICAgICB2LmZsaXAoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsYW5lLmZsaXAoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogSG9sZHMgYSBub2RlIGluIGEgQlNQIHRyZWUuIEEgQlNQIHRyZWUgaXMgYnVpbHQgZnJvbSBhIGNvbGxlY3Rpb24gb2YgcG9seWdvbnNcclxuICogYnkgcGlja2luZyBhIHBvbHlnb24gdG8gc3BsaXQgYWxvbmcuIFRoYXQgcG9seWdvbiAoYW5kIGFsbCBvdGhlciBjb3BsYW5hclxyXG4gKiBwb2x5Z29ucykgYXJlIGFkZGVkIGRpcmVjdGx5IHRvIHRoYXQgbm9kZSBhbmQgdGhlIG90aGVyIHBvbHlnb25zIGFyZSBhZGRlZCB0b1xyXG4gKiB0aGUgZnJvbnQgYW5kL29yIGJhY2sgc3VidHJlZXMuIFRoaXMgaXMgbm90IGEgbGVhZnkgQlNQIHRyZWUgc2luY2UgdGhlcmUgaXNcclxuICogbm8gZGlzdGluY3Rpb24gYmV0d2VlbiBpbnRlcm5hbCBhbmQgbGVhZiBub2Rlcy5cclxuICovXHJcbmNsYXNzIE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IocG9seWdvbnMpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZGVsZXRlIHRoaXMucGxhbmU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmZyb250O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBkZWxldGUgdGhpcy5iYWNrO1xyXG4gICAgICAgIHRoaXMucG9seWdvbnMgPSBbXTtcclxuICAgICAgICBpZiAocG9seWdvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZChwb2x5Z29ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKCk7XHJcbiAgICAgICAgbm9kZS5wbGFuZSA9IHRoaXMucGxhbmUgJiYgdGhpcy5wbGFuZS5jbG9uZSgpO1xyXG4gICAgICAgIG5vZGUuZnJvbnQgPSB0aGlzLmZyb250ICYmIHRoaXMuZnJvbnQuY2xvbmUoKTtcclxuICAgICAgICBub2RlLmJhY2sgPSB0aGlzLmJhY2sgJiYgdGhpcy5iYWNrLmNsb25lKCk7XHJcbiAgICAgICAgbm9kZS5wb2x5Z29ucyA9IHRoaXMucG9seWdvbnMubWFwKHAgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcC5jbG9uZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG4gICAgLy8gQ29udmVydCBzb2xpZCBzcGFjZSB0byBlbXB0eSBzcGFjZSBhbmQgZW1wdHkgc3BhY2UgdG8gc29saWQgc3BhY2UuXHJcbiAgICBpbnZlcnQoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBwb2x5Z29uIG9mIHRoaXMucG9seWdvbnMpIHtcclxuICAgICAgICAgICAgcG9seWdvbi5mbGlwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGxhbmUuZmxpcCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmZyb250KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbnQuaW52ZXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrLmludmVydCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5mcm9udDtcclxuICAgICAgICB0aGlzLmZyb250ID0gdGhpcy5iYWNrO1xyXG4gICAgICAgIHRoaXMuYmFjayA9IHRlbXA7XHJcbiAgICB9XHJcbiAgICAvLyBSZWN1cnNpdmVseSByZW1vdmUgYWxsIHBvbHlnb25zIGluIGBwb2x5Z29uc2AgdGhhdCBhcmUgaW5zaWRlIHRoaXMgQlNQXHJcbiAgICAvLyB0cmVlLlxyXG4gICAgY2xpcFBvbHlnb25zKHBvbHlnb25zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYW5lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb2x5Z29ucy5zbGljZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZnJvbnQgPSBbXTtcclxuICAgICAgICBsZXQgYmFjayA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgcG9seWdvbiBvZiBwb2x5Z29ucykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYW5lLnNwbGl0UG9seWdvbihwb2x5Z29uLCBmcm9udCwgYmFjaywgZnJvbnQsIGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5mcm9udCkge1xyXG4gICAgICAgICAgICBmcm9udCA9IHRoaXMuZnJvbnQuY2xpcFBvbHlnb25zKGZyb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmFjayA9IHRoaXMuYmFjayA/IHRoaXMuYmFjay5jbGlwUG9seWdvbnMoYmFjaykgOiBbXTtcclxuICAgICAgICByZXR1cm4gZnJvbnQuY29uY2F0KGJhY2spO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIGFsbCBwb2x5Z29ucyBpbiB0aGlzIEJTUCB0cmVlIHRoYXQgYXJlIGluc2lkZSB0aGUgb3RoZXIgQlNQIHRyZWVcclxuICAgIC8vIGBic3BgLlxyXG4gICAgY2xpcFRvKGJzcCkge1xyXG4gICAgICAgIHRoaXMucG9seWdvbnMgPSBic3AuY2xpcFBvbHlnb25zKHRoaXMucG9seWdvbnMpO1xyXG4gICAgICAgIGlmICh0aGlzLmZyb250KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbnQuY2xpcFRvKGJzcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrLmNsaXBUbyhic3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFJldHVybiBhIGxpc3Qgb2YgYWxsIHBvbHlnb25zIGluIHRoaXMgQlNQIHRyZWUuXHJcbiAgICBhbGxQb2x5Z29ucygpIHtcclxuICAgICAgICBsZXQgcG9seWdvbnMgPSB0aGlzLnBvbHlnb25zLnNsaWNlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJvbnQpIHtcclxuICAgICAgICAgICAgcG9seWdvbnMgPSBwb2x5Z29ucy5jb25jYXQodGhpcy5mcm9udC5hbGxQb2x5Z29ucygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYmFjaykge1xyXG4gICAgICAgICAgICBwb2x5Z29ucyA9IHBvbHlnb25zLmNvbmNhdCh0aGlzLmJhY2suYWxsUG9seWdvbnMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb2x5Z29ucztcclxuICAgIH1cclxuICAgIC8vIEJ1aWxkIGEgQlNQIHRyZWUgb3V0IG9mIGBwb2x5Z29uc2AuIFdoZW4gY2FsbGVkIG9uIGFuIGV4aXN0aW5nIHRyZWUsIHRoZVxyXG4gICAgLy8gbmV3IHBvbHlnb25zIGFyZSBmaWx0ZXJlZCBkb3duIHRvIHRoZSBib3R0b20gb2YgdGhlIHRyZWUgYW5kIGJlY29tZSBuZXdcclxuICAgIC8vIG5vZGVzIHRoZXJlLiBFYWNoIHNldCBvZiBwb2x5Z29ucyBpcyBwYXJ0aXRpb25lZCB1c2luZyB0aGUgZmlyc3QgcG9seWdvblxyXG4gICAgLy8gKG5vIGhldXJpc3RpYyBpcyB1c2VkIHRvIHBpY2sgYSBnb29kIHNwbGl0KS5cclxuICAgIGJ1aWxkKHBvbHlnb25zKSB7XHJcbiAgICAgICAgaWYgKCFwb2x5Z29ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGxhbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGFuZSA9IHBvbHlnb25zWzBdLnBsYW5lLmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZyb250ID0gW107XHJcbiAgICAgICAgY29uc3QgYmFjayA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgcG9seWdvbiBvZiBwb2x5Z29ucykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYW5lLnNwbGl0UG9seWdvbihwb2x5Z29uLCB0aGlzLnBvbHlnb25zLCB0aGlzLnBvbHlnb25zLCBmcm9udCwgYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmcm9udC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmZyb250KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250ID0gbmV3IE5vZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZyb250LmJ1aWxkKGZyb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5iYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2sgPSBuZXcgTm9kZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmFjay5idWlsZChiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NnLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IEhhdmVTb21lRnVuID0gKG51bWJlck9mRWxlbWVudHMgPSAyMCwgcGh5c2ljcykgPT4ge1xyXG4gICAgaWYgKCF3aW5kb3cuX19sb2FkUGh5c2ljcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdUaGVyZSBpcyBub3QgbXVjaCBmdW4gd2l0aG91dCBwaHlzaWNzIGVuYWJsZWQhJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkaW5nIHNvbWUgYm94ZXMgKHdpdGggcGh5c2ljcylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZFbGVtZW50czsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxzID0gWydzdGFuZGFyZCcsICdiYXNpYycsICdub3JtYWwnLCAncGhvbmcnLCAnbGluZScsICdwb2ludHMnXTtcclxuICAgICAgICBjb25zdCBCZXR3ZWVuID0gKG1pbiwgbWF4KSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG4gICAgICAgIGNvbnN0IFJhbmRvbVBpY2sgPSAoYXJyYXkpID0+IGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xyXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XHJcbiAgICAgICAgICAgIHBoeXNpY3MuYWRkXHJcbiAgICAgICAgICAgICAgICAuYm94KHtcclxuICAgICAgICAgICAgICAgIHg6IEJldHdlZW4oLTEwLCAxMCksXHJcbiAgICAgICAgICAgICAgICB5OiBCZXR3ZWVuKDEwLCAyMCksXHJcbiAgICAgICAgICAgICAgICB6OiBCZXR3ZWVuKC0xMCwgMTApLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IEJldHdlZW4oMSwgMikgLyAxMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogQmV0d2VlbigxLCAyKSAvIDEwLFxyXG4gICAgICAgICAgICAgICAgZGVwdGg6IEJldHdlZW4oMSwgMikgLyAxMCxcclxuICAgICAgICAgICAgICAgIG1hc3M6IDFcclxuICAgICAgICAgICAgfSwgeyBbUmFuZG9tUGljayhtYXRlcmlhbHMpXTogeyBjb2xvcjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhmZmZmZmYpIH0gfSlcclxuICAgICAgICAgICAgICAgIC5ib2R5LnNldFJlc3RpdHV0aW9uKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSAvIDIwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBoeXNpY3MuYWRkXHJcbiAgICAgICAgICAgICAgICAuc3BoZXJlKHtcclxuICAgICAgICAgICAgICAgIHg6IEJldHdlZW4oLTEwLCAxMCksXHJcbiAgICAgICAgICAgICAgICB5OiBCZXR3ZWVuKDEwLCAyMCksXHJcbiAgICAgICAgICAgICAgICB6OiBCZXR3ZWVuKC0xMCwgMTApLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBCZXR3ZWVuKDEsIDIpIC8gMTAsXHJcbiAgICAgICAgICAgICAgICBtYXNzOiAxXHJcbiAgICAgICAgICAgIH0sIHsgW1JhbmRvbVBpY2sobWF0ZXJpYWxzKV06IHsgY29sb3I6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmKSB9IH0pXHJcbiAgICAgICAgICAgICAgICAuYm9keS5zZXRSZXN0aXR1dGlvbihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgLyAyMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBIYXZlU29tZUZ1bjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGF2ZVNvbWVGdW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvdHlwZXNcIik7XHJcbmNvbnN0IGxvZ2dlcl8xID0gcmVxdWlyZShcIkBlbmFibGUzZC9jb21tb24vZGlzdC9sb2dnZXJcIik7XHJcbmNsYXNzIEhlaWdodE1hcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIH1cclxuICAgIGFkZCh0ZXh0dXJlLCBjb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGhlaWdodE1hcCA9IHRoaXMubWFrZSh0ZXh0dXJlLCBjb25maWcpO1xyXG4gICAgICAgIGlmIChoZWlnaHRNYXApXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGhlaWdodE1hcCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBsb2dnZXJfMS5kZWZhdWx0KCdDb3VsZCBub3QgbWFrZSBoZWlnaHRtYXAnKTtcclxuICAgICAgICByZXR1cm4gaGVpZ2h0TWFwO1xyXG4gICAgfVxyXG4gICAgbWFrZSh0ZXh0dXJlLCBjb25maWcgPSB7fSkge1xyXG4gICAgICAgIC8vIHZhciBzcGFjaW5nWCA9IDNcclxuICAgICAgICAvLyB2YXIgc3BhY2luZ1ogPSAzXHJcbiAgICAgICAgLy8gdmFyIGhlaWdodE9mZnNldCA9IDJcclxuICAgICAgICBjb25zdCB7IGltYWdlIH0gPSB0ZXh0dXJlO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gaW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBjb2xvclNjYWxlIH0gPSBjb25maWc7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBpZiAoIWN0eClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGV4dHVyZS5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgY29uc3QgcGl4ZWwgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIC8vIGdlb21ldHJ5XHJcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgaW5kZXhfMS5QbGFuZUdlb21ldHJ5KDEwLCAxMCwgd2lkdGggLSAxLCBoZWlnaHQgLSAxKTtcclxuICAgICAgICAvLyBtYXRlcmlhbFxyXG4gICAgICAgIGxldCBtYXRlcmlhbENvbmZpZyA9IHsgY29sb3I6IDB4Y2NjY2NjLCBzaWRlOiBpbmRleF8xLkRvdWJsZVNpZGUgfTtcclxuICAgICAgICBpZiAoY29sb3JTY2FsZSlcclxuICAgICAgICAgICAgbWF0ZXJpYWxDb25maWcgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1hdGVyaWFsQ29uZmlnKSwgeyB2ZXJ0ZXhDb2xvcnM6IGluZGV4XzEuRmFjZUNvbG9ycyB9KTtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBpbmRleF8xLk1lc2hQaG9uZ01hdGVyaWFsKG1hdGVyaWFsQ29uZmlnKTtcclxuICAgICAgICAvLyBtZXNoXHJcbiAgICAgICAgY29uc3QgbWVzaCA9IG5ldyB0eXBlc18xLkV4dGVuZGVkTWVzaChwbGFuZSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IG1lc2guY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgbWVzaC5zaGFwZSA9ICdjb25jYXZlJztcclxuICAgICAgICAvLyBhZGp1c3QgYWxsIHogdmFsdWVzXHJcbiAgICAgICAgY29uc3QgZ2VvID0gbWVzaC5nZW9tZXRyeTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlby52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBnZW8udmVydGljZXNbaV0ueiA9IHBpeGVsLmRhdGFbaSAqIDRdIC8gMTIwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBoZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBoaWdoZXN0IHBvaW50XHJcbiAgICAgICAgY29uc3QgZ2V0SGlnaFBvaW50ID0gKGdlb21ldHJ5LCBmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB2MSA9IGdlb21ldHJ5LnZlcnRpY2VzW2ZhY2UuYV0uejtcclxuICAgICAgICAgICAgdmFyIHYyID0gZ2VvbWV0cnkudmVydGljZXNbZmFjZS5iXS56O1xyXG4gICAgICAgICAgICB2YXIgdjMgPSBnZW9tZXRyeS52ZXJ0aWNlc1tmYWNlLmNdLno7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2MSwgdjIsIHYzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGFwcGx5IGNvbG9yIHNjYWxlIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChjb2xvclNjYWxlKVxyXG4gICAgICAgICAgICBnZW8uZmFjZXMuZm9yRWFjaChmYWNlID0+IChmYWNlLmNvbG9yID0gbmV3IGluZGV4XzEuQ29sb3IoY29sb3JTY2FsZShnZXRIaWdoUG9pbnQoZ2VvLCBmYWNlKSkuaGV4KCkpKSk7XHJcbiAgICAgICAgbWVzaC5yb3RhdGVYKC1NYXRoLlBJIC8gMik7XHJcbiAgICAgICAgbWVzaC51cGRhdGVNYXRyaXgoKTtcclxuICAgICAgICBwbGFuZS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcclxuICAgICAgICBwbGFuZS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xyXG4gICAgICAgIG1lc2gubmFtZSA9ICdoZWlnaHRtYXAnO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEhlaWdodE1hcDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVpZ2h0bWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogVGhlc2UgUGx1Z2lucyBhcmUgbm90IGluY2x1ZGVkIGluIHRoZSBDb3JlIHRocmVlLWdyYXBoaWNzIHBhY2thZ2VcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5DYW1lcmFzID0gZXhwb3J0cy5IYXZlU29tZUZ1biA9IGV4cG9ydHMuV2ViWFIgPSBleHBvcnRzLlRyYW5zZm9ybSA9IGV4cG9ydHMuVGV4dHVyZUN1YmUgPSBleHBvcnRzLk1pc2MgPSBleHBvcnRzLk1peGVycyA9IGV4cG9ydHMuV2FycFNwZWVkID0gZXhwb3J0cy5IZWlnaHRNYXAgPSBleHBvcnRzLkNTRyA9IGV4cG9ydHMuRmFjdG9yaWVzID0gZXhwb3J0cy5MaWdodHMgPSBleHBvcnRzLkxvYWRlcnMgPSB2b2lkIDA7XHJcbmNvbnN0IGxvYWRlcnNfMSA9IHJlcXVpcmUoXCIuL2xvYWRlcnNcIik7XHJcbmV4cG9ydHMuTG9hZGVycyA9IGxvYWRlcnNfMS5kZWZhdWx0O1xyXG5jb25zdCBsaWdodHNfMSA9IHJlcXVpcmUoXCIuL2xpZ2h0c1wiKTtcclxuZXhwb3J0cy5MaWdodHMgPSBsaWdodHNfMS5kZWZhdWx0O1xyXG5jb25zdCBmYWN0b3JpZXNfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvZmFjdG9yaWVzXCIpO1xyXG5leHBvcnRzLkZhY3RvcmllcyA9IGZhY3Rvcmllc18xLmRlZmF1bHQ7XHJcbmNvbnN0IGNzZ18xID0gcmVxdWlyZShcIi4vY3NnXCIpO1xyXG5leHBvcnRzLkNTRyA9IGNzZ18xLmRlZmF1bHQ7XHJcbmNvbnN0IGhlaWdodG1hcF8xID0gcmVxdWlyZShcIi4vaGVpZ2h0bWFwXCIpO1xyXG5leHBvcnRzLkhlaWdodE1hcCA9IGhlaWdodG1hcF8xLmRlZmF1bHQ7XHJcbmNvbnN0IHdhcnBTcGVlZF8xID0gcmVxdWlyZShcIi4vd2FycFNwZWVkXCIpO1xyXG5leHBvcnRzLldhcnBTcGVlZCA9IHdhcnBTcGVlZF8xLmRlZmF1bHQ7XHJcbmNvbnN0IG1peGVyc18xID0gcmVxdWlyZShcIi4vbWl4ZXJzXCIpO1xyXG5leHBvcnRzLk1peGVycyA9IG1peGVyc18xLmRlZmF1bHQ7XHJcbmNvbnN0IG1pc2NfMSA9IHJlcXVpcmUoXCIuL21pc2NcIik7XHJcbmV4cG9ydHMuTWlzYyA9IG1pc2NfMS5kZWZhdWx0O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUZXh0dXJlQ3ViZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWlzY18xLlRleHR1cmVDdWJlOyB9IH0pO1xyXG5jb25zdCB0cmFuc2Zvcm1fMSA9IHJlcXVpcmUoXCIuL3RyYW5zZm9ybVwiKTtcclxuZXhwb3J0cy5UcmFuc2Zvcm0gPSB0cmFuc2Zvcm1fMS5kZWZhdWx0O1xyXG5jb25zdCB3ZWJ4cl8xID0gcmVxdWlyZShcIi4vd2VieHJcIik7XHJcbmV4cG9ydHMuV2ViWFIgPSB3ZWJ4cl8xLmRlZmF1bHQ7XHJcbmNvbnN0IGhhdmVTb21lRnVuXzEgPSByZXF1aXJlKFwiLi9oYXZlU29tZUZ1blwiKTtcclxuZXhwb3J0cy5IYXZlU29tZUZ1biA9IGhhdmVTb21lRnVuXzEuZGVmYXVsdDtcclxuY29uc3QgY2FtZXJhc18xID0gcmVxdWlyZShcIi4vY2FtZXJhc1wiKTtcclxuZXhwb3J0cy5DYW1lcmFzID0gY2FtZXJhc18xLmRlZmF1bHQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNvbnN0IGluZGV4XzIgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY29uc3QgaW5kZXhfMyA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jbGFzcyBQb2ludExpZ2h0SGVscGVyIGV4dGVuZHMgaW5kZXhfMS5PYmplY3QzRCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgbGlnaHQsIHNpemUsIGNvbG9yKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5saWdodCA9IGxpZ2h0O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2VvID0gbmV3IGluZGV4XzEuU3BoZXJlQnVmZmVyR2VvbWV0cnkoc2l6ZSB8fCAwLjIsIDE2LCA4KTtcclxuICAgICAgICB0aGlzLm1hdCA9IG5ldyBpbmRleF8xLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IGNvbG9yIHx8IGxpZ2h0LmNvbG9yIH0pO1xyXG4gICAgICAgIHRoaXMubWVzaCA9IG5ldyBpbmRleF8xLk1lc2godGhpcy5nZW8sIHRoaXMubWF0KTtcclxuICAgICAgICB0aGlzLmFkZCh0aGlzLm1lc2gpO1xyXG4gICAgICAgIGxpZ2h0LmFkZCh0aGlzKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKTtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5tZXNoLm1hdGVyaWFsKSlcclxuICAgICAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLmRpc3Bvc2UoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC5mb3JFYWNoKG0gPT4gbS5kaXNwb3NlKCkpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlKHRoaXMubWVzaCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7IH1cclxufVxyXG5jbGFzcyBMaWdodHMge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB9XHJcbiAgICBnZXQgaGVscGVyKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbmFsTGlnaHRIZWxwZXI6IChsaWdodCwgc2l6ZSwgY29sb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBlciA9IG5ldyBpbmRleF8zLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXIobGlnaHQsIHNpemUsIGNvbG9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGhlbHBlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVscGVyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzcG90TGlnaHRIZWxwZXI6IChsaWdodCwgY29sb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBlciA9IG5ldyBpbmRleF8zLlNwb3RMaWdodEhlbHBlcihsaWdodCwgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoaGVscGVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZWxwZXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvaW50TGlnaHRIZWxwZXI6IChsaWdodCwgc2l6ZSwgY29sb3IpID0+IG5ldyBQb2ludExpZ2h0SGVscGVyKHRoaXMuc2NlbmUsIGxpZ2h0LCBzaXplLCBjb2xvcilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZGlyZWN0aW9uYWxMaWdodChvcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGNvbG9yID0gMHhmZmZmZmYsIGludGVuc2l0eSA9IDEgfSA9IG9wdGlvbnM7XHJcbiAgICAgICAgY29uc3QgbGlnaHQgPSBuZXcgaW5kZXhfMi5EaXJlY3Rpb25hbExpZ2h0KGNvbG9yLCBpbnRlbnNpdHkpO1xyXG4gICAgICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcclxuICAgICAgICByZXR1cm4gbGlnaHQ7XHJcbiAgICB9XHJcbiAgICBoZW1pc3BoZXJlTGlnaHQob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyBza3lDb2xvciA9IDB4ZmZmZmZmLCBncm91bmRDb2xvciA9IDB4ZmZmZmZmLCBpbnRlbnNpdHkgPSAxIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IGluZGV4XzIuSGVtaXNwaGVyZUxpZ2h0KHNreUNvbG9yLCBncm91bmRDb2xvciwgaW50ZW5zaXR5KTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGxpZ2h0O1xyXG4gICAgfVxyXG4gICAgYW1iaWVudExpZ2h0KG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHsgY29sb3IgPSAweGZmZmZmZiwgaW50ZW5zaXR5ID0gMSB9ID0gb3B0aW9ucztcclxuICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBpbmRleF8yLkFtYmllbnRMaWdodChjb2xvciwgaW50ZW5zaXR5KTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGxpZ2h0O1xyXG4gICAgfVxyXG4gICAgcG9pbnRMaWdodChvcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGNvbG9yID0gMHhmZmZmZmYsIGludGVuc2l0eSA9IDEsIGRpc3RhbmNlID0gMCwgZGVjYXkgPSAxIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IGluZGV4XzIuUG9pbnRMaWdodChjb2xvciwgaW50ZW5zaXR5LCBkaXN0YW5jZSwgZGVjYXkpO1xyXG4gICAgICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcclxuICAgICAgICByZXR1cm4gbGlnaHQ7XHJcbiAgICB9XHJcbiAgICBzcG90TGlnaHQob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyBjb2xvciA9IDB4ZmZmZmZmLCBpbnRlbnNpdHkgPSAxLCBkaXN0YW5jZSA9IDAsIGFuZ2xlID0gTWF0aC5QSSAvIDgsIHBlbnVtYnJhID0gMCwgZGVjYXkgPSAxIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IGluZGV4XzIuU3BvdExpZ2h0KGNvbG9yLCBpbnRlbnNpdHksIGRpc3RhbmNlLCBhbmdsZSwgcGVudW1icmEsIGRlY2F5KTtcclxuICAgICAgICBsaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGxpZ2h0O1xyXG4gICAgfVxyXG4gICAgcmVjdEFyZWFMaWdodChvcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGNvbG9yID0gMHhmZmZmZmYsIGludGVuc2l0eSA9IDEsIHdpZHRoID0gMTAsIGhlaWdodCA9IDEwIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IGluZGV4XzIuUmVjdEFyZWFMaWdodChjb2xvciwgaW50ZW5zaXR5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGxpZ2h0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IExpZ2h0cztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlnaHRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdC9pbmRleFwiKTtcclxuY2xhc3MgTG9hZGVycyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWNoZSwgdGV4dHVyZUFuaXNvdHJvcHkpIHtcclxuICAgICAgICB0aGlzLmNhY2hlID0gY2FjaGU7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlQW5pc290cm9weSA9IHRleHR1cmVBbmlzb3Ryb3B5O1xyXG4gICAgfVxyXG4gICAgZ2V0IGZpbGVMb2FkZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9maWxlTG9hZGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9maWxlTG9hZGVyID0gbmV3IGluZGV4XzEuRmlsZUxvYWRlcigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWxlTG9hZGVyO1xyXG4gICAgfVxyXG4gICAgZ2V0IGltYWdlTG9hZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW1nTG9hZGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9pbWdMb2FkZXIgPSBuZXcgaW5kZXhfMS5JbWFnZUxvYWRlcigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbWdMb2FkZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgc3ZnTG9hZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3ZnTG9hZGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9zdmdMb2FkZXIgPSBuZXcgaW5kZXhfMS5TVkdMb2FkZXIoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3ZnTG9hZGVyO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRleHR1cmVMb2FkZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl90ZXh0dXJlTG9hZGVyKVxyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlTG9hZGVyID0gbmV3IGluZGV4XzEuVGV4dHVyZUxvYWRlcigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlTG9hZGVyO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9iamVjdExvYWRlcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX29iamVjdExvYWRlcilcclxuICAgICAgICAgICAgdGhpcy5fb2JqZWN0TG9hZGVyID0gbmV3IGluZGV4XzEuT2JqZWN0TG9hZGVyKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdExvYWRlcjtcclxuICAgIH1cclxuICAgIGdldCBnbHRmTG9hZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZ2x0ZkxvYWRlcilcclxuICAgICAgICAgICAgdGhpcy5fZ2x0ZkxvYWRlciA9IG5ldyBpbmRleF8xLkdMVEZMb2FkZXIoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2x0ZkxvYWRlcjtcclxuICAgIH1cclxuICAgIGdldCBmYnhMb2FkZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9mYnhMb2FkZXIpXHJcbiAgICAgICAgICAgIHRoaXMuX2ZieExvYWRlciA9IG5ldyBpbmRleF8xLkZCWExvYWRlcigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mYnhMb2FkZXI7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKGtleSwgdXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWNoZS5hZGQoa2V5LCB1cmwpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc01vZGVsID0gL1xcLmZieCR8XFwuZ2xiJHxcXC5nbHRmJC8udGVzdCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNUZXh0dXJlID0gL1xcLmpwZT9nJHxcXC5wbmckLy50ZXN0KHVybCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlTG9hZGVyLmxvYWQodXJsLCB0ZXh0dXJlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb2RlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVMb2FkZXIubG9hZCh1cmwsIGZpbGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmaWxlKHVybCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY2FjaGUuZ2V0KHVybCk7XHJcbiAgICAgICAgdXJsID0ga2V5ID8ga2V5IDogdXJsO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5maWxlTG9hZGVyLmxvYWQodXJsLCBmaWxlID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN2Zyh1cmwpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNhY2hlLmdldCh1cmwpO1xyXG4gICAgICAgIHVybCA9IGtleSA/IGtleSA6IHVybDtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ZnTG9hZGVyLmxvYWQodXJsLCBzdmcgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoc3ZnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0ZXh0dXJlKHVybCkge1xyXG4gICAgICAgIGNvbnN0IGlzQmFzZTY0ID0gL15kYXRhOmltYWdlXFwvW1xcU10rO2Jhc2U2NCwvZ20udGVzdCh1cmwpO1xyXG4gICAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGNhY2hlIGJhc2U2NCBpbWFnZXNcclxuICAgICAgICBpZiAoIWlzQmFzZTY0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY2FjaGUuZ2V0KHVybCk7XHJcbiAgICAgICAgICAgIHVybCA9IGtleSA/IGtleSA6IHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVMb2FkZXIubG9hZCh1cmwsICh0ZXh0dXJlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmFuaXNvdHJvcHkgPSB0aGlzLnRleHR1cmVBbmlzb3Ryb3B5O1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQgPSBpbmRleF8xLlJHQkFGb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGV4dHVyZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZXhhbXBsZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvd2lraS9KU09OLU9iamVjdC1TY2VuZS1mb3JtYXQtNFxyXG4gICAgb2JqZWN0KHVybCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY2FjaGUuZ2V0KHVybCk7XHJcbiAgICAgICAgdXJsID0ga2V5ID8ga2V5IDogdXJsO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RMb2FkZXIubG9hZCh1cmwsIChqc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdsdGYodXJsKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jYWNoZS5nZXQodXJsKTtcclxuICAgICAgICB1cmwgPSBrZXkgPyBrZXkgOiB1cmw7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdsdGZMb2FkZXIubG9hZCh1cmwsIChnbHRmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGdsdGYpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZieCh1cmwpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNhY2hlLmdldCh1cmwpO1xyXG4gICAgICAgIHVybCA9IGtleSA/IGtleSA6IHVybDtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmJ4TG9hZGVyLmxvYWQodXJsLCAoZmJ4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZieCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcnM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5UZXh0dXJlQ3ViZSA9IHZvaWQgMDtcclxuLy8gbWlzY1xyXG5jb25zdCB3YXRlcl8xID0gcmVxdWlyZShcIkBlbmFibGUzZC9jb21tb24vZGlzdC9taXNjL3dhdGVyXCIpO1xyXG5jb25zdCBkaXN0XzEgPSByZXF1aXJlKFwiQGVuYWJsZTNkL3RocmVlLXdyYXBwZXIvZGlzdFwiKTtcclxuY2xhc3MgTWlzYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgcmVuZGVyZXIsIGZhY3Rvcmllcykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XHJcbiAgICB9XHJcbiAgICB3YXRlcihjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHdhdGVyXzEuYWRkV2F0ZXIodGhpcy5zY2VuZSwgdGhpcy5yZW5kZXJlciwgY29uZmlnKTtcclxuICAgIH1cclxuICAgIHRleHR1cmVDdWJlKHRleHR1cmVzKSB7XHJcbiAgICAgICAgaWYgKHRleHR1cmVzLmxlbmd0aCAhPT0gNikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2VuYWJsZTNkXSBZb3UgbmVlZCB0byBwYXNzIDYgdXJscyB0byB0ZXh0dXJlQ3ViZSgpJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRleHR1cmVDdWJlID0gbmV3IFRleHR1cmVDdWJlKCk7XHJcbiAgICAgICAgdGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBTID0gdGV4dHVyZS53cmFwVCA9IGRpc3RfMS5SZXBlYXRXcmFwcGluZztcclxuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLmZhY3Rvcmllcy5hZGQubWF0ZXJpYWwoeyBwaG9uZzogeyBtYXA6IHRleHR1cmUgfSB9KTtcclxuICAgICAgICAgICAgdGV4dHVyZUN1YmUubWF0ZXJpYWxzW2ldID0gbWF0ZXJpYWw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRleHR1cmVDdWJlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IE1pc2M7XHJcbmNsYXNzIFRleHR1cmVDdWJlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWxzID0gbmV3IEFycmF5KDYpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRleHR1cmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogdGhpcy5nZXRUZXh0dXJlKDApLFxyXG4gICAgICAgICAgICByaWdodDogdGhpcy5nZXRUZXh0dXJlKDEpLFxyXG4gICAgICAgICAgICB1cDogdGhpcy5nZXRUZXh0dXJlKDIpLFxyXG4gICAgICAgICAgICBkb3duOiB0aGlzLmdldFRleHR1cmUoMyksXHJcbiAgICAgICAgICAgIGZyb250OiB0aGlzLmdldFRleHR1cmUoNCksXHJcbiAgICAgICAgICAgIGJhY2s6IHRoaXMuZ2V0VGV4dHVyZSg1KVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBnZXRUZXh0dXJlKGkpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWxzW2ldLm1hcDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlRleHR1cmVDdWJlID0gVGV4dHVyZUN1YmU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pc2MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvY29tbW9uL2Rpc3QvdHlwZXNcIik7XHJcbmNsYXNzIE1peGVycyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9taXhlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIEFuaW1hdGlvbiBNaXhlciBhbmQgYWRzIGl0IHRvIHRoZSBtaXhlcnMgYXJyYXlcclxuICAgICAqL1xyXG4gICAgYW5pbWF0aW9uTWl4ZXIocm9vdCkge1xyXG4gICAgICAgIGNvbnN0IG1peGVyID0gbmV3IHR5cGVzXzEuQW5pbWF0aW9uTWl4ZXIocm9vdCk7XHJcbiAgICAgICAgdGhpcy5taXhlcnMuYWRkKG1peGVyKTtcclxuICAgICAgICByZXR1cm4gbWl4ZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgbWl4ZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZTogKHJvb3QpID0+IHRoaXMuYW5pbWF0aW9uTWl4ZXIocm9vdCksXHJcbiAgICAgICAgICAgIGFkZDogKGFuaW1hdGlvbk1peGVyKSA9PiB0aGlzLl9taXhlcnMucHVzaChhbmltYXRpb25NaXhlciksXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gdGhpcy5fbWl4ZXJzLFxyXG4gICAgICAgICAgICB1cGRhdGU6IChkZWx0YSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLl9taXhlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKG1peGVyID0+IG1peGVyLnVwZGF0ZShkZWx0YSAvIDEwMDApKTsgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTWl4ZXJzO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jb25zdCBpbmRleF8yID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbi8qKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMCBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmFibGUzZC9lbmFibGUzZFxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2QvYmxvYi9tYXN0ZXIvTElDRU5TRXxHTlUgR1BMdjN9XHJcbiAqL1xyXG5jbGFzcyBUcmFuc2Zvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoY2FtZXJhLCByZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIH1cclxuICAgIGdlb21ldHJ5VG9CdWZmZXJHZW9tZXRyeShnZW9tZXRyeSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoZ2VvbWV0cnkuaXNHZW9tZXRyeSlcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBpbmRleF8xLkJ1ZmZlckdlb21ldHJ5KCkuZnJvbUdlb21ldHJ5KGdlb21ldHJ5KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgIH1cclxuICAgIGJ1ZmZlckdlb21ldHJ5VG9HZW9tZXRyeShidWZmZXJHZW9tZXRyeSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoYnVmZmVyR2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSlcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBpbmRleF8xLkdlb21ldHJ5KCkuZnJvbUJ1ZmZlckdlb21ldHJ5KGJ1ZmZlckdlb21ldHJ5KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJHZW9tZXRyeTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtcyB5b3VyIHN2ZyBmaWxlcyB0byBwYXRocy5cclxuICAgICAqL1xyXG4gICAgZnJvbVNWR3RvU2hhcGUoc3ZnLCBpc0NDVyA9IGZhbHNlLCBub0hvbGVzKSB7XHJcbiAgICAgICAgaWYgKHN2Zykge1xyXG4gICAgICAgICAgICBjb25zdCBzdmdMb2FkZXIgPSBuZXcgaW5kZXhfMi5TVkdMb2FkZXIoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVzID0gW107XHJcbiAgICAgICAgICAgIHN2Z0xvYWRlci5wYXJzZShzdmcpLnBhdGhzLmZvckVhY2gocGF0aCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnRvU2hhcGVzKGlzQ0NXLCBub0hvbGVzKS5mb3JFYWNoKHNoYXBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZXMucHVzaChzaGFwZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFwZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIGZyb20zZHRvMmQocG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCB2ZWN0b3IzID0gbmV3IGluZGV4XzEuVmVjdG9yMyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KTtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQ7XHJcbiAgICAgICAgLy8gbWFwIHRvIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgKE5EQykgc3BhY2VcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO1xyXG4gICAgICAgIHZlY3RvcjMucHJvamVjdCh0aGlzLmNhbWVyYSk7XHJcbiAgICAgICAgLy8gbWFwIHRvIDJEIHNjcmVlbiBzcGFjZVxyXG4gICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKCh2ZWN0b3IzLnggKyAxKSAqIChjYW52YXMud2lkdGggLyAyKSk7XHJcbiAgICAgICAgY29uc3QgeSA9IE1hdGgucm91bmQoKC12ZWN0b3IzLnkgKyAxKSAqIChjYW52YXMuaGVpZ2h0IC8gMikpO1xyXG4gICAgICAgIHJldHVybiBuZXcgaW5kZXhfMS5WZWN0b3IyKHgsIHkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHggWCBjb29yZGluYXRlIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgKE5EQykgKC0xIHRvICsxKS5cclxuICAgICAqIEBwYXJhbSB5IFkgY29vcmRpbmF0ZSBpbiBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIChOREMpICgtMSB0byArMSkuXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2VGcm9tQ2FtZXJhIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjYW1lcmEuXHJcbiAgICAgKi9cclxuICAgIGZyb20yZHRvM2QoeCwgeSwgZGlzdGFuY2VGcm9tQ2FtZXJhKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIGluaXRpYWxpemUgdGVtcG9yYXJ5IHZhcmlhYmxlc1xyXG4gICAgICAgIGlmICghdGhpcy50bXBQbGFuZSkge1xyXG4gICAgICAgICAgICBjb25zdCBnZW8gPSBuZXcgaW5kZXhfMS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDEwMDAwLCAxMDAwMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdCA9IG5ldyBpbmRleF8xLk1lc2hCYXNpY01hdGVyaWFsKHsgdHJhbnNwYXJlbnQ6IHRydWUsIG9wYWNpdHk6IDAuMjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG1wUGxhbmUgPSBuZXcgaW5kZXhfMS5NZXNoKGdlbywgbWF0KTtcclxuICAgICAgICAgICAgdGhpcy50bXBQbGFuZS5uYW1lID0gJ190bXBfcmF5Y2FzdF9wbGFuZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy50bXBSYXljYXN0ZXIpXHJcbiAgICAgICAgICAgIHRoaXMudG1wUmF5Y2FzdGVyID0gbmV3IGluZGV4XzEuUmF5Y2FzdGVyKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRtcFZlY3RvcjMpXHJcbiAgICAgICAgICAgIHRoaXMudG1wVmVjdG9yMyA9IG5ldyBpbmRleF8xLlZlY3RvcjMoKTtcclxuICAgICAgICAvLyBob2xkcyB0aGUgcG9zaXRpb24gd2Ugd2FudCB0byByZXR1cm4gbGF0ZXJcclxuICAgICAgICBsZXQgcG9zaXRpb247XHJcbiAgICAgICAgLy8gYWRkIHBsYW5lIHBhcmFsbGVsIHRvIGNhbWVyYVxyXG4gICAgICAgIHRoaXMudG1wUGxhbmUuc2V0Um90YXRpb25Gcm9tRXVsZXIodGhpcy5jYW1lcmEucm90YXRpb24pO1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLmNhbWVyYS5wb3NpdGlvbjtcclxuICAgICAgICB0aGlzLnRtcFBsYW5lLnBvc2l0aW9uLnNldChwLngsIHAueSwgcC56KTtcclxuICAgICAgICAvLyBhZGp1c3QgdGhlIGRpc3RhbmNlIG9mIHRoZSBwbGFuZVxyXG4gICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkRGlyZWN0aW9uKHRoaXMudG1wVmVjdG9yMyk7XHJcbiAgICAgICAgdGhpcy50bXBQbGFuZS5wb3NpdGlvbi5hZGQodGhpcy50bXBWZWN0b3IzLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoZGlzdGFuY2VGcm9tQ2FtZXJhKSk7XHJcbiAgICAgICAgdGhpcy50bXBQbGFuZS51cGRhdGVNYXRyaXgoKTtcclxuICAgICAgICB0aGlzLnRtcFBsYW5lLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xyXG4gICAgICAgIC8vIHJheWNhc3RcclxuICAgICAgICB0aGlzLnRtcFJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHsgeCwgeSB9LCB0aGlzLmNhbWVyYSk7XHJcbiAgICAgICAgLy8gY2hlY2sgaW50ZXJzZWN0aW9uIHdpdGggcGxhbmVcclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gdGhpcy50bXBSYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhbdGhpcy50bXBQbGFuZV0pO1xyXG4gICAgICAgIGlmICgoKF9hID0gaW50ZXJzZWN0c1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9iamVjdC5uYW1lKSA9PT0gJ190bXBfcmF5Y2FzdF9wbGFuZScpXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaW50ZXJzZWN0c1swXS5wb2ludDtcclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm0uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBpbmRleF8xID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNvbnN0IFRIUkVFID0gcmVxdWlyZShcIkBlbmFibGUzZC90aHJlZS13cmFwcGVyL2Rpc3QvaW5kZXhcIik7XHJcbmNsYXNzIFdhcnBTcGVlZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgcmVuZGVyZXIsIGNhbWVyYSwgbGlnaHRzLCBwaHlzaWNzLCBsb2FkLCBmYWN0b3JpZXMpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgIHRoaXMubGlnaHRzID0gbGlnaHRzO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcyA9IHBoeXNpY3M7XHJcbiAgICAgICAgdGhpcy5sb2FkID0gbG9hZDtcclxuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSXQgdGFrZXMgdG9vayBsb25nIHRvIHNldHVwIHRoZSB0aGlyZCBkaW1lbnNpb24geW91ciBzZWxmPyBHZXQgc3RhcnRlZCB3aXRoIHdhcnAgc3BlZWQgYnkgdXNpbmcgdGhpcyBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBmZWF0dXJlcyBQYXNzIHRoZSBmZWF0dXJlcyB5b3Ugd2FudCB0byBzZXR1cC5cclxuICAgICAqL1xyXG4gICAgd2FycFNwZWVkKC4uLmZlYXR1cmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgbGV0IEZlYXR1cmVzID0ge307XHJcbiAgICAgICAgICAgIC8vIHRlc3QgZm9yIG5lZ2F0aXZlIGZlYXR1cmVzXHJcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlRmVhdHVyZXMgPSBmZWF0dXJlcy5maWx0ZXIoZmVhdHVyZSA9PiAvXi1cXHcrLy50ZXN0KGZlYXR1cmUpKTtcclxuICAgICAgICAgICAgY29uc3QgaGFzTmVnYXRpdmVGZWF0dXJlcyA9IG5lZ2F0aXZlRmVhdHVyZXMubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gYWRkIGFsbCBmZWF0dXJlc1xyXG4gICAgICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoID09PSAwIHx8IGhhc05lZ2F0aXZlRmVhdHVyZXMpXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlcyA9IFsnbGlnaHQnLCAnY2FtZXJhJywgJ2xvb2tBdENlbnRlcicsICdncm91bmQnLCAnZ3JpZCcsICdvcmJpdENvbnRyb2xzJywgJ2ZvZycsICdza3knXTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBuZWdhdGl2ZSBmZWF0dXJlc1xyXG4gICAgICAgICAgICBpZiAoaGFzTmVnYXRpdmVGZWF0dXJlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXNUb1JlbW92ZSA9IG5lZ2F0aXZlRmVhdHVyZXMubWFwKGZlYXR1cmUgPT4gZmVhdHVyZS5zdWJzdHIoMSkpO1xyXG4gICAgICAgICAgICAgICAgZmVhdHVyZXNUb1JlbW92ZS5mb3JFYWNoKGZlYXR1cmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGZlYXR1cmVzLmluZGV4T2YoZmVhdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBmb2dcclxuICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmluY2x1ZGVzKCdmb2cnKSkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmZWF0dXJlcy5pbmNsdWRlcygnc2t5JykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvd2ViZ2xfbGlnaHRzX2hlbWlzcGhlcmUuaHRtbFxyXG4gICAgICAgICAgICAgICAgLy8gU0tZRE9NRVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICd2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247JyxcclxuICAgICAgICAgICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgICAgICAgICAndm9pZCBtYWluKCkgeycsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3ZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApOycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3ZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7JyxcclxuICAgICAgICAgICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgICAgICAgICAnZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApOycsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ30nXHJcbiAgICAgICAgICAgICAgICBdLmpvaW4oJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VuaWZvcm0gdmVjMyB0b3BDb2xvcjsnLFxyXG4gICAgICAgICAgICAgICAgICAgICd1bmlmb3JtIHZlYzMgYm90dG9tQ29sb3I7JyxcclxuICAgICAgICAgICAgICAgICAgICAndW5pZm9ybSBmbG9hdCBvZmZzZXQ7JyxcclxuICAgICAgICAgICAgICAgICAgICAndW5pZm9ybSBmbG9hdCBleHBvbmVudDsnLFxyXG4gICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICd2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247JyxcclxuICAgICAgICAgICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgICAgICAgICAndm9pZCBtYWluKCkgeycsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Zsb2F0IGggPSBub3JtYWxpemUoIHZXb3JsZFBvc2l0aW9uICsgb2Zmc2V0ICkueTsnLFxyXG4gICAgICAgICAgICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KCBtaXgoIGJvdHRvbUNvbG9yLCB0b3BDb2xvciwgbWF4KCBwb3coIG1heCggaCAsIDAuMCksIGV4cG9uZW50ICksIDAuMCApICksIDEuMCApOycsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ30nXHJcbiAgICAgICAgICAgICAgICBdLmpvaW4oJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wQ29sb3I6IHsgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDAwNzdmZikgfSxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21Db2xvcjogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZWRmNWZmKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogeyB2YWx1ZTogMzMgfSxcclxuICAgICAgICAgICAgICAgICAgICBleHBvbmVudDogeyB2YWx1ZTogMC42IH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgc2t5R2VvID0gbmV3IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KDUwMCwgMzIsIDE1KTtcclxuICAgICAgICAgICAgICAgIHZhciBza3lNYXQgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB1bmlmb3JtcyxcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IHZlcnRleFNoYWRlcixcclxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZnJhZ21lbnRTaGFkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNreSA9IG5ldyBUSFJFRS5NZXNoKHNreUdlbywgc2t5TWF0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKHNreSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmluY2x1ZGVzKCdjYW1lcmEnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDYsIDEyKTtcclxuICAgICAgICAgICAgICAgIEZlYXR1cmVzID0gT2JqZWN0LmFzc2lnbih7IGNhbWVyYTogdGhpcy5jYW1lcmEgfSwgRmVhdHVyZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmZWF0dXJlcy5pbmNsdWRlcygnbGlnaHQnKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gMC40O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGVtaXNwaGVyZUxpZ2h0ID0gdGhpcy5saWdodHMuaGVtaXNwaGVyZUxpZ2h0KHsgc2t5Q29sb3I6IDB4ZmZmZmZmLCBncm91bmRDb2xvcjogMHgwMDAwMDAsIGludGVuc2l0eSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IHRoaXMubGlnaHRzLmFtYmllbnRMaWdodCh7IGNvbG9yOiAweGZmZmZmZiwgaW50ZW5zaXR5IH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IHRoaXMubGlnaHRzLmRpcmVjdGlvbmFsTGlnaHQoeyBjb2xvcjogMHhmZmZmZmYsIGludGVuc2l0eSB9KTtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uc2V0KDEwMCwgMjAwLCA1MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gMjA7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gZDtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSAtZDtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLWQ7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSBkO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS5zZXQoMTAyNCwgMTAyNCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRpcmVjdGlvbmFsTGlnaHQgPSBsaWdodFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlnaHRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFtYmllbnRMaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGhlbWlzcGhlcmVMaWdodFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIEZlYXR1cmVzID0gT2JqZWN0LmFzc2lnbih7IGxpZ2h0cyB9LCBGZWF0dXJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmluY2x1ZGVzKCdsb29rQXRDZW50ZXInKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuc2NlbmUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmZWF0dXJlcy5pbmNsdWRlcygnZ3JvdW5kJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdyaWQgKHRleHR1cmUpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRHcmlkID0gZmVhdHVyZXMuaW5jbHVkZXMoJ2dyaWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWREYXRhID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBT25BQUFEdXNCWitxODdBQUFBSnRKUkVGVWVKenQwRUVOd0RBQXhMRGJOUDZVT3hoK05FWVE1ZGwyZHJGdjI4NjU5OEdyQTdRRzZBQ3RBVHBBYTRBTzBCcWdBN1FHNkFDdEFUcEFhNEFPMEJxZ0E3UUc2QUN0QVRwQWE0QU8wQnFnQTdRRzZBQ3RBVHBBYTRBTzBCcWdBN1FHNkFDdEFUcEFhNEFPMEJxZ0E3UUc2QUN0QVRwQWE0QU8wQnFnQTdRRzZBQ3RBVHBBYTRBTzBCcWdBN1FHNkFDdEFUcEF1MzdBRDhlYUJINUpRZFZiQUFBQUFFbEZUa1N1UW1DQyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0geWllbGQgdGhpcy5sb2FkLnRleHR1cmUoZ3JpZERhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZS53cmFwUyA9IHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcclxuICAgICAgICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCgyMSwgMjEpO1xyXG4gICAgICAgICAgICAgICAgLy8gZ3JvdW5kXHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHsgbmFtZTogJ2dyb3VuZCcsIHdpZHRoOiAyMSwgaGVpZ2h0OiAyMSwgZGVwdGg6IDEsIHk6IC0wLjUgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBob25nOiB7IG1hcDogYWRkR3JpZCA/IHRleHR1cmUgOiBudWxsLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogMC44LCBjb2xvcjogMHhmZmZmZmYgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGxldCBncm91bmQ7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Ll9fbG9hZFBoeXNpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBncm91bmQgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VuZChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VuZC5ib2R5LnNldFJlc3RpdHV0aW9uKDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdW5kID0gdGhpcy5mYWN0b3JpZXMuYWRkLmdyb3VuZChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgRmVhdHVyZXMgPSBPYmplY3QuYXNzaWduKHsgZ3JvdW5kIH0sIEZlYXR1cmVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmVhdHVyZXMuaW5jbHVkZXMoJ29yYml0Q29udHJvbHMnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHBoYXNlclxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yb290IGlzIHRoZSBwaGFzZXIgc2NlbmUgKHNjZW5lM0QpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnJvb3Quc2NhbGUucGFyZW50IGluc3RlYWQgb2YgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmJpdENvbnRyb2xzID0gbmV3IGluZGV4XzEuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZTNkLXBoYXNlci1jYW52YXMnKSB8fCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgRmVhdHVyZXMgPSBPYmplY3QuYXNzaWduKHsgb3JiaXRDb250cm9scyB9LCBGZWF0dXJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZlYXR1cmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFdhcnBTcGVlZDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FycFNwZWVkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQGF1dGhvciAgICAgICBZYW5uaWNrIERldWJlbCAoaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldSlcclxuICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMjAgWWFubmljayBEZXViZWw7IFByb2plY3QgVXJsOiBodHRwczovL2dpdGh1Yi5jb20vZW5hYmxlM2QvZW5hYmxlM2RcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuYWJsZTNkL2VuYWJsZTNkL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8R05VIEdQTHYzfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJAZW5hYmxlM2QvdGhyZWUtd3JhcHBlci9kaXN0L2luZGV4XCIpO1xyXG5jbGFzcyBXZWJYUiB7XHJcbiAgICBjb25zdHJ1Y3RvcihfcmVuZGVyZXIsIF9zY2VuZSwgX2NhbWVyYSkge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9zYW1zdW5nLWludGVybmV0LWRldi92ci1sb2NvbW90aW9uLTc0MGRhZmE4NTkxNFxyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX3NjZW5lID0gX3NjZW5lO1xyXG4gICAgICAgIHRoaXMuX2NhbWVyYSA9IF9jYW1lcmE7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyTW9kZWxGYWN0b3J5ID0gbmV3IFRIUkVFLlhSQ29udHJvbGxlck1vZGVsRmFjdG9yeSgpO1xyXG4gICAgICAgIC8vIGNvbnN0IGdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUpXHJcbiAgICAgICAgLy8gY29uc3QgbWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwMDAgfSlcclxuICAgICAgICAvLyB0aGlzLmRvdCA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KVxyXG4gICAgICAgIC8vIHRoaXMuZG90LnBvc2l0aW9uLnNldCgwLCAxLCAwKVxyXG4gICAgICAgIHRoaXMuY2FtZXJhR3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuICAgICAgICB0aGlzLmNhbWVyYUdyb3VwLmFkZChfY2FtZXJhKTtcclxuICAgICAgICBfc2NlbmUuYWRkKHRoaXMuY2FtZXJhR3JvdXApO1xyXG4gICAgICAgIF9yZW5kZXJlci54ci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBhZGQgdnIgYnV0dG9uXHJcbiAgICAgICAgY29uc3QgdnJCdXR0b24gPSBUSFJFRS5WUkJ1dHRvbi5jcmVhdGVCdXR0b24oX3JlbmRlcmVyKTtcclxuICAgICAgICB2ckJ1dHRvbi5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7ICc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2ckJ1dHRvbik7XHJcbiAgICB9XHJcbiAgICBnZXQgaXNQcmVzZW50aW5nKCkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgcmV0dXJuICEhKChfYiA9IChfYSA9IHRoaXMuX3JlbmRlcmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EueHIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pc1ByZXNlbnRpbmcpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q29udHJvbGxlcihpZCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLl9yZW5kZXJlci54ci5nZXRDb250cm9sbGVyKGlkKTtcclxuICAgICAgICB0aGlzLmNhbWVyYUdyb3VwLmFkZChjb250cm9sbGVyKTtcclxuICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcclxuICAgIH1cclxuICAgIGdldENvbnRyb2xsZXJHcmlwKGlkKSB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbGxlckdyaXAgPSB0aGlzLl9yZW5kZXJlci54ci5nZXRDb250cm9sbGVyR3JpcChpZCk7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmNvbnRyb2xsZXJNb2RlbEZhY3RvcnkuY3JlYXRlQ29udHJvbGxlck1vZGVsKGNvbnRyb2xsZXJHcmlwKTtcclxuICAgICAgICBjb250cm9sbGVyR3JpcC5hZGQobW9kZWwpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhR3JvdXAuYWRkKGNvbnRyb2xsZXJHcmlwKTtcclxuICAgICAgICByZXR1cm4gY29udHJvbGxlckdyaXA7XHJcbiAgICB9XHJcbiAgICBnZXRDb250cm9sbGVyUmF5KGRhdGEpIHtcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL3dlYnhyX3ZyX2JhbGxzaG9vdGVyLmh0bWxcclxuICAgICAgICBjb25zdCB7IHRhcmdldFJheU1vZGUgfSA9IGRhdGE7XHJcbiAgICAgICAgaWYgKHRhcmdldFJheU1vZGUgPT09ICd0cmFja2VkLXBvaW50ZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xyXG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoWzAsIDAsIDAsIDAsIDAsIC0xXSwgMykpO1xyXG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoWzEsIDAsIDAsIDEsIDEsIDFdLCAzKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhDb2xvcnM6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVEhSRUUuTGluZShnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFyZ2V0UmF5TW9kZSA9PT0gJ2dhemUnKSB7XHJcbiAgICAgICAgICAgIGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5SaW5nQnVmZmVyR2VvbWV0cnkoMC4wMiwgMC4wNCwgMzIpLnRyYW5zbGF0ZSgwLCAwLCAtMSk7XHJcbiAgICAgICAgICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAncmVkJywgb3BhY2l0eTogMC41LCB0cmFuc3BhcmVudDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGdldCBjYW1lcmEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuV2ViWFJDYW1lcmE7XHJcbiAgICB9XHJcbiAgICBnZXQgV2ViWFJDYW1lcmEoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdyb3VwOiB0aGlzLmNhbWVyYUdyb3VwLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogKF9hID0gdGhpcy5jYW1lcmFHcm91cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5pc1ByZXNlbnRpbmcgPyB0aGlzLl9yZW5kZXJlci54ci5nZXRDYW1lcmEodGhpcy5fY2FtZXJhKS5yb3RhdGlvbiA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgZ2V0V29ybGREaXJlY3Rpb246ICh0YXJnZXQpID0+IHRoaXMuaXNQcmVzZW50aW5nID8gdGhpcy5fcmVuZGVyZXIueHIuZ2V0Q2FtZXJhKHRoaXMuX2NhbWVyYSkuZ2V0V29ybGREaXJlY3Rpb24odGFyZ2V0KSA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViWFI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYnhyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuVkVSU0lPTiA9IHZvaWQgMDtcclxuZXhwb3J0cy5WRVJTSU9OID0gJzAuMjEuMCc7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiIWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dfShleHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9NCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiQUNFU0ZpbG1pY1RvbmVNYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG50fSkpLG4uZChlLFwiQWRkRXF1YXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSxcIkFkZE9wZXJhdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBLfSkpLG4uZChlLFwiQWRkaXRpdmVBbmltYXRpb25CbGVuZE1vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWGV9KSksbi5kKGUsXCJBZGRpdGl2ZUJsZW5kaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKGUsXCJBbHBoYUZvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBCdH0pKSxuLmQoZSxcIkFsd2F5c0RlcHRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksbi5kKGUsXCJBbHdheXNTdGVuY2lsRnVuY1wiLChmdW5jdGlvbigpe3JldHVybiBTbn0pKSxuLmQoZSxcIkFtYmllbnRMaWdodFwiLChmdW5jdGlvbigpe3JldHVybiBMaH0pKSxuLmQoZSxcIkFtYmllbnRMaWdodFByb2JlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEpofSkpLG4uZChlLFwiQW5pbWF0aW9uQ2xpcFwiLChmdW5jdGlvbigpe3JldHVybiBEdX0pKSxuLmQoZSxcIkFuaW1hdGlvbkxvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBWdX0pKSxuLmQoZSxcIkFuaW1hdGlvbk1peGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFkfSkpLG4uZChlLFwiQW5pbWF0aW9uT2JqZWN0R3JvdXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGR9KSksbi5kKGUsXCJBbmltYXRpb25VdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBfdX0pKSxuLmQoZSxcIkFyY0N1cnZlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt1fSkpLG4uZChlLFwiQXJyYXlDYW1lcmFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUHN9KSksbi5kKGUsXCJBcnJvd0hlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBncH0pKSxuLmQoZSxcIkF1ZGlvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNkfSkpLG4uZChlLFwiQXVkaW9BbmFseXNlclwiLChmdW5jdGlvbigpe3JldHVybiBwZH0pKSxuLmQoZSxcIkF1ZGlvQ29udGV4dFwiLChmdW5jdGlvbigpe3JldHVybiBxaH0pKSxuLmQoZSxcIkF1ZGlvTGlzdGVuZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYWR9KSksbi5kKGUsXCJBdWRpb0xvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBZaH0pKSxuLmQoZSxcIkF4ZXNIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnB9KSksbi5kKGUsXCJBeGlzSGVscGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZmfSkpLG4uZChlLFwiQmFja1NpZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxuLmQoZSxcIkJhc2ljRGVwdGhQYWNraW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9ufSkpLG4uZChlLFwiQmFzaWNTaGFkb3dNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSxcIkJpbmFyeVRleHR1cmVMb2FkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX2Z9KSksbi5kKGUsXCJCb25lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxjfSkpLG4uZChlLFwiQm9vbGVhbktleWZyYW1lVHJhY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTHV9KSksbi5kKGUsXCJCb3VuZGluZ0JveEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiB5Zn0pKSxuLmQoZSxcIkJveDJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRmR9KSksbi5kKGUsXCJCb3gzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRyfSkpLG4uZChlLFwiQm94M0hlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBocH0pKSxuLmQoZSxcIkJveEJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1vfSkpLG4uZChlLFwiQm94R2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV2N9KSksbi5kKGUsXCJCb3hIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdXB9KSksbi5kKGUsXCJCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGl9KSksbi5kKGUsXCJCdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBxaX0pKSxuLmQoZSxcIkJ1ZmZlckdlb21ldHJ5TG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJofSkpLG4uZChlLFwiQnl0ZVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHR9KSksbi5kKGUsXCJDYWNoZVwiLChmdW5jdGlvbigpe3JldHVybiBGdX0pKSxuLmQoZSxcIkNhbWVyYVwiLChmdW5jdGlvbigpe3JldHVybiBib30pKSxuLmQoZSxcIkNhbWVyYUhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBzcH0pKSxuLmQoZSxcIkNhbnZhc1JlbmRlcmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFRmfSkpLG4uZChlLFwiQ2FudmFzVGV4dHVyZVwiLChmdW5jdGlvbigpe3JldHVybiBVY30pKSxuLmQoZSxcIkNhdG11bGxSb21DdXJ2ZTNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcmh9KSksbi5kKGUsXCJDaW5lb25Ub25lTWFwcGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBldH0pKSxuLmQoZSxcIkNpcmNsZUJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhjfSkpLG4uZChlLFwiQ2lyY2xlR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWN9KSksbi5kKGUsXCJDbGFtcFRvRWRnZVdyYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0fSkpLG4uZChlLFwiQ2xvY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGR9KSksbi5kKGUsXCJDbG9zZWRTcGxpbmVDdXJ2ZTNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZmZ9KSksbi5kKGUsXCJDb2xvclwiLChmdW5jdGlvbigpe3JldHVybiB5aX0pKSxuLmQoZSxcIkNvbG9yS2V5ZnJhbWVUcmFja1wiLChmdW5jdGlvbigpe3JldHVybiBSdX0pKSxuLmQoZSxcIkNvbXByZXNzZWRUZXh0dXJlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZjfSkpLG4uZChlLFwiQ29tcHJlc3NlZFRleHR1cmVMb2FkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4ganV9KSksbi5kKGUsXCJDb25lQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2N9KSksbi5kKGUsXCJDb25lR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSmN9KSksbi5kKGUsXCJDdWJlQ2FtZXJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF9vfSkpLG4uZChlLFwiQ3ViZUdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFdjfSkpLG4uZChlLFwiQ3ViZVJlZmxlY3Rpb25NYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSkpLG4uZChlLFwiQ3ViZVJlZnJhY3Rpb25NYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF0fSkpLG4uZChlLFwiQ3ViZVRleHR1cmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTW99KSksbi5kKGUsXCJDdWJlVGV4dHVyZUxvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBYdX0pKSxuLmQoZSxcIkN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx0fSkpLG4uZChlLFwiQ3ViZVVWUmVmcmFjdGlvbk1hcHBpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdXR9KSksbi5kKGUsXCJDdWJpY0JlemllckN1cnZlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNofSkpLG4uZChlLFwiQ3ViaWNCZXppZXJDdXJ2ZTNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY2h9KSksbi5kKGUsXCJDdWJpY0ludGVycG9sYW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN1fSkpLG4uZChlLFwiQ3VsbEZhY2VCYWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsXCJDdWxsRmFjZUZyb250XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsXCJDdWxsRmFjZUZyb250QmFja1wiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLFwiQ3VsbEZhY2VOb25lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsXCJDdXJ2ZVwiLChmdW5jdGlvbigpe3JldHVybiBadX0pKSxuLmQoZSxcIkN1cnZlUGF0aFwiLChmdW5jdGlvbigpe3JldHVybiBtaH0pKSxuLmQoZSxcIkN1c3RvbUJsZW5kaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsXCJDdXN0b21Ub25lTWFwcGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBydH0pKSxuLmQoZSxcIkN5bGluZGVyQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWN9KSksbi5kKGUsXCJDeWxpbmRlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFpjfSkpLG4uZChlLFwiQ3lsaW5kcmljYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGR9KSksbi5kKGUsXCJEYXRhVGV4dHVyZVwiLChmdW5jdGlvbigpe3JldHVybiBUb30pKSxuLmQoZSxcIkRhdGFUZXh0dXJlMkRBcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBab30pKSxuLmQoZSxcIkRhdGFUZXh0dXJlM0RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSm99KSksbi5kKGUsXCJEYXRhVGV4dHVyZUxvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBxdX0pKSxuLmQoZSxcIkRhdGFVdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBicH0pKSxuLmQoZSxcIkRlY3JlbWVudFN0ZW5jaWxPcFwiLChmdW5jdGlvbigpe3JldHVybiBwbn0pKSxuLmQoZSxcIkRlY3JlbWVudFdyYXBTdGVuY2lsT3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbW59KSksbi5kKGUsXCJEZWZhdWx0TG9hZGluZ01hbmFnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4genV9KSksbi5kKGUsXCJEZXB0aEZvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBrdH0pKSxuLmQoZSxcIkRlcHRoU3RlbmNpbEZvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBWdH0pKSxuLmQoZSxcIkRlcHRoVGV4dHVyZVwiLChmdW5jdGlvbigpe3JldHVybiB6Y30pKSxuLmQoZSxcIkRpcmVjdGlvbmFsTGlnaHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWh9KSksbi5kKGUsXCJEaXJlY3Rpb25hbExpZ2h0SGVscGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGlwfSkpLG4uZChlLFwiRGlzY3JldGVJbnRlcnBvbGFudFwiLChmdW5jdGlvbigpe3JldHVybiBFdX0pKSxuLmQoZSxcIkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRjfSkpLG4uZChlLFwiRG9kZWNhaGVkcm9uR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGx9KSksbi5kKGUsXCJEb3VibGVTaWRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsXCJEc3RBbHBoYUZhY3RvclwiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLFwiRHN0Q29sb3JGYWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQoZSxcIkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcmZ9KSksbi5kKGUsXCJEeW5hbWljQ29weVVzYWdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIElufSkpLG4uZChlLFwiRHluYW1pY0RyYXdVc2FnZVwiLChmdW5jdGlvbigpe3JldHVybiBFbn0pKSxuLmQoZSxcIkR5bmFtaWNSZWFkVXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUm59KSksbi5kKGUsXCJFZGdlc0dlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9sfSkpLG4uZChlLFwiRWRnZXNIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4geGZ9KSksbi5kKGUsXCJFbGxpcHNlQ3VydmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSnV9KSksbi5kKGUsXCJFcXVhbERlcHRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFd9KSksbi5kKGUsXCJFcXVhbFN0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhufSkpLG4uZChlLFwiRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSksbi5kKGUsXCJFcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBjdH0pKSxuLmQoZSxcIkV1bGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9yfSkpLG4uZChlLFwiRXZlbnREaXNwYXRjaGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJufSkpLG4uZChlLFwiRXh0cnVkZUJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE5sfSkpLG4uZChlLFwiRXh0cnVkZUdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJsfSkpLG4uZChlLFwiRmFjZTNcIiwoZnVuY3Rpb24oKXtyZXR1cm4geGl9KSksbi5kKGUsXCJGYWNlNFwiLChmdW5jdGlvbigpe3JldHVybiBrcH0pKSxuLmQoZSxcIkZhY2VDb2xvcnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWHB9KSksbi5kKGUsXCJGaWxlTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt1fSkpLG4uZChlLFwiRmxhdFNoYWRpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSxcIkZsb2F0MTZCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT2l9KSksbi5kKGUsXCJGbG9hdDMyQXR0cmlidXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRmfSkpLG4uZChlLFwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBOaX0pKSxuLmQoZSxcIkZsb2F0NjRBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGZ9KSksbi5kKGUsXCJGbG9hdDY0QnVmZmVyQXR0cmlidXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIERpfSkpLG4uZChlLFwiRmxvYXRUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB0fSkpLG4uZChlLFwiRm9nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVzfSkpLG4uZChlLFwiRm9nRXhwMlwiLChmdW5jdGlvbigpe3JldHVybiBGc30pKSxuLmQoZSxcIkZvbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVmh9KSksbi5kKGUsXCJGb250TG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFdofSkpLG4uZChlLFwiRnJvbnRTaWRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsXCJGcnVzdHVtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExvfSkpLG4uZChlLFwiR0xCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUGR9KSksbi5kKGUsXCJHTFNMMVwiLChmdW5jdGlvbigpe3JldHVybiBObn0pKSxuLmQoZSxcIkdMU0wzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIERufSkpLG4uZChlLFwiR2FtbWFFbmNvZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBRZX0pKSxuLmQoZSxcIkdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpjfSkpLG4uZChlLFwiR2VvbWV0cnlVdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBTZn0pKSxuLmQoZSxcIkdyZWF0ZXJEZXB0aFwiLChmdW5jdGlvbigpe3JldHVybiBxfSkpLG4uZChlLFwiR3JlYXRlckVxdWFsRGVwdGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWH0pKSxuLmQoZSxcIkdyZWF0ZXJFcXVhbFN0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE1ufSkpLG4uZChlLFwiR3JlYXRlclN0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdufSkpLG4uZChlLFwiR3JpZEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiAkZH0pKSxuLmQoZSxcIkdyb3VwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENzfSkpLG4uZChlLFwiSGFsZkZsb2F0VHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBDdH0pKSxuLmQoZSxcIkhlbWlzcGhlcmVMaWdodFwiLChmdW5jdGlvbigpe3JldHVybiB4aH0pKSxuLmQoZSxcIkhlbWlzcGhlcmVMaWdodEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBRZH0pKSxuLmQoZSxcIkhlbWlzcGhlcmVMaWdodFByb2JlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFpofSkpLG4uZChlLFwiSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBGbH0pKSxuLmQoZSxcIkljb3NhaGVkcm9uR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVWx9KSksbi5kKGUsXCJJbWFnZUJpdG1hcExvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBIaH0pKSxuLmQoZSxcIkltYWdlTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFd1fSkpLG4uZChlLFwiSW1hZ2VVdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBWbn0pKSxuLmQoZSxcIkltbWVkaWF0ZVJlbmRlck9iamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBIZH0pKSxuLmQoZSxcIkluY3JlbWVudFN0ZW5jaWxPcFwiLChmdW5jdGlvbigpe3JldHVybiBkbn0pKSxuLmQoZSxcIkluY3JlbWVudFdyYXBTdGVuY2lsT3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZm59KSksbi5kKGUsXCJJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGh9KSksbi5kKGUsXCJJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBOaH0pKSxuLmQoZSxcIkluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJkfSkpLG4uZChlLFwiSW5zdGFuY2VkTWVzaFwiLChmdW5jdGlvbigpe3JldHVybiB2Y30pKSxuLmQoZSxcIkludDE2QXR0cmlidXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNmfSkpLG4uZChlLFwiSW50MTZCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUml9KSksbi5kKGUsXCJJbnQzMkF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiB1Zn0pKSxuLmQoZSxcIkludDMyQnVmZmVyQXR0cmlidXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENpfSkpLG4uZChlLFwiSW50OEF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBvZn0pKSxuLmQoZSxcIkludDhCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRWl9KSksbi5kKGUsXCJJbnRUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx0fSkpLG4uZChlLFwiSW50ZXJsZWF2ZWRCdWZmZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR3N9KSksbi5kKGUsXCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBrc30pKSxuLmQoZSxcIkludGVycG9sYW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE11fSkpLG4uZChlLFwiSW50ZXJwb2xhdGVEaXNjcmV0ZVwiLChmdW5jdGlvbigpe3JldHVybiB6ZX0pKSxuLmQoZSxcIkludGVycG9sYXRlTGluZWFyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdlfSkpLG4uZChlLFwiSW50ZXJwb2xhdGVTbW9vdGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGV9KSksbi5kKGUsXCJJbnZlcnRTdGVuY2lsT3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ259KSksbi5kKGUsXCJKU09OTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEVmfSkpLG4uZChlLFwiS2VlcFN0ZW5jaWxPcFwiLChmdW5jdGlvbigpe3JldHVybiB1bn0pKSxuLmQoZSxcIktleWZyYW1lVHJhY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQXV9KSksbi5kKGUsXCJMT0RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2N9KSksbi5kKGUsXCJMYXRoZUJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpsfSkpLG4uZChlLFwiTGF0aGVHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBHbH0pKSxuLmQoZSxcIkxheWVyc1wiLChmdW5jdGlvbigpe3JldHVybiBCcn0pKSxuLmQoZSxcIkxlbnNGbGFyZVwiLChmdW5jdGlvbigpe3JldHVybiBMZn0pKSxuLmQoZSxcIkxlc3NEZXB0aFwiLChmdW5jdGlvbigpe3JldHVybiBWfSkpLG4uZChlLFwiTGVzc0VxdWFsRGVwdGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQoZSxcIkxlc3NFcXVhbFN0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJufSkpLG4uZChlLFwiTGVzc1N0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHlufSkpLG4uZChlLFwiTGlnaHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geWh9KSksbi5kKGUsXCJMaWdodFByb2JlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENofSkpLG4uZChlLFwiTGluZVwiLChmdW5jdGlvbigpe3JldHVybiBTY30pKSxuLmQoZSxcIkxpbmUzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdkfSkpLG4uZChlLFwiTGluZUJhc2ljTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4geWN9KSksbi5kKGUsXCJMaW5lQ3VydmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbGh9KSksbi5kKGUsXCJMaW5lQ3VydmUzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVofSkpLG4uZChlLFwiTGluZURhc2hlZE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ1fSkpLG4uZChlLFwiTGluZUxvb3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTGN9KSksbi5kKGUsXCJMaW5lUGllY2VzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpwfSkpLG4uZChlLFwiTGluZVNlZ21lbnRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFjfSkpLG4uZChlLFwiTGluZVN0cmlwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZwfSkpLG4uZChlLFwiTGluZWFyRW5jb2RpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSmV9KSksbi5kKGUsXCJMaW5lYXJGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4geHR9KSksbi5kKGUsXCJMaW5lYXJJbnRlcnBvbGFudFwiLChmdW5jdGlvbigpe3JldHVybiBUdX0pKSxuLmQoZSxcIkxpbmVhck1pcE1hcExpbmVhckZpbHRlclwiLChmdW5jdGlvbigpe3JldHVybiBNdH0pKSxuLmQoZSxcIkxpbmVhck1pcE1hcE5lYXJlc3RGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksbi5kKGUsXCJMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX3R9KSksbi5kKGUsXCJMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ0fSkpLG4uZChlLFwiTGluZWFyVG9uZU1hcHBpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKSxuLmQoZSxcIkxvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBHdX0pKSxuLmQoZSxcIkxvYWRlclV0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9ofSkpLG4uZChlLFwiTG9hZGluZ01hbmFnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXV9KSksbi5kKGUsXCJMb2dMdXZFbmNvZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiB0bn0pKSxuLmQoZSxcIkxvb3BPbmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJlfSkpLG4uZChlLFwiTG9vcFBpbmdQb25nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVlfSkpLG4uZChlLFwiTG9vcFJlcGVhdFwiLChmdW5jdGlvbigpe3JldHVybiBGZX0pKSxuLmQoZSxcIkx1bWluYW5jZUFscGhhRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEd0fSkpLG4uZChlLFwiTHVtaW5hbmNlRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp0fSkpLG4uZChlLFwiTU9VU0VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSxcIk1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdpfSkpLG4uZChlLFwiTWF0ZXJpYWxMb2FkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSWh9KSksbi5kKGUsXCJNYXRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpufSkpLG4uZChlLFwiTWF0aFV0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpufSkpLG4uZChlLFwiTWF0cml4M1wiLChmdW5jdGlvbigpe3JldHVybiBIbn0pKSxuLmQoZSxcIk1hdHJpeDRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHJ9KSksbi5kKGUsXCJNYXhFcXVhdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLFwiTWVzaFwiLChmdW5jdGlvbigpe3JldHVybiBob30pKSxuLmQoZSxcIk1lc2hCYXNpY01hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF9pfSkpLG4uZChlLFwiTWVzaERlcHRoTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3N9KSksbi5kKGUsXCJNZXNoRGlzdGFuY2VNYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBUc30pKSxuLmQoZSxcIk1lc2hGYWNlTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWXB9KSksbi5kKGUsXCJNZXNoTGFtYmVydE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl1fSkpLG4uZChlLFwiTWVzaE1hdGNhcE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh1fSkpLG4uZChlLFwiTWVzaE5vcm1hbE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ1fSkpLG4uZChlLFwiTWVzaFBob25nTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXV9KSksbi5kKGUsXCJNZXNoUGh5c2ljYWxNYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBmdX0pKSxuLmQoZSxcIk1lc2hTdGFuZGFyZE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB1fSkpLG4uZChlLFwiTWVzaFRvb25NYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBndX0pKSxuLmQoZSxcIk1pbkVxdWF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksbi5kKGUsXCJNaXJyb3JlZFJlcGVhdFdyYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB0fSkpLG4uZChlLFwiTWl4T3BlcmF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSksbi5kKGUsXCJNdWx0aU1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFpwfSkpLG4uZChlLFwiTXVsdGlwbHlCbGVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBNfSkpLG4uZChlLFwiTXVsdGlwbHlPcGVyYXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKSxuLmQoZSxcIk5lYXJlc3RGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZnR9KSksbi5kKGUsXCJOZWFyZXN0TWlwTWFwTGluZWFyRmlsdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl0fSkpLG4uZChlLFwiTmVhcmVzdE1pcE1hcE5lYXJlc3RGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3R9KSksbi5kKGUsXCJOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ0fSkpLG4uZChlLFwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSksbi5kKGUsXCJOZXZlckRlcHRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEh9KSksbi5kKGUsXCJOZXZlclN0ZW5jaWxGdW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZufSkpLG4uZChlLFwiTm9CbGVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZChlLFwiTm9Db2xvcnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV3B9KSksbi5kKGUsXCJOb1RvbmVNYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksbi5kKGUsXCJOb3JtYWxBbmltYXRpb25CbGVuZE1vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV2V9KSksbi5kKGUsXCJOb3JtYWxCbGVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZChlLFwiTm90RXF1YWxEZXB0aFwiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLG4uZChlLFwiTm90RXF1YWxTdGVuY2lsRnVuY1wiLChmdW5jdGlvbigpe3JldHVybiBfbn0pKSxuLmQoZSxcIk51bWJlcktleWZyYW1lVHJhY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUHV9KSksbi5kKGUsXCJPYmplY3QzRFwiLChmdW5jdGlvbigpe3JldHVybiBKcn0pKSxuLmQoZSxcIk9iamVjdExvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBGaH0pKSxuLmQoZSxcIk9iamVjdFNwYWNlTm9ybWFsTWFwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNufSkpLG4uZChlLFwiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhsfSkpLG4uZChlLFwiT2N0YWhlZHJvbkdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtsfSkpLG4uZChlLFwiT25lRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKGUsXCJPbmVNaW51c0RzdEFscGhhRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ9KSksbi5kKGUsXCJPbmVNaW51c0RzdENvbG9yRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp9KSksbi5kKGUsXCJPbmVNaW51c1NyY0FscGhhRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKGUsXCJPbmVNaW51c1NyY0NvbG9yRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKGUsXCJPcnRob2dyYXBoaWNDYW1lcmFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGh9KSksbi5kKGUsXCJQQ0ZTaGFkb3dNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSxcIlBDRlNvZnRTaGFkb3dNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSxcIlBNUkVNR2VuZXJhdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9wfSkpLG4uZChlLFwiUGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZsfSkpLG4uZChlLFwiUGFyYW1ldHJpY0dlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpsfSkpLG4uZChlLFwiUGFydGljbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS3B9KSksbi5kKGUsXCJQYXJ0aWNsZUJhc2ljTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGZ9KSksbi5kKGUsXCJQYXJ0aWNsZVN5c3RlbVwiLChmdW5jdGlvbigpe3JldHVybiBRcH0pKSxuLmQoZSxcIlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWZ9KSksbi5kKGUsXCJQYXRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdofSkpLG4uZChlLFwiUGVyc3BlY3RpdmVDYW1lcmFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd299KSksbi5kKGUsXCJQbGFuZVwiLChmdW5jdGlvbigpe3JldHVybiB0aX0pKSxuLmQoZSxcIlBsYW5lQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ299KSksbi5kKGUsXCJQbGFuZUdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFdsfSkpLG4uZChlLFwiUGxhbmVIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZHB9KSksbi5kKGUsXCJQb2ludENsb3VkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEpwfSkpLG4uZChlLFwiUG9pbnRDbG91ZE1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRwfSkpLG4uZChlLFwiUG9pbnRMaWdodFwiLChmdW5jdGlvbigpe3JldHVybiBTaH0pKSxuLmQoZSxcIlBvaW50TGlnaHRIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWR9KSksbi5kKGUsXCJQb2ludHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTmN9KSksbi5kKGUsXCJQb2ludHNNYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBSY30pKSxuLmQoZSxcIlBvbGFyR3JpZEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiB0cH0pKSxuLmQoZSxcIlBvbHloZWRyb25CdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBRY30pKSxuLmQoZSxcIlBvbHloZWRyb25HZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBYbH0pKSxuLmQoZSxcIlBvc2l0aW9uYWxBdWRpb1wiLChmdW5jdGlvbigpe3JldHVybiBkZH0pKSxuLmQoZSxcIlByb3BlcnR5QmluZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBTZH0pKSxuLmQoZSxcIlByb3BlcnR5TWl4ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZmR9KSksbi5kKGUsXCJRdWFkcmF0aWNCZXppZXJDdXJ2ZVwiLChmdW5jdGlvbigpe3JldHVybiBoaH0pKSxuLmQoZSxcIlF1YWRyYXRpY0JlemllckN1cnZlM1wiLChmdW5jdGlvbigpe3JldHVybiBkaH0pKSxuLmQoZSxcIlF1YXRlcm5pb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gSm59KSksbi5kKGUsXCJRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFja1wiLChmdW5jdGlvbigpe3JldHVybiBJdX0pKSxuLmQoZSxcIlF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudFwiLChmdW5jdGlvbigpe3JldHVybiBDdX0pKSxuLmQoZSxcIlJFVklTSU9OXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJSR0JBRGVwdGhQYWNraW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFufSkpLG4uZChlLFwiUkdCQUZvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBVdH0pKSxuLmQoZSxcIlJHQkFJbnRlZ2VyRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp0fSkpLG4uZChlLFwiUkdCQV9BU1RDXzEweDEwX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiB5ZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ18xMHg1X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBtZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ18xMHg2X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ18xMHg4X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiB2ZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ18xMngxMF9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geGV9KSksbi5kKGUsXCJSR0JBX0FTVENfMTJ4MTJfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJlfSkpLG4uZChlLFwiUkdCQV9BU1RDXzR4NF9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2V9KSksbi5kKGUsXCJSR0JBX0FTVENfNXg0X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBjZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ181eDVfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZChlLFwiUkdCQV9BU1RDXzZ4NV9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdWV9KSksbi5kKGUsXCJSR0JBX0FTVENfNng2X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBoZX0pKSxuLmQoZSxcIlJHQkFfQVNUQ184eDVfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRlfSkpLG4uZChlLFwiUkdCQV9BU1RDXzh4Nl9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKGUsXCJSR0JBX0FTVENfOHg4X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBmZX0pKSxuLmQoZSxcIlJHQkFfQlBUQ19Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd2V9KSksbi5kKGUsXCJSR0JBX0VUQzJfRUFDX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBhZX0pKSxuLmQoZSxcIlJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiByZX0pKSxuLmQoZSxcIlJHQkFfUFZSVENfNEJQUFYxX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBuZX0pKSxuLmQoZSxcIlJHQkFfUzNUQ19EWFQxX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBLdH0pKSxuLmQoZSxcIlJHQkFfUzNUQ19EWFQzX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBRdH0pKSxuLmQoZSxcIlJHQkFfUzNUQ19EWFQ1X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiAkdH0pKSxuLmQoZSxcIlJHQkRFbmNvZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBybn0pKSxuLmQoZSxcIlJHQkVFbmNvZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiAkZX0pKSxuLmQoZSxcIlJHQkVGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSHR9KSksbi5kKGUsXCJSR0JGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRnR9KSksbi5kKGUsXCJSR0JJbnRlZ2VyRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl0fSkpLG4uZChlLFwiUkdCTTE2RW5jb2RpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbm59KSksbi5kKGUsXCJSR0JNN0VuY29kaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVufSkpLG4uZChlLFwiUkdCX0VUQzFfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGllfSkpLG4uZChlLFwiUkdCX0VUQzJfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9lfSkpLG4uZChlLFwiUkdCX1BWUlRDXzJCUFBWMV9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWV9KSksbi5kKGUsXCJSR0JfUFZSVENfNEJQUFYxX0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiB0ZX0pKSxuLmQoZSxcIlJHQl9TM1RDX0RYVDFfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp0fSkpLG4uZChlLFwiUkdGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWHR9KSksbi5kKGUsXCJSR0ludGVnZXJGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcXR9KSksbi5kKGUsXCJSYXdTaGFkZXJNYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBkdX0pKSxuLmQoZSxcIlJheVwiLChmdW5jdGlvbigpe3JldHVybiBTcn0pKSxuLmQoZSxcIlJheWNhc3RlclwiLChmdW5jdGlvbigpe3JldHVybiBDZH0pKSxuLmQoZSxcIlJlY3RBcmVhTGlnaHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUmh9KSksbi5kKGUsXCJSZWRGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4ganR9KSksbi5kKGUsXCJSZWRJbnRlZ2VyRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFd0fSkpLG4uZChlLFwiUmVpbmhhcmRUb25lTWFwcGluZ1wiLChmdW5jdGlvbigpe3JldHVybiB0dH0pKSxuLmQoZSxcIlJlcGVhdFdyYXBwaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh0fSkpLG4uZChlLFwiUmVwbGFjZVN0ZW5jaWxPcFwiLChmdW5jdGlvbigpe3JldHVybiBobn0pKSxuLmQoZSxcIlJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksbi5kKGUsXCJSaW5nQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWx9KSksbi5kKGUsXCJSaW5nR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWx9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ18xMHgxMF9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT2V9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ18xMHg1X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBQZX0pKSxuLmQoZSxcIlNSR0I4X0FMUEhBOF9BU1RDXzEweDZfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENlfSkpLG4uZChlLFwiU1JHQjhfQUxQSEE4X0FTVENfMTB4OF9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSWV9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ18xMngxMF9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTmV9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ18xMngxMl9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGV9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ180eDRfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF9lfSkpLG4uZChlLFwiU1JHQjhfQUxQSEE4X0FTVENfNXg0X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBNZX0pKSxuLmQoZSxcIlNSR0I4X0FMUEhBOF9BU1RDXzV4NV9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU2V9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ182eDVfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFRlfSkpLG4uZChlLFwiU1JHQjhfQUxQSEE4X0FTVENfNng2X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBFZX0pKSxuLmQoZSxcIlNSR0I4X0FMUEhBOF9BU1RDXzh4NV9Gb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWV9KSksbi5kKGUsXCJTUkdCOF9BTFBIQThfQVNUQ184eDZfRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExlfSkpLG4uZChlLFwiU1JHQjhfQUxQSEE4X0FTVENfOHg4X0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBSZX0pKSxuLmQoZSxcIlNjZW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpzfSkpLG4uZChlLFwiU2NlbmVVdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiBBZn0pKSxuLmQoZSxcIlNoYWRlckNodW5rXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIElvfSkpLG4uZChlLFwiU2hhZGVyTGliXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE5vfSkpLG4uZChlLFwiU2hhZGVyTWF0ZXJpYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4geG99KSksbi5kKGUsXCJTaGFkb3dNYXRlcmlhbFwiLChmdW5jdGlvbigpe3JldHVybiBodX0pKSxuLmQoZSxcIlNoYXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZofSkpLG4uZChlLFwiU2hhcGVCdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBabH0pKSxuLmQoZSxcIlNoYXBlR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSmx9KSksbi5kKGUsXCJTaGFwZVBhdGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4ga2h9KSksbi5kKGUsXCJTaGFwZVV0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENsfSkpLG4uZChlLFwiU2hvcnRUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV0fSkpLG4uZChlLFwiU2tlbGV0b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gZGN9KSksbi5kKGUsXCJTa2VsZXRvbkhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBxZH0pKSxuLmQoZSxcIlNraW5uZWRNZXNoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNjfSkpLG4uZChlLFwiU21vb3RoU2hhZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZChlLFwiU3BoZXJlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdyfSkpLG4uZChlLFwiU3BoZXJlQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2x9KSksbi5kKGUsXCJTcGhlcmVHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBRbH0pKSxuLmQoZSxcIlNwaGVyaWNhbFwiLChmdW5jdGlvbigpe3JldHVybiBOZH0pKSxuLmQoZSxcIlNwaGVyaWNhbEhhcm1vbmljczNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUGh9KSksbi5kKGUsXCJTcGxpbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ2Z9KSksbi5kKGUsXCJTcGxpbmVDdXJ2ZVwiLChmdW5jdGlvbigpe3JldHVybiBwaH0pKSxuLmQoZSxcIlNwbGluZUN1cnZlM1wiLChmdW5jdGlvbigpe3JldHVybiBtZn0pKSxuLmQoZSxcIlNwb3RMaWdodFwiLChmdW5jdGlvbigpe3JldHVybiBfaH0pKSxuLmQoZSxcIlNwb3RMaWdodEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBWZH0pKSxuLmQoZSxcIlNwcml0ZVwiLChmdW5jdGlvbigpe3JldHVybiByY30pKSxuLmQoZSxcIlNwcml0ZU1hdGVyaWFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZzfSkpLG4uZChlLFwiU3JjQWxwaGFGYWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxuLmQoZSxcIlNyY0FscGhhU2F0dXJhdGVGYWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR30pKSxuLmQoZSxcIlNyY0NvbG9yRmFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksbi5kKGUsXCJTdGF0aWNDb3B5VXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ259KSksbi5kKGUsXCJTdGF0aWNEcmF3VXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVG59KSksbi5kKGUsXCJTdGF0aWNSZWFkVXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTG59KSksbi5kKGUsXCJTdGVyZW9DYW1lcmFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJGh9KSksbi5kKGUsXCJTdHJlYW1Db3B5VXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT259KSksbi5kKGUsXCJTdHJlYW1EcmF3VXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQW59KSksbi5kKGUsXCJTdHJlYW1SZWFkVXNhZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUG59KSksbi5kKGUsXCJTdHJpbmdLZXlmcmFtZVRyYWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE91fSkpLG4uZChlLFwiU3VidHJhY3RFcXVhdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLFwiU3VidHJhY3RpdmVCbGVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZChlLFwiVE9VQ0hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcIlRhbmdlbnRTcGFjZU5vcm1hbE1hcFwiLChmdW5jdGlvbigpe3JldHVybiBzbn0pKSxuLmQoZSxcIlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJGx9KSksbi5kKGUsXCJUZXRyYWhlZHJvbkdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR1fSkpLG4uZChlLFwiVGV4dEJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV1fSkpLG4uZChlLFwiVGV4dEdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG51fSkpLG4uZChlLFwiVGV4dHVyZVwiLChmdW5jdGlvbigpe3JldHVybiBXbn0pKSxuLmQoZSxcIlRleHR1cmVMb2FkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWXV9KSksbi5kKGUsXCJUb3J1c0J1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ1fSkpLG4uZChlLFwiVG9ydXNHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBpdX0pKSxuLmQoZSxcIlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG91fSkpLG4uZChlLFwiVG9ydXNLbm90R2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYXV9KSksbi5kKGUsXCJUcmlhbmdsZVwiLChmdW5jdGlvbigpe3JldHVybiBoaX0pKSxuLmQoZSxcIlRyaWFuZ2xlRmFuRHJhd01vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWmV9KSksbi5kKGUsXCJUcmlhbmdsZVN0cmlwRHJhd01vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWV9KSksbi5kKGUsXCJUcmlhbmdsZXNEcmF3TW9kZVwiLChmdW5jdGlvbigpe3JldHVybiBxZX0pKSxuLmQoZSxcIlR1YmVCdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBzdX0pKSxuLmQoZSxcIlR1YmVHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBjdX0pKSxuLmQoZSxcIlVWTWFwcGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBpdH0pKSxuLmQoZSxcIlVpbnQxNkF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBsZn0pKSxuLmQoZSxcIlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBQaX0pKSxuLmQoZSxcIlVpbnQzMkF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBoZn0pKSxuLmQoZSxcIlVpbnQzMkJ1ZmZlckF0dHJpYnV0ZVwiLChmdW5jdGlvbigpe3JldHVybiBJaX0pKSxuLmQoZSxcIlVpbnQ4QXR0cmlidXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFmfSkpLG4uZChlLFwiVWludDhCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWl9KSksbi5kKGUsXCJVaW50OENsYW1wZWRBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2Z9KSksbi5kKGUsXCJVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTGl9KSksbi5kKGUsXCJVbmlmb3JtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExkfSkpLG4uZChlLFwiVW5pZm9ybXNMaWJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT299KSksbi5kKGUsXCJVbmlmb3Jtc1V0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHlvfSkpLG4uZChlLFwiVW5zaWduZWRCeXRlVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBTdH0pKSxuLmQoZSxcIlVuc2lnbmVkSW50MjQ4VHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBEdH0pKSxuLmQoZSxcIlVuc2lnbmVkSW50VHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBSdH0pKSxuLmQoZSxcIlVuc2lnbmVkU2hvcnQ0NDQ0VHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBJdH0pKSxuLmQoZSxcIlVuc2lnbmVkU2hvcnQ1NTUxVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSxcIlVuc2lnbmVkU2hvcnQ1NjVUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE50fSkpLG4uZChlLFwiVW5zaWduZWRTaG9ydFR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQXR9KSksbi5kKGUsXCJWU01TaGFkb3dNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSxcIlZlY3RvcjJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR259KSksbi5kKGUsXCJWZWN0b3IzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEtufSkpLG4uZChlLFwiVmVjdG9yNFwiLChmdW5jdGlvbigpe3JldHVybiBxbn0pKSxuLmQoZSxcIlZlY3RvcktleWZyYW1lVHJhY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTnV9KSksbi5kKGUsXCJWZXJ0ZXhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmZ9KSksbi5kKGUsXCJWZXJ0ZXhDb2xvcnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcXB9KSksbi5kKGUsXCJWaWRlb1RleHR1cmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQmN9KSksbi5kKGUsXCJXZWJHTDFSZW5kZXJlclwiLChmdW5jdGlvbigpe3JldHVybiBCc30pKSxuLmQoZSxcIldlYkdMQ3ViZVJlbmRlclRhcmdldFwiLChmdW5jdGlvbigpe3JldHVybiBTb30pKSxuLmQoZSxcIldlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWm59KSksbi5kKGUsXCJXZWJHTFJlbmRlclRhcmdldFwiLChmdW5jdGlvbigpe3JldHVybiBZbn0pKSxuLmQoZSxcIldlYkdMUmVuZGVyVGFyZ2V0Q3ViZVwiLChmdW5jdGlvbigpe3JldHVybiBNZn0pKSxuLmQoZSxcIldlYkdMUmVuZGVyZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRHN9KSksbi5kKGUsXCJXZWJHTFV0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJzfSkpLG4uZChlLFwiV2lyZWZyYW1lR2VvbWV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbHV9KSksbi5kKGUsXCJXaXJlZnJhbWVIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYmZ9KSksbi5kKGUsXCJXcmFwQXJvdW5kRW5kaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGplfSkpLG4uZChlLFwiWEhSTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdmfSkpLG4uZChlLFwiWmVyb0N1cnZhdHVyZUVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBrZX0pKSxuLmQoZSxcIlplcm9GYWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSxcIlplcm9TbG9wZUVuZGluZ1wiLChmdW5jdGlvbigpe3JldHVybiBWZX0pKSxuLmQoZSxcIlplcm9TdGVuY2lsT3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbG59KSksbi5kKGUsXCJzUkdCRW5jb2RpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2V9KSk7Y29uc3Qgcj1cIjEyM1wiLGk9e0xFRlQ6MCxNSURETEU6MSxSSUdIVDoyLFJPVEFURTowLERPTExZOjEsUEFOOjJ9LG89e1JPVEFURTowLFBBTjoxLERPTExZX1BBTjoyLERPTExZX1JPVEFURTozfSxhPTAscz0xLGM9MixsPTMsdT0wLGg9MSxkPTIscD0zLGY9MCxtPTEsZz0yLHY9MSx5PTIseD0wLGI9MSx3PTIsXz0zLE09NCxTPTUsVD0xMDAsRT0xMDEsQT0xMDIsTD0xMDMsUj0xMDQsUD0yMDAsQz0yMDEsST0yMDIsTz0yMDMsTj0yMDQsRD0yMDUsQj0yMDYsRj0yMDcsVT0yMDgsej0yMDksRz0yMTAsSD0wLGs9MSxWPTIsaj0zLFc9NCxYPTUscT02LFk9NyxaPTAsSj0xLEs9MixRPTAsJD0xLHR0PTIsZXQ9MyxudD00LHJ0PTUsaXQ9MzAwLG90PTMwMSxhdD0zMDIsc3Q9MzAzLGN0PTMwNCxsdD0zMDYsdXQ9MzA3LGh0PTFlMyxkdD0xMDAxLHB0PTEwMDIsZnQ9MTAwMyxtdD0xMDA0LGd0PTEwMDQsdnQ9MTAwNSx5dD0xMDA1LHh0PTEwMDYsYnQ9MTAwNyx3dD0xMDA3LF90PTEwMDgsTXQ9MTAwOCxTdD0xMDA5LFR0PTEwMTAsRXQ9MTAxMSxBdD0xMDEyLEx0PTEwMTMsUnQ9MTAxNCxQdD0xMDE1LEN0PTEwMTYsSXQ9MTAxNyxPdD0xMDE4LE50PTEwMTksRHQ9MTAyMCxCdD0xMDIxLEZ0PTEwMjIsVXQ9MTAyMyx6dD0xMDI0LEd0PTEwMjUsSHQ9VXQsa3Q9MTAyNixWdD0xMDI3LGp0PTEwMjgsV3Q9MTAyOSxYdD0xMDMwLHF0PTEwMzEsWXQ9MTAzMixadD0xMDMzLEp0PTMzNzc2LEt0PTMzNzc3LFF0PTMzNzc4LCR0PTMzNzc5LHRlPTM1ODQwLGVlPTM1ODQxLG5lPTM1ODQyLHJlPTM1ODQzLGllPTM2MTk2LG9lPTM3NDkyLGFlPTM3NDk2LHNlPTM3ODA4LGNlPTM3ODA5LGxlPTM3ODEwLHVlPTM3ODExLGhlPTM3ODEyLGRlPTM3ODEzLHBlPTM3ODE0LGZlPTM3ODE1LG1lPTM3ODE2LGdlPTM3ODE3LHZlPTM3ODE4LHllPTM3ODE5LHhlPTM3ODIwLGJlPTM3ODIxLHdlPTM2NDkyLF9lPTM3ODQwLE1lPTM3ODQxLFNlPTM3ODQyLFRlPTM3ODQzLEVlPTM3ODQ0LEFlPTM3ODQ1LExlPTM3ODQ2LFJlPTM3ODQ3LFBlPTM3ODQ4LENlPTM3ODQ5LEllPTM3ODUwLE9lPTM3ODUxLE5lPTM3ODUyLERlPTM3ODUzLEJlPTIyMDAsRmU9MjIwMSxVZT0yMjAyLHplPTIzMDAsR2U9MjMwMSxIZT0yMzAyLGtlPTI0MDAsVmU9MjQwMSxqZT0yNDAyLFdlPTI1MDAsWGU9MjUwMSxxZT0wLFllPTEsWmU9MixKZT0zZTMsS2U9MzAwMSxRZT0zMDA3LCRlPTMwMDIsdG49MzAwMyxlbj0zMDA0LG5uPTMwMDUscm49MzAwNixvbj0zMjAwLGFuPTMyMDEsc249MCxjbj0xLGxuPTAsdW49NzY4MCxobj03NjgxLGRuPTc2ODIscG49NzY4Myxmbj0zNDA1NSxtbj0zNDA1Nixnbj01Mzg2LHZuPTUxMix5bj01MTMseG49NTE0LGJuPTUxNSx3bj01MTYsX249NTE3LE1uPTUxOCxTbj01MTksVG49MzUwNDQsRW49MzUwNDgsQW49MzUwNDAsTG49MzUwNDUsUm49MzUwNDksUG49MzUwNDEsQ249MzUwNDYsSW49MzUwNTAsT249MzUwNDIsTm49XCIxMDBcIixEbj1cIjMwMCBlc1wiO2Z1bmN0aW9uIEJuKCl7fU9iamVjdC5hc3NpZ24oQm4ucHJvdG90eXBlLHthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzJiYodGhpcy5fbGlzdGVuZXJzPXt9KTtjb25zdCBuPXRoaXMuX2xpc3RlbmVyczt2b2lkIDA9PT1uW3RdJiYoblt0XT1bXSksLTE9PT1uW3RdLmluZGV4T2YoZSkmJm5bdF0ucHVzaChlKX0saGFzRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXRoaXMuX2xpc3RlbmVycylyZXR1cm4hMTtjb25zdCBuPXRoaXMuX2xpc3RlbmVycztyZXR1cm4gdm9pZCAwIT09blt0XSYmLTEhPT1uW3RdLmluZGV4T2YoZSl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuO2NvbnN0IG49dGhpcy5fbGlzdGVuZXJzW3RdO2lmKHZvaWQgMCE9PW4pe2NvbnN0IHQ9bi5pbmRleE9mKGUpOy0xIT09dCYmbi5zcGxpY2UodCwxKX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybjtjb25zdCBlPXRoaXMuX2xpc3RlbmVyc1t0LnR5cGVdO2lmKHZvaWQgMCE9PWUpe3QudGFyZ2V0PXRoaXM7Y29uc3Qgbj1lLnNsaWNlKDApO2ZvcihsZXQgZT0wLHI9bi5sZW5ndGg7ZTxyO2UrKyluW2VdLmNhbGwodGhpcyx0KX19fSk7Y29uc3QgRm49W107Zm9yKGxldCB0PTA7dDwyNTY7dCsrKUZuW3RdPSh0PDE2P1wiMFwiOlwiXCIpK3QudG9TdHJpbmcoMTYpO2xldCBVbj0xMjM0NTY3O2NvbnN0IHpuPXtERUcyUkFEOk1hdGguUEkvMTgwLFJBRDJERUc6MTgwL01hdGguUEksZ2VuZXJhdGVVVUlEOmZ1bmN0aW9uKCl7Y29uc3QgdD00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MCxlPTQyOTQ5NjcyOTUqTWF0aC5yYW5kb20oKXwwLG49NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDAscj00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MDtyZXR1cm4oRm5bMjU1JnRdK0ZuW3Q+PjgmMjU1XStGblt0Pj4xNiYyNTVdK0ZuW3Q+PjI0JjI1NV0rXCItXCIrRm5bMjU1JmVdK0ZuW2U+PjgmMjU1XStcIi1cIitGbltlPj4xNiYxNXw2NF0rRm5bZT4+MjQmMjU1XStcIi1cIitGbls2MyZufDEyOF0rRm5bbj4+OCYyNTVdK1wiLVwiK0ZuW24+PjE2JjI1NV0rRm5bbj4+MjQmMjU1XStGblsyNTUmcl0rRm5bcj4+OCYyNTVdK0ZuW3I+PjE2JjI1NV0rRm5bcj4+MjQmMjU1XSkudG9VcHBlckNhc2UoKX0sY2xhbXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKG4sdCkpfSxldWNsaWRlYW5Nb2R1bG86ZnVuY3Rpb24odCxlKXtyZXR1cm4odCVlK2UpJWV9LG1hcExpbmVhcjpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiByKyh0LWUpKihpLXIpLyhuLWUpfSxsZXJwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4oMS1uKSp0K24qZX0sc21vb3Roc3RlcDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ8PWU/MDp0Pj1uPzE6KHQ9KHQtZSkvKG4tZSkpKnQqKDMtMip0KX0sc21vb3RoZXJzdGVwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdDw9ZT8wOnQ+PW4/MToodD0odC1lKS8obi1lKSkqdCp0Kih0Kig2KnQtMTUpKzEwKX0scmFuZEludDpmdW5jdGlvbih0LGUpe3JldHVybiB0K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KzEpKX0scmFuZEZsb2F0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrTWF0aC5yYW5kb20oKSooZS10KX0scmFuZEZsb2F0U3ByZWFkOmZ1bmN0aW9uKHQpe3JldHVybiB0KiguNS1NYXRoLnJhbmRvbSgpKX0sc2VlZGVkUmFuZG9tOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoVW49dCUyMTQ3NDgzNjQ3KSxVbj0xNjgwNypVbiUyMTQ3NDgzNjQ3LChVbi0xKS8yMTQ3NDgzNjQ2fSxkZWdUb1JhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCp6bi5ERUcyUkFEfSxyYWRUb0RlZzpmdW5jdGlvbih0KXtyZXR1cm4gdCp6bi5SQUQyREVHfSxpc1Bvd2VyT2ZUd286ZnVuY3Rpb24odCl7cmV0dXJuIDA9PSh0JnQtMSkmJjAhPT10fSxjZWlsUG93ZXJPZlR3bzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2codCkvTWF0aC5MTjIpKX0sZmxvb3JQb3dlck9mVHdvOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpKX0sc2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcjpmdW5jdGlvbih0LGUsbixyLGkpe2NvbnN0IG89TWF0aC5jb3MsYT1NYXRoLnNpbixzPW8obi8yKSxjPWEobi8yKSxsPW8oKGUrcikvMiksdT1hKChlK3IpLzIpLGg9bygoZS1yKS8yKSxkPWEoKGUtcikvMikscD1vKChyLWUpLzIpLGY9YSgoci1lKS8yKTtzd2l0Y2goaSl7Y2FzZVwiWFlYXCI6dC5zZXQocyp1LGMqaCxjKmQscypsKTticmVhaztjYXNlXCJZWllcIjp0LnNldChjKmQscyp1LGMqaCxzKmwpO2JyZWFrO2Nhc2VcIlpYWlwiOnQuc2V0KGMqaCxjKmQscyp1LHMqbCk7YnJlYWs7Y2FzZVwiWFpYXCI6dC5zZXQocyp1LGMqZixjKnAscypsKTticmVhaztjYXNlXCJZWFlcIjp0LnNldChjKnAscyp1LGMqZixzKmwpO2JyZWFrO2Nhc2VcIlpZWlwiOnQuc2V0KGMqZixjKnAscyp1LHMqbCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRoVXRpbHM6IC5zZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogXCIraSl9fX07Y2xhc3MgR257Y29uc3RydWN0b3IodD0wLGU9MCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc1ZlY3RvcjJcIix7dmFsdWU6ITB9KSx0aGlzLng9dCx0aGlzLnk9ZX1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy54fXNldCB3aWR0aCh0KXt0aGlzLng9dH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMueX1zZXQgaGVpZ2h0KHQpe3RoaXMueT10fXNldCh0LGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfXNldFNjYWxhcih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpc31zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfXNldFkodCl7cmV0dXJuIHRoaXMueT10LHRoaXN9c2V0Q29tcG9uZW50KHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLng9ZTticmVhaztjYXNlIDE6dGhpcy55PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK3QpfXJldHVybiB0aGlzfWdldENvbXBvbmVudCh0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK3QpfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpc31hZGQodCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMjogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmFkZFZlY3RvcnModCxlKSk6KHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMpfWFkZFNjYWxhcih0KXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9dCx0aGlzfWFkZFZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpc31hZGRTY2FsZWRWZWN0b3IodCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXN9c3ViKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5zdWJWZWN0b3JzKHQsZSkpOih0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzKX1zdWJTY2FsYXIodCl7cmV0dXJuIHRoaXMueC09dCx0aGlzLnktPXQsdGhpc31zdWJWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXN9bXVsdGlwbHkodCl7cmV0dXJuIHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc31kaXZpZGUodCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXN9ZGl2aWRlU2NhbGFyKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9YXBwbHlNYXRyaXgzKHQpe2NvbnN0IGU9dGhpcy54LG49dGhpcy55LHI9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PXJbMF0qZStyWzNdKm4rcls2XSx0aGlzLnk9clsxXSplK3JbNF0qbityWzddLHRoaXN9bWluKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXN9bWF4KHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LHQueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSx0LnkpLHRoaXN9Y2xhbXAodCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQueCxNYXRoLm1pbihlLngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQueSxNYXRoLm1pbihlLnksdGhpcy55KSksdGhpc31jbGFtcFNjYWxhcih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy55KSksdGhpc31jbGFtcExlbmd0aCh0LGUpe2NvbnN0IG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgodCxNYXRoLm1pbihlLG4pKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9ZG90KHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0Lnl9Y3Jvc3ModCl7cmV0dXJuIHRoaXMueCp0LnktdGhpcy55KnQueH1sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfWFuZ2xlKCl7cmV0dXJuIE1hdGguYXRhbjIoLXRoaXMueSwtdGhpcy54KStNYXRoLlBJfWRpc3RhbmNlVG8odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHQpKX1kaXN0YW5jZVRvU3F1YXJlZCh0KXtjb25zdCBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBlKmUrbipufW1hbmhhdHRhbkRpc3RhbmNlVG8odCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueC10LngpK01hdGguYWJzKHRoaXMueS10LnkpfXNldExlbmd0aCh0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX1sZXJwKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzfWxlcnBWZWN0b3JzKHQsZSxuKXtyZXR1cm4gdGhpcy54PXQueCsoZS54LXQueCkqbix0aGlzLnk9dC55KyhlLnktdC55KSpuLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX1mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLng9dFtlXSx0aGlzLnk9dFtlKzFdLHRoaXN9dG9BcnJheSh0PVtdLGU9MCl7cmV0dXJuIHRbZV09dGhpcy54LHRbZSsxXT10aGlzLnksdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSxuKXtyZXR1cm4gdm9pZCAwIT09biYmY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLlwiKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpc31yb3RhdGVBcm91bmQodCxlKXtjb25zdCBuPU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSksaT10aGlzLngtdC54LG89dGhpcy55LXQueTtyZXR1cm4gdGhpcy54PWkqbi1vKnIrdC54LHRoaXMueT1pKnIrbypuK3QueSx0aGlzfXJhbmRvbSgpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzfX1jbGFzcyBIbntjb25zdHJ1Y3Rvcigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNNYXRyaXgzXCIse3ZhbHVlOiEwfSksdGhpcy5lbGVtZW50cz1bMSwwLDAsMCwxLDAsMCwwLDFdLGFyZ3VtZW50cy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDM6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuXCIpfXNldCh0LGUsbixyLGksbyxhLHMsYyl7Y29uc3QgbD10aGlzLmVsZW1lbnRzO3JldHVybiBsWzBdPXQsbFsxXT1yLGxbMl09YSxsWzNdPWUsbFs0XT1pLGxbNV09cyxsWzZdPW4sbFs3XT1vLGxbOF09Yyx0aGlzfWlkZW50aXR5KCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMSwwLDAsMCwxKSx0aGlzfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5mcm9tQXJyYXkodGhpcy5lbGVtZW50cyl9Y29weSh0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzO3JldHVybiBlWzBdPW5bMF0sZVsxXT1uWzFdLGVbMl09blsyXSxlWzNdPW5bM10sZVs0XT1uWzRdLGVbNV09bls1XSxlWzZdPW5bNl0sZVs3XT1uWzddLGVbOF09bls4XSx0aGlzfWV4dHJhY3RCYXNpcyh0LGUsbil7cmV0dXJuIHQuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywwKSxlLnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMSksbi5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpLHRoaXN9c2V0RnJvbU1hdHJpeDQodCl7Y29uc3QgZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLnNldChlWzBdLGVbNF0sZVs4XSxlWzFdLGVbNV0sZVs5XSxlWzJdLGVbNl0sZVsxMF0pLHRoaXN9bXVsdGlwbHkodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfXByZW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKHQsZSl7Y29uc3Qgbj10LmVsZW1lbnRzLHI9ZS5lbGVtZW50cyxpPXRoaXMuZWxlbWVudHMsbz1uWzBdLGE9blszXSxzPW5bNl0sYz1uWzFdLGw9bls0XSx1PW5bN10saD1uWzJdLGQ9bls1XSxwPW5bOF0sZj1yWzBdLG09clszXSxnPXJbNl0sdj1yWzFdLHk9cls0XSx4PXJbN10sYj1yWzJdLHc9cls1XSxfPXJbOF07cmV0dXJuIGlbMF09bypmK2EqditzKmIsaVszXT1vKm0rYSp5K3MqdyxpWzZdPW8qZythKngrcypfLGlbMV09YypmK2wqdit1KmIsaVs0XT1jKm0rbCp5K3UqdyxpWzddPWMqZytsKngrdSpfLGlbMl09aCpmK2QqditwKmIsaVs1XT1oKm0rZCp5K3AqdyxpWzhdPWgqZytkKngrcCpfLHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiBlWzBdKj10LGVbM10qPXQsZVs2XSo9dCxlWzFdKj10LGVbNF0qPXQsZVs3XSo9dCxlWzJdKj10LGVbNV0qPXQsZVs4XSo9dCx0aGlzfWRldGVybWluYW50KCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxuPXRbMV0scj10WzJdLGk9dFszXSxvPXRbNF0sYT10WzVdLHM9dFs2XSxjPXRbN10sbD10WzhdO3JldHVybiBlKm8qbC1lKmEqYy1uKmkqbCtuKmEqcytyKmkqYy1yKm8qc31pbnZlcnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLG89dFs0XSxhPXRbNV0scz10WzZdLGM9dFs3XSxsPXRbOF0sdT1sKm8tYSpjLGg9YSpzLWwqaSxkPWMqaS1vKnMscD1lKnUrbipoK3IqZDtpZigwPT09cClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IGY9MS9wO3JldHVybiB0WzBdPXUqZix0WzFdPShyKmMtbCpuKSpmLHRbMl09KGEqbi1yKm8pKmYsdFszXT1oKmYsdFs0XT0obCplLXIqcykqZix0WzVdPShyKmktYSplKSpmLHRbNl09ZCpmLHRbN109KG4qcy1jKmUpKmYsdFs4XT0obyplLW4qaSkqZix0aGlzfXRyYW5zcG9zZSgpe2xldCB0O2NvbnN0IGU9dGhpcy5lbGVtZW50cztyZXR1cm4gdD1lWzFdLGVbMV09ZVszXSxlWzNdPXQsdD1lWzJdLGVbMl09ZVs2XSxlWzZdPXQsdD1lWzVdLGVbNV09ZVs3XSxlWzddPXQsdGhpc31nZXROb3JtYWxNYXRyaXgodCl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQodCkuY29weSh0aGlzKS5pbnZlcnQoKS50cmFuc3Bvc2UoKX10cmFuc3Bvc2VJbnRvQXJyYXkodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzNdLHRbMl09ZVs2XSx0WzNdPWVbMV0sdFs0XT1lWzRdLHRbNV09ZVs3XSx0WzZdPWVbMl0sdFs3XT1lWzVdLHRbOF09ZVs4XSx0aGlzfXNldFV2VHJhbnNmb3JtKHQsZSxuLHIsaSxvLGEpe2NvbnN0IHM9TWF0aC5jb3MoaSksYz1NYXRoLnNpbihpKTt0aGlzLnNldChuKnMsbipjLC1uKihzKm8rYyphKStvK3QsLXIqYyxyKnMsLXIqKC1jKm8rcyphKSthK2UsMCwwLDEpfXNjYWxlKHQsZSl7Y29uc3Qgbj10aGlzLmVsZW1lbnRzO3JldHVybiBuWzBdKj10LG5bM10qPXQsbls2XSo9dCxuWzFdKj1lLG5bNF0qPWUsbls3XSo9ZSx0aGlzfXJvdGF0ZSh0KXtjb25zdCBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCkscj10aGlzLmVsZW1lbnRzLGk9clswXSxvPXJbM10sYT1yWzZdLHM9clsxXSxjPXJbNF0sbD1yWzddO3JldHVybiByWzBdPWUqaStuKnMsclszXT1lKm8rbipjLHJbNl09ZSphK24qbCxyWzFdPS1uKmkrZSpzLHJbNF09LW4qbytlKmMscls3XT0tbiphK2UqbCx0aGlzfXRyYW5zbGF0ZSh0LGUpe2NvbnN0IG49dGhpcy5lbGVtZW50cztyZXR1cm4gblswXSs9dCpuWzJdLG5bM10rPXQqbls1XSxuWzZdKz10Km5bOF0sblsxXSs9ZSpuWzJdLG5bNF0rPWUqbls1XSxuWzddKz1lKm5bOF0sdGhpc31lcXVhbHModCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cztmb3IobGV0IHQ9MDt0PDk7dCsrKWlmKGVbdF0hPT1uW3RdKXJldHVybiExO3JldHVybiEwfWZyb21BcnJheSh0LGU9MCl7Zm9yKGxldCBuPTA7bjw5O24rKyl0aGlzLmVsZW1lbnRzW25dPXRbbitlXTtyZXR1cm4gdGhpc310b0FycmF5KHQ9W10sZT0wKXtjb25zdCBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbZV09blswXSx0W2UrMV09blsxXSx0W2UrMl09blsyXSx0W2UrM109blszXSx0W2UrNF09bls0XSx0W2UrNV09bls1XSx0W2UrNl09bls2XSx0W2UrN109bls3XSx0W2UrOF09bls4XSx0fX1sZXQga247Y29uc3QgVm49e2dldERhdGFVUkw6ZnVuY3Rpb24odCl7aWYoL15kYXRhOi9pLnRlc3QodC5zcmMpKXJldHVybiB0LnNyYztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQpcmV0dXJuIHQuc3JjO2xldCBlO2lmKHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCllPXQ7ZWxzZXt2b2lkIDA9PT1rbiYmKGtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImNhbnZhc1wiKSksa24ud2lkdGg9dC53aWR0aCxrbi5oZWlnaHQ9dC5oZWlnaHQ7Y29uc3Qgbj1rbi5nZXRDb250ZXh0KFwiMmRcIik7dCBpbnN0YW5jZW9mIEltYWdlRGF0YT9uLnB1dEltYWdlRGF0YSh0LDAsMCk6bi5kcmF3SW1hZ2UodCwwLDAsdC53aWR0aCx0LmhlaWdodCksZT1rbn1yZXR1cm4gZS53aWR0aD4yMDQ4fHxlLmhlaWdodD4yMDQ4P2UudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLC42KTplLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKX19O2xldCBqbj0wO2Z1bmN0aW9uIFduKHQ9V24uREVGQVVMVF9JTUFHRSxlPVduLkRFRkFVTFRfTUFQUElORyxuPWR0LHI9ZHQsaT14dCxvPV90LGE9VXQscz1TdCxjPTEsbD1KZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpqbisrfSksdGhpcy51dWlkPXpuLmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT1cIlwiLHRoaXMuaW1hZ2U9dCx0aGlzLm1pcG1hcHM9W10sdGhpcy5tYXBwaW5nPWUsdGhpcy53cmFwUz1uLHRoaXMud3JhcFQ9cix0aGlzLm1hZ0ZpbHRlcj1pLHRoaXMubWluRmlsdGVyPW8sdGhpcy5hbmlzb3Ryb3B5PWMsdGhpcy5mb3JtYXQ9YSx0aGlzLmludGVybmFsRm9ybWF0PW51bGwsdGhpcy50eXBlPXMsdGhpcy5vZmZzZXQ9bmV3IEduKDAsMCksdGhpcy5yZXBlYXQ9bmV3IEduKDEsMSksdGhpcy5jZW50ZXI9bmV3IEduKDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMCx0aGlzLm1hdHJpeD1uZXcgSG4sdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITAsdGhpcy5wcmVtdWx0aXBseUFscGhhPSExLHRoaXMuZmxpcFk9ITAsdGhpcy51bnBhY2tBbGlnbm1lbnQ9NCx0aGlzLmVuY29kaW5nPWwsdGhpcy52ZXJzaW9uPTAsdGhpcy5vblVwZGF0ZT1udWxsfWZ1bmN0aW9uIFhuKHQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbWFnZUJpdG1hcCYmdCBpbnN0YW5jZW9mIEltYWdlQml0bWFwP1ZuLmdldERhdGFVUkwodCk6dC5kYXRhP3tkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQuZGF0YSksd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsdHlwZTp0LmRhdGEuY29uc3RydWN0b3IubmFtZX06KGNvbnNvbGUud2FybihcIlRIUkVFLlRleHR1cmU6IFVuYWJsZSB0byBzZXJpYWxpemUgVGV4dHVyZS5cIikse30pfVduLkRFRkFVTFRfSU1BR0U9dm9pZCAwLFduLkRFRkFVTFRfTUFQUElORz1pdCxXbi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEJuLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlduLGlzVGV4dHVyZTohMCx1cGRhdGVNYXRyaXg6ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeC5zZXRVdlRyYW5zZm9ybSh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55LHRoaXMucm90YXRpb24sdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZT10Lm5hbWUsdGhpcy5pbWFnZT10LmltYWdlLHRoaXMubWlwbWFwcz10Lm1pcG1hcHMuc2xpY2UoMCksdGhpcy5tYXBwaW5nPXQubWFwcGluZyx0aGlzLndyYXBTPXQud3JhcFMsdGhpcy53cmFwVD10LndyYXBULHRoaXMubWFnRmlsdGVyPXQubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPXQubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT10LmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9dC5mb3JtYXQsdGhpcy5pbnRlcm5hbEZvcm1hdD10LmludGVybmFsRm9ybWF0LHRoaXMudHlwZT10LnR5cGUsdGhpcy5vZmZzZXQuY29weSh0Lm9mZnNldCksdGhpcy5yZXBlYXQuY29weSh0LnJlcGVhdCksdGhpcy5jZW50ZXIuY29weSh0LmNlbnRlciksdGhpcy5yb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMubWF0cml4QXV0b1VwZGF0ZT10Lm1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXguY29weSh0Lm1hdHJpeCksdGhpcy5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy5wcmVtdWx0aXBseUFscGhhPXQucHJlbXVsdGlwbHlBbHBoYSx0aGlzLmZsaXBZPXQuZmxpcFksdGhpcy51bnBhY2tBbGlnbm1lbnQ9dC51bnBhY2tBbGlnbm1lbnQsdGhpcy5lbmNvZGluZz10LmVuY29kaW5nLHRoaXN9LHRvSlNPTjpmdW5jdGlvbih0KXtjb25zdCBlPXZvaWQgMD09PXR8fFwic3RyaW5nXCI9PXR5cGVvZiB0O2lmKCFlJiZ2b2lkIDAhPT10LnRleHR1cmVzW3RoaXMudXVpZF0pcmV0dXJuIHQudGV4dHVyZXNbdGhpcy51dWlkXTtjb25zdCBuPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTpcIlRleHR1cmVcIixnZW5lcmF0b3I6XCJUZXh0dXJlLnRvSlNPTlwifSx1dWlkOnRoaXMudXVpZCxuYW1lOnRoaXMubmFtZSxtYXBwaW5nOnRoaXMubWFwcGluZyxyZXBlYXQ6W3RoaXMucmVwZWF0LngsdGhpcy5yZXBlYXQueV0sb2Zmc2V0Olt0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnldLGNlbnRlcjpbdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55XSxyb3RhdGlvbjp0aGlzLnJvdGF0aW9uLHdyYXA6W3RoaXMud3JhcFMsdGhpcy53cmFwVF0sZm9ybWF0OnRoaXMuZm9ybWF0LHR5cGU6dGhpcy50eXBlLGVuY29kaW5nOnRoaXMuZW5jb2RpbmcsbWluRmlsdGVyOnRoaXMubWluRmlsdGVyLG1hZ0ZpbHRlcjp0aGlzLm1hZ0ZpbHRlcixhbmlzb3Ryb3B5OnRoaXMuYW5pc290cm9weSxmbGlwWTp0aGlzLmZsaXBZLHByZW11bHRpcGx5QWxwaGE6dGhpcy5wcmVtdWx0aXBseUFscGhhLHVucGFja0FsaWdubWVudDp0aGlzLnVucGFja0FsaWdubWVudH07aWYodm9pZCAwIT09dGhpcy5pbWFnZSl7Y29uc3Qgcj10aGlzLmltYWdlO2lmKHZvaWQgMD09PXIudXVpZCYmKHIudXVpZD16bi5nZW5lcmF0ZVVVSUQoKSksIWUmJnZvaWQgMD09PXQuaW1hZ2VzW3IudXVpZF0pe2xldCBlO2lmKEFycmF5LmlzQXJyYXkocikpe2U9W107Zm9yKGxldCB0PTAsbj1yLmxlbmd0aDt0PG47dCsrKXJbdF0uaXNEYXRhVGV4dHVyZT9lLnB1c2goWG4oclt0XS5pbWFnZSkpOmUucHVzaChYbihyW3RdKSl9ZWxzZSBlPVhuKHIpO3QuaW1hZ2VzW3IudXVpZF09e3V1aWQ6ci51dWlkLHVybDplfX1uLmltYWdlPXIudXVpZH1yZXR1cm4gZXx8KHQudGV4dHVyZXNbdGhpcy51dWlkXT1uKSxufSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9LHRyYW5zZm9ybVV2OmZ1bmN0aW9uKHQpe2lmKHRoaXMubWFwcGluZyE9PWl0KXJldHVybiB0O2lmKHQuYXBwbHlNYXRyaXgzKHRoaXMubWF0cml4KSx0Lng8MHx8dC54PjEpc3dpdGNoKHRoaXMud3JhcFMpe2Nhc2UgaHQ6dC54PXQueC1NYXRoLmZsb29yKHQueCk7YnJlYWs7Y2FzZSBkdDp0Lng9dC54PDA/MDoxO2JyZWFrO2Nhc2UgcHQ6MT09PU1hdGguYWJzKE1hdGguZmxvb3IodC54KSUyKT90Lng9TWF0aC5jZWlsKHQueCktdC54OnQueD10LngtTWF0aC5mbG9vcih0LngpfWlmKHQueTwwfHx0Lnk+MSlzd2l0Y2godGhpcy53cmFwVCl7Y2FzZSBodDp0Lnk9dC55LU1hdGguZmxvb3IodC55KTticmVhaztjYXNlIGR0OnQueT10Lnk8MD8wOjE7YnJlYWs7Y2FzZSBwdDoxPT09TWF0aC5hYnMoTWF0aC5mbG9vcih0LnkpJTIpP3QueT1NYXRoLmNlaWwodC55KS10Lnk6dC55PXQueS1NYXRoLmZsb29yKHQueSl9cmV0dXJuIHRoaXMuZmxpcFkmJih0Lnk9MS10LnkpLHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFduLnByb3RvdHlwZSxcIm5lZWRzVXBkYXRlXCIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pO2NsYXNzIHFue2NvbnN0cnVjdG9yKHQ9MCxlPTAsbj0wLHI9MSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc1ZlY3RvcjRcIix7dmFsdWU6ITB9KSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bix0aGlzLnc9cn1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy56fXNldCB3aWR0aCh0KXt0aGlzLno9dH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMud31zZXQgaGVpZ2h0KHQpe3RoaXMudz10fXNldCh0LGUsbixyKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PW4sdGhpcy53PXIsdGhpc31zZXRTY2FsYXIodCl7cmV0dXJuIHRoaXMueD10LHRoaXMueT10LHRoaXMuej10LHRoaXMudz10LHRoaXN9c2V0WCh0KXtyZXR1cm4gdGhpcy54PXQsdGhpc31zZXRZKHQpe3JldHVybiB0aGlzLnk9dCx0aGlzfXNldFoodCl7cmV0dXJuIHRoaXMuej10LHRoaXN9c2V0Vyh0KXtyZXR1cm4gdGhpcy53PXQsdGhpc31zZXRDb21wb25lbnQodCxlKXtzd2l0Y2godCl7Y2FzZSAwOnRoaXMueD1lO2JyZWFrO2Nhc2UgMTp0aGlzLnk9ZTticmVhaztjYXNlIDI6dGhpcy56PWU7YnJlYWs7Y2FzZSAzOnRoaXMudz1lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIit0KX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2Nhc2UgMzpyZXR1cm4gdGhpcy53O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIit0KX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzLnc9dm9pZCAwIT09dC53P3QudzoxLHRoaXN9YWRkKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjQ6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5hZGRWZWN0b3JzKHQsZSkpOih0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzLnorPXQueix0aGlzLncrPXQudyx0aGlzKX1hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpcy56Kz10LHRoaXMudys9dCx0aGlzfWFkZFZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpcy53PXQudytlLncsdGhpc31hZGRTY2FsZWRWZWN0b3IodCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXMueis9dC56KmUsdGhpcy53Kz10LncqZSx0aGlzfXN1Yih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3I0OiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuc3ViVmVjdG9ycyh0LGUpKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcy56LT10LnosdGhpcy53LT10LncsdGhpcyl9c3ViU2NhbGFyKHQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT10LHRoaXMuei09dCx0aGlzLnctPXQsdGhpc31zdWJWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXMuej10LnotZS56LHRoaXMudz10LnctZS53LHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpcy56Kj10LHRoaXMudyo9dCx0aGlzfWFwcGx5TWF0cml4NCh0KXtjb25zdCBlPXRoaXMueCxuPXRoaXMueSxyPXRoaXMueixpPXRoaXMudyxvPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1vWzBdKmUrb1s0XSpuK29bOF0qcitvWzEyXSppLHRoaXMueT1vWzFdKmUrb1s1XSpuK29bOV0qcitvWzEzXSppLHRoaXMuej1vWzJdKmUrb1s2XSpuK29bMTBdKnIrb1sxNF0qaSx0aGlzLnc9b1szXSplK29bN10qbitvWzExXSpyK29bMTVdKmksdGhpc31kaXZpZGVTY2FsYXIodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS90KX1zZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbih0KXt0aGlzLnc9MipNYXRoLmFjb3ModC53KTtjb25zdCBlPU1hdGguc3FydCgxLXQudyp0LncpO3JldHVybiBlPDFlLTQ/KHRoaXMueD0xLHRoaXMueT0wLHRoaXMuej0wKToodGhpcy54PXQueC9lLHRoaXMueT10LnkvZSx0aGlzLno9dC56L2UpLHRoaXN9c2V0QXhpc0FuZ2xlRnJvbVJvdGF0aW9uTWF0cml4KHQpe2xldCBlLG4scixpO2NvbnN0IG89dC5lbGVtZW50cyxhPW9bMF0scz1vWzRdLGM9b1s4XSxsPW9bMV0sdT1vWzVdLGg9b1s5XSxkPW9bMl0scD1vWzZdLGY9b1sxMF07aWYoTWF0aC5hYnMocy1sKTwuMDEmJk1hdGguYWJzKGMtZCk8LjAxJiZNYXRoLmFicyhoLXApPC4wMSl7aWYoTWF0aC5hYnMocytsKTwuMSYmTWF0aC5hYnMoYytkKTwuMSYmTWF0aC5hYnMoaCtwKTwuMSYmTWF0aC5hYnMoYSt1K2YtMyk8LjEpcmV0dXJuIHRoaXMuc2V0KDEsMCwwLDApLHRoaXM7ZT1NYXRoLlBJO2NvbnN0IHQ9KGErMSkvMixvPSh1KzEpLzIsbT0oZisxKS8yLGc9KHMrbCkvNCx2PShjK2QpLzQseT0oaCtwKS80O3JldHVybiB0Pm8mJnQ+bT90PC4wMT8obj0wLHI9LjcwNzEwNjc4MSxpPS43MDcxMDY3ODEpOihuPU1hdGguc3FydCh0KSxyPWcvbixpPXYvbik6bz5tP288LjAxPyhuPS43MDcxMDY3ODEscj0wLGk9LjcwNzEwNjc4MSk6KHI9TWF0aC5zcXJ0KG8pLG49Zy9yLGk9eS9yKTptPC4wMT8obj0uNzA3MTA2NzgxLHI9LjcwNzEwNjc4MSxpPTApOihpPU1hdGguc3FydChtKSxuPXYvaSxyPXkvaSksdGhpcy5zZXQobixyLGksZSksdGhpc31sZXQgbT1NYXRoLnNxcnQoKHAtaCkqKHAtaCkrKGMtZCkqKGMtZCkrKGwtcykqKGwtcykpO3JldHVybiBNYXRoLmFicyhtKTwuMDAxJiYobT0xKSx0aGlzLng9KHAtaCkvbSx0aGlzLnk9KGMtZCkvbSx0aGlzLno9KGwtcykvbSx0aGlzLnc9TWF0aC5hY29zKChhK3UrZi0xKS8yKSx0aGlzfW1pbih0KXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksdC55KSx0aGlzLno9TWF0aC5taW4odGhpcy56LHQueiksdGhpcy53PU1hdGgubWluKHRoaXMudyx0LncpLHRoaXN9bWF4KHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LHQueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosdC56KSx0aGlzLnc9TWF0aC5tYXgodGhpcy53LHQudyksdGhpc31jbGFtcCh0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGUueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGUueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodC56LE1hdGgubWluKGUueix0aGlzLnopKSx0aGlzLnc9TWF0aC5tYXgodC53LE1hdGgubWluKGUudyx0aGlzLncpKSx0aGlzfWNsYW1wU2NhbGFyKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueikpLHRoaXMudz1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy53KSksdGhpc31jbGFtcExlbmd0aCh0LGUpe2NvbnN0IG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgodCxNYXRoLm1pbihlLG4pKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej1NYXRoLmZsb29yKHRoaXMueiksdGhpcy53PU1hdGguZmxvb3IodGhpcy53KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpcy53PU1hdGguY2VpbCh0aGlzLncpLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpcy53PU1hdGgucm91bmQodGhpcy53KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9dGhpcy56PDA/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopLHRoaXMudz10aGlzLnc8MD9NYXRoLmNlaWwodGhpcy53KTpNYXRoLmZsb29yKHRoaXMudyksdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpcy56PS10aGlzLnosdGhpcy53PS10aGlzLncsdGhpc31kb3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56K3RoaXMudyp0Lnd9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KStNYXRoLmFicyh0aGlzLncpfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1zZXRMZW5ndGgodCl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodCl9bGVycCh0LGUpe3JldHVybiB0aGlzLngrPSh0LngtdGhpcy54KSplLHRoaXMueSs9KHQueS10aGlzLnkpKmUsdGhpcy56Kz0odC56LXRoaXMueikqZSx0aGlzLncrPSh0LnctdGhpcy53KSplLHRoaXN9bGVycFZlY3RvcnModCxlLG4pe3JldHVybiB0aGlzLng9dC54KyhlLngtdC54KSpuLHRoaXMueT10LnkrKGUueS10LnkpKm4sdGhpcy56PXQueisoZS56LXQueikqbix0aGlzLnc9dC53KyhlLnctdC53KSpuLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Lng9PT10aGlzLngmJnQueT09PXRoaXMueSYmdC56PT09dGhpcy56JiZ0Lnc9PT10aGlzLnd9ZnJvbUFycmF5KHQsZT0wKXtyZXR1cm4gdGhpcy54PXRbZV0sdGhpcy55PXRbZSsxXSx0aGlzLno9dFtlKzJdLHRoaXMudz10W2UrM10sdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLngsdFtlKzFdPXRoaXMueSx0W2UrMl09dGhpcy56LHRbZSszXT10aGlzLncsdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSxuKXtyZXR1cm4gdm9pZCAwIT09biYmY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yNDogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLlwiKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpcy56PXQuZ2V0WihlKSx0aGlzLnc9dC5nZXRXKGUpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXMudz1NYXRoLnJhbmRvbSgpLHRoaXN9fWZ1bmN0aW9uIFluKHQsZSxuKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnNjaXNzb3I9bmV3IHFuKDAsMCx0LGUpLHRoaXMuc2Npc3NvclRlc3Q9ITEsdGhpcy52aWV3cG9ydD1uZXcgcW4oMCwwLHQsZSksbj1ufHx7fSx0aGlzLnRleHR1cmU9bmV3IFduKHZvaWQgMCxuLm1hcHBpbmcsbi53cmFwUyxuLndyYXBULG4ubWFnRmlsdGVyLG4ubWluRmlsdGVyLG4uZm9ybWF0LG4udHlwZSxuLmFuaXNvdHJvcHksbi5lbmNvZGluZyksdGhpcy50ZXh0dXJlLmltYWdlPXt9LHRoaXMudGV4dHVyZS5pbWFnZS53aWR0aD10LHRoaXMudGV4dHVyZS5pbWFnZS5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXZvaWQgMCE9PW4uZ2VuZXJhdGVNaXBtYXBzJiZuLmdlbmVyYXRlTWlwbWFwcyx0aGlzLnRleHR1cmUubWluRmlsdGVyPXZvaWQgMCE9PW4ubWluRmlsdGVyP24ubWluRmlsdGVyOnh0LHRoaXMuZGVwdGhCdWZmZXI9dm9pZCAwPT09bi5kZXB0aEJ1ZmZlcnx8bi5kZXB0aEJ1ZmZlcix0aGlzLnN0ZW5jaWxCdWZmZXI9dm9pZCAwIT09bi5zdGVuY2lsQnVmZmVyJiZuLnN0ZW5jaWxCdWZmZXIsdGhpcy5kZXB0aFRleHR1cmU9dm9pZCAwIT09bi5kZXB0aFRleHR1cmU/bi5kZXB0aFRleHR1cmU6bnVsbH1mdW5jdGlvbiBabih0LGUsbil7WW4uY2FsbCh0aGlzLHQsZSxuKSx0aGlzLnNhbXBsZXM9NH1Zbi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEJuLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlluLGlzV2ViR0xSZW5kZXJUYXJnZXQ6ITAsc2V0U2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMud2lkdGg9PT10JiZ0aGlzLmhlaWdodD09PWV8fCh0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUuaW1hZ2Uud2lkdGg9dCx0aGlzLnRleHR1cmUuaW1hZ2UuaGVpZ2h0PWUsdGhpcy5kaXNwb3NlKCkpLHRoaXMudmlld3BvcnQuc2V0KDAsMCx0LGUpLHRoaXMuc2Npc3Nvci5zZXQoMCwwLHQsZSl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy52aWV3cG9ydC5jb3B5KHQudmlld3BvcnQpLHRoaXMudGV4dHVyZT10LnRleHR1cmUuY2xvbmUoKSx0aGlzLmRlcHRoQnVmZmVyPXQuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPXQuc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT10LmRlcHRoVGV4dHVyZSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fSksWm4ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShZbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjpabixpc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gWW4ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuc2FtcGxlcz10LnNhbXBsZXMsdGhpc319KTtjbGFzcyBKbntjb25zdHJ1Y3Rvcih0PTAsZT0wLG49MCxyPTEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNRdWF0ZXJuaW9uXCIse3ZhbHVlOiEwfSksdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fdz1yfXN0YXRpYyBzbGVycCh0LGUsbixyKXtyZXR1cm4gbi5jb3B5KHQpLnNsZXJwKGUscil9c3RhdGljIHNsZXJwRmxhdCh0LGUsbixyLGksbyxhKXtsZXQgcz1uW3IrMF0sYz1uW3IrMV0sbD1uW3IrMl0sdT1uW3IrM107Y29uc3QgaD1pW28rMF0sZD1pW28rMV0scD1pW28rMl0sZj1pW28rM107aWYodSE9PWZ8fHMhPT1ofHxjIT09ZHx8bCE9PXApe2xldCB0PTEtYTtjb25zdCBlPXMqaCtjKmQrbCpwK3UqZixuPWU+PTA/MTotMSxyPTEtZSplO2lmKHI+TnVtYmVyLkVQU0lMT04pe2NvbnN0IGk9TWF0aC5zcXJ0KHIpLG89TWF0aC5hdGFuMihpLGUqbik7dD1NYXRoLnNpbih0Km8pL2ksYT1NYXRoLnNpbihhKm8pL2l9Y29uc3QgaT1hKm47aWYocz1zKnQraCppLGM9Yyp0K2QqaSxsPWwqdCtwKmksdT11KnQrZippLHQ9PT0xLWEpe2NvbnN0IHQ9MS9NYXRoLnNxcnQocypzK2MqYytsKmwrdSp1KTtzKj10LGMqPXQsbCo9dCx1Kj10fX10W2VdPXMsdFtlKzFdPWMsdFtlKzJdPWwsdFtlKzNdPXV9c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KHQsZSxuLHIsaSxvKXtjb25zdCBhPW5bcl0scz1uW3IrMV0sYz1uW3IrMl0sbD1uW3IrM10sdT1pW29dLGg9aVtvKzFdLGQ9aVtvKzJdLHA9aVtvKzNdO3JldHVybiB0W2VdPWEqcCtsKnUrcypkLWMqaCx0W2UrMV09cypwK2wqaCtjKnUtYSpkLHRbZSsyXT1jKnArbCpkK2EqaC1zKnUsdFtlKzNdPWwqcC1hKnUtcypoLWMqZCx0fWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgodCl7dGhpcy5feD10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeih0KXt0aGlzLl96PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcodCl7dGhpcy5fdz10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQodCxlLG4scil7cmV0dXJuIHRoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5fej1uLHRoaXMuX3c9cix0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5KHQpe3JldHVybiB0aGlzLl94PXQueCx0aGlzLl95PXQueSx0aGlzLl96PXQueix0aGlzLl93PXQudyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tRXVsZXIodCxlKXtpZighdHx8IXQuaXNFdWxlcil0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci5cIik7Y29uc3Qgbj10Ll94LHI9dC5feSxpPXQuX3osbz10Ll9vcmRlcixhPU1hdGguY29zLHM9TWF0aC5zaW4sYz1hKG4vMiksbD1hKHIvMiksdT1hKGkvMiksaD1zKG4vMiksZD1zKHIvMikscD1zKGkvMik7c3dpdGNoKG8pe2Nhc2VcIlhZWlwiOnRoaXMuX3g9aCpsKnUrYypkKnAsdGhpcy5feT1jKmQqdS1oKmwqcCx0aGlzLl96PWMqbCpwK2gqZCp1LHRoaXMuX3c9YypsKnUtaCpkKnA7YnJlYWs7Y2FzZVwiWVhaXCI6dGhpcy5feD1oKmwqdStjKmQqcCx0aGlzLl95PWMqZCp1LWgqbCpwLHRoaXMuX3o9YypsKnAtaCpkKnUsdGhpcy5fdz1jKmwqdStoKmQqcDticmVhaztjYXNlXCJaWFlcIjp0aGlzLl94PWgqbCp1LWMqZCpwLHRoaXMuX3k9YypkKnUraCpsKnAsdGhpcy5fej1jKmwqcCtoKmQqdSx0aGlzLl93PWMqbCp1LWgqZCpwO2JyZWFrO2Nhc2VcIlpZWFwiOnRoaXMuX3g9aCpsKnUtYypkKnAsdGhpcy5feT1jKmQqdStoKmwqcCx0aGlzLl96PWMqbCpwLWgqZCp1LHRoaXMuX3c9YypsKnUraCpkKnA7YnJlYWs7Y2FzZVwiWVpYXCI6dGhpcy5feD1oKmwqdStjKmQqcCx0aGlzLl95PWMqZCp1K2gqbCpwLHRoaXMuX3o9YypsKnAtaCpkKnUsdGhpcy5fdz1jKmwqdS1oKmQqcDticmVhaztjYXNlXCJYWllcIjp0aGlzLl94PWgqbCp1LWMqZCpwLHRoaXMuX3k9YypkKnUtaCpsKnAsdGhpcy5fej1jKmwqcCtoKmQqdSx0aGlzLl93PWMqbCp1K2gqZCpwO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6IFwiK28pfXJldHVybiExIT09ZSYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbUF4aXNBbmdsZSh0LGUpe2NvbnN0IG49ZS8yLHI9TWF0aC5zaW4obik7cmV0dXJuIHRoaXMuX3g9dC54KnIsdGhpcy5feT10Lnkqcix0aGlzLl96PXQueipyLHRoaXMuX3c9TWF0aC5jb3MobiksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVJvdGF0aW9uTWF0cml4KHQpe2NvbnN0IGU9dC5lbGVtZW50cyxuPWVbMF0scj1lWzRdLGk9ZVs4XSxvPWVbMV0sYT1lWzVdLHM9ZVs5XSxjPWVbMl0sbD1lWzZdLHU9ZVsxMF0saD1uK2ErdTtpZihoPjApe2NvbnN0IHQ9LjUvTWF0aC5zcXJ0KGgrMSk7dGhpcy5fdz0uMjUvdCx0aGlzLl94PShsLXMpKnQsdGhpcy5feT0oaS1jKSp0LHRoaXMuX3o9KG8tcikqdH1lbHNlIGlmKG4+YSYmbj51KXtjb25zdCB0PTIqTWF0aC5zcXJ0KDErbi1hLXUpO3RoaXMuX3c9KGwtcykvdCx0aGlzLl94PS4yNSp0LHRoaXMuX3k9KHIrbykvdCx0aGlzLl96PShpK2MpL3R9ZWxzZSBpZihhPnUpe2NvbnN0IHQ9MipNYXRoLnNxcnQoMSthLW4tdSk7dGhpcy5fdz0oaS1jKS90LHRoaXMuX3g9KHIrbykvdCx0aGlzLl95PS4yNSp0LHRoaXMuX3o9KHMrbCkvdH1lbHNle2NvbnN0IHQ9MipNYXRoLnNxcnQoMSt1LW4tYSk7dGhpcy5fdz0oby1yKS90LHRoaXMuX3g9KGkrYykvdCx0aGlzLl95PShzK2wpL3QsdGhpcy5fej0uMjUqdH1yZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVVuaXRWZWN0b3JzKHQsZSl7bGV0IG49dC5kb3QoZSkrMTtyZXR1cm4gbjwxZS02PyhuPTAsTWF0aC5hYnModC54KT5NYXRoLmFicyh0LnopPyh0aGlzLl94PS10LnksdGhpcy5feT10LngsdGhpcy5fej0wLHRoaXMuX3c9bik6KHRoaXMuX3g9MCx0aGlzLl95PS10LnosdGhpcy5fej10LnksdGhpcy5fdz1uKSk6KHRoaXMuX3g9dC55KmUuei10LnoqZS55LHRoaXMuX3k9dC56KmUueC10LngqZS56LHRoaXMuX3o9dC54KmUueS10LnkqZS54LHRoaXMuX3c9biksdGhpcy5ub3JtYWxpemUoKX1hbmdsZVRvKHQpe3JldHVybiAyKk1hdGguYWNvcyhNYXRoLmFicyh6bi5jbGFtcCh0aGlzLmRvdCh0KSwtMSwxKSkpfXJvdGF0ZVRvd2FyZHModCxlKXtjb25zdCBuPXRoaXMuYW5nbGVUbyh0KTtpZigwPT09bilyZXR1cm4gdGhpcztjb25zdCByPU1hdGgubWluKDEsZS9uKTtyZXR1cm4gdGhpcy5zbGVycCh0LHIpLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMSl9aW52ZXJ0KCl7cmV0dXJuIHRoaXMuY29uanVnYXRlKCl9Y29uanVnYXRlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWRvdCh0KXtyZXR1cm4gdGhpcy5feCp0Ll94K3RoaXMuX3kqdC5feSt0aGlzLl96KnQuX3ordGhpcy5fdyp0Ll93fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fdyl9bm9ybWFsaXplKCl7bGV0IHQ9dGhpcy5sZW5ndGgoKTtyZXR1cm4gMD09PXQ/KHRoaXMuX3g9MCx0aGlzLl95PTAsdGhpcy5fej0wLHRoaXMuX3c9MSk6KHQ9MS90LHRoaXMuX3g9dGhpcy5feCp0LHRoaXMuX3k9dGhpcy5feSp0LHRoaXMuX3o9dGhpcy5feip0LHRoaXMuX3c9dGhpcy5fdyp0KSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31tdWx0aXBseSh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHQsZSkpOnRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLHQpfXByZW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModCx0aGlzKX1tdWx0aXBseVF1YXRlcm5pb25zKHQsZSl7Y29uc3Qgbj10Ll94LHI9dC5feSxpPXQuX3osbz10Ll93LGE9ZS5feCxzPWUuX3ksYz1lLl96LGw9ZS5fdztyZXR1cm4gdGhpcy5feD1uKmwrbyphK3IqYy1pKnMsdGhpcy5feT1yKmwrbypzK2kqYS1uKmMsdGhpcy5fej1pKmwrbypjK24qcy1yKmEsdGhpcy5fdz1vKmwtbiphLXIqcy1pKmMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2xlcnAodCxlKXtpZigwPT09ZSlyZXR1cm4gdGhpcztpZigxPT09ZSlyZXR1cm4gdGhpcy5jb3B5KHQpO2NvbnN0IG49dGhpcy5feCxyPXRoaXMuX3ksaT10aGlzLl96LG89dGhpcy5fdztsZXQgYT1vKnQuX3crbip0Ll94K3IqdC5feStpKnQuX3o7aWYoYTwwPyh0aGlzLl93PS10Ll93LHRoaXMuX3g9LXQuX3gsdGhpcy5feT0tdC5feSx0aGlzLl96PS10Ll96LGE9LWEpOnRoaXMuY29weSh0KSxhPj0xKXJldHVybiB0aGlzLl93PW8sdGhpcy5feD1uLHRoaXMuX3k9cix0aGlzLl96PWksdGhpcztjb25zdCBzPTEtYSphO2lmKHM8PU51bWJlci5FUFNJTE9OKXtjb25zdCB0PTEtZTtyZXR1cm4gdGhpcy5fdz10Km8rZSp0aGlzLl93LHRoaXMuX3g9dCpuK2UqdGhpcy5feCx0aGlzLl95PXQqcitlKnRoaXMuX3ksdGhpcy5fej10KmkrZSp0aGlzLl96LHRoaXMubm9ybWFsaXplKCksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y29uc3QgYz1NYXRoLnNxcnQocyksbD1NYXRoLmF0YW4yKGMsYSksdT1NYXRoLnNpbigoMS1lKSpsKS9jLGg9TWF0aC5zaW4oZSpsKS9jO3JldHVybiB0aGlzLl93PW8qdSt0aGlzLl93KmgsdGhpcy5feD1uKnUrdGhpcy5feCpoLHRoaXMuX3k9cip1K3RoaXMuX3kqaCx0aGlzLl96PWkqdSt0aGlzLl96KmgsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Ll94PT09dGhpcy5feCYmdC5feT09PXRoaXMuX3kmJnQuX3o9PT10aGlzLl96JiZ0Ll93PT09dGhpcy5fd31mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLl94PXRbZV0sdGhpcy5feT10W2UrMV0sdGhpcy5fej10W2UrMl0sdGhpcy5fdz10W2UrM10sdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dG9BcnJheSh0PVtdLGU9MCl7cmV0dXJuIHRbZV09dGhpcy5feCx0W2UrMV09dGhpcy5feSx0W2UrMl09dGhpcy5feix0W2UrM109dGhpcy5fdyx0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxlKXtyZXR1cm4gdGhpcy5feD10LmdldFgoZSksdGhpcy5feT10LmdldFkoZSksdGhpcy5fej10LmdldFooZSksdGhpcy5fdz10LmdldFcoZSksdGhpc31fb25DaGFuZ2UodCl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9dCx0aGlzfV9vbkNoYW5nZUNhbGxiYWNrKCl7fX1jbGFzcyBLbntjb25zdHJ1Y3Rvcih0PTAsZT0wLG49MCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc1ZlY3RvcjNcIix7dmFsdWU6ITB9KSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bn1zZXQodCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLnopLHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1uLHRoaXN9c2V0U2NhbGFyKHQpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9dCx0aGlzLno9dCx0aGlzfXNldFgodCl7cmV0dXJuIHRoaXMueD10LHRoaXN9c2V0WSh0KXtyZXR1cm4gdGhpcy55PXQsdGhpc31zZXRaKHQpe3JldHVybiB0aGlzLno9dCx0aGlzfXNldENvbXBvbmVudCh0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy54PWU7YnJlYWs7Y2FzZSAxOnRoaXMueT1lO2JyZWFrO2Nhc2UgMjp0aGlzLno9ZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrdCl9cmV0dXJuIHRoaXN9Z2V0Q29tcG9uZW50KHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrdCl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzfWFkZCh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuYWRkVmVjdG9ycyh0LGUpKToodGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcy56Kz10LnosdGhpcyl9YWRkU2NhbGFyKHQpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz10LHRoaXMueis9dCx0aGlzfWFkZFZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpc31hZGRTY2FsZWRWZWN0b3IodCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXMueis9dC56KmUsdGhpc31zdWIodCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLnN1YlZlY3RvcnModCxlKSk6KHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXMuei09dC56LHRoaXMpfXN1YlNjYWxhcih0KXtyZXR1cm4gdGhpcy54LT10LHRoaXMueS09dCx0aGlzLnotPXQsdGhpc31zdWJWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXMuej10LnotZS56LHRoaXN9bXVsdGlwbHkodCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseVZlY3RvcnModCxlKSk6KHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXMueio9dC56LHRoaXMpfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzfW11bHRpcGx5VmVjdG9ycyh0LGUpe3JldHVybiB0aGlzLng9dC54KmUueCx0aGlzLnk9dC55KmUueSx0aGlzLno9dC56KmUueix0aGlzfWFwcGx5RXVsZXIodCl7cmV0dXJuIHQmJnQuaXNFdWxlcnx8Y29uc29sZS5lcnJvcihcIlRIUkVFLlZlY3RvcjM6IC5hcHBseUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci5cIiksdGhpcy5hcHBseVF1YXRlcm5pb24oJG4uc2V0RnJvbUV1bGVyKHQpKX1hcHBseUF4aXNBbmdsZSh0LGUpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbigkbi5zZXRGcm9tQXhpc0FuZ2xlKHQsZSkpfWFwcGx5TWF0cml4Myh0KXtjb25zdCBlPXRoaXMueCxuPXRoaXMueSxyPXRoaXMueixpPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1pWzBdKmUraVszXSpuK2lbNl0qcix0aGlzLnk9aVsxXSplK2lbNF0qbitpWzddKnIsdGhpcy56PWlbMl0qZStpWzVdKm4raVs4XSpyLHRoaXN9YXBwbHlOb3JtYWxNYXRyaXgodCl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKHQpLm5vcm1hbGl6ZSgpfWFwcGx5TWF0cml4NCh0KXtjb25zdCBlPXRoaXMueCxuPXRoaXMueSxyPXRoaXMueixpPXQuZWxlbWVudHMsbz0xLyhpWzNdKmUraVs3XSpuK2lbMTFdKnIraVsxNV0pO3JldHVybiB0aGlzLng9KGlbMF0qZStpWzRdKm4raVs4XSpyK2lbMTJdKSpvLHRoaXMueT0oaVsxXSplK2lbNV0qbitpWzldKnIraVsxM10pKm8sdGhpcy56PShpWzJdKmUraVs2XSpuK2lbMTBdKnIraVsxNF0pKm8sdGhpc31hcHBseVF1YXRlcm5pb24odCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnkscj10aGlzLnosaT10Lngsbz10LnksYT10Lnoscz10LncsYz1zKmUrbypyLWEqbixsPXMqbithKmUtaSpyLHU9cypyK2kqbi1vKmUsaD0taSplLW8qbi1hKnI7cmV0dXJuIHRoaXMueD1jKnMraCotaStsKi1hLXUqLW8sdGhpcy55PWwqcytoKi1vK3UqLWktYyotYSx0aGlzLno9dSpzK2gqLWErYyotby1sKi1pLHRoaXN9cHJvamVjdCh0KXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZEludmVyc2UpLmFwcGx5TWF0cml4NCh0LnByb2plY3Rpb25NYXRyaXgpfXVucHJvamVjdCh0KXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQodC5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpfXRyYW5zZm9ybURpcmVjdGlvbih0KXtjb25zdCBlPXRoaXMueCxuPXRoaXMueSxyPXRoaXMueixpPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1pWzBdKmUraVs0XSpuK2lbOF0qcix0aGlzLnk9aVsxXSplK2lbNV0qbitpWzldKnIsdGhpcy56PWlbMl0qZStpWzZdKm4raVsxMF0qcix0aGlzLm5vcm1hbGl6ZSgpfWRpdmlkZSh0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpcy56Lz10LnosdGhpc31kaXZpZGVTY2FsYXIodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS90KX1taW4odCl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQueSksdGhpcy56PU1hdGgubWluKHRoaXMueix0LnopLHRoaXN9bWF4KHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LHQueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosdC56KSx0aGlzfWNsYW1wKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LngsTWF0aC5taW4oZS54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LnksTWF0aC5taW4oZS55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heCh0LnosTWF0aC5taW4oZS56LHRoaXMueikpLHRoaXN9Y2xhbXBTY2FsYXIodCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueSkpLHRoaXMuej1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy56KSksdGhpc31jbGFtcExlbmd0aCh0LGUpe2NvbnN0IG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgodCxNYXRoLm1pbihlLG4pKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej1NYXRoLmZsb29yKHRoaXMueiksdGhpc31jZWlsKCl7cmV0dXJuIHRoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpcy56PU1hdGguY2VpbCh0aGlzLnopLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpc31yb3VuZFRvWmVybygpe3JldHVybiB0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSksdGhpcy56PXRoaXMuejwwP01hdGguY2VpbCh0aGlzLnopOk1hdGguZmxvb3IodGhpcy56KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzfWRvdCh0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55K3RoaXMueip0Lnp9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnp9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1zZXRMZW5ndGgodCl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodCl9bGVycCh0LGUpe3JldHVybiB0aGlzLngrPSh0LngtdGhpcy54KSplLHRoaXMueSs9KHQueS10aGlzLnkpKmUsdGhpcy56Kz0odC56LXRoaXMueikqZSx0aGlzfWxlcnBWZWN0b3JzKHQsZSxuKXtyZXR1cm4gdGhpcy54PXQueCsoZS54LXQueCkqbix0aGlzLnk9dC55KyhlLnktdC55KSpuLHRoaXMuej10LnorKGUuei10LnopKm4sdGhpc31jcm9zcyh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmNyb3NzVmVjdG9ycyh0LGUpKTp0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLHQpfWNyb3NzVmVjdG9ycyh0LGUpe2NvbnN0IG49dC54LHI9dC55LGk9dC56LG89ZS54LGE9ZS55LHM9ZS56O3JldHVybiB0aGlzLng9cipzLWkqYSx0aGlzLnk9aSpvLW4qcyx0aGlzLno9biphLXIqbyx0aGlzfXByb2plY3RPblZlY3Rvcih0KXtjb25zdCBlPXQubGVuZ3RoU3EoKTtpZigwPT09ZSlyZXR1cm4gdGhpcy5zZXQoMCwwLDApO2NvbnN0IG49dC5kb3QodGhpcykvZTtyZXR1cm4gdGhpcy5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKG4pfXByb2plY3RPblBsYW5lKHQpe3JldHVybiBRbi5jb3B5KHRoaXMpLnByb2plY3RPblZlY3Rvcih0KSx0aGlzLnN1YihRbil9cmVmbGVjdCh0KXtyZXR1cm4gdGhpcy5zdWIoUW4uY29weSh0KS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KHQpKSl9YW5nbGVUbyh0KXtjb25zdCBlPU1hdGguc3FydCh0aGlzLmxlbmd0aFNxKCkqdC5sZW5ndGhTcSgpKTtpZigwPT09ZSlyZXR1cm4gTWF0aC5QSS8yO2NvbnN0IG49dGhpcy5kb3QodCkvZTtyZXR1cm4gTWF0aC5hY29zKHpuLmNsYW1wKG4sLTEsMSkpfWRpc3RhbmNlVG8odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHQpKX1kaXN0YW5jZVRvU3F1YXJlZCh0KXtjb25zdCBlPXRoaXMueC10Lngsbj10aGlzLnktdC55LHI9dGhpcy56LXQuejtyZXR1cm4gZSplK24qbityKnJ9bWFuaGF0dGFuRGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5hYnModGhpcy54LXQueCkrTWF0aC5hYnModGhpcy55LXQueSkrTWF0aC5hYnModGhpcy56LXQueil9c2V0RnJvbVNwaGVyaWNhbCh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKHQucmFkaXVzLHQucGhpLHQudGhldGEpfXNldEZyb21TcGhlcmljYWxDb29yZHModCxlLG4pe2NvbnN0IHI9TWF0aC5zaW4oZSkqdDtyZXR1cm4gdGhpcy54PXIqTWF0aC5zaW4obiksdGhpcy55PU1hdGguY29zKGUpKnQsdGhpcy56PXIqTWF0aC5jb3MobiksdGhpc31zZXRGcm9tQ3lsaW5kcmljYWwodCl7cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKHQucmFkaXVzLHQudGhldGEsdC55KX1zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHModCxlLG4pe3JldHVybiB0aGlzLng9dCpNYXRoLnNpbihlKSx0aGlzLnk9bix0aGlzLno9dCpNYXRoLmNvcyhlKSx0aGlzfXNldEZyb21NYXRyaXhQb3NpdGlvbih0KXtjb25zdCBlPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1lWzEyXSx0aGlzLnk9ZVsxM10sdGhpcy56PWVbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeFNjYWxlKHQpe2NvbnN0IGU9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMCkubGVuZ3RoKCksbj10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCwxKS5sZW5ndGgoKSxyPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbih0LDIpLmxlbmd0aCgpO3JldHVybiB0aGlzLng9ZSx0aGlzLnk9bix0aGlzLno9cix0aGlzfXNldEZyb21NYXRyaXhDb2x1bW4odCxlKXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkodC5lbGVtZW50cyw0KmUpfXNldEZyb21NYXRyaXgzQ29sdW1uKHQsZSl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KHQuZWxlbWVudHMsMyplKX1lcXVhbHModCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55JiZ0Lno9PT10aGlzLnp9ZnJvbUFycmF5KHQsZT0wKXtyZXR1cm4gdGhpcy54PXRbZV0sdGhpcy55PXRbZSsxXSx0aGlzLno9dFtlKzJdLHRoaXN9dG9BcnJheSh0PVtdLGU9MCl7cmV0dXJuIHRbZV09dGhpcy54LHRbZSsxXT10aGlzLnksdFtlKzJdPXRoaXMueix0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuXCIpLHRoaXMueD10LmdldFgoZSksdGhpcy55PXQuZ2V0WShlKSx0aGlzLno9dC5nZXRaKGUpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXN9fWNvbnN0IFFuPW5ldyBLbiwkbj1uZXcgSm47Y2xhc3MgdHJ7Y29uc3RydWN0b3IodCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzQm94M1wiLHt2YWx1ZTohMH0pLHRoaXMubWluPXZvaWQgMCE9PXQ/dDpuZXcgS24oMS8wLDEvMCwxLzApLHRoaXMubWF4PXZvaWQgMCE9PWU/ZTpuZXcgS24oLTEvMCwtMS8wLC0xLzApfXNldCh0LGUpe3JldHVybiB0aGlzLm1pbi5jb3B5KHQpLHRoaXMubWF4LmNvcHkoZSksdGhpc31zZXRGcm9tQXJyYXkodCl7bGV0IGU9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxvPS0xLzAsYT0tMS8wO2ZvcihsZXQgcz0wLGM9dC5sZW5ndGg7czxjO3MrPTMpe2NvbnN0IGM9dFtzXSxsPXRbcysxXSx1PXRbcysyXTtjPGUmJihlPWMpLGw8biYmKG49bCksdTxyJiYocj11KSxjPmkmJihpPWMpLGw+byYmKG89bCksdT5hJiYoYT11KX1yZXR1cm4gdGhpcy5taW4uc2V0KGUsbixyKSx0aGlzLm1heC5zZXQoaSxvLGEpLHRoaXN9c2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSh0KXtsZXQgZT0xLzAsbj0xLzAscj0xLzAsaT0tMS8wLG89LTEvMCxhPS0xLzA7Zm9yKGxldCBzPTAsYz10LmNvdW50O3M8YztzKyspe2NvbnN0IGM9dC5nZXRYKHMpLGw9dC5nZXRZKHMpLHU9dC5nZXRaKHMpO2M8ZSYmKGU9YyksbDxuJiYobj1sKSx1PHImJihyPXUpLGM+aSYmKGk9YyksbD5vJiYobz1sKSx1PmEmJihhPXUpfXJldHVybiB0aGlzLm1pbi5zZXQoZSxuLHIpLHRoaXMubWF4LnNldChpLG8sYSksdGhpc31zZXRGcm9tUG9pbnRzKHQpe3RoaXMubWFrZUVtcHR5KCk7Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuZXhwYW5kQnlQb2ludCh0W2VdKTtyZXR1cm4gdGhpc31zZXRGcm9tQ2VudGVyQW5kU2l6ZSh0LGUpe2NvbnN0IG49cnIuY29weShlKS5tdWx0aXBseVNjYWxhciguNSk7cmV0dXJuIHRoaXMubWluLmNvcHkodCkuc3ViKG4pLHRoaXMubWF4LmNvcHkodCkuYWRkKG4pLHRoaXN9c2V0RnJvbU9iamVjdCh0KXtyZXR1cm4gdGhpcy5tYWtlRW1wdHkoKSx0aGlzLmV4cGFuZEJ5T2JqZWN0KHQpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMubWluLmNvcHkodC5taW4pLHRoaXMubWF4LmNvcHkodC5tYXgpLHRoaXN9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tMS8wLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fWdldENlbnRlcih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEtuKSx0aGlzLmlzRW1wdHkoKT90LnNldCgwLDAsMCk6dC5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhciguNSl9Z2V0U2l6ZSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBLbiksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwLDApOnQuc3ViVmVjdG9ycyh0aGlzLm1heCx0aGlzLm1pbil9ZXhwYW5kQnlQb2ludCh0KXtyZXR1cm4gdGhpcy5taW4ubWluKHQpLHRoaXMubWF4Lm1heCh0KSx0aGlzfWV4cGFuZEJ5VmVjdG9yKHQpe3JldHVybiB0aGlzLm1pbi5zdWIodCksdGhpcy5tYXguYWRkKHQpLHRoaXN9ZXhwYW5kQnlTY2FsYXIodCl7cmV0dXJuIHRoaXMubWluLmFkZFNjYWxhcigtdCksdGhpcy5tYXguYWRkU2NhbGFyKHQpLHRoaXN9ZXhwYW5kQnlPYmplY3QodCl7dC51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSk7Y29uc3QgZT10Lmdlb21ldHJ5O3ZvaWQgMCE9PWUmJihudWxsPT09ZS5ib3VuZGluZ0JveCYmZS5jb21wdXRlQm91bmRpbmdCb3goKSxpci5jb3B5KGUuYm91bmRpbmdCb3gpLGlyLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKSx0aGlzLnVuaW9uKGlyKSk7Y29uc3Qgbj10LmNoaWxkcmVuO2ZvcihsZXQgdD0wLGU9bi5sZW5ndGg7dDxlO3QrKyl0aGlzLmV4cGFuZEJ5T2JqZWN0KG5bdF0pO3JldHVybiB0aGlzfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuISh0Lng8dGhpcy5taW4ueHx8dC54PnRoaXMubWF4Lnh8fHQueTx0aGlzLm1pbi55fHx0Lnk+dGhpcy5tYXgueXx8dC56PHRoaXMubWluLnp8fHQuej50aGlzLm1heC56KX1jb250YWluc0JveCh0KXtyZXR1cm4gdGhpcy5taW4ueDw9dC5taW4ueCYmdC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9dC5taW4ueSYmdC5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9dC5taW4ueiYmdC5tYXguejw9dGhpcy5tYXguen1nZXRQYXJhbWV0ZXIodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDM6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKSxlLnNldCgodC54LXRoaXMubWluLngpLyh0aGlzLm1heC54LXRoaXMubWluLngpLCh0LnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSksKHQuei10aGlzLm1pbi56KS8odGhpcy5tYXguei10aGlzLm1pbi56KSl9aW50ZXJzZWN0c0JveCh0KXtyZXR1cm4hKHQubWF4Lng8dGhpcy5taW4ueHx8dC5taW4ueD50aGlzLm1heC54fHx0Lm1heC55PHRoaXMubWluLnl8fHQubWluLnk+dGhpcy5tYXgueXx8dC5tYXguejx0aGlzLm1pbi56fHx0Lm1pbi56PnRoaXMubWF4LnopfWludGVyc2VjdHNTcGhlcmUodCl7cmV0dXJuIHRoaXMuY2xhbXBQb2ludCh0LmNlbnRlcixycikscnIuZGlzdGFuY2VUb1NxdWFyZWQodC5jZW50ZXIpPD10LnJhZGl1cyp0LnJhZGl1c31pbnRlcnNlY3RzUGxhbmUodCl7bGV0IGUsbjtyZXR1cm4gdC5ub3JtYWwueD4wPyhlPXQubm9ybWFsLngqdGhpcy5taW4ueCxuPXQubm9ybWFsLngqdGhpcy5tYXgueCk6KGU9dC5ub3JtYWwueCp0aGlzLm1heC54LG49dC5ub3JtYWwueCp0aGlzLm1pbi54KSx0Lm5vcm1hbC55PjA/KGUrPXQubm9ybWFsLnkqdGhpcy5taW4ueSxuKz10Lm5vcm1hbC55KnRoaXMubWF4LnkpOihlKz10Lm5vcm1hbC55KnRoaXMubWF4Lnksbis9dC5ub3JtYWwueSp0aGlzLm1pbi55KSx0Lm5vcm1hbC56PjA/KGUrPXQubm9ybWFsLnoqdGhpcy5taW4ueixuKz10Lm5vcm1hbC56KnRoaXMubWF4LnopOihlKz10Lm5vcm1hbC56KnRoaXMubWF4Lnosbis9dC5ub3JtYWwueip0aGlzLm1pbi56KSxlPD0tdC5jb25zdGFudCYmbj49LXQuY29uc3RhbnR9aW50ZXJzZWN0c1RyaWFuZ2xlKHQpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiExO3RoaXMuZ2V0Q2VudGVyKGhyKSxkci5zdWJWZWN0b3JzKHRoaXMubWF4LGhyKSxvci5zdWJWZWN0b3JzKHQuYSxociksYXIuc3ViVmVjdG9ycyh0LmIsaHIpLHNyLnN1YlZlY3RvcnModC5jLGhyKSxjci5zdWJWZWN0b3JzKGFyLG9yKSxsci5zdWJWZWN0b3JzKHNyLGFyKSx1ci5zdWJWZWN0b3JzKG9yLHNyKTtsZXQgZT1bMCwtY3Iueixjci55LDAsLWxyLnosbHIueSwwLC11ci56LHVyLnksY3IueiwwLC1jci54LGxyLnosMCwtbHIueCx1ci56LDAsLXVyLngsLWNyLnksY3IueCwwLC1sci55LGxyLngsMCwtdXIueSx1ci54LDBdO3JldHVybiEhZXIoZSxvcixhcixzcixkcikmJihlPVsxLDAsMCwwLDEsMCwwLDAsMV0sISFlcihlLG9yLGFyLHNyLGRyKSYmKHByLmNyb3NzVmVjdG9ycyhjcixsciksZT1bcHIueCxwci55LHByLnpdLGVyKGUsb3IsYXIsc3IsZHIpKSl9Y2xhbXBQb2ludCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuQm94MzogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKSxlLmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gcnIuY29weSh0KS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCkuc3ViKHQpLmxlbmd0aCgpfWdldEJvdW5kaW5nU3BoZXJlKHQpe3JldHVybiB2b2lkIDA9PT10JiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQm94MzogLmdldEJvdW5kaW5nU3BoZXJlKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0aGlzLmdldENlbnRlcih0LmNlbnRlciksdC5yYWRpdXM9LjUqdGhpcy5nZXRTaXplKHJyKS5sZW5ndGgoKSx0fWludGVyc2VjdCh0KXtyZXR1cm4gdGhpcy5taW4ubWF4KHQubWluKSx0aGlzLm1heC5taW4odC5tYXgpLHRoaXMuaXNFbXB0eSgpJiZ0aGlzLm1ha2VFbXB0eSgpLHRoaXN9dW5pb24odCl7cmV0dXJuIHRoaXMubWluLm1pbih0Lm1pbiksdGhpcy5tYXgubWF4KHQubWF4KSx0aGlzfWFwcGx5TWF0cml4NCh0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KCl8fChuclswXS5zZXQodGhpcy5taW4ueCx0aGlzLm1pbi55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NCh0KSxuclsxXS5zZXQodGhpcy5taW4ueCx0aGlzLm1pbi55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NCh0KSxuclsyXS5zZXQodGhpcy5taW4ueCx0aGlzLm1heC55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NCh0KSxuclszXS5zZXQodGhpcy5taW4ueCx0aGlzLm1heC55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NCh0KSxucls0XS5zZXQodGhpcy5tYXgueCx0aGlzLm1pbi55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NCh0KSxucls1XS5zZXQodGhpcy5tYXgueCx0aGlzLm1pbi55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NCh0KSxucls2XS5zZXQodGhpcy5tYXgueCx0aGlzLm1heC55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NCh0KSxucls3XS5zZXQodGhpcy5tYXgueCx0aGlzLm1heC55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NCh0KSx0aGlzLnNldEZyb21Qb2ludHMobnIpKSx0aGlzfXRyYW5zbGF0ZSh0KXtyZXR1cm4gdGhpcy5taW4uYWRkKHQpLHRoaXMubWF4LmFkZCh0KSx0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC5taW4uZXF1YWxzKHRoaXMubWluKSYmdC5tYXguZXF1YWxzKHRoaXMubWF4KX19ZnVuY3Rpb24gZXIodCxlLG4scixpKXtmb3IobGV0IG89MCxhPXQubGVuZ3RoLTM7bzw9YTtvKz0zKXtmci5mcm9tQXJyYXkodCxvKTtjb25zdCBhPWkueCpNYXRoLmFicyhmci54KStpLnkqTWF0aC5hYnMoZnIueSkraS56Kk1hdGguYWJzKGZyLnopLHM9ZS5kb3QoZnIpLGM9bi5kb3QoZnIpLGw9ci5kb3QoZnIpO2lmKE1hdGgubWF4KC1NYXRoLm1heChzLGMsbCksTWF0aC5taW4ocyxjLGwpKT5hKXJldHVybiExfXJldHVybiEwfWNvbnN0IG5yPVtuZXcgS24sbmV3IEtuLG5ldyBLbixuZXcgS24sbmV3IEtuLG5ldyBLbixuZXcgS24sbmV3IEtuXSxycj1uZXcgS24saXI9bmV3IHRyLG9yPW5ldyBLbixhcj1uZXcgS24sc3I9bmV3IEtuLGNyPW5ldyBLbixscj1uZXcgS24sdXI9bmV3IEtuLGhyPW5ldyBLbixkcj1uZXcgS24scHI9bmV3IEtuLGZyPW5ldyBLbixtcj1uZXcgdHI7Y2xhc3MgZ3J7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNlbnRlcj12b2lkIDAhPT10P3Q6bmV3IEtuLHRoaXMucmFkaXVzPXZvaWQgMCE9PWU/ZTotMX1zZXQodCxlKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weSh0KSx0aGlzLnJhZGl1cz1lLHRoaXN9c2V0RnJvbVBvaW50cyh0LGUpe2NvbnN0IG49dGhpcy5jZW50ZXI7dm9pZCAwIT09ZT9uLmNvcHkoZSk6bXIuc2V0RnJvbVBvaW50cyh0KS5nZXRDZW50ZXIobik7bGV0IHI9MDtmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspcj1NYXRoLm1heChyLG4uZGlzdGFuY2VUb1NxdWFyZWQodFtlXSkpO3JldHVybiB0aGlzLnJhZGl1cz1NYXRoLnNxcnQociksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe3JldHVybiB0aGlzLmNlbnRlci5jb3B5KHQuY2VudGVyKSx0aGlzLnJhZGl1cz10LnJhZGl1cyx0aGlzfWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5yYWRpdXM8MH1tYWtlRW1wdHkoKXtyZXR1cm4gdGhpcy5jZW50ZXIuc2V0KDAsMCwwKSx0aGlzLnJhZGl1cz0tMSx0aGlzfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuIHQuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1c31kaXN0YW5jZVRvUG9pbnQodCl7cmV0dXJuIHQuZGlzdGFuY2VUbyh0aGlzLmNlbnRlciktdGhpcy5yYWRpdXN9aW50ZXJzZWN0c1NwaGVyZSh0KXtjb25zdCBlPXRoaXMucmFkaXVzK3QucmFkaXVzO3JldHVybiB0LmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PWUqZX1pbnRlcnNlY3RzQm94KHQpe3JldHVybiB0LmludGVyc2VjdHNTcGhlcmUodGhpcyl9aW50ZXJzZWN0c1BsYW5lKHQpe3JldHVybiBNYXRoLmFicyh0LmRpc3RhbmNlVG9Qb2ludCh0aGlzLmNlbnRlcikpPD10aGlzLnJhZGl1c31jbGFtcFBvaW50KHQsZSl7Y29uc3Qgbj10aGlzLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0KTtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLlNwaGVyZTogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKSxlLmNvcHkodCksbj50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyYmKGUuc3ViKHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKSxlLm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpKSxlfWdldEJvdW5kaW5nQm94KHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuU3BoZXJlOiAuZ2V0Qm91bmRpbmdCb3goKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IHRyKSx0aGlzLmlzRW1wdHkoKT8odC5tYWtlRW1wdHkoKSx0KToodC5zZXQodGhpcy5jZW50ZXIsdGhpcy5jZW50ZXIpLHQuZXhwYW5kQnlTY2FsYXIodGhpcy5yYWRpdXMpLHQpfWFwcGx5TWF0cml4NCh0KXtyZXR1cm4gdGhpcy5jZW50ZXIuYXBwbHlNYXRyaXg0KHQpLHRoaXMucmFkaXVzPXRoaXMucmFkaXVzKnQuZ2V0TWF4U2NhbGVPbkF4aXMoKSx0aGlzfXRyYW5zbGF0ZSh0KXtyZXR1cm4gdGhpcy5jZW50ZXIuYWRkKHQpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0LmNlbnRlci5lcXVhbHModGhpcy5jZW50ZXIpJiZ0LnJhZGl1cz09PXRoaXMucmFkaXVzfX1jb25zdCB2cj1uZXcgS24seXI9bmV3IEtuLHhyPW5ldyBLbixicj1uZXcgS24sd3I9bmV3IEtuLF9yPW5ldyBLbixNcj1uZXcgS247Y2xhc3MgU3J7Y29uc3RydWN0b3IodCxlKXt0aGlzLm9yaWdpbj12b2lkIDAhPT10P3Q6bmV3IEtuLHRoaXMuZGlyZWN0aW9uPXZvaWQgMCE9PWU/ZTpuZXcgS24oMCwwLC0xKX1zZXQodCxlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0KSx0aGlzLmRpcmVjdGlvbi5jb3B5KGUpLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0Lm9yaWdpbiksdGhpcy5kaXJlY3Rpb24uY29weSh0LmRpcmVjdGlvbiksdGhpc31hdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuUmF5OiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKSxlLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLm9yaWdpbil9bG9va0F0KHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbi5jb3B5KHQpLnN1Yih0aGlzLm9yaWdpbikubm9ybWFsaXplKCksdGhpc31yZWNhc3QodCl7cmV0dXJuIHRoaXMub3JpZ2luLmNvcHkodGhpcy5hdCh0LHZyKSksdGhpc31jbG9zZXN0UG9pbnRUb1BvaW50KHQsZSl7dm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKSxlLnN1YlZlY3RvcnModCx0aGlzLm9yaWdpbik7Y29uc3Qgbj1lLmRvdCh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIG48MD9lLmNvcHkodGhpcy5vcmlnaW4pOmUuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIobikuYWRkKHRoaXMub3JpZ2luKX1kaXN0YW5jZVRvUG9pbnQodCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3FUb1BvaW50KHQpKX1kaXN0YW5jZVNxVG9Qb2ludCh0KXtjb25zdCBlPXZyLnN1YlZlY3RvcnModCx0aGlzLm9yaWdpbikuZG90KHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZTwwP3RoaXMub3JpZ2luLmRpc3RhbmNlVG9TcXVhcmVkKHQpOih2ci5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihlKS5hZGQodGhpcy5vcmlnaW4pLHZyLmRpc3RhbmNlVG9TcXVhcmVkKHQpKX1kaXN0YW5jZVNxVG9TZWdtZW50KHQsZSxuLHIpe3lyLmNvcHkodCkuYWRkKGUpLm11bHRpcGx5U2NhbGFyKC41KSx4ci5jb3B5KGUpLnN1Yih0KS5ub3JtYWxpemUoKSxici5jb3B5KHRoaXMub3JpZ2luKS5zdWIoeXIpO2NvbnN0IGk9LjUqdC5kaXN0YW5jZVRvKGUpLG89LXRoaXMuZGlyZWN0aW9uLmRvdCh4ciksYT1ici5kb3QodGhpcy5kaXJlY3Rpb24pLHM9LWJyLmRvdCh4ciksYz1ici5sZW5ndGhTcSgpLGw9TWF0aC5hYnMoMS1vKm8pO2xldCB1LGgsZCxwO2lmKGw+MClpZih1PW8qcy1hLGg9byphLXMscD1pKmwsdT49MClpZihoPj0tcClpZihoPD1wKXtjb25zdCB0PTEvbDt1Kj10LGgqPXQsZD11Kih1K28qaCsyKmEpK2gqKG8qdStoKzIqcykrY31lbHNlIGg9aSx1PU1hdGgubWF4KDAsLShvKmgrYSkpLGQ9LXUqdStoKihoKzIqcykrYztlbHNlIGg9LWksdT1NYXRoLm1heCgwLC0obypoK2EpKSxkPS11KnUraCooaCsyKnMpK2M7ZWxzZSBoPD0tcD8odT1NYXRoLm1heCgwLC0oLW8qaSthKSksaD11PjA/LWk6TWF0aC5taW4oTWF0aC5tYXgoLWksLXMpLGkpLGQ9LXUqdStoKihoKzIqcykrYyk6aDw9cD8odT0wLGg9TWF0aC5taW4oTWF0aC5tYXgoLWksLXMpLGkpLGQ9aCooaCsyKnMpK2MpOih1PU1hdGgubWF4KDAsLShvKmkrYSkpLGg9dT4wP2k6TWF0aC5taW4oTWF0aC5tYXgoLWksLXMpLGkpLGQ9LXUqdStoKihoKzIqcykrYyk7ZWxzZSBoPW8+MD8taTppLHU9TWF0aC5tYXgoMCwtKG8qaCthKSksZD0tdSp1K2gqKGgrMipzKStjO3JldHVybiBuJiZuLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHUpLmFkZCh0aGlzLm9yaWdpbiksciYmci5jb3B5KHhyKS5tdWx0aXBseVNjYWxhcihoKS5hZGQoeXIpLGR9aW50ZXJzZWN0U3BoZXJlKHQsZSl7dnIuc3ViVmVjdG9ycyh0LmNlbnRlcix0aGlzLm9yaWdpbik7Y29uc3Qgbj12ci5kb3QodGhpcy5kaXJlY3Rpb24pLHI9dnIuZG90KHZyKS1uKm4saT10LnJhZGl1cyp0LnJhZGl1cztpZihyPmkpcmV0dXJuIG51bGw7Y29uc3Qgbz1NYXRoLnNxcnQoaS1yKSxhPW4tbyxzPW4rbztyZXR1cm4gYTwwJiZzPDA/bnVsbDphPDA/dGhpcy5hdChzLGUpOnRoaXMuYXQoYSxlKX1pbnRlcnNlY3RzU3BoZXJlKHQpe3JldHVybiB0aGlzLmRpc3RhbmNlU3FUb1BvaW50KHQuY2VudGVyKTw9dC5yYWRpdXMqdC5yYWRpdXN9ZGlzdGFuY2VUb1BsYW5lKHQpe2NvbnN0IGU9dC5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZigwPT09ZSlyZXR1cm4gMD09PXQuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT8wOm51bGw7Y29uc3Qgbj0tKHRoaXMub3JpZ2luLmRvdCh0Lm5vcm1hbCkrdC5jb25zdGFudCkvZTtyZXR1cm4gbj49MD9uOm51bGx9aW50ZXJzZWN0UGxhbmUodCxlKXtjb25zdCBuPXRoaXMuZGlzdGFuY2VUb1BsYW5lKHQpO3JldHVybiBudWxsPT09bj9udWxsOnRoaXMuYXQobixlKX1pbnRlcnNlY3RzUGxhbmUodCl7Y29uc3QgZT10LmRpc3RhbmNlVG9Qb2ludCh0aGlzLm9yaWdpbik7aWYoMD09PWUpcmV0dXJuITA7cmV0dXJuIHQubm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbikqZTwwfWludGVyc2VjdEJveCh0LGUpe2xldCBuLHIsaSxvLGEscztjb25zdCBjPTEvdGhpcy5kaXJlY3Rpb24ueCxsPTEvdGhpcy5kaXJlY3Rpb24ueSx1PTEvdGhpcy5kaXJlY3Rpb24ueixoPXRoaXMub3JpZ2luO3JldHVybiBjPj0wPyhuPSh0Lm1pbi54LWgueCkqYyxyPSh0Lm1heC54LWgueCkqYyk6KG49KHQubWF4LngtaC54KSpjLHI9KHQubWluLngtaC54KSpjKSxsPj0wPyhpPSh0Lm1pbi55LWgueSkqbCxvPSh0Lm1heC55LWgueSkqbCk6KGk9KHQubWF4LnktaC55KSpsLG89KHQubWluLnktaC55KSpsKSxuPm98fGk+cj9udWxsOigoaT5ufHxuIT1uKSYmKG49aSksKG88cnx8ciE9cikmJihyPW8pLHU+PTA/KGE9KHQubWluLnotaC56KSp1LHM9KHQubWF4LnotaC56KSp1KTooYT0odC5tYXguei1oLnopKnUscz0odC5taW4uei1oLnopKnUpLG4+c3x8YT5yP251bGw6KChhPm58fG4hPW4pJiYobj1hKSwoczxyfHxyIT1yKSYmKHI9cykscjwwP251bGw6dGhpcy5hdChuPj0wP246cixlKSkpfWludGVyc2VjdHNCb3godCl7cmV0dXJuIG51bGwhPT10aGlzLmludGVyc2VjdEJveCh0LHZyKX1pbnRlcnNlY3RUcmlhbmdsZSh0LGUsbixyLGkpe3dyLnN1YlZlY3RvcnMoZSx0KSxfci5zdWJWZWN0b3JzKG4sdCksTXIuY3Jvc3NWZWN0b3JzKHdyLF9yKTtsZXQgbyxhPXRoaXMuZGlyZWN0aW9uLmRvdChNcik7aWYoYT4wKXtpZihyKXJldHVybiBudWxsO289MX1lbHNle2lmKCEoYTwwKSlyZXR1cm4gbnVsbDtvPS0xLGE9LWF9YnIuc3ViVmVjdG9ycyh0aGlzLm9yaWdpbix0KTtjb25zdCBzPW8qdGhpcy5kaXJlY3Rpb24uZG90KF9yLmNyb3NzVmVjdG9ycyhicixfcikpO2lmKHM8MClyZXR1cm4gbnVsbDtjb25zdCBjPW8qdGhpcy5kaXJlY3Rpb24uZG90KHdyLmNyb3NzKGJyKSk7aWYoYzwwKXJldHVybiBudWxsO2lmKHMrYz5hKXJldHVybiBudWxsO2NvbnN0IGw9LW8qYnIuZG90KE1yKTtyZXR1cm4gbDwwP251bGw6dGhpcy5hdChsL2EsaSl9YXBwbHlNYXRyaXg0KHQpe3JldHVybiB0aGlzLm9yaWdpbi5hcHBseU1hdHJpeDQodCksdGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKHQpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0Lm9yaWdpbi5lcXVhbHModGhpcy5vcmlnaW4pJiZ0LmRpcmVjdGlvbi5lcXVhbHModGhpcy5kaXJlY3Rpb24pfX1jbGFzcyBUcntjb25zdHJ1Y3Rvcigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNNYXRyaXg0XCIse3ZhbHVlOiEwfSksdGhpcy5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC5cIil9c2V0KHQsZSxuLHIsaSxvLGEscyxjLGwsdSxoLGQscCxmLG0pe2NvbnN0IGc9dGhpcy5lbGVtZW50cztyZXR1cm4gZ1swXT10LGdbNF09ZSxnWzhdPW4sZ1sxMl09cixnWzFdPWksZ1s1XT1vLGdbOV09YSxnWzEzXT1zLGdbMl09YyxnWzZdPWwsZ1sxMF09dSxnWzE0XT1oLGdbM109ZCxnWzddPXAsZ1sxMV09ZixnWzE1XT1tLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSksdGhpc31jbG9uZSgpe3JldHVybihuZXcgVHIpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX1jb3B5KHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxuPXQuZWxlbWVudHM7cmV0dXJuIGVbMF09blswXSxlWzFdPW5bMV0sZVsyXT1uWzJdLGVbM109blszXSxlWzRdPW5bNF0sZVs1XT1uWzVdLGVbNl09bls2XSxlWzddPW5bN10sZVs4XT1uWzhdLGVbOV09bls5XSxlWzEwXT1uWzEwXSxlWzExXT1uWzExXSxlWzEyXT1uWzEyXSxlWzEzXT1uWzEzXSxlWzE0XT1uWzE0XSxlWzE1XT1uWzE1XSx0aGlzfWNvcHlQb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzO3JldHVybiBlWzEyXT1uWzEyXSxlWzEzXT1uWzEzXSxlWzE0XT1uWzE0XSx0aGlzfWV4dHJhY3RCYXNpcyh0LGUsbil7cmV0dXJuIHQuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApLGUuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDEpLG4uc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpLHRoaXN9bWFrZUJhc2lzKHQsZSxuKXtyZXR1cm4gdGhpcy5zZXQodC54LGUueCxuLngsMCx0LnksZS55LG4ueSwwLHQueixlLnosbi56LDAsMCwwLDAsMSksdGhpc31leHRyYWN0Um90YXRpb24odCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cyxyPTEvRXIuc2V0RnJvbU1hdHJpeENvbHVtbih0LDApLmxlbmd0aCgpLGk9MS9Fci5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMSkubGVuZ3RoKCksbz0xL0VyLnNldEZyb21NYXRyaXhDb2x1bW4odCwyKS5sZW5ndGgoKTtyZXR1cm4gZVswXT1uWzBdKnIsZVsxXT1uWzFdKnIsZVsyXT1uWzJdKnIsZVszXT0wLGVbNF09bls0XSppLGVbNV09bls1XSppLGVbNl09bls2XSppLGVbN109MCxlWzhdPW5bOF0qbyxlWzldPW5bOV0qbyxlWzEwXT1uWzEwXSpvLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21FdWxlcih0KXt0JiZ0LmlzRXVsZXJ8fGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXg0OiAubWFrZVJvdGF0aW9uRnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYSBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLlwiKTtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10Lngscj10LnksaT10Lnosbz1NYXRoLmNvcyhuKSxhPU1hdGguc2luKG4pLHM9TWF0aC5jb3MociksYz1NYXRoLnNpbihyKSxsPU1hdGguY29zKGkpLHU9TWF0aC5zaW4oaSk7aWYoXCJYWVpcIj09PXQub3JkZXIpe2NvbnN0IHQ9bypsLG49byp1LHI9YSpsLGk9YSp1O2VbMF09cypsLGVbNF09LXMqdSxlWzhdPWMsZVsxXT1uK3IqYyxlWzVdPXQtaSpjLGVbOV09LWEqcyxlWzJdPWktdCpjLGVbNl09cituKmMsZVsxMF09bypzfWVsc2UgaWYoXCJZWFpcIj09PXQub3JkZXIpe2NvbnN0IHQ9cypsLG49cyp1LHI9YypsLGk9Yyp1O2VbMF09dCtpKmEsZVs0XT1yKmEtbixlWzhdPW8qYyxlWzFdPW8qdSxlWzVdPW8qbCxlWzldPS1hLGVbMl09biphLXIsZVs2XT1pK3QqYSxlWzEwXT1vKnN9ZWxzZSBpZihcIlpYWVwiPT09dC5vcmRlcil7Y29uc3QgdD1zKmwsbj1zKnUscj1jKmwsaT1jKnU7ZVswXT10LWkqYSxlWzRdPS1vKnUsZVs4XT1yK24qYSxlWzFdPW4rciphLGVbNV09bypsLGVbOV09aS10KmEsZVsyXT0tbypjLGVbNl09YSxlWzEwXT1vKnN9ZWxzZSBpZihcIlpZWFwiPT09dC5vcmRlcil7Y29uc3QgdD1vKmwsbj1vKnUscj1hKmwsaT1hKnU7ZVswXT1zKmwsZVs0XT1yKmMtbixlWzhdPXQqYytpLGVbMV09cyp1LGVbNV09aSpjK3QsZVs5XT1uKmMtcixlWzJdPS1jLGVbNl09YSpzLGVbMTBdPW8qc31lbHNlIGlmKFwiWVpYXCI9PT10Lm9yZGVyKXtjb25zdCB0PW8qcyxuPW8qYyxyPWEqcyxpPWEqYztlWzBdPXMqbCxlWzRdPWktdCp1LGVbOF09cip1K24sZVsxXT11LGVbNV09bypsLGVbOV09LWEqbCxlWzJdPS1jKmwsZVs2XT1uKnUrcixlWzEwXT10LWkqdX1lbHNlIGlmKFwiWFpZXCI9PT10Lm9yZGVyKXtjb25zdCB0PW8qcyxuPW8qYyxyPWEqcyxpPWEqYztlWzBdPXMqbCxlWzRdPS11LGVbOF09YypsLGVbMV09dCp1K2ksZVs1XT1vKmwsZVs5XT1uKnUtcixlWzJdPXIqdS1uLGVbNl09YSpsLGVbMTBdPWkqdSt0fXJldHVybiBlWzNdPTAsZVs3XT0wLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2UoTHIsdCxScil9bG9va0F0KHQsZSxuKXtjb25zdCByPXRoaXMuZWxlbWVudHM7cmV0dXJuIElyLnN1YlZlY3RvcnModCxlKSwwPT09SXIubGVuZ3RoU3EoKSYmKElyLno9MSksSXIubm9ybWFsaXplKCksUHIuY3Jvc3NWZWN0b3JzKG4sSXIpLDA9PT1Qci5sZW5ndGhTcSgpJiYoMT09PU1hdGguYWJzKG4ueik/SXIueCs9MWUtNDpJci56Kz0xZS00LElyLm5vcm1hbGl6ZSgpLFByLmNyb3NzVmVjdG9ycyhuLElyKSksUHIubm9ybWFsaXplKCksQ3IuY3Jvc3NWZWN0b3JzKElyLFByKSxyWzBdPVByLngscls0XT1Dci54LHJbOF09SXIueCxyWzFdPVByLnkscls1XT1Dci55LHJbOV09SXIueSxyWzJdPVByLnoscls2XT1Dci56LHJbMTBdPUlyLnosdGhpc31tdWx0aXBseSh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseU1hdHJpY2VzKHQsZSkpOnRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfXByZW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKHQsZSl7Y29uc3Qgbj10LmVsZW1lbnRzLHI9ZS5lbGVtZW50cyxpPXRoaXMuZWxlbWVudHMsbz1uWzBdLGE9bls0XSxzPW5bOF0sYz1uWzEyXSxsPW5bMV0sdT1uWzVdLGg9bls5XSxkPW5bMTNdLHA9blsyXSxmPW5bNl0sbT1uWzEwXSxnPW5bMTRdLHY9blszXSx5PW5bN10seD1uWzExXSxiPW5bMTVdLHc9clswXSxfPXJbNF0sTT1yWzhdLFM9clsxMl0sVD1yWzFdLEU9cls1XSxBPXJbOV0sTD1yWzEzXSxSPXJbMl0sUD1yWzZdLEM9clsxMF0sST1yWzE0XSxPPXJbM10sTj1yWzddLEQ9clsxMV0sQj1yWzE1XTtyZXR1cm4gaVswXT1vKncrYSpUK3MqUitjKk8saVs0XT1vKl8rYSpFK3MqUCtjKk4saVs4XT1vKk0rYSpBK3MqQytjKkQsaVsxMl09bypTK2EqTCtzKkkrYypCLGlbMV09bCp3K3UqVCtoKlIrZCpPLGlbNV09bCpfK3UqRStoKlArZCpOLGlbOV09bCpNK3UqQStoKkMrZCpELGlbMTNdPWwqUyt1KkwraCpJK2QqQixpWzJdPXAqdytmKlQrbSpSK2cqTyxpWzZdPXAqXytmKkUrbSpQK2cqTixpWzEwXT1wKk0rZipBK20qQytnKkQsaVsxNF09cCpTK2YqTCttKkkrZypCLGlbM109dip3K3kqVCt4KlIrYipPLGlbN109dipfK3kqRSt4KlArYipOLGlbMTFdPXYqTSt5KkEreCpDK2IqRCxpWzE1XT12KlMreSpMK3gqSStiKkIsdGhpc31tdWx0aXBseVNjYWxhcih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHM7cmV0dXJuIGVbMF0qPXQsZVs0XSo9dCxlWzhdKj10LGVbMTJdKj10LGVbMV0qPXQsZVs1XSo9dCxlWzldKj10LGVbMTNdKj10LGVbMl0qPXQsZVs2XSo9dCxlWzEwXSo9dCxlWzE0XSo9dCxlWzNdKj10LGVbN10qPXQsZVsxMV0qPXQsZVsxNV0qPXQsdGhpc31kZXRlcm1pbmFudCgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0sbj10WzRdLHI9dFs4XSxpPXRbMTJdLG89dFsxXSxhPXRbNV0scz10WzldLGM9dFsxM10sbD10WzJdLHU9dFs2XSxoPXRbMTBdLGQ9dFsxNF07cmV0dXJuIHRbM10qKCtpKnMqdS1yKmMqdS1pKmEqaCtuKmMqaCtyKmEqZC1uKnMqZCkrdFs3XSooK2UqcypkLWUqYypoK2kqbypoLXIqbypkK3IqYypsLWkqcypsKSt0WzExXSooK2UqYyp1LWUqYSpkLWkqbyp1K24qbypkK2kqYSpsLW4qYypsKSt0WzE1XSooLXIqYSpsLWUqcyp1K2UqYSpoK3Iqbyp1LW4qbypoK24qcypsKX10cmFuc3Bvc2UoKXtjb25zdCB0PXRoaXMuZWxlbWVudHM7bGV0IGU7cmV0dXJuIGU9dFsxXSx0WzFdPXRbNF0sdFs0XT1lLGU9dFsyXSx0WzJdPXRbOF0sdFs4XT1lLGU9dFs2XSx0WzZdPXRbOV0sdFs5XT1lLGU9dFszXSx0WzNdPXRbMTJdLHRbMTJdPWUsZT10WzddLHRbN109dFsxM10sdFsxM109ZSxlPXRbMTFdLHRbMTFdPXRbMTRdLHRbMTRdPWUsdGhpc31zZXRQb3NpdGlvbih0LGUsbil7Y29uc3Qgcj10aGlzLmVsZW1lbnRzO3JldHVybiB0LmlzVmVjdG9yMz8oclsxMl09dC54LHJbMTNdPXQueSxyWzE0XT10LnopOihyWzEyXT10LHJbMTNdPWUsclsxNF09biksdGhpc31pbnZlcnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLG89dFs0XSxhPXRbNV0scz10WzZdLGM9dFs3XSxsPXRbOF0sdT10WzldLGg9dFsxMF0sZD10WzExXSxwPXRbMTJdLGY9dFsxM10sbT10WzE0XSxnPXRbMTVdLHY9dSptKmMtZipoKmMrZipzKmQtYSptKmQtdSpzKmcrYSpoKmcseT1wKmgqYy1sKm0qYy1wKnMqZCtvKm0qZCtsKnMqZy1vKmgqZyx4PWwqZipjLXAqdSpjK3AqYSpkLW8qZipkLWwqYSpnK28qdSpnLGI9cCp1KnMtbCpmKnMtcCphKmgrbypmKmgrbCphKm0tbyp1Km0sdz1lKnYrbip5K3IqeCtpKmI7aWYoMD09PXcpcmV0dXJuIHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IF89MS93O3JldHVybiB0WzBdPXYqXyx0WzFdPShmKmgqaS11Km0qaS1mKnIqZCtuKm0qZCt1KnIqZy1uKmgqZykqXyx0WzJdPShhKm0qaS1mKnMqaStmKnIqYy1uKm0qYy1hKnIqZytuKnMqZykqXyx0WzNdPSh1KnMqaS1hKmgqaS11KnIqYytuKmgqYythKnIqZC1uKnMqZCkqXyx0WzRdPXkqXyx0WzVdPShsKm0qaS1wKmgqaStwKnIqZC1lKm0qZC1sKnIqZytlKmgqZykqXyx0WzZdPShwKnMqaS1vKm0qaS1wKnIqYytlKm0qYytvKnIqZy1lKnMqZykqXyx0WzddPShvKmgqaS1sKnMqaStsKnIqYy1lKmgqYy1vKnIqZCtlKnMqZCkqXyx0WzhdPXgqXyx0WzldPShwKnUqaS1sKmYqaS1wKm4qZCtlKmYqZCtsKm4qZy1lKnUqZykqXyx0WzEwXT0obypmKmktcCphKmkrcCpuKmMtZSpmKmMtbypuKmcrZSphKmcpKl8sdFsxMV09KGwqYSppLW8qdSppLWwqbipjK2UqdSpjK28qbipkLWUqYSpkKSpfLHRbMTJdPWIqXyx0WzEzXT0obCpmKnItcCp1KnIrcCpuKmgtZSpmKmgtbCpuKm0rZSp1Km0pKl8sdFsxNF09KHAqYSpyLW8qZipyLXAqbipzK2UqZipzK28qbiptLWUqYSptKSpfLHRbMTVdPShvKnUqci1sKmEqcitsKm4qcy1lKnUqcy1vKm4qaCtlKmEqaCkqXyx0aGlzfXNjYWxlKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxuPXQueCxyPXQueSxpPXQuejtyZXR1cm4gZVswXSo9bixlWzRdKj1yLGVbOF0qPWksZVsxXSo9bixlWzVdKj1yLGVbOV0qPWksZVsyXSo9bixlWzZdKj1yLGVbMTBdKj1pLGVbM10qPW4sZVs3XSo9cixlWzExXSo9aSx0aGlzfWdldE1heFNjYWxlT25BeGlzKCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLGU9dFswXSp0WzBdK3RbMV0qdFsxXSt0WzJdKnRbMl0sbj10WzRdKnRbNF0rdFs1XSp0WzVdK3RbNl0qdFs2XSxyPXRbOF0qdFs4XSt0WzldKnRbOV0rdFsxMF0qdFsxMF07cmV0dXJuIE1hdGguc3FydChNYXRoLm1heChlLG4scikpfW1ha2VUcmFuc2xhdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLHQsMCwxLDAsZSwwLDAsMSxuLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWCh0KXtjb25zdCBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCxlLC1uLDAsMCxuLGUsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblkodCl7Y29uc3QgZT1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpO3JldHVybiB0aGlzLnNldChlLDAsbiwwLDAsMSwwLDAsLW4sMCxlLDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25aKHQpe2NvbnN0IGU9TWF0aC5jb3ModCksbj1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5zZXQoZSwtbiwwLDAsbixlLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uQXhpcyh0LGUpe2NvbnN0IG49TWF0aC5jb3MoZSkscj1NYXRoLnNpbihlKSxpPTEtbixvPXQueCxhPXQueSxzPXQueixjPWkqbyxsPWkqYTtyZXR1cm4gdGhpcy5zZXQoYypvK24sYyphLXIqcyxjKnMrciphLDAsYyphK3IqcyxsKmErbixsKnMtcipvLDAsYypzLXIqYSxsKnMrcipvLGkqcypzK24sMCwwLDAsMCwxKSx0aGlzfW1ha2VTY2FsZSh0LGUsbil7cmV0dXJuIHRoaXMuc2V0KHQsMCwwLDAsMCxlLDAsMCwwLDAsbiwwLDAsMCwwLDEpLHRoaXN9bWFrZVNoZWFyKHQsZSxuKXtyZXR1cm4gdGhpcy5zZXQoMSxlLG4sMCx0LDEsbiwwLHQsZSwxLDAsMCwwLDAsMSksdGhpc31jb21wb3NlKHQsZSxuKXtjb25zdCByPXRoaXMuZWxlbWVudHMsaT1lLl94LG89ZS5feSxhPWUuX3oscz1lLl93LGM9aStpLGw9bytvLHU9YSthLGg9aSpjLGQ9aSpsLHA9aSp1LGY9bypsLG09byp1LGc9YSp1LHY9cypjLHk9cypsLHg9cyp1LGI9bi54LHc9bi55LF89bi56O3JldHVybiByWzBdPSgxLShmK2cpKSpiLHJbMV09KGQreCkqYixyWzJdPShwLXkpKmIsclszXT0wLHJbNF09KGQteCkqdyxyWzVdPSgxLShoK2cpKSp3LHJbNl09KG0rdikqdyxyWzddPTAscls4XT0ocCt5KSpfLHJbOV09KG0tdikqXyxyWzEwXT0oMS0oaCtmKSkqXyxyWzExXT0wLHJbMTJdPXQueCxyWzEzXT10LnksclsxNF09dC56LHJbMTVdPTEsdGhpc31kZWNvbXBvc2UodCxlLG4pe2NvbnN0IHI9dGhpcy5lbGVtZW50cztsZXQgaT1Fci5zZXQoclswXSxyWzFdLHJbMl0pLmxlbmd0aCgpO2NvbnN0IG89RXIuc2V0KHJbNF0scls1XSxyWzZdKS5sZW5ndGgoKSxhPUVyLnNldChyWzhdLHJbOV0sclsxMF0pLmxlbmd0aCgpO3RoaXMuZGV0ZXJtaW5hbnQoKTwwJiYoaT0taSksdC54PXJbMTJdLHQueT1yWzEzXSx0Lno9clsxNF0sQXIuY29weSh0aGlzKTtjb25zdCBzPTEvaSxjPTEvbyxsPTEvYTtyZXR1cm4gQXIuZWxlbWVudHNbMF0qPXMsQXIuZWxlbWVudHNbMV0qPXMsQXIuZWxlbWVudHNbMl0qPXMsQXIuZWxlbWVudHNbNF0qPWMsQXIuZWxlbWVudHNbNV0qPWMsQXIuZWxlbWVudHNbNl0qPWMsQXIuZWxlbWVudHNbOF0qPWwsQXIuZWxlbWVudHNbOV0qPWwsQXIuZWxlbWVudHNbMTBdKj1sLGUuc2V0RnJvbVJvdGF0aW9uTWF0cml4KEFyKSxuLng9aSxuLnk9byxuLno9YSx0aGlzfW1ha2VQZXJzcGVjdGl2ZSh0LGUsbixyLGksbyl7dm9pZCAwPT09byYmY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLlwiKTtjb25zdCBhPXRoaXMuZWxlbWVudHMscz0yKmkvKGUtdCksYz0yKmkvKG4tciksbD0oZSt0KS8oZS10KSx1PShuK3IpLyhuLXIpLGg9LShvK2kpLyhvLWkpLGQ9LTIqbyppLyhvLWkpO3JldHVybiBhWzBdPXMsYVs0XT0wLGFbOF09bCxhWzEyXT0wLGFbMV09MCxhWzVdPWMsYVs5XT11LGFbMTNdPTAsYVsyXT0wLGFbNl09MCxhWzEwXT1oLGFbMTRdPWQsYVszXT0wLGFbN109MCxhWzExXT0tMSxhWzE1XT0wLHRoaXN9bWFrZU9ydGhvZ3JhcGhpYyh0LGUsbixyLGksbyl7Y29uc3QgYT10aGlzLmVsZW1lbnRzLHM9MS8oZS10KSxjPTEvKG4tciksbD0xLyhvLWkpLHU9KGUrdCkqcyxoPShuK3IpKmMsZD0obytpKSpsO3JldHVybiBhWzBdPTIqcyxhWzRdPTAsYVs4XT0wLGFbMTJdPS11LGFbMV09MCxhWzVdPTIqYyxhWzldPTAsYVsxM109LWgsYVsyXT0wLGFbNl09MCxhWzEwXT0tMipsLGFbMTRdPS1kLGFbM109MCxhWzddPTAsYVsxMV09MCxhWzE1XT0xLHRoaXN9ZXF1YWxzKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxuPXQuZWxlbWVudHM7Zm9yKGxldCB0PTA7dDwxNjt0KyspaWYoZVt0XSE9PW5bdF0pcmV0dXJuITE7cmV0dXJuITB9ZnJvbUFycmF5KHQsZT0wKXtmb3IobGV0IG49MDtuPDE2O24rKyl0aGlzLmVsZW1lbnRzW25dPXRbbitlXTtyZXR1cm4gdGhpc310b0FycmF5KHQ9W10sZT0wKXtjb25zdCBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbZV09blswXSx0W2UrMV09blsxXSx0W2UrMl09blsyXSx0W2UrM109blszXSx0W2UrNF09bls0XSx0W2UrNV09bls1XSx0W2UrNl09bls2XSx0W2UrN109bls3XSx0W2UrOF09bls4XSx0W2UrOV09bls5XSx0W2UrMTBdPW5bMTBdLHRbZSsxMV09blsxMV0sdFtlKzEyXT1uWzEyXSx0W2UrMTNdPW5bMTNdLHRbZSsxNF09blsxNF0sdFtlKzE1XT1uWzE1XSx0fX1jb25zdCBFcj1uZXcgS24sQXI9bmV3IFRyLExyPW5ldyBLbigwLDAsMCksUnI9bmV3IEtuKDEsMSwxKSxQcj1uZXcgS24sQ3I9bmV3IEtuLElyPW5ldyBLbjtjbGFzcyBPcntjb25zdHJ1Y3Rvcih0PTAsZT0wLG49MCxyPU9yLkRlZmF1bHRPcmRlcil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc0V1bGVyXCIse3ZhbHVlOiEwfSksdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fb3JkZXI9cn1nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KHQpe3RoaXMuX3g9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeSh0KXt0aGlzLl95PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHoodCl7dGhpcy5fej10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKHQpe3RoaXMuX29yZGVyPXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfXNldCh0LGUsbixyKXtyZXR1cm4gdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fb3JkZXI9cnx8dGhpcy5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpfWNvcHkodCl7cmV0dXJuIHRoaXMuX3g9dC5feCx0aGlzLl95PXQuX3ksdGhpcy5fej10Ll96LHRoaXMuX29yZGVyPXQuX29yZGVyLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeCh0LGUsbil7Y29uc3Qgcj16bi5jbGFtcCxpPXQuZWxlbWVudHMsbz1pWzBdLGE9aVs0XSxzPWlbOF0sYz1pWzFdLGw9aVs1XSx1PWlbOV0saD1pWzJdLGQ9aVs2XSxwPWlbMTBdO3N3aXRjaChlPWV8fHRoaXMuX29yZGVyKXtjYXNlXCJYWVpcIjp0aGlzLl95PU1hdGguYXNpbihyKHMsLTEsMSkpLE1hdGguYWJzKHMpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoLXUscCksdGhpcy5fej1NYXRoLmF0YW4yKC1hLG8pKToodGhpcy5feD1NYXRoLmF0YW4yKGQsbCksdGhpcy5fej0wKTticmVhaztjYXNlXCJZWFpcIjp0aGlzLl94PU1hdGguYXNpbigtcih1LC0xLDEpKSxNYXRoLmFicyh1KTwuOTk5OTk5OT8odGhpcy5feT1NYXRoLmF0YW4yKHMscCksdGhpcy5fej1NYXRoLmF0YW4yKGMsbCkpOih0aGlzLl95PU1hdGguYXRhbjIoLWgsbyksdGhpcy5fej0wKTticmVhaztjYXNlXCJaWFlcIjp0aGlzLl94PU1hdGguYXNpbihyKGQsLTEsMSkpLE1hdGguYWJzKGQpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoLWgscCksdGhpcy5fej1NYXRoLmF0YW4yKC1hLGwpKToodGhpcy5feT0wLHRoaXMuX3o9TWF0aC5hdGFuMihjLG8pKTticmVhaztjYXNlXCJaWVhcIjp0aGlzLl95PU1hdGguYXNpbigtcihoLC0xLDEpKSxNYXRoLmFicyhoKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQscCksdGhpcy5fej1NYXRoLmF0YW4yKGMsbykpOih0aGlzLl94PTAsdGhpcy5fej1NYXRoLmF0YW4yKC1hLGwpKTticmVhaztjYXNlXCJZWlhcIjp0aGlzLl96PU1hdGguYXNpbihyKGMsLTEsMSkpLE1hdGguYWJzKGMpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoLXUsbCksdGhpcy5feT1NYXRoLmF0YW4yKC1oLG8pKToodGhpcy5feD0wLHRoaXMuX3k9TWF0aC5hdGFuMihzLHApKTticmVhaztjYXNlXCJYWllcIjp0aGlzLl96PU1hdGguYXNpbigtcihhLC0xLDEpKSxNYXRoLmFicyhhKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQsbCksdGhpcy5feT1NYXRoLmF0YW4yKHMsbykpOih0aGlzLl94PU1hdGguYXRhbjIoLXUscCksdGhpcy5feT0wKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihcIlRIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogXCIrZSl9cmV0dXJuIHRoaXMuX29yZGVyPWUsITEhPT1uJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tUXVhdGVybmlvbih0LGUsbil7cmV0dXJuIE5yLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpLHRoaXMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KE5yLGUsbil9c2V0RnJvbVZlY3RvcjModCxlKXtyZXR1cm4gdGhpcy5zZXQodC54LHQueSx0LnosZXx8dGhpcy5fb3JkZXIpfXJlb3JkZXIodCl7cmV0dXJuIERyLnNldEZyb21FdWxlcih0aGlzKSx0aGlzLnNldEZyb21RdWF0ZXJuaW9uKERyLHQpfWVxdWFscyh0KXtyZXR1cm4gdC5feD09PXRoaXMuX3gmJnQuX3k9PT10aGlzLl95JiZ0Ll96PT09dGhpcy5feiYmdC5fb3JkZXI9PT10aGlzLl9vcmRlcn1mcm9tQXJyYXkodCl7cmV0dXJuIHRoaXMuX3g9dFswXSx0aGlzLl95PXRbMV0sdGhpcy5fej10WzJdLHZvaWQgMCE9PXRbM10mJih0aGlzLl9vcmRlcj10WzNdKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLl94LHRbZSsxXT10aGlzLl95LHRbZSsyXT10aGlzLl96LHRbZSszXT10aGlzLl9vcmRlcix0fXRvVmVjdG9yMyh0KXtyZXR1cm4gdD90LnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6bmV3IEtuKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1fb25DaGFuZ2UodCl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9dCx0aGlzfV9vbkNoYW5nZUNhbGxiYWNrKCl7fX1Pci5EZWZhdWx0T3JkZXI9XCJYWVpcIixPci5Sb3RhdGlvbk9yZGVycz1bXCJYWVpcIixcIllaWFwiLFwiWlhZXCIsXCJYWllcIixcIllYWlwiLFwiWllYXCJdO2NvbnN0IE5yPW5ldyBUcixEcj1uZXcgSm47Y2xhc3MgQnJ7Y29uc3RydWN0b3IoKXt0aGlzLm1hc2s9MX1zZXQodCl7dGhpcy5tYXNrPTE8PHR8MH1lbmFibGUodCl7dGhpcy5tYXNrfD0xPDx0fDB9ZW5hYmxlQWxsKCl7dGhpcy5tYXNrPS0xfXRvZ2dsZSh0KXt0aGlzLm1hc2tePTE8PHR8MH1kaXNhYmxlKHQpe3RoaXMubWFzayY9figxPDx0fDApfWRpc2FibGVBbGwoKXt0aGlzLm1hc2s9MH10ZXN0KHQpe3JldHVybiAwIT0odGhpcy5tYXNrJnQubWFzayl9fWxldCBGcj0wO2NvbnN0IFVyPW5ldyBLbix6cj1uZXcgSm4sR3I9bmV3IFRyLEhyPW5ldyBLbixrcj1uZXcgS24sVnI9bmV3IEtuLGpyPW5ldyBKbixXcj1uZXcgS24oMSwwLDApLFhyPW5ldyBLbigwLDEsMCkscXI9bmV3IEtuKDAsMCwxKSxZcj17dHlwZTpcImFkZGVkXCJ9LFpyPXt0eXBlOlwicmVtb3ZlZFwifTtmdW5jdGlvbiBKcigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7dmFsdWU6RnIrK30pLHRoaXMudXVpZD16bi5nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9XCJcIix0aGlzLnR5cGU9XCJPYmplY3QzRFwiLHRoaXMucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLnVwPUpyLkRlZmF1bHRVcC5jbG9uZSgpO2NvbnN0IHQ9bmV3IEtuLGU9bmV3IE9yLG49bmV3IEpuLHI9bmV3IEtuKDEsMSwxKTtlLl9vbkNoYW5nZSgoZnVuY3Rpb24oKXtuLnNldEZyb21FdWxlcihlLCExKX0pKSxuLl9vbkNoYW5nZSgoZnVuY3Rpb24oKXtlLnNldEZyb21RdWF0ZXJuaW9uKG4sdm9pZCAwLCExKX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwb3NpdGlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dH0scm90YXRpb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmV9LHF1YXRlcm5pb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm59LHNjYWxlOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpyfSxtb2RlbFZpZXdNYXRyaXg6e3ZhbHVlOm5ldyBUcn0sbm9ybWFsTWF0cml4Ont2YWx1ZTpuZXcgSG59fSksdGhpcy5tYXRyaXg9bmV3IFRyLHRoaXMubWF0cml4V29ybGQ9bmV3IFRyLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1Kci5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITEsdGhpcy5sYXllcnM9bmV3IEJyLHRoaXMudmlzaWJsZT0hMCx0aGlzLmNhc3RTaGFkb3c9ITEsdGhpcy5yZWNlaXZlU2hhZG93PSExLHRoaXMuZnJ1c3R1bUN1bGxlZD0hMCx0aGlzLnJlbmRlck9yZGVyPTAsdGhpcy5hbmltYXRpb25zPVtdLHRoaXMudXNlckRhdGE9e319SnIuRGVmYXVsdFVwPW5ldyBLbigwLDEsMCksSnIuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGU9ITAsSnIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShCbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpKcixpc09iamVjdDNEOiEwLG9uQmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7fSxvbkFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7fSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7dGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMubWF0cml4LnByZW11bHRpcGx5KHQpLHRoaXMubWF0cml4LmRlY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKX0sYXBwbHlRdWF0ZXJuaW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkodCksdGhpc30sc2V0Um90YXRpb25Gcm9tQXhpc0FuZ2xlOmZ1bmN0aW9uKHQsZSl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUodCxlKX0sc2V0Um90YXRpb25Gcm9tRXVsZXI6ZnVuY3Rpb24odCl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcih0LCEwKX0sc2V0Um90YXRpb25Gcm9tTWF0cml4OmZ1bmN0aW9uKHQpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgodCl9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24odCl7dGhpcy5xdWF0ZXJuaW9uLmNvcHkodCl9LHJvdGF0ZU9uQXhpczpmdW5jdGlvbih0LGUpe3JldHVybiB6ci5zZXRGcm9tQXhpc0FuZ2xlKHQsZSksdGhpcy5xdWF0ZXJuaW9uLm11bHRpcGx5KHpyKSx0aGlzfSxyb3RhdGVPbldvcmxkQXhpczpmdW5jdGlvbih0LGUpe3JldHVybiB6ci5zZXRGcm9tQXhpc0FuZ2xlKHQsZSksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KHpyKSx0aGlzfSxyb3RhdGVYOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhXcix0KX0scm90YXRlWTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoWHIsdCl9LHJvdGF0ZVo6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKHFyLHQpfSx0cmFuc2xhdGVPbkF4aXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVXIuY29weSh0KS5hcHBseVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKSx0aGlzLnBvc2l0aW9uLmFkZChVci5tdWx0aXBseVNjYWxhcihlKSksdGhpc30sdHJhbnNsYXRlWDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoV3IsdCl9LHRyYW5zbGF0ZVk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKFhyLHQpfSx0cmFuc2xhdGVaOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhxcix0KX0sbG9jYWxUb1dvcmxkOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKX0sd29ybGRUb0xvY2FsOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFwcGx5TWF0cml4NChHci5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpKX0sbG9va0F0OmZ1bmN0aW9uKHQsZSxuKXt0LmlzVmVjdG9yMz9Ici5jb3B5KHQpOkhyLnNldCh0LGUsbik7Y29uc3Qgcj10aGlzLnBhcmVudDt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSxrci5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCksdGhpcy5pc0NhbWVyYXx8dGhpcy5pc0xpZ2h0P0dyLmxvb2tBdChrcixIcix0aGlzLnVwKTpHci5sb29rQXQoSHIsa3IsdGhpcy51cCksdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChHciksciYmKEdyLmV4dHJhY3RSb3RhdGlvbihyLm1hdHJpeFdvcmxkKSx6ci5zZXRGcm9tUm90YXRpb25NYXRyaXgoR3IpLHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseSh6ci5pbnZlcnQoKSkpfSxhZGQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXRoaXMuYWRkKGFyZ3VtZW50c1t0XSk7cmV0dXJuIHRoaXN9cmV0dXJuIHQ9PT10aGlzPyhjb25zb2xlLmVycm9yKFwiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuXCIsdCksdGhpcyk6KHQmJnQuaXNPYmplY3QzRD8obnVsbCE9PXQucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCksdC5wYXJlbnQ9dGhpcyx0aGlzLmNoaWxkcmVuLnB1c2godCksdC5kaXNwYXRjaEV2ZW50KFlyKSk6Y29uc29sZS5lcnJvcihcIlRIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5PYmplY3QzRC5cIix0KSx0aGlzKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKGxldCB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl0aGlzLnJlbW92ZShhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfWNvbnN0IGU9dGhpcy5jaGlsZHJlbi5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmKHQucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UoZSwxKSx0LmRpc3BhdGNoRXZlbnQoWnIpKSx0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuY2hpbGRyZW5bdF07ZS5wYXJlbnQ9bnVsbCxlLmRpc3BhdGNoRXZlbnQoWnIpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD0wLHRoaXN9LGF0dGFjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksR3IuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKSxudWxsIT09dC5wYXJlbnQmJih0LnBhcmVudC51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksR3IubXVsdGlwbHkodC5wYXJlbnQubWF0cml4V29ybGQpKSx0LmFwcGx5TWF0cml4NChHciksdC51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSksdGhpcy5hZGQodCksdGhpc30sZ2V0T2JqZWN0QnlJZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KFwiaWRcIix0KX0sZ2V0T2JqZWN0QnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdEJ5UHJvcGVydHkoXCJuYW1lXCIsdCl9LGdldE9iamVjdEJ5UHJvcGVydHk6ZnVuY3Rpb24odCxlKXtpZih0aGlzW3RdPT09ZSlyZXR1cm4gdGhpcztmb3IobGV0IG49MCxyPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9dGhpcy5jaGlsZHJlbltuXS5nZXRPYmplY3RCeVByb3BlcnR5KHQsZSk7aWYodm9pZCAwIT09cilyZXR1cm4gcn19LGdldFdvcmxkUG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUG9zaXRpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEtuKSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0LnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKX0sZ2V0V29ybGRRdWF0ZXJuaW9uOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFF1YXRlcm5pb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEpuKSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShrcix0LFZyKSx0fSxnZXRXb3JsZFNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFNjYWxlKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBLbiksdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2Uoa3IsanIsdCksdH0sZ2V0V29ybGREaXJlY3Rpb246ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGREaXJlY3Rpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEtuKSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTtjb25zdCBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHQuc2V0KGVbOF0sZVs5XSxlWzEwXSkubm9ybWFsaXplKCl9LHJheWNhc3Q6ZnVuY3Rpb24oKXt9LHRyYXZlcnNlOmZ1bmN0aW9uKHQpe3QodGhpcyk7Y29uc3QgZT10aGlzLmNoaWxkcmVuO2ZvcihsZXQgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyllW25dLnRyYXZlcnNlKHQpfSx0cmF2ZXJzZVZpc2libGU6ZnVuY3Rpb24odCl7aWYoITE9PT10aGlzLnZpc2libGUpcmV0dXJuO3QodGhpcyk7Y29uc3QgZT10aGlzLmNoaWxkcmVuO2ZvcihsZXQgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyllW25dLnRyYXZlcnNlVmlzaWJsZSh0KX0sdHJhdmVyc2VBbmNlc3RvcnM6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLnBhcmVudDtudWxsIT09ZSYmKHQoZSksZS50cmF2ZXJzZUFuY2VzdG9ycyh0KSl9LHVwZGF0ZU1hdHJpeDpmdW5jdGlvbigpe3RoaXMubWF0cml4LmNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbih0KXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8dCkmJihudWxsPT09dGhpcy5wYXJlbnQ/dGhpcy5tYXRyaXhXb3JsZC5jb3B5KHRoaXMubWF0cml4KTp0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsdGhpcy5tYXRyaXgpLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSx0PSEwKTtjb25zdCBlPXRoaXMuY2hpbGRyZW47Zm9yKGxldCBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWVbbl0udXBkYXRlTWF0cml4V29ybGQodCl9LHVwZGF0ZVdvcmxkTWF0cml4OmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLnBhcmVudDtpZighMD09PXQmJm51bGwhPT1uJiZuLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksbnVsbD09PXRoaXMucGFyZW50P3RoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk6dGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSwhMD09PWUpe2NvbnN0IHQ9dGhpcy5jaGlsZHJlbjtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdFtlXS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMCl9fSx0b0pTT046ZnVuY3Rpb24odCl7Y29uc3QgZT12b2lkIDA9PT10fHxcInN0cmluZ1wiPT10eXBlb2YgdCxuPXt9O2UmJih0PXtnZW9tZXRyaWVzOnt9LG1hdGVyaWFsczp7fSx0ZXh0dXJlczp7fSxpbWFnZXM6e30sc2hhcGVzOnt9LHNrZWxldG9uczp7fSxhbmltYXRpb25zOnt9fSxuLm1ldGFkYXRhPXt2ZXJzaW9uOjQuNSx0eXBlOlwiT2JqZWN0XCIsZ2VuZXJhdG9yOlwiT2JqZWN0M0QudG9KU09OXCJ9KTtjb25zdCByPXt9O2Z1bmN0aW9uIGkoZSxuKXtyZXR1cm4gdm9pZCAwPT09ZVtuLnV1aWRdJiYoZVtuLnV1aWRdPW4udG9KU09OKHQpKSxuLnV1aWR9aWYoci51dWlkPXRoaXMudXVpZCxyLnR5cGU9dGhpcy50eXBlLFwiXCIhPT10aGlzLm5hbWUmJihyLm5hbWU9dGhpcy5uYW1lKSwhMD09PXRoaXMuY2FzdFNoYWRvdyYmKHIuY2FzdFNoYWRvdz0hMCksITA9PT10aGlzLnJlY2VpdmVTaGFkb3cmJihyLnJlY2VpdmVTaGFkb3c9ITApLCExPT09dGhpcy52aXNpYmxlJiYoci52aXNpYmxlPSExKSwhMT09PXRoaXMuZnJ1c3R1bUN1bGxlZCYmKHIuZnJ1c3R1bUN1bGxlZD0hMSksMCE9PXRoaXMucmVuZGVyT3JkZXImJihyLnJlbmRlck9yZGVyPXRoaXMucmVuZGVyT3JkZXIpLFwie31cIiE9PUpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpJiYoci51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSxyLmxheWVycz10aGlzLmxheWVycy5tYXNrLHIubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKSwhMT09PXRoaXMubWF0cml4QXV0b1VwZGF0ZSYmKHIubWF0cml4QXV0b1VwZGF0ZT0hMSksdGhpcy5pc0luc3RhbmNlZE1lc2gmJihyLnR5cGU9XCJJbnN0YW5jZWRNZXNoXCIsci5jb3VudD10aGlzLmNvdW50LHIuaW5zdGFuY2VNYXRyaXg9dGhpcy5pbnN0YW5jZU1hdHJpeC50b0pTT04oKSksdGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtyLmdlb21ldHJ5PWkodC5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IGU9dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuc2hhcGVzKXtjb25zdCBuPWUuc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBlPTAscj1uLmxlbmd0aDtlPHI7ZSsrKXtjb25zdCByPW5bZV07aSh0LnNoYXBlcyxyKX1lbHNlIGkodC5zaGFwZXMsbil9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKHIuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxyLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx2b2lkIDAhPT10aGlzLnNrZWxldG9uJiYoaSh0LnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxyLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHZvaWQgMCE9PXRoaXMubWF0ZXJpYWwpaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3QgZT1bXTtmb3IobGV0IG49MCxyPXRoaXMubWF0ZXJpYWwubGVuZ3RoO248cjtuKyspZS5wdXNoKGkodC5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtuXSkpO3IubWF0ZXJpYWw9ZX1lbHNlIHIubWF0ZXJpYWw9aSh0Lm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtyLmNoaWxkcmVuPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXIuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2VdLnRvSlNPTih0KS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7ci5hbmltYXRpb25zPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtlKyspe2NvbnN0IG49dGhpcy5hbmltYXRpb25zW2VdO3IuYW5pbWF0aW9ucy5wdXNoKGkodC5hbmltYXRpb25zLG4pKX19aWYoZSl7Y29uc3QgZT1vKHQuZ2VvbWV0cmllcykscj1vKHQubWF0ZXJpYWxzKSxpPW8odC50ZXh0dXJlcyksYT1vKHQuaW1hZ2VzKSxzPW8odC5zaGFwZXMpLGM9byh0LnNrZWxldG9ucyksbD1vKHQuYW5pbWF0aW9ucyk7ZS5sZW5ndGg+MCYmKG4uZ2VvbWV0cmllcz1lKSxyLmxlbmd0aD4wJiYobi5tYXRlcmlhbHM9ciksaS5sZW5ndGg+MCYmKG4udGV4dHVyZXM9aSksYS5sZW5ndGg+MCYmKG4uaW1hZ2VzPWEpLHMubGVuZ3RoPjAmJihuLnNoYXBlcz1zKSxjLmxlbmd0aD4wJiYobi5za2VsZXRvbnM9YyksbC5sZW5ndGg+MCYmKG4uYW5pbWF0aW9ucz1sKX1yZXR1cm4gbi5vYmplY3Q9cixuO2Z1bmN0aW9uIG8odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCByPXRbbl07ZGVsZXRlIHIubWV0YWRhdGEsZS5wdXNoKHIpfXJldHVybiBlfX0sY2xvbmU6ZnVuY3Rpb24odCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMsdCl9LGNvcHk6ZnVuY3Rpb24odCxlPSEwKXtpZih0aGlzLm5hbWU9dC5uYW1lLHRoaXMudXAuY29weSh0LnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj10LnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KHQucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KHQuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkodC5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9dC5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT10Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz10LmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT10LnZpc2libGUsdGhpcy5jYXN0U2hhZG93PXQuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9dC5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD10LmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj10LnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0LnVzZXJEYXRhKSksITA9PT1lKWZvcihsZXQgZT0wO2U8dC5jaGlsZHJlbi5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuY2hpbGRyZW5bZV07dGhpcy5hZGQobi5jbG9uZSgpKX1yZXR1cm4gdGhpc319KTtjb25zdCBLcj1uZXcgS24sUXI9bmV3IEtuLCRyPW5ldyBIbjtjbGFzcyB0aXtjb25zdHJ1Y3Rvcih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNQbGFuZVwiLHt2YWx1ZTohMH0pLHRoaXMubm9ybWFsPXZvaWQgMCE9PXQ/dDpuZXcgS24oMSwwLDApLHRoaXMuY29uc3RhbnQ9dm9pZCAwIT09ZT9lOjB9c2V0KHQsZSl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkodCksdGhpcy5jb25zdGFudD1lLHRoaXN9c2V0Q29tcG9uZW50cyh0LGUsbixyKXtyZXR1cm4gdGhpcy5ub3JtYWwuc2V0KHQsZSxuKSx0aGlzLmNvbnN0YW50PXIsdGhpc31zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCh0LGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQpLHRoaXMuY29uc3RhbnQ9LWUuZG90KHRoaXMubm9ybWFsKSx0aGlzfXNldEZyb21Db3BsYW5hclBvaW50cyh0LGUsbil7Y29uc3Qgcj1Lci5zdWJWZWN0b3JzKG4sZSkuY3Jvc3MoUXIuc3ViVmVjdG9ycyh0LGUpKS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpcy5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludChyLHQpLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0Lm5vcm1hbCksdGhpcy5jb25zdGFudD10LmNvbnN0YW50LHRoaXN9bm9ybWFsaXplKCl7Y29uc3QgdD0xL3RoaXMubm9ybWFsLmxlbmd0aCgpO3JldHVybiB0aGlzLm5vcm1hbC5tdWx0aXBseVNjYWxhcih0KSx0aGlzLmNvbnN0YW50Kj10LHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMuY29uc3RhbnQqPS0xLHRoaXMubm9ybWFsLm5lZ2F0ZSgpLHRoaXN9ZGlzdGFuY2VUb1BvaW50KHQpe3JldHVybiB0aGlzLm5vcm1hbC5kb3QodCkrdGhpcy5jb25zdGFudH1kaXN0YW5jZVRvU3BoZXJlKHQpe3JldHVybiB0aGlzLmRpc3RhbmNlVG9Qb2ludCh0LmNlbnRlciktdC5yYWRpdXN9cHJvamVjdFBvaW50KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgS24pLGUuY29weSh0aGlzLm5vcm1hbCkubXVsdGlwbHlTY2FsYXIoLXRoaXMuZGlzdGFuY2VUb1BvaW50KHQpKS5hZGQodCl9aW50ZXJzZWN0TGluZSh0LGUpe3ZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEtuKTtjb25zdCBuPXQuZGVsdGEoS3IpLHI9dGhpcy5ub3JtYWwuZG90KG4pO2lmKDA9PT1yKXJldHVybiAwPT09dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCk/ZS5jb3B5KHQuc3RhcnQpOnZvaWQgMDtjb25zdCBpPS0odC5zdGFydC5kb3QodGhpcy5ub3JtYWwpK3RoaXMuY29uc3RhbnQpL3I7cmV0dXJuIGk8MHx8aT4xP3ZvaWQgMDplLmNvcHkobikubXVsdGlwbHlTY2FsYXIoaSkuYWRkKHQuc3RhcnQpfWludGVyc2VjdHNMaW5lKHQpe2NvbnN0IGU9dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCksbj10aGlzLmRpc3RhbmNlVG9Qb2ludCh0LmVuZCk7cmV0dXJuIGU8MCYmbj4wfHxuPDAmJmU+MH1pbnRlcnNlY3RzQm94KHQpe3JldHVybiB0LmludGVyc2VjdHNQbGFuZSh0aGlzKX1pbnRlcnNlY3RzU3BoZXJlKHQpe3JldHVybiB0LmludGVyc2VjdHNQbGFuZSh0aGlzKX1jb3BsYW5hclBvaW50KHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuUGxhbmU6IC5jb3BsYW5hclBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBLbiksdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCl9YXBwbHlNYXRyaXg0KHQsZSl7Y29uc3Qgbj1lfHwkci5nZXROb3JtYWxNYXRyaXgodCkscj10aGlzLmNvcGxhbmFyUG9pbnQoS3IpLmFwcGx5TWF0cml4NCh0KSxpPXRoaXMubm9ybWFsLmFwcGx5TWF0cml4MyhuKS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpcy5jb25zdGFudD0tci5kb3QoaSksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMuY29uc3RhbnQtPXQuZG90KHRoaXMubm9ybWFsKSx0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC5ub3JtYWwuZXF1YWxzKHRoaXMubm9ybWFsKSYmdC5jb25zdGFudD09PXRoaXMuY29uc3RhbnR9fWNvbnN0IGVpPW5ldyBLbixuaT1uZXcgS24scmk9bmV3IEtuLGlpPW5ldyBLbixvaT1uZXcgS24sYWk9bmV3IEtuLHNpPW5ldyBLbixjaT1uZXcgS24sbGk9bmV3IEtuLHVpPW5ldyBLbjtjbGFzcyBoaXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5hPXZvaWQgMCE9PXQ/dDpuZXcgS24sdGhpcy5iPXZvaWQgMCE9PWU/ZTpuZXcgS24sdGhpcy5jPXZvaWQgMCE9PW4/bjpuZXcgS259c3RhdGljIGdldE5vcm1hbCh0LGUsbixyKXt2b2lkIDA9PT1yJiYoY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5nZXROb3JtYWwoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHI9bmV3IEtuKSxyLnN1YlZlY3RvcnMobixlKSxlaS5zdWJWZWN0b3JzKHQsZSksci5jcm9zcyhlaSk7Y29uc3QgaT1yLmxlbmd0aFNxKCk7cmV0dXJuIGk+MD9yLm11bHRpcGx5U2NhbGFyKDEvTWF0aC5zcXJ0KGkpKTpyLnNldCgwLDAsMCl9c3RhdGljIGdldEJhcnljb29yZCh0LGUsbixyLGkpe2VpLnN1YlZlY3RvcnMocixlKSxuaS5zdWJWZWN0b3JzKG4sZSkscmkuc3ViVmVjdG9ycyh0LGUpO2NvbnN0IG89ZWkuZG90KGVpKSxhPWVpLmRvdChuaSkscz1laS5kb3QocmkpLGM9bmkuZG90KG5pKSxsPW5pLmRvdChyaSksdT1vKmMtYSphO2lmKHZvaWQgMD09PWkmJihjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLmdldEJhcnljb29yZCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksaT1uZXcgS24pLDA9PT11KXJldHVybiBpLnNldCgtMiwtMSwtMSk7Y29uc3QgaD0xL3UsZD0oYypzLWEqbCkqaCxwPShvKmwtYSpzKSpoO3JldHVybiBpLnNldCgxLWQtcCxwLGQpfXN0YXRpYyBjb250YWluc1BvaW50KHQsZSxuLHIpe3JldHVybiB0aGlzLmdldEJhcnljb29yZCh0LGUsbixyLGlpKSxpaS54Pj0wJiZpaS55Pj0wJiZpaS54K2lpLnk8PTF9c3RhdGljIGdldFVWKHQsZSxuLHIsaSxvLGEscyl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKHQsZSxuLHIsaWkpLHMuc2V0KDAsMCkscy5hZGRTY2FsZWRWZWN0b3IoaSxpaS54KSxzLmFkZFNjYWxlZFZlY3RvcihvLGlpLnkpLHMuYWRkU2NhbGVkVmVjdG9yKGEsaWkueiksc31zdGF0aWMgaXNGcm9udEZhY2luZyh0LGUsbixyKXtyZXR1cm4gZWkuc3ViVmVjdG9ycyhuLGUpLG5pLnN1YlZlY3RvcnModCxlKSxlaS5jcm9zcyhuaSkuZG90KHIpPDB9c2V0KHQsZSxuKXtyZXR1cm4gdGhpcy5hLmNvcHkodCksdGhpcy5iLmNvcHkoZSksdGhpcy5jLmNvcHkobiksdGhpc31zZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyh0LGUsbixyKXtyZXR1cm4gdGhpcy5hLmNvcHkodFtlXSksdGhpcy5iLmNvcHkodFtuXSksdGhpcy5jLmNvcHkodFtyXSksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe3JldHVybiB0aGlzLmEuY29weSh0LmEpLHRoaXMuYi5jb3B5KHQuYiksdGhpcy5jLmNvcHkodC5jKSx0aGlzfWdldEFyZWEoKXtyZXR1cm4gZWkuc3ViVmVjdG9ycyh0aGlzLmMsdGhpcy5iKSxuaS5zdWJWZWN0b3JzKHRoaXMuYSx0aGlzLmIpLC41KmVpLmNyb3NzKG5pKS5sZW5ndGgoKX1nZXRNaWRwb2ludCh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAuZ2V0TWlkcG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEtuKSx0LmFkZFZlY3RvcnModGhpcy5hLHRoaXMuYikuYWRkKHRoaXMuYykubXVsdGlwbHlTY2FsYXIoMS8zKX1nZXROb3JtYWwodCl7cmV0dXJuIGhpLmdldE5vcm1hbCh0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX1nZXRQbGFuZSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAuZ2V0UGxhbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IHRpKSx0LnNldEZyb21Db3BsYW5hclBvaW50cyh0aGlzLmEsdGhpcy5iLHRoaXMuYyl9Z2V0QmFyeWNvb3JkKHQsZSl7cmV0dXJuIGhpLmdldEJhcnljb29yZCh0LHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWdldFVWKHQsZSxuLHIsaSl7cmV0dXJuIGhpLmdldFVWKHQsdGhpcy5hLHRoaXMuYix0aGlzLmMsZSxuLHIsaSl9Y29udGFpbnNQb2ludCh0KXtyZXR1cm4gaGkuY29udGFpbnNQb2ludCh0LHRoaXMuYSx0aGlzLmIsdGhpcy5jKX1pc0Zyb250RmFjaW5nKHQpe3JldHVybiBoaS5pc0Zyb250RmFjaW5nKHRoaXMuYSx0aGlzLmIsdGhpcy5jLHQpfWludGVyc2VjdHNCb3godCl7cmV0dXJuIHQuaW50ZXJzZWN0c1RyaWFuZ2xlKHRoaXMpfWNsb3Nlc3RQb2ludFRvUG9pbnQodCxlKXt2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBLbik7Y29uc3Qgbj10aGlzLmEscj10aGlzLmIsaT10aGlzLmM7bGV0IG8sYTtvaS5zdWJWZWN0b3JzKHIsbiksYWkuc3ViVmVjdG9ycyhpLG4pLGNpLnN1YlZlY3RvcnModCxuKTtjb25zdCBzPW9pLmRvdChjaSksYz1haS5kb3QoY2kpO2lmKHM8PTAmJmM8PTApcmV0dXJuIGUuY29weShuKTtsaS5zdWJWZWN0b3JzKHQscik7Y29uc3QgbD1vaS5kb3QobGkpLHU9YWkuZG90KGxpKTtpZihsPj0wJiZ1PD1sKXJldHVybiBlLmNvcHkocik7Y29uc3QgaD1zKnUtbCpjO2lmKGg8PTAmJnM+PTAmJmw8PTApcmV0dXJuIG89cy8ocy1sKSxlLmNvcHkobikuYWRkU2NhbGVkVmVjdG9yKG9pLG8pO3VpLnN1YlZlY3RvcnModCxpKTtjb25zdCBkPW9pLmRvdCh1aSkscD1haS5kb3QodWkpO2lmKHA+PTAmJmQ8PXApcmV0dXJuIGUuY29weShpKTtjb25zdCBmPWQqYy1zKnA7aWYoZjw9MCYmYz49MCYmcDw9MClyZXR1cm4gYT1jLyhjLXApLGUuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoYWksYSk7Y29uc3QgbT1sKnAtZCp1O2lmKG08PTAmJnUtbD49MCYmZC1wPj0wKXJldHVybiBzaS5zdWJWZWN0b3JzKGksciksYT0odS1sKS8odS1sKyhkLXApKSxlLmNvcHkocikuYWRkU2NhbGVkVmVjdG9yKHNpLGEpO2NvbnN0IGc9MS8obStmK2gpO3JldHVybiBvPWYqZyxhPWgqZyxlLmNvcHkobikuYWRkU2NhbGVkVmVjdG9yKG9pLG8pLmFkZFNjYWxlZFZlY3RvcihhaSxhKX1lcXVhbHModCl7cmV0dXJuIHQuYS5lcXVhbHModGhpcy5hKSYmdC5iLmVxdWFscyh0aGlzLmIpJiZ0LmMuZXF1YWxzKHRoaXMuYyl9fWNvbnN0IGRpPXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9LHBpPXtoOjAsczowLGw6MH0sZmk9e2g6MCxzOjAsbDowfTtmdW5jdGlvbiBtaSh0LGUsbil7cmV0dXJuIG48MCYmKG4rPTEpLG4+MSYmKG4tPTEpLG48MS82P3QrNiooZS10KSpuOm48LjU/ZTpuPDIvMz90KzYqKGUtdCkqKDIvMy1uKTp0fWZ1bmN0aW9uIGdpKHQpe3JldHVybiB0PC4wNDA0NT8uMDc3Mzk5MzgwOCp0Ok1hdGgucG93KC45NDc4NjcyOTg2KnQrLjA1MjEzMjcwMTQsMi40KX1mdW5jdGlvbiB2aSh0KXtyZXR1cm4gdDwuMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsLjQxNjY2KS0uMDU1fWNsYXNzIHlpe2NvbnN0cnVjdG9yKHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc0NvbG9yXCIse3ZhbHVlOiEwfSksdm9pZCAwPT09ZSYmdm9pZCAwPT09bj90aGlzLnNldCh0KTp0aGlzLnNldFJHQih0LGUsbil9c2V0KHQpe3JldHVybiB0JiZ0LmlzQ29sb3I/dGhpcy5jb3B5KHQpOlwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuc2V0SGV4KHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLnNldFN0eWxlKHQpLHRoaXN9c2V0U2NhbGFyKHQpe3JldHVybiB0aGlzLnI9dCx0aGlzLmc9dCx0aGlzLmI9dCx0aGlzfXNldEhleCh0KXtyZXR1cm4gdD1NYXRoLmZsb29yKHQpLHRoaXMucj0odD4+MTYmMjU1KS8yNTUsdGhpcy5nPSh0Pj44JjI1NSkvMjU1LHRoaXMuYj0oMjU1JnQpLzI1NSx0aGlzfXNldFJHQih0LGUsbil7cmV0dXJuIHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1uLHRoaXN9c2V0SFNMKHQsZSxuKXtpZih0PXpuLmV1Y2xpZGVhbk1vZHVsbyh0LDEpLGU9em4uY2xhbXAoZSwwLDEpLG49em4uY2xhbXAobiwwLDEpLDA9PT1lKXRoaXMucj10aGlzLmc9dGhpcy5iPW47ZWxzZXtjb25zdCByPW48PS41P24qKDErZSk6bitlLW4qZSxpPTIqbi1yO3RoaXMucj1taShpLHIsdCsxLzMpLHRoaXMuZz1taShpLHIsdCksdGhpcy5iPW1pKGkscix0LTEvMyl9cmV0dXJuIHRoaXN9c2V0U3R5bGUodCl7ZnVuY3Rpb24gZShlKXt2b2lkIDAhPT1lJiZwYXJzZUZsb2F0KGUpPDEmJmNvbnNvbGUud2FybihcIlRIUkVFLkNvbG9yOiBBbHBoYSBjb21wb25lbnQgb2YgXCIrdCtcIiB3aWxsIGJlIGlnbm9yZWQuXCIpfWxldCBuO2lmKG49L14oKD86cmdifGhzbClhPylcXChcXHMqKFteXFwpXSopXFwpLy5leGVjKHQpKXtsZXQgdDtjb25zdCByPW5bMV0saT1uWzJdO3N3aXRjaChyKXtjYXNlXCJyZ2JcIjpjYXNlXCJyZ2JhXCI6aWYodD0vXihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyooLFxccyooWzAtOV0qXFwuP1swLTldKylcXHMqKT8kLy5leGVjKGkpKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMjU1LHBhcnNlSW50KHRbMV0sMTApKS8yNTUsdGhpcy5nPU1hdGgubWluKDI1NSxwYXJzZUludCh0WzJdLDEwKSkvMjU1LHRoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQodFszXSwxMCkpLzI1NSxlKHRbNV0pLHRoaXM7aWYodD0vXihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooLFxccyooWzAtOV0qXFwuP1swLTldKylcXHMqKT8kLy5leGVjKGkpKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMTAwLHBhcnNlSW50KHRbMV0sMTApKS8xMDAsdGhpcy5nPU1hdGgubWluKDEwMCxwYXJzZUludCh0WzJdLDEwKSkvMTAwLHRoaXMuYj1NYXRoLm1pbigxMDAscGFyc2VJbnQodFszXSwxMCkpLzEwMCxlKHRbNV0pLHRoaXM7YnJlYWs7Y2FzZVwiaHNsXCI6Y2FzZVwiaHNsYVwiOmlmKHQ9L14oWzAtOV0qXFwuP1swLTldKylcXHMqLFxccyooXFxkKylcXCVcXHMqLFxccyooXFxkKylcXCVcXHMqKCxcXHMqKFswLTldKlxcLj9bMC05XSspXFxzKik/JC8uZXhlYyhpKSl7Y29uc3Qgbj1wYXJzZUZsb2F0KHRbMV0pLzM2MCxyPXBhcnNlSW50KHRbMl0sMTApLzEwMCxpPXBhcnNlSW50KHRbM10sMTApLzEwMDtyZXR1cm4gZSh0WzVdKSx0aGlzLnNldEhTTChuLHIsaSl9fX1lbHNlIGlmKG49L15cXCMoW0EtRmEtZjAtOV0rKSQvLmV4ZWModCkpe2NvbnN0IHQ9blsxXSxlPXQubGVuZ3RoO2lmKDM9PT1lKXJldHVybiB0aGlzLnI9cGFyc2VJbnQodC5jaGFyQXQoMCkrdC5jaGFyQXQoMCksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQodC5jaGFyQXQoMSkrdC5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQodC5jaGFyQXQoMikrdC5jaGFyQXQoMiksMTYpLzI1NSx0aGlzO2lmKDY9PT1lKXJldHVybiB0aGlzLnI9cGFyc2VJbnQodC5jaGFyQXQoMCkrdC5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQodC5jaGFyQXQoMikrdC5jaGFyQXQoMyksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQodC5jaGFyQXQoNCkrdC5jaGFyQXQoNSksMTYpLzI1NSx0aGlzfXJldHVybiB0JiZ0Lmxlbmd0aD4wP3RoaXMuc2V0Q29sb3JOYW1lKHQpOnRoaXN9c2V0Q29sb3JOYW1lKHQpe2NvbnN0IGU9ZGlbdF07cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy5zZXRIZXgoZSk6Y29uc29sZS53YXJuKFwiVEhSRUUuQ29sb3I6IFVua25vd24gY29sb3IgXCIrdCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weSh0KXtyZXR1cm4gdGhpcy5yPXQucix0aGlzLmc9dC5nLHRoaXMuYj10LmIsdGhpc31jb3B5R2FtbWFUb0xpbmVhcih0LGU9Mil7cmV0dXJuIHRoaXMucj1NYXRoLnBvdyh0LnIsZSksdGhpcy5nPU1hdGgucG93KHQuZyxlKSx0aGlzLmI9TWF0aC5wb3codC5iLGUpLHRoaXN9Y29weUxpbmVhclRvR2FtbWEodCxlPTIpe2NvbnN0IG49ZT4wPzEvZToxO3JldHVybiB0aGlzLnI9TWF0aC5wb3codC5yLG4pLHRoaXMuZz1NYXRoLnBvdyh0LmcsbiksdGhpcy5iPU1hdGgucG93KHQuYixuKSx0aGlzfWNvbnZlcnRHYW1tYVRvTGluZWFyKHQpe3JldHVybiB0aGlzLmNvcHlHYW1tYVRvTGluZWFyKHRoaXMsdCksdGhpc31jb252ZXJ0TGluZWFyVG9HYW1tYSh0KXtyZXR1cm4gdGhpcy5jb3B5TGluZWFyVG9HYW1tYSh0aGlzLHQpLHRoaXN9Y29weVNSR0JUb0xpbmVhcih0KXtyZXR1cm4gdGhpcy5yPWdpKHQuciksdGhpcy5nPWdpKHQuZyksdGhpcy5iPWdpKHQuYiksdGhpc31jb3B5TGluZWFyVG9TUkdCKHQpe3JldHVybiB0aGlzLnI9dmkodC5yKSx0aGlzLmc9dmkodC5nKSx0aGlzLmI9dmkodC5iKSx0aGlzfWNvbnZlcnRTUkdCVG9MaW5lYXIoKXtyZXR1cm4gdGhpcy5jb3B5U1JHQlRvTGluZWFyKHRoaXMpLHRoaXN9Y29udmVydExpbmVhclRvU1JHQigpe3JldHVybiB0aGlzLmNvcHlMaW5lYXJUb1NSR0IodGhpcyksdGhpc31nZXRIZXgoKXtyZXR1cm4gMjU1KnRoaXMucjw8MTZeMjU1KnRoaXMuZzw8OF4yNTUqdGhpcy5iPDwwfWdldEhleFN0cmluZygpe3JldHVybihcIjAwMDAwMFwiK3RoaXMuZ2V0SGV4KCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNil9Z2V0SFNMKHQpe3ZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Db2xvcjogLmdldEhTTCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD17aDowLHM6MCxsOjB9KTtjb25zdCBlPXRoaXMucixuPXRoaXMuZyxyPXRoaXMuYixpPU1hdGgubWF4KGUsbixyKSxvPU1hdGgubWluKGUsbixyKTtsZXQgYSxzO2NvbnN0IGM9KG8raSkvMjtpZihvPT09aSlhPTAscz0wO2Vsc2V7Y29uc3QgdD1pLW87c3dpdGNoKHM9Yzw9LjU/dC8oaStvKTp0LygyLWktbyksaSl7Y2FzZSBlOmE9KG4tcikvdCsobjxyPzY6MCk7YnJlYWs7Y2FzZSBuOmE9KHItZSkvdCsyO2JyZWFrO2Nhc2UgcjphPShlLW4pL3QrNH1hLz02fXJldHVybiB0Lmg9YSx0LnM9cyx0Lmw9Yyx0fWdldFN0eWxlKCl7cmV0dXJuXCJyZ2IoXCIrKDI1NSp0aGlzLnJ8MCkrXCIsXCIrKDI1NSp0aGlzLmd8MCkrXCIsXCIrKDI1NSp0aGlzLmJ8MCkrXCIpXCJ9b2Zmc2V0SFNMKHQsZSxuKXtyZXR1cm4gdGhpcy5nZXRIU0wocGkpLHBpLmgrPXQscGkucys9ZSxwaS5sKz1uLHRoaXMuc2V0SFNMKHBpLmgscGkucyxwaS5sKSx0aGlzfWFkZCh0KXtyZXR1cm4gdGhpcy5yKz10LnIsdGhpcy5nKz10LmcsdGhpcy5iKz10LmIsdGhpc31hZGRDb2xvcnModCxlKXtyZXR1cm4gdGhpcy5yPXQucitlLnIsdGhpcy5nPXQuZytlLmcsdGhpcy5iPXQuYitlLmIsdGhpc31hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMucis9dCx0aGlzLmcrPXQsdGhpcy5iKz10LHRoaXN9c3ViKHQpe3JldHVybiB0aGlzLnI9TWF0aC5tYXgoMCx0aGlzLnItdC5yKSx0aGlzLmc9TWF0aC5tYXgoMCx0aGlzLmctdC5nKSx0aGlzLmI9TWF0aC5tYXgoMCx0aGlzLmItdC5iKSx0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLnIqPXQucix0aGlzLmcqPXQuZyx0aGlzLmIqPXQuYix0aGlzfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLnIqPXQsdGhpcy5nKj10LHRoaXMuYio9dCx0aGlzfWxlcnAodCxlKXtyZXR1cm4gdGhpcy5yKz0odC5yLXRoaXMucikqZSx0aGlzLmcrPSh0LmctdGhpcy5nKSplLHRoaXMuYis9KHQuYi10aGlzLmIpKmUsdGhpc31sZXJwSFNMKHQsZSl7dGhpcy5nZXRIU0wocGkpLHQuZ2V0SFNMKGZpKTtjb25zdCBuPXpuLmxlcnAocGkuaCxmaS5oLGUpLHI9em4ubGVycChwaS5zLGZpLnMsZSksaT16bi5sZXJwKHBpLmwsZmkubCxlKTtyZXR1cm4gdGhpcy5zZXRIU0wobixyLGkpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0LnI9PT10aGlzLnImJnQuZz09PXRoaXMuZyYmdC5iPT09dGhpcy5ifWZyb21BcnJheSh0LGU9MCl7cmV0dXJuIHRoaXMucj10W2VdLHRoaXMuZz10W2UrMV0sdGhpcy5iPXRbZSsyXSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMucix0W2UrMV09dGhpcy5nLHRbZSsyXT10aGlzLmIsdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSl7cmV0dXJuIHRoaXMucj10LmdldFgoZSksdGhpcy5nPXQuZ2V0WShlKSx0aGlzLmI9dC5nZXRaKGUpLCEwPT09dC5ub3JtYWxpemVkJiYodGhpcy5yLz0yNTUsdGhpcy5nLz0yNTUsdGhpcy5iLz0yNTUpLHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMuZ2V0SGV4KCl9fXlpLk5BTUVTPWRpLHlpLnByb3RvdHlwZS5yPTEseWkucHJvdG90eXBlLmc9MSx5aS5wcm90b3R5cGUuYj0xO2NsYXNzIHhpe2NvbnN0cnVjdG9yKHQsZSxuLHIsaSxvPTApe3RoaXMuYT10LHRoaXMuYj1lLHRoaXMuYz1uLHRoaXMubm9ybWFsPXImJnIuaXNWZWN0b3IzP3I6bmV3IEtuLHRoaXMudmVydGV4Tm9ybWFscz1BcnJheS5pc0FycmF5KHIpP3I6W10sdGhpcy5jb2xvcj1pJiZpLmlzQ29sb3I/aTpuZXcgeWksdGhpcy52ZXJ0ZXhDb2xvcnM9QXJyYXkuaXNBcnJheShpKT9pOltdLHRoaXMubWF0ZXJpYWxJbmRleD1vfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7dGhpcy5hPXQuYSx0aGlzLmI9dC5iLHRoaXMuYz10LmMsdGhpcy5ub3JtYWwuY29weSh0Lm5vcm1hbCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWF0ZXJpYWxJbmRleD10Lm1hdGVyaWFsSW5kZXg7Zm9yKGxldCBlPTAsbj10LnZlcnRleE5vcm1hbHMubGVuZ3RoO2U8bjtlKyspdGhpcy52ZXJ0ZXhOb3JtYWxzW2VdPXQudmVydGV4Tm9ybWFsc1tlXS5jbG9uZSgpO2ZvcihsZXQgZT0wLG49dC52ZXJ0ZXhDb2xvcnMubGVuZ3RoO2U8bjtlKyspdGhpcy52ZXJ0ZXhDb2xvcnNbZV09dC52ZXJ0ZXhDb2xvcnNbZV0uY2xvbmUoKTtyZXR1cm4gdGhpc319bGV0IGJpPTA7ZnVuY3Rpb24gd2koKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOmJpKyt9KSx0aGlzLnV1aWQ9em4uZ2VuZXJhdGVVVUlEKCksdGhpcy5uYW1lPVwiXCIsdGhpcy50eXBlPVwiTWF0ZXJpYWxcIix0aGlzLmZvZz0hMCx0aGlzLmJsZW5kaW5nPWIsdGhpcy5zaWRlPWYsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnZlcnRleENvbG9ycz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9Tix0aGlzLmJsZW5kRHN0PUQsdGhpcy5ibGVuZEVxdWF0aW9uPVQsdGhpcy5ibGVuZFNyY0FscGhhPW51bGwsdGhpcy5ibGVuZERzdEFscGhhPW51bGwsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9bnVsbCx0aGlzLmRlcHRoRnVuYz1qLHRoaXMuZGVwdGhUZXN0PSEwLHRoaXMuZGVwdGhXcml0ZT0hMCx0aGlzLnN0ZW5jaWxXcml0ZU1hc2s9MjU1LHRoaXMuc3RlbmNpbEZ1bmM9U24sdGhpcy5zdGVuY2lsUmVmPTAsdGhpcy5zdGVuY2lsRnVuY01hc2s9MjU1LHRoaXMuc3RlbmNpbEZhaWw9dW4sdGhpcy5zdGVuY2lsWkZhaWw9dW4sdGhpcy5zdGVuY2lsWlBhc3M9dW4sdGhpcy5zdGVuY2lsV3JpdGU9ITEsdGhpcy5jbGlwcGluZ1BsYW5lcz1udWxsLHRoaXMuY2xpcEludGVyc2VjdGlvbj0hMSx0aGlzLmNsaXBTaGFkb3dzPSExLHRoaXMuc2hhZG93U2lkZT1udWxsLHRoaXMuY29sb3JXcml0ZT0hMCx0aGlzLnByZWNpc2lvbj1udWxsLHRoaXMucG9seWdvbk9mZnNldD0hMSx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3I9MCx0aGlzLnBvbHlnb25PZmZzZXRVbml0cz0wLHRoaXMuZGl0aGVyaW5nPSExLHRoaXMuYWxwaGFUZXN0PTAsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITEsdGhpcy52aXNpYmxlPSEwLHRoaXMudG9uZU1hcHBlZD0hMCx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudmVyc2lvbj0wfWZ1bmN0aW9uIF9pKHQpe3dpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTWVzaEJhc2ljTWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB5aSgxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1aLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPVwicm91bmRcIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMuc2V0VmFsdWVzKHQpfXdpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQm4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6d2ksaXNNYXRlcmlhbDohMCxvbkJlZm9yZUNvbXBpbGU6ZnVuY3Rpb24oKXt9LGN1c3RvbVByb2dyYW1DYWNoZUtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uQmVmb3JlQ29tcGlsZS50b1N0cmluZygpfSxzZXRWYWx1ZXM6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dClmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBuPXRbZV07aWYodm9pZCAwPT09bil7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6ICdcIitlK1wiJyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLlwiKTtjb250aW51ZX1pZihcInNoYWRpbmdcIj09PWUpe2NvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKSx0aGlzLmZsYXRTaGFkaW5nPW49PT12O2NvbnRpbnVlfWNvbnN0IHI9dGhpc1tlXTt2b2lkIDAhPT1yP3ImJnIuaXNDb2xvcj9yLnNldChuKTpyJiZyLmlzVmVjdG9yMyYmbiYmbi5pc1ZlY3RvcjM/ci5jb3B5KG4pOnRoaXNbZV09bjpjb25zb2xlLndhcm4oXCJUSFJFRS5cIit0aGlzLnR5cGUrXCI6ICdcIitlK1wiJyBpcyBub3QgYSBwcm9wZXJ0eSBvZiB0aGlzIG1hdGVyaWFsLlwiKX19LHRvSlNPTjpmdW5jdGlvbih0KXtjb25zdCBlPXZvaWQgMD09PXR8fFwic3RyaW5nXCI9PXR5cGVvZiB0O2UmJih0PXt0ZXh0dXJlczp7fSxpbWFnZXM6e319KTtjb25zdCBuPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTpcIk1hdGVyaWFsXCIsZ2VuZXJhdG9yOlwiTWF0ZXJpYWwudG9KU09OXCJ9fTtmdW5jdGlvbiByKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gaW4gdCl7Y29uc3Qgcj10W25dO2RlbGV0ZSByLm1ldGFkYXRhLGUucHVzaChyKX1yZXR1cm4gZX1pZihuLnV1aWQ9dGhpcy51dWlkLG4udHlwZT10aGlzLnR5cGUsXCJcIiE9PXRoaXMubmFtZSYmKG4ubmFtZT10aGlzLm5hbWUpLHRoaXMuY29sb3ImJnRoaXMuY29sb3IuaXNDb2xvciYmKG4uY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKSksdm9pZCAwIT09dGhpcy5yb3VnaG5lc3MmJihuLnJvdWdobmVzcz10aGlzLnJvdWdobmVzcyksdm9pZCAwIT09dGhpcy5tZXRhbG5lc3MmJihuLm1ldGFsbmVzcz10aGlzLm1ldGFsbmVzcyksdGhpcy5zaGVlbiYmdGhpcy5zaGVlbi5pc0NvbG9yJiYobi5zaGVlbj10aGlzLnNoZWVuLmdldEhleCgpKSx0aGlzLmVtaXNzaXZlJiZ0aGlzLmVtaXNzaXZlLmlzQ29sb3ImJihuLmVtaXNzaXZlPXRoaXMuZW1pc3NpdmUuZ2V0SGV4KCkpLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJjEhPT10aGlzLmVtaXNzaXZlSW50ZW5zaXR5JiYobi5lbWlzc2l2ZUludGVuc2l0eT10aGlzLmVtaXNzaXZlSW50ZW5zaXR5KSx0aGlzLnNwZWN1bGFyJiZ0aGlzLnNwZWN1bGFyLmlzQ29sb3ImJihuLnNwZWN1bGFyPXRoaXMuc3BlY3VsYXIuZ2V0SGV4KCkpLHZvaWQgMCE9PXRoaXMuc2hpbmluZXNzJiYobi5zaGluaW5lc3M9dGhpcy5zaGluaW5lc3MpLHZvaWQgMCE9PXRoaXMuY2xlYXJjb2F0JiYobi5jbGVhcmNvYXQ9dGhpcy5jbGVhcmNvYXQpLHZvaWQgMCE9PXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzJiYobi5jbGVhcmNvYXRSb3VnaG5lc3M9dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MpLHRoaXMuY2xlYXJjb2F0TWFwJiZ0aGlzLmNsZWFyY29hdE1hcC5pc1RleHR1cmUmJihuLmNsZWFyY29hdE1hcD10aGlzLmNsZWFyY29hdE1hcC50b0pTT04odCkudXVpZCksdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXAmJnRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwLmlzVGV4dHVyZSYmKG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcCYmdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAuaXNUZXh0dXJlJiYobi5jbGVhcmNvYXROb3JtYWxNYXA9dGhpcy5jbGVhcmNvYXROb3JtYWxNYXAudG9KU09OKHQpLnV1aWQsbi5jbGVhcmNvYXROb3JtYWxTY2FsZT10aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlLnRvQXJyYXkoKSksdGhpcy5tYXAmJnRoaXMubWFwLmlzVGV4dHVyZSYmKG4ubWFwPXRoaXMubWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLm1hdGNhcCYmdGhpcy5tYXRjYXAuaXNUZXh0dXJlJiYobi5tYXRjYXA9dGhpcy5tYXRjYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuYWxwaGFNYXAmJnRoaXMuYWxwaGFNYXAuaXNUZXh0dXJlJiYobi5hbHBoYU1hcD10aGlzLmFscGhhTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLmxpZ2h0TWFwJiZ0aGlzLmxpZ2h0TWFwLmlzVGV4dHVyZSYmKG4ubGlnaHRNYXA9dGhpcy5saWdodE1hcC50b0pTT04odCkudXVpZCksdGhpcy5hb01hcCYmdGhpcy5hb01hcC5pc1RleHR1cmUmJihuLmFvTWFwPXRoaXMuYW9NYXAudG9KU09OKHQpLnV1aWQsbi5hb01hcEludGVuc2l0eT10aGlzLmFvTWFwSW50ZW5zaXR5KSx0aGlzLmJ1bXBNYXAmJnRoaXMuYnVtcE1hcC5pc1RleHR1cmUmJihuLmJ1bXBNYXA9dGhpcy5idW1wTWFwLnRvSlNPTih0KS51dWlkLG4uYnVtcFNjYWxlPXRoaXMuYnVtcFNjYWxlKSx0aGlzLm5vcm1hbE1hcCYmdGhpcy5ub3JtYWxNYXAuaXNUZXh0dXJlJiYobi5ub3JtYWxNYXA9dGhpcy5ub3JtYWxNYXAudG9KU09OKHQpLnV1aWQsbi5ub3JtYWxNYXBUeXBlPXRoaXMubm9ybWFsTWFwVHlwZSxuLm5vcm1hbFNjYWxlPXRoaXMubm9ybWFsU2NhbGUudG9BcnJheSgpKSx0aGlzLmRpc3BsYWNlbWVudE1hcCYmdGhpcy5kaXNwbGFjZW1lbnRNYXAuaXNUZXh0dXJlJiYobi5kaXNwbGFjZW1lbnRNYXA9dGhpcy5kaXNwbGFjZW1lbnRNYXAudG9KU09OKHQpLnV1aWQsbi5kaXNwbGFjZW1lbnRTY2FsZT10aGlzLmRpc3BsYWNlbWVudFNjYWxlLG4uZGlzcGxhY2VtZW50Qmlhcz10aGlzLmRpc3BsYWNlbWVudEJpYXMpLHRoaXMucm91Z2huZXNzTWFwJiZ0aGlzLnJvdWdobmVzc01hcC5pc1RleHR1cmUmJihuLnJvdWdobmVzc01hcD10aGlzLnJvdWdobmVzc01hcC50b0pTT04odCkudXVpZCksdGhpcy5tZXRhbG5lc3NNYXAmJnRoaXMubWV0YWxuZXNzTWFwLmlzVGV4dHVyZSYmKG4ubWV0YWxuZXNzTWFwPXRoaXMubWV0YWxuZXNzTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLmVtaXNzaXZlTWFwJiZ0aGlzLmVtaXNzaXZlTWFwLmlzVGV4dHVyZSYmKG4uZW1pc3NpdmVNYXA9dGhpcy5lbWlzc2l2ZU1hcC50b0pTT04odCkudXVpZCksdGhpcy5zcGVjdWxhck1hcCYmdGhpcy5zcGVjdWxhck1hcC5pc1RleHR1cmUmJihuLnNwZWN1bGFyTWFwPXRoaXMuc3BlY3VsYXJNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuZW52TWFwJiZ0aGlzLmVudk1hcC5pc1RleHR1cmUmJihuLmVudk1hcD10aGlzLmVudk1hcC50b0pTT04odCkudXVpZCxuLnJlZmxlY3Rpdml0eT10aGlzLnJlZmxlY3Rpdml0eSxuLnJlZnJhY3Rpb25SYXRpbz10aGlzLnJlZnJhY3Rpb25SYXRpbyx2b2lkIDAhPT10aGlzLmNvbWJpbmUmJihuLmNvbWJpbmU9dGhpcy5jb21iaW5lKSx2b2lkIDAhPT10aGlzLmVudk1hcEludGVuc2l0eSYmKG4uZW52TWFwSW50ZW5zaXR5PXRoaXMuZW52TWFwSW50ZW5zaXR5KSksdGhpcy5ncmFkaWVudE1hcCYmdGhpcy5ncmFkaWVudE1hcC5pc1RleHR1cmUmJihuLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKHQpLnV1aWQpLHZvaWQgMCE9PXRoaXMuc2l6ZSYmKG4uc2l6ZT10aGlzLnNpemUpLHZvaWQgMCE9PXRoaXMuc2l6ZUF0dGVudWF0aW9uJiYobi5zaXplQXR0ZW51YXRpb249dGhpcy5zaXplQXR0ZW51YXRpb24pLHRoaXMuYmxlbmRpbmchPT1iJiYobi5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSwhMD09PXRoaXMuZmxhdFNoYWRpbmcmJihuLmZsYXRTaGFkaW5nPXRoaXMuZmxhdFNoYWRpbmcpLHRoaXMuc2lkZSE9PWYmJihuLnNpZGU9dGhpcy5zaWRlKSx0aGlzLnZlcnRleENvbG9ycyYmKG4udmVydGV4Q29sb3JzPSEwKSx0aGlzLm9wYWNpdHk8MSYmKG4ub3BhY2l0eT10aGlzLm9wYWNpdHkpLCEwPT09dGhpcy50cmFuc3BhcmVudCYmKG4udHJhbnNwYXJlbnQ9dGhpcy50cmFuc3BhcmVudCksbi5kZXB0aEZ1bmM9dGhpcy5kZXB0aEZ1bmMsbi5kZXB0aFRlc3Q9dGhpcy5kZXB0aFRlc3Qsbi5kZXB0aFdyaXRlPXRoaXMuZGVwdGhXcml0ZSxuLnN0ZW5jaWxXcml0ZT10aGlzLnN0ZW5jaWxXcml0ZSxuLnN0ZW5jaWxXcml0ZU1hc2s9dGhpcy5zdGVuY2lsV3JpdGVNYXNrLG4uc3RlbmNpbEZ1bmM9dGhpcy5zdGVuY2lsRnVuYyxuLnN0ZW5jaWxSZWY9dGhpcy5zdGVuY2lsUmVmLG4uc3RlbmNpbEZ1bmNNYXNrPXRoaXMuc3RlbmNpbEZ1bmNNYXNrLG4uc3RlbmNpbEZhaWw9dGhpcy5zdGVuY2lsRmFpbCxuLnN0ZW5jaWxaRmFpbD10aGlzLnN0ZW5jaWxaRmFpbCxuLnN0ZW5jaWxaUGFzcz10aGlzLnN0ZW5jaWxaUGFzcyx0aGlzLnJvdGF0aW9uJiYwIT09dGhpcy5yb3RhdGlvbiYmKG4ucm90YXRpb249dGhpcy5yb3RhdGlvbiksITA9PT10aGlzLnBvbHlnb25PZmZzZXQmJihuLnBvbHlnb25PZmZzZXQ9ITApLDAhPT10aGlzLnBvbHlnb25PZmZzZXRGYWN0b3ImJihuLnBvbHlnb25PZmZzZXRGYWN0b3I9dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yKSwwIT09dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMmJihuLnBvbHlnb25PZmZzZXRVbml0cz10aGlzLnBvbHlnb25PZmZzZXRVbml0cyksdGhpcy5saW5ld2lkdGgmJjEhPT10aGlzLmxpbmV3aWR0aCYmKG4ubGluZXdpZHRoPXRoaXMubGluZXdpZHRoKSx2b2lkIDAhPT10aGlzLmRhc2hTaXplJiYobi5kYXNoU2l6ZT10aGlzLmRhc2hTaXplKSx2b2lkIDAhPT10aGlzLmdhcFNpemUmJihuLmdhcFNpemU9dGhpcy5nYXBTaXplKSx2b2lkIDAhPT10aGlzLnNjYWxlJiYobi5zY2FsZT10aGlzLnNjYWxlKSwhMD09PXRoaXMuZGl0aGVyaW5nJiYobi5kaXRoZXJpbmc9ITApLHRoaXMuYWxwaGFUZXN0PjAmJihuLmFscGhhVGVzdD10aGlzLmFscGhhVGVzdCksITA9PT10aGlzLnByZW11bHRpcGxpZWRBbHBoYSYmKG4ucHJlbXVsdGlwbGllZEFscGhhPXRoaXMucHJlbXVsdGlwbGllZEFscGhhKSwhMD09PXRoaXMud2lyZWZyYW1lJiYobi53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEmJihuLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aCksXCJyb3VuZFwiIT09dGhpcy53aXJlZnJhbWVMaW5lY2FwJiYobi53aXJlZnJhbWVMaW5lY2FwPXRoaXMud2lyZWZyYW1lTGluZWNhcCksXCJyb3VuZFwiIT09dGhpcy53aXJlZnJhbWVMaW5lam9pbiYmKG4ud2lyZWZyYW1lTGluZWpvaW49dGhpcy53aXJlZnJhbWVMaW5lam9pbiksITA9PT10aGlzLm1vcnBoVGFyZ2V0cyYmKG4ubW9ycGhUYXJnZXRzPSEwKSwhMD09PXRoaXMubW9ycGhOb3JtYWxzJiYobi5tb3JwaE5vcm1hbHM9ITApLCEwPT09dGhpcy5za2lubmluZyYmKG4uc2tpbm5pbmc9ITApLCExPT09dGhpcy52aXNpYmxlJiYobi52aXNpYmxlPSExKSwhMT09PXRoaXMudG9uZU1hcHBlZCYmKG4udG9uZU1hcHBlZD0hMSksXCJ7fVwiIT09SlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkmJihuLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLGUpe2NvbnN0IGU9cih0LnRleHR1cmVzKSxpPXIodC5pbWFnZXMpO2UubGVuZ3RoPjAmJihuLnRleHR1cmVzPWUpLGkubGVuZ3RoPjAmJihuLmltYWdlcz1pKX1yZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy5uYW1lPXQubmFtZSx0aGlzLmZvZz10LmZvZyx0aGlzLmJsZW5kaW5nPXQuYmxlbmRpbmcsdGhpcy5zaWRlPXQuc2lkZSx0aGlzLmZsYXRTaGFkaW5nPXQuZmxhdFNoYWRpbmcsdGhpcy52ZXJ0ZXhDb2xvcnM9dC52ZXJ0ZXhDb2xvcnMsdGhpcy5vcGFjaXR5PXQub3BhY2l0eSx0aGlzLnRyYW5zcGFyZW50PXQudHJhbnNwYXJlbnQsdGhpcy5ibGVuZFNyYz10LmJsZW5kU3JjLHRoaXMuYmxlbmREc3Q9dC5ibGVuZERzdCx0aGlzLmJsZW5kRXF1YXRpb249dC5ibGVuZEVxdWF0aW9uLHRoaXMuYmxlbmRTcmNBbHBoYT10LmJsZW5kU3JjQWxwaGEsdGhpcy5ibGVuZERzdEFscGhhPXQuYmxlbmREc3RBbHBoYSx0aGlzLmJsZW5kRXF1YXRpb25BbHBoYT10LmJsZW5kRXF1YXRpb25BbHBoYSx0aGlzLmRlcHRoRnVuYz10LmRlcHRoRnVuYyx0aGlzLmRlcHRoVGVzdD10LmRlcHRoVGVzdCx0aGlzLmRlcHRoV3JpdGU9dC5kZXB0aFdyaXRlLHRoaXMuc3RlbmNpbFdyaXRlTWFzaz10LnN0ZW5jaWxXcml0ZU1hc2ssdGhpcy5zdGVuY2lsRnVuYz10LnN0ZW5jaWxGdW5jLHRoaXMuc3RlbmNpbFJlZj10LnN0ZW5jaWxSZWYsdGhpcy5zdGVuY2lsRnVuY01hc2s9dC5zdGVuY2lsRnVuY01hc2ssdGhpcy5zdGVuY2lsRmFpbD10LnN0ZW5jaWxGYWlsLHRoaXMuc3RlbmNpbFpGYWlsPXQuc3RlbmNpbFpGYWlsLHRoaXMuc3RlbmNpbFpQYXNzPXQuc3RlbmNpbFpQYXNzLHRoaXMuc3RlbmNpbFdyaXRlPXQuc3RlbmNpbFdyaXRlO2NvbnN0IGU9dC5jbGlwcGluZ1BsYW5lcztsZXQgbj1udWxsO2lmKG51bGwhPT1lKXtjb25zdCB0PWUubGVuZ3RoO249bmV3IEFycmF5KHQpO2ZvcihsZXQgcj0wO3IhPT10OysrciluW3JdPWVbcl0uY2xvbmUoKX1yZXR1cm4gdGhpcy5jbGlwcGluZ1BsYW5lcz1uLHRoaXMuY2xpcEludGVyc2VjdGlvbj10LmNsaXBJbnRlcnNlY3Rpb24sdGhpcy5jbGlwU2hhZG93cz10LmNsaXBTaGFkb3dzLHRoaXMuc2hhZG93U2lkZT10LnNoYWRvd1NpZGUsdGhpcy5jb2xvcldyaXRlPXQuY29sb3JXcml0ZSx0aGlzLnByZWNpc2lvbj10LnByZWNpc2lvbix0aGlzLnBvbHlnb25PZmZzZXQ9dC5wb2x5Z29uT2Zmc2V0LHRoaXMucG9seWdvbk9mZnNldEZhY3Rvcj10LnBvbHlnb25PZmZzZXRGYWN0b3IsdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9dC5wb2x5Z29uT2Zmc2V0VW5pdHMsdGhpcy5kaXRoZXJpbmc9dC5kaXRoZXJpbmcsdGhpcy5hbHBoYVRlc3Q9dC5hbHBoYVRlc3QsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9dC5wcmVtdWx0aXBsaWVkQWxwaGEsdGhpcy52aXNpYmxlPXQudmlzaWJsZSx0aGlzLnRvbmVNYXBwZWQ9dC50b25lTWFwcGVkLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0LnVzZXJEYXRhKSksdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImRpc3Bvc2VcIn0pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aS5wcm90b3R5cGUsXCJuZWVkc1VwZGF0ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK319KSxfaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3aS5wcm90b3R5cGUpLF9pLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1faSxfaS5wcm90b3R5cGUuaXNNZXNoQmFzaWNNYXRlcmlhbD0hMCxfaS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gd2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLm1hcD10Lm1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD10LnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLmVudk1hcD10LmVudk1hcCx0aGlzLmNvbWJpbmU9dC5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPXQud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPXQud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD10LndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj10LndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzfTtjb25zdCBNaT1uZXcgS24sU2k9bmV3IEduO2Z1bmN0aW9uIFRpKHQsZSxuKXtpZihBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LlwiKTt0aGlzLm5hbWU9XCJcIix0aGlzLmFycmF5PXQsdGhpcy5pdGVtU2l6ZT1lLHRoaXMuY291bnQ9dm9pZCAwIT09dD90Lmxlbmd0aC9lOjAsdGhpcy5ub3JtYWxpemVkPSEwPT09bix0aGlzLnVzYWdlPVRuLHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MH1mdW5jdGlvbiBFaSh0LGUsbil7VGkuY2FsbCh0aGlzLG5ldyBJbnQ4QXJyYXkodCksZSxuKX1mdW5jdGlvbiBBaSh0LGUsbil7VGkuY2FsbCh0aGlzLG5ldyBVaW50OEFycmF5KHQpLGUsbil9ZnVuY3Rpb24gTGkodCxlLG4pe1RpLmNhbGwodGhpcyxuZXcgVWludDhDbGFtcGVkQXJyYXkodCksZSxuKX1mdW5jdGlvbiBSaSh0LGUsbil7VGkuY2FsbCh0aGlzLG5ldyBJbnQxNkFycmF5KHQpLGUsbil9ZnVuY3Rpb24gUGkodCxlLG4pe1RpLmNhbGwodGhpcyxuZXcgVWludDE2QXJyYXkodCksZSxuKX1mdW5jdGlvbiBDaSh0LGUsbil7VGkuY2FsbCh0aGlzLG5ldyBJbnQzMkFycmF5KHQpLGUsbil9ZnVuY3Rpb24gSWkodCxlLG4pe1RpLmNhbGwodGhpcyxuZXcgVWludDMyQXJyYXkodCksZSxuKX1mdW5jdGlvbiBPaSh0LGUsbil7VGkuY2FsbCh0aGlzLG5ldyBVaW50MTZBcnJheSh0KSxlLG4pfWZ1bmN0aW9uIE5pKHQsZSxuKXtUaS5jYWxsKHRoaXMsbmV3IEZsb2F0MzJBcnJheSh0KSxlLG4pfWZ1bmN0aW9uIERpKHQsZSxuKXtUaS5jYWxsKHRoaXMsbmV3IEZsb2F0NjRBcnJheSh0KSxlLG4pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaS5wcm90b3R5cGUsXCJuZWVkc1VwZGF0ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK319KSxPYmplY3QuYXNzaWduKFRpLnByb3RvdHlwZSx7aXNCdWZmZXJBdHRyaWJ1dGU6ITAsb25VcGxvYWRDYWxsYmFjazpmdW5jdGlvbigpe30sc2V0VXNhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXNhZ2U9dCx0aGlzfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5hbWU9dC5uYW1lLHRoaXMuYXJyYXk9bmV3IHQuYXJyYXkuY29uc3RydWN0b3IodC5hcnJheSksdGhpcy5pdGVtU2l6ZT10Lml0ZW1TaXplLHRoaXMuY291bnQ9dC5jb3VudCx0aGlzLm5vcm1hbGl6ZWQ9dC5ub3JtYWxpemVkLHRoaXMudXNhZ2U9dC51c2FnZSx0aGlzfSxjb3B5QXQ6ZnVuY3Rpb24odCxlLG4pe3QqPXRoaXMuaXRlbVNpemUsbio9ZS5pdGVtU2l6ZTtmb3IobGV0IHI9MCxpPXRoaXMuaXRlbVNpemU7cjxpO3IrKyl0aGlzLmFycmF5W3Qrcl09ZS5hcnJheVtuK3JdO3JldHVybiB0aGlzfSxjb3B5QXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KHQpLHRoaXN9LGNvcHlDb2xvcnNBcnJheTpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuYXJyYXk7bGV0IG49MDtmb3IobGV0IHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspe2xldCBpPXRbcl07dm9pZCAwPT09aSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5Q29sb3JzQXJyYXkoKTogY29sb3IgaXMgdW5kZWZpbmVkXCIsciksaT1uZXcgeWkpLGVbbisrXT1pLnIsZVtuKytdPWkuZyxlW24rK109aS5ifXJldHVybiB0aGlzfSxjb3B5VmVjdG9yMnNBcnJheTpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuYXJyYXk7bGV0IG49MDtmb3IobGV0IHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspe2xldCBpPXRbcl07dm9pZCAwPT09aSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkXCIsciksaT1uZXcgR24pLGVbbisrXT1pLngsZVtuKytdPWkueX1yZXR1cm4gdGhpc30sY29weVZlY3RvcjNzQXJyYXk6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXtsZXQgaT10W3JdO3ZvaWQgMD09PWkmJihjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZFwiLHIpLGk9bmV3IEtuKSxlW24rK109aS54LGVbbisrXT1pLnksZVtuKytdPWkuen1yZXR1cm4gdGhpc30sY29weVZlY3RvcjRzQXJyYXk6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXtsZXQgaT10W3JdO3ZvaWQgMD09PWkmJihjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjRzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZFwiLHIpLGk9bmV3IHFuKSxlW24rK109aS54LGVbbisrXT1pLnksZVtuKytdPWkueixlW24rK109aS53fXJldHVybiB0aGlzfSxhcHBseU1hdHJpeDM6ZnVuY3Rpb24odCl7aWYoMj09PXRoaXMuaXRlbVNpemUpZm9yKGxldCBlPTAsbj10aGlzLmNvdW50O2U8bjtlKyspU2kuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGUpLFNpLmFwcGx5TWF0cml4Myh0KSx0aGlzLnNldFhZKGUsU2kueCxTaS55KTtlbHNlIGlmKDM9PT10aGlzLml0ZW1TaXplKWZvcihsZXQgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKU1pLmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyxlKSxNaS5hcHBseU1hdHJpeDModCksdGhpcy5zZXRYWVooZSxNaS54LE1pLnksTWkueik7cmV0dXJuIHRoaXN9LGFwcGx5TWF0cml4NDpmdW5jdGlvbih0KXtmb3IobGV0IGU9MCxuPXRoaXMuY291bnQ7ZTxuO2UrKylNaS54PXRoaXMuZ2V0WChlKSxNaS55PXRoaXMuZ2V0WShlKSxNaS56PXRoaXMuZ2V0WihlKSxNaS5hcHBseU1hdHJpeDQodCksdGhpcy5zZXRYWVooZSxNaS54LE1pLnksTWkueik7cmV0dXJuIHRoaXN9LGFwcGx5Tm9ybWFsTWF0cml4OmZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKU1pLng9dGhpcy5nZXRYKGUpLE1pLnk9dGhpcy5nZXRZKGUpLE1pLno9dGhpcy5nZXRaKGUpLE1pLmFwcGx5Tm9ybWFsTWF0cml4KHQpLHRoaXMuc2V0WFlaKGUsTWkueCxNaS55LE1pLnopO3JldHVybiB0aGlzfSx0cmFuc2Zvcm1EaXJlY3Rpb246ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTAsbj10aGlzLmNvdW50O2U8bjtlKyspTWkueD10aGlzLmdldFgoZSksTWkueT10aGlzLmdldFkoZSksTWkuej10aGlzLmdldFooZSksTWkudHJhbnNmb3JtRGlyZWN0aW9uKHQpLHRoaXMuc2V0WFlaKGUsTWkueCxNaS55LE1pLnopO3JldHVybiB0aGlzfSxzZXQ6ZnVuY3Rpb24odCxlPTApe3JldHVybiB0aGlzLmFycmF5LnNldCh0LGUpLHRoaXN9LGdldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplXX0sc2V0WDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV09ZSx0aGlzfSxnZXRZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsxXX0sc2V0WTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsxXT1lLHRoaXN9LGdldFo6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdfSxzZXRaOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdPWUsdGhpc30sZ2V0VzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM119LHNldFc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM109ZSx0aGlzfSxzZXRYWTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQqPXRoaXMuaXRlbVNpemUsdGhpcy5hcnJheVt0KzBdPWUsdGhpcy5hcnJheVt0KzFdPW4sdGhpc30sc2V0WFlaOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0Kj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbdCswXT1lLHRoaXMuYXJyYXlbdCsxXT1uLHRoaXMuYXJyYXlbdCsyXT1yLHRoaXN9LHNldFhZWlc6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09bix0aGlzLmFycmF5W3QrMl09cix0aGlzLmFycmF5W3QrM109aSx0aGlzfSxvblVwbG9hZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vblVwbG9hZENhbGxiYWNrPXQsdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm57aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmFycmF5KSxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH19fSksRWkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxFaS5wcm90b3R5cGUuY29uc3RydWN0b3I9RWksQWkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxBaS5wcm90b3R5cGUuY29uc3RydWN0b3I9QWksTGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxMaS5wcm90b3R5cGUuY29uc3RydWN0b3I9TGksUmkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxSaS5wcm90b3R5cGUuY29uc3RydWN0b3I9UmksUGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxQaS5wcm90b3R5cGUuY29uc3RydWN0b3I9UGksQ2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxDaS5wcm90b3R5cGUuY29uc3RydWN0b3I9Q2ksSWkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxJaS5wcm90b3R5cGUuY29uc3RydWN0b3I9SWksT2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVGkucHJvdG90eXBlKSxPaS5wcm90b3R5cGUuY29uc3RydWN0b3I9T2ksT2kucHJvdG90eXBlLmlzRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZT0hMCxOaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUaS5wcm90b3R5cGUpLE5pLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1OaSxEaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUaS5wcm90b3R5cGUpLERpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1EaTtjbGFzcyBCaXtjb25zdHJ1Y3Rvcigpe3RoaXMudmVydGljZXM9W10sdGhpcy5ub3JtYWxzPVtdLHRoaXMuY29sb3JzPVtdLHRoaXMudXZzPVtdLHRoaXMudXZzMj1bXSx0aGlzLmdyb3Vwcz1bXSx0aGlzLm1vcnBoVGFyZ2V0cz17fSx0aGlzLnNraW5XZWlnaHRzPVtdLHRoaXMuc2tpbkluZGljZXM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMSx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSExLHRoaXMuY29sb3JzTmVlZFVwZGF0ZT0hMSx0aGlzLnV2c05lZWRVcGRhdGU9ITEsdGhpcy5ncm91cHNOZWVkVXBkYXRlPSExfWNvbXB1dGVHcm91cHModCl7Y29uc3QgZT1bXTtsZXQgbixyLGk9dm9pZCAwO2NvbnN0IG89dC5mYWNlcztmb3Iocj0wO3I8by5sZW5ndGg7cisrKXtjb25zdCB0PW9bcl07dC5tYXRlcmlhbEluZGV4IT09aSYmKGk9dC5tYXRlcmlhbEluZGV4LHZvaWQgMCE9PW4mJihuLmNvdW50PTMqci1uLnN0YXJ0LGUucHVzaChuKSksbj17c3RhcnQ6MypyLG1hdGVyaWFsSW5kZXg6aX0pfXZvaWQgMCE9PW4mJihuLmNvdW50PTMqci1uLnN0YXJ0LGUucHVzaChuKSksdGhpcy5ncm91cHM9ZX1mcm9tR2VvbWV0cnkodCl7Y29uc3QgZT10LmZhY2VzLG49dC52ZXJ0aWNlcyxyPXQuZmFjZVZlcnRleFV2cyxpPXJbMF0mJnJbMF0ubGVuZ3RoPjAsbz1yWzFdJiZyWzFdLmxlbmd0aD4wLGE9dC5tb3JwaFRhcmdldHMscz1hLmxlbmd0aDtsZXQgYztpZihzPjApe2M9W107Zm9yKGxldCB0PTA7dDxzO3QrKyljW3RdPXtuYW1lOmFbdF0ubmFtZSxkYXRhOltdfTt0aGlzLm1vcnBoVGFyZ2V0cy5wb3NpdGlvbj1jfWNvbnN0IGw9dC5tb3JwaE5vcm1hbHMsdT1sLmxlbmd0aDtsZXQgaDtpZih1PjApe2g9W107Zm9yKGxldCB0PTA7dDx1O3QrKyloW3RdPXtuYW1lOmxbdF0ubmFtZSxkYXRhOltdfTt0aGlzLm1vcnBoVGFyZ2V0cy5ub3JtYWw9aH1jb25zdCBkPXQuc2tpbkluZGljZXMscD10LnNraW5XZWlnaHRzLGY9ZC5sZW5ndGg9PT1uLmxlbmd0aCxtPXAubGVuZ3RoPT09bi5sZW5ndGg7bi5sZW5ndGg+MCYmMD09PWUubGVuZ3RoJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuRGlyZWN0R2VvbWV0cnk6IEZhY2VsZXNzIGdlb21ldHJpZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBnPWVbdF07dGhpcy52ZXJ0aWNlcy5wdXNoKG5bZy5hXSxuW2cuYl0sbltnLmNdKTtjb25zdCB2PWcudmVydGV4Tm9ybWFscztpZigzPT09di5sZW5ndGgpdGhpcy5ub3JtYWxzLnB1c2godlswXSx2WzFdLHZbMl0pO2Vsc2V7Y29uc3QgdD1nLm5vcm1hbDt0aGlzLm5vcm1hbHMucHVzaCh0LHQsdCl9Y29uc3QgeT1nLnZlcnRleENvbG9ycztpZigzPT09eS5sZW5ndGgpdGhpcy5jb2xvcnMucHVzaCh5WzBdLHlbMV0seVsyXSk7ZWxzZXtjb25zdCB0PWcuY29sb3I7dGhpcy5jb2xvcnMucHVzaCh0LHQsdCl9aWYoITA9PT1pKXtjb25zdCBlPXJbMF1bdF07dm9pZCAwIT09ZT90aGlzLnV2cy5wdXNoKGVbMF0sZVsxXSxlWzJdKTooY29uc29sZS53YXJuKFwiVEhSRUUuRGlyZWN0R2VvbWV0cnkuZnJvbUdlb21ldHJ5KCk6IFVuZGVmaW5lZCB2ZXJ0ZXhVdiBcIix0KSx0aGlzLnV2cy5wdXNoKG5ldyBHbixuZXcgR24sbmV3IEduKSl9aWYoITA9PT1vKXtjb25zdCBlPXJbMV1bdF07dm9pZCAwIT09ZT90aGlzLnV2czIucHVzaChlWzBdLGVbMV0sZVsyXSk6KGNvbnNvbGUud2FybihcIlRIUkVFLkRpcmVjdEdlb21ldHJ5LmZyb21HZW9tZXRyeSgpOiBVbmRlZmluZWQgdmVydGV4VXYyIFwiLHQpLHRoaXMudXZzMi5wdXNoKG5ldyBHbixuZXcgR24sbmV3IEduKSl9Zm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3QgZT1hW3RdLnZlcnRpY2VzO2NbdF0uZGF0YS5wdXNoKGVbZy5hXSxlW2cuYl0sZVtnLmNdKX1mb3IobGV0IGU9MDtlPHU7ZSsrKXtjb25zdCBuPWxbZV0udmVydGV4Tm9ybWFsc1t0XTtoW2VdLmRhdGEucHVzaChuLmEsbi5iLG4uYyl9ZiYmdGhpcy5za2luSW5kaWNlcy5wdXNoKGRbZy5hXSxkW2cuYl0sZFtnLmNdKSxtJiZ0aGlzLnNraW5XZWlnaHRzLnB1c2gocFtnLmFdLHBbZy5iXSxwW2cuY10pfXJldHVybiB0aGlzLmNvbXB1dGVHcm91cHModCksdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9dC52ZXJ0aWNlc05lZWRVcGRhdGUsdGhpcy5ub3JtYWxzTmVlZFVwZGF0ZT10Lm5vcm1hbHNOZWVkVXBkYXRlLHRoaXMuY29sb3JzTmVlZFVwZGF0ZT10LmNvbG9yc05lZWRVcGRhdGUsdGhpcy51dnNOZWVkVXBkYXRlPXQudXZzTmVlZFVwZGF0ZSx0aGlzLmdyb3Vwc05lZWRVcGRhdGU9dC5ncm91cHNOZWVkVXBkYXRlLG51bGwhPT10LmJvdW5kaW5nU3BoZXJlJiYodGhpcy5ib3VuZGluZ1NwaGVyZT10LmJvdW5kaW5nU3BoZXJlLmNsb25lKCkpLG51bGwhPT10LmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD10LmJvdW5kaW5nQm94LmNsb25lKCkpLHRoaXN9fWZ1bmN0aW9uIEZpKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMS8wO2xldCBlPXRbMF07Zm9yKGxldCBuPTEscj10Lmxlbmd0aDtuPHI7KytuKXRbbl0+ZSYmKGU9dFtuXSk7cmV0dXJuIGV9Y29uc3QgVWk9e0ludDhBcnJheTpJbnQ4QXJyYXksVWludDhBcnJheTpVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheT9VaW50OENsYW1wZWRBcnJheTpVaW50OEFycmF5LEludDE2QXJyYXk6SW50MTZBcnJheSxVaW50MTZBcnJheTpVaW50MTZBcnJheSxJbnQzMkFycmF5OkludDMyQXJyYXksVWludDMyQXJyYXk6VWludDMyQXJyYXksRmxvYXQzMkFycmF5OkZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXk6RmxvYXQ2NEFycmF5fTtmdW5jdGlvbiB6aSh0LGUpe3JldHVybiBuZXcgVWlbdF0oZSl9bGV0IEdpPTE7Y29uc3QgSGk9bmV3IFRyLGtpPW5ldyBKcixWaT1uZXcgS24samk9bmV3IHRyLFdpPW5ldyB0cixYaT1uZXcgS247ZnVuY3Rpb24gcWkoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOkdpKz0yfSksdGhpcy51dWlkPXpuLmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT1cIlwiLHRoaXMudHlwZT1cIkJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSExLHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGwsdGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6MS8wfSx0aGlzLnVzZXJEYXRhPXt9fXFpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQm4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6cWksaXNCdWZmZXJHZW9tZXRyeTohMCxnZXRJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4fSxzZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90aGlzLmluZGV4PW5ldyhGaSh0KT42NTUzNT9JaTpQaSkodCwxKTp0aGlzLmluZGV4PXQsdGhpc30sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19LHNldEF0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF09ZSx0aGlzfSxkZWxldGVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbdF0sdGhpc30saGFzQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmF0dHJpYnV0ZXNbdF19LGFkZEdyb3VwOmZ1bmN0aW9uKHQsZSxuPTApe3RoaXMuZ3JvdXBzLnB1c2goe3N0YXJ0OnQsY291bnQ6ZSxtYXRlcmlhbEluZGV4Om59KX0sY2xlYXJHcm91cHM6ZnVuY3Rpb24oKXt0aGlzLmdyb3Vwcz1bXX0sc2V0RHJhd1JhbmdlOmZ1bmN0aW9uKHQsZSl7dGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dCx0aGlzLmRyYXdSYW5nZS5jb3VudD1lfSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247dm9pZCAwIT09ZSYmKGUuYXBwbHlNYXRyaXg0KHQpLGUubmVlZHNVcGRhdGU9ITApO2NvbnN0IG49dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbDtpZih2b2lkIDAhPT1uKXtjb25zdCBlPShuZXcgSG4pLmdldE5vcm1hbE1hdHJpeCh0KTtuLmFwcGx5Tm9ybWFsTWF0cml4KGUpLG4ubmVlZHNVcGRhdGU9ITB9Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXMudGFuZ2VudDtyZXR1cm4gdm9pZCAwIT09ciYmKHIudHJhbnNmb3JtRGlyZWN0aW9uKHQpLHIubmVlZHNVcGRhdGU9ITApLG51bGwhPT10aGlzLmJvdW5kaW5nQm94JiZ0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLG51bGwhPT10aGlzLmJvdW5kaW5nU3BoZXJlJiZ0aGlzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHRoaXN9LHJvdGF0ZVg6ZnVuY3Rpb24odCl7cmV0dXJuIEhpLm1ha2VSb3RhdGlvblgodCksdGhpcy5hcHBseU1hdHJpeDQoSGkpLHRoaXN9LHJvdGF0ZVk6ZnVuY3Rpb24odCl7cmV0dXJuIEhpLm1ha2VSb3RhdGlvblkodCksdGhpcy5hcHBseU1hdHJpeDQoSGkpLHRoaXN9LHJvdGF0ZVo6ZnVuY3Rpb24odCl7cmV0dXJuIEhpLm1ha2VSb3RhdGlvbloodCksdGhpcy5hcHBseU1hdHJpeDQoSGkpLHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIEhpLm1ha2VUcmFuc2xhdGlvbih0LGUsbiksdGhpcy5hcHBseU1hdHJpeDQoSGkpLHRoaXN9LHNjYWxlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gSGkubWFrZVNjYWxlKHQsZSxuKSx0aGlzLmFwcGx5TWF0cml4NChIaSksdGhpc30sbG9va0F0OmZ1bmN0aW9uKHQpe3JldHVybiBraS5sb29rQXQodCksa2kudXBkYXRlTWF0cml4KCksdGhpcy5hcHBseU1hdHJpeDQoa2kubWF0cml4KSx0aGlzfSxjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nQm94LmdldENlbnRlcihWaSkubmVnYXRlKCksdGhpcy50cmFuc2xhdGUoVmkueCxWaS55LFZpLnopLHRoaXN9LHNldEZyb21PYmplY3Q6ZnVuY3Rpb24odCl7Y29uc3QgZT10Lmdlb21ldHJ5O2lmKHQuaXNQb2ludHN8fHQuaXNMaW5lKXtjb25zdCB0PW5ldyBOaSgzKmUudmVydGljZXMubGVuZ3RoLDMpLG49bmV3IE5pKDMqZS5jb2xvcnMubGVuZ3RoLDMpO2lmKHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIix0LmNvcHlWZWN0b3Izc0FycmF5KGUudmVydGljZXMpKSx0aGlzLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbi5jb3B5Q29sb3JzQXJyYXkoZS5jb2xvcnMpKSxlLmxpbmVEaXN0YW5jZXMmJmUubGluZURpc3RhbmNlcy5sZW5ndGg9PT1lLnZlcnRpY2VzLmxlbmd0aCl7Y29uc3QgdD1uZXcgTmkoZS5saW5lRGlzdGFuY2VzLmxlbmd0aCwxKTt0aGlzLnNldEF0dHJpYnV0ZShcImxpbmVEaXN0YW5jZVwiLHQuY29weUFycmF5KGUubGluZURpc3RhbmNlcykpfW51bGwhPT1lLmJvdW5kaW5nU3BoZXJlJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1lLmJvdW5kaW5nU3BoZXJlLmNsb25lKCkpLG51bGwhPT1lLmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD1lLmJvdW5kaW5nQm94LmNsb25lKCkpfWVsc2UgdC5pc01lc2gmJmUmJmUuaXNHZW9tZXRyeSYmdGhpcy5mcm9tR2VvbWV0cnkoZSk7cmV0dXJuIHRoaXN9LHNldEZyb21Qb2ludHM6ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MCxyPXQubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9dFtuXTtlLnB1c2goci54LHIueSxyLnp8fDApfXJldHVybiB0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGUsMykpLHRoaXN9LHVwZGF0ZUZyb21PYmplY3Q6ZnVuY3Rpb24odCl7bGV0IGU9dC5nZW9tZXRyeTtpZih0LmlzTWVzaCl7bGV0IHQ9ZS5fX2RpcmVjdEdlb21ldHJ5O2lmKCEwPT09ZS5lbGVtZW50c05lZWRVcGRhdGUmJih0PXZvaWQgMCxlLmVsZW1lbnRzTmVlZFVwZGF0ZT0hMSksdm9pZCAwPT09dClyZXR1cm4gdGhpcy5mcm9tR2VvbWV0cnkoZSk7dC52ZXJ0aWNlc05lZWRVcGRhdGU9ZS52ZXJ0aWNlc05lZWRVcGRhdGUsdC5ub3JtYWxzTmVlZFVwZGF0ZT1lLm5vcm1hbHNOZWVkVXBkYXRlLHQuY29sb3JzTmVlZFVwZGF0ZT1lLmNvbG9yc05lZWRVcGRhdGUsdC51dnNOZWVkVXBkYXRlPWUudXZzTmVlZFVwZGF0ZSx0Lmdyb3Vwc05lZWRVcGRhdGU9ZS5ncm91cHNOZWVkVXBkYXRlLGUudmVydGljZXNOZWVkVXBkYXRlPSExLGUubm9ybWFsc05lZWRVcGRhdGU9ITEsZS5jb2xvcnNOZWVkVXBkYXRlPSExLGUudXZzTmVlZFVwZGF0ZT0hMSxlLmdyb3Vwc05lZWRVcGRhdGU9ITEsZT10fWlmKCEwPT09ZS52ZXJ0aWNlc05lZWRVcGRhdGUpe2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZvaWQgMCE9PXQmJih0LmNvcHlWZWN0b3Izc0FycmF5KGUudmVydGljZXMpLHQubmVlZHNVcGRhdGU9ITApLGUudmVydGljZXNOZWVkVXBkYXRlPSExfWlmKCEwPT09ZS5ub3JtYWxzTmVlZFVwZGF0ZSl7Y29uc3QgdD10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO3ZvaWQgMCE9PXQmJih0LmNvcHlWZWN0b3Izc0FycmF5KGUubm9ybWFscyksdC5uZWVkc1VwZGF0ZT0hMCksZS5ub3JtYWxzTmVlZFVwZGF0ZT0hMX1pZighMD09PWUuY29sb3JzTmVlZFVwZGF0ZSl7Y29uc3QgdD10aGlzLmF0dHJpYnV0ZXMuY29sb3I7dm9pZCAwIT09dCYmKHQuY29weUNvbG9yc0FycmF5KGUuY29sb3JzKSx0Lm5lZWRzVXBkYXRlPSEwKSxlLmNvbG9yc05lZWRVcGRhdGU9ITF9aWYoZS51dnNOZWVkVXBkYXRlKXtjb25zdCB0PXRoaXMuYXR0cmlidXRlcy51djt2b2lkIDAhPT10JiYodC5jb3B5VmVjdG9yMnNBcnJheShlLnV2cyksdC5uZWVkc1VwZGF0ZT0hMCksZS51dnNOZWVkVXBkYXRlPSExfWlmKGUubGluZURpc3RhbmNlc05lZWRVcGRhdGUpe2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLmxpbmVEaXN0YW5jZTt2b2lkIDAhPT10JiYodC5jb3B5QXJyYXkoZS5saW5lRGlzdGFuY2VzKSx0Lm5lZWRzVXBkYXRlPSEwKSxlLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPSExfXJldHVybiBlLmdyb3Vwc05lZWRVcGRhdGUmJihlLmNvbXB1dGVHcm91cHModC5nZW9tZXRyeSksdGhpcy5ncm91cHM9ZS5ncm91cHMsZS5ncm91cHNOZWVkVXBkYXRlPSExKSx0aGlzfSxmcm9tR2VvbWV0cnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19kaXJlY3RHZW9tZXRyeT0obmV3IEJpKS5mcm9tR2VvbWV0cnkodCksdGhpcy5mcm9tRGlyZWN0R2VvbWV0cnkodC5fX2RpcmVjdEdlb21ldHJ5KX0sZnJvbURpcmVjdEdlb21ldHJ5OmZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSgzKnQudmVydGljZXMubGVuZ3RoKTtpZih0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRpKGUsMykuY29weVZlY3RvcjNzQXJyYXkodC52ZXJ0aWNlcykpLHQubm9ybWFscy5sZW5ndGg+MCl7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KDMqdC5ub3JtYWxzLmxlbmd0aCk7dGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgVGkoZSwzKS5jb3B5VmVjdG9yM3NBcnJheSh0Lm5vcm1hbHMpKX1pZih0LmNvbG9ycy5sZW5ndGg+MCl7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KDMqdC5jb2xvcnMubGVuZ3RoKTt0aGlzLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IFRpKGUsMykuY29weUNvbG9yc0FycmF5KHQuY29sb3JzKSl9aWYodC51dnMubGVuZ3RoPjApe2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSgyKnQudXZzLmxlbmd0aCk7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBUaShlLDIpLmNvcHlWZWN0b3Iyc0FycmF5KHQudXZzKSl9aWYodC51dnMyLmxlbmd0aD4wKXtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkoMip0LnV2czIubGVuZ3RoKTt0aGlzLnNldEF0dHJpYnV0ZShcInV2MlwiLG5ldyBUaShlLDIpLmNvcHlWZWN0b3Iyc0FycmF5KHQudXZzMikpfXRoaXMuZ3JvdXBzPXQuZ3JvdXBzO2Zvcihjb25zdCBlIGluIHQubW9ycGhUYXJnZXRzKXtjb25zdCBuPVtdLHI9dC5tb3JwaFRhcmdldHNbZV07Zm9yKGxldCB0PTAsZT1yLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXJbdF0saT1uZXcgTmkoMyplLmRhdGEubGVuZ3RoLDMpO2kubmFtZT1lLm5hbWUsbi5wdXNoKGkuY29weVZlY3RvcjNzQXJyYXkoZS5kYXRhKSl9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbZV09bn1pZih0LnNraW5JbmRpY2VzLmxlbmd0aD4wKXtjb25zdCBlPW5ldyBOaSg0KnQuc2tpbkluZGljZXMubGVuZ3RoLDQpO3RoaXMuc2V0QXR0cmlidXRlKFwic2tpbkluZGV4XCIsZS5jb3B5VmVjdG9yNHNBcnJheSh0LnNraW5JbmRpY2VzKSl9aWYodC5za2luV2VpZ2h0cy5sZW5ndGg+MCl7Y29uc3QgZT1uZXcgTmkoNCp0LnNraW5XZWlnaHRzLmxlbmd0aCw0KTt0aGlzLnNldEF0dHJpYnV0ZShcInNraW5XZWlnaHRcIixlLmNvcHlWZWN0b3I0c0FycmF5KHQuc2tpbldlaWdodHMpKX1yZXR1cm4gbnVsbCE9PXQuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPXQuYm91bmRpbmdTcGhlcmUuY2xvbmUoKSksbnVsbCE9PXQuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PXQuYm91bmRpbmdCb3guY2xvbmUoKSksdGhpc30sY29tcHV0ZUJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PW5ldyB0cik7Y29uc3QgdD10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb24sZT10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZih0JiZ0LmlzR0xCdWZmZXJBdHRyaWJ1dGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBHTEJ1ZmZlckF0dHJpYnV0ZSByZXF1aXJlcyBhIG1hbnVhbCBib3VuZGluZyBib3guIEFsdGVybmF0aXZlbHkgc2V0IFwibWVzaC5mcnVzdHVtQ3VsbGVkXCIgdG8gXCJmYWxzZVwiLicsdGhpcyksdm9pZCB0aGlzLmJvdW5kaW5nQm94LnNldChuZXcgS24oLTEvMCwtMS8wLC0xLzApLG5ldyBLbigxLzAsMS8wLDEvMCkpO2lmKHZvaWQgMCE9PXQpe2lmKHRoaXMuYm91bmRpbmdCb3guc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSh0KSxlKWZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW3RdO2ppLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobiksdGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8oWGkuYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1pbixqaS5taW4pLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChYaSksWGkuYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1heCxqaS5tYXgpLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChYaSkpOih0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoamkubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoamkubWF4KSl9fWVsc2UgdGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTsoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSkmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlIFwicG9zaXRpb25cIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfSxjb21wdXRlQm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IGdyKTtjb25zdCB0PXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbixlPXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHQmJnQuaXNHTEJ1ZmZlckF0dHJpYnV0ZSlyZXR1cm4gY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIHNwaGVyZS4gQWx0ZXJuYXRpdmVseSBzZXQgXCJtZXNoLmZydXN0dW1DdWxsZWRcIiB0byBcImZhbHNlXCIuJyx0aGlzKSx2b2lkIHRoaXMuYm91bmRpbmdTcGhlcmUuc2V0KG5ldyBLbiwxLzApO2lmKHQpe2NvbnN0IG49dGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXI7aWYoamkuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSh0KSxlKWZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW3RdO1dpLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobiksdGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8oWGkuYWRkVmVjdG9ycyhqaS5taW4sV2kubWluKSxqaS5leHBhbmRCeVBvaW50KFhpKSxYaS5hZGRWZWN0b3JzKGppLm1heCxXaS5tYXgpLGppLmV4cGFuZEJ5UG9pbnQoWGkpKTooamkuZXhwYW5kQnlQb2ludChXaS5taW4pLGppLmV4cGFuZEJ5UG9pbnQoV2kubWF4KSl9amkuZ2V0Q2VudGVyKG4pO2xldCByPTA7Zm9yKGxldCBlPTAsaT10LmNvdW50O2U8aTtlKyspWGkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUpLHI9TWF0aC5tYXgocixuLmRpc3RhbmNlVG9TcXVhcmVkKFhpKSk7aWYoZSlmb3IobGV0IGk9MCxvPWUubGVuZ3RoO2k8bztpKyspe2NvbnN0IG89ZVtpXSxhPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU7Zm9yKGxldCBlPTAsaT1vLmNvdW50O2U8aTtlKyspWGkuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLGUpLGEmJihWaS5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSksWGkuYWRkKFZpKSkscj1NYXRoLm1heChyLG4uZGlzdGFuY2VUb1NxdWFyZWQoWGkpKX10aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cz1NYXRoLnNxcnQociksaXNOYU4odGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogQ29tcHV0ZWQgcmFkaXVzIGlzIE5hTi4gVGhlIFwicG9zaXRpb25cIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfX0sY29tcHV0ZUZhY2VOb3JtYWxzOmZ1bmN0aW9uKCl7fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5pbmRleCxlPXRoaXMuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7aWYodm9pZCAwIT09ZSl7bGV0IG49dGhpcy5nZXRBdHRyaWJ1dGUoXCJub3JtYWxcIik7aWYodm9pZCAwPT09biluPW5ldyBUaShuZXcgRmxvYXQzMkFycmF5KDMqZS5jb3VudCksMyksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuKTtlbHNlIGZvcihsZXQgdD0wLGU9bi5jb3VudDt0PGU7dCsrKW4uc2V0WFlaKHQsMCwwLDApO2NvbnN0IHI9bmV3IEtuLGk9bmV3IEtuLG89bmV3IEtuLGE9bmV3IEtuLHM9bmV3IEtuLGM9bmV3IEtuLGw9bmV3IEtuLHU9bmV3IEtuO2lmKHQpZm9yKGxldCBoPTAsZD10LmNvdW50O2g8ZDtoKz0zKXtjb25zdCBkPXQuZ2V0WChoKzApLHA9dC5nZXRYKGgrMSksZj10LmdldFgoaCsyKTtyLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxkKSxpLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxwKSxvLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxmKSxsLnN1YlZlY3RvcnMobyxpKSx1LnN1YlZlY3RvcnMocixpKSxsLmNyb3NzKHUpLGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLGQpLHMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLHApLGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLGYpLGEuYWRkKGwpLHMuYWRkKGwpLGMuYWRkKGwpLG4uc2V0WFlaKGQsYS54LGEueSxhLnopLG4uc2V0WFlaKHAscy54LHMueSxzLnopLG4uc2V0WFlaKGYsYy54LGMueSxjLnopfWVsc2UgZm9yKGxldCB0PTAsYT1lLmNvdW50O3Q8YTt0Kz0zKXIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQrMCksaS5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCsxKSxvLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KzIpLGwuc3ViVmVjdG9ycyhvLGkpLHUuc3ViVmVjdG9ycyhyLGkpLGwuY3Jvc3ModSksbi5zZXRYWVoodCswLGwueCxsLnksbC56KSxuLnNldFhZWih0KzEsbC54LGwueSxsLnopLG4uc2V0WFlaKHQrMixsLngsbC55LGwueik7dGhpcy5ub3JtYWxpemVOb3JtYWxzKCksbi5uZWVkc1VwZGF0ZT0hMH19LG1lcmdlOmZ1bmN0aW9uKHQsZSl7aWYoIXR8fCF0LmlzQnVmZmVyR2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IGdlb21ldHJ5IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeS5cIix0KTt2b2lkIDA9PT1lJiYoZT0wLGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IE92ZXJ3cml0aW5nIG9yaWdpbmFsIGdlb21ldHJ5LCBzdGFydGluZyBhdCBvZmZzZXQ9MC4gVXNlIEJ1ZmZlckdlb21ldHJ5VXRpbHMubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZm9yIGxvc3NsZXNzIG1lcmdlLlwiKSk7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IHIgaW4gbil7aWYodm9pZCAwPT09dC5hdHRyaWJ1dGVzW3JdKWNvbnRpbnVlO2NvbnN0IGk9bltyXS5hcnJheSxvPXQuYXR0cmlidXRlc1tyXSxhPW8uYXJyYXkscz1vLml0ZW1TaXplKmUsYz1NYXRoLm1pbihhLmxlbmd0aCxpLmxlbmd0aC1zKTtmb3IobGV0IHQ9MCxlPXM7dDxjO3QrKyxlKyspaVtlXT1hW3RdfXJldHVybiB0aGlzfSxub3JtYWxpemVOb3JtYWxzOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2ZvcihsZXQgZT0wLG49dC5jb3VudDtlPG47ZSsrKVhpLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlKSxYaS5ub3JtYWxpemUoKSx0LnNldFhZWihlLFhpLngsWGkueSxYaS56KX0sdG9Ob25JbmRleGVkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2NvbnN0IG49dC5hcnJheSxyPXQuaXRlbVNpemUsaT10Lm5vcm1hbGl6ZWQsbz1uZXcgbi5jb25zdHJ1Y3RvcihlLmxlbmd0aCpyKTtsZXQgYT0wLHM9MDtmb3IobGV0IHQ9MCxpPWUubGVuZ3RoO3Q8aTt0Kyspe2E9ZVt0XSpyO2ZvcihsZXQgdD0wO3Q8cjt0Kyspb1tzKytdPW5bYSsrXX1yZXR1cm4gbmV3IFRpKG8scixpKX1pZihudWxsPT09dGhpcy5pbmRleClyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnkudG9Ob25JbmRleGVkKCk6IEdlb21ldHJ5IGlzIGFscmVhZHkgbm9uLWluZGV4ZWQuXCIpLHRoaXM7Y29uc3QgZT1uZXcgcWksbj10aGlzLmluZGV4LmFycmF5LHI9dGhpcy5hdHRyaWJ1dGVzO2Zvcihjb25zdCBpIGluIHIpe2NvbnN0IG89dChyW2ldLG4pO2Uuc2V0QXR0cmlidXRlKGksbyl9Y29uc3QgaT10aGlzLm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgciBpbiBpKXtjb25zdCBvPVtdLGE9aVtyXTtmb3IobGV0IGU9MCxyPWEubGVuZ3RoO2U8cjtlKyspe2NvbnN0IHI9dChhW2VdLG4pO28ucHVzaChyKX1lLm1vcnBoQXR0cmlidXRlc1tyXT1vfWUubW9ycGhUYXJnZXRzUmVsYXRpdmU9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZTtjb25zdCBvPXRoaXMuZ3JvdXBzO2ZvcihsZXQgdD0wLG49by5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1vW3RdO2UuYWRkR3JvdXAobi5zdGFydCxuLmNvdW50LG4ubWF0ZXJpYWxJbmRleCl9cmV0dXJuIGV9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOlwiQnVmZmVyR2VvbWV0cnlcIixnZW5lcmF0b3I6XCJCdWZmZXJHZW9tZXRyeS50b0pTT05cIn19O2lmKHQudXVpZD10aGlzLnV1aWQsdC50eXBlPXRoaXMudHlwZSxcIlwiIT09dGhpcy5uYW1lJiYodC5uYW1lPXRoaXMubmFtZSksT2JqZWN0LmtleXModGhpcy51c2VyRGF0YSkubGVuZ3RoPjAmJih0LnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLHZvaWQgMCE9PXRoaXMucGFyYW1ldGVycyl7Y29uc3QgZT10aGlzLnBhcmFtZXRlcnM7Zm9yKGNvbnN0IG4gaW4gZSl2b2lkIDAhPT1lW25dJiYodFtuXT1lW25dKTtyZXR1cm4gdH10LmRhdGE9e2F0dHJpYnV0ZXM6e319O2NvbnN0IGU9dGhpcy5pbmRleDtudWxsIT09ZSYmKHQuZGF0YS5pbmRleD17dHlwZTplLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5hcnJheSl9KTtjb25zdCBuPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgZSBpbiBuKXtjb25zdCByPW5bZV0saT1yLnRvSlNPTih0LmRhdGEpO1wiXCIhPT1yLm5hbWUmJihpLm5hbWU9ci5uYW1lKSx0LmRhdGEuYXR0cmlidXRlc1tlXT1pfWNvbnN0IHI9e307bGV0IGk9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5tb3JwaEF0dHJpYnV0ZXMpe2NvbnN0IG49dGhpcy5tb3JwaEF0dHJpYnV0ZXNbZV0sbz1bXTtmb3IobGV0IGU9MCxyPW4ubGVuZ3RoO2U8cjtlKyspe2NvbnN0IHI9bltlXSxpPXIudG9KU09OKHQuZGF0YSk7XCJcIiE9PXIubmFtZSYmKGkubmFtZT1yLm5hbWUpLG8ucHVzaChpKX1vLmxlbmd0aD4wJiYocltlXT1vLGk9ITApfWkmJih0LmRhdGEubW9ycGhBdHRyaWJ1dGVzPXIsdC5kYXRhLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpO2NvbnN0IG89dGhpcy5ncm91cHM7by5sZW5ndGg+MCYmKHQuZGF0YS5ncm91cHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSkpO2NvbnN0IGE9dGhpcy5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbnVsbCE9PWEmJih0LmRhdGEuYm91bmRpbmdTcGhlcmU9e2NlbnRlcjphLmNlbnRlci50b0FycmF5KCkscmFkaXVzOmEucmFkaXVzfSksdH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHFpKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKHQpe3RoaXMuaW5kZXg9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5tb3JwaEF0dHJpYnV0ZXM9e30sdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbDtjb25zdCBlPXt9O3RoaXMubmFtZT10Lm5hbWU7Y29uc3Qgbj10LmluZGV4O251bGwhPT1uJiZ0aGlzLnNldEluZGV4KG4uY2xvbmUoZSkpO2NvbnN0IHI9dC5hdHRyaWJ1dGVzO2Zvcihjb25zdCB0IGluIHIpe2NvbnN0IG49clt0XTt0aGlzLnNldEF0dHJpYnV0ZSh0LG4uY2xvbmUoZSkpfWNvbnN0IGk9dC5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgbj1bXSxyPWlbdF07Zm9yKGxldCB0PTAsaT1yLmxlbmd0aDt0PGk7dCsrKW4ucHVzaChyW3RdLmNsb25lKGUpKTt0aGlzLm1vcnBoQXR0cmlidXRlc1t0XT1ufXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZTtjb25zdCBvPXQuZ3JvdXBzO2ZvcihsZXQgdD0wLGU9by5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1vW3RdO3RoaXMuYWRkR3JvdXAoZS5zdGFydCxlLmNvdW50LGUubWF0ZXJpYWxJbmRleCl9Y29uc3QgYT10LmJvdW5kaW5nQm94O251bGwhPT1hJiYodGhpcy5ib3VuZGluZ0JveD1hLmNsb25lKCkpO2NvbnN0IHM9dC5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbnVsbCE9PXMmJih0aGlzLmJvdW5kaW5nU3BoZXJlPXMuY2xvbmUoKSksdGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dC5kcmF3UmFuZ2Uuc3RhcnQsdGhpcy5kcmF3UmFuZ2UuY291bnQ9dC5kcmF3UmFuZ2UuY291bnQsdGhpcy51c2VyRGF0YT10LnVzZXJEYXRhLHRoaXN9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJkaXNwb3NlXCJ9KX19KTtjb25zdCBZaT1uZXcgVHIsWmk9bmV3IFNyLEppPW5ldyBncixLaT1uZXcgS24sUWk9bmV3IEtuLCRpPW5ldyBLbix0bz1uZXcgS24sZW89bmV3IEtuLG5vPW5ldyBLbixybz1uZXcgS24saW89bmV3IEtuLG9vPW5ldyBLbixhbz1uZXcgR24sc289bmV3IEduLGNvPW5ldyBHbixsbz1uZXcgS24sdW89bmV3IEtuO2Z1bmN0aW9uIGhvKHQsZSl7SnIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoXCIsdGhpcy5nZW9tZXRyeT12b2lkIDAhPT10P3Q6bmV3IHFpLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09ZT9lOm5ldyBfaSx0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfWZ1bmN0aW9uIHBvKHQsZSxuLHIsaSxvLGEscyl7bGV0IGM7aWYoYz1lLnNpZGU9PT1tP3IuaW50ZXJzZWN0VHJpYW5nbGUoYSxvLGksITAscyk6ci5pbnRlcnNlY3RUcmlhbmdsZShpLG8sYSxlLnNpZGUhPT1nLHMpLG51bGw9PT1jKXJldHVybiBudWxsO3VvLmNvcHkocyksdW8uYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpO2NvbnN0IGw9bi5yYXkub3JpZ2luLmRpc3RhbmNlVG8odW8pO3JldHVybiBsPG4ubmVhcnx8bD5uLmZhcj9udWxsOntkaXN0YW5jZTpsLHBvaW50OnVvLmNsb25lKCksb2JqZWN0OnR9fWZ1bmN0aW9uIGZvKHQsZSxuLHIsaSxvLGEscyxjLGwsdSxoKXtLaS5mcm9tQnVmZmVyQXR0cmlidXRlKGksbCksUWkuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLHUpLCRpLmZyb21CdWZmZXJBdHRyaWJ1dGUoaSxoKTtjb25zdCBkPXQubW9ycGhUYXJnZXRJbmZsdWVuY2VzO2lmKGUubW9ycGhUYXJnZXRzJiZvJiZkKXtyby5zZXQoMCwwLDApLGlvLnNldCgwLDAsMCksb28uc2V0KDAsMCwwKTtmb3IobGV0IHQ9MCxlPW8ubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9ZFt0XSxuPW9bdF07MCE9PWUmJih0by5mcm9tQnVmZmVyQXR0cmlidXRlKG4sbCksZW8uZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLHUpLG5vLmZyb21CdWZmZXJBdHRyaWJ1dGUobixoKSxhPyhyby5hZGRTY2FsZWRWZWN0b3IodG8sZSksaW8uYWRkU2NhbGVkVmVjdG9yKGVvLGUpLG9vLmFkZFNjYWxlZFZlY3RvcihubyxlKSk6KHJvLmFkZFNjYWxlZFZlY3Rvcih0by5zdWIoS2kpLGUpLGlvLmFkZFNjYWxlZFZlY3Rvcihlby5zdWIoUWkpLGUpLG9vLmFkZFNjYWxlZFZlY3Rvcihuby5zdWIoJGkpLGUpKSl9S2kuYWRkKHJvKSxRaS5hZGQoaW8pLCRpLmFkZChvbyl9dC5pc1NraW5uZWRNZXNoJiYodC5ib25lVHJhbnNmb3JtKGwsS2kpLHQuYm9uZVRyYW5zZm9ybSh1LFFpKSx0LmJvbmVUcmFuc2Zvcm0oaCwkaSkpO2NvbnN0IHA9cG8odCxlLG4scixLaSxRaSwkaSxsbyk7aWYocCl7cyYmKGFvLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxsKSxzby5mcm9tQnVmZmVyQXR0cmlidXRlKHMsdSksY28uZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLGgpLHAudXY9aGkuZ2V0VVYobG8sS2ksUWksJGksYW8sc28sY28sbmV3IEduKSksYyYmKGFvLmZyb21CdWZmZXJBdHRyaWJ1dGUoYyxsKSxzby5mcm9tQnVmZmVyQXR0cmlidXRlKGMsdSksY28uZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLGgpLHAudXYyPWhpLmdldFVWKGxvLEtpLFFpLCRpLGFvLHNvLGNvLG5ldyBHbikpO2NvbnN0IHQ9bmV3IHhpKGwsdSxoKTtoaS5nZXROb3JtYWwoS2ksUWksJGksdC5ub3JtYWwpLHAuZmFjZT10fXJldHVybiBwfWhvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoSnIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6aG8saXNNZXNoOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEpyLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx2b2lkIDAhPT10Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyYmKHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPXQubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnNsaWNlKCkpLHZvaWQgMCE9PXQubW9ycGhUYXJnZXREaWN0aW9uYXJ5JiYodGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9T2JqZWN0LmFzc2lnbih7fSx0Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkpLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PXQuZ2VvbWV0cnksdGhpc30sdXBkYXRlTW9ycGhUYXJnZXRzOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZT10Lm1vcnBoQXR0cmlidXRlcyxuPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoPjApe2NvbnN0IHQ9ZVtuWzBdXTtpZih2b2lkIDAhPT10KXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dFtlXS5uYW1lfHxTdHJpbmcoZSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuXT1lfX19fWVsc2V7Y29uc3QgZT10Lm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1lJiZlLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuTWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLlwiKX19LHJheWNhc3Q6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMuZ2VvbWV0cnkscj10aGlzLm1hdGVyaWFsLGk9dGhpcy5tYXRyaXhXb3JsZDtpZih2b2lkIDA9PT1yKXJldHVybjtpZihudWxsPT09bi5ib3VuZGluZ1NwaGVyZSYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxKaS5jb3B5KG4uYm91bmRpbmdTcGhlcmUpLEppLmFwcGx5TWF0cml4NChpKSwhMT09PXQucmF5LmludGVyc2VjdHNTcGhlcmUoSmkpKXJldHVybjtpZihZaS5jb3B5KGkpLmludmVydCgpLFppLmNvcHkodC5yYXkpLmFwcGx5TWF0cml4NChZaSksbnVsbCE9PW4uYm91bmRpbmdCb3gmJiExPT09WmkuaW50ZXJzZWN0c0JveChuLmJvdW5kaW5nQm94KSlyZXR1cm47bGV0IG87aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBpPW4uaW5kZXgsYT1uLmF0dHJpYnV0ZXMucG9zaXRpb24scz1uLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixjPW4ubW9ycGhUYXJnZXRzUmVsYXRpdmUsbD1uLmF0dHJpYnV0ZXMudXYsdT1uLmF0dHJpYnV0ZXMudXYyLGg9bi5ncm91cHMsZD1uLmRyYXdSYW5nZTtpZihudWxsIT09aSlpZihBcnJheS5pc0FycmF5KHIpKWZvcihsZXQgbj0wLHA9aC5sZW5ndGg7bjxwO24rKyl7Y29uc3QgcD1oW25dLGY9cltwLm1hdGVyaWFsSW5kZXhdO2ZvcihsZXQgbj1NYXRoLm1heChwLnN0YXJ0LGQuc3RhcnQpLHI9TWF0aC5taW4ocC5zdGFydCtwLmNvdW50LGQuc3RhcnQrZC5jb3VudCk7bjxyO24rPTMpe2NvbnN0IHI9aS5nZXRYKG4pLGg9aS5nZXRYKG4rMSksZD1pLmdldFgobisyKTtvPWZvKHRoaXMsZix0LFppLGEscyxjLGwsdSxyLGgsZCksbyYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3Iobi8zKSxvLmZhY2UubWF0ZXJpYWxJbmRleD1wLm1hdGVyaWFsSW5kZXgsZS5wdXNoKG8pKX19ZWxzZXtmb3IobGV0IG49TWF0aC5tYXgoMCxkLnN0YXJ0KSxoPU1hdGgubWluKGkuY291bnQsZC5zdGFydCtkLmNvdW50KTtuPGg7bis9Myl7Y29uc3QgaD1pLmdldFgobiksZD1pLmdldFgobisxKSxwPWkuZ2V0WChuKzIpO289Zm8odGhpcyxyLHQsWmksYSxzLGMsbCx1LGgsZCxwKSxvJiYoby5mYWNlSW5kZXg9TWF0aC5mbG9vcihuLzMpLGUucHVzaChvKSl9fWVsc2UgaWYodm9pZCAwIT09YSlpZihBcnJheS5pc0FycmF5KHIpKWZvcihsZXQgbj0wLGk9aC5sZW5ndGg7bjxpO24rKyl7Y29uc3QgaT1oW25dLHA9cltpLm1hdGVyaWFsSW5kZXhdO2ZvcihsZXQgbj1NYXRoLm1heChpLnN0YXJ0LGQuc3RhcnQpLHI9TWF0aC5taW4oaS5zdGFydCtpLmNvdW50LGQuc3RhcnQrZC5jb3VudCk7bjxyO24rPTMpe289Zm8odGhpcyxwLHQsWmksYSxzLGMsbCx1LG4sbisxLG4rMiksbyYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3Iobi8zKSxvLmZhY2UubWF0ZXJpYWxJbmRleD1pLm1hdGVyaWFsSW5kZXgsZS5wdXNoKG8pKX19ZWxzZXtmb3IobGV0IG49TWF0aC5tYXgoMCxkLnN0YXJ0KSxpPU1hdGgubWluKGEuY291bnQsZC5zdGFydCtkLmNvdW50KTtuPGk7bis9Myl7bz1mbyh0aGlzLHIsdCxaaSxhLHMsYyxsLHUsbixuKzEsbisyKSxvJiYoby5mYWNlSW5kZXg9TWF0aC5mbG9vcihuLzMpLGUucHVzaChvKSl9fX1lbHNlIGlmKG4uaXNHZW9tZXRyeSl7Y29uc3QgaT1BcnJheS5pc0FycmF5KHIpLGE9bi52ZXJ0aWNlcyxzPW4uZmFjZXM7bGV0IGM7Y29uc3QgbD1uLmZhY2VWZXJ0ZXhVdnNbMF07bC5sZW5ndGg+MCYmKGM9bCk7Zm9yKGxldCBuPTAsbD1zLmxlbmd0aDtuPGw7bisrKXtjb25zdCBsPXNbbl0sdT1pP3JbbC5tYXRlcmlhbEluZGV4XTpyO2lmKHZvaWQgMD09PXUpY29udGludWU7Y29uc3QgaD1hW2wuYV0sZD1hW2wuYl0scD1hW2wuY107aWYobz1wbyh0aGlzLHUsdCxaaSxoLGQscCxsbyksbyl7aWYoYyYmY1tuXSl7Y29uc3QgdD1jW25dO2FvLmNvcHkodFswXSksc28uY29weSh0WzFdKSxjby5jb3B5KHRbMl0pLG8udXY9aGkuZ2V0VVYobG8saCxkLHAsYW8sc28sY28sbmV3IEduKX1vLmZhY2U9bCxvLmZhY2VJbmRleD1uLGUucHVzaChvKX19fX19KTtjbGFzcyBtbyBleHRlbmRzIHFpe2NvbnN0cnVjdG9yKHQ9MSxlPTEsbj0xLHI9MSxpPTEsbz0xKXtzdXBlcigpLHRoaXMudHlwZT1cIkJveEJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp0LGhlaWdodDplLGRlcHRoOm4sd2lkdGhTZWdtZW50czpyLGhlaWdodFNlZ21lbnRzOmksZGVwdGhTZWdtZW50czpvfTtjb25zdCBhPXRoaXM7cj1NYXRoLmZsb29yKHIpLGk9TWF0aC5mbG9vcihpKSxvPU1hdGguZmxvb3Iobyk7Y29uc3Qgcz1bXSxjPVtdLGw9W10sdT1bXTtsZXQgaD0wLGQ9MDtmdW5jdGlvbiBwKHQsZSxuLHIsaSxvLHAsZixtLGcsdil7Y29uc3QgeT1vL20seD1wL2csYj1vLzIsdz1wLzIsXz1mLzIsTT1tKzEsUz1nKzE7bGV0IFQ9MCxFPTA7Y29uc3QgQT1uZXcgS247Zm9yKGxldCBvPTA7bzxTO28rKyl7Y29uc3QgYT1vKngtdztmb3IobGV0IHM9MDtzPE07cysrKXtjb25zdCBoPXMqeS1iO0FbdF09aCpyLEFbZV09YSppLEFbbl09XyxjLnB1c2goQS54LEEueSxBLnopLEFbdF09MCxBW2VdPTAsQVtuXT1mPjA/MTotMSxsLnB1c2goQS54LEEueSxBLnopLHUucHVzaChzL20pLHUucHVzaCgxLW8vZyksVCs9MX19Zm9yKGxldCB0PTA7dDxnO3QrKylmb3IobGV0IGU9MDtlPG07ZSsrKXtjb25zdCBuPWgrZStNKnQscj1oK2UrTSoodCsxKSxpPWgrKGUrMSkrTSoodCsxKSxvPWgrKGUrMSkrTSp0O3MucHVzaChuLHIsbykscy5wdXNoKHIsaSxvKSxFKz02fWEuYWRkR3JvdXAoZCxFLHYpLGQrPUUsaCs9VH1wKFwielwiLFwieVwiLFwieFwiLC0xLC0xLG4sZSx0LG8saSwwKSxwKFwielwiLFwieVwiLFwieFwiLDEsLTEsbixlLC10LG8saSwxKSxwKFwieFwiLFwielwiLFwieVwiLDEsMSx0LG4sZSxyLG8sMikscChcInhcIixcInpcIixcInlcIiwxLC0xLHQsbiwtZSxyLG8sMykscChcInhcIixcInlcIixcInpcIiwxLC0xLHQsZSxuLHIsaSw0KSxwKFwieFwiLFwieVwiLFwielwiLC0xLC0xLHQsZSwtbixyLGksNSksdGhpcy5zZXRJbmRleChzKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGMsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IE5pKGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgTmkodSwyKSl9fWZ1bmN0aW9uIGdvKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gaW4gdCl7ZVtuXT17fTtmb3IoY29uc3QgciBpbiB0W25dKXtjb25zdCBpPXRbbl1bcl07aSYmKGkuaXNDb2xvcnx8aS5pc01hdHJpeDN8fGkuaXNNYXRyaXg0fHxpLmlzVmVjdG9yMnx8aS5pc1ZlY3RvcjN8fGkuaXNWZWN0b3I0fHxpLmlzVGV4dHVyZSk/ZVtuXVtyXT1pLmNsb25lKCk6QXJyYXkuaXNBcnJheShpKT9lW25dW3JdPWkuc2xpY2UoKTplW25dW3JdPWl9fXJldHVybiBlfWZ1bmN0aW9uIHZvKHQpe2NvbnN0IGU9e307Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9Z28odFtuXSk7Zm9yKGNvbnN0IHQgaW4gcillW3RdPXJbdF19cmV0dXJuIGV9Y29uc3QgeW89e2Nsb25lOmdvLG1lcmdlOnZvfTtmdW5jdGlvbiB4byh0KXt3aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNoYWRlck1hdGVyaWFsXCIsdGhpcy5kZWZpbmVzPXt9LHRoaXMudW5pZm9ybXM9e30sdGhpcy52ZXJ0ZXhTaGFkZXI9XCJ2b2lkIG1haW4oKSB7XFxuXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cIix0aGlzLmZyYWdtZW50U2hhZGVyPVwidm9pZCBtYWluKCkge1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAwLjAsIDEuMCApO1xcbn1cIix0aGlzLmxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy5mb2c9ITEsdGhpcy5saWdodHM9ITEsdGhpcy5jbGlwcGluZz0hMSx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZXh0ZW5zaW9ucz17ZGVyaXZhdGl2ZXM6ITEsZnJhZ0RlcHRoOiExLGRyYXdCdWZmZXJzOiExLHNoYWRlclRleHR1cmVMT0Q6ITF9LHRoaXMuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcz17Y29sb3I6WzEsMSwxXSx1djpbMCwwXSx1djI6WzAsMF19LHRoaXMuaW5kZXgwQXR0cmlidXRlTmFtZT12b2lkIDAsdGhpcy51bmlmb3Jtc05lZWRVcGRhdGU9ITEsdGhpcy5nbHNsVmVyc2lvbj1udWxsLHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmF0dHJpYnV0ZXMmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5TaGFkZXJNYXRlcmlhbDogYXR0cmlidXRlcyBzaG91bGQgbm93IGJlIGRlZmluZWQgaW4gVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC5cIiksdGhpcy5zZXRWYWx1ZXModCkpfWZ1bmN0aW9uIGJvKCl7SnIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDYW1lcmFcIix0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZT1uZXcgVHIsdGhpcy5wcm9qZWN0aW9uTWF0cml4PW5ldyBUcix0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlPW5ldyBUcn1mdW5jdGlvbiB3byh0PTUwLGU9MSxuPS4xLHI9MmUzKXtiby5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlBlcnNwZWN0aXZlQ2FtZXJhXCIsdGhpcy5mb3Y9dCx0aGlzLnpvb209MSx0aGlzLm5lYXI9bix0aGlzLmZhcj1yLHRoaXMuZm9jdXM9MTAsdGhpcy5hc3BlY3Q9ZSx0aGlzLnZpZXc9bnVsbCx0aGlzLmZpbG1HYXVnZT0zNSx0aGlzLmZpbG1PZmZzZXQ9MCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX14by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3aS5wcm90b3R5cGUpLHhvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj14byx4by5wcm90b3R5cGUuaXNTaGFkZXJNYXRlcmlhbD0hMCx4by5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gd2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuZnJhZ21lbnRTaGFkZXI9dC5mcmFnbWVudFNoYWRlcix0aGlzLnZlcnRleFNoYWRlcj10LnZlcnRleFNoYWRlcix0aGlzLnVuaWZvcm1zPWdvKHQudW5pZm9ybXMpLHRoaXMuZGVmaW5lcz1PYmplY3QuYXNzaWduKHt9LHQuZGVmaW5lcyksdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy5saWdodHM9dC5saWdodHMsdGhpcy5jbGlwcGluZz10LmNsaXBwaW5nLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz10Lm1vcnBoTm9ybWFscyx0aGlzLmV4dGVuc2lvbnM9T2JqZWN0LmFzc2lnbih7fSx0LmV4dGVuc2lvbnMpLHRoaXMuZ2xzbFZlcnNpb249dC5nbHNsVmVyc2lvbix0aGlzfSx4by5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKHQpe2NvbnN0IGU9d2kucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7ZS5nbHNsVmVyc2lvbj10aGlzLmdsc2xWZXJzaW9uLGUudW5pZm9ybXM9e307Zm9yKGNvbnN0IG4gaW4gdGhpcy51bmlmb3Jtcyl7Y29uc3Qgcj10aGlzLnVuaWZvcm1zW25dLnZhbHVlO3ImJnIuaXNUZXh0dXJlP2UudW5pZm9ybXNbbl09e3R5cGU6XCJ0XCIsdmFsdWU6ci50b0pTT04odCkudXVpZH06ciYmci5pc0NvbG9yP2UudW5pZm9ybXNbbl09e3R5cGU6XCJjXCIsdmFsdWU6ci5nZXRIZXgoKX06ciYmci5pc1ZlY3RvcjI/ZS51bmlmb3Jtc1tuXT17dHlwZTpcInYyXCIsdmFsdWU6ci50b0FycmF5KCl9OnImJnIuaXNWZWN0b3IzP2UudW5pZm9ybXNbbl09e3R5cGU6XCJ2M1wiLHZhbHVlOnIudG9BcnJheSgpfTpyJiZyLmlzVmVjdG9yND9lLnVuaWZvcm1zW25dPXt0eXBlOlwidjRcIix2YWx1ZTpyLnRvQXJyYXkoKX06ciYmci5pc01hdHJpeDM/ZS51bmlmb3Jtc1tuXT17dHlwZTpcIm0zXCIsdmFsdWU6ci50b0FycmF5KCl9OnImJnIuaXNNYXRyaXg0P2UudW5pZm9ybXNbbl09e3R5cGU6XCJtNFwiLHZhbHVlOnIudG9BcnJheSgpfTplLnVuaWZvcm1zW25dPXt2YWx1ZTpyfX1PYmplY3Qua2V5cyh0aGlzLmRlZmluZXMpLmxlbmd0aD4wJiYoZS5kZWZpbmVzPXRoaXMuZGVmaW5lcyksZS52ZXJ0ZXhTaGFkZXI9dGhpcy52ZXJ0ZXhTaGFkZXIsZS5mcmFnbWVudFNoYWRlcj10aGlzLmZyYWdtZW50U2hhZGVyO2NvbnN0IG49e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5leHRlbnNpb25zKSEwPT09dGhpcy5leHRlbnNpb25zW3RdJiYoblt0XT0hMCk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmxlbmd0aD4wJiYoZS5leHRlbnNpb25zPW4pLGV9LGJvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoSnIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Ym8saXNDYW1lcmE6ITAsY29weTpmdW5jdGlvbih0LGUpe3JldHVybiBKci5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCxlKSx0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHQubWF0cml4V29ybGRJbnZlcnNlKSx0aGlzLnByb2plY3Rpb25NYXRyaXguY29weSh0LnByb2plY3Rpb25NYXRyaXgpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0LnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKSx0aGlzfSxnZXRXb3JsZERpcmVjdGlvbjpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuQ2FtZXJhOiAuZ2V0V29ybGREaXJlY3Rpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEtuKSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTtjb25zdCBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHQuc2V0KC1lWzhdLC1lWzldLC1lWzEwXSkubm9ybWFsaXplKCl9LHVwZGF0ZU1hdHJpeFdvcmxkOmZ1bmN0aW9uKHQpe0pyLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsdCksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX0sdXBkYXRlV29ybGRNYXRyaXg6ZnVuY3Rpb24odCxlKXtKci5wcm90b3R5cGUudXBkYXRlV29ybGRNYXRyaXguY2FsbCh0aGlzLHQsZSksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSksd28ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShiby5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp3byxpc1BlcnNwZWN0aXZlQ2FtZXJhOiEwLGNvcHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gYm8ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQsZSksdGhpcy5mb3Y9dC5mb3YsdGhpcy56b29tPXQuem9vbSx0aGlzLm5lYXI9dC5uZWFyLHRoaXMuZmFyPXQuZmFyLHRoaXMuZm9jdXM9dC5mb2N1cyx0aGlzLmFzcGVjdD10LmFzcGVjdCx0aGlzLnZpZXc9bnVsbD09PXQudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sdC52aWV3KSx0aGlzLmZpbG1HYXVnZT10LmZpbG1HYXVnZSx0aGlzLmZpbG1PZmZzZXQ9dC5maWxtT2Zmc2V0LHRoaXN9LHNldEZvY2FsTGVuZ3RoOmZ1bmN0aW9uKHQpe2NvbnN0IGU9LjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvdDt0aGlzLmZvdj0yKnpuLlJBRDJERUcqTWF0aC5hdGFuKGUpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSxnZXRGb2NhbExlbmd0aDpmdW5jdGlvbigpe2NvbnN0IHQ9TWF0aC50YW4oLjUqem4uREVHMlJBRCp0aGlzLmZvdik7cmV0dXJuLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvdH0sZ2V0RWZmZWN0aXZlRk9WOmZ1bmN0aW9uKCl7cmV0dXJuIDIqem4uUkFEMkRFRypNYXRoLmF0YW4oTWF0aC50YW4oLjUqem4uREVHMlJBRCp0aGlzLmZvdikvdGhpcy56b29tKX0sZ2V0RmlsbVdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpfSxnZXRGaWxtSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlL01hdGgubWF4KHRoaXMuYXNwZWN0LDEpfSxzZXRWaWV3T2Zmc2V0OmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt0aGlzLmFzcGVjdD10L2UsbnVsbD09PXRoaXMudmlldyYmKHRoaXMudmlldz17ZW5hYmxlZDohMCxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfSksdGhpcy52aWV3LmVuYWJsZWQ9ITAsdGhpcy52aWV3LmZ1bGxXaWR0aD10LHRoaXMudmlldy5mdWxsSGVpZ2h0PWUsdGhpcy52aWV3Lm9mZnNldFg9bix0aGlzLnZpZXcub2Zmc2V0WT1yLHRoaXMudmlldy53aWR0aD1pLHRoaXMudmlldy5oZWlnaHQ9byx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0sY2xlYXJWaWV3T2Zmc2V0OmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudmlldyYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0sdXBkYXRlUHJvamVjdGlvbk1hdHJpeDpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5uZWFyO2xldCBlPXQqTWF0aC50YW4oLjUqem4uREVHMlJBRCp0aGlzLmZvdikvdGhpcy56b29tLG49MiplLHI9dGhpcy5hc3BlY3QqbixpPS0uNSpyO2NvbnN0IG89dGhpcy52aWV3O2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXtjb25zdCB0PW8uZnVsbFdpZHRoLGE9by5mdWxsSGVpZ2h0O2krPW8ub2Zmc2V0WCpyL3QsZS09by5vZmZzZXRZKm4vYSxyKj1vLndpZHRoL3Qsbio9by5oZWlnaHQvYX1jb25zdCBhPXRoaXMuZmlsbU9mZnNldDswIT09YSYmKGkrPXQqYS90aGlzLmdldEZpbG1XaWR0aCgpKSx0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGksaStyLGUsZS1uLHQsdGhpcy5mYXIpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpLmludmVydCgpfSx0b0pTT046ZnVuY3Rpb24odCl7Y29uc3QgZT1Kci5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5vYmplY3QuZm92PXRoaXMuZm92LGUub2JqZWN0Lnpvb209dGhpcy56b29tLGUub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLGUub2JqZWN0LmZhcj10aGlzLmZhcixlLm9iamVjdC5mb2N1cz10aGlzLmZvY3VzLGUub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdCxudWxsIT09dGhpcy52aWV3JiYoZS5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLGUub2JqZWN0LmZpbG1HYXVnZT10aGlzLmZpbG1HYXVnZSxlLm9iamVjdC5maWxtT2Zmc2V0PXRoaXMuZmlsbU9mZnNldCxlfX0pO2Z1bmN0aW9uIF9vKHQsZSxuKXtpZihKci5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkN1YmVDYW1lcmFcIiwhMCE9PW4uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLkN1YmVDYW1lcmE6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBhbiBpbnN0YW5jZSBvZiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQgYXMgdGhpcmQgcGFyYW1ldGVyLlwiKTt0aGlzLnJlbmRlclRhcmdldD1uO2NvbnN0IHI9bmV3IHdvKDkwLDEsdCxlKTtyLmxheWVycz10aGlzLmxheWVycyxyLnVwLnNldCgwLC0xLDApLHIubG9va0F0KG5ldyBLbigxLDAsMCkpLHRoaXMuYWRkKHIpO2NvbnN0IGk9bmV3IHdvKDkwLDEsdCxlKTtpLmxheWVycz10aGlzLmxheWVycyxpLnVwLnNldCgwLC0xLDApLGkubG9va0F0KG5ldyBLbigtMSwwLDApKSx0aGlzLmFkZChpKTtjb25zdCBvPW5ldyB3byg5MCwxLHQsZSk7by5sYXllcnM9dGhpcy5sYXllcnMsby51cC5zZXQoMCwwLDEpLG8ubG9va0F0KG5ldyBLbigwLDEsMCkpLHRoaXMuYWRkKG8pO2NvbnN0IGE9bmV3IHdvKDkwLDEsdCxlKTthLmxheWVycz10aGlzLmxheWVycyxhLnVwLnNldCgwLDAsLTEpLGEubG9va0F0KG5ldyBLbigwLC0xLDApKSx0aGlzLmFkZChhKTtjb25zdCBzPW5ldyB3byg5MCwxLHQsZSk7cy5sYXllcnM9dGhpcy5sYXllcnMscy51cC5zZXQoMCwtMSwwKSxzLmxvb2tBdChuZXcgS24oMCwwLDEpKSx0aGlzLmFkZChzKTtjb25zdCBjPW5ldyB3byg5MCwxLHQsZSk7Yy5sYXllcnM9dGhpcy5sYXllcnMsYy51cC5zZXQoMCwtMSwwKSxjLmxvb2tBdChuZXcgS24oMCwwLC0xKSksdGhpcy5hZGQoYyksdGhpcy51cGRhdGU9ZnVuY3Rpb24odCxlKXtudWxsPT09dGhpcy5wYXJlbnQmJnRoaXMudXBkYXRlTWF0cml4V29ybGQoKTtjb25zdCBsPXQueHIuZW5hYmxlZCx1PXQuZ2V0UmVuZGVyVGFyZ2V0KCk7dC54ci5lbmFibGVkPSExO2NvbnN0IGg9bi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcztuLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPSExLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMCksdC5yZW5kZXIoZSxyKSx0LnNldFJlbmRlclRhcmdldChuLDEpLHQucmVuZGVyKGUsaSksdC5zZXRSZW5kZXJUYXJnZXQobiwyKSx0LnJlbmRlcihlLG8pLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMyksdC5yZW5kZXIoZSxhKSx0LnNldFJlbmRlclRhcmdldChuLDQpLHQucmVuZGVyKGUscyksbi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1oLHQuc2V0UmVuZGVyVGFyZ2V0KG4sNSksdC5yZW5kZXIoZSxjKSx0LnNldFJlbmRlclRhcmdldCh1KSx0LnhyLmVuYWJsZWQ9bH19ZnVuY3Rpb24gTW8odCxlLG4scixpLG8sYSxzLGMsbCl7dD12b2lkIDAhPT10P3Q6W10sZT12b2lkIDAhPT1lP2U6b3QsYT12b2lkIDAhPT1hP2E6RnQsV24uY2FsbCh0aGlzLHQsZSxuLHIsaSxvLGEscyxjLGwpLHRoaXMuZmxpcFk9ITEsdGhpcy5fbmVlZHNGbGlwRW52TWFwPSEwfWZ1bmN0aW9uIFNvKHQsZSxuKXtOdW1iZXIuaXNJbnRlZ2VyKGUpJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xDdWJlUmVuZGVyVGFyZ2V0OiBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaXMgbm93IFdlYkdMQ3ViZVJlbmRlclRhcmdldCggc2l6ZSwgb3B0aW9ucyApXCIpLGU9biksWW4uY2FsbCh0aGlzLHQsdCxlKSxlPWV8fHt9LHRoaXMudGV4dHVyZT1uZXcgTW8odm9pZCAwLGUubWFwcGluZyxlLndyYXBTLGUud3JhcFQsZS5tYWdGaWx0ZXIsZS5taW5GaWx0ZXIsZS5mb3JtYXQsZS50eXBlLGUuYW5pc290cm9weSxlLmVuY29kaW5nKSx0aGlzLnRleHR1cmUuX25lZWRzRmxpcEVudk1hcD0hMX1mdW5jdGlvbiBUbyh0LGUsbixyLGksbyxhLHMsYyxsLHUsaCl7V24uY2FsbCh0aGlzLG51bGwsbyxhLHMsYyxsLHIsaSx1LGgpLHRoaXMuaW1hZ2U9e2RhdGE6dHx8bnVsbCx3aWR0aDplfHwxLGhlaWdodDpufHwxfSx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1jP2M6ZnQsdGhpcy5taW5GaWx0ZXI9dm9pZCAwIT09bD9sOmZ0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy51bnBhY2tBbGlnbm1lbnQ9MSx0aGlzLm5lZWRzVXBkYXRlPSEwfV9vLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEpyLnByb3RvdHlwZSksX28ucHJvdG90eXBlLmNvbnN0cnVjdG9yPV9vLE1vLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFduLnByb3RvdHlwZSksTW8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1vLE1vLnByb3RvdHlwZS5pc0N1YmVUZXh0dXJlPSEwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNby5wcm90b3R5cGUsXCJpbWFnZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLmltYWdlPXR9fSksU28ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoWW4ucHJvdG90eXBlKSxTby5wcm90b3R5cGUuY29uc3RydWN0b3I9U28sU28ucHJvdG90eXBlLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PSEwLFNvLnByb3RvdHlwZS5mcm9tRXF1aXJlY3Rhbmd1bGFyVGV4dHVyZT1mdW5jdGlvbih0LGUpe3RoaXMudGV4dHVyZS50eXBlPWUudHlwZSx0aGlzLnRleHR1cmUuZm9ybWF0PVV0LHRoaXMudGV4dHVyZS5lbmNvZGluZz1lLmVuY29kaW5nLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZS5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1lLm1pbkZpbHRlcix0aGlzLnRleHR1cmUubWFnRmlsdGVyPWUubWFnRmlsdGVyO2NvbnN0IG49e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6XCJcXG5cXG5cXHRcXHRcXHR2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcblxcblxcdFxcdFxcdHZlYzMgdHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7XFxuXFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHZvaWQgbWFpbigpIHtcXG5cXG5cXHRcXHRcXHRcXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xcblxcblxcdFxcdFxcdFxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0XFx0XFx0XFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcblxcdFxcdFxcdH1cXG5cXHRcXHRcIixmcmFnbWVudFNoYWRlcjpcIlxcblxcblxcdFxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcXG5cXG5cXHRcXHRcXHR2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcblxcblxcdFxcdFxcdCNpbmNsdWRlIDxjb21tb24+XFxuXFxuXFx0XFx0XFx0dm9pZCBtYWluKCkge1xcblxcblxcdFxcdFxcdFxcdHZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTtcXG5cXG5cXHRcXHRcXHRcXHR2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7XFxuXFxuXFx0XFx0XFx0XFx0Z2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCB0RXF1aXJlY3QsIHNhbXBsZVVWICk7XFxuXFxuXFx0XFx0XFx0fVxcblxcdFxcdFwifSxyPW5ldyBtbyg1LDUsNSksaT1uZXcgeG8oe25hbWU6XCJDdWJlbWFwRnJvbUVxdWlyZWN0XCIsdW5pZm9ybXM6Z28obi51bmlmb3JtcyksdmVydGV4U2hhZGVyOm4udmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOm4uZnJhZ21lbnRTaGFkZXIsc2lkZTptLGJsZW5kaW5nOnh9KTtpLnVuaWZvcm1zLnRFcXVpcmVjdC52YWx1ZT1lO2NvbnN0IG89bmV3IGhvKHIsaSksYT1lLm1pbkZpbHRlcjtlLm1pbkZpbHRlcj09PV90JiYoZS5taW5GaWx0ZXI9eHQpO3JldHVybiBuZXcgX28oMSwxMCx0aGlzKS51cGRhdGUodCxvKSxlLm1pbkZpbHRlcj1hLG8uZ2VvbWV0cnkuZGlzcG9zZSgpLG8ubWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXN9LFNvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7Zm9yKGxldCBpPTA7aTw2O2krKyl0LnNldFJlbmRlclRhcmdldCh0aGlzLGkpLHQuY2xlYXIoZSxuLHIpO3Quc2V0UmVuZGVyVGFyZ2V0KGkpfSxUby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXbi5wcm90b3R5cGUpLFRvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UbyxUby5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZT0hMDtjb25zdCBFbz1uZXcgZ3IsQW89bmV3IEtuO2NsYXNzIExve2NvbnN0cnVjdG9yKHQsZSxuLHIsaSxvKXt0aGlzLnBsYW5lcz1bdm9pZCAwIT09dD90Om5ldyB0aSx2b2lkIDAhPT1lP2U6bmV3IHRpLHZvaWQgMCE9PW4/bjpuZXcgdGksdm9pZCAwIT09cj9yOm5ldyB0aSx2b2lkIDAhPT1pP2k6bmV3IHRpLHZvaWQgMCE9PW8/bzpuZXcgdGldfXNldCh0LGUsbixyLGksbyl7Y29uc3QgYT10aGlzLnBsYW5lcztyZXR1cm4gYVswXS5jb3B5KHQpLGFbMV0uY29weShlKSxhWzJdLmNvcHkobiksYVszXS5jb3B5KHIpLGFbNF0uY29weShpKSxhWzVdLmNvcHkobyksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKyllW25dLmNvcHkodC5wbGFuZXNbbl0pO3JldHVybiB0aGlzfXNldEZyb21Qcm9qZWN0aW9uTWF0cml4KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXMsbj10LmVsZW1lbnRzLHI9blswXSxpPW5bMV0sbz1uWzJdLGE9blszXSxzPW5bNF0sYz1uWzVdLGw9bls2XSx1PW5bN10saD1uWzhdLGQ9bls5XSxwPW5bMTBdLGY9blsxMV0sbT1uWzEyXSxnPW5bMTNdLHY9blsxNF0seT1uWzE1XTtyZXR1cm4gZVswXS5zZXRDb21wb25lbnRzKGEtcix1LXMsZi1oLHktbSkubm9ybWFsaXplKCksZVsxXS5zZXRDb21wb25lbnRzKGErcix1K3MsZitoLHkrbSkubm9ybWFsaXplKCksZVsyXS5zZXRDb21wb25lbnRzKGEraSx1K2MsZitkLHkrZykubm9ybWFsaXplKCksZVszXS5zZXRDb21wb25lbnRzKGEtaSx1LWMsZi1kLHktZykubm9ybWFsaXplKCksZVs0XS5zZXRDb21wb25lbnRzKGEtbyx1LWwsZi1wLHktdikubm9ybWFsaXplKCksZVs1XS5zZXRDb21wb25lbnRzKGErbyx1K2wsZitwLHkrdikubm9ybWFsaXplKCksdGhpc31pbnRlcnNlY3RzT2JqZWN0KHQpe2NvbnN0IGU9dC5nZW9tZXRyeTtyZXR1cm4gbnVsbD09PWUuYm91bmRpbmdTcGhlcmUmJmUuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksRW8uY29weShlLmJvdW5kaW5nU3BoZXJlKS5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZCksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKEVvKX1pbnRlcnNlY3RzU3ByaXRlKHQpe3JldHVybiBFby5jZW50ZXIuc2V0KDAsMCwwKSxFby5yYWRpdXM9LjcwNzEwNjc4MTE4NjU0NzYsRW8uYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShFbyl9aW50ZXJzZWN0c1NwaGVyZSh0KXtjb25zdCBlPXRoaXMucGxhbmVzLG49dC5jZW50ZXIscj0tdC5yYWRpdXM7Zm9yKGxldCB0PTA7dDw2O3QrKyl7aWYoZVt0XS5kaXN0YW5jZVRvUG9pbnQobik8cilyZXR1cm4hMX1yZXR1cm4hMH1pbnRlcnNlY3RzQm94KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKyl7Y29uc3Qgcj1lW25dO2lmKEFvLng9ci5ub3JtYWwueD4wP3QubWF4Lng6dC5taW4ueCxBby55PXIubm9ybWFsLnk+MD90Lm1heC55OnQubWluLnksQW8uej1yLm5vcm1hbC56PjA/dC5tYXguejp0Lm1pbi56LHIuZGlzdGFuY2VUb1BvaW50KEFvKTwwKXJldHVybiExfXJldHVybiEwfWNvbnRhaW5zUG9pbnQodCl7Y29uc3QgZT10aGlzLnBsYW5lcztmb3IobGV0IG49MDtuPDY7bisrKWlmKGVbbl0uZGlzdGFuY2VUb1BvaW50KHQpPDApcmV0dXJuITE7cmV0dXJuITB9fWZ1bmN0aW9uIFJvKCl7bGV0IHQ9bnVsbCxlPSExLG49bnVsbCxyPW51bGw7ZnVuY3Rpb24gaShlLG8pe24oZSxvKSxyPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkpfXJldHVybntzdGFydDpmdW5jdGlvbigpeyEwIT09ZSYmbnVsbCE9PW4mJihyPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkpLGU9ITApfSxzdG9wOmZ1bmN0aW9uKCl7dC5jYW5jZWxBbmltYXRpb25GcmFtZShyKSxlPSExfSxzZXRBbmltYXRpb25Mb29wOmZ1bmN0aW9uKHQpe249dH0sc2V0Q29udGV4dDpmdW5jdGlvbihlKXt0PWV9fX1mdW5jdGlvbiBQbyh0LGUpe2NvbnN0IG49ZS5pc1dlYkdMMixyPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKHQ9dC5kYXRhKSxyLmdldCh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUpe2UuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTtjb25zdCBuPXIuZ2V0KGUpO24mJih0LmRlbGV0ZUJ1ZmZlcihuLmJ1ZmZlciksci5kZWxldGUoZSkpfSx1cGRhdGU6ZnVuY3Rpb24oZSxpKXtpZihlLmlzR0xCdWZmZXJBdHRyaWJ1dGUpe2NvbnN0IHQ9ci5nZXQoZSk7cmV0dXJuIHZvaWQoKCF0fHx0LnZlcnNpb248ZS52ZXJzaW9uKSYmci5zZXQoZSx7YnVmZmVyOmUuYnVmZmVyLHR5cGU6ZS50eXBlLGJ5dGVzUGVyRWxlbWVudDplLmVsZW1lbnRTaXplLHZlcnNpb246ZS52ZXJzaW9ufSkpfWUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTtjb25zdCBvPXIuZ2V0KGUpO3ZvaWQgMD09PW8/ci5zZXQoZSxmdW5jdGlvbihlLHIpe2NvbnN0IGk9ZS5hcnJheSxvPWUudXNhZ2UsYT10LmNyZWF0ZUJ1ZmZlcigpO3QuYmluZEJ1ZmZlcihyLGEpLHQuYnVmZmVyRGF0YShyLGksbyksZS5vblVwbG9hZENhbGxiYWNrKCk7bGV0IHM9NTEyNjtyZXR1cm4gaSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9zPTUxMjY6aSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9jb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVuc3VwcG9ydGVkIGRhdGEgYnVmZmVyIGZvcm1hdDogRmxvYXQ2NEFycmF5LlwiKTppIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZS5pc0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGU/bj9zPTUxMzE6Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVc2FnZSBvZiBGbG9hdDE2QnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIFdlYkdMMi5cIik6cz01MTIzOmkgaW5zdGFuY2VvZiBJbnQxNkFycmF5P3M9NTEyMjppIGluc3RhbmNlb2YgVWludDMyQXJyYXk/cz01MTI1OmkgaW5zdGFuY2VvZiBJbnQzMkFycmF5P3M9NTEyNDppIGluc3RhbmNlb2YgSW50OEFycmF5P3M9NTEyMDppIGluc3RhbmNlb2YgVWludDhBcnJheSYmKHM9NTEyMSkse2J1ZmZlcjphLHR5cGU6cyxieXRlc1BlckVsZW1lbnQ6aS5CWVRFU19QRVJfRUxFTUVOVCx2ZXJzaW9uOmUudmVyc2lvbn19KGUsaSkpOm8udmVyc2lvbjxlLnZlcnNpb24mJighZnVuY3Rpb24oZSxyLGkpe2NvbnN0IG89ci5hcnJheSxhPXIudXBkYXRlUmFuZ2U7dC5iaW5kQnVmZmVyKGksZSksLTE9PT1hLmNvdW50P3QuYnVmZmVyU3ViRGF0YShpLDAsbyk6KG4/dC5idWZmZXJTdWJEYXRhKGksYS5vZmZzZXQqby5CWVRFU19QRVJfRUxFTUVOVCxvLGEub2Zmc2V0LGEuY291bnQpOnQuYnVmZmVyU3ViRGF0YShpLGEub2Zmc2V0Km8uQllURVNfUEVSX0VMRU1FTlQsby5zdWJhcnJheShhLm9mZnNldCxhLm9mZnNldCthLmNvdW50KSksYS5jb3VudD0tMSl9KG8uYnVmZmVyLGUsaSksby52ZXJzaW9uPWUudmVyc2lvbil9fX1jbGFzcyBDbyBleHRlbmRzIHFpe2NvbnN0cnVjdG9yKHQ9MSxlPTEsbj0xLHI9MSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJQbGFuZUJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp0LGhlaWdodDplLHdpZHRoU2VnbWVudHM6bixoZWlnaHRTZWdtZW50czpyfTtjb25zdCBpPXQvMixvPWUvMixhPU1hdGguZmxvb3Iobikscz1NYXRoLmZsb29yKHIpLGM9YSsxLGw9cysxLHU9dC9hLGg9ZS9zLGQ9W10scD1bXSxmPVtdLG09W107Zm9yKGxldCB0PTA7dDxsO3QrKyl7Y29uc3QgZT10Kmgtbztmb3IobGV0IG49MDtuPGM7bisrKXtjb25zdCByPW4qdS1pO3AucHVzaChyLC1lLDApLGYucHVzaCgwLDAsMSksbS5wdXNoKG4vYSksbS5wdXNoKDEtdC9zKX19Zm9yKGxldCB0PTA7dDxzO3QrKylmb3IobGV0IGU9MDtlPGE7ZSsrKXtjb25zdCBuPWUrYyp0LHI9ZStjKih0KzEpLGk9ZSsxK2MqKHQrMSksbz1lKzErYyp0O2QucHVzaChuLHIsbyksZC5wdXNoKHIsaSxvKX10aGlzLnNldEluZGV4KGQpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkocCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgTmkoZiwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBOaShtLDIpKX19Y29uc3QgSW89e2FscGhhbWFwX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9BTFBIQU1BUFxcblxcdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHZVdiApLmc7XFxuI2VuZGlmXCIsYWxwaGFtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfQUxQSEFNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDtcXG4jZW5kaWZcIixhbHBoYXRlc3RfZnJhZ21lbnQ6XCIjaWZkZWYgQUxQSEFURVNUXFxuXFx0aWYgKCBkaWZmdXNlQ29sb3IuYSA8IEFMUEhBVEVTVCApIGRpc2NhcmQ7XFxuI2VuZGlmXCIsYW9tYXBfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0FPTUFQXFxuXFx0ZmxvYXQgYW1iaWVudE9jY2x1c2lvbiA9ICggdGV4dHVyZTJEKCBhb01hcCwgdlV2MiApLnIgLSAxLjAgKSAqIGFvTWFwSW50ZW5zaXR5ICsgMS4wO1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBhbWJpZW50T2NjbHVzaW9uO1xcblxcdCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKVxcblxcdFxcdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTtcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICo9IGNvbXB1dGVTcGVjdWxhck9jY2x1c2lvbiggZG90TlYsIGFtYmllbnRPY2NsdXNpb24sIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICk7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsYW9tYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfQU9NQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBhb01hcDtcXG5cXHR1bmlmb3JtIGZsb2F0IGFvTWFwSW50ZW5zaXR5O1xcbiNlbmRpZlwiLGJlZ2luX3ZlcnRleDpcInZlYzMgdHJhbnNmb3JtZWQgPSB2ZWMzKCBwb3NpdGlvbiApO1wiLGJlZ2lubm9ybWFsX3ZlcnRleDpcInZlYzMgb2JqZWN0Tm9ybWFsID0gdmVjMyggbm9ybWFsICk7XFxuI2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0dmVjMyBvYmplY3RUYW5nZW50ID0gdmVjMyggdGFuZ2VudC54eXogKTtcXG4jZW5kaWZcIixic2RmczpcInZlYzIgaW50ZWdyYXRlU3BlY3VsYXJCUkRGKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xcblxcdGNvbnN0IHZlYzQgYzAgPSB2ZWM0KCAtIDEsIC0gMC4wMjc1LCAtIDAuNTcyLCAwLjAyMiApO1xcblxcdGNvbnN0IHZlYzQgYzEgPSB2ZWM0KCAxLCAwLjA0MjUsIDEuMDQsIC0gMC4wNCApO1xcblxcdHZlYzQgciA9IHJvdWdobmVzcyAqIGMwICsgYzE7XFxuXFx0ZmxvYXQgYTAwNCA9IG1pbiggci54ICogci54LCBleHAyKCAtIDkuMjggKiBkb3ROViApICkgKiByLnggKyByLnk7XFxuXFx0cmV0dXJuIHZlYzIoIC0xLjA0LCAxLjA0ICkgKiBhMDA0ICsgci56dztcXG59XFxuZmxvYXQgcHVuY3R1YWxMaWdodEludGVuc2l0eVRvSXJyYWRpYW5jZUZhY3RvciggY29uc3QgaW4gZmxvYXQgbGlnaHREaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgY3V0b2ZmRGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGRlY2F5RXhwb25lbnQgKSB7XFxuI2lmIGRlZmluZWQgKCBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTIClcXG5cXHRmbG9hdCBkaXN0YW5jZUZhbGxvZmYgPSAxLjAgLyBtYXgoIHBvdyggbGlnaHREaXN0YW5jZSwgZGVjYXlFeHBvbmVudCApLCAwLjAxICk7XFxuXFx0aWYoIGN1dG9mZkRpc3RhbmNlID4gMC4wICkge1xcblxcdFxcdGRpc3RhbmNlRmFsbG9mZiAqPSBwb3cyKCBzYXR1cmF0ZSggMS4wIC0gcG93NCggbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICkgKSApO1xcblxcdH1cXG5cXHRyZXR1cm4gZGlzdGFuY2VGYWxsb2ZmO1xcbiNlbHNlXFxuXFx0aWYoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7XFxuXFx0XFx0cmV0dXJuIHBvdyggc2F0dXJhdGUoIC1saWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKyAxLjAgKSwgZGVjYXlFeHBvbmVudCApO1xcblxcdH1cXG5cXHRyZXR1cm4gMS4wO1xcbiNlbmRpZlxcbn1cXG52ZWMzIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvciApIHtcXG5cXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGRpZmZ1c2VDb2xvcjtcXG59XFxudmVjMyBGX1NjaGxpY2soIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgZG90TEggKSB7XFxuXFx0ZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLTUuNTU0NzMgKiBkb3RMSCAtIDYuOTgzMTYgKSAqIGRvdExIICk7XFxuXFx0cmV0dXJuICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogZnJlc25lbCArIHNwZWN1bGFyQ29sb3I7XFxufVxcbnZlYzMgRl9TY2hsaWNrX1JvdWdobmVzc0RlcGVuZGVudCggY29uc3QgaW4gdmVjMyBGMCwgY29uc3QgaW4gZmxvYXQgZG90TlYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcXG5cXHRmbG9hdCBmcmVzbmVsID0gZXhwMiggKCAtNS41NTQ3MyAqIGRvdE5WIC0gNi45ODMxNiApICogZG90TlYgKTtcXG5cXHR2ZWMzIEZyID0gbWF4KCB2ZWMzKCAxLjAgLSByb3VnaG5lc3MgKSwgRjAgKSAtIEYwO1xcblxcdHJldHVybiBGciAqIGZyZXNuZWwgKyBGMDtcXG59XFxuZmxvYXQgR19HR1hfU21pdGgoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7XFxuXFx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xcblxcdGZsb2F0IGdsID0gZG90TkwgKyBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5MICkgKTtcXG5cXHRmbG9hdCBndiA9IGRvdE5WICsgc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XFxuXFx0cmV0dXJuIDEuMCAvICggZ2wgKiBndiApO1xcbn1cXG5mbG9hdCBHX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7XFxuXFx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xcblxcdGZsb2F0IGd2ID0gZG90TkwgKiBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5WICkgKTtcXG5cXHRmbG9hdCBnbCA9IGRvdE5WICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7XFxuXFx0cmV0dXJuIDAuNSAvIG1heCggZ3YgKyBnbCwgRVBTSUxPTiApO1xcbn1cXG5mbG9hdCBEX0dHWCggY29uc3QgaW4gZmxvYXQgYWxwaGEsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkge1xcblxcdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcXG5cXHRmbG9hdCBkZW5vbSA9IHBvdzIoIGRvdE5IICkgKiAoIGEyIC0gMS4wICkgKyAxLjA7XFxuXFx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiBhMiAvIHBvdzIoIGRlbm9tICk7XFxufVxcbnZlYzMgQlJERl9TcGVjdWxhcl9HR1goIGNvbnN0IGluIEluY2lkZW50TGlnaHQgaW5jaWRlbnRMaWdodCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0ZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTtcXG5cXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICsgdmlld0RpciApO1xcblxcdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiApICk7XFxuXFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xcblxcdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTtcXG5cXHRmbG9hdCBkb3RMSCA9IHNhdHVyYXRlKCBkb3QoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uLCBoYWxmRGlyICkgKTtcXG5cXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIGRvdExIICk7XFxuXFx0ZmxvYXQgRyA9IEdfR0dYX1NtaXRoQ29ycmVsYXRlZCggYWxwaGEsIGRvdE5MLCBkb3ROViApO1xcblxcdGZsb2F0IEQgPSBEX0dHWCggYWxwaGEsIGRvdE5IICk7XFxuXFx0cmV0dXJuIEYgKiAoIEcgKiBEICk7XFxufVxcbnZlYzIgTFRDX1V2KCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xcblxcdGNvbnN0IGZsb2F0IExVVF9TSVpFID0gNjQuMDtcXG5cXHRjb25zdCBmbG9hdCBMVVRfU0NBTEUgPSAoIExVVF9TSVpFIC0gMS4wICkgLyBMVVRfU0laRTtcXG5cXHRjb25zdCBmbG9hdCBMVVRfQklBUyA9IDAuNSAvIExVVF9TSVpFO1xcblxcdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggTiwgViApICk7XFxuXFx0dmVjMiB1diA9IHZlYzIoIHJvdWdobmVzcywgc3FydCggMS4wIC0gZG90TlYgKSApO1xcblxcdHV2ID0gdXYgKiBMVVRfU0NBTEUgKyBMVVRfQklBUztcXG5cXHRyZXR1cm4gdXY7XFxufVxcbmZsb2F0IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggY29uc3QgaW4gdmVjMyBmICkge1xcblxcdGZsb2F0IGwgPSBsZW5ndGgoIGYgKTtcXG5cXHRyZXR1cm4gbWF4KCAoIGwgKiBsICsgZi56ICkgLyAoIGwgKyAxLjAgKSwgMC4wICk7XFxufVxcbnZlYzMgTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIHYxLCBjb25zdCBpbiB2ZWMzIHYyICkge1xcblxcdGZsb2F0IHggPSBkb3QoIHYxLCB2MiApO1xcblxcdGZsb2F0IHkgPSBhYnMoIHggKTtcXG5cXHRmbG9hdCBhID0gMC44NTQzOTg1ICsgKCAwLjQ5NjUxNTUgKyAwLjAxNDUyMDYgKiB5ICkgKiB5O1xcblxcdGZsb2F0IGIgPSAzLjQxNzU5NDAgKyAoIDQuMTYxNjcyNCArIHkgKSAqIHk7XFxuXFx0ZmxvYXQgdiA9IGEgLyBiO1xcblxcdGZsb2F0IHRoZXRhX3NpbnRoZXRhID0gKCB4ID4gMC4wICkgPyB2IDogMC41ICogaW52ZXJzZXNxcnQoIG1heCggMS4wIC0geCAqIHgsIDFlLTcgKSApIC0gdjtcXG5cXHRyZXR1cm4gY3Jvc3MoIHYxLCB2MiApICogdGhldGFfc2ludGhldGE7XFxufVxcbnZlYzMgTFRDX0V2YWx1YXRlKCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gdmVjMyBQLCBjb25zdCBpbiBtYXQzIG1JbnYsIGNvbnN0IGluIHZlYzMgcmVjdENvb3Jkc1sgNCBdICkge1xcblxcdHZlYzMgdjEgPSByZWN0Q29vcmRzWyAxIF0gLSByZWN0Q29vcmRzWyAwIF07XFxuXFx0dmVjMyB2MiA9IHJlY3RDb29yZHNbIDMgXSAtIHJlY3RDb29yZHNbIDAgXTtcXG5cXHR2ZWMzIGxpZ2h0Tm9ybWFsID0gY3Jvc3MoIHYxLCB2MiApO1xcblxcdGlmKCBkb3QoIGxpZ2h0Tm9ybWFsLCBQIC0gcmVjdENvb3Jkc1sgMCBdICkgPCAwLjAgKSByZXR1cm4gdmVjMyggMC4wICk7XFxuXFx0dmVjMyBUMSwgVDI7XFxuXFx0VDEgPSBub3JtYWxpemUoIFYgLSBOICogZG90KCBWLCBOICkgKTtcXG5cXHRUMiA9IC0gY3Jvc3MoIE4sIFQxICk7XFxuXFx0bWF0MyBtYXQgPSBtSW52ICogdHJhbnNwb3NlTWF0MyggbWF0MyggVDEsIFQyLCBOICkgKTtcXG5cXHR2ZWMzIGNvb3Jkc1sgNCBdO1xcblxcdGNvb3Jkc1sgMCBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAwIF0gLSBQICk7XFxuXFx0Y29vcmRzWyAxIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDEgXSAtIFAgKTtcXG5cXHRjb29yZHNbIDIgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMiBdIC0gUCApO1xcblxcdGNvb3Jkc1sgMyBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAzIF0gLSBQICk7XFxuXFx0Y29vcmRzWyAwIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMCBdICk7XFxuXFx0Y29vcmRzWyAxIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMSBdICk7XFxuXFx0Y29vcmRzWyAyIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMiBdICk7XFxuXFx0Y29vcmRzWyAzIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMyBdICk7XFxuXFx0dmVjMyB2ZWN0b3JGb3JtRmFjdG9yID0gdmVjMyggMC4wICk7XFxuXFx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMCBdLCBjb29yZHNbIDEgXSApO1xcblxcdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDEgXSwgY29vcmRzWyAyIF0gKTtcXG5cXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAyIF0sIGNvb3Jkc1sgMyBdICk7XFxuXFx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMyBdLCBjb29yZHNbIDAgXSApO1xcblxcdGZsb2F0IHJlc3VsdCA9IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggdmVjdG9yRm9ybUZhY3RvciApO1xcblxcdHJldHVybiB2ZWMzKCByZXN1bHQgKTtcXG59XFxudmVjMyBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xcblxcdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHJldHVybiBzcGVjdWxhckNvbG9yICogYnJkZi54ICsgYnJkZi55O1xcbn1cXG52b2lkIEJSREZfU3BlY3VsYXJfTXVsdGlzY2F0dGVyaW5nX0Vudmlyb25tZW50KCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgaW5vdXQgdmVjMyBzaW5nbGVTY2F0dGVyLCBpbm91dCB2ZWMzIG11bHRpU2NhdHRlciApIHtcXG5cXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciApICk7XFxuXFx0dmVjMyBGID0gRl9TY2hsaWNrX1JvdWdobmVzc0RlcGVuZGVudCggc3BlY3VsYXJDb2xvciwgZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHZlYzMgRnNzRXNzID0gRiAqIGJyZGYueCArIGJyZGYueTtcXG5cXHRmbG9hdCBFc3MgPSBicmRmLnggKyBicmRmLnk7XFxuXFx0ZmxvYXQgRW1zID0gMS4wIC0gRXNzO1xcblxcdHZlYzMgRmF2ZyA9IHNwZWN1bGFyQ29sb3IgKyAoIDEuMCAtIHNwZWN1bGFyQ29sb3IgKSAqIDAuMDQ3NjE5O1xcdHZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApO1xcblxcdHNpbmdsZVNjYXR0ZXIgKz0gRnNzRXNzO1xcblxcdG11bHRpU2NhdHRlciArPSBGbXMgKiBFbXM7XFxufVxcbmZsb2F0IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKSB7XFxuXFx0cmV0dXJuIDAuMjU7XFxufVxcbmZsb2F0IERfQmxpbm5QaG9uZyggY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcXG5cXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqICggc2hpbmluZXNzICogMC41ICsgMS4wICkgKiBwb3coIGRvdE5ILCBzaGluaW5lc3MgKTtcXG59XFxudmVjMyBCUkRGX1NwZWN1bGFyX0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgaW5jaWRlbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MgKSB7XFxuXFx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIGdlb21ldHJ5LnZpZXdEaXIgKTtcXG5cXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGFsZkRpciApICk7XFxuXFx0ZmxvYXQgZG90TEggPSBzYXR1cmF0ZSggZG90KCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiwgaGFsZkRpciApICk7XFxuXFx0dmVjMyBGID0gRl9TY2hsaWNrKCBzcGVjdWxhckNvbG9yLCBkb3RMSCApO1xcblxcdGZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7XFxuXFx0ZmxvYXQgRCA9IERfQmxpbm5QaG9uZyggc2hpbmluZXNzLCBkb3ROSCApO1xcblxcdHJldHVybiBGICogKCBHICogRCApO1xcbn1cXG5mbG9hdCBHR1hSb3VnaG5lc3NUb0JsaW5uRXhwb25lbnQoIGNvbnN0IGluIGZsb2F0IGdneFJvdWdobmVzcyApIHtcXG5cXHRyZXR1cm4gKCAyLjAgLyBwb3cyKCBnZ3hSb3VnaG5lc3MgKyAwLjAwMDEgKSAtIDIuMCApO1xcbn1cXG5mbG9hdCBCbGlubkV4cG9uZW50VG9HR1hSb3VnaG5lc3MoIGNvbnN0IGluIGZsb2F0IGJsaW5uRXhwb25lbnQgKSB7XFxuXFx0cmV0dXJuIHNxcnQoIDIuMCAvICggYmxpbm5FeHBvbmVudCArIDIuMCApICk7XFxufVxcbiNpZiBkZWZpbmVkKCBVU0VfU0hFRU4gKVxcbmZsb2F0IERfQ2hhcmxpZShmbG9hdCByb3VnaG5lc3MsIGZsb2F0IE5vSCkge1xcblxcdGZsb2F0IGludkFscGhhID0gMS4wIC8gcm91Z2huZXNzO1xcblxcdGZsb2F0IGNvczJoID0gTm9IICogTm9IO1xcblxcdGZsb2F0IHNpbjJoID0gbWF4KDEuMCAtIGNvczJoLCAwLjAwNzgxMjUpO1xcdHJldHVybiAoMi4wICsgaW52QWxwaGEpICogcG93KHNpbjJoLCBpbnZBbHBoYSAqIDAuNSkgLyAoMi4wICogUEkpO1xcbn1cXG5mbG9hdCBWX05ldWJlbHQoZmxvYXQgTm9WLCBmbG9hdCBOb0wpIHtcXG5cXHRyZXR1cm4gc2F0dXJhdGUoMS4wIC8gKDQuMCAqIChOb0wgKyBOb1YgLSBOb0wgKiBOb1YpKSk7XFxufVxcbnZlYzMgQlJERl9TcGVjdWxhcl9TaGVlbiggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiB2ZWMzIEwsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIHZlYzMgc3BlY3VsYXJDb2xvciApIHtcXG5cXHR2ZWMzIE4gPSBnZW9tZXRyeS5ub3JtYWw7XFxuXFx0dmVjMyBWID0gZ2VvbWV0cnkudmlld0RpcjtcXG5cXHR2ZWMzIEggPSBub3JtYWxpemUoIFYgKyBMICk7XFxuXFx0ZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBOLCBIICkgKTtcXG5cXHRyZXR1cm4gc3BlY3VsYXJDb2xvciAqIERfQ2hhcmxpZSggcm91Z2huZXNzLCBkb3ROSCApICogVl9OZXViZWx0KCBkb3QoTiwgViksIGRvdChOLCBMKSApO1xcbn1cXG4jZW5kaWZcIixidW1wbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0JVTVBNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBidW1wTWFwO1xcblxcdHVuaWZvcm0gZmxvYXQgYnVtcFNjYWxlO1xcblxcdHZlYzIgZEhkeHlfZndkKCkge1xcblxcdFxcdHZlYzIgZFNUZHggPSBkRmR4KCB2VXYgKTtcXG5cXHRcXHR2ZWMyIGRTVGR5ID0gZEZkeSggdlV2ICk7XFxuXFx0XFx0ZmxvYXQgSGxsID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKS54O1xcblxcdFxcdGZsb2F0IGRCeCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHggKS54IC0gSGxsO1xcblxcdFxcdGZsb2F0IGRCeSA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHkgKS54IC0gSGxsO1xcblxcdFxcdHJldHVybiB2ZWMyKCBkQngsIGRCeSApO1xcblxcdH1cXG5cXHR2ZWMzIHBlcnR1cmJOb3JtYWxBcmIoIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMyIGRIZHh5ICkge1xcblxcdFxcdHZlYzMgdlNpZ21hWCA9IHZlYzMoIGRGZHgoIHN1cmZfcG9zLnggKSwgZEZkeCggc3VyZl9wb3MueSApLCBkRmR4KCBzdXJmX3Bvcy56ICkgKTtcXG5cXHRcXHR2ZWMzIHZTaWdtYVkgPSB2ZWMzKCBkRmR5KCBzdXJmX3Bvcy54ICksIGRGZHkoIHN1cmZfcG9zLnkgKSwgZEZkeSggc3VyZl9wb3MueiApICk7XFxuXFx0XFx0dmVjMyB2TiA9IHN1cmZfbm9ybTtcXG5cXHRcXHR2ZWMzIFIxID0gY3Jvc3MoIHZTaWdtYVksIHZOICk7XFxuXFx0XFx0dmVjMyBSMiA9IGNyb3NzKCB2TiwgdlNpZ21hWCApO1xcblxcdFxcdGZsb2F0IGZEZXQgPSBkb3QoIHZTaWdtYVgsIFIxICk7XFxuXFx0XFx0ZkRldCAqPSAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XFxuXFx0XFx0dmVjMyB2R3JhZCA9IHNpZ24oIGZEZXQgKSAqICggZEhkeHkueCAqIFIxICsgZEhkeHkueSAqIFIyICk7XFxuXFx0XFx0cmV0dXJuIG5vcm1hbGl6ZSggYWJzKCBmRGV0ICkgKiBzdXJmX25vcm0gLSB2R3JhZCApO1xcblxcdH1cXG4jZW5kaWZcIixjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ6XCIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcXG5cXHR2ZWM0IHBsYW5lO1xcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBVTklPTl9DTElQUElOR19QTEFORVM7IGkgKysgKSB7XFxuXFx0XFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xcblxcdFxcdGlmICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSBkaXNjYXJkO1xcblxcdH1cXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxcblxcdCNpZiBVTklPTl9DTElQUElOR19QTEFORVMgPCBOVU1fQ0xJUFBJTkdfUExBTkVTXFxuXFx0XFx0Ym9vbCBjbGlwcGVkID0gdHJ1ZTtcXG5cXHRcXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XFxuXFx0XFx0Zm9yICggaW50IGkgPSBVTklPTl9DTElQUElOR19QTEFORVM7IGkgPCBOVU1fQ0xJUFBJTkdfUExBTkVTOyBpICsrICkge1xcblxcdFxcdFxcdHBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTtcXG5cXHRcXHRcXHRjbGlwcGVkID0gKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApICYmIGNsaXBwZWQ7XFxuXFx0XFx0fVxcblxcdFxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuXFx0XFx0aWYgKCBjbGlwcGVkICkgZGlzY2FyZDtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudDpcIiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxcblxcdHZhcnlpbmcgdmVjMyB2Q2xpcFBvc2l0aW9uO1xcblxcdHVuaWZvcm0gdmVjNCBjbGlwcGluZ1BsYW5lc1sgTlVNX0NMSVBQSU5HX1BMQU5FUyBdO1xcbiNlbmRpZlwiLGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleDpcIiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxcblxcdHZhcnlpbmcgdmVjMyB2Q2xpcFBvc2l0aW9uO1xcbiNlbmRpZlwiLGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg6XCIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcXG5cXHR2Q2xpcFBvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcXG4jZW5kaWZcIixjb2xvcl9mcmFnbWVudDpcIiNpZmRlZiBVU0VfQ09MT1JcXG5cXHRkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjtcXG4jZW5kaWZcIixjb2xvcl9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9DT0xPUlxcblxcdHZhcnlpbmcgdmVjMyB2Q29sb3I7XFxuI2VuZGlmXCIsY29sb3JfcGFyc192ZXJ0ZXg6XCIjaWYgZGVmaW5lZCggVVNFX0NPTE9SICkgfHwgZGVmaW5lZCggVVNFX0lOU1RBTkNJTkdfQ09MT1IgKVxcblxcdHZhcnlpbmcgdmVjMyB2Q29sb3I7XFxuI2VuZGlmXCIsY29sb3JfdmVydGV4OlwiI2lmIGRlZmluZWQoIFVTRV9DT0xPUiApIHx8IGRlZmluZWQoIFVTRV9JTlNUQU5DSU5HX0NPTE9SIClcXG5cXHR2Q29sb3IgPSB2ZWMzKCAxLjAgKTtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX0NPTE9SXFxuXFx0dkNvbG9yLnh5eiAqPSBjb2xvci54eXo7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SXFxuXFx0dkNvbG9yLnh5eiAqPSBpbnN0YW5jZUNvbG9yLnh5ejtcXG4jZW5kaWZcIixjb21tb246XCIjZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTg5NzkzXFxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxNzk1ODZcXG4jZGVmaW5lIFBJX0hBTEYgMS41NzA3OTYzMjY3OTQ4OTY2XFxuI2RlZmluZSBSRUNJUFJPQ0FMX1BJIDAuMzE4MzA5ODg2MTgzNzkwN1xcbiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NDMwOTE4OTUzNVxcbiNkZWZpbmUgRVBTSUxPTiAxZS02XFxuI2lmbmRlZiBzYXR1cmF0ZVxcbiNkZWZpbmUgc2F0dXJhdGUoYSkgY2xhbXAoIGEsIDAuMCwgMS4wIClcXG4jZW5kaWZcXG4jZGVmaW5lIHdoaXRlQ29tcGxlbWVudChhKSAoIDEuMCAtIHNhdHVyYXRlKCBhICkgKVxcbmZsb2F0IHBvdzIoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4Kng7IH1cXG5mbG9hdCBwb3czKCBjb25zdCBpbiBmbG9hdCB4ICkgeyByZXR1cm4geCp4Kng7IH1cXG5mbG9hdCBwb3c0KCBjb25zdCBpbiBmbG9hdCB4ICkgeyBmbG9hdCB4MiA9IHgqeDsgcmV0dXJuIHgyKngyOyB9XFxuZmxvYXQgYXZlcmFnZSggY29uc3QgaW4gdmVjMyBjb2xvciApIHsgcmV0dXJuIGRvdCggY29sb3IsIHZlYzMoIDAuMzMzMyApICk7IH1cXG5oaWdocCBmbG9hdCByYW5kKCBjb25zdCBpbiB2ZWMyIHV2ICkge1xcblxcdGNvbnN0IGhpZ2hwIGZsb2F0IGEgPSAxMi45ODk4LCBiID0gNzguMjMzLCBjID0gNDM3NTguNTQ1MztcXG5cXHRoaWdocCBmbG9hdCBkdCA9IGRvdCggdXYueHksIHZlYzIoIGEsYiApICksIHNuID0gbW9kKCBkdCwgUEkgKTtcXG5cXHRyZXR1cm4gZnJhY3Qoc2luKHNuKSAqIGMpO1xcbn1cXG4jaWZkZWYgSElHSF9QUkVDSVNJT05cXG5cXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7IHJldHVybiBsZW5ndGgoIHYgKTsgfVxcbiNlbHNlXFxuXFx0ZmxvYXQgbWF4MyggdmVjMyB2ICkgeyByZXR1cm4gbWF4KCBtYXgoIHYueCwgdi55ICksIHYueiApOyB9XFxuXFx0ZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkge1xcblxcdFxcdGZsb2F0IG1heENvbXBvbmVudCA9IG1heDMoIGFicyggdiApICk7XFxuXFx0XFx0cmV0dXJuIGxlbmd0aCggdiAvIG1heENvbXBvbmVudCApICogbWF4Q29tcG9uZW50O1xcblxcdH1cXG4jZW5kaWZcXG5zdHJ1Y3QgSW5jaWRlbnRMaWdodCB7XFxuXFx0dmVjMyBjb2xvcjtcXG5cXHR2ZWMzIGRpcmVjdGlvbjtcXG5cXHRib29sIHZpc2libGU7XFxufTtcXG5zdHJ1Y3QgUmVmbGVjdGVkTGlnaHQge1xcblxcdHZlYzMgZGlyZWN0RGlmZnVzZTtcXG5cXHR2ZWMzIGRpcmVjdFNwZWN1bGFyO1xcblxcdHZlYzMgaW5kaXJlY3REaWZmdXNlO1xcblxcdHZlYzMgaW5kaXJlY3RTcGVjdWxhcjtcXG59O1xcbnN0cnVjdCBHZW9tZXRyaWNDb250ZXh0IHtcXG5cXHR2ZWMzIHBvc2l0aW9uO1xcblxcdHZlYzMgbm9ybWFsO1xcblxcdHZlYzMgdmlld0RpcjtcXG4jaWZkZWYgQ0xFQVJDT0FUXFxuXFx0dmVjMyBjbGVhcmNvYXROb3JtYWw7XFxuI2VuZGlmXFxufTtcXG52ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xcblxcdHJldHVybiBub3JtYWxpemUoICggbWF0cml4ICogdmVjNCggZGlyLCAwLjAgKSApLnh5eiApO1xcbn1cXG52ZWMzIGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcXG5cXHRyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIGRpciwgMC4wICkgKiBtYXRyaXggKS54eXogKTtcXG59XFxudmVjMyBwcm9qZWN0T25QbGFuZShpbiB2ZWMzIHBvaW50LCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCApIHtcXG5cXHRmbG9hdCBkaXN0YW5jZSA9IGRvdCggcGxhbmVOb3JtYWwsIHBvaW50IC0gcG9pbnRPblBsYW5lICk7XFxuXFx0cmV0dXJuIC0gZGlzdGFuY2UgKiBwbGFuZU5vcm1hbCArIHBvaW50O1xcbn1cXG5mbG9hdCBzaWRlT2ZQbGFuZSggaW4gdmVjMyBwb2ludCwgaW4gdmVjMyBwb2ludE9uUGxhbmUsIGluIHZlYzMgcGxhbmVOb3JtYWwgKSB7XFxuXFx0cmV0dXJuIHNpZ24oIGRvdCggcG9pbnQgLSBwb2ludE9uUGxhbmUsIHBsYW5lTm9ybWFsICkgKTtcXG59XFxudmVjMyBsaW5lUGxhbmVJbnRlcnNlY3QoIGluIHZlYzMgcG9pbnRPbkxpbmUsIGluIHZlYzMgbGluZURpcmVjdGlvbiwgaW4gdmVjMyBwb2ludE9uUGxhbmUsIGluIHZlYzMgcGxhbmVOb3JtYWwgKSB7XFxuXFx0cmV0dXJuIGxpbmVEaXJlY3Rpb24gKiAoIGRvdCggcGxhbmVOb3JtYWwsIHBvaW50T25QbGFuZSAtIHBvaW50T25MaW5lICkgLyBkb3QoIHBsYW5lTm9ybWFsLCBsaW5lRGlyZWN0aW9uICkgKSArIHBvaW50T25MaW5lO1xcbn1cXG5tYXQzIHRyYW5zcG9zZU1hdDMoIGNvbnN0IGluIG1hdDMgbSApIHtcXG5cXHRtYXQzIHRtcDtcXG5cXHR0bXBbIDAgXSA9IHZlYzMoIG1bIDAgXS54LCBtWyAxIF0ueCwgbVsgMiBdLnggKTtcXG5cXHR0bXBbIDEgXSA9IHZlYzMoIG1bIDAgXS55LCBtWyAxIF0ueSwgbVsgMiBdLnkgKTtcXG5cXHR0bXBbIDIgXSA9IHZlYzMoIG1bIDAgXS56LCBtWyAxIF0ueiwgbVsgMiBdLnogKTtcXG5cXHRyZXR1cm4gdG1wO1xcbn1cXG5mbG9hdCBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkge1xcblxcdHZlYzMgd2VpZ2h0cyA9IHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKTtcXG5cXHRyZXR1cm4gZG90KCB3ZWlnaHRzLCBjb2xvci5yZ2IgKTtcXG59XFxuYm9vbCBpc1BlcnNwZWN0aXZlTWF0cml4KCBtYXQ0IG0gKSB7XFxuXFx0cmV0dXJuIG1bIDIgXVsgMyBdID09IC0gMS4wO1xcbn1cXG52ZWMyIGVxdWlyZWN0VXYoIGluIHZlYzMgZGlyICkge1xcblxcdGZsb2F0IHUgPSBhdGFuKCBkaXIueiwgZGlyLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xcblxcdGZsb2F0IHYgPSBhc2luKCBjbGFtcCggZGlyLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcXG5cXHRyZXR1cm4gdmVjMiggdSwgdiApO1xcbn1cIixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ6XCIjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRV9VVlxcblxcdCNkZWZpbmUgY3ViZVVWX21heE1pcExldmVsIDguMFxcblxcdCNkZWZpbmUgY3ViZVVWX21pbk1pcExldmVsIDQuMFxcblxcdCNkZWZpbmUgY3ViZVVWX21heFRpbGVTaXplIDI1Ni4wXFxuXFx0I2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMFxcblxcdGZsb2F0IGdldEZhY2UoIHZlYzMgZGlyZWN0aW9uICkge1xcblxcdFxcdHZlYzMgYWJzRGlyZWN0aW9uID0gYWJzKCBkaXJlY3Rpb24gKTtcXG5cXHRcXHRmbG9hdCBmYWNlID0gLSAxLjA7XFxuXFx0XFx0aWYgKCBhYnNEaXJlY3Rpb24ueCA+IGFic0RpcmVjdGlvbi56ICkge1xcblxcdFxcdFxcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueSApXFxuXFx0XFx0XFx0XFx0ZmFjZSA9IGRpcmVjdGlvbi54ID4gMC4wID8gMC4wIDogMy4wO1xcblxcdFxcdFxcdGVsc2VcXG5cXHRcXHRcXHRcXHRmYWNlID0gZGlyZWN0aW9uLnkgPiAwLjAgPyAxLjAgOiA0LjA7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRpZiAoIGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkgKVxcblxcdFxcdFxcdFxcdGZhY2UgPSBkaXJlY3Rpb24ueiA+IDAuMCA/IDIuMCA6IDUuMDtcXG5cXHRcXHRcXHRlbHNlXFxuXFx0XFx0XFx0XFx0ZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gZmFjZTtcXG5cXHR9XFxuXFx0dmVjMiBnZXRVViggdmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UgKSB7XFxuXFx0XFx0dmVjMiB1djtcXG5cXHRcXHRpZiAoIGZhY2UgPT0gMC4wICkge1xcblxcdFxcdFxcdHV2ID0gdmVjMiggZGlyZWN0aW9uLnosIGRpcmVjdGlvbi55ICkgLyBhYnMoIGRpcmVjdGlvbi54ICk7XFxuXFx0XFx0fSBlbHNlIGlmICggZmFjZSA9PSAxLjAgKSB7XFxuXFx0XFx0XFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCAtIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7XFxuXFx0XFx0fSBlbHNlIGlmICggZmFjZSA9PSAyLjAgKSB7XFxuXFx0XFx0XFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xcblxcdFxcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkge1xcblxcdFxcdFxcdHV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTtcXG5cXHRcXHR9IGVsc2UgaWYgKCBmYWNlID09IDQuMCApIHtcXG5cXHRcXHRcXHR1diA9IHZlYzIoIC0gZGlyZWN0aW9uLngsIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHR1diA9IHZlYzIoIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gMC41ICogKCB1diArIDEuMCApO1xcblxcdH1cXG5cXHR2ZWMzIGJpbGluZWFyQ3ViZVVWKCBzYW1wbGVyMkQgZW52TWFwLCB2ZWMzIGRpcmVjdGlvbiwgZmxvYXQgbWlwSW50ICkge1xcblxcdFxcdGZsb2F0IGZhY2UgPSBnZXRGYWNlKCBkaXJlY3Rpb24gKTtcXG5cXHRcXHRmbG9hdCBmaWx0ZXJJbnQgPSBtYXgoIGN1YmVVVl9taW5NaXBMZXZlbCAtIG1pcEludCwgMC4wICk7XFxuXFx0XFx0bWlwSW50ID0gbWF4KCBtaXBJbnQsIGN1YmVVVl9taW5NaXBMZXZlbCApO1xcblxcdFxcdGZsb2F0IGZhY2VTaXplID0gZXhwMiggbWlwSW50ICk7XFxuXFx0XFx0ZmxvYXQgdGV4ZWxTaXplID0gMS4wIC8gKCAzLjAgKiBjdWJlVVZfbWF4VGlsZVNpemUgKTtcXG5cXHRcXHR2ZWMyIHV2ID0gZ2V0VVYoIGRpcmVjdGlvbiwgZmFjZSApICogKCBmYWNlU2l6ZSAtIDEuMCApO1xcblxcdFxcdHZlYzIgZiA9IGZyYWN0KCB1diApO1xcblxcdFxcdHV2ICs9IDAuNSAtIGY7XFxuXFx0XFx0aWYgKCBmYWNlID4gMi4wICkge1xcblxcdFxcdFxcdHV2LnkgKz0gZmFjZVNpemU7XFxuXFx0XFx0XFx0ZmFjZSAtPSAzLjA7XFxuXFx0XFx0fVxcblxcdFxcdHV2LnggKz0gZmFjZSAqIGZhY2VTaXplO1xcblxcdFxcdGlmICggbWlwSW50IDwgY3ViZVVWX21heE1pcExldmVsICkge1xcblxcdFxcdFxcdHV2LnkgKz0gMi4wICogY3ViZVVWX21heFRpbGVTaXplO1xcblxcdFxcdH1cXG5cXHRcXHR1di55ICs9IGZpbHRlckludCAqIDIuMCAqIGN1YmVVVl9taW5UaWxlU2l6ZTtcXG5cXHRcXHR1di54ICs9IDMuMCAqIG1heCggMC4wLCBjdWJlVVZfbWF4VGlsZVNpemUgLSAyLjAgKiBmYWNlU2l6ZSApO1xcblxcdFxcdHV2ICo9IHRleGVsU2l6ZTtcXG5cXHRcXHR2ZWMzIHRsID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XFxuXFx0XFx0dXYueCArPSB0ZXhlbFNpemU7XFxuXFx0XFx0dmVjMyB0ciA9IGVudk1hcFRleGVsVG9MaW5lYXIoIHRleHR1cmUyRCggZW52TWFwLCB1diApICkucmdiO1xcblxcdFxcdHV2LnkgKz0gdGV4ZWxTaXplO1xcblxcdFxcdHZlYzMgYnIgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKSApLnJnYjtcXG5cXHRcXHR1di54IC09IHRleGVsU2l6ZTtcXG5cXHRcXHR2ZWMzIGJsID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XFxuXFx0XFx0dmVjMyB0bSA9IG1peCggdGwsIHRyLCBmLnggKTtcXG5cXHRcXHR2ZWMzIGJtID0gbWl4KCBibCwgYnIsIGYueCApO1xcblxcdFxcdHJldHVybiBtaXgoIHRtLCBibSwgZi55ICk7XFxuXFx0fVxcblxcdCNkZWZpbmUgcjAgMS4wXFxuXFx0I2RlZmluZSB2MCAwLjMzOVxcblxcdCNkZWZpbmUgbTAgLSAyLjBcXG5cXHQjZGVmaW5lIHIxIDAuOFxcblxcdCNkZWZpbmUgdjEgMC4yNzZcXG5cXHQjZGVmaW5lIG0xIC0gMS4wXFxuXFx0I2RlZmluZSByNCAwLjRcXG5cXHQjZGVmaW5lIHY0IDAuMDQ2XFxuXFx0I2RlZmluZSBtNCAyLjBcXG5cXHQjZGVmaW5lIHI1IDAuMzA1XFxuXFx0I2RlZmluZSB2NSAwLjAxNlxcblxcdCNkZWZpbmUgbTUgMy4wXFxuXFx0I2RlZmluZSByNiAwLjIxXFxuXFx0I2RlZmluZSB2NiAwLjAwMzhcXG5cXHQjZGVmaW5lIG02IDQuMFxcblxcdGZsb2F0IHJvdWdobmVzc1RvTWlwKCBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0XFx0ZmxvYXQgbWlwID0gMC4wO1xcblxcdFxcdGlmICggcm91Z2huZXNzID49IHIxICkge1xcblxcdFxcdFxcdG1pcCA9ICggcjAgLSByb3VnaG5lc3MgKSAqICggbTEgLSBtMCApIC8gKCByMCAtIHIxICkgKyBtMDtcXG5cXHRcXHR9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjQgKSB7XFxuXFx0XFx0XFx0bWlwID0gKCByMSAtIHJvdWdobmVzcyApICogKCBtNCAtIG0xICkgLyAoIHIxIC0gcjQgKSArIG0xO1xcblxcdFxcdH0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNSApIHtcXG5cXHRcXHRcXHRtaXAgPSAoIHI0IC0gcm91Z2huZXNzICkgKiAoIG01IC0gbTQgKSAvICggcjQgLSByNSApICsgbTQ7XFxuXFx0XFx0fSBlbHNlIGlmICggcm91Z2huZXNzID49IHI2ICkge1xcblxcdFxcdFxcdG1pcCA9ICggcjUgLSByb3VnaG5lc3MgKSAqICggbTYgLSBtNSApIC8gKCByNSAtIHI2ICkgKyBtNTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdG1pcCA9IC0gMi4wICogbG9nMiggMS4xNiAqIHJvdWdobmVzcyApO1xcdFxcdH1cXG5cXHRcXHRyZXR1cm4gbWlwO1xcblxcdH1cXG5cXHR2ZWM0IHRleHR1cmVDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgc2FtcGxlRGlyLCBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0XFx0ZmxvYXQgbWlwID0gY2xhbXAoIHJvdWdobmVzc1RvTWlwKCByb3VnaG5lc3MgKSwgbTAsIGN1YmVVVl9tYXhNaXBMZXZlbCApO1xcblxcdFxcdGZsb2F0IG1pcEYgPSBmcmFjdCggbWlwICk7XFxuXFx0XFx0ZmxvYXQgbWlwSW50ID0gZmxvb3IoIG1pcCApO1xcblxcdFxcdHZlYzMgY29sb3IwID0gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKTtcXG5cXHRcXHRpZiAoIG1pcEYgPT0gMC4wICkge1xcblxcdFxcdFxcdHJldHVybiB2ZWM0KCBjb2xvcjAsIDEuMCApO1xcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0dmVjMyBjb2xvcjEgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCArIDEuMCApO1xcblxcdFxcdFxcdHJldHVybiB2ZWM0KCBtaXgoIGNvbG9yMCwgY29sb3IxLCBtaXBGICksIDEuMCApO1xcblxcdFxcdH1cXG5cXHR9XFxuI2VuZGlmXCIsZGVmYXVsdG5vcm1hbF92ZXJ0ZXg6XCJ2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsO1xcbiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xcblxcdG1hdDMgbSA9IG1hdDMoIGluc3RhbmNlTWF0cml4ICk7XFxuXFx0dHJhbnNmb3JtZWROb3JtYWwgLz0gdmVjMyggZG90KCBtWyAwIF0sIG1bIDAgXSApLCBkb3QoIG1bIDEgXSwgbVsgMSBdICksIGRvdCggbVsgMiBdLCBtWyAyIF0gKSApO1xcblxcdHRyYW5zZm9ybWVkTm9ybWFsID0gbSAqIHRyYW5zZm9ybWVkTm9ybWFsO1xcbiNlbmRpZlxcbnRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogdHJhbnNmb3JtZWROb3JtYWw7XFxuI2lmZGVmIEZMSVBfU0lERURcXG5cXHR0cmFuc2Zvcm1lZE5vcm1hbCA9IC0gdHJhbnNmb3JtZWROb3JtYWw7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0dmVjMyB0cmFuc2Zvcm1lZFRhbmdlbnQgPSAoIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIG9iamVjdFRhbmdlbnQsIDAuMCApICkueHl6O1xcblxcdCNpZmRlZiBGTElQX1NJREVEXFxuXFx0XFx0dHJhbnNmb3JtZWRUYW5nZW50ID0gLSB0cmFuc2Zvcm1lZFRhbmdlbnQ7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4OlwiI2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7XFxuXFx0dW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRTY2FsZTtcXG5cXHR1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudEJpYXM7XFxuI2VuZGlmXCIsZGlzcGxhY2VtZW50bWFwX3ZlcnRleDpcIiNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXFxuXFx0dHJhbnNmb3JtZWQgKz0gbm9ybWFsaXplKCBvYmplY3ROb3JtYWwgKSAqICggdGV4dHVyZTJEKCBkaXNwbGFjZW1lbnRNYXAsIHZVdiApLnggKiBkaXNwbGFjZW1lbnRTY2FsZSArIGRpc3BsYWNlbWVudEJpYXMgKTtcXG4jZW5kaWZcIixlbWlzc2l2ZW1hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfRU1JU1NJVkVNQVBcXG5cXHR2ZWM0IGVtaXNzaXZlQ29sb3IgPSB0ZXh0dXJlMkQoIGVtaXNzaXZlTWFwLCB2VXYgKTtcXG5cXHRlbWlzc2l2ZUNvbG9yLnJnYiA9IGVtaXNzaXZlTWFwVGV4ZWxUb0xpbmVhciggZW1pc3NpdmVDb2xvciApLnJnYjtcXG5cXHR0b3RhbEVtaXNzaXZlUmFkaWFuY2UgKj0gZW1pc3NpdmVDb2xvci5yZ2I7XFxuI2VuZGlmXCIsZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfRU1JU1NJVkVNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBlbWlzc2l2ZU1hcDtcXG4jZW5kaWZcIixlbmNvZGluZ3NfZnJhZ21lbnQ6XCJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTtcIixlbmNvZGluZ3NfcGFyc19mcmFnbWVudDpcIlxcbnZlYzQgTGluZWFyVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0cmV0dXJuIHZhbHVlO1xcbn1cXG52ZWM0IEdhbW1hVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IGdhbW1hRmFjdG9yICkge1xcblxcdHJldHVybiB2ZWM0KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggZ2FtbWFGYWN0b3IgKSApLCB2YWx1ZS5hICk7XFxufVxcbnZlYzQgTGluZWFyVG9HYW1tYSggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgZ2FtbWFGYWN0b3IgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIHBvdyggdmFsdWUucmdiLCB2ZWMzKCAxLjAgLyBnYW1tYUZhY3RvciApICksIHZhbHVlLmEgKTtcXG59XFxudmVjNCBzUkdCVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIG1peCggcG93KCB2YWx1ZS5yZ2IgKiAwLjk0Nzg2NzI5ODYgKyB2ZWMzKCAwLjA1MjEzMjcwMTQgKSwgdmVjMyggMi40ICkgKSwgdmFsdWUucmdiICogMC4wNzczOTkzODA4LCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDQwNDUgKSApICkgKSwgdmFsdWUuYSApO1xcbn1cXG52ZWM0IExpbmVhclRvc1JHQiggaW4gdmVjNCB2YWx1ZSApIHtcXG5cXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggMC40MTY2NiApICkgKiAxLjA1NSAtIHZlYzMoIDAuMDU1ICksIHZhbHVlLnJnYiAqIDEyLjkyLCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDAzMTMwOCApICkgKSApLCB2YWx1ZS5hICk7XFxufVxcbnZlYzQgUkdCRVRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkge1xcblxcdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiBleHAyKCB2YWx1ZS5hICogMjU1LjAgLSAxMjguMCApLCAxLjAgKTtcXG59XFxudmVjNCBMaW5lYXJUb1JHQkUoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0ZmxvYXQgbWF4Q29tcG9uZW50ID0gbWF4KCBtYXgoIHZhbHVlLnIsIHZhbHVlLmcgKSwgdmFsdWUuYiApO1xcblxcdGZsb2F0IGZFeHAgPSBjbGFtcCggY2VpbCggbG9nMiggbWF4Q29tcG9uZW50ICkgKSwgLTEyOC4wLCAxMjcuMCApO1xcblxcdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgLyBleHAyKCBmRXhwICksICggZkV4cCArIDEyOC4wICkgLyAyNTUuMCApO1xcbn1cXG52ZWM0IFJHQk1Ub0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgbWF4UmFuZ2UgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqIHZhbHVlLmEgKiBtYXhSYW5nZSwgMS4wICk7XFxufVxcbnZlYzQgTGluZWFyVG9SR0JNKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcXG5cXHRmbG9hdCBtYXhSR0IgPSBtYXgoIHZhbHVlLnIsIG1heCggdmFsdWUuZywgdmFsdWUuYiApICk7XFxuXFx0ZmxvYXQgTSA9IGNsYW1wKCBtYXhSR0IgLyBtYXhSYW5nZSwgMC4wLCAxLjAgKTtcXG5cXHRNID0gY2VpbCggTSAqIDI1NS4wICkgLyAyNTUuMDtcXG5cXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiIC8gKCBNICogbWF4UmFuZ2UgKSwgTSApO1xcbn1cXG52ZWM0IFJHQkRUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgbWF4UmFuZ2UgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqICggKCBtYXhSYW5nZSAvIDI1NS4wICkgLyB2YWx1ZS5hICksIDEuMCApO1xcbn1cXG52ZWM0IExpbmVhclRvUkdCRCggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgbWF4UmFuZ2UgKSB7XFxuXFx0ZmxvYXQgbWF4UkdCID0gbWF4KCB2YWx1ZS5yLCBtYXgoIHZhbHVlLmcsIHZhbHVlLmIgKSApO1xcblxcdGZsb2F0IEQgPSBtYXgoIG1heFJhbmdlIC8gbWF4UkdCLCAxLjAgKTtcXG5cXHREID0gY2xhbXAoIGZsb29yKCBEICkgLyAyNTUuMCwgMC4wLCAxLjAgKTtcXG5cXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiICogKCBEICogKCAyNTUuMCAvIG1heFJhbmdlICkgKSwgRCApO1xcbn1cXG5jb25zdCBtYXQzIGNMb2dMdXZNID0gbWF0MyggMC4yMjA5LCAwLjMzOTAsIDAuNDE4NCwgMC4xMTM4LCAwLjY3ODAsIDAuNzMxOSwgMC4wMTAyLCAwLjExMzAsIDAuMjk2OSApO1xcbnZlYzQgTGluZWFyVG9Mb2dMdXYoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0dmVjMyBYcF9ZX1hZWnAgPSBjTG9nTHV2TSAqIHZhbHVlLnJnYjtcXG5cXHRYcF9ZX1hZWnAgPSBtYXgoIFhwX1lfWFlacCwgdmVjMyggMWUtNiwgMWUtNiwgMWUtNiApICk7XFxuXFx0dmVjNCB2UmVzdWx0O1xcblxcdHZSZXN1bHQueHkgPSBYcF9ZX1hZWnAueHkgLyBYcF9ZX1hZWnAuejtcXG5cXHRmbG9hdCBMZSA9IDIuMCAqIGxvZzIoWHBfWV9YWVpwLnkpICsgMTI3LjA7XFxuXFx0dlJlc3VsdC53ID0gZnJhY3QoIExlICk7XFxuXFx0dlJlc3VsdC56ID0gKCBMZSAtICggZmxvb3IoIHZSZXN1bHQudyAqIDI1NS4wICkgKSAvIDI1NS4wICkgLyAyNTUuMDtcXG5cXHRyZXR1cm4gdlJlc3VsdDtcXG59XFxuY29uc3QgbWF0MyBjTG9nTHV2SW52ZXJzZU0gPSBtYXQzKCA2LjAwMTQsIC0yLjcwMDgsIC0xLjc5OTYsIC0xLjMzMjAsIDMuMTAyOSwgLTUuNzcyMSwgMC4zMDA4LCAtMS4wODgyLCA1LjYyNjggKTtcXG52ZWM0IExvZ0x1dlRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkge1xcblxcdGZsb2F0IExlID0gdmFsdWUueiAqIDI1NS4wICsgdmFsdWUudztcXG5cXHR2ZWMzIFhwX1lfWFlacDtcXG5cXHRYcF9ZX1hZWnAueSA9IGV4cDIoICggTGUgLSAxMjcuMCApIC8gMi4wICk7XFxuXFx0WHBfWV9YWVpwLnogPSBYcF9ZX1hZWnAueSAvIHZhbHVlLnk7XFxuXFx0WHBfWV9YWVpwLnggPSB2YWx1ZS54ICogWHBfWV9YWVpwLno7XFxuXFx0dmVjMyB2UkdCID0gY0xvZ0x1dkludmVyc2VNICogWHBfWV9YWVpwLnJnYjtcXG5cXHRyZXR1cm4gdmVjNCggbWF4KCB2UkdCLCAwLjAgKSwgMS4wICk7XFxufVwiLGVudm1hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfRU5WTUFQXFxuXFx0I2lmZGVmIEVOVl9XT1JMRFBPU1xcblxcdFxcdHZlYzMgY2FtZXJhVG9GcmFnO1xcblxcdFxcdGlmICggaXNPcnRob2dyYXBoaWMgKSB7XFxuXFx0XFx0XFx0Y2FtZXJhVG9GcmFnID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApO1xcblxcdFxcdH1cXG5cXHRcXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7XFxuXFx0XFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cXG5cXHRcXHRcXHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZyYWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHQjZWxzZVxcblxcdFxcdHZlYzMgcmVmbGVjdFZlYyA9IHZSZWZsZWN0O1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFXFxuXFx0XFx0dmVjNCBlbnZDb2xvciA9IHRleHR1cmVDdWJlKCBlbnZNYXAsIHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKSApO1xcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHJlZmxlY3RWZWMsIDAuMCApO1xcblxcdCNlbHNlXFxuXFx0XFx0dmVjNCBlbnZDb2xvciA9IHZlYzQoIDAuMCApO1xcblxcdCNlbmRpZlxcblxcdCNpZm5kZWYgRU5WTUFQX1RZUEVfQ1VCRV9VVlxcblxcdFxcdGVudkNvbG9yID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52Q29sb3IgKTtcXG5cXHQjZW5kaWZcXG5cXHQjaWZkZWYgRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZXFxuXFx0XFx0b3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgb3V0Z29pbmdMaWdodCAqIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19NSVggKVxcblxcdFxcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19BREQgKVxcblxcdFxcdG91dGdvaW5nTGlnaHQgKz0gZW52Q29sb3IueHl6ICogc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0VOVk1BUFxcblxcdHVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5O1xcblxcdHVuaWZvcm0gZmxvYXQgZmxpcEVudk1hcDtcXG5cXHR1bmlmb3JtIGludCBtYXhNaXBMZXZlbDtcXG5cXHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxcblxcdFxcdHVuaWZvcm0gc2FtcGxlckN1YmUgZW52TWFwO1xcblxcdCNlbHNlXFxuXFx0XFx0dW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwO1xcblxcdCNlbmRpZlxcblxcdFxcbiNlbmRpZlwiLGVudm1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9FTlZNQVBcXG5cXHR1bmlmb3JtIGZsb2F0IHJlZmxlY3Rpdml0eTtcXG5cXHQjaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCggUEhPTkcgKVxcblxcdFxcdCNkZWZpbmUgRU5WX1dPUkxEUE9TXFxuXFx0I2VuZGlmXFxuXFx0I2lmZGVmIEVOVl9XT1JMRFBPU1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcXG5cXHRcXHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcXG5cXHQjZWxzZVxcblxcdFxcdHZhcnlpbmcgdmVjMyB2UmVmbGVjdDtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixlbnZtYXBfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX0VOVk1BUFxcblxcdCNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fGRlZmluZWQoIFBIT05HIClcXG5cXHRcXHQjZGVmaW5lIEVOVl9XT1JMRFBPU1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBFTlZfV09STERQT1NcXG5cXHRcXHRcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuXFx0I2Vsc2VcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7XFxuXFx0XFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6XCIjaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApXFxuXFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRlJBQ1RJT05cXG5cXHRcXHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcXG5cXHQjZW5kaWZcXG5cXHR2ZWMzIGdldExpZ2h0UHJvYmVJbmRpcmVjdElycmFkaWFuY2UoIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIGludCBtYXhNSVBMZXZlbCApIHtcXG5cXHRcXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggZ2VvbWV0cnkubm9ybWFsLCB2aWV3TWF0cml4ICk7XFxuXFx0XFx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcXG5cXHRcXHRcXHR2ZWMzIHF1ZXJ5VmVjID0gdmVjMyggZmxpcEVudk1hcCAqIHdvcmxkTm9ybWFsLngsIHdvcmxkTm9ybWFsLnl6ICk7XFxuXFx0XFx0XFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZUxvZEVYVCggZW52TWFwLCBxdWVyeVZlYywgZmxvYXQoIG1heE1JUExldmVsICkgKTtcXG5cXHRcXHRcXHQjZWxzZVxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBxdWVyeVZlYywgZmxvYXQoIG1heE1JUExldmVsICkgKTtcXG5cXHRcXHRcXHQjZW5kaWZcXG5cXHRcXHRcXHRlbnZNYXBDb2xvci5yZ2IgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCBlbnZNYXBDb2xvciApLnJnYjtcXG5cXHRcXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWIClcXG5cXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCB3b3JsZE5vcm1hbCwgMS4wICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdmVjNCggMC4wICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0cmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xcblxcdH1cXG5cXHRmbG9hdCBnZXRTcGVjdWxhck1JUExldmVsKCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGludCBtYXhNSVBMZXZlbCApIHtcXG5cXHRcXHRmbG9hdCBtYXhNSVBMZXZlbFNjYWxhciA9IGZsb2F0KCBtYXhNSVBMZXZlbCApO1xcblxcdFxcdGZsb2F0IHNpZ21hID0gUEkgKiByb3VnaG5lc3MgKiByb3VnaG5lc3MgLyAoIDEuMCArIHJvdWdobmVzcyApO1xcblxcdFxcdGZsb2F0IGRlc2lyZWRNSVBMZXZlbCA9IG1heE1JUExldmVsU2NhbGFyICsgbG9nMiggc2lnbWEgKTtcXG5cXHRcXHRyZXR1cm4gY2xhbXAoIGRlc2lyZWRNSVBMZXZlbCwgMC4wLCBtYXhNSVBMZXZlbFNjYWxhciApO1xcblxcdH1cXG5cXHR2ZWMzIGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGludCBtYXhNSVBMZXZlbCApIHtcXG5cXHRcXHQjaWZkZWYgRU5WTUFQX01PREVfUkVGTEVDVElPTlxcblxcdFxcdFxcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC12aWV3RGlyLCBub3JtYWwgKTtcXG5cXHRcXHRcXHRyZWZsZWN0VmVjID0gbm9ybWFsaXplKCBtaXgoIHJlZmxlY3RWZWMsIG5vcm1hbCwgcm91Z2huZXNzICogcm91Z2huZXNzKSApO1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0dmVjMyByZWZsZWN0VmVjID0gcmVmcmFjdCggLXZpZXdEaXIsIG5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0cmVmbGVjdFZlYyA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHJlZmxlY3RWZWMsIHZpZXdNYXRyaXggKTtcXG5cXHRcXHRmbG9hdCBzcGVjdWxhck1JUExldmVsID0gZ2V0U3BlY3VsYXJNSVBMZXZlbCggcm91Z2huZXNzLCBtYXhNSVBMZXZlbCApO1xcblxcdFxcdCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFXFxuXFx0XFx0XFx0dmVjMyBxdWVyeVJlZmxlY3RWZWMgPSB2ZWMzKCBmbGlwRW52TWFwICogcmVmbGVjdFZlYy54LCByZWZsZWN0VmVjLnl6ICk7XFxuXFx0XFx0XFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZUxvZEVYVCggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcXG5cXHRcXHRcXHQjZWxzZVxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcXG5cXHRcXHRcXHQjZW5kaWZcXG5cXHRcXHRcXHRlbnZNYXBDb2xvci5yZ2IgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCBlbnZNYXBDb2xvciApLnJnYjtcXG5cXHRcXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWIClcXG5cXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCByb3VnaG5lc3MgKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xcblxcdH1cXG4jZW5kaWZcIixlbnZtYXBfdmVydGV4OlwiI2lmZGVmIFVTRV9FTlZNQVBcXG5cXHQjaWZkZWYgRU5WX1dPUkxEUE9TXFxuXFx0XFx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcXG5cXHQjZWxzZVxcblxcdFxcdHZlYzMgY2FtZXJhVG9WZXJ0ZXg7XFxuXFx0XFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcXG5cXHRcXHRcXHRjYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRjYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggd29ybGRQb3NpdGlvbi54eXogLSBjYW1lcmFQb3NpdGlvbiApO1xcblxcdFxcdH1cXG5cXHRcXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggdHJhbnNmb3JtZWROb3JtYWwsIHZpZXdNYXRyaXggKTtcXG5cXHRcXHQjaWZkZWYgRU5WTUFQX01PREVfUkVGTEVDVElPTlxcblxcdFxcdFxcdHZSZWZsZWN0ID0gcmVmbGVjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHR2UmVmbGVjdCA9IHJlZnJhY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZm9nX3ZlcnRleDpcIiNpZmRlZiBVU0VfRk9HXFxuXFx0Zm9nRGVwdGggPSAtIG12UG9zaXRpb24uejtcXG4jZW5kaWZcIixmb2dfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX0ZPR1xcblxcdHZhcnlpbmcgZmxvYXQgZm9nRGVwdGg7XFxuI2VuZGlmXCIsZm9nX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9GT0dcXG5cXHQjaWZkZWYgRk9HX0VYUDJcXG5cXHRcXHRmbG9hdCBmb2dGYWN0b3IgPSAxLjAgLSBleHAoIC0gZm9nRGVuc2l0eSAqIGZvZ0RlbnNpdHkgKiBmb2dEZXB0aCAqIGZvZ0RlcHRoICk7XFxuXFx0I2Vsc2VcXG5cXHRcXHRmbG9hdCBmb2dGYWN0b3IgPSBzbW9vdGhzdGVwKCBmb2dOZWFyLCBmb2dGYXIsIGZvZ0RlcHRoICk7XFxuXFx0I2VuZGlmXFxuXFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZm9nQ29sb3IsIGZvZ0ZhY3RvciApO1xcbiNlbmRpZlwiLGZvZ19wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9GT0dcXG5cXHR1bmlmb3JtIHZlYzMgZm9nQ29sb3I7XFxuXFx0dmFyeWluZyBmbG9hdCBmb2dEZXB0aDtcXG5cXHQjaWZkZWYgRk9HX0VYUDJcXG5cXHRcXHR1bmlmb3JtIGZsb2F0IGZvZ0RlbnNpdHk7XFxuXFx0I2Vsc2VcXG5cXHRcXHR1bmlmb3JtIGZsb2F0IGZvZ05lYXI7XFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBmb2dGYXI7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZ3JhZGllbnRtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfR1JBRElFTlRNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBncmFkaWVudE1hcDtcXG4jZW5kaWZcXG52ZWMzIGdldEdyYWRpZW50SXJyYWRpYW5jZSggdmVjMyBub3JtYWwsIHZlYzMgbGlnaHREaXJlY3Rpb24gKSB7XFxuXFx0ZmxvYXQgZG90TkwgPSBkb3QoIG5vcm1hbCwgbGlnaHREaXJlY3Rpb24gKTtcXG5cXHR2ZWMyIGNvb3JkID0gdmVjMiggZG90TkwgKiAwLjUgKyAwLjUsIDAuMCApO1xcblxcdCNpZmRlZiBVU0VfR1JBRElFTlRNQVBcXG5cXHRcXHRyZXR1cm4gdGV4dHVyZTJEKCBncmFkaWVudE1hcCwgY29vcmQgKS5yZ2I7XFxuXFx0I2Vsc2VcXG5cXHRcXHRyZXR1cm4gKCBjb29yZC54IDwgMC43ICkgPyB2ZWMzKCAwLjcgKSA6IHZlYzMoIDEuMCApO1xcblxcdCNlbmRpZlxcbn1cIixsaWdodG1hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfTElHSFRNQVBcXG5cXHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gUEkgKiBsaWdodE1hcFRleGVsVG9MaW5lYXIoIGxpZ2h0TWFwVGV4ZWwgKS5yZ2IgKiBsaWdodE1hcEludGVuc2l0eTtcXG4jZW5kaWZcIixsaWdodG1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9MSUdIVE1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0TWFwO1xcblxcdHVuaWZvcm0gZmxvYXQgbGlnaHRNYXBJbnRlbnNpdHk7XFxuI2VuZGlmXCIsbGlnaHRzX2xhbWJlcnRfdmVydGV4OlwidmVjMyBkaWZmdXNlID0gdmVjMyggMS4wICk7XFxuR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeTtcXG5nZW9tZXRyeS5wb3NpdGlvbiA9IG12UG9zaXRpb24ueHl6O1xcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcXG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCAtbXZQb3NpdGlvbi54eXogKTtcXG5HZW9tZXRyaWNDb250ZXh0IGJhY2tHZW9tZXRyeTtcXG5iYWNrR2VvbWV0cnkucG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5iYWNrR2VvbWV0cnkubm9ybWFsID0gLWdlb21ldHJ5Lm5vcm1hbDtcXG5iYWNrR2VvbWV0cnkudmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7XFxudkxpZ2h0RnJvbnQgPSB2ZWMzKCAwLjAgKTtcXG52SW5kaXJlY3RGcm9udCA9IHZlYzMoIDAuMCApO1xcbiNpZmRlZiBET1VCTEVfU0lERURcXG5cXHR2TGlnaHRCYWNrID0gdmVjMyggMC4wICk7XFxuXFx0dkluZGlyZWN0QmFjayA9IHZlYzMoIDAuMCApO1xcbiNlbmRpZlxcbkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7XFxuZmxvYXQgZG90Tkw7XFxudmVjMyBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XFxudkluZGlyZWN0RnJvbnQgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcXG52SW5kaXJlY3RGcm9udCArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkgKTtcXG4jaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0dkluZGlyZWN0QmFjayArPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApO1xcblxcdHZJbmRpcmVjdEJhY2sgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGJhY2tHZW9tZXRyeSApO1xcbiNlbmRpZlxcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRTOyBpICsrICkge1xcblxcdFxcdGdldFBvaW50RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBwb2ludExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcXG5cXHRcXHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdFxcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG4jZW5kaWZcXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcXG5cXHRcXHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdFxcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG4jZW5kaWZcXG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRTOyBpICsrICkge1xcblxcdFxcdGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcXG5cXHRcXHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdFxcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG4jZW5kaWZcXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fSEVNSV9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0dkluZGlyZWN0RnJvbnQgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBnZW9tZXRyeSApO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR2SW5kaXJlY3RCYWNrICs9IGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGhlbWlzcGhlcmVMaWdodHNbIGkgXSwgYmFja0dlb21ldHJ5ICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0fVxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuI2VuZGlmXCIsbGlnaHRzX3BhcnNfYmVnaW46XCJ1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdztcXG51bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7XFxudW5pZm9ybSB2ZWMzIGxpZ2h0UHJvYmVbIDkgXTtcXG52ZWMzIHNoR2V0SXJyYWRpYW5jZUF0KCBpbiB2ZWMzIG5vcm1hbCwgaW4gdmVjMyBzaENvZWZmaWNpZW50c1sgOSBdICkge1xcblxcdGZsb2F0IHggPSBub3JtYWwueCwgeSA9IG5vcm1hbC55LCB6ID0gbm9ybWFsLno7XFxuXFx0dmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAxIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHk7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAyIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHo7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA0IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB5O1xcblxcdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNSBdICogMi4wICogMC40MjkwNDMgKiB5ICogejtcXG5cXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA3IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB6O1xcblxcdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgOCBdICogMC40MjkwNDMgKiAoIHggKiB4IC0geSAqIHkgKTtcXG5cXHRyZXR1cm4gcmVzdWx0O1xcbn1cXG52ZWMzIGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGxpZ2h0UHJvYmVbIDkgXSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcXG5cXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggZ2VvbWV0cnkubm9ybWFsLCB2aWV3TWF0cml4ICk7XFxuXFx0dmVjMyBpcnJhZGlhbmNlID0gc2hHZXRJcnJhZGlhbmNlQXQoIHdvcmxkTm9ybWFsLCBsaWdodFByb2JlICk7XFxuXFx0cmV0dXJuIGlycmFkaWFuY2U7XFxufVxcbnZlYzMgZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBhbWJpZW50TGlnaHRDb2xvciApIHtcXG5cXHR2ZWMzIGlycmFkaWFuY2UgPSBhbWJpZW50TGlnaHRDb2xvcjtcXG5cXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcXG5cXHRcXHRpcnJhZGlhbmNlICo9IFBJO1xcblxcdCNlbmRpZlxcblxcdHJldHVybiBpcnJhZGlhbmNlO1xcbn1cXG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXFxuXFx0c3RydWN0IERpcmVjdGlvbmFsTGlnaHQge1xcblxcdFxcdHZlYzMgZGlyZWN0aW9uO1xcblxcdFxcdHZlYzMgY29sb3I7XFxuXFx0fTtcXG5cXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07XFxuXFx0dm9pZCBnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCApIHtcXG5cXHRcXHRkaXJlY3RMaWdodC5jb2xvciA9IGRpcmVjdGlvbmFsTGlnaHQuY29sb3I7XFxuXFx0XFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb247XFxuXFx0XFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9IHRydWU7XFxuXFx0fVxcbiNlbmRpZlxcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxcblxcdHN0cnVjdCBQb2ludExpZ2h0IHtcXG5cXHRcXHR2ZWMzIHBvc2l0aW9uO1xcblxcdFxcdHZlYzMgY29sb3I7XFxuXFx0XFx0ZmxvYXQgZGlzdGFuY2U7XFxuXFx0XFx0ZmxvYXQgZGVjYXk7XFxuXFx0fTtcXG5cXHR1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTtcXG5cXHR2b2lkIGdldFBvaW50RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBQb2ludExpZ2h0IHBvaW50TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0ICkge1xcblxcdFxcdHZlYzMgbFZlY3RvciA9IHBvaW50TGlnaHQucG9zaXRpb24gLSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5cXHRcXHRkaXJlY3RMaWdodC5kaXJlY3Rpb24gPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcXG5cXHRcXHRmbG9hdCBsaWdodERpc3RhbmNlID0gbGVuZ3RoKCBsVmVjdG9yICk7XFxuXFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBwb2ludExpZ2h0LmNvbG9yO1xcblxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yICo9IHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGxpZ2h0RGlzdGFuY2UsIHBvaW50TGlnaHQuZGlzdGFuY2UsIHBvaW50TGlnaHQuZGVjYXkgKTtcXG5cXHRcXHRkaXJlY3RMaWdodC52aXNpYmxlID0gKCBkaXJlY3RMaWdodC5jb2xvciAhPSB2ZWMzKCAwLjAgKSApO1xcblxcdH1cXG4jZW5kaWZcXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxcblxcdHN0cnVjdCBTcG90TGlnaHQge1xcblxcdFxcdHZlYzMgcG9zaXRpb247XFxuXFx0XFx0dmVjMyBkaXJlY3Rpb247XFxuXFx0XFx0dmVjMyBjb2xvcjtcXG5cXHRcXHRmbG9hdCBkaXN0YW5jZTtcXG5cXHRcXHRmbG9hdCBkZWNheTtcXG5cXHRcXHRmbG9hdCBjb25lQ29zO1xcblxcdFxcdGZsb2F0IHBlbnVtYnJhQ29zO1xcblxcdH07XFxuXFx0dW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07XFxuXFx0dm9pZCBnZXRTcG90RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBTcG90TGlnaHQgc3BvdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCApIHtcXG5cXHRcXHR2ZWMzIGxWZWN0b3IgPSBzcG90TGlnaHQucG9zaXRpb24gLSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5cXHRcXHRkaXJlY3RMaWdodC5kaXJlY3Rpb24gPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcXG5cXHRcXHRmbG9hdCBsaWdodERpc3RhbmNlID0gbGVuZ3RoKCBsVmVjdG9yICk7XFxuXFx0XFx0ZmxvYXQgYW5nbGVDb3MgPSBkb3QoIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgc3BvdExpZ2h0LmRpcmVjdGlvbiApO1xcblxcdFxcdGlmICggYW5nbGVDb3MgPiBzcG90TGlnaHQuY29uZUNvcyApIHtcXG5cXHRcXHRcXHRmbG9hdCBzcG90RWZmZWN0ID0gc21vb3Roc3RlcCggc3BvdExpZ2h0LmNvbmVDb3MsIHNwb3RMaWdodC5wZW51bWJyYUNvcywgYW5nbGVDb3MgKTtcXG5cXHRcXHRcXHRkaXJlY3RMaWdodC5jb2xvciA9IHNwb3RMaWdodC5jb2xvcjtcXG5cXHRcXHRcXHRkaXJlY3RMaWdodC5jb2xvciAqPSBzcG90RWZmZWN0ICogcHVuY3R1YWxMaWdodEludGVuc2l0eVRvSXJyYWRpYW5jZUZhY3RvciggbGlnaHREaXN0YW5jZSwgc3BvdExpZ2h0LmRpc3RhbmNlLCBzcG90TGlnaHQuZGVjYXkgKTtcXG5cXHRcXHRcXHRkaXJlY3RMaWdodC52aXNpYmxlID0gdHJ1ZTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yID0gdmVjMyggMC4wICk7XFxuXFx0XFx0XFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9IGZhbHNlO1xcblxcdFxcdH1cXG5cXHR9XFxuI2VuZGlmXFxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxcblxcdHN0cnVjdCBSZWN0QXJlYUxpZ2h0IHtcXG5cXHRcXHR2ZWMzIGNvbG9yO1xcblxcdFxcdHZlYzMgcG9zaXRpb247XFxuXFx0XFx0dmVjMyBoYWxmV2lkdGg7XFxuXFx0XFx0dmVjMyBoYWxmSGVpZ2h0O1xcblxcdH07XFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgbHRjXzE7XFx0dW5pZm9ybSBzYW1wbGVyMkQgbHRjXzI7XFxuXFx0dW5pZm9ybSBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHRzWyBOVU1fUkVDVF9BUkVBX0xJR0hUUyBdO1xcbiNlbmRpZlxcbiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwXFxuXFx0c3RydWN0IEhlbWlzcGhlcmVMaWdodCB7XFxuXFx0XFx0dmVjMyBkaXJlY3Rpb247XFxuXFx0XFx0dmVjMyBza3lDb2xvcjtcXG5cXHRcXHR2ZWMzIGdyb3VuZENvbG9yO1xcblxcdH07XFxuXFx0dW5pZm9ybSBIZW1pc3BoZXJlTGlnaHQgaGVtaXNwaGVyZUxpZ2h0c1sgTlVNX0hFTUlfTElHSFRTIF07XFxuXFx0dmVjMyBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBIZW1pc3BoZXJlTGlnaHQgaGVtaUxpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5ICkge1xcblxcdFxcdGZsb2F0IGRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGhlbWlMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRmbG9hdCBoZW1pRGlmZnVzZVdlaWdodCA9IDAuNSAqIGRvdE5MICsgMC41O1xcblxcdFxcdHZlYzMgaXJyYWRpYW5jZSA9IG1peCggaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBoZW1pTGlnaHQuc2t5Q29sb3IsIGhlbWlEaWZmdXNlV2VpZ2h0ICk7XFxuXFx0XFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXFxuXFx0XFx0XFx0aXJyYWRpYW5jZSAqPSBQSTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRyZXR1cm4gaXJyYWRpYW5jZTtcXG5cXHR9XFxuI2VuZGlmXCIsbGlnaHRzX3Rvb25fZnJhZ21lbnQ6XCJUb29uTWF0ZXJpYWwgbWF0ZXJpYWw7XFxubWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjtcIixsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50OlwidmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcbnN0cnVjdCBUb29uTWF0ZXJpYWwge1xcblxcdHZlYzMgZGlmZnVzZUNvbG9yO1xcbn07XFxudm9pZCBSRV9EaXJlY3RfVG9vbiggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcXG5cXHR2ZWMzIGlycmFkaWFuY2UgPSBnZXRHcmFkaWVudElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKiBkaXJlY3RMaWdodC5jb2xvcjtcXG5cXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcXG5cXHRcXHRpcnJhZGlhbmNlICo9IFBJO1xcblxcdCNlbmRpZlxcblxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcXG59XFxudm9pZCBSRV9JbmRpcmVjdERpZmZ1c2VfVG9vbiggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xcbn1cXG4jZGVmaW5lIFJFX0RpcmVjdFxcdFxcdFxcdFxcdFJFX0RpcmVjdF9Ub29uXFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcXHRcXHRSRV9JbmRpcmVjdERpZmZ1c2VfVG9vblxcbiNkZWZpbmUgTWF0ZXJpYWxfTGlnaHRQcm9iZUxPRCggbWF0ZXJpYWwgKVxcdCgwKVwiLGxpZ2h0c19waG9uZ19mcmFnbWVudDpcIkJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbDtcXG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO1xcbm1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhcjtcXG5tYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyA9IHNoaW5pbmVzcztcXG5tYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoID0gc3BlY3VsYXJTdHJlbmd0aDtcIixsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudDpcInZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG5zdHJ1Y3QgQmxpbm5QaG9uZ01hdGVyaWFsIHtcXG5cXHR2ZWMzIGRpZmZ1c2VDb2xvcjtcXG5cXHR2ZWMzIHNwZWN1bGFyQ29sb3I7XFxuXFx0ZmxvYXQgc3BlY3VsYXJTaGluaW5lc3M7XFxuXFx0ZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcXG59O1xcbnZvaWQgUkVfRGlyZWN0X0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XFxuXFx0ZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XFxuXFx0dmVjMyBpcnJhZGlhbmNlID0gZG90TkwgKiBkaXJlY3RMaWdodC5jb2xvcjtcXG5cXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcXG5cXHRcXHRpcnJhZGlhbmNlICo9IFBJO1xcblxcdCNlbmRpZlxcblxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcXG5cXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBpcnJhZGlhbmNlICogQlJERl9TcGVjdWxhcl9CbGlublBob25nKCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyU2hpbmluZXNzICkgKiBtYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoO1xcbn1cXG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XFxufVxcbiNkZWZpbmUgUkVfRGlyZWN0XFx0XFx0XFx0XFx0UkVfRGlyZWN0X0JsaW5uUGhvbmdcXG4jZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZVxcdFxcdFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nXFxuI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApXFx0KDApXCIsbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50OlwiUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDtcXG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiICogKCAxLjAgLSBtZXRhbG5lc3NGYWN0b3IgKTtcXG52ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7XFxuZmxvYXQgZ2VvbWV0cnlSb3VnaG5lc3MgPSBtYXgoIG1heCggZHh5LngsIGR4eS55ICksIGR4eS56ICk7XFxubWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIHJvdWdobmVzc0ZhY3RvciwgMC4wNTI1ICk7bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7XFxubWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCAxLjAgKTtcXG4jaWZkZWYgUkVGTEVDVElWSVRZXFxuXFx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAqIHBvdzIoIHJlZmxlY3Rpdml0eSApICksIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xcbiNlbHNlXFxuXFx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTtcXG4jZW5kaWZcXG4jaWZkZWYgQ0xFQVJDT0FUXFxuXFx0bWF0ZXJpYWwuY2xlYXJjb2F0ID0gY2xlYXJjb2F0O1xcblxcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IGNsZWFyY29hdFJvdWdobmVzcztcXG5cXHQjaWZkZWYgVVNFX0NMRUFSQ09BVE1BUFxcblxcdFxcdG1hdGVyaWFsLmNsZWFyY29hdCAqPSB0ZXh0dXJlMkQoIGNsZWFyY29hdE1hcCwgdlV2ICkueDtcXG5cXHQjZW5kaWZcXG5cXHQjaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVBcXG5cXHRcXHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRSb3VnaG5lc3NNYXAsIHZVdiApLnk7XFxuXFx0I2VuZGlmXFxuXFx0bWF0ZXJpYWwuY2xlYXJjb2F0ID0gc2F0dXJhdGUoIG1hdGVyaWFsLmNsZWFyY29hdCApO1xcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IG1heCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCAwLjA1MjUgKTtcXG5cXHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7XFxuXFx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDEuMCApO1xcbiNlbmRpZlxcbiNpZmRlZiBVU0VfU0hFRU5cXG5cXHRtYXRlcmlhbC5zaGVlbkNvbG9yID0gc2hlZW47XFxuI2VuZGlmXCIsbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6XCJzdHJ1Y3QgUGh5c2ljYWxNYXRlcmlhbCB7XFxuXFx0dmVjMyBkaWZmdXNlQ29sb3I7XFxuXFx0ZmxvYXQgc3BlY3VsYXJSb3VnaG5lc3M7XFxuXFx0dmVjMyBzcGVjdWxhckNvbG9yO1xcbiNpZmRlZiBDTEVBUkNPQVRcXG5cXHRmbG9hdCBjbGVhcmNvYXQ7XFxuXFx0ZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xcbiNlbmRpZlxcbiNpZmRlZiBVU0VfU0hFRU5cXG5cXHR2ZWMzIHNoZWVuQ29sb3I7XFxuI2VuZGlmXFxufTtcXG4jZGVmaW5lIE1BWElNVU1fU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgMC4xNlxcbiNkZWZpbmUgREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCAwLjA0XFxuZmxvYXQgY2xlYXJjb2F0REhSQXBwcm94KCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5MICkge1xcblxcdHJldHVybiBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICsgKCAxLjAgLSBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICkgKiAoIHBvdyggMS4wIC0gZG90TkwsIDUuMCApICogcG93KCAxLjAgLSByb3VnaG5lc3MsIDIuMCApICk7XFxufVxcbiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDBcXG5cXHR2b2lkIFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbCggY29uc3QgaW4gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcXG5cXHRcXHR2ZWMzIG5vcm1hbCA9IGdlb21ldHJ5Lm5vcm1hbDtcXG5cXHRcXHR2ZWMzIHZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xcblxcdFxcdHZlYzMgcG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5cXHRcXHR2ZWMzIGxpZ2h0UG9zID0gcmVjdEFyZWFMaWdodC5wb3NpdGlvbjtcXG5cXHRcXHR2ZWMzIGhhbGZXaWR0aCA9IHJlY3RBcmVhTGlnaHQuaGFsZldpZHRoO1xcblxcdFxcdHZlYzMgaGFsZkhlaWdodCA9IHJlY3RBcmVhTGlnaHQuaGFsZkhlaWdodDtcXG5cXHRcXHR2ZWMzIGxpZ2h0Q29sb3IgPSByZWN0QXJlYUxpZ2h0LmNvbG9yO1xcblxcdFxcdGZsb2F0IHJvdWdobmVzcyA9IG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzO1xcblxcdFxcdHZlYzMgcmVjdENvb3Jkc1sgNCBdO1xcblxcdFxcdHJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcXHRcXHRyZWN0Q29vcmRzWyAxIF0gPSBsaWdodFBvcyAtIGhhbGZXaWR0aCAtIGhhbGZIZWlnaHQ7XFxuXFx0XFx0cmVjdENvb3Jkc1sgMiBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggKyBoYWxmSGVpZ2h0O1xcblxcdFxcdHJlY3RDb29yZHNbIDMgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoICsgaGFsZkhlaWdodDtcXG5cXHRcXHR2ZWMyIHV2ID0gTFRDX1V2KCBub3JtYWwsIHZpZXdEaXIsIHJvdWdobmVzcyApO1xcblxcdFxcdHZlYzQgdDEgPSB0ZXh0dXJlMkQoIGx0Y18xLCB1diApO1xcblxcdFxcdHZlYzQgdDIgPSB0ZXh0dXJlMkQoIGx0Y18yLCB1diApO1xcblxcdFxcdG1hdDMgbUludiA9IG1hdDMoXFxuXFx0XFx0XFx0dmVjMyggdDEueCwgMCwgdDEueSApLFxcblxcdFxcdFxcdHZlYzMoICAgIDAsIDEsICAgIDAgKSxcXG5cXHRcXHRcXHR2ZWMzKCB0MS56LCAwLCB0MS53IClcXG5cXHRcXHQpO1xcblxcdFxcdHZlYzMgZnJlc25lbCA9ICggbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciAqIHQyLnggKyAoIHZlYzMoIDEuMCApIC0gbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciApICogdDIueSApO1xcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGxpZ2h0Q29sb3IgKiBmcmVzbmVsICogTFRDX0V2YWx1YXRlKCBub3JtYWwsIHZpZXdEaXIsIHBvc2l0aW9uLCBtSW52LCByZWN0Q29vcmRzICk7XFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArPSBsaWdodENvbG9yICogbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICogTFRDX0V2YWx1YXRlKCBub3JtYWwsIHZpZXdEaXIsIHBvc2l0aW9uLCBtYXQzKCAxLjAgKSwgcmVjdENvb3JkcyApO1xcblxcdH1cXG4jZW5kaWZcXG52b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XFxuXFx0ZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XFxuXFx0dmVjMyBpcnJhZGlhbmNlID0gZG90TkwgKiBkaXJlY3RMaWdodC5jb2xvcjtcXG5cXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcXG5cXHRcXHRpcnJhZGlhbmNlICo9IFBJO1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBDTEVBUkNPQVRcXG5cXHRcXHRmbG9hdCBjY0RvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xcblxcdFxcdHZlYzMgY2NJcnJhZGlhbmNlID0gY2NEb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdFxcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xcblxcdFxcdFxcdGNjSXJyYWRpYW5jZSAqPSBQSTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRmbG9hdCBjbGVhcmNvYXRESFIgPSBtYXRlcmlhbC5jbGVhcmNvYXQgKiBjbGVhcmNvYXRESFJBcHByb3goIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgY2NEb3ROTCApO1xcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGNjSXJyYWRpYW5jZSAqIG1hdGVyaWFsLmNsZWFyY29hdCAqIEJSREZfU3BlY3VsYXJfR0dYKCBkaXJlY3RMaWdodCwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApO1xcblxcdCNlbHNlXFxuXFx0XFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gMC4wO1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBVU0VfU0hFRU5cXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSAoIDEuMCAtIGNsZWFyY29hdERIUiApICogaXJyYWRpYW5jZSAqIEJSREZfU3BlY3VsYXJfU2hlZW4oXFxuXFx0XFx0XFx0bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsXFxuXFx0XFx0XFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uLFxcblxcdFxcdFxcdGdlb21ldHJ5LFxcblxcdFxcdFxcdG1hdGVyaWFsLnNoZWVuQ29sb3JcXG5cXHRcXHQpO1xcblxcdCNlbHNlXFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX0dHWCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MpO1xcblxcdCNlbmRpZlxcblxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XFxufVxcbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xcbn1cXG52b2lkIFJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBjbGVhcmNvYXRSYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQpIHtcXG5cXHQjaWZkZWYgQ0xFQVJDT0FUXFxuXFx0XFx0ZmxvYXQgY2NEb3ROViA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciApICk7XFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBjbGVhcmNvYXRSYWRpYW5jZSAqIG1hdGVyaWFsLmNsZWFyY29hdCAqIEJSREZfU3BlY3VsYXJfR0dYX0Vudmlyb25tZW50KCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIHZlYzMoIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgKSwgbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICk7XFxuXFx0XFx0ZmxvYXQgY2NEb3ROTCA9IGNjRG90TlY7XFxuXFx0XFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gbWF0ZXJpYWwuY2xlYXJjb2F0ICogY2xlYXJjb2F0REhSQXBwcm94KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIGNjRG90TkwgKTtcXG5cXHQjZWxzZVxcblxcdFxcdGZsb2F0IGNsZWFyY29hdERIUiA9IDAuMDtcXG5cXHQjZW5kaWZcXG5cXHRmbG9hdCBjbGVhcmNvYXRJbnYgPSAxLjAgLSBjbGVhcmNvYXRESFI7XFxuXFx0dmVjMyBzaW5nbGVTY2F0dGVyaW5nID0gdmVjMyggMC4wICk7XFxuXFx0dmVjMyBtdWx0aVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcXG5cXHR2ZWMzIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZSA9IGlycmFkaWFuY2UgKiBSRUNJUFJPQ0FMX1BJO1xcblxcdEJSREZfU3BlY3VsYXJfTXVsdGlzY2F0dGVyaW5nX0Vudmlyb25tZW50KCBnZW9tZXRyeSwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIHNpbmdsZVNjYXR0ZXJpbmcsIG11bHRpU2NhdHRlcmluZyApO1xcblxcdHZlYzMgZGlmZnVzZSA9IG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqICggMS4wIC0gKCBzaW5nbGVTY2F0dGVyaW5nICsgbXVsdGlTY2F0dGVyaW5nICkgKTtcXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IGNsZWFyY29hdEludiAqIHJhZGlhbmNlICogc2luZ2xlU2NhdHRlcmluZztcXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IG11bHRpU2NhdHRlcmluZyAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTtcXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gZGlmZnVzZSAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTtcXG59XFxuI2RlZmluZSBSRV9EaXJlY3RcXHRcXHRcXHRcXHRSRV9EaXJlY3RfUGh5c2ljYWxcXG4jZGVmaW5lIFJFX0RpcmVjdF9SZWN0QXJlYVxcdFxcdFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbFxcbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXFx0XFx0UkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsXFxuI2RlZmluZSBSRV9JbmRpcmVjdFNwZWN1bGFyXFx0XFx0UkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbFxcbmZsb2F0IGNvbXB1dGVTcGVjdWxhck9jY2x1c2lvbiggY29uc3QgaW4gZmxvYXQgZG90TlYsIGNvbnN0IGluIGZsb2F0IGFtYmllbnRPY2NsdXNpb24sIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcXG5cXHRyZXR1cm4gc2F0dXJhdGUoIHBvdyggZG90TlYgKyBhbWJpZW50T2NjbHVzaW9uLCBleHAyKCAtIDE2LjAgKiByb3VnaG5lc3MgLSAxLjAgKSApIC0gMS4wICsgYW1iaWVudE9jY2x1c2lvbiApO1xcbn1cIixsaWdodHNfZnJhZ21lbnRfYmVnaW46XCJcXG5HZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5O1xcbmdlb21ldHJ5LnBvc2l0aW9uID0gLSB2Vmlld1Bvc2l0aW9uO1xcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDtcXG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7XFxuI2lmZGVmIENMRUFSQ09BVFxcblxcdGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCA9IGNsZWFyY29hdE5vcm1hbDtcXG4jZW5kaWZcXG5JbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0O1xcbiNpZiAoIE5VTV9QT0lOVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcXG5cXHRQb2ludExpZ2h0IHBvaW50TGlnaHQ7XFxuXFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3c7XFxuXFx0I2VuZGlmXFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRzWyBpIF07XFxuXFx0XFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xcblxcdFxcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgKVxcblxcdFxcdHBvaW50TGlnaHRTaGFkb3cgPSBwb2ludExpZ2h0U2hhZG93c1sgaSBdO1xcblxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0UG9pbnRTaGFkb3coIHBvaW50U2hhZG93TWFwWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdlBvaW50U2hhZG93Q29vcmRbIGkgXSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFOZWFyLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0NhbWVyYUZhciApIDogMS4wO1xcblxcdFxcdCNlbmRpZlxcblxcdFxcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG4jZW5kaWZcXG4jaWYgKCBOVU1fU1BPVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcXG5cXHRTcG90TGlnaHQgc3BvdExpZ2h0O1xcblxcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93O1xcblxcdCNlbmRpZlxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0c1sgaSBdO1xcblxcdFxcdGdldFNwb3REaXJlY3RMaWdodElycmFkaWFuY2UoIHNwb3RMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XFxuXFx0XFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIClcXG5cXHRcXHRzcG90TGlnaHRTaGFkb3cgPSBzcG90TGlnaHRTaGFkb3dzWyBpIF07XFxuXFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XFxuXFx0fVxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuI2VuZGlmXFxuI2lmICggTlVNX0RJUl9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcXG5cXHREaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7XFxuXFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0RGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93O1xcblxcdCNlbmRpZlxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcXG5cXHRcXHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodHNbIGkgXTtcXG5cXHRcXHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XFxuXFx0XFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fRElSX0xJR0hUX1NIQURPV1MgKVxcblxcdFxcdGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cgPSBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdO1xcblxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XFxuXFx0fVxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuI2VuZGlmXFxuI2lmICggTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0X1JlY3RBcmVhIClcXG5cXHRSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9SRUNUX0FSRUFfTElHSFRTOyBpICsrICkge1xcblxcdFxcdHJlY3RBcmVhTGlnaHQgPSByZWN0QXJlYUxpZ2h0c1sgaSBdO1xcblxcdFxcdFJFX0RpcmVjdF9SZWN0QXJlYSggcmVjdEFyZWFMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xcblxcdH1cXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxcblxcdHZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzMgaXJyYWRpYW5jZSA9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XFxuXFx0aXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkgKTtcXG5cXHQjaWYgKCBOVU1fSEVNSV9MSUdIVFMgPiAwIClcXG5cXHRcXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XFxuXFx0XFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0hFTUlfTElHSFRTOyBpICsrICkge1xcblxcdFxcdFxcdGlycmFkaWFuY2UgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBnZW9tZXRyeSApO1xcblxcdFxcdH1cXG5cXHRcXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcXG5cXHR2ZWMzIHJhZGlhbmNlID0gdmVjMyggMC4wICk7XFxuXFx0dmVjMyBjbGVhcmNvYXRSYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xcbiNlbmRpZlwiLGxpZ2h0c19mcmFnbWVudF9tYXBzOlwiI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXFxuXFx0I2lmZGVmIFVTRV9MSUdIVE1BUFxcblxcdFxcdHZlYzQgbGlnaHRNYXBUZXhlbD0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApO1xcblxcdFxcdHZlYzMgbGlnaHRNYXBJcnJhZGlhbmNlID0gbGlnaHRNYXBUZXhlbFRvTGluZWFyKCBsaWdodE1hcFRleGVsICkucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7XFxuXFx0XFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXFxuXFx0XFx0XFx0bGlnaHRNYXBJcnJhZGlhbmNlICo9IFBJO1xcblxcdFxcdCNlbmRpZlxcblxcdFxcdGlycmFkaWFuY2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlO1xcblxcdCNlbmRpZlxcblxcdCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKSAmJiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWIClcXG5cXHRcXHRpYmxJcnJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdElycmFkaWFuY2UoIGdlb21ldHJ5LCBtYXhNaXBMZXZlbCApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXFxuXFx0cmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUluZGlyZWN0UmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIG1heE1pcExldmVsICk7XFxuXFx0I2lmZGVmIENMRUFSQ09BVFxcblxcdFxcdGNsZWFyY29hdFJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixsaWdodHNfZnJhZ21lbnRfZW5kOlwiI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXFxuXFx0UkVfSW5kaXJlY3REaWZmdXNlKCBpcnJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxcblxcdFJFX0luZGlyZWN0U3BlY3VsYXIoIHJhZGlhbmNlLCBpYmxJcnJhZGlhbmNlLCBjbGVhcmNvYXRSYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xcbiNlbmRpZlwiLGxvZ2RlcHRoYnVmX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKVxcblxcdGdsX0ZyYWdEZXB0aEVYVCA9IHZJc1BlcnNwZWN0aXZlID09IDAuMCA/IGdsX0ZyYWdDb29yZC56IDogbG9nMiggdkZyYWdEZXB0aCApICogbG9nRGVwdGhCdWZGQyAqIDAuNTtcXG4jZW5kaWZcIixsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKVxcblxcdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcXG5cXHR2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7XFxuXFx0dmFyeWluZyBmbG9hdCB2SXNQZXJzcGVjdGl2ZTtcXG4jZW5kaWZcIixsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleDpcIiNpZmRlZiBVU0VfTE9HREVQVEhCVUZcXG5cXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxcblxcdFxcdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcXG5cXHRcXHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xcblxcdCNlbHNlXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBsb2dEZXB0aEJ1ZkZDO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLGxvZ2RlcHRoYnVmX3ZlcnRleDpcIiNpZmRlZiBVU0VfTE9HREVQVEhCVUZcXG5cXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxcblxcdFxcdHZGcmFnRGVwdGggPSAxLjAgKyBnbF9Qb3NpdGlvbi53O1xcblxcdFxcdHZJc1BlcnNwZWN0aXZlID0gZmxvYXQoIGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKSApO1xcblxcdCNlbHNlXFxuXFx0XFx0aWYgKCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKSB7XFxuXFx0XFx0XFx0Z2xfUG9zaXRpb24ueiA9IGxvZzIoIG1heCggRVBTSUxPTiwgZ2xfUG9zaXRpb24udyArIDEuMCApICkgKiBsb2dEZXB0aEJ1ZkZDIC0gMS4wO1xcblxcdFxcdFxcdGdsX1Bvc2l0aW9uLnogKj0gZ2xfUG9zaXRpb24udztcXG5cXHRcXHR9XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsbWFwX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9NQVBcXG5cXHR2ZWM0IHRleGVsQ29sb3IgPSB0ZXh0dXJlMkQoIG1hcCwgdlV2ICk7XFxuXFx0dGV4ZWxDb2xvciA9IG1hcFRleGVsVG9MaW5lYXIoIHRleGVsQ29sb3IgKTtcXG5cXHRkaWZmdXNlQ29sb3IgKj0gdGV4ZWxDb2xvcjtcXG4jZW5kaWZcIixtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcbiNlbmRpZlwiLG1hcF9wYXJ0aWNsZV9mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcXG5cXHR2ZWMyIHV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIGdsX1BvaW50Q29vcmQueCwgMS4wIC0gZ2xfUG9pbnRDb29yZC55LCAxICkgKS54eTtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX01BUFxcblxcdHZlYzQgbWFwVGV4ZWwgPSB0ZXh0dXJlMkQoIG1hcCwgdXYgKTtcXG5cXHRkaWZmdXNlQ29sb3IgKj0gbWFwVGV4ZWxUb0xpbmVhciggbWFwVGV4ZWwgKTtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX0FMUEhBTUFQXFxuXFx0ZGlmZnVzZUNvbG9yLmEgKj0gdGV4dHVyZTJEKCBhbHBoYU1hcCwgdXYgKS5nO1xcbiNlbmRpZlwiLG1hcF9wYXJ0aWNsZV9wYXJzX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFVTRV9NQVAgKSB8fCBkZWZpbmVkKCBVU0VfQUxQSEFNQVAgKVxcblxcdHVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX01BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX0FMUEhBTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XFxuI2VuZGlmXCIsbWV0YWxuZXNzbWFwX2ZyYWdtZW50OlwiZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzO1xcbiNpZmRlZiBVU0VfTUVUQUxORVNTTUFQXFxuXFx0dmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTtcXG5cXHRtZXRhbG5lc3NGYWN0b3IgKj0gdGV4ZWxNZXRhbG5lc3MuYjtcXG4jZW5kaWZcIixtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfTUVUQUxORVNTTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgbWV0YWxuZXNzTWFwO1xcbiNlbmRpZlwiLG1vcnBobm9ybWFsX3ZlcnRleDpcIiNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXFxuXFx0b2JqZWN0Tm9ybWFsICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcXG5cXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwwICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XFxuXFx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMSBdO1xcblxcdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcXG5cXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwzICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XFxuI2VuZGlmXCIsbW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX01PUlBIVEFSR0VUU1xcblxcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xcblxcdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xcblxcdFxcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA4IF07XFxuXFx0I2Vsc2VcXG5cXHRcXHR1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNCBdO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLG1vcnBodGFyZ2V0X3ZlcnRleDpcIiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXFxuXFx0dHJhbnNmb3JtZWQgKj0gbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xcblxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdO1xcblxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMSBdO1xcblxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdO1xcblxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdO1xcblxcdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xcblxcdFxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNCBdO1xcblxcdFxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNSBdO1xcblxcdFxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNiBdO1xcblxcdFxcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNyBdO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLG5vcm1hbF9mcmFnbWVudF9iZWdpbjpcIiNpZmRlZiBGTEFUX1NIQURFRFxcblxcdHZlYzMgZmR4ID0gdmVjMyggZEZkeCggdlZpZXdQb3NpdGlvbi54ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueSApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnogKSApO1xcblxcdHZlYzMgZmR5ID0gdmVjMyggZEZkeSggdlZpZXdQb3NpdGlvbi54ICksIGRGZHkoIHZWaWV3UG9zaXRpb24ueSApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnogKSApO1xcblxcdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApO1xcbiNlbHNlXFxuXFx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTtcXG5cXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0bm9ybWFsID0gbm9ybWFsICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZlYzMgdGFuZ2VudCA9IG5vcm1hbGl6ZSggdlRhbmdlbnQgKTtcXG5cXHRcXHR2ZWMzIGJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggdkJpdGFuZ2VudCApO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR0YW5nZW50ID0gdGFuZ2VudCAqICggZmxvYXQoIGdsX0Zyb250RmFjaW5nICkgKiAyLjAgLSAxLjAgKTtcXG5cXHRcXHRcXHRiaXRhbmdlbnQgPSBiaXRhbmdlbnQgKiAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0I2lmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCApXFxuXFx0XFx0XFx0bWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHQjZW5kaWZcXG4jZW5kaWZcXG52ZWMzIGdlb21ldHJ5Tm9ybWFsID0gbm9ybWFsO1wiLG5vcm1hbF9mcmFnbWVudF9tYXBzOlwiI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxcblxcdG5vcm1hbCA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XFxuXFx0I2lmZGVmIEZMSVBfU0lERURcXG5cXHRcXHRub3JtYWwgPSAtIG5vcm1hbDtcXG5cXHQjZW5kaWZcXG5cXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0bm9ybWFsID0gbm9ybWFsICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xcblxcdCNlbmRpZlxcblxcdG5vcm1hbCA9IG5vcm1hbGl6ZSggbm9ybWFsTWF0cml4ICogbm9ybWFsICk7XFxuI2VsaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXFxuXFx0dmVjMyBtYXBOID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcXG5cXHRtYXBOLnh5ICo9IG5vcm1hbFNjYWxlO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdG5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIG1hcE4gKTtcXG5cXHQjZWxzZVxcblxcdFxcdG5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBtYXBOICk7XFxuXFx0I2VuZGlmXFxuI2VsaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKVxcblxcdG5vcm1hbCA9IHBlcnR1cmJOb3JtYWxBcmIoIC12Vmlld1Bvc2l0aW9uLCBub3JtYWwsIGRIZHh5X2Z3ZCgpICk7XFxuI2VuZGlmXCIsbm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX05PUk1BTE1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDtcXG5cXHR1bmlmb3JtIHZlYzIgbm9ybWFsU2NhbGU7XFxuI2VuZGlmXFxuI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxcblxcdHVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7XFxuI2VuZGlmXFxuI2lmICEgZGVmaW5lZCAoIFVTRV9UQU5HRU5UICkgJiYgKCBkZWZpbmVkICggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQgKCBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCApIClcXG5cXHR2ZWMzIHBlcnR1cmJOb3JtYWwyQXJiKCB2ZWMzIGV5ZV9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMzIG1hcE4gKSB7XFxuXFx0XFx0dmVjMyBxMCA9IHZlYzMoIGRGZHgoIGV5ZV9wb3MueCApLCBkRmR4KCBleWVfcG9zLnkgKSwgZEZkeCggZXllX3Bvcy56ICkgKTtcXG5cXHRcXHR2ZWMzIHExID0gdmVjMyggZEZkeSggZXllX3Bvcy54ICksIGRGZHkoIGV5ZV9wb3MueSApLCBkRmR5KCBleWVfcG9zLnogKSApO1xcblxcdFxcdHZlYzIgc3QwID0gZEZkeCggdlV2LnN0ICk7XFxuXFx0XFx0dmVjMiBzdDEgPSBkRmR5KCB2VXYuc3QgKTtcXG5cXHRcXHRmbG9hdCBzY2FsZSA9IHNpZ24oIHN0MS50ICogc3QwLnMgLSBzdDAudCAqIHN0MS5zICk7XFxuXFx0XFx0dmVjMyBTID0gbm9ybWFsaXplKCAoIHEwICogc3QxLnQgLSBxMSAqIHN0MC50ICkgKiBzY2FsZSApO1xcblxcdFxcdHZlYzMgVCA9IG5vcm1hbGl6ZSggKCAtIHEwICogc3QxLnMgKyBxMSAqIHN0MC5zICkgKiBzY2FsZSApO1xcblxcdFxcdHZlYzMgTiA9IG5vcm1hbGl6ZSggc3VyZl9ub3JtICk7XFxuXFx0XFx0bWF0MyB0c24gPSBtYXQzKCBTLCBULCBOICk7XFxuXFx0XFx0bWFwTi54eSAqPSAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XFxuXFx0XFx0cmV0dXJuIG5vcm1hbGl6ZSggdHNuICogbWFwTiApO1xcblxcdH1cXG4jZW5kaWZcIixjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luOlwiI2lmZGVmIENMRUFSQ09BVFxcblxcdHZlYzMgY2xlYXJjb2F0Tm9ybWFsID0gZ2VvbWV0cnlOb3JtYWw7XFxuI2VuZGlmXCIsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzOlwiI2lmZGVmIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXFxuXFx0dmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcXG5cXHRjbGVhcmNvYXRNYXBOLnh5ICo9IGNsZWFyY29hdE5vcm1hbFNjYWxlO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdGNsZWFyY29hdE5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIGNsZWFyY29hdE1hcE4gKTtcXG5cXHQjZWxzZVxcblxcdFxcdGNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9DTEVBUkNPQVRNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgY2xlYXJjb2F0Um91Z2huZXNzTWFwO1xcbiNlbmRpZlxcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdE5vcm1hbE1hcDtcXG5cXHR1bmlmb3JtIHZlYzIgY2xlYXJjb2F0Tm9ybWFsU2NhbGU7XFxuI2VuZGlmXCIscGFja2luZzpcInZlYzMgcGFja05vcm1hbFRvUkdCKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHtcXG5cXHRyZXR1cm4gbm9ybWFsaXplKCBub3JtYWwgKSAqIDAuNSArIDAuNTtcXG59XFxudmVjMyB1bnBhY2tSR0JUb05vcm1hbCggY29uc3QgaW4gdmVjMyByZ2IgKSB7XFxuXFx0cmV0dXJuIDIuMCAqIHJnYi54eXogLSAxLjA7XFxufVxcbmNvbnN0IGZsb2F0IFBhY2tVcHNjYWxlID0gMjU2LiAvIDI1NS47Y29uc3QgZmxvYXQgVW5wYWNrRG93bnNjYWxlID0gMjU1LiAvIDI1Ni47XFxuY29uc3QgdmVjMyBQYWNrRmFjdG9ycyA9IHZlYzMoIDI1Ni4gKiAyNTYuICogMjU2LiwgMjU2LiAqIDI1Ni4sIDI1Ni4gKTtcXG5jb25zdCB2ZWM0IFVucGFja0ZhY3RvcnMgPSBVbnBhY2tEb3duc2NhbGUgLyB2ZWM0KCBQYWNrRmFjdG9ycywgMS4gKTtcXG5jb25zdCBmbG9hdCBTaGlmdFJpZ2h0OCA9IDEuIC8gMjU2LjtcXG52ZWM0IHBhY2tEZXB0aFRvUkdCQSggY29uc3QgaW4gZmxvYXQgdiApIHtcXG5cXHR2ZWM0IHIgPSB2ZWM0KCBmcmFjdCggdiAqIFBhY2tGYWN0b3JzICksIHYgKTtcXG5cXHRyLnl6dyAtPSByLnh5eiAqIFNoaWZ0UmlnaHQ4O1xcdHJldHVybiByICogUGFja1Vwc2NhbGU7XFxufVxcbmZsb2F0IHVucGFja1JHQkFUb0RlcHRoKCBjb25zdCBpbiB2ZWM0IHYgKSB7XFxuXFx0cmV0dXJuIGRvdCggdiwgVW5wYWNrRmFjdG9ycyApO1xcbn1cXG52ZWM0IHBhY2sySGFsZlRvUkdCQSggdmVjMiB2ICkge1xcblxcdHZlYzQgciA9IHZlYzQoIHYueCwgZnJhY3QoIHYueCAqIDI1NS4wICksIHYueSwgZnJhY3QoIHYueSAqIDI1NS4wICkpO1xcblxcdHJldHVybiB2ZWM0KCByLnggLSByLnkgLyAyNTUuMCwgci55LCByLnogLSByLncgLyAyNTUuMCwgci53KTtcXG59XFxudmVjMiB1bnBhY2tSR0JBVG8ySGFsZiggdmVjNCB2ICkge1xcblxcdHJldHVybiB2ZWMyKCB2LnggKyAoIHYueSAvIDI1NS4wICksIHYueiArICggdi53IC8gMjU1LjAgKSApO1xcbn1cXG5mbG9hdCB2aWV3WlRvT3J0aG9ncmFwaGljRGVwdGgoIGNvbnN0IGluIGZsb2F0IHZpZXdaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XFxuXFx0cmV0dXJuICggdmlld1ogKyBuZWFyICkgLyAoIG5lYXIgLSBmYXIgKTtcXG59XFxuZmxvYXQgb3J0aG9ncmFwaGljRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBsaW5lYXJDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xcblxcdHJldHVybiBsaW5lYXJDbGlwWiAqICggbmVhciAtIGZhciApIC0gbmVhcjtcXG59XFxuZmxvYXQgdmlld1pUb1BlcnNwZWN0aXZlRGVwdGgoIGNvbnN0IGluIGZsb2F0IHZpZXdaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XFxuXFx0cmV0dXJuICgoIG5lYXIgKyB2aWV3WiApICogZmFyICkgLyAoKCBmYXIgLSBuZWFyICkgKiB2aWV3WiApO1xcbn1cXG5mbG9hdCBwZXJzcGVjdGl2ZURlcHRoVG9WaWV3WiggY29uc3QgaW4gZmxvYXQgaW52Q2xpcFosIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcXG5cXHRyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTtcXG59XCIscHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudDpcIiNpZmRlZiBQUkVNVUxUSVBMSUVEX0FMUEhBXFxuXFx0Z2xfRnJhZ0NvbG9yLnJnYiAqPSBnbF9GcmFnQ29sb3IuYTtcXG4jZW5kaWZcIixwcm9qZWN0X3ZlcnRleDpcInZlYzQgbXZQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcXG4jaWZkZWYgVVNFX0lOU1RBTkNJTkdcXG5cXHRtdlBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiBtdlBvc2l0aW9uO1xcbiNlbmRpZlxcbm12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiBtdlBvc2l0aW9uO1xcbmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XCIsZGl0aGVyaW5nX2ZyYWdtZW50OlwiI2lmZGVmIERJVEhFUklOR1xcblxcdGdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTtcXG4jZW5kaWZcIixkaXRoZXJpbmdfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBESVRIRVJJTkdcXG5cXHR2ZWMzIGRpdGhlcmluZyggdmVjMyBjb2xvciApIHtcXG5cXHRcXHRmbG9hdCBncmlkX3Bvc2l0aW9uID0gcmFuZCggZ2xfRnJhZ0Nvb3JkLnh5ICk7XFxuXFx0XFx0dmVjMyBkaXRoZXJfc2hpZnRfUkdCID0gdmVjMyggMC4yNSAvIDI1NS4wLCAtMC4yNSAvIDI1NS4wLCAwLjI1IC8gMjU1LjAgKTtcXG5cXHRcXHRkaXRoZXJfc2hpZnRfUkdCID0gbWl4KCAyLjAgKiBkaXRoZXJfc2hpZnRfUkdCLCAtMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgZ3JpZF9wb3NpdGlvbiApO1xcblxcdFxcdHJldHVybiBjb2xvciArIGRpdGhlcl9zaGlmdF9SR0I7XFxuXFx0fVxcbiNlbmRpZlwiLHJvdWdobmVzc21hcF9mcmFnbWVudDpcImZsb2F0IHJvdWdobmVzc0ZhY3RvciA9IHJvdWdobmVzcztcXG4jaWZkZWYgVVNFX1JPVUdITkVTU01BUFxcblxcdHZlYzQgdGV4ZWxSb3VnaG5lc3MgPSB0ZXh0dXJlMkQoIHJvdWdobmVzc01hcCwgdlV2ICk7XFxuXFx0cm91Z2huZXNzRmFjdG9yICo9IHRleGVsUm91Z2huZXNzLmc7XFxuI2VuZGlmXCIscm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX1JPVUdITkVTU01BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIHJvdWdobmVzc01hcDtcXG4jZW5kaWZcIixzaGFkb3dtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfU0hBRE9XTUFQXFxuXFx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIHNhbXBsZXIyRCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0dmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcXG5cXHRcXHRzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyB7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93QmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHR2ZWMyIHNoYWRvd01hcFNpemU7XFxuXFx0XFx0fTtcXG5cXHRcXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIHNwb3RTaGFkb3dNYXBbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcXG5cXHRcXHR2YXJ5aW5nIHZlYzQgdlNwb3RTaGFkb3dDb29yZFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHN0cnVjdCBTcG90TGlnaHRTaGFkb3cge1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0JpYXM7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0dmVjMiBzaGFkb3dNYXBTaXplO1xcblxcdFxcdH07XFxuXFx0XFx0dW5pZm9ybSBTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93c1sgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIHNhbXBsZXIyRCBwb2ludFNoYWRvd01hcFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcXG5cXHRcXHR2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0c3RydWN0IFBvaW50TGlnaHRTaGFkb3cge1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0JpYXM7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0dmVjMiBzaGFkb3dNYXBTaXplO1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Q2FtZXJhRmFyO1xcblxcdFxcdH07XFxuXFx0XFx0dW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcblxcdGZsb2F0IHRleHR1cmUyRENvbXBhcmUoIHNhbXBsZXIyRCBkZXB0aHMsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUgKSB7XFxuXFx0XFx0cmV0dXJuIHN0ZXAoIGNvbXBhcmUsIHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIGRlcHRocywgdXYgKSApICk7XFxuXFx0fVxcblxcdHZlYzIgdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2ICkge1xcblxcdFxcdHJldHVybiB1bnBhY2tSR0JBVG8ySGFsZiggdGV4dHVyZTJEKCBzaGFkb3csIHV2ICkgKTtcXG5cXHR9XFxuXFx0ZmxvYXQgVlNNU2hhZG93IChzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICl7XFxuXFx0XFx0ZmxvYXQgb2NjbHVzaW9uID0gMS4wO1xcblxcdFxcdHZlYzIgZGlzdHJpYnV0aW9uID0gdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzaGFkb3csIHV2ICk7XFxuXFx0XFx0ZmxvYXQgaGFyZF9zaGFkb3cgPSBzdGVwKCBjb21wYXJlICwgZGlzdHJpYnV0aW9uLnggKTtcXG5cXHRcXHRpZiAoaGFyZF9zaGFkb3cgIT0gMS4wICkge1xcblxcdFxcdFxcdGZsb2F0IGRpc3RhbmNlID0gY29tcGFyZSAtIGRpc3RyaWJ1dGlvbi54IDtcXG5cXHRcXHRcXHRmbG9hdCB2YXJpYW5jZSA9IG1heCggMC4wMDAwMCwgZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSApO1xcblxcdFxcdFxcdGZsb2F0IHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gdmFyaWFuY2UgLyAodmFyaWFuY2UgKyBkaXN0YW5jZSAqIGRpc3RhbmNlICk7XFx0XFx0XFx0c29mdG5lc3NfcHJvYmFiaWxpdHkgPSBjbGFtcCggKCBzb2Z0bmVzc19wcm9iYWJpbGl0eSAtIDAuMyApIC8gKCAwLjk1IC0gMC4zICksIDAuMCwgMS4wICk7XFx0XFx0XFx0b2NjbHVzaW9uID0gY2xhbXAoIG1heCggaGFyZF9zaGFkb3csIHNvZnRuZXNzX3Byb2JhYmlsaXR5ICksIDAuMCwgMS4wICk7XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiBvY2NsdXNpb247XFxuXFx0fVxcblxcdGZsb2F0IGdldFNoYWRvdyggc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjMiBzaGFkb3dNYXBTaXplLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dSYWRpdXMsIHZlYzQgc2hhZG93Q29vcmQgKSB7XFxuXFx0XFx0ZmxvYXQgc2hhZG93ID0gMS4wO1xcblxcdFxcdHNoYWRvd0Nvb3JkLnh5eiAvPSBzaGFkb3dDb29yZC53O1xcblxcdFxcdHNoYWRvd0Nvb3JkLnogKz0gc2hhZG93QmlhcztcXG5cXHRcXHRidmVjNCBpbkZydXN0dW1WZWMgPSBidmVjNCAoIHNoYWRvd0Nvb3JkLnggPj0gMC4wLCBzaGFkb3dDb29yZC54IDw9IDEuMCwgc2hhZG93Q29vcmQueSA+PSAwLjAsIHNoYWRvd0Nvb3JkLnkgPD0gMS4wICk7XFxuXFx0XFx0Ym9vbCBpbkZydXN0dW0gPSBhbGwoIGluRnJ1c3R1bVZlYyApO1xcblxcdFxcdGJ2ZWMyIGZydXN0dW1UZXN0VmVjID0gYnZlYzIoIGluRnJ1c3R1bSwgc2hhZG93Q29vcmQueiA8PSAxLjAgKTtcXG5cXHRcXHRib29sIGZydXN0dW1UZXN0ID0gYWxsKCBmcnVzdHVtVGVzdFZlYyApO1xcblxcdFxcdGlmICggZnJ1c3R1bVRlc3QgKSB7XFxuXFx0XFx0I2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApXFxuXFx0XFx0XFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7XFxuXFx0XFx0XFx0ZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHRmbG9hdCBkeTAgPSAtIHRleGVsU2l6ZS55ICogc2hhZG93UmFkaXVzO1xcblxcdFxcdFxcdGZsb2F0IGR4MSA9ICsgdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0ZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHRmbG9hdCBkeDIgPSBkeDAgLyAyLjA7XFxuXFx0XFx0XFx0ZmxvYXQgZHkyID0gZHkwIC8gMi4wO1xcblxcdFxcdFxcdGZsb2F0IGR4MyA9IGR4MSAvIDIuMDtcXG5cXHRcXHRcXHRmbG9hdCBkeTMgPSBkeTEgLyAyLjA7XFxuXFx0XFx0XFx0c2hhZG93ID0gKFxcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKVxcblxcdFxcdFxcdCkgKiAoIDEuMCAvIDE3LjAgKTtcXG5cXHRcXHQjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCApXFxuXFx0XFx0XFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7XFxuXFx0XFx0XFx0ZmxvYXQgZHggPSB0ZXhlbFNpemUueDtcXG5cXHRcXHRcXHRmbG9hdCBkeSA9IHRleGVsU2l6ZS55O1xcblxcdFxcdFxcdHZlYzIgdXYgPSBzaGFkb3dDb29yZC54eTtcXG5cXHRcXHRcXHR2ZWMyIGYgPSBmcmFjdCggdXYgKiBzaGFkb3dNYXBTaXplICsgMC41ICk7XFxuXFx0XFx0XFx0dXYgLT0gZiAqIHRleGVsU2l6ZTtcXG5cXHRcXHRcXHRzaGFkb3cgPSAoXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHRleGVsU2l6ZSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksIFxcblxcdFxcdFxcdFxcdFxcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksXFxuXFx0XFx0XFx0XFx0XFx0IGYueCApICtcXG5cXHRcXHRcXHRcXHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXFxuXFx0XFx0XFx0XFx0XFx0IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgZHkgKSwgc2hhZG93Q29vcmQueiApLFxcblxcdFxcdFxcdFxcdFxcdCBmLnggKSArXFxuXFx0XFx0XFx0XFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMC4wLCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCBcXG5cXHRcXHRcXHRcXHRcXHQgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLFxcblxcdFxcdFxcdFxcdFxcdCBmLnkgKSArXFxuXFx0XFx0XFx0XFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIFxcblxcdFxcdFxcdFxcdFxcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcXG5cXHRcXHRcXHRcXHRcXHQgZi55ICkgK1xcblxcdFxcdFxcdFxcdG1peCggbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCBcXG5cXHRcXHRcXHRcXHRcXHRcXHQgIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSxcXG5cXHRcXHRcXHRcXHRcXHRcXHQgIGYueCApLFxcblxcdFxcdFxcdFxcdFxcdCBtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXFxuXFx0XFx0XFx0XFx0XFx0XFx0ICB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcXG5cXHRcXHRcXHRcXHRcXHRcXHQgIGYueCApLFxcblxcdFxcdFxcdFxcdFxcdCBmLnkgKVxcblxcdFxcdFxcdCkgKiAoIDEuMCAvIDkuMCApO1xcblxcdFxcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1ZTTSApXFxuXFx0XFx0XFx0c2hhZG93ID0gVlNNU2hhZG93KCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHRzaGFkb3cgPSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiBzaGFkb3c7XFxuXFx0fVxcblxcdHZlYzIgY3ViZVRvVVYoIHZlYzMgdiwgZmxvYXQgdGV4ZWxTaXplWSApIHtcXG5cXHRcXHR2ZWMzIGFic1YgPSBhYnMoIHYgKTtcXG5cXHRcXHRmbG9hdCBzY2FsZVRvQ3ViZSA9IDEuMCAvIG1heCggYWJzVi54LCBtYXgoIGFic1YueSwgYWJzVi56ICkgKTtcXG5cXHRcXHRhYnNWICo9IHNjYWxlVG9DdWJlO1xcblxcdFxcdHYgKj0gc2NhbGVUb0N1YmUgKiAoIDEuMCAtIDIuMCAqIHRleGVsU2l6ZVkgKTtcXG5cXHRcXHR2ZWMyIHBsYW5hciA9IHYueHk7XFxuXFx0XFx0ZmxvYXQgYWxtb3N0QVRleGVsID0gMS41ICogdGV4ZWxTaXplWTtcXG5cXHRcXHRmbG9hdCBhbG1vc3RPbmUgPSAxLjAgLSBhbG1vc3RBVGV4ZWw7XFxuXFx0XFx0aWYgKCBhYnNWLnogPj0gYWxtb3N0T25lICkge1xcblxcdFxcdFxcdGlmICggdi56ID4gMC4wIClcXG5cXHRcXHRcXHRcXHRwbGFuYXIueCA9IDQuMCAtIHYueDtcXG5cXHRcXHR9IGVsc2UgaWYgKCBhYnNWLnggPj0gYWxtb3N0T25lICkge1xcblxcdFxcdFxcdGZsb2F0IHNpZ25YID0gc2lnbiggdi54ICk7XFxuXFx0XFx0XFx0cGxhbmFyLnggPSB2LnogKiBzaWduWCArIDIuMCAqIHNpZ25YO1xcblxcdFxcdH0gZWxzZSBpZiAoIGFic1YueSA+PSBhbG1vc3RPbmUgKSB7XFxuXFx0XFx0XFx0ZmxvYXQgc2lnblkgPSBzaWduKCB2LnkgKTtcXG5cXHRcXHRcXHRwbGFuYXIueCA9IHYueCArIDIuMCAqIHNpZ25ZICsgMi4wO1xcblxcdFxcdFxcdHBsYW5hci55ID0gdi56ICogc2lnblkgLSAyLjA7XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiB2ZWMyKCAwLjEyNSwgMC4yNSApICogcGxhbmFyICsgdmVjMiggMC4zNzUsIDAuNzUgKTtcXG5cXHR9XFxuXFx0ZmxvYXQgZ2V0UG9pbnRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkLCBmbG9hdCBzaGFkb3dDYW1lcmFOZWFyLCBmbG9hdCBzaGFkb3dDYW1lcmFGYXIgKSB7XFxuXFx0XFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvICggc2hhZG93TWFwU2l6ZSAqIHZlYzIoIDQuMCwgMi4wICkgKTtcXG5cXHRcXHR2ZWMzIGxpZ2h0VG9Qb3NpdGlvbiA9IHNoYWRvd0Nvb3JkLnh5ejtcXG5cXHRcXHRmbG9hdCBkcCA9ICggbGVuZ3RoKCBsaWdodFRvUG9zaXRpb24gKSAtIHNoYWRvd0NhbWVyYU5lYXIgKSAvICggc2hhZG93Q2FtZXJhRmFyIC0gc2hhZG93Q2FtZXJhTmVhciApO1xcdFxcdGRwICs9IHNoYWRvd0JpYXM7XFxuXFx0XFx0dmVjMyBiZDNEID0gbm9ybWFsaXplKCBsaWdodFRvUG9zaXRpb24gKTtcXG5cXHRcXHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKVxcblxcdFxcdFxcdHZlYzIgb2Zmc2V0ID0gdmVjMiggLSAxLCAxICkgKiBzaGFkb3dSYWRpdXMgKiB0ZXhlbFNpemUueTtcXG5cXHRcXHRcXHRyZXR1cm4gKFxcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHl5LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXgsIHRleGVsU2l6ZS55ICksIGRwICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXl4LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eHksIHRleGVsU2l6ZS55ICksIGRwICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh4LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKVxcblxcdFxcdFxcdCkgKiAoIDEuMCAvIDkuMCApO1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0cmV0dXJuIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QsIHRleGVsU2l6ZS55ICksIGRwICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0fVxcbiNlbmRpZlwiLHNoYWRvd21hcF9wYXJzX3ZlcnRleDpcIiNpZmRlZiBVU0VfU0hBRE9XTUFQXFxuXFx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIG1hdDQgZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0c3RydWN0IERpcmVjdGlvbmFsTGlnaHRTaGFkb3cge1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0JpYXM7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0dmVjMiBzaGFkb3dNYXBTaXplO1xcblxcdFxcdH07XFxuXFx0XFx0dW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcXG5cXHQjZW5kaWZcXG5cXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIG1hdDQgc3BvdFNoYWRvd01hdHJpeFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0c3RydWN0IFNwb3RMaWdodFNoYWRvdyB7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93QmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHR2ZWMyIHNoYWRvd01hcFNpemU7XFxuXFx0XFx0fTtcXG5cXHRcXHR1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0I2VuZGlmXFxuXFx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFxcdHVuaWZvcm0gbWF0NCBwb2ludFNoYWRvd01hdHJpeFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcXG5cXHRcXHR2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0c3RydWN0IFBvaW50TGlnaHRTaGFkb3cge1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0JpYXM7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcXG5cXHRcXHRcXHRmbG9hdCBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0dmVjMiBzaGFkb3dNYXBTaXplO1xcblxcdFxcdFxcdGZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7XFxuXFx0XFx0XFx0ZmxvYXQgc2hhZG93Q2FtZXJhRmFyO1xcblxcdFxcdH07XFxuXFx0XFx0dW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLHNoYWRvd21hcF92ZXJ0ZXg6XCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFxcdHZlYzMgc2hhZG93V29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xcblxcdFxcdHZlYzQgc2hhZG93V29ybGRQb3NpdGlvbjtcXG5cXHQjZW5kaWZcXG5cXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF0uc2hhZG93Tm9ybWFsQmlhcywgMCApO1xcblxcdFxcdHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gPSBkaXJlY3Rpb25hbFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG5cXHQjZW5kaWZcXG5cXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcXG5cXHRcXHRzaGFkb3dXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbiArIHZlYzQoIHNoYWRvd1dvcmxkTm9ybWFsICogc3BvdExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcXG5cXHRcXHR2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gPSBzcG90U2hhZG93TWF0cml4WyBpIF0gKiBzaGFkb3dXb3JsZFBvc2l0aW9uO1xcblxcdH1cXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHBvaW50TGlnaHRTaGFkb3dzWyBpIF0uc2hhZG93Tm9ybWFsQmlhcywgMCApO1xcblxcdFxcdHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0gPSBwb2ludFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcXG5cXHR9XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ6XCJmbG9hdCBnZXRTaGFkb3dNYXNrKCkge1xcblxcdGZsb2F0IHNoYWRvdyA9IDEuMDtcXG5cXHQjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0RGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0O1xcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0ZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF07XFxuXFx0XFx0c2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93TWFwU2l6ZSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dCaWFzLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd1JhZGl1cywgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xcblxcdH1cXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHQ7XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdO1xcblxcdFxcdHNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodC5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHQuc2hhZG93Qmlhcywgc3BvdExpZ2h0LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XFxuXFx0fVxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuXFx0I2VuZGlmXFxuXFx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFBvaW50TGlnaHRTaGFkb3cgcG9pbnRMaWdodDtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07XFxuXFx0XFx0c2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0LnNoYWRvd0JpYXMsIHBvaW50TGlnaHQuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7XFxuXFx0fVxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuXFx0I2VuZGlmXFxuXFx0I2VuZGlmXFxuXFx0cmV0dXJuIHNoYWRvdztcXG59XCIsc2tpbmJhc2VfdmVydGV4OlwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcdG1hdDQgYm9uZU1hdFggPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueCApO1xcblxcdG1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApO1xcblxcdG1hdDQgYm9uZU1hdFogPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueiApO1xcblxcdG1hdDQgYm9uZU1hdFcgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgudyApO1xcbiNlbmRpZlwiLHNraW5uaW5nX3BhcnNfdmVydGV4OlwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcdHVuaWZvcm0gbWF0NCBiaW5kTWF0cml4O1xcblxcdHVuaWZvcm0gbWF0NCBiaW5kTWF0cml4SW52ZXJzZTtcXG5cXHQjaWZkZWYgQk9ORV9URVhUVVJFXFxuXFx0XFx0dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7XFxuXFx0XFx0dW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplO1xcblxcdFxcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcXG5cXHRcXHRcXHRmbG9hdCBqID0gaSAqIDQuMDtcXG5cXHRcXHRcXHRmbG9hdCB4ID0gbW9kKCBqLCBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTtcXG5cXHRcXHRcXHRmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTtcXG5cXHRcXHRcXHRmbG9hdCBkeCA9IDEuMCAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKTtcXG5cXHRcXHRcXHRmbG9hdCBkeSA9IDEuMCAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKTtcXG5cXHRcXHRcXHR5ID0gZHkgKiAoIHkgKyAwLjUgKTtcXG5cXHRcXHRcXHR2ZWM0IHYxID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAwLjUgKSwgeSApICk7XFxuXFx0XFx0XFx0dmVjNCB2MiA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMS41ICksIHkgKSApO1xcblxcdFxcdFxcdHZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTtcXG5cXHRcXHRcXHR2ZWM0IHY0ID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAzLjUgKSwgeSApICk7XFxuXFx0XFx0XFx0bWF0NCBib25lID0gbWF0NCggdjEsIHYyLCB2MywgdjQgKTtcXG5cXHRcXHRcXHRyZXR1cm4gYm9uZTtcXG5cXHRcXHR9XFxuXFx0I2Vsc2VcXG5cXHRcXHR1bmlmb3JtIG1hdDQgYm9uZU1hdHJpY2VzWyBNQVhfQk9ORVMgXTtcXG5cXHRcXHRtYXQ0IGdldEJvbmVNYXRyaXgoIGNvbnN0IGluIGZsb2F0IGkgKSB7XFxuXFx0XFx0XFx0bWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTtcXG5cXHRcXHRcXHRyZXR1cm4gYm9uZTtcXG5cXHRcXHR9XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsc2tpbm5pbmdfdmVydGV4OlwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcdHZlYzQgc2tpblZlcnRleCA9IGJpbmRNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7XFxuXFx0dmVjNCBza2lubmVkID0gdmVjNCggMC4wICk7XFxuXFx0c2tpbm5lZCArPSBib25lTWF0WCAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lng7XFxuXFx0c2tpbm5lZCArPSBib25lTWF0WSAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnk7XFxuXFx0c2tpbm5lZCArPSBib25lTWF0WiAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lno7XFxuXFx0c2tpbm5lZCArPSBib25lTWF0VyAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnc7XFxuXFx0dHJhbnNmb3JtZWQgPSAoIGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZCApLnh5ejtcXG4jZW5kaWZcIixza2lubm9ybWFsX3ZlcnRleDpcIiNpZmRlZiBVU0VfU0tJTk5JTkdcXG5cXHRtYXQ0IHNraW5NYXRyaXggPSBtYXQ0KCAwLjAgKTtcXG5cXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueCAqIGJvbmVNYXRYO1xcblxcdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC55ICogYm9uZU1hdFk7XFxuXFx0c2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnogKiBib25lTWF0WjtcXG5cXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQudyAqIGJvbmVNYXRXO1xcblxcdHNraW5NYXRyaXggPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4O1xcblxcdG9iamVjdE5vcm1hbCA9IHZlYzQoIHNraW5NYXRyaXggKiB2ZWM0KCBvYmplY3ROb3JtYWwsIDAuMCApICkueHl6O1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdG9iamVjdFRhbmdlbnQgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsc3BlY3VsYXJtYXBfZnJhZ21lbnQ6XCJmbG9hdCBzcGVjdWxhclN0cmVuZ3RoO1xcbiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVBcXG5cXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTtcXG5cXHRzcGVjdWxhclN0cmVuZ3RoID0gdGV4ZWxTcGVjdWxhci5yO1xcbiNlbHNlXFxuXFx0c3BlY3VsYXJTdHJlbmd0aCA9IDEuMDtcXG4jZW5kaWZcIixzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwO1xcbiNlbmRpZlwiLHRvbmVtYXBwaW5nX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFRPTkVfTUFQUElORyApXFxuXFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7XFxuI2VuZGlmXCIsdG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDpcIiNpZm5kZWYgc2F0dXJhdGVcXG4jZGVmaW5lIHNhdHVyYXRlKGEpIGNsYW1wKCBhLCAwLjAsIDEuMCApXFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ0V4cG9zdXJlO1xcbnZlYzMgTGluZWFyVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XFxuXFx0cmV0dXJuIHRvbmVNYXBwaW5nRXhwb3N1cmUgKiBjb2xvcjtcXG59XFxudmVjMyBSZWluaGFyZFRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xcblxcdGNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7XFxuXFx0cmV0dXJuIHNhdHVyYXRlKCBjb2xvciAvICggdmVjMyggMS4wICkgKyBjb2xvciApICk7XFxufVxcbnZlYzMgT3B0aW1pemVkQ2luZW9uVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XFxuXFx0Y29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTtcXG5cXHRjb2xvciA9IG1heCggdmVjMyggMC4wICksIGNvbG9yIC0gMC4wMDQgKTtcXG5cXHRyZXR1cm4gcG93KCAoIGNvbG9yICogKCA2LjIgKiBjb2xvciArIDAuNSApICkgLyAoIGNvbG9yICogKCA2LjIgKiBjb2xvciArIDEuNyApICsgMC4wNiApLCB2ZWMzKCAyLjIgKSApO1xcbn1cXG52ZWMzIFJSVEFuZE9EVEZpdCggdmVjMyB2ICkge1xcblxcdHZlYzMgYSA9IHYgKiAoIHYgKyAwLjAyNDU3ODYgKSAtIDAuMDAwMDkwNTM3O1xcblxcdHZlYzMgYiA9IHYgKiAoIDAuOTgzNzI5ICogdiArIDAuNDMyOTUxMCApICsgMC4yMzgwODE7XFxuXFx0cmV0dXJuIGEgLyBiO1xcbn1cXG52ZWMzIEFDRVNGaWxtaWNUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcXG5cXHRjb25zdCBtYXQzIEFDRVNJbnB1dE1hdCA9IG1hdDMoXFxuXFx0XFx0dmVjMyggMC41OTcxOSwgMC4wNzYwMCwgMC4wMjg0MCApLFxcdFxcdHZlYzMoIDAuMzU0NTgsIDAuOTA4MzQsIDAuMTMzODMgKSxcXG5cXHRcXHR2ZWMzKCAwLjA0ODIzLCAwLjAxNTY2LCAwLjgzNzc3IClcXG5cXHQpO1xcblxcdGNvbnN0IG1hdDMgQUNFU091dHB1dE1hdCA9IG1hdDMoXFxuXFx0XFx0dmVjMyggIDEuNjA0NzUsIC0wLjEwMjA4LCAtMC4wMDMyNyApLFxcdFxcdHZlYzMoIC0wLjUzMTA4LCAgMS4xMDgxMywgLTAuMDcyNzYgKSxcXG5cXHRcXHR2ZWMzKCAtMC4wNzM2NywgLTAuMDA2MDUsICAxLjA3NjAyIClcXG5cXHQpO1xcblxcdGNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmUgLyAwLjY7XFxuXFx0Y29sb3IgPSBBQ0VTSW5wdXRNYXQgKiBjb2xvcjtcXG5cXHRjb2xvciA9IFJSVEFuZE9EVEZpdCggY29sb3IgKTtcXG5cXHRjb2xvciA9IEFDRVNPdXRwdXRNYXQgKiBjb2xvcjtcXG5cXHRyZXR1cm4gc2F0dXJhdGUoIGNvbG9yICk7XFxufVxcbnZlYzMgQ3VzdG9tVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7IHJldHVybiBjb2xvcjsgfVwiLHRyYW5zbWlzc2lvbm1hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfVFJBTlNNSVNTSU9OTUFQXFxuXFx0dG90YWxUcmFuc21pc3Npb24gKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7XFxuI2VuZGlmXCIsdHJhbnNtaXNzaW9ubWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIHRyYW5zbWlzc2lvbk1hcDtcXG4jZW5kaWZcIix1dl9wYXJzX2ZyYWdtZW50OlwiI2lmICggZGVmaW5lZCggVVNFX1VWICkgJiYgISBkZWZpbmVkKCBVVlNfVkVSVEVYX09OTFkgKSApXFxuXFx0dmFyeWluZyB2ZWMyIHZVdjtcXG4jZW5kaWZcIix1dl9wYXJzX3ZlcnRleDpcIiNpZmRlZiBVU0VfVVZcXG5cXHQjaWZkZWYgVVZTX1ZFUlRFWF9PTkxZXFxuXFx0XFx0dmVjMiB2VXY7XFxuXFx0I2Vsc2VcXG5cXHRcXHR2YXJ5aW5nIHZlYzIgdlV2O1xcblxcdCNlbmRpZlxcblxcdHVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcXG4jZW5kaWZcIix1dl92ZXJ0ZXg6XCIjaWZkZWYgVVNFX1VWXFxuXFx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcXG4jZW5kaWZcIix1djJfcGFyc19mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxcblxcdHZhcnlpbmcgdmVjMiB2VXYyO1xcbiNlbmRpZlwiLHV2Ml9wYXJzX3ZlcnRleDpcIiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxcblxcdGF0dHJpYnV0ZSB2ZWMyIHV2MjtcXG5cXHR2YXJ5aW5nIHZlYzIgdlV2MjtcXG5cXHR1bmlmb3JtIG1hdDMgdXYyVHJhbnNmb3JtO1xcbiNlbmRpZlwiLHV2Ml92ZXJ0ZXg6XCIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcXG5cXHR2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5O1xcbiNlbmRpZlwiLHdvcmxkcG9zX3ZlcnRleDpcIiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgfHwgZGVmaW5lZCggRElTVEFOQ0UgKSB8fCBkZWZpbmVkICggVVNFX1NIQURPV01BUCApXFxuXFx0dmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xcblxcdCNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xcblxcdFxcdHdvcmxkUG9zaXRpb24gPSBpbnN0YW5jZU1hdHJpeCAqIHdvcmxkUG9zaXRpb247XFxuXFx0I2VuZGlmXFxuXFx0d29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjtcXG4jZW5kaWZcIixiYWNrZ3JvdW5kX2ZyYWc6XCJ1bmlmb3JtIHNhbXBsZXIyRCB0MkQ7XFxudmFyeWluZyB2ZWMyIHZVdjtcXG52b2lkIG1haW4oKSB7XFxuXFx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdDJELCB2VXYgKTtcXG5cXHRnbF9GcmFnQ29sb3IgPSBtYXBUZXhlbFRvTGluZWFyKCB0ZXhDb2xvciApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50Plxcbn1cIixiYWNrZ3JvdW5kX3ZlcnQ6XCJ2YXJ5aW5nIHZlYzIgdlV2O1xcbnVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcXG52b2lkIG1haW4oKSB7XFxuXFx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcXG5cXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApO1xcbn1cIixjdWJlX2ZyYWc6XCIjaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdHZlYzMgdlJlZmxlY3QgPSB2V29ybGREaXJlY3Rpb247XFxuXFx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cXG5cXHRnbF9GcmFnQ29sb3IgPSBlbnZDb2xvcjtcXG5cXHRnbF9GcmFnQ29sb3IuYSAqPSBvcGFjaXR5O1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50Plxcbn1cIixjdWJlX3ZlcnQ6XCJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjb21tb24+XFxudm9pZCBtYWluKCkge1xcblxcdHZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7XFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0Z2xfUG9zaXRpb24ueiA9IGdsX1Bvc2l0aW9uLnc7XFxufVwiLGRlcHRoX2ZyYWc6XCIjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwXFxuXFx0dW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHBhY2tpbmc+XFxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52YXJ5aW5nIHZlYzIgdkhpZ2hQcmVjaXNpb25aVztcXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApO1xcblxcdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcXG5cXHRcXHRkaWZmdXNlQ29sb3IuYSA9IG9wYWNpdHk7XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0ZmxvYXQgZnJhZ0Nvb3JkWiA9IDAuNSAqIHZIaWdoUHJlY2lzaW9uWldbMF0gLyB2SGlnaFByZWNpc2lvblpXWzFdICsgMC41O1xcblxcdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKCAxLjAgLSBmcmFnQ29vcmRaICksIG9wYWNpdHkgKTtcXG5cXHQjZWxpZiBERVBUSF9QQUNLSU5HID09IDMyMDFcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGZyYWdDb29yZFogKTtcXG5cXHQjZW5kaWZcXG59XCIsZGVwdGhfdmVydDpcIiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52YXJ5aW5nIHZlYzIgdkhpZ2hQcmVjaXNpb25aVztcXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxcblxcdCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXFxuXFx0XFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHRcXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdFxcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjZW5kaWZcXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHR2SGlnaFByZWNpc2lvblpXID0gZ2xfUG9zaXRpb24uenc7XFxufVwiLGRpc3RhbmNlUkdCQV9mcmFnOlwiI2RlZmluZSBESVNUQU5DRVxcbnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjtcXG51bmlmb3JtIGZsb2F0IG5lYXJEaXN0YW5jZTtcXG51bmlmb3JtIGZsb2F0IGZhckRpc3RhbmNlO1xcbnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluICgpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggMS4wICk7XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHRmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7XFxuXFx0ZGlzdCA9ICggZGlzdCAtIG5lYXJEaXN0YW5jZSApIC8gKCBmYXJEaXN0YW5jZSAtIG5lYXJEaXN0YW5jZSApO1xcblxcdGRpc3QgPSBzYXR1cmF0ZSggZGlzdCApO1xcblxcdGdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApO1xcbn1cIixkaXN0YW5jZVJHQkFfdmVydDpcIiNkZWZpbmUgRElTVEFOQ0VcXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxcblxcdFxcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0XFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cXG5cXHRcXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxuXFx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcXG59XCIsZXF1aXJlY3RfZnJhZzpcInVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcXG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjb21tb24+XFxudm9pZCBtYWluKCkge1xcblxcdHZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTtcXG5cXHR2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7XFxuXFx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApO1xcblxcdGdsX0ZyYWdDb2xvciA9IG1hcFRleGVsVG9MaW5lYXIoIHRleENvbG9yICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxufVwiLGVxdWlyZWN0X3ZlcnQ6XCJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjb21tb24+XFxudm9pZCBtYWluKCkge1xcblxcdHZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7XFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxufVwiLGxpbmVkYXNoZWRfZnJhZzpcInVuaWZvcm0gdmVjMyBkaWZmdXNlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG51bmlmb3JtIGZsb2F0IGRhc2hTaXplO1xcbnVuaWZvcm0gZmxvYXQgdG90YWxTaXplO1xcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0aWYgKCBtb2QoIHZMaW5lRGlzdGFuY2UsIHRvdGFsU2l6ZSApID4gZGFzaFNpemUgKSB7XFxuXFx0XFx0ZGlzY2FyZDtcXG5cXHR9XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHRvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XFxufVwiLGxpbmVkYXNoZWRfdmVydDpcInVuaWZvcm0gZmxvYXQgc2NhbGU7XFxuYXR0cmlidXRlIGZsb2F0IGxpbmVEaXN0YW5jZTtcXG52YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdHZMaW5lRGlzdGFuY2UgPSBzY2FsZSAqIGxpbmVEaXN0YW5jZTtcXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cXG59XCIsbWVzaGJhc2ljX2ZyYWc6XCJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XFxuXFx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcXG5cXHQjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFx0XFxuXFx0XFx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xcblxcdCNlbHNlXFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IHZlYzMoIDEuMCApO1xcblxcdCNlbmRpZlxcblxcdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gZGlmZnVzZUNvbG9yLnJnYjtcXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2U7XFxuXFx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cXG59XCIsbWVzaGJhc2ljX3ZlcnQ6XCIjaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2lmZGVmIFVTRV9FTlZNQVBcXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG5cXHQjZW5kaWZcXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixtZXNobGFtYmVydF9mcmFnOlwidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XFxudmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250O1xcbiNpZmRlZiBET1VCTEVfU0lERURcXG5cXHR2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjaztcXG5cXHR2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjaztcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJzZGZzPlxcbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xcblxcdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XFxuXFx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cXG5cXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9ICggZ2xfRnJvbnRGYWNpbmcgKSA/IHZJbmRpcmVjdEZyb250IDogdkluZGlyZWN0QmFjaztcXG5cXHQjZWxzZVxcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2SW5kaXJlY3RGcm9udDtcXG5cXHQjZW5kaWZcXG5cXHQjaW5jbHVkZSA8bGlnaHRtYXBfZnJhZ21lbnQ+XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBkaWZmdXNlQ29sb3IucmdiICk7XFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2TGlnaHRGcm9udCA6IHZMaWdodEJhY2s7XFxuXFx0I2Vsc2VcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gdkxpZ2h0RnJvbnQ7XFxuXFx0I2VuZGlmXFxuXFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0RpZmZ1c2VfTGFtYmVydCggZGlmZnVzZUNvbG9yLnJnYiApICogZ2V0U2hhZG93TWFzaygpO1xcblxcdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xcblxcdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XFxufVwiLG1lc2hsYW1iZXJ0X3ZlcnQ6XCIjZGVmaW5lIExBTUJFUlRcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XFxudmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250O1xcbiNpZmRlZiBET1VCTEVfU0lERURcXG5cXHR2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjaztcXG5cXHR2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjaztcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGJzZGZzPlxcbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cXG59XCIsbWVzaG1hdGNhcF9mcmFnOlwiI2RlZmluZSBNQVRDQVBcXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwO1xcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XFxuXFx0dmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7XFxuXFx0dmVjMyB4ID0gbm9ybWFsaXplKCB2ZWMzKCB2aWV3RGlyLnosIDAuMCwgLSB2aWV3RGlyLnggKSApO1xcblxcdHZlYzMgeSA9IGNyb3NzKCB2aWV3RGlyLCB4ICk7XFxuXFx0dmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41O1xcblxcdCNpZmRlZiBVU0VfTUFUQ0FQXFxuXFx0XFx0dmVjNCBtYXRjYXBDb2xvciA9IHRleHR1cmUyRCggbWF0Y2FwLCB1diApO1xcblxcdFxcdG1hdGNhcENvbG9yID0gbWF0Y2FwVGV4ZWxUb0xpbmVhciggbWF0Y2FwQ29sb3IgKTtcXG5cXHQjZWxzZVxcblxcdFxcdHZlYzQgbWF0Y2FwQ29sb3IgPSB2ZWM0KCAxLjAgKTtcXG5cXHQjZW5kaWZcXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiICogbWF0Y2FwQ29sb3IucmdiO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNobWF0Y2FwX3ZlcnQ6XCIjZGVmaW5lIE1BVENBUFxcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcblxcdCNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHRcXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxcblxcdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xcbn1cIixtZXNodG9vbl9mcmFnOlwiI2RlZmluZSBUT09OXFxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcXG5cXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c190b29uX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxcblxcdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNodG9vbl92ZXJ0OlwiI2RlZmluZSBUT09OXFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcbiNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLG1lc2hwaG9uZ19mcmFnOlwiI2RlZmluZSBQSE9OR1xcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcXG51bmlmb3JtIHZlYzMgc3BlY3VsYXI7XFxudW5pZm9ybSBmbG9hdCBzaGluaW5lc3M7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHBhY2tpbmc+XFxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJzZGZzPlxcbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cXG4jaW5jbHVkZSA8bGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xcblxcdHZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19waG9uZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD5cXG5cXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcXG5cXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNocGhvbmdfdmVydDpcIiNkZWZpbmUgUEhPTkdcXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuI2VuZGlmXFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dk5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcXG4jZW5kaWZcXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixtZXNocGh5c2ljYWxfZnJhZzpcIiNkZWZpbmUgU1RBTkRBUkRcXG4jaWZkZWYgUEhZU0lDQUxcXG5cXHQjZGVmaW5lIFJFRkxFQ1RJVklUWVxcblxcdCNkZWZpbmUgQ0xFQVJDT0FUXFxuXFx0I2RlZmluZSBUUkFOU01JU1NJT05cXG4jZW5kaWZcXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XFxudW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7XFxudW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNpZmRlZiBUUkFOU01JU1NJT05cXG5cXHR1bmlmb3JtIGZsb2F0IHRyYW5zbWlzc2lvbjtcXG4jZW5kaWZcXG4jaWZkZWYgUkVGTEVDVElWSVRZXFxuXFx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIENMRUFSQ09BVFxcblxcdHVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0O1xcblxcdHVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xcbiNlbmRpZlxcbiNpZmRlZiBVU0VfU0hFRU5cXG5cXHR1bmlmb3JtIHZlYzMgc2hlZW47XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx0cmFuc21pc3Npb25tYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xcblxcdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XFxuXFx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcXG5cXHQjaWZkZWYgVFJBTlNNSVNTSU9OXFxuXFx0XFx0ZmxvYXQgdG90YWxUcmFuc21pc3Npb24gPSB0cmFuc21pc3Npb247XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1ldGFsbmVzc21hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPlxcblxcdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8dHJhbnNtaXNzaW9ubWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XFxuXFx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XFxuXFx0I2lmZGVmIFRSQU5TTUlTU0lPTlxcblxcdFxcdGRpZmZ1c2VDb2xvci5hICo9IG1peCggc2F0dXJhdGUoIDEuIC0gdG90YWxUcmFuc21pc3Npb24gKyBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKSApLCAxLjAsIG1ldGFsbmVzcyApO1xcblxcdCNlbmRpZlxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNocGh5c2ljYWxfdmVydDpcIiNkZWZpbmUgU1RBTkRBUkRcXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcXG5cXHRcXHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLG5vcm1hbF9mcmFnOlwiI2RlZmluZSBOT1JNQUxcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcXG5cXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jZW5kaWZcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggcGFja05vcm1hbFRvUkdCKCBub3JtYWwgKSwgb3BhY2l0eSApO1xcbn1cIixub3JtYWxfdmVydDpcIiNkZWZpbmUgTk9STUFMXFxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcXG5cXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jZW5kaWZcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcXG5cXHRcXHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXFxuXFx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XFxuI2VuZGlmXFxufVwiLHBvaW50c19mcmFnOlwidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfcGFydGljbGVfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50Plxcbn1cIixwb2ludHNfdmVydDpcInVuaWZvcm0gZmxvYXQgc2l6ZTtcXG51bmlmb3JtIGZsb2F0IHNjYWxlO1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0Z2xfUG9pbnRTaXplID0gc2l6ZTtcXG5cXHQjaWZkZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxcblxcdFxcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcXG5cXHRcXHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBnbF9Qb2ludFNpemUgKj0gKCBzY2FsZSAvIC0gbXZQb3NpdGlvbi56ICk7XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixzaGFkb3dfZnJhZzpcInVuaWZvcm0gdmVjMyBjb2xvcjtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8cGFja2luZz5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJzZGZzPlxcbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIG9wYWNpdHkgKiAoIDEuMCAtIGdldFNoYWRvd01hc2soKSApICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG59XCIsc2hhZG93X3ZlcnQ6XCIjaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixzcHJpdGVfZnJhZzpcInVuaWZvcm0gdmVjMyBkaWZmdXNlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxcblxcdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG59XCIsc3ByaXRlX3ZlcnQ6XCJ1bmlmb3JtIGZsb2F0IHJvdGF0aW9uO1xcbnVuaWZvcm0gdmVjMiBjZW50ZXI7XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcXG5cXHR2ZWMyIHNjYWxlO1xcblxcdHNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApO1xcblxcdHNjYWxlLnkgPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAxIF0ueCwgbW9kZWxNYXRyaXhbIDEgXS55LCBtb2RlbE1hdHJpeFsgMSBdLnogKSApO1xcblxcdCNpZm5kZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxcblxcdFxcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcXG5cXHRcXHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBzY2FsZSAqPSAtIG12UG9zaXRpb24uejtcXG5cXHQjZW5kaWZcXG5cXHR2ZWMyIGFsaWduZWRQb3NpdGlvbiA9ICggcG9zaXRpb24ueHkgLSAoIGNlbnRlciAtIHZlYzIoIDAuNSApICkgKSAqIHNjYWxlO1xcblxcdHZlYzIgcm90YXRlZFBvc2l0aW9uO1xcblxcdHJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcXG5cXHRyb3RhdGVkUG9zaXRpb24ueSA9IHNpbiggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi54ICsgY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnk7XFxuXFx0bXZQb3NpdGlvbi54eSArPSByb3RhdGVkUG9zaXRpb247XFxuXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIn0sT289e2NvbW1vbjp7ZGlmZnVzZTp7dmFsdWU6bmV3IHlpKDE1NjU4NzM0KX0sb3BhY2l0eTp7dmFsdWU6MX0sbWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IEhufSx1djJUcmFuc2Zvcm06e3ZhbHVlOm5ldyBIbn0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9fSxzcGVjdWxhcm1hcDp7c3BlY3VsYXJNYXA6e3ZhbHVlOm51bGx9fSxlbnZtYXA6e2Vudk1hcDp7dmFsdWU6bnVsbH0sZmxpcEVudk1hcDp7dmFsdWU6LTF9LHJlZmxlY3Rpdml0eTp7dmFsdWU6MX0scmVmcmFjdGlvblJhdGlvOnt2YWx1ZTouOTh9LG1heE1pcExldmVsOnt2YWx1ZTowfX0sYW9tYXA6e2FvTWFwOnt2YWx1ZTpudWxsfSxhb01hcEludGVuc2l0eTp7dmFsdWU6MX19LGxpZ2h0bWFwOntsaWdodE1hcDp7dmFsdWU6bnVsbH0sbGlnaHRNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxlbWlzc2l2ZW1hcDp7ZW1pc3NpdmVNYXA6e3ZhbHVlOm51bGx9fSxidW1wbWFwOntidW1wTWFwOnt2YWx1ZTpudWxsfSxidW1wU2NhbGU6e3ZhbHVlOjF9fSxub3JtYWxtYXA6e25vcm1hbE1hcDp7dmFsdWU6bnVsbH0sbm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBHbigxLDEpfX0sZGlzcGxhY2VtZW50bWFwOntkaXNwbGFjZW1lbnRNYXA6e3ZhbHVlOm51bGx9LGRpc3BsYWNlbWVudFNjYWxlOnt2YWx1ZToxfSxkaXNwbGFjZW1lbnRCaWFzOnt2YWx1ZTowfX0scm91Z2huZXNzbWFwOntyb3VnaG5lc3NNYXA6e3ZhbHVlOm51bGx9fSxtZXRhbG5lc3NtYXA6e21ldGFsbmVzc01hcDp7dmFsdWU6bnVsbH19LGdyYWRpZW50bWFwOntncmFkaWVudE1hcDp7dmFsdWU6bnVsbH19LGZvZzp7Zm9nRGVuc2l0eTp7dmFsdWU6MjVlLTV9LGZvZ05lYXI6e3ZhbHVlOjF9LGZvZ0Zhcjp7dmFsdWU6MmUzfSxmb2dDb2xvcjp7dmFsdWU6bmV3IHlpKDE2Nzc3MjE1KX19LGxpZ2h0czp7YW1iaWVudExpZ2h0Q29sb3I6e3ZhbHVlOltdfSxsaWdodFByb2JlOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxjb2xvcjp7fX19LGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntzaGFkb3dCaWFzOnt9LHNoYWRvd05vcm1hbEJpYXM6e30sc2hhZG93UmFkaXVzOnt9LHNoYWRvd01hcFNpemU6e319fSxkaXJlY3Rpb25hbFNoYWRvd01hcDp7dmFsdWU6W119LGRpcmVjdGlvbmFsU2hhZG93TWF0cml4Ont2YWx1ZTpbXX0sc3BvdExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sZGlyZWN0aW9uOnt9LGRpc3RhbmNlOnt9LGNvbmVDb3M6e30scGVudW1icmFDb3M6e30sZGVjYXk6e319fSxzcG90TGlnaHRTaGFkb3dzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntzaGFkb3dCaWFzOnt9LHNoYWRvd05vcm1hbEJpYXM6e30sc2hhZG93UmFkaXVzOnt9LHNoYWRvd01hcFNpemU6e319fSxzcG90U2hhZG93TWFwOnt2YWx1ZTpbXX0sc3BvdFNoYWRvd01hdHJpeDp7dmFsdWU6W119LHBvaW50TGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSxkZWNheTp7fSxkaXN0YW5jZTp7fX19LHBvaW50TGlnaHRTaGFkb3dzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntzaGFkb3dCaWFzOnt9LHNoYWRvd05vcm1hbEJpYXM6e30sc2hhZG93UmFkaXVzOnt9LHNoYWRvd01hcFNpemU6e30sc2hhZG93Q2FtZXJhTmVhcjp7fSxzaGFkb3dDYW1lcmFGYXI6e319fSxwb2ludFNoYWRvd01hcDp7dmFsdWU6W119LHBvaW50U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0saGVtaXNwaGVyZUxpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LHNreUNvbG9yOnt9LGdyb3VuZENvbG9yOnt9fX0scmVjdEFyZWFMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LHdpZHRoOnt9LGhlaWdodDp7fX19LGx0Y18xOnt2YWx1ZTpudWxsfSxsdGNfMjp7dmFsdWU6bnVsbH19LHBvaW50czp7ZGlmZnVzZTp7dmFsdWU6bmV3IHlpKDE1NjU4NzM0KX0sb3BhY2l0eTp7dmFsdWU6MX0sc2l6ZTp7dmFsdWU6MX0sc2NhbGU6e3ZhbHVlOjF9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgSG59fSxzcHJpdGU6e2RpZmZ1c2U6e3ZhbHVlOm5ldyB5aSgxNTY1ODczNCl9LG9wYWNpdHk6e3ZhbHVlOjF9LGNlbnRlcjp7dmFsdWU6bmV3IEduKC41LC41KX0scm90YXRpb246e3ZhbHVlOjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgSG59fX0sTm89e2Jhc2ljOnt1bmlmb3Jtczp2byhbT28uY29tbW9uLE9vLnNwZWN1bGFybWFwLE9vLmVudm1hcCxPby5hb21hcCxPby5saWdodG1hcCxPby5mb2ddKSx2ZXJ0ZXhTaGFkZXI6SW8ubWVzaGJhc2ljX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8ubWVzaGJhc2ljX2ZyYWd9LGxhbWJlcnQ6e3VuaWZvcm1zOnZvKFtPby5jb21tb24sT28uc3BlY3VsYXJtYXAsT28uZW52bWFwLE9vLmFvbWFwLE9vLmxpZ2h0bWFwLE9vLmVtaXNzaXZlbWFwLE9vLmZvZyxPby5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgeWkoMCl9fV0pLHZlcnRleFNoYWRlcjpJby5tZXNobGFtYmVydF92ZXJ0LGZyYWdtZW50U2hhZGVyOklvLm1lc2hsYW1iZXJ0X2ZyYWd9LHBob25nOnt1bmlmb3Jtczp2byhbT28uY29tbW9uLE9vLnNwZWN1bGFybWFwLE9vLmVudm1hcCxPby5hb21hcCxPby5saWdodG1hcCxPby5lbWlzc2l2ZW1hcCxPby5idW1wbWFwLE9vLm5vcm1hbG1hcCxPby5kaXNwbGFjZW1lbnRtYXAsT28uZm9nLE9vLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyB5aSgwKX0sc3BlY3VsYXI6e3ZhbHVlOm5ldyB5aSgxMTE4NDgxKX0sc2hpbmluZXNzOnt2YWx1ZTozMH19XSksdmVydGV4U2hhZGVyOklvLm1lc2hwaG9uZ192ZXJ0LGZyYWdtZW50U2hhZGVyOklvLm1lc2hwaG9uZ19mcmFnfSxzdGFuZGFyZDp7dW5pZm9ybXM6dm8oW09vLmNvbW1vbixPby5lbnZtYXAsT28uYW9tYXAsT28ubGlnaHRtYXAsT28uZW1pc3NpdmVtYXAsT28uYnVtcG1hcCxPby5ub3JtYWxtYXAsT28uZGlzcGxhY2VtZW50bWFwLE9vLnJvdWdobmVzc21hcCxPby5tZXRhbG5lc3NtYXAsT28uZm9nLE9vLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyB5aSgwKX0scm91Z2huZXNzOnt2YWx1ZToxfSxtZXRhbG5lc3M6e3ZhbHVlOjB9LGVudk1hcEludGVuc2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOklvLm1lc2hwaHlzaWNhbF92ZXJ0LGZyYWdtZW50U2hhZGVyOklvLm1lc2hwaHlzaWNhbF9mcmFnfSx0b29uOnt1bmlmb3Jtczp2byhbT28uY29tbW9uLE9vLmFvbWFwLE9vLmxpZ2h0bWFwLE9vLmVtaXNzaXZlbWFwLE9vLmJ1bXBtYXAsT28ubm9ybWFsbWFwLE9vLmRpc3BsYWNlbWVudG1hcCxPby5ncmFkaWVudG1hcCxPby5mb2csT28ubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHlpKDApfX1dKSx2ZXJ0ZXhTaGFkZXI6SW8ubWVzaHRvb25fdmVydCxmcmFnbWVudFNoYWRlcjpJby5tZXNodG9vbl9mcmFnfSxtYXRjYXA6e3VuaWZvcm1zOnZvKFtPby5jb21tb24sT28uYnVtcG1hcCxPby5ub3JtYWxtYXAsT28uZGlzcGxhY2VtZW50bWFwLE9vLmZvZyx7bWF0Y2FwOnt2YWx1ZTpudWxsfX1dKSx2ZXJ0ZXhTaGFkZXI6SW8ubWVzaG1hdGNhcF92ZXJ0LGZyYWdtZW50U2hhZGVyOklvLm1lc2htYXRjYXBfZnJhZ30scG9pbnRzOnt1bmlmb3Jtczp2byhbT28ucG9pbnRzLE9vLmZvZ10pLHZlcnRleFNoYWRlcjpJby5wb2ludHNfdmVydCxmcmFnbWVudFNoYWRlcjpJby5wb2ludHNfZnJhZ30sZGFzaGVkOnt1bmlmb3Jtczp2byhbT28uY29tbW9uLE9vLmZvZyx7c2NhbGU6e3ZhbHVlOjF9LGRhc2hTaXplOnt2YWx1ZToxfSx0b3RhbFNpemU6e3ZhbHVlOjJ9fV0pLHZlcnRleFNoYWRlcjpJby5saW5lZGFzaGVkX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8ubGluZWRhc2hlZF9mcmFnfSxkZXB0aDp7dW5pZm9ybXM6dm8oW09vLmNvbW1vbixPby5kaXNwbGFjZW1lbnRtYXBdKSx2ZXJ0ZXhTaGFkZXI6SW8uZGVwdGhfdmVydCxmcmFnbWVudFNoYWRlcjpJby5kZXB0aF9mcmFnfSxub3JtYWw6e3VuaWZvcm1zOnZvKFtPby5jb21tb24sT28uYnVtcG1hcCxPby5ub3JtYWxtYXAsT28uZGlzcGxhY2VtZW50bWFwLHtvcGFjaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6SW8ubm9ybWFsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8ubm9ybWFsX2ZyYWd9LHNwcml0ZTp7dW5pZm9ybXM6dm8oW09vLnNwcml0ZSxPby5mb2ddKSx2ZXJ0ZXhTaGFkZXI6SW8uc3ByaXRlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8uc3ByaXRlX2ZyYWd9LGJhY2tncm91bmQ6e3VuaWZvcm1zOnt1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IEhufSx0MkQ6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6SW8uYmFja2dyb3VuZF92ZXJ0LGZyYWdtZW50U2hhZGVyOklvLmJhY2tncm91bmRfZnJhZ30sY3ViZTp7dW5pZm9ybXM6dm8oW09vLmVudm1hcCx7b3BhY2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOklvLmN1YmVfdmVydCxmcmFnbWVudFNoYWRlcjpJby5jdWJlX2ZyYWd9LGVxdWlyZWN0Ont1bmlmb3Jtczp7dEVxdWlyZWN0Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOklvLmVxdWlyZWN0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8uZXF1aXJlY3RfZnJhZ30sZGlzdGFuY2VSR0JBOnt1bmlmb3Jtczp2byhbT28uY29tbW9uLE9vLmRpc3BsYWNlbWVudG1hcCx7cmVmZXJlbmNlUG9zaXRpb246e3ZhbHVlOm5ldyBLbn0sbmVhckRpc3RhbmNlOnt2YWx1ZToxfSxmYXJEaXN0YW5jZTp7dmFsdWU6MWUzfX1dKSx2ZXJ0ZXhTaGFkZXI6SW8uZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8uZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6dm8oW09vLmxpZ2h0cyxPby5mb2cse2NvbG9yOnt2YWx1ZTpuZXcgeWkoMCl9LG9wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpJby5zaGFkb3dfdmVydCxmcmFnbWVudFNoYWRlcjpJby5zaGFkb3dfZnJhZ319O2Z1bmN0aW9uIERvKHQsZSxuLHIsaSl7Y29uc3Qgbz1uZXcgeWkoMCk7bGV0IGEscyxjPTAsbD1udWxsLHU9MCxoPW51bGw7ZnVuY3Rpb24gZCh0LGUpe24uYnVmZmVycy5jb2xvci5zZXRDbGVhcih0LnIsdC5nLHQuYixlLGkpfXJldHVybntnZXRDbGVhckNvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIG99LHNldENsZWFyQ29sb3I6ZnVuY3Rpb24odCxlPTEpe28uc2V0KHQpLGM9ZSxkKG8sYyl9LGdldENsZWFyQWxwaGE6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0Q2xlYXJBbHBoYTpmdW5jdGlvbih0KXtjPXQsZChvLGMpfSxyZW5kZXI6ZnVuY3Rpb24obixpLHAsZyl7bGV0IHY9ITA9PT1pLmlzU2NlbmU/aS5iYWNrZ3JvdW5kOm51bGw7diYmdi5pc1RleHR1cmUmJih2PWUuZ2V0KHYpKTtjb25zdCB5PXQueHIseD15LmdldFNlc3Npb24mJnkuZ2V0U2Vzc2lvbigpO3gmJlwiYWRkaXRpdmVcIj09PXguZW52aXJvbm1lbnRCbGVuZE1vZGUmJih2PW51bGwpLG51bGw9PT12P2QobyxjKTp2JiZ2LmlzQ29sb3ImJihkKHYsMSksZz0hMCksKHQuYXV0b0NsZWFyfHxnKSYmdC5jbGVhcih0LmF1dG9DbGVhckNvbG9yLHQuYXV0b0NsZWFyRGVwdGgsdC5hdXRvQ2xlYXJTdGVuY2lsKSx2JiYodi5pc0N1YmVUZXh0dXJlfHx2LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0fHx2Lm1hcHBpbmc9PT1sdCk/KHZvaWQgMD09PXMmJihzPW5ldyBobyhuZXcgbW8oMSwxLDEpLG5ldyB4byh7bmFtZTpcIkJhY2tncm91bmRDdWJlTWF0ZXJpYWxcIix1bmlmb3JtczpnbyhOby5jdWJlLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6Tm8uY3ViZS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6Tm8uY3ViZS5mcmFnbWVudFNoYWRlcixzaWRlOm0sZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLHMuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKFwibm9ybWFsXCIpLHMuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKFwidXZcIikscy5vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5tYXRyaXhXb3JsZC5jb3B5UG9zaXRpb24obi5tYXRyaXhXb3JsZCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLm1hdGVyaWFsLFwiZW52TWFwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxyLnVwZGF0ZShzKSksdi5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCYmKHY9di50ZXh0dXJlKSxzLm1hdGVyaWFsLnVuaWZvcm1zLmVudk1hcC52YWx1ZT12LHMubWF0ZXJpYWwudW5pZm9ybXMuZmxpcEVudk1hcC52YWx1ZT12LmlzQ3ViZVRleHR1cmUmJnYuX25lZWRzRmxpcEVudk1hcD8tMToxLGw9PT12JiZ1PT09di52ZXJzaW9uJiZoPT09dC50b25lTWFwcGluZ3x8KHMubWF0ZXJpYWwubmVlZHNVcGRhdGU9ITAsbD12LHU9di52ZXJzaW9uLGg9dC50b25lTWFwcGluZyksbi51bnNoaWZ0KHMscy5nZW9tZXRyeSxzLm1hdGVyaWFsLDAsMCxudWxsKSk6diYmdi5pc1RleHR1cmUmJih2b2lkIDA9PT1hJiYoYT1uZXcgaG8obmV3IENvKDIsMiksbmV3IHhvKHtuYW1lOlwiQmFja2dyb3VuZE1hdGVyaWFsXCIsdW5pZm9ybXM6Z28oTm8uYmFja2dyb3VuZC51bmlmb3JtcyksdmVydGV4U2hhZGVyOk5vLmJhY2tncm91bmQudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOk5vLmJhY2tncm91bmQuZnJhZ21lbnRTaGFkZXIsc2lkZTpmLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLGZvZzohMX0pKSxhLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZShcIm5vcm1hbFwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5tYXRlcmlhbCxcIm1hcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy50MkQudmFsdWV9fSksci51cGRhdGUoYSkpLGEubWF0ZXJpYWwudW5pZm9ybXMudDJELnZhbHVlPXYsITA9PT12Lm1hdHJpeEF1dG9VcGRhdGUmJnYudXBkYXRlTWF0cml4KCksYS5tYXRlcmlhbC51bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHYubWF0cml4KSxsPT09diYmdT09PXYudmVyc2lvbiYmaD09PXQudG9uZU1hcHBpbmd8fChhLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGw9dix1PXYudmVyc2lvbixoPXQudG9uZU1hcHBpbmcpLG4udW5zaGlmdChhLGEuZ2VvbWV0cnksYS5tYXRlcmlhbCwwLDAsbnVsbCkpfX19ZnVuY3Rpb24gQm8odCxlLG4scil7Y29uc3QgaT10LmdldFBhcmFtZXRlcigzNDkyMSksbz1yLmlzV2ViR0wyP251bGw6ZS5nZXQoXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSxhPXIuaXNXZWJHTDJ8fG51bGwhPT1vLHM9e30sYz1kKG51bGwpO2xldCBsPWM7ZnVuY3Rpb24gdShlKXtyZXR1cm4gci5pc1dlYkdMMj90LmJpbmRWZXJ0ZXhBcnJheShlKTpvLmJpbmRWZXJ0ZXhBcnJheU9FUyhlKX1mdW5jdGlvbiBoKGUpe3JldHVybiByLmlzV2ViR0wyP3QuZGVsZXRlVmVydGV4QXJyYXkoZSk6by5kZWxldGVWZXJ0ZXhBcnJheU9FUyhlKX1mdW5jdGlvbiBkKHQpe2NvbnN0IGU9W10sbj1bXSxyPVtdO2ZvcihsZXQgdD0wO3Q8aTt0KyspZVt0XT0wLG5bdF09MCxyW3RdPTA7cmV0dXJue2dlb21ldHJ5Om51bGwscHJvZ3JhbTpudWxsLHdpcmVmcmFtZTohMSxuZXdBdHRyaWJ1dGVzOmUsZW5hYmxlZEF0dHJpYnV0ZXM6bixhdHRyaWJ1dGVEaXZpc29yczpyLG9iamVjdDp0LGF0dHJpYnV0ZXM6e30saW5kZXg6bnVsbH19ZnVuY3Rpb24gcCgpe2NvbnN0IHQ9bC5uZXdBdHRyaWJ1dGVzO2ZvcihsZXQgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0W2VdPTB9ZnVuY3Rpb24gZih0KXttKHQsMCl9ZnVuY3Rpb24gbShuLGkpe2NvbnN0IG89bC5uZXdBdHRyaWJ1dGVzLGE9bC5lbmFibGVkQXR0cmlidXRlcyxzPWwuYXR0cmlidXRlRGl2aXNvcnM7aWYob1tuXT0xLDA9PT1hW25dJiYodC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSxhW25dPTEpLHNbbl0hPT1pKXsoci5pc1dlYkdMMj90OmUuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSlbci5pc1dlYkdMMj9cInZlcnRleEF0dHJpYkRpdmlzb3JcIjpcInZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRVwiXShuLGkpLHNbbl09aX19ZnVuY3Rpb24gZygpe2NvbnN0IGU9bC5uZXdBdHRyaWJ1dGVzLG49bC5lbmFibGVkQXR0cmlidXRlcztmb3IobGV0IHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspbltyXSE9PWVbcl0mJih0LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShyKSxuW3JdPTApfWZ1bmN0aW9uIHYoZSxuLGksbyxhLHMpeyEwIT09ci5pc1dlYkdMMnx8NTEyNCE9PWkmJjUxMjUhPT1pP3QudmVydGV4QXR0cmliUG9pbnRlcihlLG4saSxvLGEscyk6dC52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLG4saSxhLHMpfWZ1bmN0aW9uIHkoKXt4KCksbCE9PWMmJihsPWMsdShsLm9iamVjdCkpfWZ1bmN0aW9uIHgoKXtjLmdlb21ldHJ5PW51bGwsYy5wcm9ncmFtPW51bGwsYy53aXJlZnJhbWU9ITF9cmV0dXJue3NldHVwOmZ1bmN0aW9uKGksYyxoLHkseCl7bGV0IGI9ITE7aWYoYSl7Y29uc3QgZT1mdW5jdGlvbihlLG4saSl7Y29uc3QgYT0hMD09PWkud2lyZWZyYW1lO2xldCBjPXNbZS5pZF07dm9pZCAwPT09YyYmKGM9e30sc1tlLmlkXT1jKTtsZXQgbD1jW24uaWRdO3ZvaWQgMD09PWwmJihsPXt9LGNbbi5pZF09bCk7bGV0IHU9bFthXTt2b2lkIDA9PT11JiYodT1kKHIuaXNXZWJHTDI/dC5jcmVhdGVWZXJ0ZXhBcnJheSgpOm8uY3JlYXRlVmVydGV4QXJyYXlPRVMoKSksbFthXT11KTtyZXR1cm4gdX0oeSxoLGMpO2whPT1lJiYobD1lLHUobC5vYmplY3QpKSxiPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1sLmF0dHJpYnV0ZXMscj10LmF0dHJpYnV0ZXM7bGV0IGk9MDtmb3IoY29uc3QgdCBpbiByKXtjb25zdCBlPW5bdF0sbz1yW3RdO2lmKHZvaWQgMD09PWUpcmV0dXJuITA7aWYoZS5hdHRyaWJ1dGUhPT1vKXJldHVybiEwO2lmKGUuZGF0YSE9PW8uZGF0YSlyZXR1cm4hMDtpKyt9cmV0dXJuIGwuYXR0cmlidXRlc051bSE9PWl8fGwuaW5kZXghPT1lfSh5LHgpLGImJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj17fSxyPXQuYXR0cmlidXRlcztsZXQgaT0wO2Zvcihjb25zdCB0IGluIHIpe2NvbnN0IGU9clt0XSxvPXt9O28uYXR0cmlidXRlPWUsZS5kYXRhJiYoby5kYXRhPWUuZGF0YSksblt0XT1vLGkrK31sLmF0dHJpYnV0ZXM9bixsLmF0dHJpYnV0ZXNOdW09aSxsLmluZGV4PWV9KHkseCl9ZWxzZXtjb25zdCB0PSEwPT09Yy53aXJlZnJhbWU7bC5nZW9tZXRyeT09PXkuaWQmJmwucHJvZ3JhbT09PWguaWQmJmwud2lyZWZyYW1lPT09dHx8KGwuZ2VvbWV0cnk9eS5pZCxsLnByb2dyYW09aC5pZCxsLndpcmVmcmFtZT10LGI9ITApfSEwPT09aS5pc0luc3RhbmNlZE1lc2gmJihiPSEwKSxudWxsIT09eCYmbi51cGRhdGUoeCwzNDk2MyksYiYmKCFmdW5jdGlvbihpLG8sYSxzKXtpZighMT09PXIuaXNXZWJHTDImJihpLmlzSW5zdGFuY2VkTWVzaHx8cy5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KSYmbnVsbD09PWUuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSlyZXR1cm47cCgpO2NvbnN0IGM9cy5hdHRyaWJ1dGVzLGw9YS5nZXRBdHRyaWJ1dGVzKCksdT1vLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM7Zm9yKGNvbnN0IGUgaW4gbCl7Y29uc3Qgcj1sW2VdO2lmKHI+PTApe2NvbnN0IG89Y1tlXTtpZih2b2lkIDAhPT1vKXtjb25zdCBlPW8ubm9ybWFsaXplZCxpPW8uaXRlbVNpemUsYT1uLmdldChvKTtpZih2b2lkIDA9PT1hKWNvbnRpbnVlO2NvbnN0IGM9YS5idWZmZXIsbD1hLnR5cGUsdT1hLmJ5dGVzUGVyRWxlbWVudDtpZihvLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpe2NvbnN0IG49by5kYXRhLGE9bi5zdHJpZGUsaD1vLm9mZnNldDtuJiZuLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI/KG0ocixuLm1lc2hQZXJBdHRyaWJ1dGUpLHZvaWQgMD09PXMuX21heEluc3RhbmNlQ291bnQmJihzLl9tYXhJbnN0YW5jZUNvdW50PW4ubWVzaFBlckF0dHJpYnV0ZSpuLmNvdW50KSk6ZihyKSx0LmJpbmRCdWZmZXIoMzQ5NjIsYyksdihyLGksbCxlLGEqdSxoKnUpfWVsc2Ugby5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT8obShyLG8ubWVzaFBlckF0dHJpYnV0ZSksdm9pZCAwPT09cy5fbWF4SW5zdGFuY2VDb3VudCYmKHMuX21heEluc3RhbmNlQ291bnQ9by5tZXNoUGVyQXR0cmlidXRlKm8uY291bnQpKTpmKHIpLHQuYmluZEJ1ZmZlcigzNDk2MixjKSx2KHIsaSxsLGUsMCwwKX1lbHNlIGlmKFwiaW5zdGFuY2VNYXRyaXhcIj09PWUpe2NvbnN0IGU9bi5nZXQoaS5pbnN0YW5jZU1hdHJpeCk7aWYodm9pZCAwPT09ZSljb250aW51ZTtjb25zdCBvPWUuYnVmZmVyLGE9ZS50eXBlO20ociswLDEpLG0ocisxLDEpLG0ocisyLDEpLG0ociszLDEpLHQuYmluZEJ1ZmZlcigzNDk2MixvKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIociswLDQsYSwhMSw2NCwwKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIocisxLDQsYSwhMSw2NCwxNiksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHIrMiw0LGEsITEsNjQsMzIpLHQudmVydGV4QXR0cmliUG9pbnRlcihyKzMsNCxhLCExLDY0LDQ4KX1lbHNlIGlmKFwiaW5zdGFuY2VDb2xvclwiPT09ZSl7Y29uc3QgZT1uLmdldChpLmluc3RhbmNlQ29sb3IpO2lmKHZvaWQgMD09PWUpY29udGludWU7Y29uc3Qgbz1lLmJ1ZmZlcixhPWUudHlwZTttKHIsMSksdC5iaW5kQnVmZmVyKDM0OTYyLG8pLHQudmVydGV4QXR0cmliUG9pbnRlcihyLDMsYSwhMSwxMiwwKX1lbHNlIGlmKHZvaWQgMCE9PXUpe2NvbnN0IG49dVtlXTtpZih2b2lkIDAhPT1uKXN3aXRjaChuLmxlbmd0aCl7Y2FzZSAyOnQudmVydGV4QXR0cmliMmZ2KHIsbik7YnJlYWs7Y2FzZSAzOnQudmVydGV4QXR0cmliM2Z2KHIsbik7YnJlYWs7Y2FzZSA0OnQudmVydGV4QXR0cmliNGZ2KHIsbik7YnJlYWs7ZGVmYXVsdDp0LnZlcnRleEF0dHJpYjFmdihyLG4pfX19fWcoKX0oaSxjLGgseSksbnVsbCE9PXgmJnQuYmluZEJ1ZmZlcigzNDk2MyxuLmdldCh4KS5idWZmZXIpKX0scmVzZXQ6eSxyZXNldERlZmF1bHRTdGF0ZTp4LGRpc3Bvc2U6ZnVuY3Rpb24oKXt5KCk7Zm9yKGNvbnN0IHQgaW4gcyl7Y29uc3QgZT1zW3RdO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49ZVt0XTtmb3IoY29uc3QgdCBpbiBuKWgoblt0XS5vYmplY3QpLGRlbGV0ZSBuW3RdO2RlbGV0ZSBlW3RdfWRlbGV0ZSBzW3RdfX0scmVsZWFzZVN0YXRlc09mR2VvbWV0cnk6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09c1t0LmlkXSlyZXR1cm47Y29uc3QgZT1zW3QuaWRdO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49ZVt0XTtmb3IoY29uc3QgdCBpbiBuKWgoblt0XS5vYmplY3QpLGRlbGV0ZSBuW3RdO2RlbGV0ZSBlW3RdfWRlbGV0ZSBzW3QuaWRdfSxyZWxlYXNlU3RhdGVzT2ZQcm9ncmFtOmZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIGluIHMpe2NvbnN0IG49c1tlXTtpZih2b2lkIDA9PT1uW3QuaWRdKWNvbnRpbnVlO2NvbnN0IHI9blt0LmlkXTtmb3IoY29uc3QgdCBpbiByKWgoclt0XS5vYmplY3QpLGRlbGV0ZSByW3RdO2RlbGV0ZSBuW3QuaWRdfX0saW5pdEF0dHJpYnV0ZXM6cCxlbmFibGVBdHRyaWJ1dGU6ZixkaXNhYmxlVW51c2VkQXR0cmlidXRlczpnfX1mdW5jdGlvbiBGbyh0LGUsbixyKXtjb25zdCBpPXIuaXNXZWJHTDI7bGV0IG87dGhpcy5zZXRNb2RlPWZ1bmN0aW9uKHQpe289dH0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSxyKXt0LmRyYXdBcnJheXMobyxlLHIpLG4udXBkYXRlKHIsbywxKX0sdGhpcy5yZW5kZXJJbnN0YW5jZXM9ZnVuY3Rpb24ocixhLHMpe2lmKDA9PT1zKXJldHVybjtsZXQgYyxsO2lmKGkpYz10LGw9XCJkcmF3QXJyYXlzSW5zdGFuY2VkXCI7ZWxzZSBpZihjPWUuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSxsPVwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFXCIsbnVsbD09PWMpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMQnVmZmVyUmVuZGVyZXI6IHVzaW5nIFRIUkVFLkluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5IGJ1dCBoYXJkd2FyZSBkb2VzIG5vdCBzdXBwb3J0IGV4dGVuc2lvbiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzLlwiKTtjW2xdKG8scixhLHMpLG4udXBkYXRlKGEsbyxzKX19ZnVuY3Rpb24gVW8odCxlLG4pe2xldCByO2Z1bmN0aW9uIGkoZSl7aWYoXCJoaWdocFwiPT09ZSl7aWYodC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzMsMzYzMzgpLnByZWNpc2lvbj4wJiZ0LmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMiwzNjMzOCkucHJlY2lzaW9uPjApcmV0dXJuXCJoaWdocFwiO2U9XCJtZWRpdW1wXCJ9cmV0dXJuXCJtZWRpdW1wXCI9PT1lJiZ0LmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzNykucHJlY2lzaW9uPjAmJnQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM3KS5wcmVjaXNpb24+MD9cIm1lZGl1bXBcIjpcImxvd3BcIn1jb25zdCBvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0JiZ0IGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0JiZ0IGluc3RhbmNlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQ7bGV0IGE9dm9pZCAwIT09bi5wcmVjaXNpb24/bi5wcmVjaXNpb246XCJoaWdocFwiO2NvbnN0IHM9aShhKTtzIT09YSYmKGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6XCIsYSxcIm5vdCBzdXBwb3J0ZWQsIHVzaW5nXCIscyxcImluc3RlYWQuXCIpLGE9cyk7Y29uc3QgYz0hMD09PW4ubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixsPXQuZ2V0UGFyYW1ldGVyKDM0OTMwKSx1PXQuZ2V0UGFyYW1ldGVyKDM1NjYwKSxoPXQuZ2V0UGFyYW1ldGVyKDMzNzkpLGQ9dC5nZXRQYXJhbWV0ZXIoMzQwNzYpLHA9dC5nZXRQYXJhbWV0ZXIoMzQ5MjEpLGY9dC5nZXRQYXJhbWV0ZXIoMzYzNDcpLG09dC5nZXRQYXJhbWV0ZXIoMzYzNDgpLGc9dC5nZXRQYXJhbWV0ZXIoMzYzNDkpLHY9dT4wLHk9b3x8ISFlLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO3JldHVybntpc1dlYkdMMjpvLGdldE1heEFuaXNvdHJvcHk6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1yKXJldHVybiByO2NvbnN0IG49ZS5nZXQoXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7cmV0dXJuIHI9bnVsbCE9PW4/dC5nZXRQYXJhbWV0ZXIobi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAscn0sZ2V0TWF4UHJlY2lzaW9uOmkscHJlY2lzaW9uOmEsbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjpjLG1heFRleHR1cmVzOmwsbWF4VmVydGV4VGV4dHVyZXM6dSxtYXhUZXh0dXJlU2l6ZTpoLG1heEN1YmVtYXBTaXplOmQsbWF4QXR0cmlidXRlczpwLG1heFZlcnRleFVuaWZvcm1zOmYsbWF4VmFyeWluZ3M6bSxtYXhGcmFnbWVudFVuaWZvcm1zOmcsdmVydGV4VGV4dHVyZXM6dixmbG9hdEZyYWdtZW50VGV4dHVyZXM6eSxmbG9hdFZlcnRleFRleHR1cmVzOnYmJnksbWF4U2FtcGxlczpvP3QuZ2V0UGFyYW1ldGVyKDM2MTgzKTowfX1mdW5jdGlvbiB6byh0KXtjb25zdCBlPXRoaXM7bGV0IG49bnVsbCxyPTAsaT0hMSxvPSExO2NvbnN0IGE9bmV3IHRpLHM9bmV3IEhuLGM9e3ZhbHVlOm51bGwsbmVlZHNVcGRhdGU6ITF9O2Z1bmN0aW9uIGwoKXtjLnZhbHVlIT09biYmKGMudmFsdWU9bixjLm5lZWRzVXBkYXRlPXI+MCksZS5udW1QbGFuZXM9cixlLm51bUludGVyc2VjdGlvbj0wfWZ1bmN0aW9uIHUodCxuLHIsaSl7Y29uc3Qgbz1udWxsIT09dD90Lmxlbmd0aDowO2xldCBsPW51bGw7aWYoMCE9PW8pe2lmKGw9Yy52YWx1ZSwhMCE9PWl8fG51bGw9PT1sKXtjb25zdCBlPXIrNCpvLGk9bi5tYXRyaXhXb3JsZEludmVyc2U7cy5nZXROb3JtYWxNYXRyaXgoaSksKG51bGw9PT1sfHxsLmxlbmd0aDxlKSYmKGw9bmV3IEZsb2F0MzJBcnJheShlKSk7Zm9yKGxldCBlPTAsbj1yO2UhPT1vOysrZSxuKz00KWEuY29weSh0W2VdKS5hcHBseU1hdHJpeDQoaSxzKSxhLm5vcm1hbC50b0FycmF5KGwsbiksbFtuKzNdPWEuY29uc3RhbnR9Yy52YWx1ZT1sLGMubmVlZHNVcGRhdGU9ITB9cmV0dXJuIGUubnVtUGxhbmVzPW8sZS5udW1JbnRlcnNlY3Rpb249MCxsfXRoaXMudW5pZm9ybT1jLHRoaXMubnVtUGxhbmVzPTAsdGhpcy5udW1JbnRlcnNlY3Rpb249MCx0aGlzLmluaXQ9ZnVuY3Rpb24odCxlLG8pe2NvbnN0IGE9MCE9PXQubGVuZ3RofHxlfHwwIT09cnx8aTtyZXR1cm4gaT1lLG49dSh0LG8sMCkscj10Lmxlbmd0aCxhfSx0aGlzLmJlZ2luU2hhZG93cz1mdW5jdGlvbigpe289ITAsdShudWxsKX0sdGhpcy5lbmRTaGFkb3dzPWZ1bmN0aW9uKCl7bz0hMSxsKCl9LHRoaXMuc2V0U3RhdGU9ZnVuY3Rpb24oZSxhLHMpe2NvbnN0IGg9ZS5jbGlwcGluZ1BsYW5lcyxkPWUuY2xpcEludGVyc2VjdGlvbixwPWUuY2xpcFNoYWRvd3MsZj10LmdldChlKTtpZighaXx8bnVsbD09PWh8fDA9PT1oLmxlbmd0aHx8byYmIXApbz91KG51bGwpOmwoKTtlbHNle2NvbnN0IHQ9bz8wOnIsZT00KnQ7bGV0IGk9Zi5jbGlwcGluZ1N0YXRlfHxudWxsO2MudmFsdWU9aSxpPXUoaCxhLGUscyk7Zm9yKGxldCB0PTA7dCE9PWU7Kyt0KWlbdF09blt0XTtmLmNsaXBwaW5nU3RhdGU9aSx0aGlzLm51bUludGVyc2VjdGlvbj1kP3RoaXMubnVtUGxhbmVzOjAsdGhpcy5udW1QbGFuZXMrPXR9fX1mdW5jdGlvbiBHbyh0KXtsZXQgZT1uZXcgV2Vha01hcDtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGU9PT1zdD90Lm1hcHBpbmc9b3Q6ZT09PWN0JiYodC5tYXBwaW5nPWF0KSx0fWZ1bmN0aW9uIHIodCl7Y29uc3Qgbj10LnRhcmdldDtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIscik7Y29uc3QgaT1lLmdldChuKTt2b2lkIDAhPT1pJiYoZS5kZWxldGUobiksaS5kaXNwb3NlKCkpfXJldHVybntnZXQ6ZnVuY3Rpb24oaSl7aWYoaSYmaS5pc1RleHR1cmUpe2NvbnN0IG89aS5tYXBwaW5nO2lmKG89PT1zdHx8bz09PWN0KXtpZihlLmhhcyhpKSl7cmV0dXJuIG4oZS5nZXQoaSkudGV4dHVyZSxpLm1hcHBpbmcpfXtjb25zdCBvPWkuaW1hZ2U7aWYobyYmby5oZWlnaHQ+MCl7Y29uc3QgYT10LmdldFJlbmRlckxpc3QoKSxzPXQuZ2V0UmVuZGVyVGFyZ2V0KCksYz10LmdldFJlbmRlclN0YXRlKCksbD1uZXcgU28oby5oZWlnaHQvMik7cmV0dXJuIGwuZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUodCxpKSxlLnNldChpLGwpLHQuc2V0UmVuZGVyVGFyZ2V0KHMpLHQuc2V0UmVuZGVyTGlzdChhKSx0LnNldFJlbmRlclN0YXRlKGMpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixyKSxuKGwudGV4dHVyZSxpLm1hcHBpbmcpfXJldHVybiBudWxsfX19cmV0dXJuIGl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtlPW5ldyBXZWFrTWFwfX19ZnVuY3Rpb24gSG8odCl7Y29uc3QgZT17fTtyZXR1cm57aGFzOmZ1bmN0aW9uKG4pe2lmKHZvaWQgMCE9PWVbbl0pcmV0dXJuIG51bGwhPT1lW25dO2xldCByO3N3aXRjaChuKXtjYXNlXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCI6cj10LmdldEV4dGVuc2lvbihcIldFQkdMX2RlcHRoX3RleHR1cmVcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiTU9aX1dFQkdMX2RlcHRoX3RleHR1cmVcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmVcIik7YnJlYWs7Y2FzZVwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCI6cj10LmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8dC5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHx0LmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7YnJlYWs7Y2FzZVwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIjpyPXQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiTU9aX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfHx0LmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKTticmVhaztjYXNlXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIjpyPXQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpfHx0LmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIik7YnJlYWs7ZGVmYXVsdDpyPXQuZ2V0RXh0ZW5zaW9uKG4pfXJldHVybiBlW25dPXIsbnVsbCE9PXJ9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCl8fGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFwiK3QrXCIgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWQuXCIpLGVbdF19fX1mdW5jdGlvbiBrbyh0LGUsbixyKXtjb25zdCBpPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXA7ZnVuY3Rpb24gYSh0KXtjb25zdCBzPXQudGFyZ2V0LGM9aS5nZXQocyk7bnVsbCE9PWMuaW5kZXgmJmUucmVtb3ZlKGMuaW5kZXgpO2Zvcihjb25zdCB0IGluIGMuYXR0cmlidXRlcyllLnJlbW92ZShjLmF0dHJpYnV0ZXNbdF0pO3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixhKSxpLmRlbGV0ZShzKTtjb25zdCBsPW8uZ2V0KGMpO2wmJihlLnJlbW92ZShsKSxvLmRlbGV0ZShjKSksci5yZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeShjKSwhMD09PXMuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSYmZGVsZXRlIHMuX21heEluc3RhbmNlQ291bnQsbi5tZW1vcnkuZ2VvbWV0cmllcy0tfWZ1bmN0aW9uIHModCl7Y29uc3Qgbj1bXSxyPXQuaW5kZXgsaT10LmF0dHJpYnV0ZXMucG9zaXRpb247bGV0IGE9MDtpZihudWxsIT09cil7Y29uc3QgdD1yLmFycmF5O2E9ci52ZXJzaW9uO2ZvcihsZXQgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrPTMpe2NvbnN0IHI9dFtlKzBdLGk9dFtlKzFdLG89dFtlKzJdO24ucHVzaChyLGksaSxvLG8scil9fWVsc2V7Y29uc3QgdD1pLmFycmF5O2E9aS52ZXJzaW9uO2ZvcihsZXQgZT0wLHI9dC5sZW5ndGgvMy0xO2U8cjtlKz0zKXtjb25zdCB0PWUrMCxyPWUrMSxpPWUrMjtuLnB1c2godCxyLHIsaSxpLHQpfX1jb25zdCBzPW5ldyhGaShuKT42NTUzNT9JaTpQaSkobiwxKTtzLnZlcnNpb249YTtjb25zdCBjPW8uZ2V0KHQpO2MmJmUucmVtb3ZlKGMpLG8uc2V0KHQscyl9cmV0dXJue2dldDpmdW5jdGlvbih0LGUpe2xldCByPWkuZ2V0KGUpO3JldHVybiByfHwoZS5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGEpLGUuaXNCdWZmZXJHZW9tZXRyeT9yPWU6ZS5pc0dlb21ldHJ5JiYodm9pZCAwPT09ZS5fYnVmZmVyR2VvbWV0cnkmJihlLl9idWZmZXJHZW9tZXRyeT0obmV3IHFpKS5zZXRGcm9tT2JqZWN0KHQpKSxyPWUuX2J1ZmZlckdlb21ldHJ5KSxpLnNldChlLHIpLG4ubWVtb3J5Lmdlb21ldHJpZXMrKyxyKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2NvbnN0IG49dC5hdHRyaWJ1dGVzO2Zvcihjb25zdCB0IGluIG4pZS51cGRhdGUoblt0XSwzNDk2Mik7Y29uc3Qgcj10Lm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgdCBpbiByKXtjb25zdCBuPXJbdF07Zm9yKGxldCB0PTAscj1uLmxlbmd0aDt0PHI7dCsrKWUudXBkYXRlKG5bdF0sMzQ5NjIpfX0sZ2V0V2lyZWZyYW1lQXR0cmlidXRlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9by5nZXQodCk7aWYoZSl7Y29uc3Qgbj10LmluZGV4O251bGwhPT1uJiZlLnZlcnNpb248bi52ZXJzaW9uJiZzKHQpfWVsc2Ugcyh0KTtyZXR1cm4gby5nZXQodCl9fX1mdW5jdGlvbiBWbyh0LGUsbixyKXtjb25zdCBpPXIuaXNXZWJHTDI7bGV0IG8sYSxzO3RoaXMuc2V0TW9kZT1mdW5jdGlvbih0KXtvPXR9LHRoaXMuc2V0SW5kZXg9ZnVuY3Rpb24odCl7YT10LnR5cGUscz10LmJ5dGVzUGVyRWxlbWVudH0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSxyKXt0LmRyYXdFbGVtZW50cyhvLHIsYSxlKnMpLG4udXBkYXRlKHIsbywxKX0sdGhpcy5yZW5kZXJJbnN0YW5jZXM9ZnVuY3Rpb24ocixjLGwpe2lmKDA9PT1sKXJldHVybjtsZXQgdSxoO2lmKGkpdT10LGg9XCJkcmF3RWxlbWVudHNJbnN0YW5jZWRcIjtlbHNlIGlmKHU9ZS5nZXQoXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpLGg9XCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRVwiLG51bGw9PT11KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuXCIpO3VbaF0obyxjLGEscipzLGwpLG4udXBkYXRlKGMsbyxsKX19ZnVuY3Rpb24gam8odCl7Y29uc3QgZT17ZnJhbWU6MCxjYWxsczowLHRyaWFuZ2xlczowLHBvaW50czowLGxpbmVzOjB9O3JldHVybnttZW1vcnk6e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfSxyZW5kZXI6ZSxwcm9ncmFtczpudWxsLGF1dG9SZXNldDohMCxyZXNldDpmdW5jdGlvbigpe2UuZnJhbWUrKyxlLmNhbGxzPTAsZS50cmlhbmdsZXM9MCxlLnBvaW50cz0wLGUubGluZXM9MH0sdXBkYXRlOmZ1bmN0aW9uKHQsbixyKXtzd2l0Y2goZS5jYWxscysrLG4pe2Nhc2UgNDplLnRyaWFuZ2xlcys9cioodC8zKTticmVhaztjYXNlIDE6ZS5saW5lcys9cioodC8yKTticmVhaztjYXNlIDM6ZS5saW5lcys9cioodC0xKTticmVhaztjYXNlIDI6ZS5saW5lcys9cip0O2JyZWFrO2Nhc2UgMDplLnBvaW50cys9cip0O2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMSW5mbzogVW5rbm93biBkcmF3IG1vZGU6XCIsbil9fX19ZnVuY3Rpb24gV28odCxlKXtyZXR1cm4gdFswXS1lWzBdfWZ1bmN0aW9uIFhvKHQsZSl7cmV0dXJuIE1hdGguYWJzKGVbMV0pLU1hdGguYWJzKHRbMV0pfWZ1bmN0aW9uIHFvKHQpe2NvbnN0IGU9e30sbj1uZXcgRmxvYXQzMkFycmF5KDgpLHI9W107Zm9yKGxldCB0PTA7dDw4O3QrKylyW3RdPVt0LDBdO3JldHVybnt1cGRhdGU6ZnVuY3Rpb24oaSxvLGEscyl7Y29uc3QgYz1pLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyxsPXZvaWQgMD09PWM/MDpjLmxlbmd0aDtsZXQgdT1lW28uaWRdO2lmKHZvaWQgMD09PXUpe3U9W107Zm9yKGxldCB0PTA7dDxsO3QrKyl1W3RdPVt0LDBdO2Vbby5pZF09dX1mb3IobGV0IHQ9MDt0PGw7dCsrKXtjb25zdCBlPXVbdF07ZVswXT10LGVbMV09Y1t0XX11LnNvcnQoWG8pO2ZvcihsZXQgdD0wO3Q8ODt0KyspdDxsJiZ1W3RdWzFdPyhyW3RdWzBdPXVbdF1bMF0sclt0XVsxXT11W3RdWzFdKTooclt0XVswXT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixyW3RdWzFdPTApO3Iuc29ydChXbyk7Y29uc3QgaD1hLm1vcnBoVGFyZ2V0cyYmby5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24sZD1hLm1vcnBoTm9ybWFscyYmby5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsO2xldCBwPTA7Zm9yKGxldCB0PTA7dDw4O3QrKyl7Y29uc3QgZT1yW3RdLGk9ZVswXSxhPWVbMV07aSE9PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZhPyhoJiZvLmdldEF0dHJpYnV0ZShcIm1vcnBoVGFyZ2V0XCIrdCkhPT1oW2ldJiZvLnNldEF0dHJpYnV0ZShcIm1vcnBoVGFyZ2V0XCIrdCxoW2ldKSxkJiZvLmdldEF0dHJpYnV0ZShcIm1vcnBoTm9ybWFsXCIrdCkhPT1kW2ldJiZvLnNldEF0dHJpYnV0ZShcIm1vcnBoTm9ybWFsXCIrdCxkW2ldKSxuW3RdPWEscCs9YSk6KGgmJiEwPT09by5oYXNBdHRyaWJ1dGUoXCJtb3JwaFRhcmdldFwiK3QpJiZvLmRlbGV0ZUF0dHJpYnV0ZShcIm1vcnBoVGFyZ2V0XCIrdCksZCYmITA9PT1vLmhhc0F0dHJpYnV0ZShcIm1vcnBoTm9ybWFsXCIrdCkmJm8uZGVsZXRlQXR0cmlidXRlKFwibW9ycGhOb3JtYWxcIit0KSxuW3RdPTApfWNvbnN0IGY9by5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtcDtzLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUodCxcIm1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZVwiLGYpLHMuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZSh0LFwibW9ycGhUYXJnZXRJbmZsdWVuY2VzXCIsbil9fX1mdW5jdGlvbiBZbyh0LGUsbixyKXtsZXQgaT1uZXcgV2Vha01hcDtyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKHQpe2NvbnN0IG89ci5yZW5kZXIuZnJhbWUsYT10Lmdlb21ldHJ5LHM9ZS5nZXQodCxhKTtyZXR1cm4gaS5nZXQocykhPT1vJiYoYS5pc0dlb21ldHJ5JiZzLnVwZGF0ZUZyb21PYmplY3QodCksZS51cGRhdGUocyksaS5zZXQocyxvKSksdC5pc0luc3RhbmNlZE1lc2gmJihuLnVwZGF0ZSh0Lmluc3RhbmNlTWF0cml4LDM0OTYyKSxudWxsIT09dC5pbnN0YW5jZUNvbG9yJiZuLnVwZGF0ZSh0Lmluc3RhbmNlQ29sb3IsMzQ5NjIpKSxzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7aT1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIFpvKHQ9bnVsbCxlPTEsbj0xLHI9MSl7V24uY2FsbCh0aGlzLG51bGwpLHRoaXMuaW1hZ2U9e2RhdGE6dCx3aWR0aDplLGhlaWdodDpuLGRlcHRoOnJ9LHRoaXMubWFnRmlsdGVyPWZ0LHRoaXMubWluRmlsdGVyPWZ0LHRoaXMud3JhcFI9ZHQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLm5lZWRzVXBkYXRlPSEwfWZ1bmN0aW9uIEpvKHQ9bnVsbCxlPTEsbj0xLHI9MSl7V24uY2FsbCh0aGlzLG51bGwpLHRoaXMuaW1hZ2U9e2RhdGE6dCx3aWR0aDplLGhlaWdodDpuLGRlcHRoOnJ9LHRoaXMubWFnRmlsdGVyPWZ0LHRoaXMubWluRmlsdGVyPWZ0LHRoaXMud3JhcFI9ZHQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLm5lZWRzVXBkYXRlPSEwfU5vLnBoeXNpY2FsPXt1bmlmb3Jtczp2byhbTm8uc3RhbmRhcmQudW5pZm9ybXMse2NsZWFyY29hdDp7dmFsdWU6MH0sY2xlYXJjb2F0TWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXRSb3VnaG5lc3M6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sY2xlYXJjb2F0Tm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBHbigxLDEpfSxjbGVhcmNvYXROb3JtYWxNYXA6e3ZhbHVlOm51bGx9LHNoZWVuOnt2YWx1ZTpuZXcgeWkoMCl9LHRyYW5zbWlzc2lvbjp7dmFsdWU6MH0sdHJhbnNtaXNzaW9uTWFwOnt2YWx1ZTpudWxsfX1dKSx2ZXJ0ZXhTaGFkZXI6SW8ubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6SW8ubWVzaHBoeXNpY2FsX2ZyYWd9LFpvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFduLnByb3RvdHlwZSksWm8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVpvLFpvLnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlMkRBcnJheT0hMCxKby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXbi5wcm90b3R5cGUpLEpvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1KbyxKby5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTNEPSEwO2NvbnN0IEtvPW5ldyBXbixRbz1uZXcgWm8sJG89bmV3IEpvLHRhPW5ldyBNbyxlYT1bXSxuYT1bXSxyYT1uZXcgRmxvYXQzMkFycmF5KDE2KSxpYT1uZXcgRmxvYXQzMkFycmF5KDkpLG9hPW5ldyBGbG9hdDMyQXJyYXkoNCk7ZnVuY3Rpb24gYWEodCxlLG4pe2NvbnN0IHI9dFswXTtpZihyPD0wfHxyPjApcmV0dXJuIHQ7Y29uc3QgaT1lKm47bGV0IG89ZWFbaV07aWYodm9pZCAwPT09byYmKG89bmV3IEZsb2F0MzJBcnJheShpKSxlYVtpXT1vKSwwIT09ZSl7ci50b0FycmF5KG8sMCk7Zm9yKGxldCByPTEsaT0wO3IhPT1lOysrcilpKz1uLHRbcl0udG9BcnJheShvLGkpfXJldHVybiBvfWZ1bmN0aW9uIHNhKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49MCxyPXQubGVuZ3RoO248cjtuKyspaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gY2EodCxlKXtmb3IobGV0IG49MCxyPWUubGVuZ3RoO248cjtuKyspdFtuXT1lW25dfWZ1bmN0aW9uIGxhKHQsZSl7bGV0IG49bmFbZV07dm9pZCAwPT09biYmKG49bmV3IEludDMyQXJyYXkoZSksbmFbZV09bik7Zm9yKGxldCByPTA7ciE9PWU7KytyKW5bcl09dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7cmV0dXJuIG59ZnVuY3Rpb24gdWEodCxlKXtjb25zdCBuPXRoaXMuY2FjaGU7blswXSE9PWUmJih0LnVuaWZvcm0xZih0aGlzLmFkZHIsZSksblswXT1lKX1mdW5jdGlvbiBoYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT1lLngpblswXT09PWUueCYmblsxXT09PWUueXx8KHQudW5pZm9ybTJmKHRoaXMuYWRkcixlLngsZS55KSxuWzBdPWUueCxuWzFdPWUueSk7ZWxzZXtpZihzYShuLGUpKXJldHVybjt0LnVuaWZvcm0yZnYodGhpcy5hZGRyLGUpLGNhKG4sZSl9fWZ1bmN0aW9uIGRhKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO2lmKHZvaWQgMCE9PWUueCluWzBdPT09ZS54JiZuWzFdPT09ZS55JiZuWzJdPT09ZS56fHwodC51bmlmb3JtM2YodGhpcy5hZGRyLGUueCxlLnksZS56KSxuWzBdPWUueCxuWzFdPWUueSxuWzJdPWUueik7ZWxzZSBpZih2b2lkIDAhPT1lLnIpblswXT09PWUuciYmblsxXT09PWUuZyYmblsyXT09PWUuYnx8KHQudW5pZm9ybTNmKHRoaXMuYWRkcixlLnIsZS5nLGUuYiksblswXT1lLnIsblsxXT1lLmcsblsyXT1lLmIpO2Vsc2V7aWYoc2EobixlKSlyZXR1cm47dC51bmlmb3JtM2Z2KHRoaXMuYWRkcixlKSxjYShuLGUpfX1mdW5jdGlvbiBwYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT1lLngpblswXT09PWUueCYmblsxXT09PWUueSYmblsyXT09PWUueiYmblszXT09PWUud3x8KHQudW5pZm9ybTRmKHRoaXMuYWRkcixlLngsZS55LGUueixlLncpLG5bMF09ZS54LG5bMV09ZS55LG5bMl09ZS56LG5bM109ZS53KTtlbHNle2lmKHNhKG4sZSkpcmV0dXJuO3QudW5pZm9ybTRmdih0aGlzLmFkZHIsZSksY2EobixlKX19ZnVuY3Rpb24gZmEodCxlKXtjb25zdCBuPXRoaXMuY2FjaGUscj1lLmVsZW1lbnRzO2lmKHZvaWQgMD09PXIpe2lmKHNhKG4sZSkpcmV0dXJuO3QudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsZSksY2EobixlKX1lbHNle2lmKHNhKG4scikpcmV0dXJuO29hLnNldChyKSx0LnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLG9hKSxjYShuLHIpfX1mdW5jdGlvbiBtYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZSxyPWUuZWxlbWVudHM7aWYodm9pZCAwPT09cil7aWYoc2EobixlKSlyZXR1cm47dC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxlKSxjYShuLGUpfWVsc2V7aWYoc2EobixyKSlyZXR1cm47aWEuc2V0KHIpLHQudW5pZm9ybU1hdHJpeDNmdih0aGlzLmFkZHIsITEsaWEpLGNhKG4scil9fWZ1bmN0aW9uIGdhKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlLHI9ZS5lbGVtZW50cztpZih2b2lkIDA9PT1yKXtpZihzYShuLGUpKXJldHVybjt0LnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLGUpLGNhKG4sZSl9ZWxzZXtpZihzYShuLHIpKXJldHVybjtyYS5zZXQociksdC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkciwhMSxyYSksY2EobixyKX19ZnVuY3Rpb24gdmEodCxlLG4pe2NvbnN0IHI9dGhpcy5jYWNoZSxpPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JbMF0hPT1pJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLGkpLHJbMF09aSksbi5zYWZlU2V0VGV4dHVyZTJEKGV8fEtvLGkpfWZ1bmN0aW9uIHlhKHQsZSxuKXtjb25zdCByPXRoaXMuY2FjaGUsaT1uLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtyWzBdIT09aSYmKHQudW5pZm9ybTFpKHRoaXMuYWRkcixpKSxyWzBdPWkpLG4uc2V0VGV4dHVyZTJEQXJyYXkoZXx8UW8saSl9ZnVuY3Rpb24geGEodCxlLG4pe2NvbnN0IHI9dGhpcy5jYWNoZSxpPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JbMF0hPT1pJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLGkpLHJbMF09aSksbi5zZXRUZXh0dXJlM0QoZXx8JG8saSl9ZnVuY3Rpb24gYmEodCxlLG4pe2NvbnN0IHI9dGhpcy5jYWNoZSxpPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JbMF0hPT1pJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLGkpLHJbMF09aSksbi5zYWZlU2V0VGV4dHVyZUN1YmUoZXx8dGEsaSl9ZnVuY3Rpb24gd2EodCxlKXtjb25zdCBuPXRoaXMuY2FjaGU7blswXSE9PWUmJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsZSksblswXT1lKX1mdW5jdGlvbiBfYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtzYShuLGUpfHwodC51bmlmb3JtMml2KHRoaXMuYWRkcixlKSxjYShuLGUpKX1mdW5jdGlvbiBNYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtzYShuLGUpfHwodC51bmlmb3JtM2l2KHRoaXMuYWRkcixlKSxjYShuLGUpKX1mdW5jdGlvbiBTYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtzYShuLGUpfHwodC51bmlmb3JtNGl2KHRoaXMuYWRkcixlKSxjYShuLGUpKX1mdW5jdGlvbiBUYSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtuWzBdIT09ZSYmKHQudW5pZm9ybTF1aSh0aGlzLmFkZHIsZSksblswXT1lKX1mdW5jdGlvbiBFYSh0LGUpe3QudW5pZm9ybTFmdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gQWEodCxlKXt0LnVuaWZvcm0xaXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIExhKHQsZSl7dC51bmlmb3JtMml2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBSYSh0LGUpe3QudW5pZm9ybTNpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gUGEodCxlKXt0LnVuaWZvcm00aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIENhKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSwyKTt0LnVuaWZvcm0yZnYodGhpcy5hZGRyLG4pfWZ1bmN0aW9uIElhKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSwzKTt0LnVuaWZvcm0zZnYodGhpcy5hZGRyLG4pfWZ1bmN0aW9uIE9hKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSw0KTt0LnVuaWZvcm00ZnYodGhpcy5hZGRyLG4pfWZ1bmN0aW9uIE5hKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSw0KTt0LnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIERhKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSw5KTt0LnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIEJhKHQsZSl7Y29uc3Qgbj1hYShlLHRoaXMuc2l6ZSwxNik7dC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkciwhMSxuKX1mdW5jdGlvbiBGYSh0LGUsbil7Y29uc3Qgcj1lLmxlbmd0aCxpPWxhKG4scik7dC51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IobGV0IHQ9MDt0IT09cjsrK3Qpbi5zYWZlU2V0VGV4dHVyZTJEKGVbdF18fEtvLGlbdF0pfWZ1bmN0aW9uIFVhKHQsZSxuKXtjb25zdCByPWUubGVuZ3RoLGk9bGEobixyKTt0LnVuaWZvcm0xaXYodGhpcy5hZGRyLGkpO2ZvcihsZXQgdD0wO3QhPT1yOysrdCluLnNhZmVTZXRUZXh0dXJlQ3ViZShlW3RdfHx0YSxpW3RdKX1mdW5jdGlvbiB6YSh0LGUsbil7dGhpcy5pZD10LHRoaXMuYWRkcj1uLHRoaXMuY2FjaGU9W10sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSA1MTI2OnJldHVybiB1YTtjYXNlIDM1NjY0OnJldHVybiBoYTtjYXNlIDM1NjY1OnJldHVybiBkYTtjYXNlIDM1NjY2OnJldHVybiBwYTtjYXNlIDM1Njc0OnJldHVybiBmYTtjYXNlIDM1Njc1OnJldHVybiBtYTtjYXNlIDM1Njc2OnJldHVybiBnYTtjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gd2E7Y2FzZSAzNTY2NzpjYXNlIDM1NjcxOnJldHVybiBfYTtjYXNlIDM1NjY4OmNhc2UgMzU2NzI6cmV0dXJuIE1hO2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gU2E7Y2FzZSA1MTI1OnJldHVybiBUYTtjYXNlIDM1Njc4OmNhc2UgMzYxOTg6Y2FzZSAzNjI5ODpjYXNlIDM2MzA2OmNhc2UgMzU2ODI6cmV0dXJuIHZhO2Nhc2UgMzU2Nzk6Y2FzZSAzNjI5OTpjYXNlIDM2MzA3OnJldHVybiB4YTtjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBiYTtjYXNlIDM2Mjg5OmNhc2UgMzYzMDM6Y2FzZSAzNjMxMTpjYXNlIDM2MjkyOnJldHVybiB5YX19KGUudHlwZSl9ZnVuY3Rpb24gR2EodCxlLG4pe3RoaXMuaWQ9dCx0aGlzLmFkZHI9bix0aGlzLmNhY2hlPVtdLHRoaXMuc2l6ZT1lLnNpemUsdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSA1MTI2OnJldHVybiBFYTtjYXNlIDM1NjY0OnJldHVybiBDYTtjYXNlIDM1NjY1OnJldHVybiBJYTtjYXNlIDM1NjY2OnJldHVybiBPYTtjYXNlIDM1Njc0OnJldHVybiBOYTtjYXNlIDM1Njc1OnJldHVybiBEYTtjYXNlIDM1Njc2OnJldHVybiBCYTtjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gQWE7Y2FzZSAzNTY2NzpjYXNlIDM1NjcxOnJldHVybiBMYTtjYXNlIDM1NjY4OmNhc2UgMzU2NzI6cmV0dXJuIFJhO2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gUGE7Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBGYTtjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBVYX19KGUudHlwZSl9ZnVuY3Rpb24gSGEodCl7dGhpcy5pZD10LHRoaXMuc2VxPVtdLHRoaXMubWFwPXt9fUdhLnByb3RvdHlwZS51cGRhdGVDYWNoZT1mdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuY2FjaGU7dCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmZS5sZW5ndGghPT10Lmxlbmd0aCYmKHRoaXMuY2FjaGU9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCkpLGNhKGUsdCl9LEhhLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj10aGlzLnNlcTtmb3IobGV0IGk9MCxvPXIubGVuZ3RoO2khPT1vOysraSl7Y29uc3Qgbz1yW2ldO28uc2V0VmFsdWUodCxlW28uaWRdLG4pfX07Y29uc3Qga2E9LyhbXFx3XFxkX10rKShcXF0pPyhcXFt8XFwuKT8vZztmdW5jdGlvbiBWYSh0LGUpe3Quc2VxLnB1c2goZSksdC5tYXBbZS5pZF09ZX1mdW5jdGlvbiBqYSh0LGUsbil7Y29uc3Qgcj10Lm5hbWUsaT1yLmxlbmd0aDtmb3Ioa2EubGFzdEluZGV4PTA7Oyl7Y29uc3Qgbz1rYS5leGVjKHIpLGE9a2EubGFzdEluZGV4O2xldCBzPW9bMV07Y29uc3QgYz1cIl1cIj09PW9bMl0sbD1vWzNdO2lmKGMmJihzfD0wKSx2b2lkIDA9PT1sfHxcIltcIj09PWwmJmErMj09PWkpe1ZhKG4sdm9pZCAwPT09bD9uZXcgemEocyx0LGUpOm5ldyBHYShzLHQsZSkpO2JyZWFrfXtsZXQgdD1uLm1hcFtzXTt2b2lkIDA9PT10JiYodD1uZXcgSGEocyksVmEobix0KSksbj10fX19ZnVuY3Rpb24gV2EodCxlKXt0aGlzLnNlcT1bXSx0aGlzLm1hcD17fTtjb25zdCBuPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzE4KTtmb3IobGV0IHI9MDtyPG47KytyKXtjb25zdCBuPXQuZ2V0QWN0aXZlVW5pZm9ybShlLHIpO2phKG4sdC5nZXRVbmlmb3JtTG9jYXRpb24oZSxuLm5hbWUpLHRoaXMpfX1mdW5jdGlvbiBYYSh0LGUsbil7Y29uc3Qgcj10LmNyZWF0ZVNoYWRlcihlKTtyZXR1cm4gdC5zaGFkZXJTb3VyY2UocixuKSx0LmNvbXBpbGVTaGFkZXIocikscn1XYS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT10aGlzLm1hcFtlXTt2b2lkIDAhPT1pJiZpLnNldFZhbHVlKHQsbixyKX0sV2EucHJvdG90eXBlLnNldE9wdGlvbmFsPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWVbbl07dm9pZCAwIT09ciYmdGhpcy5zZXRWYWx1ZSh0LG4scil9LFdhLnVwbG9hZD1mdW5jdGlvbih0LGUsbixyKXtmb3IobGV0IGk9MCxvPWUubGVuZ3RoO2khPT1vOysraSl7Y29uc3Qgbz1lW2ldLGE9bltvLmlkXTshMSE9PWEubmVlZHNVcGRhdGUmJm8uc2V0VmFsdWUodCxhLnZhbHVlLHIpfX0sV2Euc2VxV2l0aFZhbHVlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MCxpPXQubGVuZ3RoO3IhPT1pOysrcil7Y29uc3QgaT10W3JdO2kuaWQgaW4gZSYmbi5wdXNoKGkpfXJldHVybiBufTtsZXQgcWE9MDtmdW5jdGlvbiBZYSh0KXtzd2l0Y2godCl7Y2FzZSBKZTpyZXR1cm5bXCJMaW5lYXJcIixcIiggdmFsdWUgKVwiXTtjYXNlIEtlOnJldHVybltcInNSR0JcIixcIiggdmFsdWUgKVwiXTtjYXNlICRlOnJldHVybltcIlJHQkVcIixcIiggdmFsdWUgKVwiXTtjYXNlIGVuOnJldHVybltcIlJHQk1cIixcIiggdmFsdWUsIDcuMCApXCJdO2Nhc2Ugbm46cmV0dXJuW1wiUkdCTVwiLFwiKCB2YWx1ZSwgMTYuMCApXCJdO2Nhc2Ugcm46cmV0dXJuW1wiUkdCRFwiLFwiKCB2YWx1ZSwgMjU2LjAgKVwiXTtjYXNlIFFlOnJldHVybltcIkdhbW1hXCIsXCIoIHZhbHVlLCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKVwiXTtjYXNlIHRuOnJldHVybltcIkxvZ0x1dlwiLFwiKCB2YWx1ZSApXCJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUHJvZ3JhbTogVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6XCIsdCksW1wiTGluZWFyXCIsXCIoIHZhbHVlIClcIl19fWZ1bmN0aW9uIFphKHQsZSxuKXtjb25zdCByPXQuZ2V0U2hhZGVyUGFyYW1ldGVyKGUsMzU3MTMpLGk9dC5nZXRTaGFkZXJJbmZvTG9nKGUpLnRyaW0oKTtpZihyJiZcIlwiPT09aSlyZXR1cm5cIlwiO3JldHVyblwiVEhSRUUuV2ViR0xTaGFkZXI6IGdsLmdldFNoYWRlckluZm9Mb2coKSBcIituK1wiXFxuXCIraStmdW5jdGlvbih0KXtjb25zdCBlPXQuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT10KzErXCI6IFwiK2VbdF07cmV0dXJuIGUuam9pbihcIlxcblwiKX0odC5nZXRTaGFkZXJTb3VyY2UoZSkpfWZ1bmN0aW9uIEphKHQsZSl7Y29uc3Qgbj1ZYShlKTtyZXR1cm5cInZlYzQgXCIrdCtcIiggdmVjNCB2YWx1ZSApIHsgcmV0dXJuIFwiK25bMF0rXCJUb0xpbmVhclwiK25bMV0rXCI7IH1cIn1mdW5jdGlvbiBLYSh0LGUpe2NvbnN0IG49WWEoZSk7cmV0dXJuXCJ2ZWM0IFwiK3QrXCIoIHZlYzQgdmFsdWUgKSB7IHJldHVybiBMaW5lYXJUb1wiK25bMF0rblsxXStcIjsgfVwifWZ1bmN0aW9uIFFhKHQsZSl7bGV0IG47c3dpdGNoKGUpe2Nhc2UgJDpuPVwiTGluZWFyXCI7YnJlYWs7Y2FzZSB0dDpuPVwiUmVpbmhhcmRcIjticmVhaztjYXNlIGV0Om49XCJPcHRpbWl6ZWRDaW5lb25cIjticmVhaztjYXNlIG50Om49XCJBQ0VTRmlsbWljXCI7YnJlYWs7Y2FzZSBydDpuPVwiQ3VzdG9tXCI7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOlwiLGUpLG49XCJMaW5lYXJcIn1yZXR1cm5cInZlYzMgXCIrdCtcIiggdmVjMyBjb2xvciApIHsgcmV0dXJuIFwiK24rXCJUb25lTWFwcGluZyggY29sb3IgKTsgfVwifWZ1bmN0aW9uICRhKHQpe3JldHVyblwiXCIhPT10fWZ1bmN0aW9uIHRzKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgvTlVNX0RJUl9MSUdIVFMvZyxlLm51bURpckxpZ2h0cykucmVwbGFjZSgvTlVNX1NQT1RfTElHSFRTL2csZS5udW1TcG90TGlnaHRzKS5yZXBsYWNlKC9OVU1fUkVDVF9BUkVBX0xJR0hUUy9nLGUubnVtUmVjdEFyZWFMaWdodHMpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVFMvZyxlLm51bVBvaW50TGlnaHRzKS5yZXBsYWNlKC9OVU1fSEVNSV9MSUdIVFMvZyxlLm51bUhlbWlMaWdodHMpLnJlcGxhY2UoL05VTV9ESVJfTElHSFRfU0hBRE9XUy9nLGUubnVtRGlyTGlnaHRTaGFkb3dzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVF9TSEFET1dTL2csZS5udW1TcG90TGlnaHRTaGFkb3dzKS5yZXBsYWNlKC9OVU1fUE9JTlRfTElHSFRfU0hBRE9XUy9nLGUubnVtUG9pbnRMaWdodFNoYWRvd3MpfWZ1bmN0aW9uIGVzKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgvTlVNX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMpLnJlcGxhY2UoL1VOSU9OX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMtZS5udW1DbGlwSW50ZXJzZWN0aW9uKX1jb25zdCBucz0vXlsgXFx0XSojaW5jbHVkZSArPChbXFx3XFxkLi9dKyk+L2dtO2Z1bmN0aW9uIHJzKHQpe3JldHVybiB0LnJlcGxhY2UobnMsaXMpfWZ1bmN0aW9uIGlzKHQsZSl7Y29uc3Qgbj1Jb1tlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgcmVzb2x2ZSAjaW5jbHVkZSA8XCIrZStcIj5cIik7cmV0dXJuIHJzKG4pfWNvbnN0IG9zPS8jcHJhZ21hIHVucm9sbF9sb29wW1xcc10rP2ZvciBcXCggaW50IGkgXFw9IChcXGQrKVxcOyBpIDwgKFxcZCspXFw7IGkgXFwrXFwrIFxcKSBcXHsoW1xcc1xcU10rPykoPz1cXH0pXFx9L2csYXM9LyNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcXHMrZm9yXFxzKlxcKFxccyppbnRcXHMraVxccyo9XFxzKihcXGQrKVxccyo7XFxzKmlcXHMqPFxccyooXFxkKylcXHMqO1xccyppXFxzKlxcK1xcK1xccypcXClcXHMqeyhbXFxzXFxTXSs/KX1cXHMrI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQvZztmdW5jdGlvbiBzcyh0KXtyZXR1cm4gdC5yZXBsYWNlKGFzLGxzKS5yZXBsYWNlKG9zLGNzKX1mdW5jdGlvbiBjcyh0LGUsbixyKXtyZXR1cm4gY29uc29sZS53YXJuKFwiV2ViR0xQcm9ncmFtOiAjcHJhZ21hIHVucm9sbF9sb29wIHNoYWRlciBzeW50YXggaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0IHN5bnRheCBpbnN0ZWFkLlwiKSxscyh0LGUsbixyKX1mdW5jdGlvbiBscyh0LGUsbixyKXtsZXQgaT1cIlwiO2ZvcihsZXQgdD1wYXJzZUludChlKTt0PHBhcnNlSW50KG4pO3QrKylpKz1yLnJlcGxhY2UoL1xcW1xccyppXFxzKlxcXS9nLFwiWyBcIit0K1wiIF1cIikucmVwbGFjZSgvVU5ST0xMRURfTE9PUF9JTkRFWC9nLHQpO3JldHVybiBpfWZ1bmN0aW9uIHVzKHQpe2xldCBlPVwicHJlY2lzaW9uIFwiK3QucHJlY2lzaW9uK1wiIGZsb2F0O1xcbnByZWNpc2lvbiBcIit0LnByZWNpc2lvbitcIiBpbnQ7XCI7cmV0dXJuXCJoaWdocFwiPT09dC5wcmVjaXNpb24/ZSs9XCJcXG4jZGVmaW5lIEhJR0hfUFJFQ0lTSU9OXCI6XCJtZWRpdW1wXCI9PT10LnByZWNpc2lvbj9lKz1cIlxcbiNkZWZpbmUgTUVESVVNX1BSRUNJU0lPTlwiOlwibG93cFwiPT09dC5wcmVjaXNpb24mJihlKz1cIlxcbiNkZWZpbmUgTE9XX1BSRUNJU0lPTlwiKSxlfWZ1bmN0aW9uIGhzKHQsZSxuLHIpe2NvbnN0IGk9dC5nZXRDb250ZXh0KCksbz1uLmRlZmluZXM7bGV0IGE9bi52ZXJ0ZXhTaGFkZXIscz1uLmZyYWdtZW50U2hhZGVyO2NvbnN0IGM9ZnVuY3Rpb24odCl7bGV0IGU9XCJTSEFET1dNQVBfVFlQRV9CQVNJQ1wiO3JldHVybiB0LnNoYWRvd01hcFR5cGU9PT1oP2U9XCJTSEFET1dNQVBfVFlQRV9QQ0ZcIjp0LnNoYWRvd01hcFR5cGU9PT1kP2U9XCJTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVFwiOnQuc2hhZG93TWFwVHlwZT09PXAmJihlPVwiU0hBRE9XTUFQX1RZUEVfVlNNXCIpLGV9KG4pLGw9ZnVuY3Rpb24odCl7bGV0IGU9XCJFTlZNQVBfVFlQRV9DVUJFXCI7aWYodC5lbnZNYXApc3dpdGNoKHQuZW52TWFwTW9kZSl7Y2FzZSBvdDpjYXNlIGF0OmU9XCJFTlZNQVBfVFlQRV9DVUJFXCI7YnJlYWs7Y2FzZSBsdDpjYXNlIHV0OmU9XCJFTlZNQVBfVFlQRV9DVUJFX1VWXCJ9cmV0dXJuIGV9KG4pLHU9ZnVuY3Rpb24odCl7bGV0IGU9XCJFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXCI7aWYodC5lbnZNYXApc3dpdGNoKHQuZW52TWFwTW9kZSl7Y2FzZSBhdDpjYXNlIHV0OmU9XCJFTlZNQVBfTU9ERV9SRUZSQUNUSU9OXCJ9cmV0dXJuIGV9KG4pLGY9ZnVuY3Rpb24odCl7bGV0IGU9XCJFTlZNQVBfQkxFTkRJTkdfTk9ORVwiO2lmKHQuZW52TWFwKXN3aXRjaCh0LmNvbWJpbmUpe2Nhc2UgWjplPVwiRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZXCI7YnJlYWs7Y2FzZSBKOmU9XCJFTlZNQVBfQkxFTkRJTkdfTUlYXCI7YnJlYWs7Y2FzZSBLOmU9XCJFTlZNQVBfQkxFTkRJTkdfQUREXCJ9cmV0dXJuIGV9KG4pLG09dC5nYW1tYUZhY3Rvcj4wP3QuZ2FtbWFGYWN0b3I6MSxnPW4uaXNXZWJHTDI/XCJcIjpmdW5jdGlvbih0KXtyZXR1cm5bdC5leHRlbnNpb25EZXJpdmF0aXZlc3x8dC5lbnZNYXBDdWJlVVZ8fHQuYnVtcE1hcHx8dC50YW5nZW50U3BhY2VOb3JtYWxNYXB8fHQuY2xlYXJjb2F0Tm9ybWFsTWFwfHx0LmZsYXRTaGFkaW5nfHxcInBoeXNpY2FsXCI9PT10LnNoYWRlcklEP1wiI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcIjpcIlwiLCh0LmV4dGVuc2lvbkZyYWdEZXB0aHx8dC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyKSYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD9cIiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGVcIjpcIlwiLHQuZXh0ZW5zaW9uRHJhd0J1ZmZlcnMmJnQucmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVycz9cIiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcIjpcIlwiLCh0LmV4dGVuc2lvblNoYWRlclRleHR1cmVMT0R8fHQuZW52TWFwKSYmdC5yZW5kZXJlckV4dGVuc2lvblNoYWRlclRleHR1cmVMb2Q/XCIjZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QgOiBlbmFibGVcIjpcIlwiXS5maWx0ZXIoJGEpLmpvaW4oXCJcXG5cIil9KG4pLHY9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCByPXRbbl07ITEhPT1yJiZlLnB1c2goXCIjZGVmaW5lIFwiK24rXCIgXCIrcil9cmV0dXJuIGUuam9pbihcIlxcblwiKX0obykseT1pLmNyZWF0ZVByb2dyYW0oKTtsZXQgeCxiLHc9bi5nbHNsVmVyc2lvbj9cIiN2ZXJzaW9uIFwiK24uZ2xzbFZlcnNpb24rXCJcXG5cIjpcIlwiO24uaXNSYXdTaGFkZXJNYXRlcmlhbD8oeD1bdl0uZmlsdGVyKCRhKS5qb2luKFwiXFxuXCIpLHgubGVuZ3RoPjAmJih4Kz1cIlxcblwiKSxiPVtnLHZdLmZpbHRlcigkYSkuam9pbihcIlxcblwiKSxiLmxlbmd0aD4wJiYoYis9XCJcXG5cIikpOih4PVt1cyhuKSxcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIrbi5zaGFkZXJOYW1lLHYsbi5pbnN0YW5jaW5nP1wiI2RlZmluZSBVU0VfSU5TVEFOQ0lOR1wiOlwiXCIsbi5pbnN0YW5jaW5nQ29sb3I/XCIjZGVmaW5lIFVTRV9JTlNUQU5DSU5HX0NPTE9SXCI6XCJcIixuLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/XCIjZGVmaW5lIFZFUlRFWF9URVhUVVJFU1wiOlwiXCIsXCIjZGVmaW5lIEdBTU1BX0ZBQ1RPUiBcIittLFwiI2RlZmluZSBNQVhfQk9ORVMgXCIrbi5tYXhCb25lcyxuLnVzZUZvZyYmbi5mb2c/XCIjZGVmaW5lIFVTRV9GT0dcIjpcIlwiLG4udXNlRm9nJiZuLmZvZ0V4cDI/XCIjZGVmaW5lIEZPR19FWFAyXCI6XCJcIixuLm1hcD9cIiNkZWZpbmUgVVNFX01BUFwiOlwiXCIsbi5lbnZNYXA/XCIjZGVmaW5lIFVTRV9FTlZNQVBcIjpcIlwiLG4uZW52TWFwP1wiI2RlZmluZSBcIit1OlwiXCIsbi5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixuLmFvTWFwP1wiI2RlZmluZSBVU0VfQU9NQVBcIjpcIlwiLG4uZW1pc3NpdmVNYXA/XCIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUFwiOlwiXCIsbi5idW1wTWFwP1wiI2RlZmluZSBVU0VfQlVNUE1BUFwiOlwiXCIsbi5ub3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9OT1JNQUxNQVBcIjpcIlwiLG4ubm9ybWFsTWFwJiZuLm9iamVjdFNwYWNlTm9ybWFsTWFwP1wiI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcIjpcIlwiLG4ubm9ybWFsTWFwJiZuLnRhbmdlbnRTcGFjZU5vcm1hbE1hcD9cIiNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUFwiOlwiXCIsbi5jbGVhcmNvYXRNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVBcIjpcIlwiLG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUFwiOlwiXCIsbi5jbGVhcmNvYXROb3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXCI6XCJcIixuLmRpc3BsYWNlbWVudE1hcCYmbi5zdXBwb3J0c1ZlcnRleFRleHR1cmVzP1wiI2RlZmluZSBVU0VfRElTUExBQ0VNRU5UTUFQXCI6XCJcIixuLnNwZWN1bGFyTWFwP1wiI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVBcIjpcIlwiLG4ucm91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQXCI6XCJcIixuLm1ldGFsbmVzc01hcD9cIiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUFwiOlwiXCIsbi5hbHBoYU1hcD9cIiNkZWZpbmUgVVNFX0FMUEhBTUFQXCI6XCJcIixuLnRyYW5zbWlzc2lvbk1hcD9cIiNkZWZpbmUgVVNFX1RSQU5TTUlTU0lPTk1BUFwiOlwiXCIsbi52ZXJ0ZXhUYW5nZW50cz9cIiNkZWZpbmUgVVNFX1RBTkdFTlRcIjpcIlwiLG4udmVydGV4Q29sb3JzP1wiI2RlZmluZSBVU0VfQ09MT1JcIjpcIlwiLG4udmVydGV4VXZzP1wiI2RlZmluZSBVU0VfVVZcIjpcIlwiLG4udXZzVmVydGV4T25seT9cIiNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZXCI6XCJcIixuLmZsYXRTaGFkaW5nP1wiI2RlZmluZSBGTEFUX1NIQURFRFwiOlwiXCIsbi5za2lubmluZz9cIiNkZWZpbmUgVVNFX1NLSU5OSU5HXCI6XCJcIixuLnVzZVZlcnRleFRleHR1cmU/XCIjZGVmaW5lIEJPTkVfVEVYVFVSRVwiOlwiXCIsbi5tb3JwaFRhcmdldHM/XCIjZGVmaW5lIFVTRV9NT1JQSFRBUkdFVFNcIjpcIlwiLG4ubW9ycGhOb3JtYWxzJiYhMT09PW4uZmxhdFNoYWRpbmc/XCIjZGVmaW5lIFVTRV9NT1JQSE5PUk1BTFNcIjpcIlwiLG4uZG91YmxlU2lkZWQ/XCIjZGVmaW5lIERPVUJMRV9TSURFRFwiOlwiXCIsbi5mbGlwU2lkZWQ/XCIjZGVmaW5lIEZMSVBfU0lERURcIjpcIlwiLG4uc2hhZG93TWFwRW5hYmxlZD9cIiNkZWZpbmUgVVNFX1NIQURPV01BUFwiOlwiXCIsbi5zaGFkb3dNYXBFbmFibGVkP1wiI2RlZmluZSBcIitjOlwiXCIsbi5zaXplQXR0ZW51YXRpb24/XCIjZGVmaW5lIFVTRV9TSVpFQVRURU5VQVRJT05cIjpcIlwiLG4ubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj9cIiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGXCI6XCJcIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJm4ucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/XCIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRl9FWFRcIjpcIlwiLFwidW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4O1wiLFwidW5pZm9ybSBtYXQ0IG1vZGVsVmlld01hdHJpeDtcIixcInVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1wiLFwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XCIsXCJ1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4O1wiLFwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uO1wiLFwidW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljO1wiLFwiI2lmZGVmIFVTRV9JTlNUQU5DSU5HXCIsXCJcXHRhdHRyaWJ1dGUgbWF0NCBpbnN0YW5jZU1hdHJpeDtcIixcIiNlbmRpZlwiLFwiI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SXCIsXCJcXHRhdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUNvbG9yO1wiLFwiI2VuZGlmXCIsXCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDtcIixcImF0dHJpYnV0ZSB2ZWMyIHV2O1wiLFwiI2lmZGVmIFVTRV9UQU5HRU5UXCIsXCJcXHRhdHRyaWJ1dGUgdmVjNCB0YW5nZW50O1wiLFwiI2VuZGlmXCIsXCIjaWZkZWYgVVNFX0NPTE9SXCIsXCJcXHRhdHRyaWJ1dGUgdmVjMyBjb2xvcjtcIixcIiNlbmRpZlwiLFwiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MDtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MjtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MztcIixcIlxcdCNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDE7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7XCIsXCJcXHQjZWxzZVwiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ0O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ1O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ2O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ3O1wiLFwiXFx0I2VuZGlmXCIsXCIjZW5kaWZcIixcIiNpZmRlZiBVU0VfU0tJTk5JTkdcIixcIlxcdGF0dHJpYnV0ZSB2ZWM0IHNraW5JbmRleDtcIixcIlxcdGF0dHJpYnV0ZSB2ZWM0IHNraW5XZWlnaHQ7XCIsXCIjZW5kaWZcIixcIlxcblwiXS5maWx0ZXIoJGEpLmpvaW4oXCJcXG5cIiksYj1bZyx1cyhuKSxcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIrbi5zaGFkZXJOYW1lLHYsbi5hbHBoYVRlc3Q/XCIjZGVmaW5lIEFMUEhBVEVTVCBcIituLmFscGhhVGVzdCsobi5hbHBoYVRlc3QlMT9cIlwiOlwiLjBcIik6XCJcIixcIiNkZWZpbmUgR0FNTUFfRkFDVE9SIFwiK20sbi51c2VGb2cmJm4uZm9nP1wiI2RlZmluZSBVU0VfRk9HXCI6XCJcIixuLnVzZUZvZyYmbi5mb2dFeHAyP1wiI2RlZmluZSBGT0dfRVhQMlwiOlwiXCIsbi5tYXA/XCIjZGVmaW5lIFVTRV9NQVBcIjpcIlwiLG4ubWF0Y2FwP1wiI2RlZmluZSBVU0VfTUFUQ0FQXCI6XCJcIixuLmVudk1hcD9cIiNkZWZpbmUgVVNFX0VOVk1BUFwiOlwiXCIsbi5lbnZNYXA/XCIjZGVmaW5lIFwiK2w6XCJcIixuLmVudk1hcD9cIiNkZWZpbmUgXCIrdTpcIlwiLG4uZW52TWFwP1wiI2RlZmluZSBcIitmOlwiXCIsbi5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixuLmFvTWFwP1wiI2RlZmluZSBVU0VfQU9NQVBcIjpcIlwiLG4uZW1pc3NpdmVNYXA/XCIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUFwiOlwiXCIsbi5idW1wTWFwP1wiI2RlZmluZSBVU0VfQlVNUE1BUFwiOlwiXCIsbi5ub3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9OT1JNQUxNQVBcIjpcIlwiLG4ubm9ybWFsTWFwJiZuLm9iamVjdFNwYWNlTm9ybWFsTWFwP1wiI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcIjpcIlwiLG4ubm9ybWFsTWFwJiZuLnRhbmdlbnRTcGFjZU5vcm1hbE1hcD9cIiNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUFwiOlwiXCIsbi5jbGVhcmNvYXRNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVBcIjpcIlwiLG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUFwiOlwiXCIsbi5jbGVhcmNvYXROb3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXCI6XCJcIixuLnNwZWN1bGFyTWFwP1wiI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVBcIjpcIlwiLG4ucm91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQXCI6XCJcIixuLm1ldGFsbmVzc01hcD9cIiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUFwiOlwiXCIsbi5hbHBoYU1hcD9cIiNkZWZpbmUgVVNFX0FMUEhBTUFQXCI6XCJcIixuLnNoZWVuP1wiI2RlZmluZSBVU0VfU0hFRU5cIjpcIlwiLG4udHJhbnNtaXNzaW9uTWFwP1wiI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OTUFQXCI6XCJcIixuLnZlcnRleFRhbmdlbnRzP1wiI2RlZmluZSBVU0VfVEFOR0VOVFwiOlwiXCIsbi52ZXJ0ZXhDb2xvcnN8fG4uaW5zdGFuY2luZ0NvbG9yP1wiI2RlZmluZSBVU0VfQ09MT1JcIjpcIlwiLG4udmVydGV4VXZzP1wiI2RlZmluZSBVU0VfVVZcIjpcIlwiLG4udXZzVmVydGV4T25seT9cIiNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZXCI6XCJcIixuLmdyYWRpZW50TWFwP1wiI2RlZmluZSBVU0VfR1JBRElFTlRNQVBcIjpcIlwiLG4uZmxhdFNoYWRpbmc/XCIjZGVmaW5lIEZMQVRfU0hBREVEXCI6XCJcIixuLmRvdWJsZVNpZGVkP1wiI2RlZmluZSBET1VCTEVfU0lERURcIjpcIlwiLG4uZmxpcFNpZGVkP1wiI2RlZmluZSBGTElQX1NJREVEXCI6XCJcIixuLnNoYWRvd01hcEVuYWJsZWQ/XCIjZGVmaW5lIFVTRV9TSEFET1dNQVBcIjpcIlwiLG4uc2hhZG93TWFwRW5hYmxlZD9cIiNkZWZpbmUgXCIrYzpcIlwiLG4ucHJlbXVsdGlwbGllZEFscGhhP1wiI2RlZmluZSBQUkVNVUxUSVBMSUVEX0FMUEhBXCI6XCJcIixuLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzP1wiI2RlZmluZSBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXCI6XCJcIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/XCIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRlwiOlwiXCIsbi5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZuLnJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUXCI6XCJcIiwobi5leHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EfHxuLmVudk1hcCkmJm4ucmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kP1wiI2RlZmluZSBURVhUVVJFX0xPRF9FWFRcIjpcIlwiLFwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XCIsXCJ1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247XCIsXCJ1bmlmb3JtIGJvb2wgaXNPcnRob2dyYXBoaWM7XCIsbi50b25lTWFwcGluZyE9PVE/XCIjZGVmaW5lIFRPTkVfTUFQUElOR1wiOlwiXCIsbi50b25lTWFwcGluZyE9PVE/SW8udG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDpcIlwiLG4udG9uZU1hcHBpbmchPT1RP1FhKFwidG9uZU1hcHBpbmdcIixuLnRvbmVNYXBwaW5nKTpcIlwiLG4uZGl0aGVyaW5nP1wiI2RlZmluZSBESVRIRVJJTkdcIjpcIlwiLElvLmVuY29kaW5nc19wYXJzX2ZyYWdtZW50LG4ubWFwP0phKFwibWFwVGV4ZWxUb0xpbmVhclwiLG4ubWFwRW5jb2RpbmcpOlwiXCIsbi5tYXRjYXA/SmEoXCJtYXRjYXBUZXhlbFRvTGluZWFyXCIsbi5tYXRjYXBFbmNvZGluZyk6XCJcIixuLmVudk1hcD9KYShcImVudk1hcFRleGVsVG9MaW5lYXJcIixuLmVudk1hcEVuY29kaW5nKTpcIlwiLG4uZW1pc3NpdmVNYXA/SmEoXCJlbWlzc2l2ZU1hcFRleGVsVG9MaW5lYXJcIixuLmVtaXNzaXZlTWFwRW5jb2RpbmcpOlwiXCIsbi5saWdodE1hcD9KYShcImxpZ2h0TWFwVGV4ZWxUb0xpbmVhclwiLG4ubGlnaHRNYXBFbmNvZGluZyk6XCJcIixLYShcImxpbmVhclRvT3V0cHV0VGV4ZWxcIixuLm91dHB1dEVuY29kaW5nKSxuLmRlcHRoUGFja2luZz9cIiNkZWZpbmUgREVQVEhfUEFDS0lORyBcIituLmRlcHRoUGFja2luZzpcIlwiLFwiXFxuXCJdLmZpbHRlcigkYSkuam9pbihcIlxcblwiKSksYT1ycyhhKSxhPXRzKGEsbiksYT1lcyhhLG4pLHM9cnMocykscz10cyhzLG4pLHM9ZXMocyxuKSxhPXNzKGEpLHM9c3Mocyksbi5pc1dlYkdMMiYmITAhPT1uLmlzUmF3U2hhZGVyTWF0ZXJpYWwmJih3PVwiI3ZlcnNpb24gMzAwIGVzXFxuXCIseD1bXCIjZGVmaW5lIGF0dHJpYnV0ZSBpblwiLFwiI2RlZmluZSB2YXJ5aW5nIG91dFwiLFwiI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZVwiXS5qb2luKFwiXFxuXCIpK1wiXFxuXCIreCxiPVtcIiNkZWZpbmUgdmFyeWluZyBpblwiLG4uZ2xzbFZlcnNpb249PT1Ebj9cIlwiOlwib3V0IGhpZ2hwIHZlYzQgcGNfZnJhZ0NvbG9yO1wiLG4uZ2xzbFZlcnNpb249PT1Ebj9cIlwiOlwiI2RlZmluZSBnbF9GcmFnQ29sb3IgcGNfZnJhZ0NvbG9yXCIsXCIjZGVmaW5lIGdsX0ZyYWdEZXB0aEVYVCBnbF9GcmFnRGVwdGhcIixcIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmVcIixcIiNkZWZpbmUgdGV4dHVyZUN1YmUgdGV4dHVyZVwiLFwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qIHRleHR1cmVQcm9qXCIsXCIjZGVmaW5lIHRleHR1cmUyRExvZEVYVCB0ZXh0dXJlTG9kXCIsXCIjZGVmaW5lIHRleHR1cmUyRFByb2pMb2RFWFQgdGV4dHVyZVByb2pMb2RcIixcIiNkZWZpbmUgdGV4dHVyZUN1YmVMb2RFWFQgdGV4dHVyZUxvZFwiLFwiI2RlZmluZSB0ZXh0dXJlMkRHcmFkRVhUIHRleHR1cmVHcmFkXCIsXCIjZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkRVhUIHRleHR1cmVQcm9qR3JhZFwiLFwiI2RlZmluZSB0ZXh0dXJlQ3ViZUdyYWRFWFQgdGV4dHVyZUdyYWRcIl0uam9pbihcIlxcblwiKStcIlxcblwiK2IpO2NvbnN0IF89dytiK3MsTT1YYShpLDM1NjMzLHcreCthKSxTPVhhKGksMzU2MzIsXyk7aWYoaS5hdHRhY2hTaGFkZXIoeSxNKSxpLmF0dGFjaFNoYWRlcih5LFMpLHZvaWQgMCE9PW4uaW5kZXgwQXR0cmlidXRlTmFtZT9pLmJpbmRBdHRyaWJMb2NhdGlvbih5LDAsbi5pbmRleDBBdHRyaWJ1dGVOYW1lKTohMD09PW4ubW9ycGhUYXJnZXRzJiZpLmJpbmRBdHRyaWJMb2NhdGlvbih5LDAsXCJwb3NpdGlvblwiKSxpLmxpbmtQcm9ncmFtKHkpLHQuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe2NvbnN0IHQ9aS5nZXRQcm9ncmFtSW5mb0xvZyh5KS50cmltKCksZT1pLmdldFNoYWRlckluZm9Mb2coTSkudHJpbSgpLG49aS5nZXRTaGFkZXJJbmZvTG9nKFMpLnRyaW0oKTtsZXQgcj0hMCxvPSEwO2lmKCExPT09aS5nZXRQcm9ncmFtUGFyYW1ldGVyKHksMzU3MTQpKXtyPSExO2NvbnN0IGU9WmEoaSxNLFwidmVydGV4XCIpLG49WmEoaSxTLFwiZnJhZ21lbnRcIik7Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMUHJvZ3JhbTogc2hhZGVyIGVycm9yOiBcIixpLmdldEVycm9yKCksXCIzNTcxNVwiLGkuZ2V0UHJvZ3JhbVBhcmFtZXRlcih5LDM1NzE1KSxcImdsLmdldFByb2dyYW1JbmZvTG9nXCIsdCxlLG4pfWVsc2VcIlwiIT09dD9jb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFByb2dyYW06IGdsLmdldFByb2dyYW1JbmZvTG9nKClcIix0KTpcIlwiIT09ZSYmXCJcIiE9PW58fChvPSExKTtvJiYodGhpcy5kaWFnbm9zdGljcz17cnVubmFibGU6cixwcm9ncmFtTG9nOnQsdmVydGV4U2hhZGVyOntsb2c6ZSxwcmVmaXg6eH0sZnJhZ21lbnRTaGFkZXI6e2xvZzpuLHByZWZpeDpifX0pfWxldCBULEU7cmV0dXJuIGkuZGVsZXRlU2hhZGVyKE0pLGkuZGVsZXRlU2hhZGVyKFMpLHRoaXMuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09VCYmKFQ9bmV3IFdhKGkseSkpLFR9LHRoaXMuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1FJiYoRT1mdW5jdGlvbih0LGUpe2NvbnN0IG49e30scj10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSwzNTcyMSk7Zm9yKGxldCBpPTA7aTxyO2krKyl7Y29uc3Qgcj10LmdldEFjdGl2ZUF0dHJpYihlLGkpLm5hbWU7bltyXT10LmdldEF0dHJpYkxvY2F0aW9uKGUscil9cmV0dXJuIG59KGkseSkpLEV9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe3IucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKSxpLmRlbGV0ZVByb2dyYW0oeSksdGhpcy5wcm9ncmFtPXZvaWQgMH0sdGhpcy5uYW1lPW4uc2hhZGVyTmFtZSx0aGlzLmlkPXFhKyssdGhpcy5jYWNoZUtleT1lLHRoaXMudXNlZFRpbWVzPTEsdGhpcy5wcm9ncmFtPXksdGhpcy52ZXJ0ZXhTaGFkZXI9TSx0aGlzLmZyYWdtZW50U2hhZGVyPVMsdGhpc31mdW5jdGlvbiBkcyh0LGUsbixyLGksbyl7Y29uc3QgYT1bXSxzPXIuaXNXZWJHTDIsYz1yLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsbD1yLmZsb2F0VmVydGV4VGV4dHVyZXMsdT1yLm1heFZlcnRleFVuaWZvcm1zLGg9ci52ZXJ0ZXhUZXh0dXJlcztsZXQgZD1yLnByZWNpc2lvbjtjb25zdCBwPXtNZXNoRGVwdGhNYXRlcmlhbDpcImRlcHRoXCIsTWVzaERpc3RhbmNlTWF0ZXJpYWw6XCJkaXN0YW5jZVJHQkFcIixNZXNoTm9ybWFsTWF0ZXJpYWw6XCJub3JtYWxcIixNZXNoQmFzaWNNYXRlcmlhbDpcImJhc2ljXCIsTWVzaExhbWJlcnRNYXRlcmlhbDpcImxhbWJlcnRcIixNZXNoUGhvbmdNYXRlcmlhbDpcInBob25nXCIsTWVzaFRvb25NYXRlcmlhbDpcInRvb25cIixNZXNoU3RhbmRhcmRNYXRlcmlhbDpcInBoeXNpY2FsXCIsTWVzaFBoeXNpY2FsTWF0ZXJpYWw6XCJwaHlzaWNhbFwiLE1lc2hNYXRjYXBNYXRlcmlhbDpcIm1hdGNhcFwiLExpbmVCYXNpY01hdGVyaWFsOlwiYmFzaWNcIixMaW5lRGFzaGVkTWF0ZXJpYWw6XCJkYXNoZWRcIixQb2ludHNNYXRlcmlhbDpcInBvaW50c1wiLFNoYWRvd01hdGVyaWFsOlwic2hhZG93XCIsU3ByaXRlTWF0ZXJpYWw6XCJzcHJpdGVcIn0sZj1bXCJwcmVjaXNpb25cIixcImlzV2ViR0wyXCIsXCJzdXBwb3J0c1ZlcnRleFRleHR1cmVzXCIsXCJvdXRwdXRFbmNvZGluZ1wiLFwiaW5zdGFuY2luZ1wiLFwiaW5zdGFuY2luZ0NvbG9yXCIsXCJtYXBcIixcIm1hcEVuY29kaW5nXCIsXCJtYXRjYXBcIixcIm1hdGNhcEVuY29kaW5nXCIsXCJlbnZNYXBcIixcImVudk1hcE1vZGVcIixcImVudk1hcEVuY29kaW5nXCIsXCJlbnZNYXBDdWJlVVZcIixcImxpZ2h0TWFwXCIsXCJsaWdodE1hcEVuY29kaW5nXCIsXCJhb01hcFwiLFwiZW1pc3NpdmVNYXBcIixcImVtaXNzaXZlTWFwRW5jb2RpbmdcIixcImJ1bXBNYXBcIixcIm5vcm1hbE1hcFwiLFwib2JqZWN0U3BhY2VOb3JtYWxNYXBcIixcInRhbmdlbnRTcGFjZU5vcm1hbE1hcFwiLFwiY2xlYXJjb2F0TWFwXCIsXCJjbGVhcmNvYXRSb3VnaG5lc3NNYXBcIixcImNsZWFyY29hdE5vcm1hbE1hcFwiLFwiZGlzcGxhY2VtZW50TWFwXCIsXCJzcGVjdWxhck1hcFwiLFwicm91Z2huZXNzTWFwXCIsXCJtZXRhbG5lc3NNYXBcIixcImdyYWRpZW50TWFwXCIsXCJhbHBoYU1hcFwiLFwiY29tYmluZVwiLFwidmVydGV4Q29sb3JzXCIsXCJ2ZXJ0ZXhUYW5nZW50c1wiLFwidmVydGV4VXZzXCIsXCJ1dnNWZXJ0ZXhPbmx5XCIsXCJmb2dcIixcInVzZUZvZ1wiLFwiZm9nRXhwMlwiLFwiZmxhdFNoYWRpbmdcIixcInNpemVBdHRlbnVhdGlvblwiLFwibG9nYXJpdGhtaWNEZXB0aEJ1ZmZlclwiLFwic2tpbm5pbmdcIixcIm1heEJvbmVzXCIsXCJ1c2VWZXJ0ZXhUZXh0dXJlXCIsXCJtb3JwaFRhcmdldHNcIixcIm1vcnBoTm9ybWFsc1wiLFwibWF4TW9ycGhUYXJnZXRzXCIsXCJtYXhNb3JwaE5vcm1hbHNcIixcInByZW11bHRpcGxpZWRBbHBoYVwiLFwibnVtRGlyTGlnaHRzXCIsXCJudW1Qb2ludExpZ2h0c1wiLFwibnVtU3BvdExpZ2h0c1wiLFwibnVtSGVtaUxpZ2h0c1wiLFwibnVtUmVjdEFyZWFMaWdodHNcIixcIm51bURpckxpZ2h0U2hhZG93c1wiLFwibnVtUG9pbnRMaWdodFNoYWRvd3NcIixcIm51bVNwb3RMaWdodFNoYWRvd3NcIixcInNoYWRvd01hcEVuYWJsZWRcIixcInNoYWRvd01hcFR5cGVcIixcInRvbmVNYXBwaW5nXCIsXCJwaHlzaWNhbGx5Q29ycmVjdExpZ2h0c1wiLFwiYWxwaGFUZXN0XCIsXCJkb3VibGVTaWRlZFwiLFwiZmxpcFNpZGVkXCIsXCJudW1DbGlwcGluZ1BsYW5lc1wiLFwibnVtQ2xpcEludGVyc2VjdGlvblwiLFwiZGVwdGhQYWNraW5nXCIsXCJkaXRoZXJpbmdcIixcInNoZWVuXCIsXCJ0cmFuc21pc3Npb25NYXBcIl07ZnVuY3Rpb24gdih0KXtsZXQgZTtyZXR1cm4gdD90LmlzVGV4dHVyZT9lPXQuZW5jb2Rpbmc6dC5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xQcm9ncmFtcy5nZXRUZXh0dXJlRW5jb2RpbmdGcm9tTWFwOiBkb24ndCB1c2UgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLlwiKSxlPXQudGV4dHVyZS5lbmNvZGluZyk6ZT1KZSxlfXJldHVybntnZXRQYXJhbWV0ZXJzOmZ1bmN0aW9uKGksYSxmLHkseCl7Y29uc3QgYj15LmZvZyx3PWkuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD95LmVudmlyb25tZW50Om51bGwsXz1lLmdldChpLmVudk1hcHx8dyksTT1wW2kudHlwZV0sUz14LmlzU2tpbm5lZE1lc2g/ZnVuY3Rpb24odCl7Y29uc3QgZT10LnNrZWxldG9uLmJvbmVzO2lmKGwpcmV0dXJuIDEwMjQ7e2NvbnN0IHQ9dSxuPU1hdGguZmxvb3IoKHQtMjApLzQpLHI9TWF0aC5taW4obixlLmxlbmd0aCk7cmV0dXJuIHI8ZS5sZW5ndGg/KGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFNrZWxldG9uIGhhcyBcIitlLmxlbmd0aCtcIiBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgXCIrcitcIi5cIiksMCk6cn19KHgpOjA7bGV0IFQsRTtpZihudWxsIT09aS5wcmVjaXNpb24mJihkPXIuZ2V0TWF4UHJlY2lzaW9uKGkucHJlY2lzaW9uKSxkIT09aS5wcmVjaXNpb24mJmNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUHJvZ3JhbS5nZXRQYXJhbWV0ZXJzOlwiLGkucHJlY2lzaW9uLFwibm90IHN1cHBvcnRlZCwgdXNpbmdcIixkLFwiaW5zdGVhZC5cIikpLE0pe2NvbnN0IHQ9Tm9bTV07VD10LnZlcnRleFNoYWRlcixFPXQuZnJhZ21lbnRTaGFkZXJ9ZWxzZSBUPWkudmVydGV4U2hhZGVyLEU9aS5mcmFnbWVudFNoYWRlcjtjb25zdCBBPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7cmV0dXJue2lzV2ViR0wyOnMsc2hhZGVySUQ6TSxzaGFkZXJOYW1lOmkudHlwZSx2ZXJ0ZXhTaGFkZXI6VCxmcmFnbWVudFNoYWRlcjpFLGRlZmluZXM6aS5kZWZpbmVzLGlzUmF3U2hhZGVyTWF0ZXJpYWw6ITA9PT1pLmlzUmF3U2hhZGVyTWF0ZXJpYWwsZ2xzbFZlcnNpb246aS5nbHNsVmVyc2lvbixwcmVjaXNpb246ZCxpbnN0YW5jaW5nOiEwPT09eC5pc0luc3RhbmNlZE1lc2gsaW5zdGFuY2luZ0NvbG9yOiEwPT09eC5pc0luc3RhbmNlZE1lc2gmJm51bGwhPT14Lmluc3RhbmNlQ29sb3Isc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlczpoLG91dHB1dEVuY29kaW5nOm51bGwhPT1BP3YoQS50ZXh0dXJlKTp0Lm91dHB1dEVuY29kaW5nLG1hcDohIWkubWFwLG1hcEVuY29kaW5nOnYoaS5tYXApLG1hdGNhcDohIWkubWF0Y2FwLG1hdGNhcEVuY29kaW5nOnYoaS5tYXRjYXApLGVudk1hcDohIV8sZW52TWFwTW9kZTpfJiZfLm1hcHBpbmcsZW52TWFwRW5jb2Rpbmc6dihfKSxlbnZNYXBDdWJlVVY6ISFfJiYoXy5tYXBwaW5nPT09bHR8fF8ubWFwcGluZz09PXV0KSxsaWdodE1hcDohIWkubGlnaHRNYXAsbGlnaHRNYXBFbmNvZGluZzp2KGkubGlnaHRNYXApLGFvTWFwOiEhaS5hb01hcCxlbWlzc2l2ZU1hcDohIWkuZW1pc3NpdmVNYXAsZW1pc3NpdmVNYXBFbmNvZGluZzp2KGkuZW1pc3NpdmVNYXApLGJ1bXBNYXA6ISFpLmJ1bXBNYXAsbm9ybWFsTWFwOiEhaS5ub3JtYWxNYXAsb2JqZWN0U3BhY2VOb3JtYWxNYXA6aS5ub3JtYWxNYXBUeXBlPT09Y24sdGFuZ2VudFNwYWNlTm9ybWFsTWFwOmkubm9ybWFsTWFwVHlwZT09PXNuLGNsZWFyY29hdE1hcDohIWkuY2xlYXJjb2F0TWFwLGNsZWFyY29hdFJvdWdobmVzc01hcDohIWkuY2xlYXJjb2F0Um91Z2huZXNzTWFwLGNsZWFyY29hdE5vcm1hbE1hcDohIWkuY2xlYXJjb2F0Tm9ybWFsTWFwLGRpc3BsYWNlbWVudE1hcDohIWkuZGlzcGxhY2VtZW50TWFwLHJvdWdobmVzc01hcDohIWkucm91Z2huZXNzTWFwLG1ldGFsbmVzc01hcDohIWkubWV0YWxuZXNzTWFwLHNwZWN1bGFyTWFwOiEhaS5zcGVjdWxhck1hcCxhbHBoYU1hcDohIWkuYWxwaGFNYXAsZ3JhZGllbnRNYXA6ISFpLmdyYWRpZW50TWFwLHNoZWVuOiEhaS5zaGVlbix0cmFuc21pc3Npb25NYXA6ISFpLnRyYW5zbWlzc2lvbk1hcCxjb21iaW5lOmkuY29tYmluZSx2ZXJ0ZXhUYW5nZW50czppLm5vcm1hbE1hcCYmaS52ZXJ0ZXhUYW5nZW50cyx2ZXJ0ZXhDb2xvcnM6aS52ZXJ0ZXhDb2xvcnMsdmVydGV4VXZzOiEhKGkubWFwfHxpLmJ1bXBNYXB8fGkubm9ybWFsTWFwfHxpLnNwZWN1bGFyTWFwfHxpLmFscGhhTWFwfHxpLmVtaXNzaXZlTWFwfHxpLnJvdWdobmVzc01hcHx8aS5tZXRhbG5lc3NNYXB8fGkuY2xlYXJjb2F0TWFwfHxpLmNsZWFyY29hdFJvdWdobmVzc01hcHx8aS5jbGVhcmNvYXROb3JtYWxNYXB8fGkuZGlzcGxhY2VtZW50TWFwfHxpLnRyYW5zbWlzc2lvbk1hcCksdXZzVmVydGV4T25seTohKGkubWFwfHxpLmJ1bXBNYXB8fGkubm9ybWFsTWFwfHxpLnNwZWN1bGFyTWFwfHxpLmFscGhhTWFwfHxpLmVtaXNzaXZlTWFwfHxpLnJvdWdobmVzc01hcHx8aS5tZXRhbG5lc3NNYXB8fGkuY2xlYXJjb2F0Tm9ybWFsTWFwfHxpLnRyYW5zbWlzc2lvbk1hcHx8IWkuZGlzcGxhY2VtZW50TWFwKSxmb2c6ISFiLHVzZUZvZzppLmZvZyxmb2dFeHAyOmImJmIuaXNGb2dFeHAyLGZsYXRTaGFkaW5nOmkuZmxhdFNoYWRpbmcsc2l6ZUF0dGVudWF0aW9uOmkuc2l6ZUF0dGVudWF0aW9uLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6Yyxza2lubmluZzppLnNraW5uaW5nJiZTPjAsbWF4Qm9uZXM6Uyx1c2VWZXJ0ZXhUZXh0dXJlOmwsbW9ycGhUYXJnZXRzOmkubW9ycGhUYXJnZXRzLG1vcnBoTm9ybWFsczppLm1vcnBoTm9ybWFscyxtYXhNb3JwaFRhcmdldHM6dC5tYXhNb3JwaFRhcmdldHMsbWF4TW9ycGhOb3JtYWxzOnQubWF4TW9ycGhOb3JtYWxzLG51bURpckxpZ2h0czphLmRpcmVjdGlvbmFsLmxlbmd0aCxudW1Qb2ludExpZ2h0czphLnBvaW50Lmxlbmd0aCxudW1TcG90TGlnaHRzOmEuc3BvdC5sZW5ndGgsbnVtUmVjdEFyZWFMaWdodHM6YS5yZWN0QXJlYS5sZW5ndGgsbnVtSGVtaUxpZ2h0czphLmhlbWkubGVuZ3RoLG51bURpckxpZ2h0U2hhZG93czphLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aCxudW1Qb2ludExpZ2h0U2hhZG93czphLnBvaW50U2hhZG93TWFwLmxlbmd0aCxudW1TcG90TGlnaHRTaGFkb3dzOmEuc3BvdFNoYWRvd01hcC5sZW5ndGgsbnVtQ2xpcHBpbmdQbGFuZXM6by5udW1QbGFuZXMsbnVtQ2xpcEludGVyc2VjdGlvbjpvLm51bUludGVyc2VjdGlvbixkaXRoZXJpbmc6aS5kaXRoZXJpbmcsc2hhZG93TWFwRW5hYmxlZDp0LnNoYWRvd01hcC5lbmFibGVkJiZmLmxlbmd0aD4wLHNoYWRvd01hcFR5cGU6dC5zaGFkb3dNYXAudHlwZSx0b25lTWFwcGluZzppLnRvbmVNYXBwZWQ/dC50b25lTWFwcGluZzpRLHBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzOnQucGh5c2ljYWxseUNvcnJlY3RMaWdodHMscHJlbXVsdGlwbGllZEFscGhhOmkucHJlbXVsdGlwbGllZEFscGhhLGFscGhhVGVzdDppLmFscGhhVGVzdCxkb3VibGVTaWRlZDppLnNpZGU9PT1nLGZsaXBTaWRlZDppLnNpZGU9PT1tLGRlcHRoUGFja2luZzp2b2lkIDAhPT1pLmRlcHRoUGFja2luZyYmaS5kZXB0aFBhY2tpbmcsaW5kZXgwQXR0cmlidXRlTmFtZTppLmluZGV4MEF0dHJpYnV0ZU5hbWUsZXh0ZW5zaW9uRGVyaXZhdGl2ZXM6aS5leHRlbnNpb25zJiZpLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMsZXh0ZW5zaW9uRnJhZ0RlcHRoOmkuZXh0ZW5zaW9ucyYmaS5leHRlbnNpb25zLmZyYWdEZXB0aCxleHRlbnNpb25EcmF3QnVmZmVyczppLmV4dGVuc2lvbnMmJmkuZXh0ZW5zaW9ucy5kcmF3QnVmZmVycyxleHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EOmkuZXh0ZW5zaW9ucyYmaS5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0QscmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg6c3x8bi5oYXMoXCJFWFRfZnJhZ19kZXB0aFwiKSxyZW5kZXJlckV4dGVuc2lvbkRyYXdCdWZmZXJzOnN8fG4uaGFzKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpLHJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZDpzfHxuLmhhcyhcIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2RcIiksY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OmkuY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KCl9fSxnZXRQcm9ncmFtQ2FjaGVLZXk6ZnVuY3Rpb24oZSl7Y29uc3Qgbj1bXTtpZihlLnNoYWRlcklEP24ucHVzaChlLnNoYWRlcklEKToobi5wdXNoKGUuZnJhZ21lbnRTaGFkZXIpLG4ucHVzaChlLnZlcnRleFNoYWRlcikpLHZvaWQgMCE9PWUuZGVmaW5lcylmb3IoY29uc3QgdCBpbiBlLmRlZmluZXMpbi5wdXNoKHQpLG4ucHVzaChlLmRlZmluZXNbdF0pO2lmKCExPT09ZS5pc1Jhd1NoYWRlck1hdGVyaWFsKXtmb3IobGV0IHQ9MDt0PGYubGVuZ3RoO3QrKyluLnB1c2goZVtmW3RdXSk7bi5wdXNoKHQub3V0cHV0RW5jb2RpbmcpLG4ucHVzaCh0LmdhbW1hRmFjdG9yKX1yZXR1cm4gbi5wdXNoKGUuY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KSxuLmpvaW4oKX0sZ2V0VW5pZm9ybXM6ZnVuY3Rpb24odCl7Y29uc3QgZT1wW3QudHlwZV07bGV0IG47aWYoZSl7Y29uc3QgdD1Ob1tlXTtuPXlvLmNsb25lKHQudW5pZm9ybXMpfWVsc2Ugbj10LnVuaWZvcm1zO3JldHVybiBufSxhY3F1aXJlUHJvZ3JhbTpmdW5jdGlvbihlLG4pe2xldCByO2ZvcihsZXQgdD0wLGU9YS5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1hW3RdO2lmKGUuY2FjaGVLZXk9PT1uKXtyPWUsKytyLnVzZWRUaW1lczticmVha319cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBocyh0LG4sZSxpKSxhLnB1c2gocikpLHJ9LHJlbGVhc2VQcm9ncmFtOmZ1bmN0aW9uKHQpe2lmKDA9PS0tdC51c2VkVGltZXMpe2NvbnN0IGU9YS5pbmRleE9mKHQpO2FbZV09YVthLmxlbmd0aC0xXSxhLnBvcCgpLHQuZGVzdHJveSgpfX0scHJvZ3JhbXM6YX19ZnVuY3Rpb24gcHMoKXtsZXQgdD1uZXcgV2Vha01hcDtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2xldCBuPXQuZ2V0KGUpO3JldHVybiB2b2lkIDA9PT1uJiYobj17fSx0LnNldChlLG4pKSxufSxyZW1vdmU6ZnVuY3Rpb24oZSl7dC5kZWxldGUoZSl9LHVwZGF0ZTpmdW5jdGlvbihlLG4scil7dC5nZXQoZSlbbl09cn0sZGlzcG9zZTpmdW5jdGlvbigpe3Q9bmV3IFdlYWtNYXB9fX1mdW5jdGlvbiBmcyh0LGUpe3JldHVybiB0Lmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/dC5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjp0LnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj90LnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6dC5wcm9ncmFtIT09ZS5wcm9ncmFtP3QucHJvZ3JhbS5pZC1lLnByb2dyYW0uaWQ6dC5tYXRlcmlhbC5pZCE9PWUubWF0ZXJpYWwuaWQ/dC5tYXRlcmlhbC5pZC1lLm1hdGVyaWFsLmlkOnQueiE9PWUuej90LnotZS56OnQuaWQtZS5pZH1mdW5jdGlvbiBtcyh0LGUpe3JldHVybiB0Lmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/dC5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjp0LnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj90LnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6dC56IT09ZS56P2Uuei10Lno6dC5pZC1lLmlkfWZ1bmN0aW9uIGdzKHQpe2NvbnN0IGU9W107bGV0IG49MDtjb25zdCByPVtdLGk9W10sbz17aWQ6LTF9O2Z1bmN0aW9uIGEocixpLGEscyxjLGwpe2xldCB1PWVbbl07Y29uc3QgaD10LmdldChhKTtyZXR1cm4gdm9pZCAwPT09dT8odT17aWQ6ci5pZCxvYmplY3Q6cixnZW9tZXRyeTppLG1hdGVyaWFsOmEscHJvZ3JhbTpoLnByb2dyYW18fG8sZ3JvdXBPcmRlcjpzLHJlbmRlck9yZGVyOnIucmVuZGVyT3JkZXIsejpjLGdyb3VwOmx9LGVbbl09dSk6KHUuaWQ9ci5pZCx1Lm9iamVjdD1yLHUuZ2VvbWV0cnk9aSx1Lm1hdGVyaWFsPWEsdS5wcm9ncmFtPWgucHJvZ3JhbXx8byx1Lmdyb3VwT3JkZXI9cyx1LnJlbmRlck9yZGVyPXIucmVuZGVyT3JkZXIsdS56PWMsdS5ncm91cD1sKSxuKyssdX1yZXR1cm57b3BhcXVlOnIsdHJhbnNwYXJlbnQ6aSxpbml0OmZ1bmN0aW9uKCl7bj0wLHIubGVuZ3RoPTAsaS5sZW5ndGg9MH0scHVzaDpmdW5jdGlvbih0LGUsbixvLHMsYyl7Y29uc3QgbD1hKHQsZSxuLG8scyxjKTsoITA9PT1uLnRyYW5zcGFyZW50P2k6cikucHVzaChsKX0sdW5zaGlmdDpmdW5jdGlvbih0LGUsbixvLHMsYyl7Y29uc3QgbD1hKHQsZSxuLG8scyxjKTsoITA9PT1uLnRyYW5zcGFyZW50P2k6cikudW5zaGlmdChsKX0sZmluaXNoOmZ1bmN0aW9uKCl7Zm9yKGxldCB0PW4scj1lLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBuPWVbdF07aWYobnVsbD09PW4uaWQpYnJlYWs7bi5pZD1udWxsLG4ub2JqZWN0PW51bGwsbi5nZW9tZXRyeT1udWxsLG4ubWF0ZXJpYWw9bnVsbCxuLnByb2dyYW09bnVsbCxuLmdyb3VwPW51bGx9fSxzb3J0OmZ1bmN0aW9uKHQsZSl7ci5sZW5ndGg+MSYmci5zb3J0KHR8fGZzKSxpLmxlbmd0aD4xJiZpLnNvcnQoZXx8bXMpfX19ZnVuY3Rpb24gdnModCl7bGV0IGU9bmV3IFdlYWtNYXA7cmV0dXJue2dldDpmdW5jdGlvbihuLHIpe2NvbnN0IGk9ZS5nZXQobik7bGV0IG87cmV0dXJuIHZvaWQgMD09PWk/KG89bmV3IGdzKHQpLGUuc2V0KG4sbmV3IFdlYWtNYXApLGUuZ2V0KG4pLnNldChyLG8pKToobz1pLmdldChyKSx2b2lkIDA9PT1vJiYobz1uZXcgZ3ModCksaS5zZXQocixvKSkpLG99LGRpc3Bvc2U6ZnVuY3Rpb24oKXtlPW5ldyBXZWFrTWFwfX19ZnVuY3Rpb24geXMoKXtjb25zdCB0PXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09dFtlLmlkXSlyZXR1cm4gdFtlLmlkXTtsZXQgbjtzd2l0Y2goZS50eXBlKXtjYXNlXCJEaXJlY3Rpb25hbExpZ2h0XCI6bj17ZGlyZWN0aW9uOm5ldyBLbixjb2xvcjpuZXcgeWl9O2JyZWFrO2Nhc2VcIlNwb3RMaWdodFwiOm49e3Bvc2l0aW9uOm5ldyBLbixkaXJlY3Rpb246bmV3IEtuLGNvbG9yOm5ldyB5aSxkaXN0YW5jZTowLGNvbmVDb3M6MCxwZW51bWJyYUNvczowLGRlY2F5OjB9O2JyZWFrO2Nhc2VcIlBvaW50TGlnaHRcIjpuPXtwb3NpdGlvbjpuZXcgS24sY29sb3I6bmV3IHlpLGRpc3RhbmNlOjAsZGVjYXk6MH07YnJlYWs7Y2FzZVwiSGVtaXNwaGVyZUxpZ2h0XCI6bj17ZGlyZWN0aW9uOm5ldyBLbixza3lDb2xvcjpuZXcgeWksZ3JvdW5kQ29sb3I6bmV3IHlpfTticmVhaztjYXNlXCJSZWN0QXJlYUxpZ2h0XCI6bj17Y29sb3I6bmV3IHlpLHBvc2l0aW9uOm5ldyBLbixoYWxmV2lkdGg6bmV3IEtuLGhhbGZIZWlnaHQ6bmV3IEtufX1yZXR1cm4gdFtlLmlkXT1uLG59fX1sZXQgeHM9MDtmdW5jdGlvbiBicyh0LGUpe3JldHVybihlLmNhc3RTaGFkb3c/MTowKS0odC5jYXN0U2hhZG93PzE6MCl9ZnVuY3Rpb24gd3ModCxlKXtjb25zdCBuPW5ldyB5cyxyPWZ1bmN0aW9uKCl7Y29uc3QgdD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRbZS5pZF0pcmV0dXJuIHRbZS5pZF07bGV0IG47c3dpdGNoKGUudHlwZSl7Y2FzZVwiRGlyZWN0aW9uYWxMaWdodFwiOmNhc2VcIlNwb3RMaWdodFwiOm49e3NoYWRvd0JpYXM6MCxzaGFkb3dOb3JtYWxCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgR259O2JyZWFrO2Nhc2VcIlBvaW50TGlnaHRcIjpuPXtzaGFkb3dCaWFzOjAsc2hhZG93Tm9ybWFsQmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IEduLHNoYWRvd0NhbWVyYU5lYXI6MSxzaGFkb3dDYW1lcmFGYXI6MWUzfX1yZXR1cm4gdFtlLmlkXT1uLG59fX0oKSxpPXt2ZXJzaW9uOjAsaGFzaDp7ZGlyZWN0aW9uYWxMZW5ndGg6LTEscG9pbnRMZW5ndGg6LTEsc3BvdExlbmd0aDotMSxyZWN0QXJlYUxlbmd0aDotMSxoZW1pTGVuZ3RoOi0xLG51bURpcmVjdGlvbmFsU2hhZG93czotMSxudW1Qb2ludFNoYWRvd3M6LTEsbnVtU3BvdFNoYWRvd3M6LTF9LGFtYmllbnQ6WzAsMCwwXSxwcm9iZTpbXSxkaXJlY3Rpb25hbDpbXSxkaXJlY3Rpb25hbFNoYWRvdzpbXSxkaXJlY3Rpb25hbFNoYWRvd01hcDpbXSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDpbXSxzcG90OltdLHNwb3RTaGFkb3c6W10sc3BvdFNoYWRvd01hcDpbXSxzcG90U2hhZG93TWF0cml4OltdLHJlY3RBcmVhOltdLHJlY3RBcmVhTFRDMTpudWxsLHJlY3RBcmVhTFRDMjpudWxsLHBvaW50OltdLHBvaW50U2hhZG93OltdLHBvaW50U2hhZG93TWFwOltdLHBvaW50U2hhZG93TWF0cml4OltdLGhlbWk6W119O2ZvcihsZXQgdD0wO3Q8OTt0KyspaS5wcm9iZS5wdXNoKG5ldyBLbik7Y29uc3Qgbz1uZXcgS24sYT1uZXcgVHIscz1uZXcgVHI7cmV0dXJue3NldHVwOmZ1bmN0aW9uKGMsbCx1KXtsZXQgaD0wLGQ9MCxwPTA7Zm9yKGxldCB0PTA7dDw5O3QrKylpLnByb2JlW3RdLnNldCgwLDAsMCk7bGV0IGY9MCxtPTAsZz0wLHY9MCx5PTAseD0wLGI9MCx3PTA7Y29uc3QgXz11Lm1hdHJpeFdvcmxkSW52ZXJzZTtjLnNvcnQoYnMpO2ZvcihsZXQgdD0wLGU9Yy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1jW3RdLGw9ZS5jb2xvcix1PWUuaW50ZW5zaXR5LE09ZS5kaXN0YW5jZSxTPWUuc2hhZG93JiZlLnNoYWRvdy5tYXA/ZS5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZihlLmlzQW1iaWVudExpZ2h0KWgrPWwucip1LGQrPWwuZyp1LHArPWwuYip1O2Vsc2UgaWYoZS5pc0xpZ2h0UHJvYmUpZm9yKGxldCB0PTA7dDw5O3QrKylpLnByb2JlW3RdLmFkZFNjYWxlZFZlY3RvcihlLnNoLmNvZWZmaWNpZW50c1t0XSx1KTtlbHNlIGlmKGUuaXNEaXJlY3Rpb25hbExpZ2h0KXtjb25zdCB0PW4uZ2V0KGUpO2lmKHQuY29sb3IuY29weShlLmNvbG9yKS5tdWx0aXBseVNjYWxhcihlLmludGVuc2l0eSksdC5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLG8uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUudGFyZ2V0Lm1hdHJpeFdvcmxkKSx0LmRpcmVjdGlvbi5zdWIobyksdC5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKF8pLGUuY2FzdFNoYWRvdyl7Y29uc3QgdD1lLnNoYWRvdyxuPXIuZ2V0KGUpO24uc2hhZG93Qmlhcz10LmJpYXMsbi5zaGFkb3dOb3JtYWxCaWFzPXQubm9ybWFsQmlhcyxuLnNoYWRvd1JhZGl1cz10LnJhZGl1cyxuLnNoYWRvd01hcFNpemU9dC5tYXBTaXplLGkuZGlyZWN0aW9uYWxTaGFkb3dbZl09bixpLmRpcmVjdGlvbmFsU2hhZG93TWFwW2ZdPVMsaS5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeFtmXT1lLnNoYWRvdy5tYXRyaXgseCsrfWkuZGlyZWN0aW9uYWxbZl09dCxmKyt9ZWxzZSBpZihlLmlzU3BvdExpZ2h0KXtjb25zdCB0PW4uZ2V0KGUpO2lmKHQucG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLHQucG9zaXRpb24uYXBwbHlNYXRyaXg0KF8pLHQuY29sb3IuY29weShsKS5tdWx0aXBseVNjYWxhcih1KSx0LmRpc3RhbmNlPU0sdC5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLG8uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUudGFyZ2V0Lm1hdHJpeFdvcmxkKSx0LmRpcmVjdGlvbi5zdWIobyksdC5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKF8pLHQuY29uZUNvcz1NYXRoLmNvcyhlLmFuZ2xlKSx0LnBlbnVtYnJhQ29zPU1hdGguY29zKGUuYW5nbGUqKDEtZS5wZW51bWJyYSkpLHQuZGVjYXk9ZS5kZWNheSxlLmNhc3RTaGFkb3cpe2NvbnN0IHQ9ZS5zaGFkb3csbj1yLmdldChlKTtuLnNoYWRvd0JpYXM9dC5iaWFzLG4uc2hhZG93Tm9ybWFsQmlhcz10Lm5vcm1hbEJpYXMsbi5zaGFkb3dSYWRpdXM9dC5yYWRpdXMsbi5zaGFkb3dNYXBTaXplPXQubWFwU2l6ZSxpLnNwb3RTaGFkb3dbZ109bixpLnNwb3RTaGFkb3dNYXBbZ109UyxpLnNwb3RTaGFkb3dNYXRyaXhbZ109ZS5zaGFkb3cubWF0cml4LHcrK31pLnNwb3RbZ109dCxnKyt9ZWxzZSBpZihlLmlzUmVjdEFyZWFMaWdodCl7Y29uc3QgdD1uLmdldChlKTt0LmNvbG9yLmNvcHkobCkubXVsdGlwbHlTY2FsYXIodSksdC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5hcHBseU1hdHJpeDQoXykscy5pZGVudGl0eSgpLGEuY29weShlLm1hdHJpeFdvcmxkKSxhLnByZW11bHRpcGx5KF8pLHMuZXh0cmFjdFJvdGF0aW9uKGEpLHQuaGFsZldpZHRoLnNldCguNSplLndpZHRoLDAsMCksdC5oYWxmSGVpZ2h0LnNldCgwLC41KmUuaGVpZ2h0LDApLHQuaGFsZldpZHRoLmFwcGx5TWF0cml4NChzKSx0LmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KHMpLGkucmVjdEFyZWFbdl09dCx2Kyt9ZWxzZSBpZihlLmlzUG9pbnRMaWdodCl7Y29uc3QgdD1uLmdldChlKTtpZih0LnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx0LnBvc2l0aW9uLmFwcGx5TWF0cml4NChfKSx0LmNvbG9yLmNvcHkoZS5jb2xvcikubXVsdGlwbHlTY2FsYXIoZS5pbnRlbnNpdHkpLHQuZGlzdGFuY2U9ZS5kaXN0YW5jZSx0LmRlY2F5PWUuZGVjYXksZS5jYXN0U2hhZG93KXtjb25zdCB0PWUuc2hhZG93LG49ci5nZXQoZSk7bi5zaGFkb3dCaWFzPXQuYmlhcyxuLnNoYWRvd05vcm1hbEJpYXM9dC5ub3JtYWxCaWFzLG4uc2hhZG93UmFkaXVzPXQucmFkaXVzLG4uc2hhZG93TWFwU2l6ZT10Lm1hcFNpemUsbi5zaGFkb3dDYW1lcmFOZWFyPXQuY2FtZXJhLm5lYXIsbi5zaGFkb3dDYW1lcmFGYXI9dC5jYW1lcmEuZmFyLGkucG9pbnRTaGFkb3dbbV09bixpLnBvaW50U2hhZG93TWFwW21dPVMsaS5wb2ludFNoYWRvd01hdHJpeFttXT1lLnNoYWRvdy5tYXRyaXgsYisrfWkucG9pbnRbbV09dCxtKyt9ZWxzZSBpZihlLmlzSGVtaXNwaGVyZUxpZ2h0KXtjb25zdCB0PW4uZ2V0KGUpO3QuZGlyZWN0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx0LmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24oXyksdC5kaXJlY3Rpb24ubm9ybWFsaXplKCksdC5za3lDb2xvci5jb3B5KGUuY29sb3IpLm11bHRpcGx5U2NhbGFyKHUpLHQuZ3JvdW5kQ29sb3IuY29weShlLmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcih1KSxpLmhlbWlbeV09dCx5Kyt9fXY+MCYmKGUuaXNXZWJHTDJ8fCEwPT09dC5oYXMoXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIik/KGkucmVjdEFyZWFMVEMxPU9vLkxUQ19GTE9BVF8xLGkucmVjdEFyZWFMVEMyPU9vLkxUQ19GTE9BVF8yKTohMD09PXQuaGFzKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIik/KGkucmVjdEFyZWFMVEMxPU9vLkxUQ19IQUxGXzEsaS5yZWN0QXJlYUxUQzI9T28uTFRDX0hBTEZfMik6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVuYWJsZSB0byB1c2UgUmVjdEFyZWFMaWdodC4gTWlzc2luZyBXZWJHTCBleHRlbnNpb25zLlwiKSksaS5hbWJpZW50WzBdPWgsaS5hbWJpZW50WzFdPWQsaS5hbWJpZW50WzJdPXA7Y29uc3QgTT1pLmhhc2g7TS5kaXJlY3Rpb25hbExlbmd0aD09PWYmJk0ucG9pbnRMZW5ndGg9PT1tJiZNLnNwb3RMZW5ndGg9PT1nJiZNLnJlY3RBcmVhTGVuZ3RoPT09diYmTS5oZW1pTGVuZ3RoPT09eSYmTS5udW1EaXJlY3Rpb25hbFNoYWRvd3M9PT14JiZNLm51bVBvaW50U2hhZG93cz09PWImJk0ubnVtU3BvdFNoYWRvd3M9PT13fHwoaS5kaXJlY3Rpb25hbC5sZW5ndGg9ZixpLnNwb3QubGVuZ3RoPWcsaS5yZWN0QXJlYS5sZW5ndGg9dixpLnBvaW50Lmxlbmd0aD1tLGkuaGVtaS5sZW5ndGg9eSxpLmRpcmVjdGlvbmFsU2hhZG93Lmxlbmd0aD14LGkuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoPXgsaS5wb2ludFNoYWRvdy5sZW5ndGg9YixpLnBvaW50U2hhZG93TWFwLmxlbmd0aD1iLGkuc3BvdFNoYWRvdy5sZW5ndGg9dyxpLnNwb3RTaGFkb3dNYXAubGVuZ3RoPXcsaS5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeC5sZW5ndGg9eCxpLnBvaW50U2hhZG93TWF0cml4Lmxlbmd0aD1iLGkuc3BvdFNoYWRvd01hdHJpeC5sZW5ndGg9dyxNLmRpcmVjdGlvbmFsTGVuZ3RoPWYsTS5wb2ludExlbmd0aD1tLE0uc3BvdExlbmd0aD1nLE0ucmVjdEFyZWFMZW5ndGg9dixNLmhlbWlMZW5ndGg9eSxNLm51bURpcmVjdGlvbmFsU2hhZG93cz14LE0ubnVtUG9pbnRTaGFkb3dzPWIsTS5udW1TcG90U2hhZG93cz13LGkudmVyc2lvbj14cysrKX0sc3RhdGU6aX19ZnVuY3Rpb24gX3ModCxlKXtjb25zdCBuPW5ldyB3cyh0LGUpLHI9W10saT1bXTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe3IubGVuZ3RoPTAsaS5sZW5ndGg9MH0sc3RhdGU6e2xpZ2h0c0FycmF5OnIsc2hhZG93c0FycmF5OmksbGlnaHRzOm59LHNldHVwTGlnaHRzOmZ1bmN0aW9uKHQpe24uc2V0dXAocixpLHQpfSxwdXNoTGlnaHQ6ZnVuY3Rpb24odCl7ci5wdXNoKHQpfSxwdXNoU2hhZG93OmZ1bmN0aW9uKHQpe2kucHVzaCh0KX19fWZ1bmN0aW9uIE1zKHQsZSl7bGV0IG49bmV3IFdlYWtNYXA7cmV0dXJue2dldDpmdW5jdGlvbihyLGkpe2xldCBvO3JldHVybiExPT09bi5oYXMocik/KG89bmV3IF9zKHQsZSksbi5zZXQocixuZXcgV2Vha01hcCksbi5nZXQocikuc2V0KGksbykpOiExPT09bi5nZXQocikuaGFzKGkpPyhvPW5ldyBfcyh0LGUpLG4uZ2V0KHIpLnNldChpLG8pKTpvPW4uZ2V0KHIpLmdldChpKSxvfSxkaXNwb3NlOmZ1bmN0aW9uKCl7bj1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIFNzKHQpe3dpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTWVzaERlcHRoTWF0ZXJpYWxcIix0aGlzLmRlcHRoUGFja2luZz1vbix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy5mb2c9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gVHModCl7d2kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoRGlzdGFuY2VNYXRlcmlhbFwiLHRoaXMucmVmZXJlbmNlUG9zaXRpb249bmV3IEtuLHRoaXMubmVhckRpc3RhbmNlPTEsdGhpcy5mYXJEaXN0YW5jZT0xZTMsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLmZvZz0hMSx0aGlzLnNldFZhbHVlcyh0KX1Tcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3aS5wcm90b3R5cGUpLFNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TcyxTcy5wcm90b3R5cGUuaXNNZXNoRGVwdGhNYXRlcmlhbD0hMCxTcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gd2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuZGVwdGhQYWNraW5nPXQuZGVwdGhQYWNraW5nLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1hcD10Lm1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpc30sVHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUod2kucHJvdG90eXBlKSxUcy5wcm90b3R5cGUuY29uc3RydWN0b3I9VHMsVHMucHJvdG90eXBlLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw9ITAsVHMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHdpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnJlZmVyZW5jZVBvc2l0aW9uLmNvcHkodC5yZWZlcmVuY2VQb3NpdGlvbiksdGhpcy5uZWFyRGlzdGFuY2U9dC5uZWFyRGlzdGFuY2UsdGhpcy5mYXJEaXN0YW5jZT10LmZhckRpc3RhbmNlLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1hcD10Lm1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpc307ZnVuY3Rpb24gRXModCxlLG4pe2xldCByPW5ldyBMbztjb25zdCBpPW5ldyBHbixvPW5ldyBHbixhPW5ldyBxbixzPVtdLGM9W10sbD17fSx1PXswOm0sMTpmLDI6Z30sZD1uZXcgeG8oe2RlZmluZXM6e1NBTVBMRV9SQVRFOjIvOCxIQUxGX1NBTVBMRV9SQVRFOjEvOH0sdW5pZm9ybXM6e3NoYWRvd19wYXNzOnt2YWx1ZTpudWxsfSxyZXNvbHV0aW9uOnt2YWx1ZTpuZXcgR259LHJhZGl1czp7dmFsdWU6NH19LHZlcnRleFNoYWRlcjpcInZvaWQgbWFpbigpIHtcXG5cXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XCIsZnJhZ21lbnRTaGFkZXI6XCJ1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dfcGFzcztcXG51bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcXG51bmlmb3JtIGZsb2F0IHJhZGl1cztcXG4jaW5jbHVkZSA8cGFja2luZz5cXG52b2lkIG1haW4oKSB7XFxuXFx0ZmxvYXQgbWVhbiA9IDAuMDtcXG5cXHRmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7XFxuXFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKSAvIHJlc29sdXRpb24gKSApO1xcblxcdGZvciAoIGZsb2F0IGkgPSAtMS4wOyBpIDwgMS4wIDsgaSArPSBTQU1QTEVfUkFURSkge1xcblxcdFxcdCNpZmRlZiBIT1JJWk9OQUxfUEFTU1xcblxcdFxcdFxcdHZlYzIgZGlzdHJpYnV0aW9uID0gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggaSwgMC4wICkgKiByYWRpdXMgKSAvIHJlc29sdXRpb24gKSApO1xcblxcdFxcdFxcdG1lYW4gKz0gZGlzdHJpYnV0aW9uLng7XFxuXFx0XFx0XFx0c3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54O1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCAwLjAsIGkgKSAqIHJhZGl1cyApIC8gcmVzb2x1dGlvbiApICk7XFxuXFx0XFx0XFx0bWVhbiArPSBkZXB0aDtcXG5cXHRcXHRcXHRzcXVhcmVkX21lYW4gKz0gZGVwdGggKiBkZXB0aDtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuXFx0bWVhbiA9IG1lYW4gKiBIQUxGX1NBTVBMRV9SQVRFO1xcblxcdHNxdWFyZWRfbWVhbiA9IHNxdWFyZWRfbWVhbiAqIEhBTEZfU0FNUExFX1JBVEU7XFxuXFx0ZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gcGFjazJIYWxmVG9SR0JBKCB2ZWMyKCBtZWFuLCBzdGRfZGV2ICkgKTtcXG59XCJ9KSx2PWQuY2xvbmUoKTt2LmRlZmluZXMuSE9SSVpPTkFMX1BBU1M9MTtjb25zdCB5PW5ldyBxaTt5LnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRpKG5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLC41LDMsLTEsLjUsLTEsMywuNV0pLDMpKTtjb25zdCBiPW5ldyBobyh5LGQpLHc9dGhpcztmdW5jdGlvbiBfKG4scil7Y29uc3QgaT1lLnVwZGF0ZShiKTtkLnVuaWZvcm1zLnNoYWRvd19wYXNzLnZhbHVlPW4ubWFwLnRleHR1cmUsZC51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPW4ubWFwU2l6ZSxkLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT1uLnJhZGl1cyx0LnNldFJlbmRlclRhcmdldChuLm1hcFBhc3MpLHQuY2xlYXIoKSx0LnJlbmRlckJ1ZmZlckRpcmVjdChyLG51bGwsaSxkLGIsbnVsbCksdi51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT1uLm1hcFBhc3MudGV4dHVyZSx2LnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWU9bi5tYXBTaXplLHYudW5pZm9ybXMucmFkaXVzLnZhbHVlPW4ucmFkaXVzLHQuc2V0UmVuZGVyVGFyZ2V0KG4ubWFwKSx0LmNsZWFyKCksdC5yZW5kZXJCdWZmZXJEaXJlY3QocixudWxsLGksdixiLG51bGwpfWZ1bmN0aW9uIE0odCxlLG4pe2NvbnN0IHI9dDw8MHxlPDwxfG48PDI7bGV0IGk9c1tyXTtyZXR1cm4gdm9pZCAwPT09aSYmKGk9bmV3IFNzKHtkZXB0aFBhY2tpbmc6YW4sbW9ycGhUYXJnZXRzOnQsc2tpbm5pbmc6ZX0pLHNbcl09aSksaX1mdW5jdGlvbiBTKHQsZSxuKXtjb25zdCByPXQ8PDB8ZTw8MXxuPDwyO2xldCBpPWNbcl07cmV0dXJuIHZvaWQgMD09PWkmJihpPW5ldyBUcyh7bW9ycGhUYXJnZXRzOnQsc2tpbm5pbmc6ZX0pLGNbcl09aSksaX1mdW5jdGlvbiBUKGUsbixyLGksbyxhLHMpe2xldCBjPW51bGwsaD1NLGQ9ZS5jdXN0b21EZXB0aE1hdGVyaWFsO2lmKCEwPT09aS5pc1BvaW50TGlnaHQmJihoPVMsZD1lLmN1c3RvbURpc3RhbmNlTWF0ZXJpYWwpLHZvaWQgMD09PWQpe2xldCB0PSExOyEwPT09ci5tb3JwaFRhcmdldHMmJih0PW4ubW9ycGhBdHRyaWJ1dGVzJiZuLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiYmbi5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoPjApO2xldCBpPSExOyEwPT09ZS5pc1NraW5uZWRNZXNoJiYoITA9PT1yLnNraW5uaW5nP2k9ITA6Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xTaGFkb3dNYXA6IFRIUkVFLlNraW5uZWRNZXNoIHdpdGggbWF0ZXJpYWwuc2tpbm5pbmcgc2V0IHRvIGZhbHNlOlwiLGUpKTtjPWgodCxpLCEwPT09ZS5pc0luc3RhbmNlZE1lc2gpfWVsc2UgYz1kO2lmKHQubG9jYWxDbGlwcGluZ0VuYWJsZWQmJiEwPT09ci5jbGlwU2hhZG93cyYmMCE9PXIuY2xpcHBpbmdQbGFuZXMubGVuZ3RoKXtjb25zdCB0PWMudXVpZCxlPXIudXVpZDtsZXQgbj1sW3RdO3ZvaWQgMD09PW4mJihuPXt9LGxbdF09bik7bGV0IGk9bltlXTt2b2lkIDA9PT1pJiYoaT1jLmNsb25lKCksbltlXT1pKSxjPWl9cmV0dXJuIGMudmlzaWJsZT1yLnZpc2libGUsYy53aXJlZnJhbWU9ci53aXJlZnJhbWUsYy5zaWRlPXM9PT1wP251bGwhPT1yLnNoYWRvd1NpZGU/ci5zaGFkb3dTaWRlOnIuc2lkZTpudWxsIT09ci5zaGFkb3dTaWRlP3Iuc2hhZG93U2lkZTp1W3Iuc2lkZV0sYy5jbGlwU2hhZG93cz1yLmNsaXBTaGFkb3dzLGMuY2xpcHBpbmdQbGFuZXM9ci5jbGlwcGluZ1BsYW5lcyxjLmNsaXBJbnRlcnNlY3Rpb249ci5jbGlwSW50ZXJzZWN0aW9uLGMud2lyZWZyYW1lTGluZXdpZHRoPXIud2lyZWZyYW1lTGluZXdpZHRoLGMubGluZXdpZHRoPXIubGluZXdpZHRoLCEwPT09aS5pc1BvaW50TGlnaHQmJiEwPT09Yy5pc01lc2hEaXN0YW5jZU1hdGVyaWFsJiYoYy5yZWZlcmVuY2VQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oaS5tYXRyaXhXb3JsZCksYy5uZWFyRGlzdGFuY2U9byxjLmZhckRpc3RhbmNlPWEpLGN9ZnVuY3Rpb24gRShuLGksbyxhLHMpe2lmKCExPT09bi52aXNpYmxlKXJldHVybjtpZihuLmxheWVycy50ZXN0KGkubGF5ZXJzKSYmKG4uaXNNZXNofHxuLmlzTGluZXx8bi5pc1BvaW50cykmJihuLmNhc3RTaGFkb3d8fG4ucmVjZWl2ZVNoYWRvdyYmcz09PXApJiYoIW4uZnJ1c3R1bUN1bGxlZHx8ci5pbnRlcnNlY3RzT2JqZWN0KG4pKSl7bi5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhvLm1hdHJpeFdvcmxkSW52ZXJzZSxuLm1hdHJpeFdvcmxkKTtjb25zdCByPWUudXBkYXRlKG4pLGk9bi5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KGkpKXtjb25zdCBlPXIuZ3JvdXBzO2ZvcihsZXQgYz0wLGw9ZS5sZW5ndGg7YzxsO2MrKyl7Y29uc3QgbD1lW2NdLHU9aVtsLm1hdGVyaWFsSW5kZXhdO2lmKHUmJnUudmlzaWJsZSl7Y29uc3QgZT1UKG4scix1LGEsby5uZWFyLG8uZmFyLHMpO3QucmVuZGVyQnVmZmVyRGlyZWN0KG8sbnVsbCxyLGUsbixsKX19fWVsc2UgaWYoaS52aXNpYmxlKXtjb25zdCBlPVQobixyLGksYSxvLm5lYXIsby5mYXIscyk7dC5yZW5kZXJCdWZmZXJEaXJlY3QobyxudWxsLHIsZSxuLG51bGwpfX1jb25zdCBjPW4uY2hpbGRyZW47Zm9yKGxldCB0PTAsZT1jLmxlbmd0aDt0PGU7dCsrKUUoY1t0XSxpLG8sYSxzKX10aGlzLmVuYWJsZWQ9ITEsdGhpcy5hdXRvVXBkYXRlPSEwLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy50eXBlPWgsdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSxzLGMpe2lmKCExPT09dy5lbmFibGVkKXJldHVybjtpZighMT09PXcuYXV0b1VwZGF0ZSYmITE9PT13Lm5lZWRzVXBkYXRlKXJldHVybjtpZigwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IGw9dC5nZXRSZW5kZXJUYXJnZXQoKSx1PXQuZ2V0QWN0aXZlQ3ViZUZhY2UoKSxoPXQuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKSxkPXQuc3RhdGU7ZC5zZXRCbGVuZGluZyh4KSxkLmJ1ZmZlcnMuY29sb3Iuc2V0Q2xlYXIoMSwxLDEsMSksZC5idWZmZXJzLmRlcHRoLnNldFRlc3QoITApLGQuc2V0U2Npc3NvclRlc3QoITEpO2ZvcihsZXQgbD0wLHU9ZS5sZW5ndGg7bDx1O2wrKyl7Y29uc3QgdT1lW2xdLGg9dS5zaGFkb3c7aWYodm9pZCAwPT09aCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xTaGFkb3dNYXA6XCIsdSxcImhhcyBubyBzaGFkb3cuXCIpO2NvbnRpbnVlfWlmKCExPT09aC5hdXRvVXBkYXRlJiYhMT09PWgubmVlZHNVcGRhdGUpY29udGludWU7aS5jb3B5KGgubWFwU2l6ZSk7Y29uc3QgZj1oLmdldEZyYW1lRXh0ZW50cygpO2lmKGkubXVsdGlwbHkoZiksby5jb3B5KGgubWFwU2l6ZSksKGkueD5ufHxpLnk+bikmJihpLng+biYmKG8ueD1NYXRoLmZsb29yKG4vZi54KSxpLng9by54KmYueCxoLm1hcFNpemUueD1vLngpLGkueT5uJiYoby55PU1hdGguZmxvb3Iobi9mLnkpLGkueT1vLnkqZi55LGgubWFwU2l6ZS55PW8ueSkpLG51bGw9PT1oLm1hcCYmIWguaXNQb2ludExpZ2h0U2hhZG93JiZ0aGlzLnR5cGU9PT1wKXtjb25zdCB0PXttaW5GaWx0ZXI6eHQsbWFnRmlsdGVyOnh0LGZvcm1hdDpVdH07aC5tYXA9bmV3IFluKGkueCxpLnksdCksaC5tYXAudGV4dHVyZS5uYW1lPXUubmFtZStcIi5zaGFkb3dNYXBcIixoLm1hcFBhc3M9bmV3IFluKGkueCxpLnksdCksaC5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfWlmKG51bGw9PT1oLm1hcCl7Y29uc3QgdD17bWluRmlsdGVyOmZ0LG1hZ0ZpbHRlcjpmdCxmb3JtYXQ6VXR9O2gubWFwPW5ldyBZbihpLngsaS55LHQpLGgubWFwLnRleHR1cmUubmFtZT11Lm5hbWUrXCIuc2hhZG93TWFwXCIsaC5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfXQuc2V0UmVuZGVyVGFyZ2V0KGgubWFwKSx0LmNsZWFyKCk7Y29uc3QgbT1oLmdldFZpZXdwb3J0Q291bnQoKTtmb3IobGV0IHQ9MDt0PG07dCsrKXtjb25zdCBlPWguZ2V0Vmlld3BvcnQodCk7YS5zZXQoby54KmUueCxvLnkqZS55LG8ueCplLnosby55KmUudyksZC52aWV3cG9ydChhKSxoLnVwZGF0ZU1hdHJpY2VzKHUsdCkscj1oLmdldEZydXN0dW0oKSxFKHMsYyxoLmNhbWVyYSx1LHRoaXMudHlwZSl9aC5pc1BvaW50TGlnaHRTaGFkb3d8fHRoaXMudHlwZSE9PXB8fF8oaCxjKSxoLm5lZWRzVXBkYXRlPSExfXcubmVlZHNVcGRhdGU9ITEsdC5zZXRSZW5kZXJUYXJnZXQobCx1LGgpfX1mdW5jdGlvbiBBcyh0LGUsbil7Y29uc3Qgcj1uLmlzV2ViR0wyO2NvbnN0IGk9bmV3IGZ1bmN0aW9uKCl7bGV0IGU9ITE7Y29uc3Qgbj1uZXcgcW47bGV0IHI9bnVsbDtjb25zdCBpPW5ldyBxbigwLDAsMCwwKTtyZXR1cm57c2V0TWFzazpmdW5jdGlvbihuKXtyPT09bnx8ZXx8KHQuY29sb3JNYXNrKG4sbixuLG4pLHI9bil9LHNldExvY2tlZDpmdW5jdGlvbih0KXtlPXR9LHNldENsZWFyOmZ1bmN0aW9uKGUscixvLGEscyl7ITA9PT1zJiYoZSo9YSxyKj1hLG8qPWEpLG4uc2V0KGUscixvLGEpLCExPT09aS5lcXVhbHMobikmJih0LmNsZWFyQ29sb3IoZSxyLG8sYSksaS5jb3B5KG4pKX0scmVzZXQ6ZnVuY3Rpb24oKXtlPSExLHI9bnVsbCxpLnNldCgtMSwwLDAsMCl9fX0sbz1uZXcgZnVuY3Rpb24oKXtsZXQgZT0hMSxuPW51bGwscj1udWxsLGk9bnVsbDtyZXR1cm57c2V0VGVzdDpmdW5jdGlvbih0KXt0P2Z0KDI5MjkpOm10KDI5MjkpfSxzZXRNYXNrOmZ1bmN0aW9uKHIpe249PT1yfHxlfHwodC5kZXB0aE1hc2sociksbj1yKX0sc2V0RnVuYzpmdW5jdGlvbihlKXtpZihyIT09ZSl7aWYoZSlzd2l0Y2goZSl7Y2FzZSBIOnQuZGVwdGhGdW5jKDUxMik7YnJlYWs7Y2FzZSBrOnQuZGVwdGhGdW5jKDUxOSk7YnJlYWs7Y2FzZSBWOnQuZGVwdGhGdW5jKDUxMyk7YnJlYWs7Y2FzZSBqOnQuZGVwdGhGdW5jKDUxNSk7YnJlYWs7Y2FzZSBXOnQuZGVwdGhGdW5jKDUxNCk7YnJlYWs7Y2FzZSBYOnQuZGVwdGhGdW5jKDUxOCk7YnJlYWs7Y2FzZSBxOnQuZGVwdGhGdW5jKDUxNik7YnJlYWs7Y2FzZSBZOnQuZGVwdGhGdW5jKDUxNyk7YnJlYWs7ZGVmYXVsdDp0LmRlcHRoRnVuYyg1MTUpfWVsc2UgdC5kZXB0aEZ1bmMoNTE1KTtyPWV9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24odCl7ZT10fSxzZXRDbGVhcjpmdW5jdGlvbihlKXtpIT09ZSYmKHQuY2xlYXJEZXB0aChlKSxpPWUpfSxyZXNldDpmdW5jdGlvbigpe2U9ITEsbj1udWxsLHI9bnVsbCxpPW51bGx9fX0sbD1uZXcgZnVuY3Rpb24oKXtsZXQgZT0hMSxuPW51bGwscj1udWxsLGk9bnVsbCxvPW51bGwsYT1udWxsLHM9bnVsbCxjPW51bGwsbD1udWxsO3JldHVybntzZXRUZXN0OmZ1bmN0aW9uKHQpe2V8fCh0P2Z0KDI5NjApOm10KDI5NjApKX0sc2V0TWFzazpmdW5jdGlvbihyKXtuPT09cnx8ZXx8KHQuc3RlbmNpbE1hc2sociksbj1yKX0sc2V0RnVuYzpmdW5jdGlvbihlLG4sYSl7cj09PWUmJmk9PT1uJiZvPT09YXx8KHQuc3RlbmNpbEZ1bmMoZSxuLGEpLHI9ZSxpPW4sbz1hKX0sc2V0T3A6ZnVuY3Rpb24oZSxuLHIpe2E9PT1lJiZzPT09biYmYz09PXJ8fCh0LnN0ZW5jaWxPcChlLG4sciksYT1lLHM9bixjPXIpfSxzZXRMb2NrZWQ6ZnVuY3Rpb24odCl7ZT10fSxzZXRDbGVhcjpmdW5jdGlvbihlKXtsIT09ZSYmKHQuY2xlYXJTdGVuY2lsKGUpLGw9ZSl9LHJlc2V0OmZ1bmN0aW9uKCl7ZT0hMSxuPW51bGwscj1udWxsLGk9bnVsbCxvPW51bGwsYT1udWxsLHM9bnVsbCxjPW51bGwsbD1udWxsfX19O2xldCB1PXt9LGg9bnVsbCxkPW51bGwscD1udWxsLGY9bnVsbCx2PW51bGwseT1udWxsLFo9bnVsbCxKPW51bGwsSz1udWxsLFE9ITEsJD1udWxsLHR0PW51bGwsZXQ9bnVsbCxudD1udWxsLHJ0PW51bGw7Y29uc3QgaXQ9dC5nZXRQYXJhbWV0ZXIoMzU2NjEpO2xldCBvdD0hMSxhdD0wO2NvbnN0IHN0PXQuZ2V0UGFyYW1ldGVyKDc5MzgpOy0xIT09c3QuaW5kZXhPZihcIldlYkdMXCIpPyhhdD1wYXJzZUZsb2F0KC9eV2ViR0xcXCAoWzAtOV0pLy5leGVjKHN0KVsxXSksb3Q9YXQ+PTEpOi0xIT09c3QuaW5kZXhPZihcIk9wZW5HTCBFU1wiKSYmKGF0PXBhcnNlRmxvYXQoL15PcGVuR0xcXCBFU1xcIChbMC05XSkvLmV4ZWMoc3QpWzFdKSxvdD1hdD49Mik7bGV0IGN0PW51bGwsbHQ9e307Y29uc3QgdXQ9bmV3IHFuLGh0PW5ldyBxbjtmdW5jdGlvbiBkdChlLG4scil7Y29uc3QgaT1uZXcgVWludDhBcnJheSg0KSxvPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUoZSxvKSx0LnRleFBhcmFtZXRlcmkoZSwxMDI0MSw5NzI4KSx0LnRleFBhcmFtZXRlcmkoZSwxMDI0MCw5NzI4KTtmb3IobGV0IGU9MDtlPHI7ZSsrKXQudGV4SW1hZ2UyRChuK2UsMCw2NDA4LDEsMSwwLDY0MDgsNTEyMSxpKTtyZXR1cm4gb31jb25zdCBwdD17fTtmdW5jdGlvbiBmdChlKXshMCE9PXVbZV0mJih0LmVuYWJsZShlKSx1W2VdPSEwKX1mdW5jdGlvbiBtdChlKXshMSE9PXVbZV0mJih0LmRpc2FibGUoZSksdVtlXT0hMSl9cHRbMzU1M109ZHQoMzU1MywzNTUzLDEpLHB0WzM0MDY3XT1kdCgzNDA2NywzNDA2OSw2KSxpLnNldENsZWFyKDAsMCwwLDEpLG8uc2V0Q2xlYXIoMSksbC5zZXRDbGVhcigwKSxmdCgyOTI5KSxvLnNldEZ1bmMoaikseHQoITEpLGJ0KHMpLGZ0KDI4ODQpLHl0KHgpO2NvbnN0IGd0PXtbVF06MzI3NzQsW0VdOjMyNzc4LFtBXTozMjc3OX07aWYocilndFtMXT0zMjc3NSxndFtSXT0zMjc3NjtlbHNle2NvbnN0IHQ9ZS5nZXQoXCJFWFRfYmxlbmRfbWlubWF4XCIpO251bGwhPT10JiYoZ3RbTF09dC5NSU5fRVhULGd0W1JdPXQuTUFYX0VYVCl9Y29uc3QgdnQ9e1tQXTowLFtDXToxLFtJXTo3NjgsW05dOjc3MCxbR106Nzc2LFtVXTo3NzQsW0JdOjc3MixbT106NzY5LFtEXTo3NzEsW3pdOjc3NSxbRl06NzczfTtmdW5jdGlvbiB5dChlLG4scixpLG8sYSxzLGMpe2lmKGUhPT14KXtpZihkfHwoZnQoMzA0MiksZD0hMCksZT09PVMpbz1vfHxuLGE9YXx8cixzPXN8fGksbj09PWYmJm89PT1afHwodC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ3Rbbl0sZ3Rbb10pLGY9bixaPW8pLHI9PT12JiZpPT09eSYmYT09PUomJnM9PT1LfHwodC5ibGVuZEZ1bmNTZXBhcmF0ZSh2dFtyXSx2dFtpXSx2dFthXSx2dFtzXSksdj1yLHk9aSxKPWEsSz1zKSxwPWUsUT1udWxsO2Vsc2UgaWYoZSE9PXB8fGMhPT1RKXtpZihmPT09VCYmWj09PVR8fCh0LmJsZW5kRXF1YXRpb24oMzI3NzQpLGY9VCxaPVQpLGMpc3dpdGNoKGUpe2Nhc2UgYjp0LmJsZW5kRnVuY1NlcGFyYXRlKDEsNzcxLDEsNzcxKTticmVhaztjYXNlIHc6dC5ibGVuZEZ1bmMoMSwxKTticmVhaztjYXNlIF86dC5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDAsNzY5LDc3MSk7YnJlYWs7Y2FzZSBNOnQuYmxlbmRGdW5jU2VwYXJhdGUoMCw3NjgsMCw3NzApO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6IFwiLGUpfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgYjp0LmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2Ugdzp0LmJsZW5kRnVuYyg3NzAsMSk7YnJlYWs7Y2FzZSBfOnQuYmxlbmRGdW5jKDAsNzY5KTticmVhaztjYXNlIE06dC5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6IFwiLGUpfXY9bnVsbCx5PW51bGwsSj1udWxsLEs9bnVsbCxwPWUsUT1jfX1lbHNlIGQmJihtdCgzMDQyKSxkPSExKX1mdW5jdGlvbiB4dChlKXskIT09ZSYmKGU/dC5mcm9udEZhY2UoMjMwNCk6dC5mcm9udEZhY2UoMjMwNSksJD1lKX1mdW5jdGlvbiBidChlKXtlIT09YT8oZnQoMjg4NCksZSE9PXR0JiYoZT09PXM/dC5jdWxsRmFjZSgxMDI5KTplPT09Yz90LmN1bGxGYWNlKDEwMjgpOnQuY3VsbEZhY2UoMTAzMikpKTptdCgyODg0KSx0dD1lfWZ1bmN0aW9uIHd0KGUsbixyKXtlPyhmdCgzMjgyMyksbnQ9PT1uJiZydD09PXJ8fCh0LnBvbHlnb25PZmZzZXQobixyKSxudD1uLHJ0PXIpKTptdCgzMjgyMyl9ZnVuY3Rpb24gX3QoZSl7dm9pZCAwPT09ZSYmKGU9MzM5ODQraXQtMSksY3QhPT1lJiYodC5hY3RpdmVUZXh0dXJlKGUpLGN0PWUpfXJldHVybntidWZmZXJzOntjb2xvcjppLGRlcHRoOm8sc3RlbmNpbDpsfSxlbmFibGU6ZnQsZGlzYWJsZTptdCx1c2VQcm9ncmFtOmZ1bmN0aW9uKGUpe3JldHVybiBoIT09ZSYmKHQudXNlUHJvZ3JhbShlKSxoPWUsITApfSxzZXRCbGVuZGluZzp5dCxzZXRNYXRlcmlhbDpmdW5jdGlvbih0LGUpe3Quc2lkZT09PWc/bXQoMjg4NCk6ZnQoMjg4NCk7bGV0IG49dC5zaWRlPT09bTtlJiYobj0hbikseHQobiksdC5ibGVuZGluZz09PWImJiExPT09dC50cmFuc3BhcmVudD95dCh4KTp5dCh0LmJsZW5kaW5nLHQuYmxlbmRFcXVhdGlvbix0LmJsZW5kU3JjLHQuYmxlbmREc3QsdC5ibGVuZEVxdWF0aW9uQWxwaGEsdC5ibGVuZFNyY0FscGhhLHQuYmxlbmREc3RBbHBoYSx0LnByZW11bHRpcGxpZWRBbHBoYSksby5zZXRGdW5jKHQuZGVwdGhGdW5jKSxvLnNldFRlc3QodC5kZXB0aFRlc3QpLG8uc2V0TWFzayh0LmRlcHRoV3JpdGUpLGkuc2V0TWFzayh0LmNvbG9yV3JpdGUpO2NvbnN0IHI9dC5zdGVuY2lsV3JpdGU7bC5zZXRUZXN0KHIpLHImJihsLnNldE1hc2sodC5zdGVuY2lsV3JpdGVNYXNrKSxsLnNldEZ1bmModC5zdGVuY2lsRnVuYyx0LnN0ZW5jaWxSZWYsdC5zdGVuY2lsRnVuY01hc2spLGwuc2V0T3AodC5zdGVuY2lsRmFpbCx0LnN0ZW5jaWxaRmFpbCx0LnN0ZW5jaWxaUGFzcykpLHd0KHQucG9seWdvbk9mZnNldCx0LnBvbHlnb25PZmZzZXRGYWN0b3IsdC5wb2x5Z29uT2Zmc2V0VW5pdHMpfSxzZXRGbGlwU2lkZWQ6eHQsc2V0Q3VsbEZhY2U6YnQsc2V0TGluZVdpZHRoOmZ1bmN0aW9uKGUpe2UhPT1ldCYmKG90JiZ0LmxpbmVXaWR0aChlKSxldD1lKX0sc2V0UG9seWdvbk9mZnNldDp3dCxzZXRTY2lzc29yVGVzdDpmdW5jdGlvbih0KXt0P2Z0KDMwODkpOm10KDMwODkpfSxhY3RpdmVUZXh0dXJlOl90LGJpbmRUZXh0dXJlOmZ1bmN0aW9uKGUsbil7bnVsbD09PWN0JiZfdCgpO2xldCByPWx0W2N0XTt2b2lkIDA9PT1yJiYocj17dHlwZTp2b2lkIDAsdGV4dHVyZTp2b2lkIDB9LGx0W2N0XT1yKSxyLnR5cGU9PT1lJiZyLnRleHR1cmU9PT1ufHwodC5iaW5kVGV4dHVyZShlLG58fHB0W2VdKSxyLnR5cGU9ZSxyLnRleHR1cmU9bil9LHVuYmluZFRleHR1cmU6ZnVuY3Rpb24oKXtjb25zdCBlPWx0W2N0XTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnR5cGUmJih0LmJpbmRUZXh0dXJlKGUudHlwZSxudWxsKSxlLnR5cGU9dm9pZCAwLGUudGV4dHVyZT12b2lkIDApfSxjb21wcmVzc2VkVGV4SW1hZ2UyRDpmdW5jdGlvbigpe3RyeXt0LmNvbXByZXNzZWRUZXhJbWFnZTJELmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xTdGF0ZTpcIix0KX19LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXt0cnl7dC50ZXhJbWFnZTJELmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xTdGF0ZTpcIix0KX19LHRleEltYWdlM0Q6ZnVuY3Rpb24oKXt0cnl7dC50ZXhJbWFnZTNELmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xTdGF0ZTpcIix0KX19LHNjaXNzb3I6ZnVuY3Rpb24oZSl7ITE9PT11dC5lcXVhbHMoZSkmJih0LnNjaXNzb3IoZS54LGUueSxlLnosZS53KSx1dC5jb3B5KGUpKX0sdmlld3BvcnQ6ZnVuY3Rpb24oZSl7ITE9PT1odC5lcXVhbHMoZSkmJih0LnZpZXdwb3J0KGUueCxlLnksZS56LGUudyksaHQuY29weShlKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dT17fSxjdD1udWxsLGx0PXt9LGg9bnVsbCxkPW51bGwscD1udWxsLGY9bnVsbCx2PW51bGwseT1udWxsLFo9bnVsbCxKPW51bGwsSz1udWxsLFE9ITEsJD1udWxsLHR0PW51bGwsZXQ9bnVsbCxudD1udWxsLHJ0PW51bGwsaS5yZXNldCgpLG8ucmVzZXQoKSxsLnJlc2V0KCl9fX1mdW5jdGlvbiBMcyh0LGUsbixyLGksbyxhKXtjb25zdCBzPWkuaXNXZWJHTDIsYz1pLm1heFRleHR1cmVzLGw9aS5tYXhDdWJlbWFwU2l6ZSx1PWkubWF4VGV4dHVyZVNpemUsaD1pLm1heFNhbXBsZXMsZD1uZXcgV2Vha01hcDtsZXQgcCxmPSExO3RyeXtmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBPZmZzY3JlZW5DYW52YXMmJm51bGwhPT1uZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpfWNhdGNoKHQpe31mdW5jdGlvbiBtKHQsZSl7cmV0dXJuIGY/bmV3IE9mZnNjcmVlbkNhbnZhcyh0LGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImNhbnZhc1wiKX1mdW5jdGlvbiBnKHQsZSxuLHIpe2xldCBpPTE7aWYoKHQud2lkdGg+cnx8dC5oZWlnaHQ+cikmJihpPXIvTWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCkpLGk8MXx8ITA9PT1lKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTEltYWdlRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgSW1hZ2VCaXRtYXAmJnQgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCl7Y29uc3Qgcj1lP3puLmZsb29yUG93ZXJPZlR3bzpNYXRoLmZsb29yLG89cihpKnQud2lkdGgpLGE9cihpKnQuaGVpZ2h0KTt2b2lkIDA9PT1wJiYocD1tKG8sYSkpO2NvbnN0IHM9bj9tKG8sYSk6cDtzLndpZHRoPW8scy5oZWlnaHQ9YTtyZXR1cm4gcy5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHQsMCwwLG8sYSksY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBoYXMgYmVlbiByZXNpemVkIGZyb20gKFwiK3Qud2lkdGgrXCJ4XCIrdC5oZWlnaHQrXCIpIHRvIChcIitvK1wieFwiK2ErXCIpLlwiKSxzfXJldHVyblwiZGF0YVwiaW4gdCYmY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW1hZ2UgaW4gRGF0YVRleHR1cmUgaXMgdG9vIGJpZyAoXCIrdC53aWR0aCtcInhcIit0LmhlaWdodCtcIikuXCIpLHR9cmV0dXJuIHR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gem4uaXNQb3dlck9mVHdvKHQud2lkdGgpJiZ6bi5pc1Bvd2VyT2ZUd28odC5oZWlnaHQpfWZ1bmN0aW9uIHkodCxlKXtyZXR1cm4gdC5nZW5lcmF0ZU1pcG1hcHMmJmUmJnQubWluRmlsdGVyIT09ZnQmJnQubWluRmlsdGVyIT09eHR9ZnVuY3Rpb24geChlLG4saSxvKXt0LmdlbmVyYXRlTWlwbWFwKGUpO3IuZ2V0KG4pLl9fbWF4TWlwTGV2ZWw9TWF0aC5sb2coTWF0aC5tYXgoaSxvKSkqTWF0aC5MT0cyRX1mdW5jdGlvbiBiKG4scixpKXtpZighMT09PXMpcmV0dXJuIHI7aWYobnVsbCE9PW4pe2lmKHZvaWQgMCE9PXRbbl0pcmV0dXJuIHRbbl07Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byB1c2Ugbm9uLWV4aXN0aW5nIFdlYkdMIGludGVybmFsIGZvcm1hdCAnXCIrbitcIidcIil9bGV0IG89cjtyZXR1cm4gNjQwMz09PXImJig1MTI2PT09aSYmKG89MzMzMjYpLDUxMzE9PT1pJiYobz0zMzMyNSksNTEyMT09PWkmJihvPTMzMzIxKSksNjQwNz09PXImJig1MTI2PT09aSYmKG89MzQ4MzcpLDUxMzE9PT1pJiYobz0zNDg0MyksNTEyMT09PWkmJihvPTMyODQ5KSksNjQwOD09PXImJig1MTI2PT09aSYmKG89MzQ4MzYpLDUxMzE9PT1pJiYobz0zNDg0MiksNTEyMT09PWkmJihvPTMyODU2KSksMzMzMjUhPT1vJiYzMzMyNiE9PW8mJjM0ODQyIT09byYmMzQ4MzYhPT1vfHxlLmdldChcIkVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIiksb31mdW5jdGlvbiB3KHQpe3JldHVybiB0PT09ZnR8fHQ9PT1tdHx8dD09PXZ0Pzk3Mjg6OTcyOX1mdW5jdGlvbiBfKGUpe2NvbnN0IG49ZS50YXJnZXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLF8pLGZ1bmN0aW9uKGUpe2NvbnN0IG49ci5nZXQoZSk7aWYodm9pZCAwPT09bi5fX3dlYmdsSW5pdClyZXR1cm47dC5kZWxldGVUZXh0dXJlKG4uX193ZWJnbFRleHR1cmUpLHIucmVtb3ZlKGUpfShuKSxuLmlzVmlkZW9UZXh0dXJlJiZkLmRlbGV0ZShuKSxhLm1lbW9yeS50ZXh0dXJlcy0tfWZ1bmN0aW9uIE0oZSl7Y29uc3Qgbj1lLnRhcmdldDtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsTSksZnVuY3Rpb24oZSl7Y29uc3Qgbj1yLmdldChlKSxpPXIuZ2V0KGUudGV4dHVyZSk7aWYoIWUpcmV0dXJuO3ZvaWQgMCE9PWkuX193ZWJnbFRleHR1cmUmJnQuZGVsZXRlVGV4dHVyZShpLl9fd2ViZ2xUZXh0dXJlKTtlLmRlcHRoVGV4dHVyZSYmZS5kZXB0aFRleHR1cmUuZGlzcG9zZSgpO2lmKGUuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKGxldCBlPTA7ZTw2O2UrKyl0LmRlbGV0ZUZyYW1lYnVmZmVyKG4uX193ZWJnbEZyYW1lYnVmZmVyW2VdKSxuLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIobi5fX3dlYmdsRGVwdGhidWZmZXJbZV0pO2Vsc2UgdC5kZWxldGVGcmFtZWJ1ZmZlcihuLl9fd2ViZ2xGcmFtZWJ1ZmZlciksbi5fX3dlYmdsRGVwdGhidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKG4uX193ZWJnbERlcHRoYnVmZmVyKSxuLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciYmdC5kZWxldGVGcmFtZWJ1ZmZlcihuLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksbi5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKG4uX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKSxuLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIobi5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIpO3IucmVtb3ZlKGUudGV4dHVyZSksci5yZW1vdmUoZSl9KG4pLGEubWVtb3J5LnRleHR1cmVzLS19bGV0IFM9MDtmdW5jdGlvbiBUKHQsZSl7Y29uc3QgaT1yLmdldCh0KTtpZih0LmlzVmlkZW9UZXh0dXJlJiZmdW5jdGlvbih0KXtjb25zdCBlPWEucmVuZGVyLmZyYW1lO2QuZ2V0KHQpIT09ZSYmKGQuc2V0KHQsZSksdC51cGRhdGUoKSl9KHQpLHQudmVyc2lvbj4wJiZpLl9fdmVyc2lvbiE9PXQudmVyc2lvbil7Y29uc3Qgbj10LmltYWdlO2lmKHZvaWQgMD09PW4pY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgaW1hZ2UgaXMgdW5kZWZpbmVkXCIpO2Vsc2V7aWYoITEhPT1uLmNvbXBsZXRlKXJldHVybiB2b2lkIEMoaSx0LGUpO2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGVcIil9fW4uYWN0aXZlVGV4dHVyZSgzMzk4NCtlKSxuLmJpbmRUZXh0dXJlKDM1NTMsaS5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gRShlLGkpe2NvbnN0IGE9ci5nZXQoZSk7ZS52ZXJzaW9uPjAmJmEuX192ZXJzaW9uIT09ZS52ZXJzaW9uP2Z1bmN0aW9uKGUscixpKXtpZig2IT09ci5pbWFnZS5sZW5ndGgpcmV0dXJuO1AoZSxyKSxuLmFjdGl2ZVRleHR1cmUoMzM5ODQraSksbi5iaW5kVGV4dHVyZSgzNDA2NyxlLl9fd2ViZ2xUZXh0dXJlKSx0LnBpeGVsU3RvcmVpKDM3NDQwLHIuZmxpcFkpO2NvbnN0IGE9ciYmKHIuaXNDb21wcmVzc2VkVGV4dHVyZXx8ci5pbWFnZVswXS5pc0NvbXByZXNzZWRUZXh0dXJlKSxjPXIuaW1hZ2VbMF0mJnIuaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZSx1PVtdO2ZvcihsZXQgdD0wO3Q8Njt0KyspdVt0XT1hfHxjP2M/ci5pbWFnZVt0XS5pbWFnZTpyLmltYWdlW3RdOmcoci5pbWFnZVt0XSwhMSwhMCxsKTtjb25zdCBoPXVbMF0sZD12KGgpfHxzLHA9by5jb252ZXJ0KHIuZm9ybWF0KSxmPW8uY29udmVydChyLnR5cGUpLG09YihyLmludGVybmFsRm9ybWF0LHAsZik7bGV0IHc7aWYoUigzNDA2NyxyLGQpLGEpe2ZvcihsZXQgdD0wO3Q8Njt0Kyspe3c9dVt0XS5taXBtYXBzO2ZvcihsZXQgZT0wO2U8dy5sZW5ndGg7ZSsrKXtjb25zdCBpPXdbZV07ci5mb3JtYXQhPT1VdCYmci5mb3JtYXQhPT1GdD9udWxsIT09cD9uLmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K3QsZSxtLGkud2lkdGgsaS5oZWlnaHQsMCxpLmRhdGEpOmNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gbG9hZCB1bnN1cHBvcnRlZCBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IGluIC5zZXRUZXh0dXJlQ3ViZSgpXCIpOm4udGV4SW1hZ2UyRCgzNDA2OSt0LGUsbSxpLndpZHRoLGkuaGVpZ2h0LDAscCxmLGkuZGF0YSl9fWUuX19tYXhNaXBMZXZlbD13Lmxlbmd0aC0xfWVsc2V7dz1yLm1pcG1hcHM7Zm9yKGxldCB0PTA7dDw2O3QrKylpZihjKXtuLnRleEltYWdlMkQoMzQwNjkrdCwwLG0sdVt0XS53aWR0aCx1W3RdLmhlaWdodCwwLHAsZix1W3RdLmRhdGEpO2ZvcihsZXQgZT0wO2U8dy5sZW5ndGg7ZSsrKXtjb25zdCByPXdbZV0uaW1hZ2VbdF0uaW1hZ2U7bi50ZXhJbWFnZTJEKDM0MDY5K3QsZSsxLG0sci53aWR0aCxyLmhlaWdodCwwLHAsZixyLmRhdGEpfX1lbHNle24udGV4SW1hZ2UyRCgzNDA2OSt0LDAsbSxwLGYsdVt0XSk7Zm9yKGxldCBlPTA7ZTx3Lmxlbmd0aDtlKyspe2NvbnN0IHI9d1tlXTtuLnRleEltYWdlMkQoMzQwNjkrdCxlKzEsbSxwLGYsci5pbWFnZVt0XSl9fWUuX19tYXhNaXBMZXZlbD13Lmxlbmd0aH15KHIsZCkmJngoMzQwNjcscixoLndpZHRoLGguaGVpZ2h0KTtlLl9fdmVyc2lvbj1yLnZlcnNpb24sci5vblVwZGF0ZSYmci5vblVwZGF0ZShyKX0oYSxlLGkpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQraSksbi5iaW5kVGV4dHVyZSgzNDA2NyxhLl9fd2ViZ2xUZXh0dXJlKSl9Y29uc3QgQT17W2h0XToxMDQ5NyxbZHRdOjMzMDcxLFtwdF06MzM2NDh9LEw9e1tmdF06OTcyOCxbbXRdOjk5ODQsW3Z0XTo5OTg2LFt4dF06OTcyOSxbYnRdOjk5ODUsW190XTo5OTg3fTtmdW5jdGlvbiBSKG4sbyxhKXthPyh0LnRleFBhcmFtZXRlcmkobiwxMDI0MixBW28ud3JhcFNdKSx0LnRleFBhcmFtZXRlcmkobiwxMDI0MyxBW28ud3JhcFRdKSwzMjg3OSE9PW4mJjM1ODY2IT09bnx8dC50ZXhQYXJhbWV0ZXJpKG4sMzI4ODIsQVtvLndyYXBSXSksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDAsTFtvLm1hZ0ZpbHRlcl0pLHQudGV4UGFyYW1ldGVyaShuLDEwMjQxLExbby5taW5GaWx0ZXJdKSk6KHQudGV4UGFyYW1ldGVyaShuLDEwMjQyLDMzMDcxKSx0LnRleFBhcmFtZXRlcmkobiwxMDI0MywzMzA3MSksMzI4NzkhPT1uJiYzNTg2NiE9PW58fHQudGV4UGFyYW1ldGVyaShuLDMyODgyLDMzMDcxKSxvLndyYXBTPT09ZHQmJm8ud3JhcFQ9PT1kdHx8Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLndyYXBTIGFuZCBUZXh0dXJlLndyYXBUIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZy5cIiksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDAsdyhvLm1hZ0ZpbHRlcikpLHQudGV4UGFyYW1ldGVyaShuLDEwMjQxLHcoby5taW5GaWx0ZXIpKSxvLm1pbkZpbHRlciE9PWZ0JiZvLm1pbkZpbHRlciE9PXh0JiZjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUubWluRmlsdGVyIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuTmVhcmVzdEZpbHRlciBvciBUSFJFRS5MaW5lYXJGaWx0ZXIuXCIpKTtjb25zdCBjPWUuZ2V0KFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpO2lmKGMpe2lmKG8udHlwZT09PVB0JiZudWxsPT09ZS5nZXQoXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIikpcmV0dXJuO2lmKG8udHlwZT09PUN0JiZudWxsPT09KHN8fGUuZ2V0KFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIikpKXJldHVybjsoby5hbmlzb3Ryb3B5PjF8fHIuZ2V0KG8pLl9fY3VycmVudEFuaXNvdHJvcHkpJiYodC50ZXhQYXJhbWV0ZXJmKG4sYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihvLmFuaXNvdHJvcHksaS5nZXRNYXhBbmlzb3Ryb3B5KCkpKSxyLmdldChvKS5fX2N1cnJlbnRBbmlzb3Ryb3B5PW8uYW5pc290cm9weSl9fWZ1bmN0aW9uIFAoZSxuKXt2b2lkIDA9PT1lLl9fd2ViZ2xJbml0JiYoZS5fX3dlYmdsSW5pdD0hMCxuLmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsXyksZS5fX3dlYmdsVGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSxhLm1lbW9yeS50ZXh0dXJlcysrKX1mdW5jdGlvbiBDKGUscixpKXtsZXQgYT0zNTUzO3IuaXNEYXRhVGV4dHVyZTJEQXJyYXkmJihhPTM1ODY2KSxyLmlzRGF0YVRleHR1cmUzRCYmKGE9MzI4NzkpLFAoZSxyKSxuLmFjdGl2ZVRleHR1cmUoMzM5ODQraSksbi5iaW5kVGV4dHVyZShhLGUuX193ZWJnbFRleHR1cmUpLHQucGl4ZWxTdG9yZWkoMzc0NDAsci5mbGlwWSksdC5waXhlbFN0b3JlaSgzNzQ0MSxyLnByZW11bHRpcGx5QWxwaGEpLHQucGl4ZWxTdG9yZWkoMzMxNyxyLnVucGFja0FsaWdubWVudCk7Y29uc3QgYz1mdW5jdGlvbih0KXtyZXR1cm4hcyYmKHQud3JhcFMhPT1kdHx8dC53cmFwVCE9PWR0fHx0Lm1pbkZpbHRlciE9PWZ0JiZ0Lm1pbkZpbHRlciE9PXh0KX0ocikmJiExPT09dihyLmltYWdlKSxsPWcoci5pbWFnZSxjLCExLHUpLGg9dihsKXx8cyxkPW8uY29udmVydChyLmZvcm1hdCk7bGV0IHAsZj1vLmNvbnZlcnQoci50eXBlKSxtPWIoci5pbnRlcm5hbEZvcm1hdCxkLGYpO1IoYSxyLGgpO2NvbnN0IHc9ci5taXBtYXBzO2lmKHIuaXNEZXB0aFRleHR1cmUpbT02NDAyLHM/bT1yLnR5cGU9PT1QdD8zNjAxMjpyLnR5cGU9PT1SdD8zMzE5MDpyLnR5cGU9PT1EdD8zNTA1NjozMzE4OTpyLnR5cGU9PT1QdCYmY29uc29sZS5lcnJvcihcIldlYkdMUmVuZGVyZXI6IEZsb2F0aW5nIHBvaW50IGRlcHRoIHRleHR1cmUgcmVxdWlyZXMgV2ViR0wyLlwiKSxyLmZvcm1hdD09PWt0JiY2NDAyPT09bSYmci50eXBlIT09QXQmJnIudHlwZSE9PVJ0JiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkU2hvcnRUeXBlIG9yIFVuc2lnbmVkSW50VHlwZSBmb3IgRGVwdGhGb3JtYXQgRGVwdGhUZXh0dXJlLlwiKSxyLnR5cGU9QXQsZj1vLmNvbnZlcnQoci50eXBlKSksci5mb3JtYXQ9PT1WdCYmNjQwMj09PW0mJihtPTM0MDQxLHIudHlwZSE9PUR0JiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkSW50MjQ4VHlwZSBmb3IgRGVwdGhTdGVuY2lsRm9ybWF0IERlcHRoVGV4dHVyZS5cIiksci50eXBlPUR0LGY9by5jb252ZXJ0KHIudHlwZSkpKSxuLnRleEltYWdlMkQoMzU1MywwLG0sbC53aWR0aCxsLmhlaWdodCwwLGQsZixudWxsKTtlbHNlIGlmKHIuaXNEYXRhVGV4dHVyZSlpZih3Lmxlbmd0aD4wJiZoKXtmb3IobGV0IHQ9MCxlPXcubGVuZ3RoO3Q8ZTt0KyspcD13W3RdLG4udGV4SW1hZ2UyRCgzNTUzLHQsbSxwLndpZHRoLHAuaGVpZ2h0LDAsZCxmLHAuZGF0YSk7ci5nZW5lcmF0ZU1pcG1hcHM9ITEsZS5fX21heE1pcExldmVsPXcubGVuZ3RoLTF9ZWxzZSBuLnRleEltYWdlMkQoMzU1MywwLG0sbC53aWR0aCxsLmhlaWdodCwwLGQsZixsLmRhdGEpLGUuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYoci5pc0NvbXByZXNzZWRUZXh0dXJlKXtmb3IobGV0IHQ9MCxlPXcubGVuZ3RoO3Q8ZTt0KyspcD13W3RdLHIuZm9ybWF0IT09VXQmJnIuZm9ybWF0IT09RnQ/bnVsbCE9PWQ/bi5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNTUzLHQsbSxwLndpZHRoLHAuaGVpZ2h0LDAscC5kYXRhKTpjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAudXBsb2FkVGV4dHVyZSgpXCIpOm4udGV4SW1hZ2UyRCgzNTUzLHQsbSxwLndpZHRoLHAuaGVpZ2h0LDAsZCxmLHAuZGF0YSk7ZS5fX21heE1pcExldmVsPXcubGVuZ3RoLTF9ZWxzZSBpZihyLmlzRGF0YVRleHR1cmUyREFycmF5KW4udGV4SW1hZ2UzRCgzNTg2NiwwLG0sbC53aWR0aCxsLmhlaWdodCxsLmRlcHRoLDAsZCxmLGwuZGF0YSksZS5fX21heE1pcExldmVsPTA7ZWxzZSBpZihyLmlzRGF0YVRleHR1cmUzRCluLnRleEltYWdlM0QoMzI4NzksMCxtLGwud2lkdGgsbC5oZWlnaHQsbC5kZXB0aCwwLGQsZixsLmRhdGEpLGUuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYody5sZW5ndGg+MCYmaCl7Zm9yKGxldCB0PTAsZT13Lmxlbmd0aDt0PGU7dCsrKXA9d1t0XSxuLnRleEltYWdlMkQoMzU1Myx0LG0sZCxmLHApO3IuZ2VuZXJhdGVNaXBtYXBzPSExLGUuX19tYXhNaXBMZXZlbD13Lmxlbmd0aC0xfWVsc2Ugbi50ZXhJbWFnZTJEKDM1NTMsMCxtLGQsZixsKSxlLl9fbWF4TWlwTGV2ZWw9MDt5KHIsaCkmJngoYSxyLGwud2lkdGgsbC5oZWlnaHQpLGUuX192ZXJzaW9uPXIudmVyc2lvbixyLm9uVXBkYXRlJiZyLm9uVXBkYXRlKHIpfWZ1bmN0aW9uIEkoZSxpLGEscyl7Y29uc3QgYz1vLmNvbnZlcnQoaS50ZXh0dXJlLmZvcm1hdCksbD1vLmNvbnZlcnQoaS50ZXh0dXJlLnR5cGUpLHU9YihpLnRleHR1cmUuaW50ZXJuYWxGb3JtYXQsYyxsKTtuLnRleEltYWdlMkQocywwLHUsaS53aWR0aCxpLmhlaWdodCwwLGMsbCxudWxsKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxlKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLGEscyxyLmdldChpLnRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLDApLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIE8oZSxuLHIpe2lmKHQuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxlKSxuLmRlcHRoQnVmZmVyJiYhbi5zdGVuY2lsQnVmZmVyKXtsZXQgaT0zMzE4OTtpZihyKXtjb25zdCBlPW4uZGVwdGhUZXh0dXJlO2UmJmUuaXNEZXB0aFRleHR1cmUmJihlLnR5cGU9PT1QdD9pPTM2MDEyOmUudHlwZT09PVJ0JiYoaT0zMzE5MCkpO2NvbnN0IHI9RChuKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxyLGksbi53aWR0aCxuLmhlaWdodCl9ZWxzZSB0LnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEsaSxuLndpZHRoLG4uaGVpZ2h0KTt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDM2MDk2LDM2MTYxLGUpfWVsc2UgaWYobi5kZXB0aEJ1ZmZlciYmbi5zdGVuY2lsQnVmZmVyKXtpZihyKXtjb25zdCBlPUQobik7dC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZSwzNTA1NixuLndpZHRoLG4uaGVpZ2h0KX1lbHNlIHQucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSwzNDA0MSxuLndpZHRoLG4uaGVpZ2h0KTt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDMzMzA2LDM2MTYxLGUpfWVsc2V7Y29uc3QgZT1vLmNvbnZlcnQobi50ZXh0dXJlLmZvcm1hdCksaT1vLmNvbnZlcnQobi50ZXh0dXJlLnR5cGUpLGE9YihuLnRleHR1cmUuaW50ZXJuYWxGb3JtYXQsZSxpKTtpZihyKXtjb25zdCBlPUQobik7dC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZSxhLG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgdC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLGEsbi53aWR0aCxuLmhlaWdodCl9dC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpfWZ1bmN0aW9uIE4oZSl7Y29uc3Qgbj1yLmdldChlKSxpPSEwPT09ZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldDtpZihlLmRlcHRoVGV4dHVyZSl7aWYoaSl0aHJvdyBuZXcgRXJyb3IoXCJ0YXJnZXQuZGVwdGhUZXh0dXJlIG5vdCBzdXBwb3J0ZWQgaW4gQ3ViZSByZW5kZXIgdGFyZ2V0c1wiKTshZnVuY3Rpb24oZSxuKXtpZihuJiZuLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KXRocm93IG5ldyBFcnJvcihcIkRlcHRoIFRleHR1cmUgd2l0aCBjdWJlIHJlbmRlciB0YXJnZXRzIGlzIG5vdCBzdXBwb3J0ZWRcIik7aWYodC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZSksIW4uZGVwdGhUZXh0dXJlfHwhbi5kZXB0aFRleHR1cmUuaXNEZXB0aFRleHR1cmUpdGhyb3cgbmV3IEVycm9yKFwicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZVwiKTtyLmdldChuLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUmJm4uZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPT09bi53aWR0aCYmbi5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PT09bi5oZWlnaHR8fChuLmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aD1uLndpZHRoLG4uZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodD1uLmhlaWdodCxuLmRlcHRoVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCksVChuLmRlcHRoVGV4dHVyZSwwKTtjb25zdCBpPXIuZ2V0KG4uZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZTtpZihuLmRlcHRoVGV4dHVyZS5mb3JtYXQ9PT1rdCl0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDM2MDk2LDM1NTMsaSwwKTtlbHNle2lmKG4uZGVwdGhUZXh0dXJlLmZvcm1hdCE9PVZ0KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGVwdGhUZXh0dXJlIGZvcm1hdFwiKTt0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDMzMzA2LDM1NTMsaSwwKX19KG4uX193ZWJnbEZyYW1lYnVmZmVyLGUpfWVsc2UgaWYoaSl7bi5fX3dlYmdsRGVwdGhidWZmZXI9W107Zm9yKGxldCByPTA7cjw2O3IrKyl0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxuLl9fd2ViZ2xGcmFtZWJ1ZmZlcltyXSksbi5fX3dlYmdsRGVwdGhidWZmZXJbcl09dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxPKG4uX193ZWJnbERlcHRoYnVmZmVyW3JdLGUsITEpfWVsc2UgdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbi5fX3dlYmdsRnJhbWVidWZmZXIpLG4uX193ZWJnbERlcHRoYnVmZmVyPXQuY3JlYXRlUmVuZGVyYnVmZmVyKCksTyhuLl9fd2ViZ2xEZXB0aGJ1ZmZlcixlLCExKTt0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1mdW5jdGlvbiBEKHQpe3JldHVybiBzJiZ0LmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldD9NYXRoLm1pbihoLHQuc2FtcGxlcyk6MH1sZXQgQj0hMSxGPSExO3RoaXMuYWxsb2NhdGVUZXh0dXJlVW5pdD1mdW5jdGlvbigpe2NvbnN0IHQ9UztyZXR1cm4gdD49YyYmY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xUZXh0dXJlczogVHJ5aW5nIHRvIHVzZSBcIit0K1wiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSBcIitjKSxTKz0xLHR9LHRoaXMucmVzZXRUZXh0dXJlVW5pdHM9ZnVuY3Rpb24oKXtTPTB9LHRoaXMuc2V0VGV4dHVyZTJEPVQsdGhpcy5zZXRUZXh0dXJlMkRBcnJheT1mdW5jdGlvbih0LGUpe2NvbnN0IGk9ci5nZXQodCk7dC52ZXJzaW9uPjAmJmkuX192ZXJzaW9uIT09dC52ZXJzaW9uP0MoaSx0LGUpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQrZSksbi5iaW5kVGV4dHVyZSgzNTg2NixpLl9fd2ViZ2xUZXh0dXJlKSl9LHRoaXMuc2V0VGV4dHVyZTNEPWZ1bmN0aW9uKHQsZSl7Y29uc3QgaT1yLmdldCh0KTt0LnZlcnNpb24+MCYmaS5fX3ZlcnNpb24hPT10LnZlcnNpb24/QyhpLHQsZSk6KG4uYWN0aXZlVGV4dHVyZSgzMzk4NCtlKSxuLmJpbmRUZXh0dXJlKDMyODc5LGkuX193ZWJnbFRleHR1cmUpKX0sdGhpcy5zZXRUZXh0dXJlQ3ViZT1FLHRoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oZSl7Y29uc3QgaT1yLmdldChlKSxjPXIuZ2V0KGUudGV4dHVyZSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLE0pLGMuX193ZWJnbFRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksYS5tZW1vcnkudGV4dHVyZXMrKztjb25zdCBsPSEwPT09ZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCx1PSEwPT09ZS5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQsaD12KGUpfHxzO2lmKCFzfHxlLnRleHR1cmUuZm9ybWF0IT09RnR8fGUudGV4dHVyZS50eXBlIT09UHQmJmUudGV4dHVyZS50eXBlIT09Q3R8fChlLnRleHR1cmUuZm9ybWF0PVV0LGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFJlbmRlcmluZyB0byB0ZXh0dXJlcyB3aXRoIFJHQiBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4gVXNpbmcgUkdCQSBmb3JtYXQgaW5zdGVhZC5cIikpLGwpe2kuX193ZWJnbEZyYW1lYnVmZmVyPVtdO2ZvcihsZXQgZT0wO2U8NjtlKyspaS5fX3dlYmdsRnJhbWVidWZmZXJbZV09dC5jcmVhdGVGcmFtZWJ1ZmZlcigpfWVsc2UgaWYoaS5fX3dlYmdsRnJhbWVidWZmZXI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpLHUpaWYocyl7aS5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpLGkuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPXQuY3JlYXRlUmVuZGVyYnVmZmVyKCksdC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLGkuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKTtjb25zdCBuPW8uY29udmVydChlLnRleHR1cmUuZm9ybWF0KSxyPW8uY29udmVydChlLnRleHR1cmUudHlwZSksYT1iKGUudGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxuLHIpLHM9RChlKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxzLGEsZS53aWR0aCxlLmhlaWdodCksdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsaS5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwNjQsMzYxNjEsaS5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLHQuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKSxlLmRlcHRoQnVmZmVyJiYoaS5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxPKGkuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLGUsITApKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi5cIik7aWYobCl7bi5iaW5kVGV4dHVyZSgzNDA2NyxjLl9fd2ViZ2xUZXh0dXJlKSxSKDM0MDY3LGUudGV4dHVyZSxoKTtmb3IobGV0IHQ9MDt0PDY7dCsrKUkoaS5fX3dlYmdsRnJhbWVidWZmZXJbdF0sZSwzNjA2NCwzNDA2OSt0KTt5KGUudGV4dHVyZSxoKSYmeCgzNDA2NyxlLnRleHR1cmUsZS53aWR0aCxlLmhlaWdodCksbi5iaW5kVGV4dHVyZSgzNDA2NyxudWxsKX1lbHNlIG4uYmluZFRleHR1cmUoMzU1MyxjLl9fd2ViZ2xUZXh0dXJlKSxSKDM1NTMsZS50ZXh0dXJlLGgpLEkoaS5fX3dlYmdsRnJhbWVidWZmZXIsZSwzNjA2NCwzNTUzKSx5KGUudGV4dHVyZSxoKSYmeCgzNTUzLGUudGV4dHVyZSxlLndpZHRoLGUuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKDM1NTMsbnVsbCk7ZS5kZXB0aEJ1ZmZlciYmTihlKX0sdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnRleHR1cmU7aWYoeShlLHYodCl8fHMpKXtjb25zdCBpPXQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ/MzQwNjc6MzU1MyxvPXIuZ2V0KGUpLl9fd2ViZ2xUZXh0dXJlO24uYmluZFRleHR1cmUoaSxvKSx4KGksZSx0LndpZHRoLHQuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKGksbnVsbCl9fSx0aGlzLnVwZGF0ZU11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKGUpe2lmKGUuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KWlmKHMpe2NvbnN0IG49ci5nZXQoZSk7dC5iaW5kRnJhbWVidWZmZXIoMzYwMDgsbi5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA5LG4uX193ZWJnbEZyYW1lYnVmZmVyKTtjb25zdCBpPWUud2lkdGgsbz1lLmhlaWdodDtsZXQgYT0xNjM4NDtlLmRlcHRoQnVmZmVyJiYoYXw9MjU2KSxlLnN0ZW5jaWxCdWZmZXImJihhfD0xMDI0KSx0LmJsaXRGcmFtZWJ1ZmZlcigwLDAsaSxvLDAsMCxpLG8sYSw5NzI4KSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxuLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcil9ZWxzZSBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIuXCIpfSx0aGlzLnNhZmVTZXRUZXh0dXJlMkQ9ZnVuY3Rpb24odCxlKXt0JiZ0LmlzV2ViR0xSZW5kZXJUYXJnZXQmJighMT09PUImJihjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFRleHR1cmVzLnNhZmVTZXRUZXh0dXJlMkQ6IGRvbid0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuXCIpLEI9ITApLHQ9dC50ZXh0dXJlKSxUKHQsZSl9LHRoaXMuc2FmZVNldFRleHR1cmVDdWJlPWZ1bmN0aW9uKHQsZSl7dCYmdC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCYmKCExPT09RiYmKGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMVGV4dHVyZXMuc2FmZVNldFRleHR1cmVDdWJlOiBkb24ndCB1c2UgY3ViZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuXCIpLEY9ITApLHQ9dC50ZXh0dXJlKSxFKHQsZSl9fWZ1bmN0aW9uIFJzKHQsZSxuKXtjb25zdCByPW4uaXNXZWJHTDI7cmV0dXJue2NvbnZlcnQ6ZnVuY3Rpb24odCl7bGV0IG47aWYodD09PVN0KXJldHVybiA1MTIxO2lmKHQ9PT1JdClyZXR1cm4gMzI4MTk7aWYodD09PU90KXJldHVybiAzMjgyMDtpZih0PT09TnQpcmV0dXJuIDMzNjM1O2lmKHQ9PT1UdClyZXR1cm4gNTEyMDtpZih0PT09RXQpcmV0dXJuIDUxMjI7aWYodD09PUF0KXJldHVybiA1MTIzO2lmKHQ9PT1MdClyZXR1cm4gNTEyNDtpZih0PT09UnQpcmV0dXJuIDUxMjU7aWYodD09PVB0KXJldHVybiA1MTI2O2lmKHQ9PT1DdClyZXR1cm4gcj81MTMxOihuPWUuZ2V0KFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSxudWxsIT09bj9uLkhBTEZfRkxPQVRfT0VTOm51bGwpO2lmKHQ9PT1CdClyZXR1cm4gNjQwNjtpZih0PT09RnQpcmV0dXJuIDY0MDc7aWYodD09PVV0KXJldHVybiA2NDA4O2lmKHQ9PT16dClyZXR1cm4gNjQwOTtpZih0PT09R3QpcmV0dXJuIDY0MTA7aWYodD09PWt0KXJldHVybiA2NDAyO2lmKHQ9PT1WdClyZXR1cm4gMzQwNDE7aWYodD09PWp0KXJldHVybiA2NDAzO2lmKHQ9PT1XdClyZXR1cm4gMzYyNDQ7aWYodD09PVh0KXJldHVybiAzMzMxOTtpZih0PT09cXQpcmV0dXJuIDMzMzIwO2lmKHQ9PT1ZdClyZXR1cm4gMzYyNDg7aWYodD09PVp0KXJldHVybiAzNjI0OTtpZih0PT09SnR8fHQ9PT1LdHx8dD09PVF0fHx0PT09JHQpe2lmKG49ZS5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKSxudWxsPT09bilyZXR1cm4gbnVsbDtpZih0PT09SnQpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVDtpZih0PT09S3QpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ7aWYodD09PVF0KXJldHVybiBuLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUO2lmKHQ9PT0kdClyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVH1pZih0PT09dGV8fHQ9PT1lZXx8dD09PW5lfHx0PT09cmUpe2lmKG49ZS5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIiksbnVsbD09PW4pcmV0dXJuIG51bGw7aWYodD09PXRlKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUc7aWYodD09PWVlKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUc7aWYodD09PW5lKXJldHVybiBuLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HO2lmKHQ9PT1yZSlyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR31pZih0PT09aWUpcmV0dXJuIG49ZS5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVwiKSxudWxsIT09bj9uLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0w6bnVsbDtpZigodD09PW9lfHx0PT09YWUpJiYobj1lLmdldChcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGNcIiksbnVsbCE9PW4pKXtpZih0PT09b2UpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0I4X0VUQzI7aWYodD09PWFlKXJldHVybiBuLkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUN9cmV0dXJuIHQ9PT1zZXx8dD09PWNlfHx0PT09bGV8fHQ9PT11ZXx8dD09PWhlfHx0PT09ZGV8fHQ9PT1wZXx8dD09PWZlfHx0PT09bWV8fHQ9PT1nZXx8dD09PXZlfHx0PT09eWV8fHQ9PT14ZXx8dD09PWJlfHx0PT09X2V8fHQ9PT1NZXx8dD09PVNlfHx0PT09VGV8fHQ9PT1FZXx8dD09PUFlfHx0PT09TGV8fHQ9PT1SZXx8dD09PVBlfHx0PT09Q2V8fHQ9PT1JZXx8dD09PU9lfHx0PT09TmV8fHQ9PT1EZT8obj1lLmdldChcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjXCIpLG51bGwhPT1uP3Q6bnVsbCk6dD09PXdlPyhuPWUuZ2V0KFwiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0Y1wiKSxudWxsIT09bj90Om51bGwpOnQ9PT1EdD9yPzM0MDQyOihuPWUuZ2V0KFwiV0VCR0xfZGVwdGhfdGV4dHVyZVwiKSxudWxsIT09bj9uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMOm51bGwpOnZvaWQgMH19fWZ1bmN0aW9uIFBzKHQ9W10pe3dvLmNhbGwodGhpcyksdGhpcy5jYW1lcmFzPXR9ZnVuY3Rpb24gQ3MoKXtKci5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkdyb3VwXCJ9ZnVuY3Rpb24gSXMoKXt0aGlzLl90YXJnZXRSYXk9bnVsbCx0aGlzLl9ncmlwPW51bGwsdGhpcy5faGFuZD1udWxsfWZ1bmN0aW9uIE9zKHQsZSl7Y29uc3Qgbj10aGlzO2xldCByPW51bGwsaT0xLG89bnVsbCxhPVwibG9jYWwtZmxvb3JcIixzPW51bGw7Y29uc3QgYz1bXSxsPW5ldyBNYXAsdT1uZXcgd287dS5sYXllcnMuZW5hYmxlKDEpLHUudmlld3BvcnQ9bmV3IHFuO2NvbnN0IGg9bmV3IHdvO2gubGF5ZXJzLmVuYWJsZSgyKSxoLnZpZXdwb3J0PW5ldyBxbjtjb25zdCBkPVt1LGhdLHA9bmV3IFBzO3AubGF5ZXJzLmVuYWJsZSgxKSxwLmxheWVycy5lbmFibGUoMik7bGV0IGY9bnVsbCxtPW51bGw7ZnVuY3Rpb24gZyh0KXtjb25zdCBlPWwuZ2V0KHQuaW5wdXRTb3VyY2UpO2UmJmUuZGlzcGF0Y2hFdmVudCh7dHlwZTp0LnR5cGUsZGF0YTp0LmlucHV0U291cmNlfSl9ZnVuY3Rpb24gdigpe2wuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LmRpc2Nvbm5lY3QoZSl9KSksbC5jbGVhcigpLHQuc2V0RnJhbWVidWZmZXIobnVsbCksdC5zZXRSZW5kZXJUYXJnZXQodC5nZXRSZW5kZXJUYXJnZXQoKSksUy5zdG9wKCksbi5pc1ByZXNlbnRpbmc9ITEsbi5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic2Vzc2lvbmVuZFwifSl9ZnVuY3Rpb24geSh0KXtvPXQsUy5zZXRDb250ZXh0KHIpLFMuc3RhcnQoKSxuLmlzUHJlc2VudGluZz0hMCxuLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzZXNzaW9uc3RhcnRcIn0pfWZ1bmN0aW9uIHgodCl7Y29uc3QgZT1yLmlucHV0U291cmNlcztmb3IobGV0IHQ9MDt0PGMubGVuZ3RoO3QrKylsLnNldChlW3RdLGNbdF0pO2ZvcihsZXQgZT0wO2U8dC5yZW1vdmVkLmxlbmd0aDtlKyspe2NvbnN0IG49dC5yZW1vdmVkW2VdLHI9bC5nZXQobik7ciYmKHIuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImRpc2Nvbm5lY3RlZFwiLGRhdGE6bn0pLGwuZGVsZXRlKG4pKX1mb3IobGV0IGU9MDtlPHQuYWRkZWQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LmFkZGVkW2VdLHI9bC5nZXQobik7ciYmci5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY29ubmVjdGVkXCIsZGF0YTpufSl9fXRoaXMuZW5hYmxlZD0hMSx0aGlzLmlzUHJlc2VudGluZz0hMSx0aGlzLmdldENvbnRyb2xsZXI9ZnVuY3Rpb24odCl7bGV0IGU9Y1t0XTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IElzLGNbdF09ZSksZS5nZXRUYXJnZXRSYXlTcGFjZSgpfSx0aGlzLmdldENvbnRyb2xsZXJHcmlwPWZ1bmN0aW9uKHQpe2xldCBlPWNbdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyBJcyxjW3RdPWUpLGUuZ2V0R3JpcFNwYWNlKCl9LHRoaXMuZ2V0SGFuZD1mdW5jdGlvbih0KXtsZXQgZT1jW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgSXMsY1t0XT1lKSxlLmdldEhhbmRTcGFjZSgpfSx0aGlzLnNldEZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9ZnVuY3Rpb24odCl7aT10LCEwPT09bi5pc1ByZXNlbnRpbmcmJmNvbnNvbGUud2FybihcIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSBmcmFtZWJ1ZmZlciBzY2FsZSB3aGlsZSBwcmVzZW50aW5nLlwiKX0sdGhpcy5zZXRSZWZlcmVuY2VTcGFjZVR5cGU9ZnVuY3Rpb24odCl7YT10LCEwPT09bi5pc1ByZXNlbnRpbmcmJmNvbnNvbGUud2FybihcIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSByZWZlcmVuY2Ugc3BhY2UgdHlwZSB3aGlsZSBwcmVzZW50aW5nLlwiKX0sdGhpcy5nZXRSZWZlcmVuY2VTcGFjZT1mdW5jdGlvbigpe3JldHVybiBvfSx0aGlzLmdldFNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5zZXRTZXNzaW9uPWZ1bmN0aW9uKHQpe2lmKHI9dCxudWxsIT09cil7ci5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0XCIsZyksci5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIixnKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RlbmRcIixnKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJzcXVlZXplXCIsZyksci5hZGRFdmVudExpc3RlbmVyKFwic3F1ZWV6ZXN0YXJ0XCIsZyksci5hZGRFdmVudExpc3RlbmVyKFwic3F1ZWV6ZWVuZFwiLGcpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImVuZFwiLHYpO2NvbnN0IHQ9ZS5nZXRDb250ZXh0QXR0cmlidXRlcygpOyEwIT09dC54ckNvbXBhdGlibGUmJmUubWFrZVhSQ29tcGF0aWJsZSgpO2NvbnN0IG49e2FudGlhbGlhczp0LmFudGlhbGlhcyxhbHBoYTp0LmFscGhhLGRlcHRoOnQuZGVwdGgsc3RlbmNpbDp0LnN0ZW5jaWwsZnJhbWVidWZmZXJTY2FsZUZhY3RvcjppfSxvPW5ldyBYUldlYkdMTGF5ZXIocixlLG4pO3IudXBkYXRlUmVuZGVyU3RhdGUoe2Jhc2VMYXllcjpvfSksci5yZXF1ZXN0UmVmZXJlbmNlU3BhY2UoYSkudGhlbih5KSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dHNvdXJjZXNjaGFuZ2VcIix4KX19O2NvbnN0IGI9bmV3IEtuLHc9bmV3IEtuO2Z1bmN0aW9uIF8odCxlKXtudWxsPT09ZT90Lm1hdHJpeFdvcmxkLmNvcHkodC5tYXRyaXgpOnQubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyhlLm1hdHJpeFdvcmxkLHQubWF0cml4KSx0Lm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHQubWF0cml4V29ybGQpLmludmVydCgpfXRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKHQpe3AubmVhcj1oLm5lYXI9dS5uZWFyPXQubmVhcixwLmZhcj1oLmZhcj11LmZhcj10LmZhcixmPT09cC5uZWFyJiZtPT09cC5mYXJ8fChyLnVwZGF0ZVJlbmRlclN0YXRlKHtkZXB0aE5lYXI6cC5uZWFyLGRlcHRoRmFyOnAuZmFyfSksZj1wLm5lYXIsbT1wLmZhcik7Y29uc3QgZT10LnBhcmVudCxuPXAuY2FtZXJhcztfKHAsZSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspXyhuW3RdLGUpO3QubWF0cml4V29ybGQuY29weShwLm1hdHJpeFdvcmxkKTtjb25zdCBpPXQuY2hpbGRyZW47Zm9yKGxldCB0PTAsZT1pLmxlbmd0aDt0PGU7dCsrKWlbdF0udXBkYXRlTWF0cml4V29ybGQoITApO3JldHVybiAyPT09bi5sZW5ndGg/ZnVuY3Rpb24odCxlLG4pe2Iuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLHcuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG4ubWF0cml4V29ybGQpO2NvbnN0IHI9Yi5kaXN0YW5jZVRvKHcpLGk9ZS5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzLG89bi5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzLGE9aVsxNF0vKGlbMTBdLTEpLHM9aVsxNF0vKGlbMTBdKzEpLGM9KGlbOV0rMSkvaVs1XSxsPShpWzldLTEpL2lbNV0sdT0oaVs4XS0xKS9pWzBdLGg9KG9bOF0rMSkvb1swXSxkPWEqdSxwPWEqaCxmPXIvKC11K2gpLG09ZiotdTtlLm1hdHJpeFdvcmxkLmRlY29tcG9zZSh0LnBvc2l0aW9uLHQucXVhdGVybmlvbix0LnNjYWxlKSx0LnRyYW5zbGF0ZVgobSksdC50cmFuc2xhdGVaKGYpLHQubWF0cml4V29ybGQuY29tcG9zZSh0LnBvc2l0aW9uLHQucXVhdGVybmlvbix0LnNjYWxlKSx0Lm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHQubWF0cml4V29ybGQpLmludmVydCgpO2NvbnN0IGc9YStmLHY9cytmLHk9ZC1tLHg9cCsoci1tKSxfPWMqcy92KmcsTT1sKnMvdipnO3QucHJvamVjdGlvbk1hdHJpeC5tYWtlUGVyc3BlY3RpdmUoeSx4LF8sTSxnLHYpfShwLHUsaCk6cC5wcm9qZWN0aW9uTWF0cml4LmNvcHkodS5wcm9qZWN0aW9uTWF0cml4KSxwfTtsZXQgTT1udWxsO2NvbnN0IFM9bmV3IFJvO1Muc2V0QW5pbWF0aW9uTG9vcCgoZnVuY3Rpb24oZSxuKXtpZihzPW4uZ2V0Vmlld2VyUG9zZShvKSxudWxsIT09cyl7Y29uc3QgZT1zLnZpZXdzLG49ci5yZW5kZXJTdGF0ZS5iYXNlTGF5ZXI7dC5zZXRGcmFtZWJ1ZmZlcihuLmZyYW1lYnVmZmVyKTtsZXQgaT0hMTtlLmxlbmd0aCE9PXAuY2FtZXJhcy5sZW5ndGgmJihwLmNhbWVyYXMubGVuZ3RoPTAsaT0hMCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XSxvPW4uZ2V0Vmlld3BvcnQociksYT1kW3RdO2EubWF0cml4LmZyb21BcnJheShyLnRyYW5zZm9ybS5tYXRyaXgpLGEucHJvamVjdGlvbk1hdHJpeC5mcm9tQXJyYXkoci5wcm9qZWN0aW9uTWF0cml4KSxhLnZpZXdwb3J0LnNldChvLngsby55LG8ud2lkdGgsby5oZWlnaHQpLDA9PT10JiZwLm1hdHJpeC5jb3B5KGEubWF0cml4KSwhMD09PWkmJnAuY2FtZXJhcy5wdXNoKGEpfX1jb25zdCBpPXIuaW5wdXRTb3VyY2VzO2ZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7dCsrKXtjb25zdCBlPWNbdF0scj1pW3RdO2UudXBkYXRlKHIsbixvKX1NJiZNKGUsbil9KSksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKHQpe009dH0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBOcyh0KXtmdW5jdGlvbiBlKGUsbil7ZS5vcGFjaXR5LnZhbHVlPW4ub3BhY2l0eSxuLmNvbG9yJiZlLmRpZmZ1c2UudmFsdWUuY29weShuLmNvbG9yKSxuLmVtaXNzaXZlJiZlLmVtaXNzaXZlLnZhbHVlLmNvcHkobi5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIobi5lbWlzc2l2ZUludGVuc2l0eSksbi5tYXAmJihlLm1hcC52YWx1ZT1uLm1hcCksbi5hbHBoYU1hcCYmKGUuYWxwaGFNYXAudmFsdWU9bi5hbHBoYU1hcCksbi5zcGVjdWxhck1hcCYmKGUuc3BlY3VsYXJNYXAudmFsdWU9bi5zcGVjdWxhck1hcCk7Y29uc3Qgcj10LmdldChuKS5lbnZNYXA7aWYocil7ZS5lbnZNYXAudmFsdWU9cixlLmZsaXBFbnZNYXAudmFsdWU9ci5pc0N1YmVUZXh0dXJlJiZyLl9uZWVkc0ZsaXBFbnZNYXA/LTE6MSxlLnJlZmxlY3Rpdml0eS52YWx1ZT1uLnJlZmxlY3Rpdml0eSxlLnJlZnJhY3Rpb25SYXRpby52YWx1ZT1uLnJlZnJhY3Rpb25SYXRpbztjb25zdCBpPXQuZ2V0KHIpLl9fbWF4TWlwTGV2ZWw7dm9pZCAwIT09aSYmKGUubWF4TWlwTGV2ZWwudmFsdWU9aSl9bGV0IGksbztuLmxpZ2h0TWFwJiYoZS5saWdodE1hcC52YWx1ZT1uLmxpZ2h0TWFwLGUubGlnaHRNYXBJbnRlbnNpdHkudmFsdWU9bi5saWdodE1hcEludGVuc2l0eSksbi5hb01hcCYmKGUuYW9NYXAudmFsdWU9bi5hb01hcCxlLmFvTWFwSW50ZW5zaXR5LnZhbHVlPW4uYW9NYXBJbnRlbnNpdHkpLG4ubWFwP2k9bi5tYXA6bi5zcGVjdWxhck1hcD9pPW4uc3BlY3VsYXJNYXA6bi5kaXNwbGFjZW1lbnRNYXA/aT1uLmRpc3BsYWNlbWVudE1hcDpuLm5vcm1hbE1hcD9pPW4ubm9ybWFsTWFwOm4uYnVtcE1hcD9pPW4uYnVtcE1hcDpuLnJvdWdobmVzc01hcD9pPW4ucm91Z2huZXNzTWFwOm4ubWV0YWxuZXNzTWFwP2k9bi5tZXRhbG5lc3NNYXA6bi5hbHBoYU1hcD9pPW4uYWxwaGFNYXA6bi5lbWlzc2l2ZU1hcD9pPW4uZW1pc3NpdmVNYXA6bi5jbGVhcmNvYXRNYXA/aT1uLmNsZWFyY29hdE1hcDpuLmNsZWFyY29hdE5vcm1hbE1hcD9pPW4uY2xlYXJjb2F0Tm9ybWFsTWFwOm4uY2xlYXJjb2F0Um91Z2huZXNzTWFwJiYoaT1uLmNsZWFyY29hdFJvdWdobmVzc01hcCksdm9pZCAwIT09aSYmKGkuaXNXZWJHTFJlbmRlclRhcmdldCYmKGk9aS50ZXh0dXJlKSwhMD09PWkubWF0cml4QXV0b1VwZGF0ZSYmaS51cGRhdGVNYXRyaXgoKSxlLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoaS5tYXRyaXgpKSxuLmFvTWFwP289bi5hb01hcDpuLmxpZ2h0TWFwJiYobz1uLmxpZ2h0TWFwKSx2b2lkIDAhPT1vJiYoby5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYobz1vLnRleHR1cmUpLCEwPT09by5tYXRyaXhBdXRvVXBkYXRlJiZvLnVwZGF0ZU1hdHJpeCgpLGUudXYyVHJhbnNmb3JtLnZhbHVlLmNvcHkoby5tYXRyaXgpKX1mdW5jdGlvbiBuKGUsbil7ZS5yb3VnaG5lc3MudmFsdWU9bi5yb3VnaG5lc3MsZS5tZXRhbG5lc3MudmFsdWU9bi5tZXRhbG5lc3Msbi5yb3VnaG5lc3NNYXAmJihlLnJvdWdobmVzc01hcC52YWx1ZT1uLnJvdWdobmVzc01hcCksbi5tZXRhbG5lc3NNYXAmJihlLm1ldGFsbmVzc01hcC52YWx1ZT1uLm1ldGFsbmVzc01hcCksbi5lbWlzc2l2ZU1hcCYmKGUuZW1pc3NpdmVNYXAudmFsdWU9bi5lbWlzc2l2ZU1hcCksbi5idW1wTWFwJiYoZS5idW1wTWFwLnZhbHVlPW4uYnVtcE1hcCxlLmJ1bXBTY2FsZS52YWx1ZT1uLmJ1bXBTY2FsZSxuLnNpZGU9PT1tJiYoZS5idW1wU2NhbGUudmFsdWUqPS0xKSksbi5ub3JtYWxNYXAmJihlLm5vcm1hbE1hcC52YWx1ZT1uLm5vcm1hbE1hcCxlLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkobi5ub3JtYWxTY2FsZSksbi5zaWRlPT09bSYmZS5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSksbi5kaXNwbGFjZW1lbnRNYXAmJihlLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1uLmRpc3BsYWNlbWVudE1hcCxlLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPW4uZGlzcGxhY2VtZW50U2NhbGUsZS5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPW4uZGlzcGxhY2VtZW50Qmlhcyk7dC5nZXQobikuZW52TWFwJiYoZS5lbnZNYXBJbnRlbnNpdHkudmFsdWU9bi5lbnZNYXBJbnRlbnNpdHkpfXJldHVybntyZWZyZXNoRm9nVW5pZm9ybXM6ZnVuY3Rpb24odCxlKXt0LmZvZ0NvbG9yLnZhbHVlLmNvcHkoZS5jb2xvciksZS5pc0ZvZz8odC5mb2dOZWFyLnZhbHVlPWUubmVhcix0LmZvZ0Zhci52YWx1ZT1lLmZhcik6ZS5pc0ZvZ0V4cDImJih0LmZvZ0RlbnNpdHkudmFsdWU9ZS5kZW5zaXR5KX0scmVmcmVzaE1hdGVyaWFsVW5pZm9ybXM6ZnVuY3Rpb24odCxyLGksbyl7ci5pc01lc2hCYXNpY01hdGVyaWFsP2UodCxyKTpyLmlzTWVzaExhbWJlcnRNYXRlcmlhbD8oZSh0LHIpLGZ1bmN0aW9uKHQsZSl7ZS5lbWlzc2l2ZU1hcCYmKHQuZW1pc3NpdmVNYXAudmFsdWU9ZS5lbWlzc2l2ZU1hcCl9KHQscikpOnIuaXNNZXNoVG9vbk1hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXtlLmdyYWRpZW50TWFwJiYodC5ncmFkaWVudE1hcC52YWx1ZT1lLmdyYWRpZW50TWFwKTtlLmVtaXNzaXZlTWFwJiYodC5lbWlzc2l2ZU1hcC52YWx1ZT1lLmVtaXNzaXZlTWFwKTtlLmJ1bXBNYXAmJih0LmJ1bXBNYXAudmFsdWU9ZS5idW1wTWFwLHQuYnVtcFNjYWxlLnZhbHVlPWUuYnVtcFNjYWxlLGUuc2lkZT09PW0mJih0LmJ1bXBTY2FsZS52YWx1ZSo9LTEpKTtlLm5vcm1hbE1hcCYmKHQubm9ybWFsTWFwLnZhbHVlPWUubm9ybWFsTWFwLHQubm9ybWFsU2NhbGUudmFsdWUuY29weShlLm5vcm1hbFNjYWxlKSxlLnNpZGU9PT1tJiZ0Lm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKTtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKX0odCxyKSk6ci5pc01lc2hQaG9uZ01hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXt0LnNwZWN1bGFyLnZhbHVlLmNvcHkoZS5zcGVjdWxhciksdC5zaGluaW5lc3MudmFsdWU9TWF0aC5tYXgoZS5zaGluaW5lc3MsMWUtNCksZS5lbWlzc2l2ZU1hcCYmKHQuZW1pc3NpdmVNYXAudmFsdWU9ZS5lbWlzc2l2ZU1hcCk7ZS5idW1wTWFwJiYodC5idW1wTWFwLnZhbHVlPWUuYnVtcE1hcCx0LmJ1bXBTY2FsZS52YWx1ZT1lLmJ1bXBTY2FsZSxlLnNpZGU9PT1tJiYodC5idW1wU2NhbGUudmFsdWUqPS0xKSk7ZS5ub3JtYWxNYXAmJih0Lm5vcm1hbE1hcC52YWx1ZT1lLm5vcm1hbE1hcCx0Lm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkoZS5ub3JtYWxTY2FsZSksZS5zaWRlPT09bSYmdC5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSk7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyl9KHQscikpOnIuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD8oZSh0LHIpLHIuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbD9mdW5jdGlvbih0LGUpe24odCxlKSx0LnJlZmxlY3Rpdml0eS52YWx1ZT1lLnJlZmxlY3Rpdml0eSx0LmNsZWFyY29hdC52YWx1ZT1lLmNsZWFyY29hdCx0LmNsZWFyY29hdFJvdWdobmVzcy52YWx1ZT1lLmNsZWFyY29hdFJvdWdobmVzcyxlLnNoZWVuJiZ0LnNoZWVuLnZhbHVlLmNvcHkoZS5zaGVlbik7ZS5jbGVhcmNvYXRNYXAmJih0LmNsZWFyY29hdE1hcC52YWx1ZT1lLmNsZWFyY29hdE1hcCk7ZS5jbGVhcmNvYXRSb3VnaG5lc3NNYXAmJih0LmNsZWFyY29hdFJvdWdobmVzc01hcC52YWx1ZT1lLmNsZWFyY29hdFJvdWdobmVzc01hcCk7ZS5jbGVhcmNvYXROb3JtYWxNYXAmJih0LmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLmNvcHkoZS5jbGVhcmNvYXROb3JtYWxTY2FsZSksdC5jbGVhcmNvYXROb3JtYWxNYXAudmFsdWU9ZS5jbGVhcmNvYXROb3JtYWxNYXAsZS5zaWRlPT09bSYmdC5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSk7dC50cmFuc21pc3Npb24udmFsdWU9ZS50cmFuc21pc3Npb24sZS50cmFuc21pc3Npb25NYXAmJih0LnRyYW5zbWlzc2lvbk1hcC52YWx1ZT1lLnRyYW5zbWlzc2lvbk1hcCl9KHQscik6bih0LHIpKTpyLmlzTWVzaE1hdGNhcE1hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXtlLm1hdGNhcCYmKHQubWF0Y2FwLnZhbHVlPWUubWF0Y2FwKTtlLmJ1bXBNYXAmJih0LmJ1bXBNYXAudmFsdWU9ZS5idW1wTWFwLHQuYnVtcFNjYWxlLnZhbHVlPWUuYnVtcFNjYWxlLGUuc2lkZT09PW0mJih0LmJ1bXBTY2FsZS52YWx1ZSo9LTEpKTtlLm5vcm1hbE1hcCYmKHQubm9ybWFsTWFwLnZhbHVlPWUubm9ybWFsTWFwLHQubm9ybWFsU2NhbGUudmFsdWUuY29weShlLm5vcm1hbFNjYWxlKSxlLnNpZGU9PT1tJiZ0Lm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKTtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKX0odCxyKSk6ci5pc01lc2hEZXB0aE1hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKX0odCxyKSk6ci5pc01lc2hEaXN0YW5jZU1hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKTt0LnJlZmVyZW5jZVBvc2l0aW9uLnZhbHVlLmNvcHkoZS5yZWZlcmVuY2VQb3NpdGlvbiksdC5uZWFyRGlzdGFuY2UudmFsdWU9ZS5uZWFyRGlzdGFuY2UsdC5mYXJEaXN0YW5jZS52YWx1ZT1lLmZhckRpc3RhbmNlfSh0LHIpKTpyLmlzTWVzaE5vcm1hbE1hdGVyaWFsPyhlKHQsciksZnVuY3Rpb24odCxlKXtlLmJ1bXBNYXAmJih0LmJ1bXBNYXAudmFsdWU9ZS5idW1wTWFwLHQuYnVtcFNjYWxlLnZhbHVlPWUuYnVtcFNjYWxlLGUuc2lkZT09PW0mJih0LmJ1bXBTY2FsZS52YWx1ZSo9LTEpKTtlLm5vcm1hbE1hcCYmKHQubm9ybWFsTWFwLnZhbHVlPWUubm9ybWFsTWFwLHQubm9ybWFsU2NhbGUudmFsdWUuY29weShlLm5vcm1hbFNjYWxlKSxlLnNpZGU9PT1tJiZ0Lm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKTtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKX0odCxyKSk6ci5pc0xpbmVCYXNpY01hdGVyaWFsPyhmdW5jdGlvbih0LGUpe3QuZGlmZnVzZS52YWx1ZS5jb3B5KGUuY29sb3IpLHQub3BhY2l0eS52YWx1ZT1lLm9wYWNpdHl9KHQsciksci5pc0xpbmVEYXNoZWRNYXRlcmlhbCYmZnVuY3Rpb24odCxlKXt0LmRhc2hTaXplLnZhbHVlPWUuZGFzaFNpemUsdC50b3RhbFNpemUudmFsdWU9ZS5kYXNoU2l6ZStlLmdhcFNpemUsdC5zY2FsZS52YWx1ZT1lLnNjYWxlfSh0LHIpKTpyLmlzUG9pbnRzTWF0ZXJpYWw/ZnVuY3Rpb24odCxlLG4scil7dC5kaWZmdXNlLnZhbHVlLmNvcHkoZS5jb2xvciksdC5vcGFjaXR5LnZhbHVlPWUub3BhY2l0eSx0LnNpemUudmFsdWU9ZS5zaXplKm4sdC5zY2FsZS52YWx1ZT0uNSpyLGUubWFwJiYodC5tYXAudmFsdWU9ZS5tYXApO2UuYWxwaGFNYXAmJih0LmFscGhhTWFwLnZhbHVlPWUuYWxwaGFNYXApO2xldCBpO2UubWFwP2k9ZS5tYXA6ZS5hbHBoYU1hcCYmKGk9ZS5hbHBoYU1hcCk7dm9pZCAwIT09aSYmKCEwPT09aS5tYXRyaXhBdXRvVXBkYXRlJiZpLnVwZGF0ZU1hdHJpeCgpLHQudXZUcmFuc2Zvcm0udmFsdWUuY29weShpLm1hdHJpeCkpfSh0LHIsaSxvKTpyLmlzU3ByaXRlTWF0ZXJpYWw/ZnVuY3Rpb24odCxlKXt0LmRpZmZ1c2UudmFsdWUuY29weShlLmNvbG9yKSx0Lm9wYWNpdHkudmFsdWU9ZS5vcGFjaXR5LHQucm90YXRpb24udmFsdWU9ZS5yb3RhdGlvbixlLm1hcCYmKHQubWFwLnZhbHVlPWUubWFwKTtlLmFscGhhTWFwJiYodC5hbHBoYU1hcC52YWx1ZT1lLmFscGhhTWFwKTtsZXQgbjtlLm1hcD9uPWUubWFwOmUuYWxwaGFNYXAmJihuPWUuYWxwaGFNYXApO3ZvaWQgMCE9PW4mJighMD09PW4ubWF0cml4QXV0b1VwZGF0ZSYmbi51cGRhdGVNYXRyaXgoKSx0LnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkobi5tYXRyaXgpKX0odCxyKTpyLmlzU2hhZG93TWF0ZXJpYWw/KHQuY29sb3IudmFsdWUuY29weShyLmNvbG9yKSx0Lm9wYWNpdHkudmFsdWU9ci5vcGFjaXR5KTpyLmlzU2hhZGVyTWF0ZXJpYWwmJihyLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSl9fX1mdW5jdGlvbiBEcyh0KXtjb25zdCBlPXZvaWQgMCE9PSh0PXR8fHt9KS5jYW52YXM/dC5jYW52YXM6ZnVuY3Rpb24oKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImNhbnZhc1wiKTtyZXR1cm4gdC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0fSgpLG49dm9pZCAwIT09dC5jb250ZXh0P3QuY29udGV4dDpudWxsLHI9dm9pZCAwIT09dC5hbHBoYSYmdC5hbHBoYSxpPXZvaWQgMD09PXQuZGVwdGh8fHQuZGVwdGgsbz12b2lkIDA9PT10LnN0ZW5jaWx8fHQuc3RlbmNpbCxhPXZvaWQgMCE9PXQuYW50aWFsaWFzJiZ0LmFudGlhbGlhcyxzPXZvaWQgMD09PXQucHJlbXVsdGlwbGllZEFscGhhfHx0LnByZW11bHRpcGxpZWRBbHBoYSxjPXZvaWQgMCE9PXQucHJlc2VydmVEcmF3aW5nQnVmZmVyJiZ0LnByZXNlcnZlRHJhd2luZ0J1ZmZlcixsPXZvaWQgMCE9PXQucG93ZXJQcmVmZXJlbmNlP3QucG93ZXJQcmVmZXJlbmNlOlwiZGVmYXVsdFwiLHU9dm9pZCAwIT09dC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0JiZ0LmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7bGV0IGg9bnVsbCxkPW51bGw7dGhpcy5kb21FbGVtZW50PWUsdGhpcy5kZWJ1Zz17Y2hlY2tTaGFkZXJFcnJvcnM6ITB9LHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYXV0b0NsZWFyQ29sb3I9ITAsdGhpcy5hdXRvQ2xlYXJEZXB0aD0hMCx0aGlzLmF1dG9DbGVhclN0ZW5jaWw9ITAsdGhpcy5zb3J0T2JqZWN0cz0hMCx0aGlzLmNsaXBwaW5nUGxhbmVzPVtdLHRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQ9ITEsdGhpcy5nYW1tYUZhY3Rvcj0yLHRoaXMub3V0cHV0RW5jb2Rpbmc9SmUsdGhpcy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz0hMSx0aGlzLnRvbmVNYXBwaW5nPVEsdGhpcy50b25lTWFwcGluZ0V4cG9zdXJlPTEsdGhpcy5tYXhNb3JwaFRhcmdldHM9OCx0aGlzLm1heE1vcnBoTm9ybWFscz00O2NvbnN0IHA9dGhpcztsZXQgZj0hMSxtPW51bGwsZz0wLHY9MCx5PW51bGwseD1udWxsLGI9LTEsdz1udWxsLF89bnVsbDtjb25zdCBNPW5ldyBxbixTPW5ldyBxbjtsZXQgVD1udWxsLEU9ZS53aWR0aCxBPWUuaGVpZ2h0LEw9MSxSPW51bGwsUD1udWxsO2NvbnN0IEM9bmV3IHFuKDAsMCxFLEEpLEk9bmV3IHFuKDAsMCxFLEEpO2xldCBPPSExO2NvbnN0IE49bmV3IExvO2xldCBEPSExLEI9ITE7Y29uc3QgRj1uZXcgVHIsVT1uZXcgS24sej17YmFja2dyb3VuZDpudWxsLGZvZzpudWxsLGVudmlyb25tZW50Om51bGwsb3ZlcnJpZGVNYXRlcmlhbDpudWxsLGlzU2NlbmU6ITB9O2Z1bmN0aW9uIEcoKXtyZXR1cm4gbnVsbD09PXk/TDoxfWxldCBILGssVixqLFcsWCxxLFksWixKLEssJCx0dCxldCxudCxydCxpdCxvdCxhdCxzdCxjdCxsdD1uO2Z1bmN0aW9uIHV0KHQsbil7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGk9dFtyXSxvPWUuZ2V0Q29udGV4dChpLG4pO2lmKG51bGwhPT1vKXJldHVybiBvfXJldHVybiBudWxsfXRyeXtjb25zdCB0PXthbHBoYTpyLGRlcHRoOmksc3RlbmNpbDpvLGFudGlhbGlhczphLHByZW11bHRpcGxpZWRBbHBoYTpzLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpjLHBvd2VyUHJlZmVyZW5jZTpsLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6dX07aWYoZS5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLGZ0LCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLG10LCExKSxudWxsPT09bHQpe2NvbnN0IGU9W1wid2ViZ2wyXCIsXCJ3ZWJnbFwiLFwiZXhwZXJpbWVudGFsLXdlYmdsXCJdO2lmKCEwPT09cC5pc1dlYkdMMVJlbmRlcmVyJiZlLnNoaWZ0KCksbHQ9dXQoZSx0KSxudWxsPT09bHQpdGhyb3cgdXQoZSk/bmV3IEVycm9yKFwiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dCB3aXRoIHlvdXIgc2VsZWN0ZWQgYXR0cmlidXRlcy5cIik6bmV3IEVycm9yKFwiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dC5cIil9dm9pZCAwPT09bHQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0JiYobHQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJue3JhbmdlTWluOjEscmFuZ2VNYXg6MSxwcmVjaXNpb246MX19KX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogXCIrdC5tZXNzYWdlKSx0fWZ1bmN0aW9uIGh0KCl7SD1uZXcgSG8obHQpLGs9bmV3IFVvKGx0LEgsdCksITE9PT1rLmlzV2ViR0wyJiYoSC5nZXQoXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCIpLEguZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRcIiksSC5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpLEguZ2V0KFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIiksSC5nZXQoXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIiksSC5nZXQoXCJPRVNfZWxlbWVudF9pbmRleF91aW50XCIpLEguZ2V0KFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIiksSC5nZXQoXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpKSxILmdldChcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiKSxzdD1uZXcgUnMobHQsSCxrKSxWPW5ldyBBcyhsdCxILGspLFYuc2Npc3NvcihTLmNvcHkoSSkubXVsdGlwbHlTY2FsYXIoTCkuZmxvb3IoKSksVi52aWV3cG9ydChNLmNvcHkoQykubXVsdGlwbHlTY2FsYXIoTCkuZmxvb3IoKSksaj1uZXcgam8obHQpLFc9bmV3IHBzLFg9bmV3IExzKGx0LEgsVixXLGssc3QsaikscT1uZXcgR28ocCksWT1uZXcgUG8obHQsayksY3Q9bmV3IEJvKGx0LEgsWSxrKSxaPW5ldyBrbyhsdCxZLGosY3QpLEo9bmV3IFlvKGx0LFosWSxqKSxpdD1uZXcgcW8obHQpLG50PW5ldyB6byhXKSxLPW5ldyBkcyhwLHEsSCxrLGN0LG50KSwkPW5ldyBOcyhXKSx0dD1uZXcgdnMoVyksZXQ9bmV3IE1zKEgsaykscnQ9bmV3IERvKHAscSxWLEoscyksb3Q9bmV3IEZvKGx0LEgsaixrKSxhdD1uZXcgVm8obHQsSCxqLGspLGoucHJvZ3JhbXM9Sy5wcm9ncmFtcyxwLmNhcGFiaWxpdGllcz1rLHAuZXh0ZW5zaW9ucz1ILHAucHJvcGVydGllcz1XLHAucmVuZGVyTGlzdHM9dHQscC5zdGF0ZT1WLHAuaW5mbz1qfWh0KCk7Y29uc3QgZHQ9bmV3IE9zKHAsbHQpO3RoaXMueHI9ZHQ7Y29uc3QgcHQ9bmV3IEVzKHAsSixrLm1heFRleHR1cmVTaXplKTtmdW5jdGlvbiBmdCh0KXt0LnByZXZlbnREZWZhdWx0KCksY29uc29sZS5sb2coXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IExvc3QuXCIpLGY9ITB9ZnVuY3Rpb24gbXQoKXtjb25zb2xlLmxvZyhcIlRIUkVFLldlYkdMUmVuZGVyZXI6IENvbnRleHQgUmVzdG9yZWQuXCIpLGY9ITEsaHQoKX1mdW5jdGlvbiBndCh0KXtjb25zdCBlPXQudGFyZ2V0O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixndCksZnVuY3Rpb24odCl7dnQodCksVy5yZW1vdmUodCl9KGUpfWZ1bmN0aW9uIHZ0KHQpe2NvbnN0IGU9Vy5nZXQodCkucHJvZ3JhbTt2b2lkIDAhPT1lJiZLLnJlbGVhc2VQcm9ncmFtKGUpfXRoaXMuc2hhZG93TWFwPXB0LHRoaXMuZ2V0Q29udGV4dD1mdW5jdGlvbigpe3JldHVybiBsdH0sdGhpcy5nZXRDb250ZXh0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiBsdC5nZXRDb250ZXh0QXR0cmlidXRlcygpfSx0aGlzLmZvcmNlQ29udGV4dExvc3M9ZnVuY3Rpb24oKXtjb25zdCB0PUguZ2V0KFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO3QmJnQubG9zZUNvbnRleHQoKX0sdGhpcy5mb3JjZUNvbnRleHRSZXN0b3JlPWZ1bmN0aW9uKCl7Y29uc3QgdD1ILmdldChcIldFQkdMX2xvc2VfY29udGV4dFwiKTt0JiZ0LnJlc3RvcmVDb250ZXh0KCl9LHRoaXMuZ2V0UGl4ZWxSYXRpbz1mdW5jdGlvbigpe3JldHVybiBMfSx0aGlzLnNldFBpeGVsUmF0aW89ZnVuY3Rpb24odCl7dm9pZCAwIT09dCYmKEw9dCx0aGlzLnNldFNpemUoRSxBLCExKSl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIldlYkdMUmVuZGVyZXI6IC5nZXRzaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudFwiKSx0PW5ldyBHbiksdC5zZXQoRSxBKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKHQsbixyKXtkdC5pc1ByZXNlbnRpbmc/Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuJ3QgY2hhbmdlIHNpemUgd2hpbGUgVlIgZGV2aWNlIGlzIHByZXNlbnRpbmcuXCIpOihFPXQsQT1uLGUud2lkdGg9TWF0aC5mbG9vcih0KkwpLGUuaGVpZ2h0PU1hdGguZmxvb3IobipMKSwhMSE9PXImJihlLnN0eWxlLndpZHRoPXQrXCJweFwiLGUuc3R5bGUuaGVpZ2h0PW4rXCJweFwiKSx0aGlzLnNldFZpZXdwb3J0KDAsMCx0LG4pKX0sdGhpcy5nZXREcmF3aW5nQnVmZmVyU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIldlYkdMUmVuZGVyZXI6IC5nZXRkcmF3aW5nQnVmZmVyU2l6ZSgpIG5vdyByZXF1aXJlcyBhIFZlY3RvcjIgYXMgYW4gYXJndW1lbnRcIiksdD1uZXcgR24pLHQuc2V0KEUqTCxBKkwpLmZsb29yKCl9LHRoaXMuc2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24odCxuLHIpe0U9dCxBPW4sTD1yLGUud2lkdGg9TWF0aC5mbG9vcih0KnIpLGUuaGVpZ2h0PU1hdGguZmxvb3IobipyKSx0aGlzLnNldFZpZXdwb3J0KDAsMCx0LG4pfSx0aGlzLmdldEN1cnJlbnRWaWV3cG9ydD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50Vmlld3BvcnQoKSBub3cgcmVxdWlyZXMgYSBWZWN0b3I0IGFzIGFuIGFyZ3VtZW50XCIpLHQ9bmV3IHFuKSx0LmNvcHkoTSl9LHRoaXMuZ2V0Vmlld3BvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weShDKX0sdGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbih0LGUsbixyKXt0LmlzVmVjdG9yND9DLnNldCh0LngsdC55LHQueix0LncpOkMuc2V0KHQsZSxuLHIpLFYudmlld3BvcnQoTS5jb3B5KEMpLm11bHRpcGx5U2NhbGFyKEwpLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weShJKX0sdGhpcy5zZXRTY2lzc29yPWZ1bmN0aW9uKHQsZSxuLHIpe3QuaXNWZWN0b3I0P0kuc2V0KHQueCx0LnksdC56LHQudyk6SS5zZXQodCxlLG4sciksVi5zY2lzc29yKFMuY29weShJKS5tdWx0aXBseVNjYWxhcihMKS5mbG9vcigpKX0sdGhpcy5nZXRTY2lzc29yVGVzdD1mdW5jdGlvbigpe3JldHVybiBPfSx0aGlzLnNldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKHQpe1Yuc2V0U2Npc3NvclRlc3QoTz10KX0sdGhpcy5zZXRPcGFxdWVTb3J0PWZ1bmN0aW9uKHQpe1I9dH0sdGhpcy5zZXRUcmFuc3BhcmVudFNvcnQ9ZnVuY3Rpb24odCl7UD10fSx0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gcnQuZ2V0Q2xlYXJDb2xvcigpfSx0aGlzLnNldENsZWFyQ29sb3I9ZnVuY3Rpb24oKXtydC5zZXRDbGVhckNvbG9yLmFwcGx5KHJ0LGFyZ3VtZW50cyl9LHRoaXMuZ2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe3JldHVybiBydC5nZXRDbGVhckFscGhhKCl9LHRoaXMuc2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe3J0LnNldENsZWFyQWxwaGEuYXBwbHkocnQsYXJndW1lbnRzKX0sdGhpcy5jbGVhcj1mdW5jdGlvbih0LGUsbil7bGV0IHI9MDsodm9pZCAwPT09dHx8dCkmJihyfD0xNjM4NCksKHZvaWQgMD09PWV8fGUpJiYocnw9MjU2KSwodm9pZCAwPT09bnx8bikmJihyfD0xMDI0KSxsdC5jbGVhcihyKX0sdGhpcy5jbGVhckNvbG9yPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMCwhMSwhMSl9LHRoaXMuY2xlYXJEZXB0aD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITEsITAsITEpfSx0aGlzLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITEsITEsITApfSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsZnQsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsbXQsITEpLHR0LmRpc3Bvc2UoKSxldC5kaXNwb3NlKCksVy5kaXNwb3NlKCkscS5kaXNwb3NlKCksSi5kaXNwb3NlKCksY3QuZGlzcG9zZSgpLGR0LmRpc3Bvc2UoKSx4dC5zdG9wKCl9LHRoaXMucmVuZGVyQnVmZmVySW1tZWRpYXRlPWZ1bmN0aW9uKHQsZSl7Y3QuaW5pdEF0dHJpYnV0ZXMoKTtjb25zdCBuPVcuZ2V0KHQpO3QuaGFzUG9zaXRpb25zJiYhbi5wb3NpdGlvbiYmKG4ucG9zaXRpb249bHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzTm9ybWFscyYmIW4ubm9ybWFsJiYobi5ub3JtYWw9bHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzVXZzJiYhbi51diYmKG4udXY9bHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzQ29sb3JzJiYhbi5jb2xvciYmKG4uY29sb3I9bHQuY3JlYXRlQnVmZmVyKCkpO2NvbnN0IHI9ZS5nZXRBdHRyaWJ1dGVzKCk7dC5oYXNQb3NpdGlvbnMmJihsdC5iaW5kQnVmZmVyKDM0OTYyLG4ucG9zaXRpb24pLGx0LmJ1ZmZlckRhdGEoMzQ5NjIsdC5wb3NpdGlvbkFycmF5LDM1MDQ4KSxjdC5lbmFibGVBdHRyaWJ1dGUoci5wb3NpdGlvbiksbHQudmVydGV4QXR0cmliUG9pbnRlcihyLnBvc2l0aW9uLDMsNTEyNiwhMSwwLDApKSx0Lmhhc05vcm1hbHMmJihsdC5iaW5kQnVmZmVyKDM0OTYyLG4ubm9ybWFsKSxsdC5idWZmZXJEYXRhKDM0OTYyLHQubm9ybWFsQXJyYXksMzUwNDgpLGN0LmVuYWJsZUF0dHJpYnV0ZShyLm5vcm1hbCksbHQudmVydGV4QXR0cmliUG9pbnRlcihyLm5vcm1hbCwzLDUxMjYsITEsMCwwKSksdC5oYXNVdnMmJihsdC5iaW5kQnVmZmVyKDM0OTYyLG4udXYpLGx0LmJ1ZmZlckRhdGEoMzQ5NjIsdC51dkFycmF5LDM1MDQ4KSxjdC5lbmFibGVBdHRyaWJ1dGUoci51diksbHQudmVydGV4QXR0cmliUG9pbnRlcihyLnV2LDIsNTEyNiwhMSwwLDApKSx0Lmhhc0NvbG9ycyYmKGx0LmJpbmRCdWZmZXIoMzQ5NjIsbi5jb2xvciksbHQuYnVmZmVyRGF0YSgzNDk2Mix0LmNvbG9yQXJyYXksMzUwNDgpLGN0LmVuYWJsZUF0dHJpYnV0ZShyLmNvbG9yKSxsdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHIuY29sb3IsMyw1MTI2LCExLDAsMCkpLGN0LmRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCksbHQuZHJhd0FycmF5cyg0LDAsdC5jb3VudCksdC5jb3VudD0wfSx0aGlzLnJlbmRlckJ1ZmZlckRpcmVjdD1mdW5jdGlvbih0LGUsbixyLGksbyl7bnVsbD09PWUmJihlPXopO2NvbnN0IGE9aS5pc01lc2gmJmkubWF0cml4V29ybGQuZGV0ZXJtaW5hbnQoKTwwLHM9VHQodCxlLHIsaSk7Vi5zZXRNYXRlcmlhbChyLGEpO2xldCBjPW4uaW5kZXg7Y29uc3QgbD1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobnVsbD09PWMpe2lmKHZvaWQgMD09PWx8fDA9PT1sLmNvdW50KXJldHVybn1lbHNlIGlmKDA9PT1jLmNvdW50KXJldHVybjtsZXQgdSxoPTE7ITA9PT1yLndpcmVmcmFtZSYmKGM9Wi5nZXRXaXJlZnJhbWVBdHRyaWJ1dGUobiksaD0yKSwoci5tb3JwaFRhcmdldHN8fHIubW9ycGhOb3JtYWxzKSYmaXQudXBkYXRlKGksbixyLHMpLGN0LnNldHVwKGkscixzLG4sYyk7bGV0IGQ9b3Q7bnVsbCE9PWMmJih1PVkuZ2V0KGMpLGQ9YXQsZC5zZXRJbmRleCh1KSk7Y29uc3QgcD1udWxsIT09Yz9jLmNvdW50OmwuY291bnQsZj1uLmRyYXdSYW5nZS5zdGFydCpoLG09bi5kcmF3UmFuZ2UuY291bnQqaCxnPW51bGwhPT1vP28uc3RhcnQqaDowLHY9bnVsbCE9PW8/by5jb3VudCpoOjEvMCx5PU1hdGgubWF4KGYsZykseD1NYXRoLm1pbihwLGYrbSxnK3YpLTEsYj1NYXRoLm1heCgwLHgteSsxKTtpZigwIT09Yil7aWYoaS5pc01lc2gpITA9PT1yLndpcmVmcmFtZT8oVi5zZXRMaW5lV2lkdGgoci53aXJlZnJhbWVMaW5ld2lkdGgqRygpKSxkLnNldE1vZGUoMSkpOmQuc2V0TW9kZSg0KTtlbHNlIGlmKGkuaXNMaW5lKXtsZXQgdD1yLmxpbmV3aWR0aDt2b2lkIDA9PT10JiYodD0xKSxWLnNldExpbmVXaWR0aCh0KkcoKSksaS5pc0xpbmVTZWdtZW50cz9kLnNldE1vZGUoMSk6aS5pc0xpbmVMb29wP2Quc2V0TW9kZSgyKTpkLnNldE1vZGUoMyl9ZWxzZSBpLmlzUG9pbnRzP2Quc2V0TW9kZSgwKTppLmlzU3ByaXRlJiZkLnNldE1vZGUoNCk7aWYoaS5pc0luc3RhbmNlZE1lc2gpZC5yZW5kZXJJbnN0YW5jZXMoeSxiLGkuY291bnQpO2Vsc2UgaWYobi5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KXtjb25zdCB0PU1hdGgubWluKG4uaW5zdGFuY2VDb3VudCxuLl9tYXhJbnN0YW5jZUNvdW50KTtkLnJlbmRlckluc3RhbmNlcyh5LGIsdCl9ZWxzZSBkLnJlbmRlcih5LGIpfX0sdGhpcy5jb21waWxlPWZ1bmN0aW9uKHQsZSl7ZD1ldC5nZXQodCxlKSxkLmluaXQoKSx0LnRyYXZlcnNlVmlzaWJsZSgoZnVuY3Rpb24odCl7dC5pc0xpZ2h0JiZ0LmxheWVycy50ZXN0KGUubGF5ZXJzKSYmKGQucHVzaExpZ2h0KHQpLHQuY2FzdFNoYWRvdyYmZC5wdXNoU2hhZG93KHQpKX0pKSxkLnNldHVwTGlnaHRzKGUpO2NvbnN0IG49bmV3IFdlYWtNYXA7dC50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7Y29uc3Qgcj1lLm1hdGVyaWFsO2lmKHIpaWYoQXJyYXkuaXNBcnJheShyKSlmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3Qgbz1yW2ldOyExPT09bi5oYXMobykmJihNdChvLHQsZSksbi5zZXQobykpfWVsc2UhMT09PW4uaGFzKHIpJiYoTXQocix0LGUpLG4uc2V0KHIpKX0pKX07bGV0IHl0PW51bGw7Y29uc3QgeHQ9bmV3IFJvO2Z1bmN0aW9uIGJ0KHQsZSxuLHIpe2lmKCExPT09dC52aXNpYmxlKXJldHVybjtpZih0LmxheWVycy50ZXN0KGUubGF5ZXJzKSlpZih0LmlzR3JvdXApbj10LnJlbmRlck9yZGVyO2Vsc2UgaWYodC5pc0xPRCkhMD09PXQuYXV0b1VwZGF0ZSYmdC51cGRhdGUoZSk7ZWxzZSBpZih0LmlzTGlnaHQpZC5wdXNoTGlnaHQodCksdC5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3codCk7ZWxzZSBpZih0LmlzU3ByaXRlKXtpZighdC5mcnVzdHVtQ3VsbGVkfHxOLmludGVyc2VjdHNTcHJpdGUodCkpe3ImJlUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChGKTtjb25zdCBlPUoudXBkYXRlKHQpLGk9dC5tYXRlcmlhbDtpLnZpc2libGUmJmgucHVzaCh0LGUsaSxuLFUueixudWxsKX19ZWxzZSBpZih0LmlzSW1tZWRpYXRlUmVuZGVyT2JqZWN0KXImJlUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChGKSxoLnB1c2godCxudWxsLHQubWF0ZXJpYWwsbixVLnosbnVsbCk7ZWxzZSBpZigodC5pc01lc2h8fHQuaXNMaW5lfHx0LmlzUG9pbnRzKSYmKHQuaXNTa2lubmVkTWVzaCYmdC5za2VsZXRvbi5mcmFtZSE9PWoucmVuZGVyLmZyYW1lJiYodC5za2VsZXRvbi51cGRhdGUoKSx0LnNrZWxldG9uLmZyYW1lPWoucmVuZGVyLmZyYW1lKSwhdC5mcnVzdHVtQ3VsbGVkfHxOLmludGVyc2VjdHNPYmplY3QodCkpKXtyJiZVLnNldEZyb21NYXRyaXhQb3NpdGlvbih0Lm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoRik7Y29uc3QgZT1KLnVwZGF0ZSh0KSxpPXQubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShpKSl7Y29uc3Qgcj1lLmdyb3Vwcztmb3IobGV0IG89MCxhPXIubGVuZ3RoO288YTtvKyspe2NvbnN0IGE9cltvXSxzPWlbYS5tYXRlcmlhbEluZGV4XTtzJiZzLnZpc2libGUmJmgucHVzaCh0LGUscyxuLFUueixhKX19ZWxzZSBpLnZpc2libGUmJmgucHVzaCh0LGUsaSxuLFUueixudWxsKX1jb25zdCBpPXQuY2hpbGRyZW47Zm9yKGxldCB0PTAsbz1pLmxlbmd0aDt0PG87dCsrKWJ0KGlbdF0sZSxuLHIpfWZ1bmN0aW9uIHd0KHQsZSxuKXtjb25zdCByPSEwPT09ZS5pc1NjZW5lP2Uub3ZlcnJpZGVNYXRlcmlhbDpudWxsO2ZvcihsZXQgaT0wLG89dC5sZW5ndGg7aTxvO2krKyl7Y29uc3Qgbz10W2ldLGE9by5vYmplY3Qscz1vLmdlb21ldHJ5LGM9bnVsbD09PXI/by5tYXRlcmlhbDpyLGw9by5ncm91cDtpZihuLmlzQXJyYXlDYW1lcmEpe189bjtjb25zdCB0PW4uY2FtZXJhcztmb3IobGV0IG49MCxyPXQubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9dFtuXTthLmxheWVycy50ZXN0KHIubGF5ZXJzKSYmKFYudmlld3BvcnQoTS5jb3B5KHIudmlld3BvcnQpKSxkLnNldHVwTGlnaHRzKHIpLF90KGEsZSxyLHMsYyxsKSl9fWVsc2UgXz1udWxsLF90KGEsZSxuLHMsYyxsKX19ZnVuY3Rpb24gX3QodCxlLG4scixpLG8pe2lmKHQub25CZWZvcmVSZW5kZXIocCxlLG4scixpLG8pLGQ9ZXQuZ2V0KGUsX3x8biksdC5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhuLm1hdHJpeFdvcmxkSW52ZXJzZSx0Lm1hdHJpeFdvcmxkKSx0Lm5vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgodC5tb2RlbFZpZXdNYXRyaXgpLHQuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3Qpe2NvbnN0IHI9VHQobixlLGksdCk7Vi5zZXRNYXRlcmlhbChpKSxjdC5yZXNldCgpLGZ1bmN0aW9uKHQsZSl7dC5yZW5kZXIoKGZ1bmN0aW9uKHQpe3AucmVuZGVyQnVmZmVySW1tZWRpYXRlKHQsZSl9KSl9KHQscil9ZWxzZSBwLnJlbmRlckJ1ZmZlckRpcmVjdChuLGUscixpLHQsbyk7dC5vbkFmdGVyUmVuZGVyKHAsZSxuLHIsaSxvKSxkPWV0LmdldChlLF98fG4pfWZ1bmN0aW9uIE10KHQsZSxuKXshMCE9PWUuaXNTY2VuZSYmKGU9eik7Y29uc3Qgcj1XLmdldCh0KSxpPWQuc3RhdGUubGlnaHRzLG89ZC5zdGF0ZS5zaGFkb3dzQXJyYXksYT1pLnN0YXRlLnZlcnNpb24scz1LLmdldFBhcmFtZXRlcnModCxpLnN0YXRlLG8sZSxuKSxjPUsuZ2V0UHJvZ3JhbUNhY2hlS2V5KHMpO2xldCBsPXIucHJvZ3JhbSx1PSEwO2lmKHZvaWQgMD09PWwpdC5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGd0KTtlbHNlIGlmKGwuY2FjaGVLZXkhPT1jKXZ0KHQpO2Vsc2UgaWYoci5saWdodHNTdGF0ZVZlcnNpb24hPT1hKXU9ITE7ZWxzZXtpZih2b2lkIDAhPT1zLnNoYWRlcklEKXtjb25zdCBuPXQuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD9lLmVudmlyb25tZW50Om51bGw7cmV0dXJuIHZvaWQoci5lbnZNYXA9cS5nZXQodC5lbnZNYXB8fG4pKX11PSExfXUmJihzLnVuaWZvcm1zPUsuZ2V0VW5pZm9ybXModCksdC5vbkJlZm9yZUNvbXBpbGUocyxwKSxsPUsuYWNxdWlyZVByb2dyYW0ocyxjKSxyLnByb2dyYW09bCxyLnVuaWZvcm1zPXMudW5pZm9ybXMsci5vdXRwdXRFbmNvZGluZz1zLm91dHB1dEVuY29kaW5nKTtjb25zdCBoPXIudW5pZm9ybXM7KHQuaXNTaGFkZXJNYXRlcmlhbHx8dC5pc1Jhd1NoYWRlck1hdGVyaWFsKSYmITAhPT10LmNsaXBwaW5nfHwoci5udW1DbGlwcGluZ1BsYW5lcz1udC5udW1QbGFuZXMsci5udW1JbnRlcnNlY3Rpb249bnQubnVtSW50ZXJzZWN0aW9uLGguY2xpcHBpbmdQbGFuZXM9bnQudW5pZm9ybSksci5lbnZpcm9ubWVudD10LmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/ZS5lbnZpcm9ubWVudDpudWxsLHIuZm9nPWUuZm9nLHIuZW52TWFwPXEuZ2V0KHQuZW52TWFwfHxyLmVudmlyb25tZW50KSxyLm5lZWRzTGlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8dC5pc01lc2hUb29uTWF0ZXJpYWx8fHQuaXNNZXNoUGhvbmdNYXRlcmlhbHx8dC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHx0LmlzU2hhZG93TWF0ZXJpYWx8fHQuaXNTaGFkZXJNYXRlcmlhbCYmITA9PT10LmxpZ2h0c30odCksci5saWdodHNTdGF0ZVZlcnNpb249YSxyLm5lZWRzTGlnaHRzJiYoaC5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1pLnN0YXRlLmFtYmllbnQsaC5saWdodFByb2JlLnZhbHVlPWkuc3RhdGUucHJvYmUsaC5kaXJlY3Rpb25hbExpZ2h0cy52YWx1ZT1pLnN0YXRlLmRpcmVjdGlvbmFsLGguZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9aS5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdyxoLnNwb3RMaWdodHMudmFsdWU9aS5zdGF0ZS5zcG90LGguc3BvdExpZ2h0U2hhZG93cy52YWx1ZT1pLnN0YXRlLnNwb3RTaGFkb3csaC5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1pLnN0YXRlLnJlY3RBcmVhLGgubHRjXzEudmFsdWU9aS5zdGF0ZS5yZWN0QXJlYUxUQzEsaC5sdGNfMi52YWx1ZT1pLnN0YXRlLnJlY3RBcmVhTFRDMixoLnBvaW50TGlnaHRzLnZhbHVlPWkuc3RhdGUucG9pbnQsaC5wb2ludExpZ2h0U2hhZG93cy52YWx1ZT1pLnN0YXRlLnBvaW50U2hhZG93LGguaGVtaXNwaGVyZUxpZ2h0cy52YWx1ZT1pLnN0YXRlLmhlbWksaC5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1pLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLGguZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgudmFsdWU9aS5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeCxoLnNwb3RTaGFkb3dNYXAudmFsdWU9aS5zdGF0ZS5zcG90U2hhZG93TWFwLGguc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1pLnN0YXRlLnNwb3RTaGFkb3dNYXRyaXgsaC5wb2ludFNoYWRvd01hcC52YWx1ZT1pLnN0YXRlLnBvaW50U2hhZG93TWFwLGgucG9pbnRTaGFkb3dNYXRyaXgudmFsdWU9aS5zdGF0ZS5wb2ludFNoYWRvd01hdHJpeCk7Y29uc3QgZj1yLnByb2dyYW0uZ2V0VW5pZm9ybXMoKSxtPVdhLnNlcVdpdGhWYWx1ZShmLnNlcSxoKTtyLnVuaWZvcm1zTGlzdD1tfWZ1bmN0aW9uIFR0KHQsZSxuLHIpeyEwIT09ZS5pc1NjZW5lJiYoZT16KSxYLnJlc2V0VGV4dHVyZVVuaXRzKCk7Y29uc3QgaT1lLmZvZyxvPW4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD9lLmVudmlyb25tZW50Om51bGwsYT1udWxsPT09eT9wLm91dHB1dEVuY29kaW5nOnkudGV4dHVyZS5lbmNvZGluZyxzPXEuZ2V0KG4uZW52TWFwfHxvKSxjPVcuZ2V0KG4pLGw9ZC5zdGF0ZS5saWdodHM7aWYoITA9PT1EJiYoITA9PT1CfHx0IT09dykpe2NvbnN0IGU9dD09PXcmJm4uaWQ9PT1iO250LnNldFN0YXRlKG4sdCxlKX1uLnZlcnNpb249PT1jLl9fdmVyc2lvbj9uLmZvZyYmYy5mb2chPT1pfHxjLmVudmlyb25tZW50IT09b3x8Yy5uZWVkc0xpZ2h0cyYmYy5saWdodHNTdGF0ZVZlcnNpb24hPT1sLnN0YXRlLnZlcnNpb24/TXQobixlLHIpOnZvaWQgMD09PWMubnVtQ2xpcHBpbmdQbGFuZXN8fGMubnVtQ2xpcHBpbmdQbGFuZXM9PT1udC5udW1QbGFuZXMmJmMubnVtSW50ZXJzZWN0aW9uPT09bnQubnVtSW50ZXJzZWN0aW9uPyhjLm91dHB1dEVuY29kaW5nIT09YXx8Yy5lbnZNYXAhPT1zKSYmTXQobixlLHIpOk10KG4sZSxyKTooTXQobixlLHIpLGMuX192ZXJzaW9uPW4udmVyc2lvbik7bGV0IHU9ITEsaD0hMSxmPSExO2NvbnN0IG09Yy5wcm9ncmFtLGc9bS5nZXRVbmlmb3JtcygpLHY9Yy51bmlmb3JtcztpZihWLnVzZVByb2dyYW0obS5wcm9ncmFtKSYmKHU9ITAsaD0hMCxmPSEwKSxuLmlkIT09YiYmKGI9bi5pZCxoPSEwKSx1fHx3IT09dCl7aWYoZy5zZXRWYWx1ZShsdCxcInByb2plY3Rpb25NYXRyaXhcIix0LnByb2plY3Rpb25NYXRyaXgpLGsubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmZy5zZXRWYWx1ZShsdCxcImxvZ0RlcHRoQnVmRkNcIiwyLyhNYXRoLmxvZyh0LmZhcisxKS9NYXRoLkxOMikpLHchPT10JiYodz10LGg9ITAsZj0hMCksbi5pc1NoYWRlck1hdGVyaWFsfHxuLmlzTWVzaFBob25nTWF0ZXJpYWx8fG4uaXNNZXNoVG9vbk1hdGVyaWFsfHxuLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fG4uZW52TWFwKXtjb25zdCBlPWcubWFwLmNhbWVyYVBvc2l0aW9uO3ZvaWQgMCE9PWUmJmUuc2V0VmFsdWUobHQsVS5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCkpfShuLmlzTWVzaFBob25nTWF0ZXJpYWx8fG4uaXNNZXNoVG9vbk1hdGVyaWFsfHxuLmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8bi5pc01lc2hCYXNpY01hdGVyaWFsfHxuLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fG4uaXNTaGFkZXJNYXRlcmlhbCkmJmcuc2V0VmFsdWUobHQsXCJpc09ydGhvZ3JhcGhpY1wiLCEwPT09dC5pc09ydGhvZ3JhcGhpY0NhbWVyYSksKG4uaXNNZXNoUGhvbmdNYXRlcmlhbHx8bi5pc01lc2hUb29uTWF0ZXJpYWx8fG4uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxuLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fG4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bi5pc1NoYWRlck1hdGVyaWFsfHxuLmlzU2hhZG93TWF0ZXJpYWx8fG4uc2tpbm5pbmcpJiZnLnNldFZhbHVlKGx0LFwidmlld01hdHJpeFwiLHQubWF0cml4V29ybGRJbnZlcnNlKX1pZihuLnNraW5uaW5nKXtnLnNldE9wdGlvbmFsKGx0LHIsXCJiaW5kTWF0cml4XCIpLGcuc2V0T3B0aW9uYWwobHQscixcImJpbmRNYXRyaXhJbnZlcnNlXCIpO2NvbnN0IHQ9ci5za2VsZXRvbjtpZih0KXtjb25zdCBlPXQuYm9uZXM7aWYoay5mbG9hdFZlcnRleFRleHR1cmVzKXtpZihudWxsPT09dC5ib25lVGV4dHVyZSl7bGV0IG49TWF0aC5zcXJ0KDQqZS5sZW5ndGgpO249em4uY2VpbFBvd2VyT2ZUd28obiksbj1NYXRoLm1heChuLDQpO2NvbnN0IHI9bmV3IEZsb2F0MzJBcnJheShuKm4qNCk7ci5zZXQodC5ib25lTWF0cmljZXMpO2NvbnN0IGk9bmV3IFRvKHIsbixuLFV0LFB0KTt0LmJvbmVNYXRyaWNlcz1yLHQuYm9uZVRleHR1cmU9aSx0LmJvbmVUZXh0dXJlU2l6ZT1ufWcuc2V0VmFsdWUobHQsXCJib25lVGV4dHVyZVwiLHQuYm9uZVRleHR1cmUsWCksZy5zZXRWYWx1ZShsdCxcImJvbmVUZXh0dXJlU2l6ZVwiLHQuYm9uZVRleHR1cmVTaXplKX1lbHNlIGcuc2V0T3B0aW9uYWwobHQsdCxcImJvbmVNYXRyaWNlc1wiKX19dmFyIHgsXztyZXR1cm4oaHx8Yy5yZWNlaXZlU2hhZG93IT09ci5yZWNlaXZlU2hhZG93KSYmKGMucmVjZWl2ZVNoYWRvdz1yLnJlY2VpdmVTaGFkb3csZy5zZXRWYWx1ZShsdCxcInJlY2VpdmVTaGFkb3dcIixyLnJlY2VpdmVTaGFkb3cpKSxoJiYoZy5zZXRWYWx1ZShsdCxcInRvbmVNYXBwaW5nRXhwb3N1cmVcIixwLnRvbmVNYXBwaW5nRXhwb3N1cmUpLGMubmVlZHNMaWdodHMmJihfPWYsKHg9dikuYW1iaWVudExpZ2h0Q29sb3IubmVlZHNVcGRhdGU9Xyx4LmxpZ2h0UHJvYmUubmVlZHNVcGRhdGU9Xyx4LmRpcmVjdGlvbmFsTGlnaHRzLm5lZWRzVXBkYXRlPV8seC5kaXJlY3Rpb25hbExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1fLHgucG9pbnRMaWdodHMubmVlZHNVcGRhdGU9Xyx4LnBvaW50TGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPV8seC5zcG90TGlnaHRzLm5lZWRzVXBkYXRlPV8seC5zcG90TGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPV8seC5yZWN0QXJlYUxpZ2h0cy5uZWVkc1VwZGF0ZT1fLHguaGVtaXNwaGVyZUxpZ2h0cy5uZWVkc1VwZGF0ZT1fKSxpJiZuLmZvZyYmJC5yZWZyZXNoRm9nVW5pZm9ybXModixpKSwkLnJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zKHYsbixMLEEpLFdhLnVwbG9hZChsdCxjLnVuaWZvcm1zTGlzdCx2LFgpKSxuLmlzU2hhZGVyTWF0ZXJpYWwmJiEwPT09bi51bmlmb3Jtc05lZWRVcGRhdGUmJihXYS51cGxvYWQobHQsYy51bmlmb3Jtc0xpc3QsdixYKSxuLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSksbi5pc1Nwcml0ZU1hdGVyaWFsJiZnLnNldFZhbHVlKGx0LFwiY2VudGVyXCIsci5jZW50ZXIpLGcuc2V0VmFsdWUobHQsXCJtb2RlbFZpZXdNYXRyaXhcIixyLm1vZGVsVmlld01hdHJpeCksZy5zZXRWYWx1ZShsdCxcIm5vcm1hbE1hdHJpeFwiLHIubm9ybWFsTWF0cml4KSxnLnNldFZhbHVlKGx0LFwibW9kZWxNYXRyaXhcIixyLm1hdHJpeFdvcmxkKSxtfXh0LnNldEFuaW1hdGlvbkxvb3AoKGZ1bmN0aW9uKHQpe2R0LmlzUHJlc2VudGluZ3x8eXQmJnl0KHQpfSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnh0LnNldENvbnRleHQod2luZG93KSx0aGlzLnNldEFuaW1hdGlvbkxvb3A9ZnVuY3Rpb24odCl7eXQ9dCxkdC5zZXRBbmltYXRpb25Mb29wKHQpLG51bGw9PT10P3h0LnN0b3AoKTp4dC5zdGFydCgpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbih0LGUpe2xldCBuLHI7aWYodm9pZCAwIT09YXJndW1lbnRzWzJdJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlci5yZW5kZXIoKTogdGhlIHJlbmRlclRhcmdldCBhcmd1bWVudCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnNldFJlbmRlclRhcmdldCgpIGluc3RlYWQuXCIpLG49YXJndW1lbnRzWzJdKSx2b2lkIDAhPT1hcmd1bWVudHNbM10mJihjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcigpOiB0aGUgZm9yY2VDbGVhciBhcmd1bWVudCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmNsZWFyKCkgaW5zdGVhZC5cIikscj1hcmd1bWVudHNbM10pLHZvaWQgMCE9PWUmJiEwIT09ZS5pc0NhbWVyYSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlci5yZW5kZXI6IGNhbWVyYSBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuQ2FtZXJhLlwiKTtpZighMD09PWYpcmV0dXJuO2N0LnJlc2V0RGVmYXVsdFN0YXRlKCksYj0tMSx3PW51bGwsITA9PT10LmF1dG9VcGRhdGUmJnQudXBkYXRlTWF0cml4V29ybGQoKSxudWxsPT09ZS5wYXJlbnQmJmUudXBkYXRlTWF0cml4V29ybGQoKSwhMD09PWR0LmVuYWJsZWQmJiEwPT09ZHQuaXNQcmVzZW50aW5nJiYoZT1kdC5nZXRDYW1lcmEoZSkpLCEwPT09dC5pc1NjZW5lJiZ0Lm9uQmVmb3JlUmVuZGVyKHAsdCxlLG58fHkpLGQ9ZXQuZ2V0KHQsZSksZC5pbml0KCksRi5tdWx0aXBseU1hdHJpY2VzKGUucHJvamVjdGlvbk1hdHJpeCxlLm1hdHJpeFdvcmxkSW52ZXJzZSksTi5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChGKSxCPXRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQsRD1udC5pbml0KHRoaXMuY2xpcHBpbmdQbGFuZXMsQixlKSxoPXR0LmdldCh0LGUpLGguaW5pdCgpLGJ0KHQsZSwwLHAuc29ydE9iamVjdHMpLGguZmluaXNoKCksITA9PT1wLnNvcnRPYmplY3RzJiZoLnNvcnQoUixQKSwhMD09PUQmJm50LmJlZ2luU2hhZG93cygpO2NvbnN0IGk9ZC5zdGF0ZS5zaGFkb3dzQXJyYXk7cHQucmVuZGVyKGksdCxlKSxkLnNldHVwTGlnaHRzKGUpLCEwPT09RCYmbnQuZW5kU2hhZG93cygpLCEwPT09dGhpcy5pbmZvLmF1dG9SZXNldCYmdGhpcy5pbmZvLnJlc2V0KCksdm9pZCAwIT09biYmdGhpcy5zZXRSZW5kZXJUYXJnZXQobikscnQucmVuZGVyKGgsdCxlLHIpO2NvbnN0IG89aC5vcGFxdWUsYT1oLnRyYW5zcGFyZW50O28ubGVuZ3RoPjAmJnd0KG8sdCxlKSxhLmxlbmd0aD4wJiZ3dChhLHQsZSksITA9PT10LmlzU2NlbmUmJnQub25BZnRlclJlbmRlcihwLHQsZSksbnVsbCE9PXkmJihYLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcCh5KSxYLnVwZGF0ZU11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KHkpKSxWLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksVi5idWZmZXJzLmRlcHRoLnNldE1hc2soITApLFYuYnVmZmVycy5jb2xvci5zZXRNYXNrKCEwKSxWLnNldFBvbHlnb25PZmZzZXQoITEpLGg9bnVsbCxkPW51bGx9LHRoaXMuc2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24odCl7bSE9PXQmJm51bGw9PT15JiZsdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCksbT10fSx0aGlzLmdldEFjdGl2ZUN1YmVGYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGd9LHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdn0sdGhpcy5nZXRSZW5kZXJMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGh9LHRoaXMuc2V0UmVuZGVyTGlzdD1mdW5jdGlvbih0KXtoPXR9LHRoaXMuZ2V0UmVuZGVyU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZH0sdGhpcy5zZXRSZW5kZXJTdGF0ZT1mdW5jdGlvbih0KXtkPXR9LHRoaXMuZ2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHl9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQsZT0wLG49MCl7eT10LGc9ZSx2PW4sdCYmdm9pZCAwPT09Vy5nZXQodCkuX193ZWJnbEZyYW1lYnVmZmVyJiZYLnNldHVwUmVuZGVyVGFyZ2V0KHQpO2xldCByPW0saT0hMTtpZih0KXtjb25zdCBuPVcuZ2V0KHQpLl9fd2ViZ2xGcmFtZWJ1ZmZlcjt0LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PyhyPW5bZV0saT0hMCk6cj10LmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldD9XLmdldCh0KS5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI6bixNLmNvcHkodC52aWV3cG9ydCksUy5jb3B5KHQuc2Npc3NvciksVD10LnNjaXNzb3JUZXN0fWVsc2UgTS5jb3B5KEMpLm11bHRpcGx5U2NhbGFyKEwpLmZsb29yKCksUy5jb3B5KEkpLm11bHRpcGx5U2NhbGFyKEwpLmZsb29yKCksVD1PO2lmKHghPT1yJiYobHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHIpLHg9ciksVi52aWV3cG9ydChNKSxWLnNjaXNzb3IoUyksVi5zZXRTY2lzc29yVGVzdChUKSxpKXtjb25zdCByPVcuZ2V0KHQudGV4dHVyZSk7bHQuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwNjQsMzQwNjkrZSxyLl9fd2ViZ2xUZXh0dXJlLG4pfX0sdGhpcy5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEpe2lmKCF0fHwhdC5pc1dlYkdMUmVuZGVyVGFyZ2V0KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQuXCIpO2xldCBzPVcuZ2V0KHQpLl9fd2ViZ2xGcmFtZWJ1ZmZlcjtpZih0LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0JiZ2b2lkIDAhPT1hJiYocz1zW2FdKSxzKXtsZXQgYT0hMTtzIT09eCYmKGx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxzKSxhPSEwKTt0cnl7Y29uc3Qgcz10LnRleHR1cmUsYz1zLmZvcm1hdCxsPXMudHlwZTtpZihjIT09VXQmJnN0LmNvbnZlcnQoYykhPT1sdC5nZXRQYXJhbWV0ZXIoMzU3MzkpKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gUkdCQSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIGZvcm1hdC5cIik7aWYoIShsPT09U3R8fHN0LmNvbnZlcnQobCk9PT1sdC5nZXRQYXJhbWV0ZXIoMzU3MzgpfHxsPT09UHQmJihrLmlzV2ViR0wyfHxILmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpfHxILmdldChcIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSl8fGw9PT1DdCYmKGsuaXNXZWJHTDI/SC5nZXQoXCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0XCIpOkguZ2V0KFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKSkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS5cIik7MzYwNTM9PT1sdC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKDM2MTYwKT9lPj0wJiZlPD10LndpZHRoLXImJm4+PTAmJm48PXQuaGVpZ2h0LWkmJmx0LnJlYWRQaXhlbHMoZSxuLHIsaSxzdC5jb252ZXJ0KGMpLHN0LmNvbnZlcnQobCksbyk6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVhZFBpeGVscyBmcm9tIHJlbmRlclRhcmdldCBmYWlsZWQuIEZyYW1lYnVmZmVyIG5vdCBjb21wbGV0ZS5cIil9ZmluYWxseXthJiZsdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAseCl9fX0sdGhpcy5jb3B5RnJhbWVidWZmZXJUb1RleHR1cmU9ZnVuY3Rpb24odCxlLG49MCl7Y29uc3Qgcj1NYXRoLnBvdygyLC1uKSxpPU1hdGguZmxvb3IoZS5pbWFnZS53aWR0aCpyKSxvPU1hdGguZmxvb3IoZS5pbWFnZS5oZWlnaHQqciksYT1zdC5jb252ZXJ0KGUuZm9ybWF0KTtYLnNldFRleHR1cmUyRChlLDApLGx0LmNvcHlUZXhJbWFnZTJEKDM1NTMsbixhLHQueCx0LnksaSxvLDApLFYudW5iaW5kVGV4dHVyZSgpfSx0aGlzLmNvcHlUZXh0dXJlVG9UZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHI9MCl7Y29uc3QgaT1lLmltYWdlLndpZHRoLG89ZS5pbWFnZS5oZWlnaHQsYT1zdC5jb252ZXJ0KG4uZm9ybWF0KSxzPXN0LmNvbnZlcnQobi50eXBlKTtYLnNldFRleHR1cmUyRChuLDApLGx0LnBpeGVsU3RvcmVpKDM3NDQwLG4uZmxpcFkpLGx0LnBpeGVsU3RvcmVpKDM3NDQxLG4ucHJlbXVsdGlwbHlBbHBoYSksbHQucGl4ZWxTdG9yZWkoMzMxNyxuLnVucGFja0FsaWdubWVudCksZS5pc0RhdGFUZXh0dXJlP2x0LnRleFN1YkltYWdlMkQoMzU1MyxyLHQueCx0LnksaSxvLGEscyxlLmltYWdlLmRhdGEpOmUuaXNDb21wcmVzc2VkVGV4dHVyZT9sdC5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLHIsdC54LHQueSxlLm1pcG1hcHNbMF0ud2lkdGgsZS5taXBtYXBzWzBdLmhlaWdodCxhLGUubWlwbWFwc1swXS5kYXRhKTpsdC50ZXhTdWJJbWFnZTJEKDM1NTMscix0LngsdC55LGEscyxlLmltYWdlKSwwPT09ciYmbi5nZW5lcmF0ZU1pcG1hcHMmJmx0LmdlbmVyYXRlTWlwbWFwKDM1NTMpLFYudW5iaW5kVGV4dHVyZSgpfSx0aGlzLmluaXRUZXh0dXJlPWZ1bmN0aW9uKHQpe1guc2V0VGV4dHVyZTJEKHQsMCksVi51bmJpbmRUZXh0dXJlKCl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9ic2VydmVcIix7ZGV0YWlsOnRoaXN9KSl9ZnVuY3Rpb24gQnModCl7RHMuY2FsbCh0aGlzLHQpfVBzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUod28ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UHMsaXNBcnJheUNhbWVyYTohMH0pLENzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoSnIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Q3MsaXNHcm91cDohMH0pLE9iamVjdC5hc3NpZ24oSXMucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpJcyxnZXRIYW5kU3BhY2U6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5faGFuZCYmKHRoaXMuX2hhbmQ9bmV3IENzLHRoaXMuX2hhbmQubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9oYW5kLnZpc2libGU9ITEsdGhpcy5faGFuZC5qb2ludHM9W10sdGhpcy5faGFuZC5pbnB1dFN0YXRlPXtwaW5jaGluZzohMX0sd2luZG93LlhSSGFuZCkpZm9yKGxldCB0PTA7dDw9d2luZG93LlhSSGFuZC5MSVRUTEVfUEhBTEFOWF9USVA7dCsrKXtjb25zdCB0PW5ldyBDczt0Lm1hdHJpeEF1dG9VcGRhdGU9ITEsdC52aXNpYmxlPSExLHRoaXMuX2hhbmQuam9pbnRzLnB1c2godCksdGhpcy5faGFuZC5hZGQodCl9cmV0dXJuIHRoaXMuX2hhbmR9LGdldFRhcmdldFJheVNwYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl90YXJnZXRSYXkmJih0aGlzLl90YXJnZXRSYXk9bmV3IENzLHRoaXMuX3RhcmdldFJheS5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX3RhcmdldFJheS52aXNpYmxlPSExKSx0aGlzLl90YXJnZXRSYXl9LGdldEdyaXBTcGFjZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fZ3JpcCYmKHRoaXMuX2dyaXA9bmV3IENzLHRoaXMuX2dyaXAubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9ncmlwLnZpc2libGU9ITEpLHRoaXMuX2dyaXB9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLl90YXJnZXRSYXkmJnRoaXMuX3RhcmdldFJheS5kaXNwYXRjaEV2ZW50KHQpLG51bGwhPT10aGlzLl9ncmlwJiZ0aGlzLl9ncmlwLmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PXRoaXMuX2hhbmQmJnRoaXMuX2hhbmQuZGlzcGF0Y2hFdmVudCh0KSx0aGlzfSxkaXNjb25uZWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJkaXNjb25uZWN0ZWRcIixkYXRhOnR9KSxudWxsIT09dGhpcy5fdGFyZ2V0UmF5JiYodGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEpLG51bGwhPT10aGlzLl9ncmlwJiYodGhpcy5fZ3JpcC52aXNpYmxlPSExKSxudWxsIT09dGhpcy5faGFuZCYmKHRoaXMuX2hhbmQudmlzaWJsZT0hMSksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1udWxsLGk9bnVsbCxvPW51bGw7Y29uc3QgYT10aGlzLl90YXJnZXRSYXkscz10aGlzLl9ncmlwLGM9dGhpcy5faGFuZDtpZih0JiZcInZpc2libGUtYmx1cnJlZFwiIT09ZS5zZXNzaW9uLnZpc2liaWxpdHlTdGF0ZSlpZihjJiZ0LmhhbmQpe289ITA7Zm9yKGxldCByPTA7cjw9d2luZG93LlhSSGFuZC5MSVRUTEVfUEhBTEFOWF9USVA7cisrKWlmKHQuaGFuZFtyXSl7Y29uc3QgaT1lLmdldEpvaW50UG9zZSh0LmhhbmRbcl0sbiksbz1jLmpvaW50c1tyXTtudWxsIT09aSYmKG8ubWF0cml4LmZyb21BcnJheShpLnRyYW5zZm9ybS5tYXRyaXgpLG8ubWF0cml4LmRlY29tcG9zZShvLnBvc2l0aW9uLG8ucm90YXRpb24sby5zY2FsZSksby5qb2ludFJhZGl1cz1pLnJhZGl1cyksby52aXNpYmxlPW51bGwhPT1pO2NvbnN0IGE9Yy5qb2ludHNbd2luZG93LlhSSGFuZC5JTkRFWF9QSEFMQU5YX1RJUF0scz1jLmpvaW50c1t3aW5kb3cuWFJIYW5kLlRIVU1CX1BIQUxBTlhfVElQXSxsPWEucG9zaXRpb24uZGlzdGFuY2VUbyhzLnBvc2l0aW9uKSx1PS4wMixoPS4wMDU7Yy5pbnB1dFN0YXRlLnBpbmNoaW5nJiZsPnUraD8oYy5pbnB1dFN0YXRlLnBpbmNoaW5nPSExLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInBpbmNoZW5kXCIsaGFuZGVkbmVzczp0LmhhbmRlZG5lc3MsdGFyZ2V0OnRoaXN9KSk6IWMuaW5wdXRTdGF0ZS5waW5jaGluZyYmbDw9dS1oJiYoYy5pbnB1dFN0YXRlLnBpbmNoaW5nPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInBpbmNoc3RhcnRcIixoYW5kZWRuZXNzOnQuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKX19ZWxzZSBudWxsIT09YSYmKHI9ZS5nZXRQb3NlKHQudGFyZ2V0UmF5U3BhY2UsbiksbnVsbCE9PXImJihhLm1hdHJpeC5mcm9tQXJyYXkoci50cmFuc2Zvcm0ubWF0cml4KSxhLm1hdHJpeC5kZWNvbXBvc2UoYS5wb3NpdGlvbixhLnJvdGF0aW9uLGEuc2NhbGUpKSksbnVsbCE9PXMmJnQuZ3JpcFNwYWNlJiYoaT1lLmdldFBvc2UodC5ncmlwU3BhY2UsbiksbnVsbCE9PWkmJihzLm1hdHJpeC5mcm9tQXJyYXkoaS50cmFuc2Zvcm0ubWF0cml4KSxzLm1hdHJpeC5kZWNvbXBvc2Uocy5wb3NpdGlvbixzLnJvdGF0aW9uLHMuc2NhbGUpKSk7cmV0dXJuIG51bGwhPT1hJiYoYS52aXNpYmxlPW51bGwhPT1yKSxudWxsIT09cyYmKHMudmlzaWJsZT1udWxsIT09aSksbnVsbCE9PWMmJihjLnZpc2libGU9bnVsbCE9PW8pLHRoaXN9fSksT2JqZWN0LmFzc2lnbihPcy5wcm90b3R5cGUsQm4ucHJvdG90eXBlKSxCcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKERzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkJzLGlzV2ViR0wxUmVuZGVyZXI6ITB9KTtjbGFzcyBGc3tjb25zdHJ1Y3Rvcih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNGb2dFeHAyXCIse3ZhbHVlOiEwfSksdGhpcy5uYW1lPVwiXCIsdGhpcy5jb2xvcj1uZXcgeWkodCksdGhpcy5kZW5zaXR5PXZvaWQgMCE9PWU/ZToyNWUtNX1jbG9uZSgpe3JldHVybiBuZXcgRnModGhpcy5jb2xvcix0aGlzLmRlbnNpdHkpfXRvSlNPTigpe3JldHVybnt0eXBlOlwiRm9nRXhwMlwiLGNvbG9yOnRoaXMuY29sb3IuZ2V0SGV4KCksZGVuc2l0eTp0aGlzLmRlbnNpdHl9fX1jbGFzcyBVc3tjb25zdHJ1Y3Rvcih0LGUsbil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc0ZvZ1wiLHt2YWx1ZTohMH0pLHRoaXMubmFtZT1cIlwiLHRoaXMuY29sb3I9bmV3IHlpKHQpLHRoaXMubmVhcj12b2lkIDAhPT1lP2U6MSx0aGlzLmZhcj12b2lkIDAhPT1uP246MWUzfWNsb25lKCl7cmV0dXJuIG5ldyBVcyh0aGlzLmNvbG9yLHRoaXMubmVhcix0aGlzLmZhcil9dG9KU09OKCl7cmV0dXJue3R5cGU6XCJGb2dcIixjb2xvcjp0aGlzLmNvbG9yLmdldEhleCgpLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn19fWNsYXNzIHpzIGV4dGVuZHMgSnJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNTY2VuZVwiLHt2YWx1ZTohMH0pLHRoaXMudHlwZT1cIlNjZW5lXCIsdGhpcy5iYWNrZ3JvdW5kPW51bGwsdGhpcy5lbnZpcm9ubWVudD1udWxsLHRoaXMuZm9nPW51bGwsdGhpcy5vdmVycmlkZU1hdGVyaWFsPW51bGwsdGhpcy5hdXRvVXBkYXRlPSEwLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9ic2VydmVcIix7ZGV0YWlsOnRoaXN9KSl9Y29weSh0LGUpe3JldHVybiBzdXBlci5jb3B5KHQsZSksbnVsbCE9PXQuYmFja2dyb3VuZCYmKHRoaXMuYmFja2dyb3VuZD10LmJhY2tncm91bmQuY2xvbmUoKSksbnVsbCE9PXQuZW52aXJvbm1lbnQmJih0aGlzLmVudmlyb25tZW50PXQuZW52aXJvbm1lbnQuY2xvbmUoKSksbnVsbCE9PXQuZm9nJiYodGhpcy5mb2c9dC5mb2cuY2xvbmUoKSksbnVsbCE9PXQub3ZlcnJpZGVNYXRlcmlhbCYmKHRoaXMub3ZlcnJpZGVNYXRlcmlhbD10Lm92ZXJyaWRlTWF0ZXJpYWwuY2xvbmUoKSksdGhpcy5hdXRvVXBkYXRlPXQuYXV0b1VwZGF0ZSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9dC5tYXRyaXhBdXRvVXBkYXRlLHRoaXN9dG9KU09OKHQpe2NvbnN0IGU9c3VwZXIudG9KU09OKHQpO3JldHVybiBudWxsIT09dGhpcy5iYWNrZ3JvdW5kJiYoZS5vYmplY3QuYmFja2dyb3VuZD10aGlzLmJhY2tncm91bmQudG9KU09OKHQpKSxudWxsIT09dGhpcy5lbnZpcm9ubWVudCYmKGUub2JqZWN0LmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKHQpKSxudWxsIT09dGhpcy5mb2cmJihlLm9iamVjdC5mb2c9dGhpcy5mb2cudG9KU09OKCkpLGV9fWZ1bmN0aW9uIEdzKHQsZSl7dGhpcy5hcnJheT10LHRoaXMuc3RyaWRlPWUsdGhpcy5jb3VudD12b2lkIDAhPT10P3QubGVuZ3RoL2U6MCx0aGlzLnVzYWdlPVRuLHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MCx0aGlzLnV1aWQ9em4uZ2VuZXJhdGVVVUlEKCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEdzLnByb3RvdHlwZSxcIm5lZWRzVXBkYXRlXCIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pLE9iamVjdC5hc3NpZ24oR3MucHJvdG90eXBlLHtpc0ludGVybGVhdmVkQnVmZmVyOiEwLG9uVXBsb2FkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHNldFVzYWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVzYWdlPXQsdGhpc30sY29weTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheT1uZXcgdC5hcnJheS5jb25zdHJ1Y3Rvcih0LmFycmF5KSx0aGlzLmNvdW50PXQuY291bnQsdGhpcy5zdHJpZGU9dC5zdHJpZGUsdGhpcy51c2FnZT10LnVzYWdlLHRoaXN9LGNvcHlBdDpmdW5jdGlvbih0LGUsbil7dCo9dGhpcy5zdHJpZGUsbio9ZS5zdHJpZGU7Zm9yKGxldCByPTAsaT10aGlzLnN0cmlkZTtyPGk7cisrKXRoaXMuYXJyYXlbdCtyXT1lLmFycmF5W24rcl07cmV0dXJuIHRoaXN9LHNldDpmdW5jdGlvbih0LGU9MCl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KHQsZSksdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7dm9pZCAwPT09dC5hcnJheUJ1ZmZlcnMmJih0LmFycmF5QnVmZmVycz17fSksdm9pZCAwPT09dGhpcy5hcnJheS5idWZmZXIuX3V1aWQmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD16bi5nZW5lcmF0ZVVVSUQoKSksdm9pZCAwPT09dC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdJiYodC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPXRoaXMuYXJyYXkuc2xpY2UoMCkuYnVmZmVyKTtjb25zdCBlPW5ldyBHcyhuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3Rvcih0LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF0pLHRoaXMuc3RyaWRlKTtyZXR1cm4gZS5zZXRVc2FnZSh0aGlzLnVzYWdlKSxlfSxvblVwbG9hZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vblVwbG9hZENhbGxiYWNrPXQsdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10LmFycmF5QnVmZmVycyYmKHQuYXJyYXlCdWZmZXJzPXt9KSx2b2lkIDA9PT10aGlzLmFycmF5LmJ1ZmZlci5fdXVpZCYmKHRoaXMuYXJyYXkuYnVmZmVyLl91dWlkPXpuLmdlbmVyYXRlVVVJRCgpKSx2b2lkIDA9PT10LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF0mJih0LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXkuYnVmZmVyKSkpLHt1dWlkOnRoaXMudXVpZCxidWZmZXI6dGhpcy5hcnJheS5idWZmZXIuX3V1aWQsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsc3RyaWRlOnRoaXMuc3RyaWRlfX19KTtjb25zdCBIcz1uZXcgS247ZnVuY3Rpb24ga3ModCxlLG4scil7dGhpcy5uYW1lPVwiXCIsdGhpcy5kYXRhPXQsdGhpcy5pdGVtU2l6ZT1lLHRoaXMub2Zmc2V0PW4sdGhpcy5ub3JtYWxpemVkPSEwPT09cn1mdW5jdGlvbiBWcyh0KXt3aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNwcml0ZU1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgeWkoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMucm90YXRpb249MCx0aGlzLnNpemVBdHRlbnVhdGlvbj0hMCx0aGlzLnRyYW5zcGFyZW50PSEwLHRoaXMuc2V0VmFsdWVzKHQpfWxldCBqcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyhrcy5wcm90b3R5cGUse2NvdW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmNvdW50fX0sYXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYXJyYXl9fSxuZWVkc1VwZGF0ZTp7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5uZWVkc1VwZGF0ZT10fX19KSxPYmplY3QuYXNzaWduKGtzLnByb3RvdHlwZSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTohMCxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTAsbj10aGlzLmRhdGEuY291bnQ7ZTxuO2UrKylIcy54PXRoaXMuZ2V0WChlKSxIcy55PXRoaXMuZ2V0WShlKSxIcy56PXRoaXMuZ2V0WihlKSxIcy5hcHBseU1hdHJpeDQodCksdGhpcy5zZXRYWVooZSxIcy54LEhzLnksSHMueik7cmV0dXJuIHRoaXN9LHNldFg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF09ZSx0aGlzfSxzZXRZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09ZSx0aGlzfSxzZXRaOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl09ZSx0aGlzfSxzZXRXOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM109ZSx0aGlzfSxnZXRYOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbdCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XX0sZ2V0WTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXX0sZ2V0WjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXX0sZ2V0VzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXX0sc2V0WFk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpc30sc2V0WFlaOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpcy5kYXRhLmFycmF5W3QrMl09cix0aGlzfSxzZXRYWVpXOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHQ9dCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVt0KzBdPWUsdGhpcy5kYXRhLmFycmF5W3QrMV09bix0aGlzLmRhdGEuYXJyYXlbdCsyXT1yLHRoaXMuZGF0YS5hcnJheVt0KzNdPWksdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coXCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5jbG9uZSgpOiBDbG9uaW5nIGFuIGludGVybGF2ZWQgYnVmZmVyIGF0dHJpYnV0ZSB3aWxsIGRlaW50ZXJsZWF2ZSBidWZmZXIgZGF0YS5cIik7Y29uc3QgdD1bXTtmb3IobGV0IGU9MDtlPHRoaXMuY291bnQ7ZSsrKXtjb25zdCBuPWUqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDtmb3IobGV0IGU9MDtlPHRoaXMuaXRlbVNpemU7ZSsrKXQucHVzaCh0aGlzLmRhdGEuYXJyYXlbbitlXSl9cmV0dXJuIG5ldyBUaShuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3Rvcih0KSx0aGlzLml0ZW1TaXplLHRoaXMubm9ybWFsaXplZCl9cmV0dXJuIHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzJiYodC5pbnRlcmxlYXZlZEJ1ZmZlcnM9e30pLHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXSYmKHQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEuY2xvbmUodCkpLG5ldyBrcyh0LmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF0sdGhpcy5pdGVtU2l6ZSx0aGlzLm9mZnNldCx0aGlzLm5vcm1hbGl6ZWQpfSx0b0pTT046ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coXCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS50b0pTT04oKTogU2VyaWFsaXppbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLlwiKTtjb25zdCB0PVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5jb3VudDtlKyspe2NvbnN0IG49ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0O2ZvcihsZXQgZT0wO2U8dGhpcy5pdGVtU2l6ZTtlKyspdC5wdXNoKHRoaXMuZGF0YS5hcnJheVtuK2VdKX1yZXR1cm57aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTp0LG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfX1yZXR1cm4gdm9pZCAwPT09dC5pbnRlcmxlYXZlZEJ1ZmZlcnMmJih0LmludGVybGVhdmVkQnVmZmVycz17fSksdm9pZCAwPT09dC5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdJiYodC5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS50b0pTT04odCkpLHtpc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlOiEwLGl0ZW1TaXplOnRoaXMuaXRlbVNpemUsZGF0YTp0aGlzLmRhdGEudXVpZCxvZmZzZXQ6dGhpcy5vZmZzZXQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9fX0pLFZzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSksVnMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVZzLFZzLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPSEwLFZzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLnJvdGF0aW9uPXQucm90YXRpb24sdGhpcy5zaXplQXR0ZW51YXRpb249dC5zaXplQXR0ZW51YXRpb24sdGhpc307Y29uc3QgV3M9bmV3IEtuLFhzPW5ldyBLbixxcz1uZXcgS24sWXM9bmV3IEduLFpzPW5ldyBHbixKcz1uZXcgVHIsS3M9bmV3IEtuLFFzPW5ldyBLbiwkcz1uZXcgS24sdGM9bmV3IEduLGVjPW5ldyBHbixuYz1uZXcgR247ZnVuY3Rpb24gcmModCl7aWYoSnIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTcHJpdGVcIix2b2lkIDA9PT1qcyl7anM9bmV3IHFpO2NvbnN0IHQ9bmV3IEdzKG5ldyBGbG9hdDMyQXJyYXkoWy0uNSwtLjUsMCwwLDAsLjUsLS41LDAsMSwwLC41LC41LDAsMSwxLC0uNSwuNSwwLDAsMV0pLDUpO2pzLnNldEluZGV4KFswLDEsMiwwLDIsM10pLGpzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IGtzKHQsMywwLCExKSksanMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcga3ModCwyLDMsITEpKX10aGlzLmdlb21ldHJ5PWpzLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09dD90Om5ldyBWcyx0aGlzLmNlbnRlcj1uZXcgR24oLjUsLjUpfWZ1bmN0aW9uIGljKHQsZSxuLHIsaSxvKXtZcy5zdWJWZWN0b3JzKHQsbikuYWRkU2NhbGFyKC41KS5tdWx0aXBseShyKSx2b2lkIDAhPT1pPyhacy54PW8qWXMueC1pKllzLnksWnMueT1pKllzLngrbypZcy55KTpacy5jb3B5KFlzKSx0LmNvcHkoZSksdC54Kz1acy54LHQueSs9WnMueSx0LmFwcGx5TWF0cml4NChKcyl9cmMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShKci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpyYyxpc1Nwcml0ZTohMCxyYXljYXN0OmZ1bmN0aW9uKHQsZSl7bnVsbD09PXQuY2FtZXJhJiZjb25zb2xlLmVycm9yKCdUSFJFRS5TcHJpdGU6IFwiUmF5Y2FzdGVyLmNhbWVyYVwiIG5lZWRzIHRvIGJlIHNldCBpbiBvcmRlciB0byByYXljYXN0IGFnYWluc3Qgc3ByaXRlcy4nKSxYcy5zZXRGcm9tTWF0cml4U2NhbGUodGhpcy5tYXRyaXhXb3JsZCksSnMuY29weSh0LmNhbWVyYS5tYXRyaXhXb3JsZCksdGhpcy5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0LmNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UsdGhpcy5tYXRyaXhXb3JsZCkscXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubW9kZWxWaWV3TWF0cml4KSx0LmNhbWVyYS5pc1BlcnNwZWN0aXZlQ2FtZXJhJiYhMT09PXRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uJiZYcy5tdWx0aXBseVNjYWxhcigtcXMueik7Y29uc3Qgbj10aGlzLm1hdGVyaWFsLnJvdGF0aW9uO2xldCByLGk7MCE9PW4mJihpPU1hdGguY29zKG4pLHI9TWF0aC5zaW4obikpO2NvbnN0IG89dGhpcy5jZW50ZXI7aWMoS3Muc2V0KC0uNSwtLjUsMCkscXMsbyxYcyxyLGkpLGljKFFzLnNldCguNSwtLjUsMCkscXMsbyxYcyxyLGkpLGljKCRzLnNldCguNSwuNSwwKSxxcyxvLFhzLHIsaSksdGMuc2V0KDAsMCksZWMuc2V0KDEsMCksbmMuc2V0KDEsMSk7bGV0IGE9dC5yYXkuaW50ZXJzZWN0VHJpYW5nbGUoS3MsUXMsJHMsITEsV3MpO2lmKG51bGw9PT1hJiYoaWMoUXMuc2V0KC0uNSwuNSwwKSxxcyxvLFhzLHIsaSksZWMuc2V0KDAsMSksYT10LnJheS5pbnRlcnNlY3RUcmlhbmdsZShLcywkcyxRcywhMSxXcyksbnVsbD09PWEpKXJldHVybjtjb25zdCBzPXQucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKFdzKTtzPHQubmVhcnx8cz50LmZhcnx8ZS5wdXNoKHtkaXN0YW5jZTpzLHBvaW50OldzLmNsb25lKCksdXY6aGkuZ2V0VVYoV3MsS3MsUXMsJHMsdGMsZWMsbmMsbmV3IEduKSxmYWNlOm51bGwsb2JqZWN0OnRoaXN9KX0sY29weTpmdW5jdGlvbih0KXtyZXR1cm4gSnIucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHZvaWQgMCE9PXQuY2VudGVyJiZ0aGlzLmNlbnRlci5jb3B5KHQuY2VudGVyKSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpc319KTtjb25zdCBvYz1uZXcgS24sYWM9bmV3IEtuO2Z1bmN0aW9uIHNjKCl7SnIuY2FsbCh0aGlzKSx0aGlzLl9jdXJyZW50TGV2ZWw9MCx0aGlzLnR5cGU9XCJMT0RcIixPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtsZXZlbHM6e2VudW1lcmFibGU6ITAsdmFsdWU6W119fSksdGhpcy5hdXRvVXBkYXRlPSEwfWZ1bmN0aW9uIGNjKHQsZSl7dCYmdC5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKFwiVEhSRUUuU2tpbm5lZE1lc2ggbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC5cIiksaG8uY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPVwiU2tpbm5lZE1lc2hcIix0aGlzLmJpbmRNb2RlPVwiYXR0YWNoZWRcIix0aGlzLmJpbmRNYXRyaXg9bmV3IFRyLHRoaXMuYmluZE1hdHJpeEludmVyc2U9bmV3IFRyfWZ1bmN0aW9uIGxjKCl7SnIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJCb25lXCJ9c2MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShKci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpzYyxpc0xPRDohMCxjb3B5OmZ1bmN0aW9uKHQpe0pyLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0LCExKTtjb25zdCBlPXQubGV2ZWxzO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW3RdO3RoaXMuYWRkTGV2ZWwobi5vYmplY3QuY2xvbmUoKSxuLmRpc3RhbmNlKX1yZXR1cm4gdGhpcy5hdXRvVXBkYXRlPXQuYXV0b1VwZGF0ZSx0aGlzfSxhZGRMZXZlbDpmdW5jdGlvbih0LGU9MCl7ZT1NYXRoLmFicyhlKTtjb25zdCBuPXRoaXMubGV2ZWxzO2xldCByO2ZvcihyPTA7cjxuLmxlbmd0aCYmIShlPG5bcl0uZGlzdGFuY2UpO3IrKyk7cmV0dXJuIG4uc3BsaWNlKHIsMCx7ZGlzdGFuY2U6ZSxvYmplY3Q6dH0pLHRoaXMuYWRkKHQpLHRoaXN9LGdldEN1cnJlbnRMZXZlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50TGV2ZWx9LGdldE9iamVjdEZvckRpc3RhbmNlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5sZXZlbHM7aWYoZS5sZW5ndGg+MCl7bGV0IG4scjtmb3Iobj0xLHI9ZS5sZW5ndGg7bjxyJiYhKHQ8ZVtuXS5kaXN0YW5jZSk7bisrKTtyZXR1cm4gZVtuLTFdLm9iamVjdH1yZXR1cm4gbnVsbH0scmF5Y2FzdDpmdW5jdGlvbih0LGUpe2lmKHRoaXMubGV2ZWxzLmxlbmd0aD4wKXtvYy5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7Y29uc3Qgbj10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyhvYyk7dGhpcy5nZXRPYmplY3RGb3JEaXN0YW5jZShuKS5yYXljYXN0KHQsZSl9fSx1cGRhdGU6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmxldmVscztpZihlLmxlbmd0aD4xKXtvYy5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksYWMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO2NvbnN0IG49b2MuZGlzdGFuY2VUbyhhYykvdC56b29tO2xldCByLGk7Zm9yKGVbMF0ub2JqZWN0LnZpc2libGU9ITAscj0xLGk9ZS5sZW5ndGg7cjxpJiZuPj1lW3JdLmRpc3RhbmNlO3IrKyllW3ItMV0ub2JqZWN0LnZpc2libGU9ITEsZVtyXS5vYmplY3QudmlzaWJsZT0hMDtmb3IodGhpcy5fY3VycmVudExldmVsPXItMTtyPGk7cisrKWVbcl0ub2JqZWN0LnZpc2libGU9ITF9fSx0b0pTT046ZnVuY3Rpb24odCl7Y29uc3QgZT1Kci5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTshMT09PXRoaXMuYXV0b1VwZGF0ZSYmKGUub2JqZWN0LmF1dG9VcGRhdGU9ITEpLGUub2JqZWN0LmxldmVscz1bXTtjb25zdCBuPXRoaXMubGV2ZWxzO2ZvcihsZXQgdD0wLHI9bi5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcj1uW3RdO2Uub2JqZWN0LmxldmVscy5wdXNoKHtvYmplY3Q6ci5vYmplY3QudXVpZCxkaXN0YW5jZTpyLmRpc3RhbmNlfSl9cmV0dXJuIGV9fSksY2MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShoby5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpjYyxpc1NraW5uZWRNZXNoOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIGhvLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmJpbmRNb2RlPXQuYmluZE1vZGUsdGhpcy5iaW5kTWF0cml4LmNvcHkodC5iaW5kTWF0cml4KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodC5iaW5kTWF0cml4SW52ZXJzZSksdGhpcy5za2VsZXRvbj10LnNrZWxldG9uLHRoaXN9LGJpbmQ6ZnVuY3Rpb24odCxlKXt0aGlzLnNrZWxldG9uPXQsdm9pZCAwPT09ZSYmKHRoaXMudXBkYXRlTWF0cml4V29ybGQoITApLHRoaXMuc2tlbGV0b24uY2FsY3VsYXRlSW52ZXJzZXMoKSxlPXRoaXMubWF0cml4V29ybGQpLHRoaXMuYmluZE1hdHJpeC5jb3B5KGUpLHRoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShlKS5pbnZlcnQoKX0scG9zZTpmdW5jdGlvbigpe3RoaXMuc2tlbGV0b24ucG9zZSgpfSxub3JtYWxpemVTa2luV2VpZ2h0czpmdW5jdGlvbigpe2NvbnN0IHQ9bmV3IHFuLGU9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQ7Zm9yKGxldCBuPTAscj1lLmNvdW50O248cjtuKyspe3QueD1lLmdldFgobiksdC55PWUuZ2V0WShuKSx0Lno9ZS5nZXRaKG4pLHQudz1lLmdldFcobik7Y29uc3Qgcj0xL3QubWFuaGF0dGFuTGVuZ3RoKCk7ciE9PTEvMD90Lm11bHRpcGx5U2NhbGFyKHIpOnQuc2V0KDEsMCwwLDApLGUuc2V0WFlaVyhuLHQueCx0LnksdC56LHQudyl9fSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbih0KXtoby5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLHQpLFwiYXR0YWNoZWRcIj09PXRoaXMuYmluZE1vZGU/dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpOlwiZGV0YWNoZWRcIj09PXRoaXMuYmluZE1vZGU/dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuYmluZE1hdHJpeCkuaW52ZXJ0KCk6Y29uc29sZS53YXJuKFwiVEhSRUUuU2tpbm5lZE1lc2g6IFVucmVjb2duaXplZCBiaW5kTW9kZTogXCIrdGhpcy5iaW5kTW9kZSl9LGJvbmVUcmFuc2Zvcm06ZnVuY3Rpb24oKXtjb25zdCB0PW5ldyBLbixlPW5ldyBxbixuPW5ldyBxbixyPW5ldyBLbixpPW5ldyBUcjtyZXR1cm4gZnVuY3Rpb24obyxhKXtjb25zdCBzPXRoaXMuc2tlbGV0b24sYz10aGlzLmdlb21ldHJ5O2UuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLmF0dHJpYnV0ZXMuc2tpbkluZGV4LG8pLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLmF0dHJpYnV0ZXMuc2tpbldlaWdodCxvKSx0LmZyb21CdWZmZXJBdHRyaWJ1dGUoYy5hdHRyaWJ1dGVzLnBvc2l0aW9uLG8pLmFwcGx5TWF0cml4NCh0aGlzLmJpbmRNYXRyaXgpLGEuc2V0KDAsMCwwKTtmb3IobGV0IG89MDtvPDQ7bysrKXtjb25zdCBjPW4uZ2V0Q29tcG9uZW50KG8pO2lmKDAhPT1jKXtjb25zdCBuPWUuZ2V0Q29tcG9uZW50KG8pO2kubXVsdGlwbHlNYXRyaWNlcyhzLmJvbmVzW25dLm1hdHJpeFdvcmxkLHMuYm9uZUludmVyc2VzW25dKSxhLmFkZFNjYWxlZFZlY3RvcihyLmNvcHkodCkuYXBwbHlNYXRyaXg0KGkpLGMpfX1yZXR1cm4gYS5hcHBseU1hdHJpeDQodGhpcy5iaW5kTWF0cml4SW52ZXJzZSl9fSgpfSksbGMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShKci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpsYyxpc0JvbmU6ITB9KTtjb25zdCB1Yz1uZXcgVHIsaGM9bmV3IFRyO2Z1bmN0aW9uIGRjKHQ9W10sZT1bXSl7dGhpcy51dWlkPXpuLmdlbmVyYXRlVVVJRCgpLHRoaXMuYm9uZXM9dC5zbGljZSgwKSx0aGlzLmJvbmVJbnZlcnNlcz1lLHRoaXMuYm9uZU1hdHJpY2VzPW51bGwsdGhpcy5ib25lVGV4dHVyZT1udWxsLHRoaXMuYm9uZVRleHR1cmVTaXplPTAsdGhpcy5mcmFtZT0tMSx0aGlzLmluaXQoKX1PYmplY3QuYXNzaWduKGRjLnByb3RvdHlwZSx7aW5pdDpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5ib25lcyxlPXRoaXMuYm9uZUludmVyc2VzO2lmKHRoaXMuYm9uZU1hdHJpY2VzPW5ldyBGbG9hdDMyQXJyYXkoMTYqdC5sZW5ndGgpLDA9PT1lLmxlbmd0aCl0aGlzLmNhbGN1bGF0ZUludmVyc2VzKCk7ZWxzZSBpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXtjb25zb2xlLndhcm4oXCJUSFJFRS5Ta2VsZXRvbjogTnVtYmVyIG9mIGludmVyc2UgYm9uZSBtYXRyaWNlcyBkb2VzIG5vdCBtYXRjaCBhbW91bnQgb2YgYm9uZXMuXCIpLHRoaXMuYm9uZUludmVyc2VzPVtdO2ZvcihsZXQgdD0wLGU9dGhpcy5ib25lcy5sZW5ndGg7dDxlO3QrKyl0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKG5ldyBUcil9fSxjYWxjdWxhdGVJbnZlcnNlczpmdW5jdGlvbigpe3RoaXMuYm9uZUludmVyc2VzLmxlbmd0aD0wO2ZvcihsZXQgdD0wLGU9dGhpcy5ib25lcy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1uZXcgVHI7dGhpcy5ib25lc1t0XSYmZS5jb3B5KHRoaXMuYm9uZXNbdF0ubWF0cml4V29ybGQpLmludmVydCgpLHRoaXMuYm9uZUludmVyc2VzLnB1c2goZSl9fSxwb3NlOmZ1bmN0aW9uKCl7Zm9yKGxldCB0PTAsZT10aGlzLmJvbmVzLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXRoaXMuYm9uZXNbdF07ZSYmZS5tYXRyaXhXb3JsZC5jb3B5KHRoaXMuYm9uZUludmVyc2VzW3RdKS5pbnZlcnQoKX1mb3IobGV0IHQ9MCxlPXRoaXMuYm9uZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5ib25lc1t0XTtlJiYoZS5wYXJlbnQmJmUucGFyZW50LmlzQm9uZT8oZS5tYXRyaXguY29weShlLnBhcmVudC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCksZS5tYXRyaXgubXVsdGlwbHkoZS5tYXRyaXhXb3JsZCkpOmUubWF0cml4LmNvcHkoZS5tYXRyaXhXb3JsZCksZS5tYXRyaXguZGVjb21wb3NlKGUucG9zaXRpb24sZS5xdWF0ZXJuaW9uLGUuc2NhbGUpKX19LHVwZGF0ZTpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5ib25lcyxlPXRoaXMuYm9uZUludmVyc2VzLG49dGhpcy5ib25lTWF0cmljZXMscj10aGlzLmJvbmVUZXh0dXJlO2ZvcihsZXQgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKyl7Y29uc3QgaT10W3JdP3Rbcl0ubWF0cml4V29ybGQ6aGM7dWMubXVsdGlwbHlNYXRyaWNlcyhpLGVbcl0pLHVjLnRvQXJyYXkobiwxNipyKX1udWxsIT09ciYmKHIubmVlZHNVcGRhdGU9ITApfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZGModGhpcy5ib25lcyx0aGlzLmJvbmVJbnZlcnNlcyl9LGdldEJvbmVCeU5hbWU6ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTAsbj10aGlzLmJvbmVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuYm9uZXNbZV07aWYobi5uYW1lPT09dClyZXR1cm4gbn19LGRpc3Bvc2U6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5ib25lVGV4dHVyZSYmKHRoaXMuYm9uZVRleHR1cmUuZGlzcG9zZSgpLHRoaXMuYm9uZVRleHR1cmU9bnVsbCl9LGZyb21KU09OOmZ1bmN0aW9uKHQsZSl7dGhpcy51dWlkPXQudXVpZDtmb3IobGV0IG49MCxyPXQuYm9uZXMubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9dC5ib25lc1tuXTtsZXQgaT1lW3JdO3ZvaWQgMD09PWkmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Ta2VsZXRvbjogTm8gYm9uZSBmb3VuZCB3aXRoIFVVSUQ6XCIsciksaT1uZXcgbGMpLHRoaXMuYm9uZXMucHVzaChpKSx0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKChuZXcgVHIpLmZyb21BcnJheSh0LmJvbmVJbnZlcnNlc1tuXSkpfXJldHVybiB0aGlzLmluaXQoKSx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXtjb25zdCB0PXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTpcIlNrZWxldG9uXCIsZ2VuZXJhdG9yOlwiU2tlbGV0b24udG9KU09OXCJ9LGJvbmVzOltdLGJvbmVJbnZlcnNlczpbXX07dC51dWlkPXRoaXMudXVpZDtjb25zdCBlPXRoaXMuYm9uZXMsbj10aGlzLmJvbmVJbnZlcnNlcztmb3IobGV0IHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe2NvbnN0IGk9ZVtyXTt0LmJvbmVzLnB1c2goaS51dWlkKTtjb25zdCBvPW5bcl07dC5ib25lSW52ZXJzZXMucHVzaChvLnRvQXJyYXkoKSl9cmV0dXJuIHR9fSk7Y29uc3QgcGM9bmV3IFRyLGZjPW5ldyBUcixtYz1bXSxnYz1uZXcgaG87ZnVuY3Rpb24gdmModCxlLG4pe2hvLmNhbGwodGhpcyx0LGUpLHRoaXMuaW5zdGFuY2VNYXRyaXg9bmV3IFRpKG5ldyBGbG9hdDMyQXJyYXkoMTYqbiksMTYpLHRoaXMuaW5zdGFuY2VDb2xvcj1udWxsLHRoaXMuY291bnQ9bix0aGlzLmZydXN0dW1DdWxsZWQ9ITF9ZnVuY3Rpb24geWModCl7d2kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMaW5lQmFzaWNNYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHlpKDE2Nzc3MjE1KSx0aGlzLmxpbmV3aWR0aD0xLHRoaXMubGluZWNhcD1cInJvdW5kXCIsdGhpcy5saW5lam9pbj1cInJvdW5kXCIsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9dmMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShoby5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp2Yyxpc0luc3RhbmNlZE1lc2g6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gaG8ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuaW5zdGFuY2VNYXRyaXguY29weSh0Lmluc3RhbmNlTWF0cml4KSx0aGlzLmNvdW50PXQuY291bnQsdGhpc30sZ2V0Q29sb3JBdDpmdW5jdGlvbih0LGUpe2UuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VDb2xvci5hcnJheSwzKnQpfSxnZXRNYXRyaXhBdDpmdW5jdGlvbih0LGUpe2UuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksMTYqdCl9LHJheWNhc3Q6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMubWF0cml4V29ybGQscj10aGlzLmNvdW50O2lmKGdjLmdlb21ldHJ5PXRoaXMuZ2VvbWV0cnksZ2MubWF0ZXJpYWw9dGhpcy5tYXRlcmlhbCx2b2lkIDAhPT1nYy5tYXRlcmlhbClmb3IobGV0IGk9MDtpPHI7aSsrKXt0aGlzLmdldE1hdHJpeEF0KGkscGMpLGZjLm11bHRpcGx5TWF0cmljZXMobixwYyksZ2MubWF0cml4V29ybGQ9ZmMsZ2MucmF5Y2FzdCh0LG1jKTtmb3IobGV0IHQ9MCxuPW1jLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPW1jW3RdO24uaW5zdGFuY2VJZD1pLG4ub2JqZWN0PXRoaXMsZS5wdXNoKG4pfW1jLmxlbmd0aD0wfX0sc2V0Q29sb3JBdDpmdW5jdGlvbih0LGUpe251bGw9PT10aGlzLmluc3RhbmNlQ29sb3ImJih0aGlzLmluc3RhbmNlQ29sb3I9bmV3IFRpKG5ldyBGbG9hdDMyQXJyYXkoMyp0aGlzLmNvdW50KSwzKSksZS50b0FycmF5KHRoaXMuaW5zdGFuY2VDb2xvci5hcnJheSwzKnQpfSxzZXRNYXRyaXhBdDpmdW5jdGlvbih0LGUpe2UudG9BcnJheSh0aGlzLmluc3RhbmNlTWF0cml4LmFycmF5LDE2KnQpfSx1cGRhdGVNb3JwaFRhcmdldHM6ZnVuY3Rpb24oKXt9fSkseWMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUod2kucHJvdG90eXBlKSx5Yy5wcm90b3R5cGUuY29uc3RydWN0b3I9eWMseWMucHJvdG90eXBlLmlzTGluZUJhc2ljTWF0ZXJpYWw9ITAseWMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHdpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5saW5ld2lkdGg9dC5saW5ld2lkdGgsdGhpcy5saW5lY2FwPXQubGluZWNhcCx0aGlzLmxpbmVqb2luPXQubGluZWpvaW4sdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpc307Y29uc3QgeGM9bmV3IEtuLGJjPW5ldyBLbix3Yz1uZXcgVHIsX2M9bmV3IFNyLE1jPW5ldyBncjtmdW5jdGlvbiBTYyh0LGUsbil7MT09PW4mJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5MaW5lOiBwYXJhbWV0ZXIgVEhSRUUuTGluZVBpZWNlcyBubyBsb25nZXIgc3VwcG9ydGVkLiBVc2UgVEhSRUUuTGluZVNlZ21lbnRzIGluc3RlYWQuXCIpLEpyLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGluZVwiLHRoaXMuZ2VvbWV0cnk9dm9pZCAwIT09dD90Om5ldyBxaSx0aGlzLm1hdGVyaWFsPXZvaWQgMCE9PWU/ZTpuZXcgeWMsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1TYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEpyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlNjLGlzTGluZTohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBKci5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5tYXRlcmlhbD10Lm1hdGVyaWFsLHRoaXMuZ2VvbWV0cnk9dC5nZW9tZXRyeSx0aGlzfSxjb21wdXRlTGluZURpc3RhbmNlczpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5nZW9tZXRyeTtpZih0LmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PXQuaW5kZXgpe2NvbnN0IGU9dC5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49WzBdO2ZvcihsZXQgdD0xLHI9ZS5jb3VudDt0PHI7dCsrKXhjLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0LTEpLGJjLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSxuW3RdPW5bdC0xXSxuW3RdKz14Yy5kaXN0YW5jZVRvKGJjKTt0LnNldEF0dHJpYnV0ZShcImxpbmVEaXN0YW5jZVwiLG5ldyBOaShuLDEpKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LlwiKTtlbHNlIGlmKHQuaXNHZW9tZXRyeSl7Y29uc3QgZT10LnZlcnRpY2VzLG49dC5saW5lRGlzdGFuY2VzO25bMF09MDtmb3IobGV0IHQ9MSxyPWUubGVuZ3RoO3Q8cjt0Kyspblt0XT1uW3QtMV0sblt0XSs9ZVt0LTFdLmRpc3RhbmNlVG8oZVt0XSl9cmV0dXJuIHRoaXN9LHJheWNhc3Q6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMuZ2VvbWV0cnkscj10aGlzLm1hdHJpeFdvcmxkLGk9dC5wYXJhbXMuTGluZS50aHJlc2hvbGQ7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksTWMuY29weShuLmJvdW5kaW5nU3BoZXJlKSxNYy5hcHBseU1hdHJpeDQociksTWMucmFkaXVzKz1pLCExPT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShNYykpcmV0dXJuO3djLmNvcHkocikuaW52ZXJ0KCksX2MuY29weSh0LnJheSkuYXBwbHlNYXRyaXg0KHdjKTtjb25zdCBvPWkvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksYT1vKm8scz1uZXcgS24sYz1uZXcgS24sbD1uZXcgS24sdT1uZXcgS24saD10aGlzLmlzTGluZVNlZ21lbnRzPzI6MTtpZihuLmlzQnVmZmVyR2VvbWV0cnkpe2NvbnN0IHI9bi5pbmRleCxpPW4uYXR0cmlidXRlcy5wb3NpdGlvbjtpZihudWxsIT09cil7Y29uc3Qgbj1yLmFycmF5O2ZvcihsZXQgcj0wLG89bi5sZW5ndGgtMTtyPG87cis9aCl7Y29uc3Qgbz1uW3JdLGg9bltyKzFdO3MuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLG8pLGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGgpO2lmKF9jLmRpc3RhbmNlU3FUb1NlZ21lbnQocyxjLHUsbCk+YSljb250aW51ZTt1LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCBkPXQucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHUpO2Q8dC5uZWFyfHxkPnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOmQscG9pbnQ6bC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpyLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX1lbHNlIGZvcihsZXQgbj0wLHI9aS5jb3VudC0xO248cjtuKz1oKXtzLmZyb21CdWZmZXJBdHRyaWJ1dGUoaSxuKSxjLmZyb21CdWZmZXJBdHRyaWJ1dGUoaSxuKzEpO2lmKF9jLmRpc3RhbmNlU3FUb1NlZ21lbnQocyxjLHUsbCk+YSljb250aW51ZTt1LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCByPXQucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHUpO3I8dC5uZWFyfHxyPnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOnIscG9pbnQ6bC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpuLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX1lbHNlIGlmKG4uaXNHZW9tZXRyeSl7Y29uc3Qgcj1uLnZlcnRpY2VzLGk9ci5sZW5ndGg7Zm9yKGxldCBuPTA7bjxpLTE7bis9aCl7aWYoX2MuZGlzdGFuY2VTcVRvU2VnbWVudChyW25dLHJbbisxXSx1LGwpPmEpY29udGludWU7dS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7Y29uc3QgaT10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyh1KTtpPHQubmVhcnx8aT50LmZhcnx8ZS5wdXNoKHtkaXN0YW5jZTppLHBvaW50OmwuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6bixmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KX19fSx1cGRhdGVNb3JwaFRhcmdldHM6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnk7aWYodC5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBlPXQubW9ycGhBdHRyaWJ1dGVzLG49T2JqZWN0LmtleXMoZSk7aWYobi5sZW5ndGg+MCl7Y29uc3QgdD1lW25bMF1dO2lmKHZvaWQgMCE9PXQpe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10W2VdLm5hbWV8fFN0cmluZyhlKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W25dPWV9fX19ZWxzZXtjb25zdCBlPXQubW9ycGhUYXJnZXRzO3ZvaWQgMCE9PWUmJmUubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5MaW5lLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLlwiKX19fSk7Y29uc3QgVGM9bmV3IEtuLEVjPW5ldyBLbjtmdW5jdGlvbiBBYyh0LGUpe1NjLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT1cIkxpbmVTZWdtZW50c1wifWZ1bmN0aW9uIExjKHQsZSl7U2MuY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPVwiTGluZUxvb3BcIn1mdW5jdGlvbiBSYyh0KXt3aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlBvaW50c01hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgeWkoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuc2l6ZT0xLHRoaXMuc2l6ZUF0dGVudWF0aW9uPSEwLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMuc2V0VmFsdWVzKHQpfUFjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoU2MucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QWMsaXNMaW5lU2VnbWVudHM6ITAsY29tcHV0ZUxpbmVEaXN0YW5jZXM6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnk7aWYodC5pc0J1ZmZlckdlb21ldHJ5KWlmKG51bGw9PT10LmluZGV4KXtjb25zdCBlPXQuYXR0cmlidXRlcy5wb3NpdGlvbixuPVtdO2ZvcihsZXQgdD0wLHI9ZS5jb3VudDt0PHI7dCs9MilUYy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCksRWMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQrMSksblt0XT0wPT09dD8wOm5bdC0xXSxuW3QrMV09blt0XStUYy5kaXN0YW5jZVRvKEVjKTt0LnNldEF0dHJpYnV0ZShcImxpbmVEaXN0YW5jZVwiLG5ldyBOaShuLDEpKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmVTZWdtZW50cy5jb21wdXRlTGluZURpc3RhbmNlcygpOiBDb21wdXRhdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggbm9uLWluZGV4ZWQgQnVmZmVyR2VvbWV0cnkuXCIpO2Vsc2UgaWYodC5pc0dlb21ldHJ5KXtjb25zdCBlPXQudmVydGljZXMsbj10LmxpbmVEaXN0YW5jZXM7Zm9yKGxldCB0PTAscj1lLmxlbmd0aDt0PHI7dCs9MilUYy5jb3B5KGVbdF0pLEVjLmNvcHkoZVt0KzFdKSxuW3RdPTA9PT10PzA6blt0LTFdLG5bdCsxXT1uW3RdK1RjLmRpc3RhbmNlVG8oRWMpfXJldHVybiB0aGlzfX0pLExjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoU2MucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TGMsaXNMaW5lTG9vcDohMH0pLFJjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSksUmMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVJjLFJjLnByb3RvdHlwZS5pc1BvaW50c01hdGVyaWFsPSEwLFJjLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLnNpemU9dC5zaXplLHRoaXMuc2l6ZUF0dGVudWF0aW9uPXQuc2l6ZUF0dGVudWF0aW9uLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXN9O2NvbnN0IFBjPW5ldyBUcixDYz1uZXcgU3IsSWM9bmV3IGdyLE9jPW5ldyBLbjtmdW5jdGlvbiBOYyh0LGUpe0pyLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUG9pbnRzXCIsdGhpcy5nZW9tZXRyeT12b2lkIDAhPT10P3Q6bmV3IHFpLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09ZT9lOm5ldyBSYyx0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfWZ1bmN0aW9uIERjKHQsZSxuLHIsaSxvLGEpe2NvbnN0IHM9Q2MuZGlzdGFuY2VTcVRvUG9pbnQodCk7aWYoczxuKXtjb25zdCBuPW5ldyBLbjtDYy5jbG9zZXN0UG9pbnRUb1BvaW50KHQsbiksbi5hcHBseU1hdHJpeDQocik7Y29uc3QgYz1pLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhuKTtpZihjPGkubmVhcnx8Yz5pLmZhcilyZXR1cm47by5wdXNoKHtkaXN0YW5jZTpjLGRpc3RhbmNlVG9SYXk6TWF0aC5zcXJ0KHMpLHBvaW50Om4saW5kZXg6ZSxmYWNlOm51bGwsb2JqZWN0OmF9KX19ZnVuY3Rpb24gQmModCxlLG4scixpLG8sYSxzLGMpe1duLmNhbGwodGhpcyx0LGUsbixyLGksbyxhLHMsYyksdGhpcy5mb3JtYXQ9dm9pZCAwIT09YT9hOkZ0LHRoaXMubWluRmlsdGVyPXZvaWQgMCE9PW8/bzp4dCx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1pP2k6eHQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITE7Y29uc3QgbD10aGlzO1wicmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFja1wiaW4gdCYmdC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKChmdW5jdGlvbiBlKCl7bC5uZWVkc1VwZGF0ZT0hMCx0LnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gRmModCxlLG4scixpLG8sYSxzLGMsbCx1LGgpe1duLmNhbGwodGhpcyxudWxsLG8sYSxzLGMsbCxyLGksdSxoKSx0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDpufSx0aGlzLm1pcG1hcHM9dCx0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfWZ1bmN0aW9uIFVjKHQsZSxuLHIsaSxvLGEscyxjKXtXbi5jYWxsKHRoaXMsdCxlLG4scixpLG8sYSxzLGMpLHRoaXMubmVlZHNVcGRhdGU9ITB9ZnVuY3Rpb24gemModCxlLG4scixpLG8sYSxzLGMsbCl7aWYoKGw9dm9pZCAwIT09bD9sOmt0KSE9PWt0JiZsIT09VnQpdGhyb3cgbmV3IEVycm9yKFwiRGVwdGhUZXh0dXJlIGZvcm1hdCBtdXN0IGJlIGVpdGhlciBUSFJFRS5EZXB0aEZvcm1hdCBvciBUSFJFRS5EZXB0aFN0ZW5jaWxGb3JtYXRcIik7dm9pZCAwPT09biYmbD09PWt0JiYobj1BdCksdm9pZCAwPT09biYmbD09PVZ0JiYobj1EdCksV24uY2FsbCh0aGlzLG51bGwscixpLG8sYSxzLGwsbixjKSx0aGlzLmltYWdlPXt3aWR0aDp0LGhlaWdodDplfSx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1hP2E6ZnQsdGhpcy5taW5GaWx0ZXI9dm9pZCAwIT09cz9zOmZ0LHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9TmMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShKci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpOYyxpc1BvaW50czohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBKci5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5tYXRlcmlhbD10Lm1hdGVyaWFsLHRoaXMuZ2VvbWV0cnk9dC5nZW9tZXRyeSx0aGlzfSxyYXljYXN0OmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLmdlb21ldHJ5LHI9dGhpcy5tYXRyaXhXb3JsZCxpPXQucGFyYW1zLlBvaW50cy50aHJlc2hvbGQ7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksSWMuY29weShuLmJvdW5kaW5nU3BoZXJlKSxJYy5hcHBseU1hdHJpeDQociksSWMucmFkaXVzKz1pLCExPT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShJYykpcmV0dXJuO1BjLmNvcHkocikuaW52ZXJ0KCksQ2MuY29weSh0LnJheSkuYXBwbHlNYXRyaXg0KFBjKTtjb25zdCBvPWkvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksYT1vKm87aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBpPW4uaW5kZXgsbz1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobnVsbCE9PWkpe2NvbnN0IG49aS5hcnJheTtmb3IobGV0IGk9MCxzPW4ubGVuZ3RoO2k8cztpKyspe2NvbnN0IHM9bltpXTtPYy5mcm9tQnVmZmVyQXR0cmlidXRlKG8scyksRGMoT2MscyxhLHIsdCxlLHRoaXMpfX1lbHNlIGZvcihsZXQgbj0wLGk9by5jb3VudDtuPGk7bisrKU9jLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxuKSxEYyhPYyxuLGEscix0LGUsdGhpcyl9ZWxzZXtjb25zdCBpPW4udmVydGljZXM7Zm9yKGxldCBuPTAsbz1pLmxlbmd0aDtuPG87bisrKURjKGlbbl0sbixhLHIsdCxlLHRoaXMpfX0sdXBkYXRlTW9ycGhUYXJnZXRzOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZT10Lm1vcnBoQXR0cmlidXRlcyxuPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoPjApe2NvbnN0IHQ9ZVtuWzBdXTtpZih2b2lkIDAhPT10KXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dFtlXS5uYW1lfHxTdHJpbmcoZSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuXT1lfX19fWVsc2V7Y29uc3QgZT10Lm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1lJiZlLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuUG9pbnRzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLlwiKX19fSksQmMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShXbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpCYyxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmltYWdlKS5jb3B5KHRoaXMpfSxpc1ZpZGVvVGV4dHVyZTohMCx1cGRhdGU6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuaW1hZ2U7ITE9PT1cInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2tcImluIHQmJnQucmVhZHlTdGF0ZT49dC5IQVZFX0NVUlJFTlRfREFUQSYmKHRoaXMubmVlZHNVcGRhdGU9ITApfX0pLEZjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFduLnByb3RvdHlwZSksRmMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZjLEZjLnByb3RvdHlwZS5pc0NvbXByZXNzZWRUZXh0dXJlPSEwLFVjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFduLnByb3RvdHlwZSksVWMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVVjLFVjLnByb3RvdHlwZS5pc0NhbnZhc1RleHR1cmU9ITAsemMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoV24ucHJvdG90eXBlKSx6Yy5wcm90b3R5cGUuY29uc3RydWN0b3I9emMsemMucHJvdG90eXBlLmlzRGVwdGhUZXh0dXJlPSEwO2xldCBHYz0wO2NvbnN0IEhjPW5ldyBUcixrYz1uZXcgSnIsVmM9bmV3IEtuO2Z1bmN0aW9uIGpjKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpHYys9Mn0pLHRoaXMudXVpZD16bi5nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9XCJcIix0aGlzLnR5cGU9XCJHZW9tZXRyeVwiLHRoaXMudmVydGljZXM9W10sdGhpcy5jb2xvcnM9W10sdGhpcy5mYWNlcz1bXSx0aGlzLmZhY2VWZXJ0ZXhVdnM9W1tdXSx0aGlzLm1vcnBoVGFyZ2V0cz1bXSx0aGlzLm1vcnBoTm9ybWFscz1bXSx0aGlzLnNraW5XZWlnaHRzPVtdLHRoaXMuc2tpbkluZGljZXM9W10sdGhpcy5saW5lRGlzdGFuY2VzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGwsdGhpcy5lbGVtZW50c05lZWRVcGRhdGU9ITEsdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9ITEsdGhpcy51dnNOZWVkVXBkYXRlPSExLHRoaXMubm9ybWFsc05lZWRVcGRhdGU9ITEsdGhpcy5jb2xvcnNOZWVkVXBkYXRlPSExLHRoaXMubGluZURpc3RhbmNlc05lZWRVcGRhdGU9ITEsdGhpcy5ncm91cHNOZWVkVXBkYXRlPSExfWpjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQm4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6amMsaXNHZW9tZXRyeTohMCxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7Y29uc3QgZT0obmV3IEhuKS5nZXROb3JtYWxNYXRyaXgodCk7Zm9yKGxldCBlPTAsbj10aGlzLnZlcnRpY2VzLmxlbmd0aDtlPG47ZSsrKXt0aGlzLnZlcnRpY2VzW2VdLmFwcGx5TWF0cml4NCh0KX1mb3IobGV0IHQ9MCxuPXRoaXMuZmFjZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IG49dGhpcy5mYWNlc1t0XTtuLm5vcm1hbC5hcHBseU1hdHJpeDMoZSkubm9ybWFsaXplKCk7Zm9yKGxldCB0PTAscj1uLnZlcnRleE5vcm1hbHMubGVuZ3RoO3Q8cjt0Kyspbi52ZXJ0ZXhOb3JtYWxzW3RdLmFwcGx5TWF0cml4MyhlKS5ub3JtYWxpemUoKX1yZXR1cm4gbnVsbCE9PXRoaXMuYm91bmRpbmdCb3gmJnRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksbnVsbCE9PXRoaXMuYm91bmRpbmdTcGhlcmUmJnRoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9ITAsdGhpcy5ub3JtYWxzTmVlZFVwZGF0ZT0hMCx0aGlzfSxyb3RhdGVYOmZ1bmN0aW9uKHQpe3JldHVybiBIYy5tYWtlUm90YXRpb25YKHQpLHRoaXMuYXBwbHlNYXRyaXg0KEhjKSx0aGlzfSxyb3RhdGVZOmZ1bmN0aW9uKHQpe3JldHVybiBIYy5tYWtlUm90YXRpb25ZKHQpLHRoaXMuYXBwbHlNYXRyaXg0KEhjKSx0aGlzfSxyb3RhdGVaOmZ1bmN0aW9uKHQpe3JldHVybiBIYy5tYWtlUm90YXRpb25aKHQpLHRoaXMuYXBwbHlNYXRyaXg0KEhjKSx0aGlzfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBIYy5tYWtlVHJhbnNsYXRpb24odCxlLG4pLHRoaXMuYXBwbHlNYXRyaXg0KEhjKSx0aGlzfSxzY2FsZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIEhjLm1ha2VTY2FsZSh0LGUsbiksdGhpcy5hcHBseU1hdHJpeDQoSGMpLHRoaXN9LGxvb2tBdDpmdW5jdGlvbih0KXtyZXR1cm4ga2MubG9va0F0KHQpLGtjLnVwZGF0ZU1hdHJpeCgpLHRoaXMuYXBwbHlNYXRyaXg0KGtjLm1hdHJpeCksdGhpc30sZnJvbUJ1ZmZlckdlb21ldHJ5OmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcyxuPW51bGwhPT10LmluZGV4P3QuaW5kZXg6dm9pZCAwLHI9dC5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PXIucG9zaXRpb24pcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5HZW9tZXRyeS5mcm9tQnVmZmVyR2VvbWV0cnkoKTogUG9zaXRpb24gYXR0cmlidXRlIHJlcXVpcmVkIGZvciBjb252ZXJzaW9uLlwiKSx0aGlzO2NvbnN0IGk9ci5wb3NpdGlvbixvPXIubm9ybWFsLGE9ci5jb2xvcixzPXIudXYsYz1yLnV2Mjt2b2lkIDAhPT1jJiYodGhpcy5mYWNlVmVydGV4VXZzWzFdPVtdKTtmb3IobGV0IHQ9MDt0PGkuY291bnQ7dCsrKWUudmVydGljZXMucHVzaCgobmV3IEtuKS5mcm9tQnVmZmVyQXR0cmlidXRlKGksdCkpLHZvaWQgMCE9PWEmJmUuY29sb3JzLnB1c2goKG5ldyB5aSkuZnJvbUJ1ZmZlckF0dHJpYnV0ZShhLHQpKTtmdW5jdGlvbiBsKHQsbixyLGkpe2NvbnN0IGw9dm9pZCAwPT09YT9bXTpbZS5jb2xvcnNbdF0uY2xvbmUoKSxlLmNvbG9yc1tuXS5jbG9uZSgpLGUuY29sb3JzW3JdLmNsb25lKCldLHU9dm9pZCAwPT09bz9bXTpbKG5ldyBLbikuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLHQpLChuZXcgS24pLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxuKSwobmV3IEtuKS5mcm9tQnVmZmVyQXR0cmlidXRlKG8scildLGg9bmV3IHhpKHQsbixyLHUsbCxpKTtlLmZhY2VzLnB1c2goaCksdm9pZCAwIT09cyYmZS5mYWNlVmVydGV4VXZzWzBdLnB1c2goWyhuZXcgR24pLmZyb21CdWZmZXJBdHRyaWJ1dGUocyx0KSwobmV3IEduKS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsbiksKG5ldyBHbikuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLHIpXSksdm9pZCAwIT09YyYmZS5mYWNlVmVydGV4VXZzWzFdLnB1c2goWyhuZXcgR24pLmZyb21CdWZmZXJBdHRyaWJ1dGUoYyx0KSwobmV3IEduKS5mcm9tQnVmZmVyQXR0cmlidXRlKGMsbiksKG5ldyBHbikuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLHIpXSl9Y29uc3QgdT10Lmdyb3VwcztpZih1Lmxlbmd0aD4wKWZvcihsZXQgdD0wO3Q8dS5sZW5ndGg7dCsrKXtjb25zdCBlPXVbdF0scj1lLnN0YXJ0O2ZvcihsZXQgdD1yLGk9citlLmNvdW50O3Q8aTt0Kz0zKXZvaWQgMCE9PW4/bChuLmdldFgodCksbi5nZXRYKHQrMSksbi5nZXRYKHQrMiksZS5tYXRlcmlhbEluZGV4KTpsKHQsdCsxLHQrMixlLm1hdGVyaWFsSW5kZXgpfWVsc2UgaWYodm9pZCAwIT09bilmb3IobGV0IHQ9MDt0PG4uY291bnQ7dCs9MylsKG4uZ2V0WCh0KSxuLmdldFgodCsxKSxuLmdldFgodCsyKSk7ZWxzZSBmb3IobGV0IHQ9MDt0PGkuY291bnQ7dCs9MylsKHQsdCsxLHQrMik7cmV0dXJuIHRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCksbnVsbCE9PXQuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PXQuYm91bmRpbmdCb3guY2xvbmUoKSksbnVsbCE9PXQuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPXQuYm91bmRpbmdTcGhlcmUuY2xvbmUoKSksdGhpc30sY2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoVmMpLm5lZ2F0ZSgpLHRoaXMudHJhbnNsYXRlKFZjLngsVmMueSxWYy56KSx0aGlzfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO2NvbnN0IHQ9dGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXIsZT10aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cyxuPTA9PT1lPzE6MS9lLHI9bmV3IFRyO3JldHVybiByLnNldChuLDAsMCwtbip0LngsMCxuLDAsLW4qdC55LDAsMCxuLC1uKnQueiwwLDAsMCwxKSx0aGlzLmFwcGx5TWF0cml4NChyKSx0aGlzfSxjb21wdXRlRmFjZU5vcm1hbHM6ZnVuY3Rpb24oKXtjb25zdCB0PW5ldyBLbixlPW5ldyBLbjtmb3IobGV0IG49MCxyPXRoaXMuZmFjZXMubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9dGhpcy5mYWNlc1tuXSxpPXRoaXMudmVydGljZXNbci5hXSxvPXRoaXMudmVydGljZXNbci5iXSxhPXRoaXMudmVydGljZXNbci5jXTt0LnN1YlZlY3RvcnMoYSxvKSxlLnN1YlZlY3RvcnMoaSxvKSx0LmNyb3NzKGUpLHQubm9ybWFsaXplKCksci5ub3JtYWwuY29weSh0KX19LGNvbXB1dGVWZXJ0ZXhOb3JtYWxzOmZ1bmN0aW9uKHQ9ITApe2NvbnN0IGU9bmV3IEFycmF5KHRoaXMudmVydGljZXMubGVuZ3RoKTtmb3IobGV0IHQ9MCxuPXRoaXMudmVydGljZXMubGVuZ3RoO3Q8bjt0KyspZVt0XT1uZXcgS247aWYodCl7Y29uc3QgdD1uZXcgS24sbj1uZXcgS247Zm9yKGxldCByPTAsaT10aGlzLmZhY2VzLmxlbmd0aDtyPGk7cisrKXtjb25zdCBpPXRoaXMuZmFjZXNbcl0sbz10aGlzLnZlcnRpY2VzW2kuYV0sYT10aGlzLnZlcnRpY2VzW2kuYl0scz10aGlzLnZlcnRpY2VzW2kuY107dC5zdWJWZWN0b3JzKHMsYSksbi5zdWJWZWN0b3JzKG8sYSksdC5jcm9zcyhuKSxlW2kuYV0uYWRkKHQpLGVbaS5iXS5hZGQodCksZVtpLmNdLmFkZCh0KX19ZWxzZXt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO2ZvcihsZXQgdD0wLG49dGhpcy5mYWNlcy5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj10aGlzLmZhY2VzW3RdO2Vbbi5hXS5hZGQobi5ub3JtYWwpLGVbbi5iXS5hZGQobi5ub3JtYWwpLGVbbi5jXS5hZGQobi5ub3JtYWwpfX1mb3IobGV0IHQ9MCxuPXRoaXMudmVydGljZXMubGVuZ3RoO3Q8bjt0KyspZVt0XS5ub3JtYWxpemUoKTtmb3IobGV0IHQ9MCxuPXRoaXMuZmFjZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IG49dGhpcy5mYWNlc1t0XSxyPW4udmVydGV4Tm9ybWFsczszPT09ci5sZW5ndGg/KHJbMF0uY29weShlW24uYV0pLHJbMV0uY29weShlW24uYl0pLHJbMl0uY29weShlW24uY10pKTooclswXT1lW24uYV0uY2xvbmUoKSxyWzFdPWVbbi5iXS5jbG9uZSgpLHJbMl09ZVtuLmNdLmNsb25lKCkpfXRoaXMuZmFjZXMubGVuZ3RoPjAmJih0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSEwKX0sY29tcHV0ZUZsYXRWZXJ0ZXhOb3JtYWxzOmZ1bmN0aW9uKCl7dGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTtmb3IobGV0IHQ9MCxlPXRoaXMuZmFjZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5mYWNlc1t0XSxuPWUudmVydGV4Tm9ybWFsczszPT09bi5sZW5ndGg/KG5bMF0uY29weShlLm5vcm1hbCksblsxXS5jb3B5KGUubm9ybWFsKSxuWzJdLmNvcHkoZS5ub3JtYWwpKTooblswXT1lLm5vcm1hbC5jbG9uZSgpLG5bMV09ZS5ub3JtYWwuY2xvbmUoKSxuWzJdPWUubm9ybWFsLmNsb25lKCkpfXRoaXMuZmFjZXMubGVuZ3RoPjAmJih0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSEwKX0sY29tcHV0ZU1vcnBoTm9ybWFsczpmdW5jdGlvbigpe2ZvcihsZXQgdD0wLGU9dGhpcy5mYWNlcy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT10aGlzLmZhY2VzW3RdO2UuX19vcmlnaW5hbEZhY2VOb3JtYWw/ZS5fX29yaWdpbmFsRmFjZU5vcm1hbC5jb3B5KGUubm9ybWFsKTplLl9fb3JpZ2luYWxGYWNlTm9ybWFsPWUubm9ybWFsLmNsb25lKCksZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc3x8KGUuX19vcmlnaW5hbFZlcnRleE5vcm1hbHM9W10pO2ZvcihsZXQgdD0wLG49ZS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDt0PG47dCsrKWUuX19vcmlnaW5hbFZlcnRleE5vcm1hbHNbdF0/ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1t0XS5jb3B5KGUudmVydGV4Tm9ybWFsc1t0XSk6ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1t0XT1lLnZlcnRleE5vcm1hbHNbdF0uY2xvbmUoKX1jb25zdCB0PW5ldyBqYzt0LmZhY2VzPXRoaXMuZmFjZXM7Zm9yKGxldCBlPTAsbj10aGlzLm1vcnBoVGFyZ2V0cy5sZW5ndGg7ZTxuO2UrKyl7aWYoIXRoaXMubW9ycGhOb3JtYWxzW2VdKXt0aGlzLm1vcnBoTm9ybWFsc1tlXT17fSx0aGlzLm1vcnBoTm9ybWFsc1tlXS5mYWNlTm9ybWFscz1bXSx0aGlzLm1vcnBoTm9ybWFsc1tlXS52ZXJ0ZXhOb3JtYWxzPVtdO2NvbnN0IHQ9dGhpcy5tb3JwaE5vcm1hbHNbZV0uZmFjZU5vcm1hbHMsbj10aGlzLm1vcnBoTm9ybWFsc1tlXS52ZXJ0ZXhOb3JtYWxzO2ZvcihsZXQgZT0wLHI9dGhpcy5mYWNlcy5sZW5ndGg7ZTxyO2UrKyl7Y29uc3QgZT1uZXcgS24scj17YTpuZXcgS24sYjpuZXcgS24sYzpuZXcgS259O3QucHVzaChlKSxuLnB1c2gocil9fWNvbnN0IG49dGhpcy5tb3JwaE5vcm1hbHNbZV07dC52ZXJ0aWNlcz10aGlzLm1vcnBoVGFyZ2V0c1tlXS52ZXJ0aWNlcyx0LmNvbXB1dGVGYWNlTm9ybWFscygpLHQuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtmb3IobGV0IHQ9MCxlPXRoaXMuZmFjZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5mYWNlc1t0XSxyPW4uZmFjZU5vcm1hbHNbdF0saT1uLnZlcnRleE5vcm1hbHNbdF07ci5jb3B5KGUubm9ybWFsKSxpLmEuY29weShlLnZlcnRleE5vcm1hbHNbMF0pLGkuYi5jb3B5KGUudmVydGV4Tm9ybWFsc1sxXSksaS5jLmNvcHkoZS52ZXJ0ZXhOb3JtYWxzWzJdKX19Zm9yKGxldCB0PTAsZT10aGlzLmZhY2VzLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXRoaXMuZmFjZXNbdF07ZS5ub3JtYWw9ZS5fX29yaWdpbmFsRmFjZU5vcm1hbCxlLnZlcnRleE5vcm1hbHM9ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc319LGNvbXB1dGVCb3VuZGluZ0JveDpmdW5jdGlvbigpe251bGw9PT10aGlzLmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD1uZXcgdHIpLHRoaXMuYm91bmRpbmdCb3guc2V0RnJvbVBvaW50cyh0aGlzLnZlcnRpY2VzKX0sY29tcHV0ZUJvdW5kaW5nU3BoZXJlOmZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBnciksdGhpcy5ib3VuZGluZ1NwaGVyZS5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMpfSxtZXJnZTpmdW5jdGlvbih0LGUsbj0wKXtpZighdHx8IXQuaXNHZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkdlb21ldHJ5LlwiLHQpO2xldCByO2NvbnN0IGk9dGhpcy52ZXJ0aWNlcy5sZW5ndGgsbz10aGlzLnZlcnRpY2VzLGE9dC52ZXJ0aWNlcyxzPXRoaXMuZmFjZXMsYz10LmZhY2VzLGw9dGhpcy5jb2xvcnMsdT10LmNvbG9yczt2b2lkIDAhPT1lJiYocj0obmV3IEhuKS5nZXROb3JtYWxNYXRyaXgoZSkpO2ZvcihsZXQgdD0wLG49YS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1hW3RdLmNsb25lKCk7dm9pZCAwIT09ZSYmbi5hcHBseU1hdHJpeDQoZSksby5wdXNoKG4pfWZvcihsZXQgdD0wLGU9dS5sZW5ndGg7dDxlO3QrKylsLnB1c2godVt0XS5jbG9uZSgpKTtmb3IobGV0IHQ9MCxlPWMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9Y1t0XTtsZXQgbyxhO2NvbnN0IGw9ZS52ZXJ0ZXhOb3JtYWxzLHU9ZS52ZXJ0ZXhDb2xvcnMsaD1uZXcgeGkoZS5hK2ksZS5iK2ksZS5jK2kpO2gubm9ybWFsLmNvcHkoZS5ub3JtYWwpLHZvaWQgMCE9PXImJmgubm9ybWFsLmFwcGx5TWF0cml4MyhyKS5ub3JtYWxpemUoKTtmb3IobGV0IHQ9MCxlPWwubGVuZ3RoO3Q8ZTt0Kyspbz1sW3RdLmNsb25lKCksdm9pZCAwIT09ciYmby5hcHBseU1hdHJpeDMocikubm9ybWFsaXplKCksaC52ZXJ0ZXhOb3JtYWxzLnB1c2gobyk7aC5jb2xvci5jb3B5KGUuY29sb3IpO2ZvcihsZXQgdD0wLGU9dS5sZW5ndGg7dDxlO3QrKylhPXVbdF0saC52ZXJ0ZXhDb2xvcnMucHVzaChhLmNsb25lKCkpO2gubWF0ZXJpYWxJbmRleD1lLm1hdGVyaWFsSW5kZXgrbixzLnB1c2goaCl9Zm9yKGxldCBlPTAsbj10LmZhY2VWZXJ0ZXhVdnMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dC5mYWNlVmVydGV4VXZzW2VdO3ZvaWQgMD09PXRoaXMuZmFjZVZlcnRleFV2c1tlXSYmKHRoaXMuZmFjZVZlcnRleFV2c1tlXT1bXSk7Zm9yKGxldCB0PTAscj1uLmxlbmd0aDt0PHI7dCsrKXtjb25zdCByPW5bdF0saT1bXTtmb3IobGV0IHQ9MCxlPXIubGVuZ3RoO3Q8ZTt0KyspaS5wdXNoKHJbdF0uY2xvbmUoKSk7dGhpcy5mYWNlVmVydGV4VXZzW2VdLnB1c2goaSl9fX0sbWVyZ2VNZXNoOmZ1bmN0aW9uKHQpe3QmJnQuaXNNZXNoPyh0Lm1hdHJpeEF1dG9VcGRhdGUmJnQudXBkYXRlTWF0cml4KCksdGhpcy5tZXJnZSh0Lmdlb21ldHJ5LHQubWF0cml4KSk6Y29uc29sZS5lcnJvcihcIlRIUkVFLkdlb21ldHJ5Lm1lcmdlTWVzaCgpOiBtZXNoIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5NZXNoLlwiLHQpfSxtZXJnZVZlcnRpY2VzOmZ1bmN0aW9uKHQ9NCl7Y29uc3QgZT17fSxuPVtdLHI9W10saT1NYXRoLnBvdygxMCx0KTtmb3IobGV0IHQ9MCxvPXRoaXMudmVydGljZXMubGVuZ3RoO3Q8bzt0Kyspe2NvbnN0IG89dGhpcy52ZXJ0aWNlc1t0XSxhPU1hdGgucm91bmQoby54KmkpK1wiX1wiK01hdGgucm91bmQoby55KmkpK1wiX1wiK01hdGgucm91bmQoby56KmkpO3ZvaWQgMD09PWVbYV0/KGVbYV09dCxuLnB1c2godGhpcy52ZXJ0aWNlc1t0XSksclt0XT1uLmxlbmd0aC0xKTpyW3RdPXJbZVthXV19Y29uc3Qgbz1bXTtmb3IobGV0IHQ9MCxlPXRoaXMuZmFjZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5mYWNlc1t0XTtlLmE9cltlLmFdLGUuYj1yW2UuYl0sZS5jPXJbZS5jXTtjb25zdCBuPVtlLmEsZS5iLGUuY107Zm9yKGxldCBlPTA7ZTwzO2UrKylpZihuW2VdPT09blsoZSsxKSUzXSl7by5wdXNoKHQpO2JyZWFrfX1mb3IobGV0IHQ9by5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3QgZT1vW3RdO3RoaXMuZmFjZXMuc3BsaWNlKGUsMSk7Zm9yKGxldCB0PTAsbj10aGlzLmZhY2VWZXJ0ZXhVdnMubGVuZ3RoO3Q8bjt0KyspdGhpcy5mYWNlVmVydGV4VXZzW3RdLnNwbGljZShlLDEpfWNvbnN0IGE9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtbi5sZW5ndGg7cmV0dXJuIHRoaXMudmVydGljZXM9bixhfSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKHQpe3RoaXMudmVydGljZXM9W107Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRbZV07dGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBLbihuLngsbi55LG4uenx8MCkpfXJldHVybiB0aGlzfSxzb3J0RmFjZXNCeU1hdGVyaWFsSW5kZXg6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuZmFjZXMsZT10Lmxlbmd0aDtmb3IobGV0IG49MDtuPGU7bisrKXRbbl0uX2lkPW47dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm1hdGVyaWFsSW5kZXgtZS5tYXRlcmlhbEluZGV4fSkpO2NvbnN0IG49dGhpcy5mYWNlVmVydGV4VXZzWzBdLHI9dGhpcy5mYWNlVmVydGV4VXZzWzFdO2xldCBpLG87biYmbi5sZW5ndGg9PT1lJiYoaT1bXSksciYmci5sZW5ndGg9PT1lJiYobz1bXSk7Zm9yKGxldCBhPTA7YTxlO2ErKyl7Y29uc3QgZT10W2FdLl9pZDtpJiZpLnB1c2gobltlXSksbyYmby5wdXNoKHJbZV0pfWkmJih0aGlzLmZhY2VWZXJ0ZXhVdnNbMF09aSksbyYmKHRoaXMuZmFjZVZlcnRleFV2c1sxXT1vKX0sdG9KU09OOmZ1bmN0aW9uKCl7Y29uc3QgdD17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6XCJHZW9tZXRyeVwiLGdlbmVyYXRvcjpcIkdlb21ldHJ5LnRvSlNPTlwifX07aWYodC51dWlkPXRoaXMudXVpZCx0LnR5cGU9dGhpcy50eXBlLFwiXCIhPT10aGlzLm5hbWUmJih0Lm5hbWU9dGhpcy5uYW1lKSx2b2lkIDAhPT10aGlzLnBhcmFtZXRlcnMpe2NvbnN0IGU9dGhpcy5wYXJhbWV0ZXJzO2Zvcihjb25zdCBuIGluIGUpdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PHRoaXMudmVydGljZXMubGVuZ3RoO3QrKyl7Y29uc3Qgbj10aGlzLnZlcnRpY2VzW3RdO2UucHVzaChuLngsbi55LG4ueil9Y29uc3Qgbj1bXSxyPVtdLGk9e30sbz1bXSxhPXt9LHM9W10sYz17fTtmb3IobGV0IHQ9MDt0PHRoaXMuZmFjZXMubGVuZ3RoO3QrKyl7Y29uc3QgZT10aGlzLmZhY2VzW3RdLHI9ITAsaT0hMSxvPXZvaWQgMCE9PXRoaXMuZmFjZVZlcnRleFV2c1swXVt0XSxhPWUubm9ybWFsLmxlbmd0aCgpPjAscz1lLnZlcnRleE5vcm1hbHMubGVuZ3RoPjAsYz0xIT09ZS5jb2xvci5yfHwxIT09ZS5jb2xvci5nfHwxIT09ZS5jb2xvci5iLHA9ZS52ZXJ0ZXhDb2xvcnMubGVuZ3RoPjA7bGV0IGY9MDtpZihmPWwoZiwwLDApLGY9bChmLDEsciksZj1sKGYsMixpKSxmPWwoZiwzLG8pLGY9bChmLDQsYSksZj1sKGYsNSxzKSxmPWwoZiw2LGMpLGY9bChmLDcscCksbi5wdXNoKGYpLG4ucHVzaChlLmEsZS5iLGUuYyksbi5wdXNoKGUubWF0ZXJpYWxJbmRleCksbyl7Y29uc3QgZT10aGlzLmZhY2VWZXJ0ZXhVdnNbMF1bdF07bi5wdXNoKGQoZVswXSksZChlWzFdKSxkKGVbMl0pKX1pZihhJiZuLnB1c2godShlLm5vcm1hbCkpLHMpe2NvbnN0IHQ9ZS52ZXJ0ZXhOb3JtYWxzO24ucHVzaCh1KHRbMF0pLHUodFsxXSksdSh0WzJdKSl9aWYoYyYmbi5wdXNoKGgoZS5jb2xvcikpLHApe2NvbnN0IHQ9ZS52ZXJ0ZXhDb2xvcnM7bi5wdXNoKGgodFswXSksaCh0WzFdKSxoKHRbMl0pKX19ZnVuY3Rpb24gbCh0LGUsbil7cmV0dXJuIG4/dHwxPDxlOnQmfigxPDxlKX1mdW5jdGlvbiB1KHQpe2NvbnN0IGU9dC54LnRvU3RyaW5nKCkrdC55LnRvU3RyaW5nKCkrdC56LnRvU3RyaW5nKCk7cmV0dXJuIHZvaWQgMCE9PWlbZV18fChpW2VdPXIubGVuZ3RoLzMsci5wdXNoKHQueCx0LnksdC56KSksaVtlXX1mdW5jdGlvbiBoKHQpe2NvbnN0IGU9dC5yLnRvU3RyaW5nKCkrdC5nLnRvU3RyaW5nKCkrdC5iLnRvU3RyaW5nKCk7cmV0dXJuIHZvaWQgMCE9PWFbZV18fChhW2VdPW8ubGVuZ3RoLG8ucHVzaCh0LmdldEhleCgpKSksYVtlXX1mdW5jdGlvbiBkKHQpe2NvbnN0IGU9dC54LnRvU3RyaW5nKCkrdC55LnRvU3RyaW5nKCk7cmV0dXJuIHZvaWQgMCE9PWNbZV18fChjW2VdPXMubGVuZ3RoLzIscy5wdXNoKHQueCx0LnkpKSxjW2VdfXJldHVybiB0LmRhdGE9e30sdC5kYXRhLnZlcnRpY2VzPWUsdC5kYXRhLm5vcm1hbHM9cixvLmxlbmd0aD4wJiYodC5kYXRhLmNvbG9ycz1vKSxzLmxlbmd0aD4wJiYodC5kYXRhLnV2cz1bc10pLHQuZGF0YS5mYWNlcz1uLHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBqYykuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbih0KXt0aGlzLnZlcnRpY2VzPVtdLHRoaXMuY29sb3JzPVtdLHRoaXMuZmFjZXM9W10sdGhpcy5mYWNlVmVydGV4VXZzPVtbXV0sdGhpcy5tb3JwaFRhcmdldHM9W10sdGhpcy5tb3JwaE5vcm1hbHM9W10sdGhpcy5za2luV2VpZ2h0cz1bXSx0aGlzLnNraW5JbmRpY2VzPVtdLHRoaXMubGluZURpc3RhbmNlcz1bXSx0aGlzLmJvdW5kaW5nQm94PW51bGwsdGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsLHRoaXMubmFtZT10Lm5hbWU7Y29uc3QgZT10LnZlcnRpY2VzO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLnZlcnRpY2VzLnB1c2goZVt0XS5jbG9uZSgpKTtjb25zdCBuPXQuY29sb3JzO2ZvcihsZXQgdD0wLGU9bi5sZW5ndGg7dDxlO3QrKyl0aGlzLmNvbG9ycy5wdXNoKG5bdF0uY2xvbmUoKSk7Y29uc3Qgcj10LmZhY2VzO2ZvcihsZXQgdD0wLGU9ci5sZW5ndGg7dDxlO3QrKyl0aGlzLmZhY2VzLnB1c2goclt0XS5jbG9uZSgpKTtmb3IobGV0IGU9MCxuPXQuZmFjZVZlcnRleFV2cy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LmZhY2VWZXJ0ZXhVdnNbZV07dm9pZCAwPT09dGhpcy5mYWNlVmVydGV4VXZzW2VdJiYodGhpcy5mYWNlVmVydGV4VXZzW2VdPVtdKTtmb3IobGV0IHQ9MCxyPW4ubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHI9blt0XSxpPVtdO2ZvcihsZXQgdD0wLGU9ci5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1yW3RdO2kucHVzaChlLmNsb25lKCkpfXRoaXMuZmFjZVZlcnRleFV2c1tlXS5wdXNoKGkpfX1jb25zdCBpPXQubW9ycGhUYXJnZXRzO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT17fTtpZihlLm5hbWU9aVt0XS5uYW1lLHZvaWQgMCE9PWlbdF0udmVydGljZXMpe2UudmVydGljZXM9W107Zm9yKGxldCBuPTAscj1pW3RdLnZlcnRpY2VzLmxlbmd0aDtuPHI7bisrKWUudmVydGljZXMucHVzaChpW3RdLnZlcnRpY2VzW25dLmNsb25lKCkpfWlmKHZvaWQgMCE9PWlbdF0ubm9ybWFscyl7ZS5ub3JtYWxzPVtdO2ZvcihsZXQgbj0wLHI9aVt0XS5ub3JtYWxzLmxlbmd0aDtuPHI7bisrKWUubm9ybWFscy5wdXNoKGlbdF0ubm9ybWFsc1tuXS5jbG9uZSgpKX10aGlzLm1vcnBoVGFyZ2V0cy5wdXNoKGUpfWNvbnN0IG89dC5tb3JwaE5vcm1hbHM7Zm9yKGxldCB0PTAsZT1vLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXt9O2lmKHZvaWQgMCE9PW9bdF0udmVydGV4Tm9ybWFscyl7ZS52ZXJ0ZXhOb3JtYWxzPVtdO2ZvcihsZXQgbj0wLHI9b1t0XS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDtuPHI7bisrKXtjb25zdCByPW9bdF0udmVydGV4Tm9ybWFsc1tuXSxpPXt9O2kuYT1yLmEuY2xvbmUoKSxpLmI9ci5iLmNsb25lKCksaS5jPXIuYy5jbG9uZSgpLGUudmVydGV4Tm9ybWFscy5wdXNoKGkpfX1pZih2b2lkIDAhPT1vW3RdLmZhY2VOb3JtYWxzKXtlLmZhY2VOb3JtYWxzPVtdO2ZvcihsZXQgbj0wLHI9b1t0XS5mYWNlTm9ybWFscy5sZW5ndGg7bjxyO24rKyllLmZhY2VOb3JtYWxzLnB1c2gob1t0XS5mYWNlTm9ybWFsc1tuXS5jbG9uZSgpKX10aGlzLm1vcnBoTm9ybWFscy5wdXNoKGUpfWNvbnN0IGE9dC5za2luV2VpZ2h0cztmb3IobGV0IHQ9MCxlPWEubGVuZ3RoO3Q8ZTt0KyspdGhpcy5za2luV2VpZ2h0cy5wdXNoKGFbdF0uY2xvbmUoKSk7Y29uc3Qgcz10LnNraW5JbmRpY2VzO2ZvcihsZXQgdD0wLGU9cy5sZW5ndGg7dDxlO3QrKyl0aGlzLnNraW5JbmRpY2VzLnB1c2goc1t0XS5jbG9uZSgpKTtjb25zdCBjPXQubGluZURpc3RhbmNlcztmb3IobGV0IHQ9MCxlPWMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5saW5lRGlzdGFuY2VzLnB1c2goY1t0XSk7Y29uc3QgbD10LmJvdW5kaW5nQm94O251bGwhPT1sJiYodGhpcy5ib3VuZGluZ0JveD1sLmNsb25lKCkpO2NvbnN0IHU9dC5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbnVsbCE9PXUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPXUuY2xvbmUoKSksdGhpcy5lbGVtZW50c05lZWRVcGRhdGU9dC5lbGVtZW50c05lZWRVcGRhdGUsdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9dC52ZXJ0aWNlc05lZWRVcGRhdGUsdGhpcy51dnNOZWVkVXBkYXRlPXQudXZzTmVlZFVwZGF0ZSx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPXQubm9ybWFsc05lZWRVcGRhdGUsdGhpcy5jb2xvcnNOZWVkVXBkYXRlPXQuY29sb3JzTmVlZFVwZGF0ZSx0aGlzLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPXQubGluZURpc3RhbmNlc05lZWRVcGRhdGUsdGhpcy5ncm91cHNOZWVkVXBkYXRlPXQuZ3JvdXBzTmVlZFVwZGF0ZSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fSk7Y2xhc3MgV2MgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUsbixyLGksbyl7c3VwZXIoKSx0aGlzLnR5cGU9XCJCb3hHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17d2lkdGg6dCxoZWlnaHQ6ZSxkZXB0aDpuLHdpZHRoU2VnbWVudHM6cixoZWlnaHRTZWdtZW50czppLGRlcHRoU2VnbWVudHM6b30sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IG1vKHQsZSxuLHIsaSxvKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9fWNsYXNzIFhjIGV4dGVuZHMgcWl7Y29uc3RydWN0b3IodD0xLGU9OCxuPTAscj0yKk1hdGguUEkpe3N1cGVyKCksdGhpcy50eXBlPVwiQ2lyY2xlQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHNlZ21lbnRzOmUsdGhldGFTdGFydDpuLHRoZXRhTGVuZ3RoOnJ9LGU9TWF0aC5tYXgoMyxlKTtjb25zdCBpPVtdLG89W10sYT1bXSxzPVtdLGM9bmV3IEtuLGw9bmV3IEduO28ucHVzaCgwLDAsMCksYS5wdXNoKDAsMCwxKSxzLnB1c2goLjUsLjUpO2ZvcihsZXQgaT0wLHU9MztpPD1lO2krKyx1Kz0zKXtjb25zdCBoPW4raS9lKnI7Yy54PXQqTWF0aC5jb3MoaCksYy55PXQqTWF0aC5zaW4oaCksby5wdXNoKGMueCxjLnksYy56KSxhLnB1c2goMCwwLDEpLGwueD0ob1t1XS90KzEpLzIsbC55PShvW3UrMV0vdCsxKS8yLHMucHVzaChsLngsbC55KX1mb3IobGV0IHQ9MTt0PD1lO3QrKylpLnB1c2godCx0KzEsMCk7dGhpcy5zZXRJbmRleChpKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKG8sMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IE5pKGEsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgTmkocywyKSl9fWNsYXNzIHFjIGV4dGVuZHMgamN7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIoKSx0aGlzLnR5cGU9XCJDaXJjbGVHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsc2VnbWVudHM6ZSx0aGV0YVN0YXJ0Om4sdGhldGFMZW5ndGg6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFhjKHQsZSxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX19Y2xhc3MgWWMgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0PTEsZT0xLG49MSxyPTgsaT0xLG89ITEsYT0wLHM9MipNYXRoLlBJKXtzdXBlcigpLHRoaXMudHlwZT1cIkN5bGluZGVyQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1c1RvcDp0LHJhZGl1c0JvdHRvbTplLGhlaWdodDpuLHJhZGlhbFNlZ21lbnRzOnIsaGVpZ2h0U2VnbWVudHM6aSxvcGVuRW5kZWQ6byx0aGV0YVN0YXJ0OmEsdGhldGFMZW5ndGg6c307Y29uc3QgYz10aGlzO3I9TWF0aC5mbG9vcihyKSxpPU1hdGguZmxvb3IoaSk7Y29uc3QgbD1bXSx1PVtdLGg9W10sZD1bXTtsZXQgcD0wO2NvbnN0IGY9W10sbT1uLzI7bGV0IGc9MDtmdW5jdGlvbiB2KG4pe2NvbnN0IGk9cCxvPW5ldyBHbixmPW5ldyBLbjtsZXQgdj0wO2NvbnN0IHk9ITA9PT1uP3Q6ZSx4PSEwPT09bj8xOi0xO2ZvcihsZXQgdD0xO3Q8PXI7dCsrKXUucHVzaCgwLG0qeCwwKSxoLnB1c2goMCx4LDApLGQucHVzaCguNSwuNSkscCsrO2NvbnN0IGI9cDtmb3IobGV0IHQ9MDt0PD1yO3QrKyl7Y29uc3QgZT10L3IqcythLG49TWF0aC5jb3MoZSksaT1NYXRoLnNpbihlKTtmLng9eSppLGYueT1tKngsZi56PXkqbix1LnB1c2goZi54LGYueSxmLnopLGgucHVzaCgwLHgsMCksby54PS41Km4rLjUsby55PS41KmkqeCsuNSxkLnB1c2goby54LG8ueSkscCsrfWZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IGU9aSt0LHI9Yit0OyEwPT09bj9sLnB1c2gocixyKzEsZSk6bC5wdXNoKHIrMSxyLGUpLHYrPTN9Yy5hZGRHcm91cChnLHYsITA9PT1uPzE6MiksZys9dn0hZnVuY3Rpb24oKXtjb25zdCBvPW5ldyBLbix2PW5ldyBLbjtsZXQgeT0wO2NvbnN0IHg9KGUtdCkvbjtmb3IobGV0IGM9MDtjPD1pO2MrKyl7Y29uc3QgbD1bXSxnPWMvaSx5PWcqKGUtdCkrdDtmb3IobGV0IHQ9MDt0PD1yO3QrKyl7Y29uc3QgZT10L3IsaT1lKnMrYSxjPU1hdGguc2luKGkpLGY9TWF0aC5jb3MoaSk7di54PXkqYyx2Lnk9LWcqbittLHYuej15KmYsdS5wdXNoKHYueCx2Lnksdi56KSxvLnNldChjLHgsZikubm9ybWFsaXplKCksaC5wdXNoKG8ueCxvLnksby56KSxkLnB1c2goZSwxLWcpLGwucHVzaChwKyspfWYucHVzaChsKX1mb3IobGV0IHQ9MDt0PHI7dCsrKWZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IG49ZltlXVt0XSxyPWZbZSsxXVt0XSxpPWZbZSsxXVt0KzFdLG89ZltlXVt0KzFdO2wucHVzaChuLHIsbyksbC5wdXNoKHIsaSxvKSx5Kz02fWMuYWRkR3JvdXAoZyx5LDApLGcrPXl9KCksITE9PT1vJiYodD4wJiZ2KCEwKSxlPjAmJnYoITEpKSx0aGlzLnNldEluZGV4KGwpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkodSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgTmkoaCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBOaShkLDIpKX19Y2xhc3MgWmMgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUsbixyLGksbyxhLHMpe3N1cGVyKCksdGhpcy50eXBlPVwiQ3lsaW5kZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzVG9wOnQscmFkaXVzQm90dG9tOmUsaGVpZ2h0Om4scmFkaWFsU2VnbWVudHM6cixoZWlnaHRTZWdtZW50czppLG9wZW5FbmRlZDpvLHRoZXRhU3RhcnQ6YSx0aGV0YUxlbmd0aDpzfSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgWWModCxlLG4scixpLG8sYSxzKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9fWNsYXNzIEpjIGV4dGVuZHMgWmN7Y29uc3RydWN0b3IodCxlLG4scixpLG8sYSl7c3VwZXIoMCx0LGUsbixyLGksbyxhKSx0aGlzLnR5cGU9XCJDb25lR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LGhlaWdodDplLHJhZGlhbFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6cixvcGVuRW5kZWQ6aSx0aGV0YVN0YXJ0Om8sdGhldGFMZW5ndGg6YX19fWNsYXNzIEtjIGV4dGVuZHMgWWN7Y29uc3RydWN0b3IodD0xLGU9MSxuPTgscj0xLGk9ITEsbz0wLGE9MipNYXRoLlBJKXtzdXBlcigwLHQsZSxuLHIsaSxvLGEpLHRoaXMudHlwZT1cIkNvbmVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsaGVpZ2h0OmUscmFkaWFsU2VnbWVudHM6bixoZWlnaHRTZWdtZW50czpyLG9wZW5FbmRlZDppLHRoZXRhU3RhcnQ6byx0aGV0YUxlbmd0aDphfX19Y2xhc3MgUWMgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0LGUsbj0xLHI9MCl7c3VwZXIoKSx0aGlzLnR5cGU9XCJQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3ZlcnRpY2VzOnQsaW5kaWNlczplLHJhZGl1czpuLGRldGFpbDpyfTtjb25zdCBpPVtdLG89W107ZnVuY3Rpb24gYSh0LGUsbixyKXtjb25zdCBpPXIrMSxvPVtdO2ZvcihsZXQgcj0wO3I8PWk7cisrKXtvW3JdPVtdO2NvbnN0IGE9dC5jbG9uZSgpLmxlcnAobixyL2kpLHM9ZS5jbG9uZSgpLmxlcnAobixyL2kpLGM9aS1yO2ZvcihsZXQgdD0wO3Q8PWM7dCsrKW9bcl1bdF09MD09PXQmJnI9PT1pP2E6YS5jbG9uZSgpLmxlcnAocyx0L2MpfWZvcihsZXQgdD0wO3Q8aTt0KyspZm9yKGxldCBlPTA7ZTwyKihpLXQpLTE7ZSsrKXtjb25zdCBuPU1hdGguZmxvb3IoZS8yKTtlJTI9PTA/KHMob1t0XVtuKzFdKSxzKG9bdCsxXVtuXSkscyhvW3RdW25dKSk6KHMob1t0XVtuKzFdKSxzKG9bdCsxXVtuKzFdKSxzKG9bdCsxXVtuXSkpfX1mdW5jdGlvbiBzKHQpe2kucHVzaCh0LngsdC55LHQueil9ZnVuY3Rpb24gYyhlLG4pe2NvbnN0IHI9MyplO24ueD10W3IrMF0sbi55PXRbcisxXSxuLno9dFtyKzJdfWZ1bmN0aW9uIGwodCxlLG4scil7cjwwJiYxPT09dC54JiYob1tlXT10LngtMSksMD09PW4ueCYmMD09PW4ueiYmKG9bZV09ci8yL01hdGguUEkrLjUpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIE1hdGguYXRhbjIodC56LC10LngpfSFmdW5jdGlvbih0KXtjb25zdCBuPW5ldyBLbixyPW5ldyBLbixpPW5ldyBLbjtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rPTMpYyhlW28rMF0sbiksYyhlW28rMV0sciksYyhlW28rMl0saSksYShuLHIsaSx0KX0ociksZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgS247Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKz0zKWUueD1pW24rMF0sZS55PWlbbisxXSxlLno9aVtuKzJdLGUubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodCksaVtuKzBdPWUueCxpW24rMV09ZS55LGlbbisyXT1lLnp9KG4pLGZ1bmN0aW9uKCl7Y29uc3QgdD1uZXcgS247Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKz0zKXt0Lng9aVtuKzBdLHQueT1pW24rMV0sdC56PWlbbisyXTtjb25zdCByPXUodCkvMi9NYXRoLlBJKy41LGE9KGU9dCxNYXRoLmF0YW4yKC1lLnksTWF0aC5zcXJ0KGUueCplLngrZS56KmUueikpL01hdGguUEkrLjUpO28ucHVzaChyLDEtYSl9dmFyIGU7KGZ1bmN0aW9uKCl7Y29uc3QgdD1uZXcgS24sZT1uZXcgS24sbj1uZXcgS24scj1uZXcgS24sYT1uZXcgR24scz1uZXcgR24sYz1uZXcgR247Zm9yKGxldCBoPTAsZD0wO2g8aS5sZW5ndGg7aCs9OSxkKz02KXt0LnNldChpW2grMF0saVtoKzFdLGlbaCsyXSksZS5zZXQoaVtoKzNdLGlbaCs0XSxpW2grNV0pLG4uc2V0KGlbaCs2XSxpW2grN10saVtoKzhdKSxhLnNldChvW2QrMF0sb1tkKzFdKSxzLnNldChvW2QrMl0sb1tkKzNdKSxjLnNldChvW2QrNF0sb1tkKzVdKSxyLmNvcHkodCkuYWRkKGUpLmFkZChuKS5kaXZpZGVTY2FsYXIoMyk7Y29uc3QgcD11KHIpO2woYSxkKzAsdCxwKSxsKHMsZCsyLGUscCksbChjLGQrNCxuLHApfX0pKCksZnVuY3Rpb24oKXtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrPTYpe2NvbnN0IGU9b1t0KzBdLG49b1t0KzJdLHI9b1t0KzRdLGk9TWF0aC5tYXgoZSxuLHIpLGE9TWF0aC5taW4oZSxuLHIpO2k+LjkmJmE8LjEmJihlPC4yJiYob1t0KzBdKz0xKSxuPC4yJiYob1t0KzJdKz0xKSxyPC4yJiYob1t0KzRdKz0xKSl9fSgpfSgpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkoaSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgTmkoaS5zbGljZSgpLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IE5pKG8sMikpLDA9PT1yP3RoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTp0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKX19Y2xhc3MgJGMgZXh0ZW5kcyBRY3tjb25zdHJ1Y3Rvcih0PTEsZT0wKXtjb25zdCBuPSgxK01hdGguc3FydCg1KSkvMixyPTEvbjtzdXBlcihbLTEsLTEsLTEsLTEsLTEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsMSwxLDEsLTEsMSwxLDEsMCwtciwtbiwwLC1yLG4sMCxyLC1uLDAscixuLC1yLC1uLDAsLXIsbiwwLHIsLW4sMCxyLG4sMCwtbiwwLC1yLG4sMCwtciwtbiwwLHIsbiwwLHJdLFszLDExLDcsMyw3LDE1LDMsMTUsMTMsNywxOSwxNyw3LDE3LDYsNyw2LDE1LDE3LDQsOCwxNyw4LDEwLDE3LDEwLDYsOCwwLDE2LDgsMTYsMiw4LDIsMTAsMCwxMiwxLDAsMSwxOCwwLDE4LDE2LDYsMTAsMiw2LDIsMTMsNiwxMywxNSwyLDE2LDE4LDIsMTgsMywyLDMsMTMsMTgsMSw5LDE4LDksMTEsMTgsMTEsMyw0LDE0LDEyLDQsMTIsMCw0LDAsOCwxMSw5LDUsMTEsNSwxOSwxMSwxOSw3LDE5LDUsMTQsMTksMTQsNCwxOSw0LDE3LDEsMTIsMTQsMSwxNCw1LDEsNSw5XSx0LGUpLHRoaXMudHlwZT1cIkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX19fWNsYXNzIHRsIGV4dGVuZHMgamN7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMudHlwZT1cIkRvZGVjYWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3ICRjKHQsZSkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jb25zdCBlbD1uZXcgS24sbmw9bmV3IEtuLHJsPW5ldyBLbixpbD1uZXcgaGk7Y2xhc3Mgb2wgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy50eXBlPVwiRWRnZXNHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17dGhyZXNob2xkQW5nbGU6ZX0sZT12b2lkIDAhPT1lP2U6MSx0LmlzR2VvbWV0cnkmJih0PShuZXcgcWkpLmZyb21HZW9tZXRyeSh0KSk7Y29uc3Qgbj1NYXRoLnBvdygxMCw0KSxyPU1hdGguY29zKHpuLkRFRzJSQUQqZSksaT10LmdldEluZGV4KCksbz10LmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpLGE9aT9pLmNvdW50Om8uY291bnQscz1bMCwwLDBdLGM9W1wiYVwiLFwiYlwiLFwiY1wiXSxsPW5ldyBBcnJheSgzKSx1PXt9LGg9W107Zm9yKGxldCB0PTA7dDxhO3QrPTMpe2k/KHNbMF09aS5nZXRYKHQpLHNbMV09aS5nZXRYKHQrMSksc1syXT1pLmdldFgodCsyKSk6KHNbMF09dCxzWzFdPXQrMSxzWzJdPXQrMik7Y29uc3R7YTplLGI6YSxjOmR9PWlsO2lmKGUuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLHNbMF0pLGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLHNbMV0pLGQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLHNbMl0pLGlsLmdldE5vcm1hbChybCksbFswXT1gJHtNYXRoLnJvdW5kKGUueCpuKX0sJHtNYXRoLnJvdW5kKGUueSpuKX0sJHtNYXRoLnJvdW5kKGUueipuKX1gLGxbMV09YCR7TWF0aC5yb3VuZChhLngqbil9LCR7TWF0aC5yb3VuZChhLnkqbil9LCR7TWF0aC5yb3VuZChhLnoqbil9YCxsWzJdPWAke01hdGgucm91bmQoZC54Km4pfSwke01hdGgucm91bmQoZC55Km4pfSwke01hdGgucm91bmQoZC56Km4pfWAsbFswXSE9PWxbMV0mJmxbMV0hPT1sWzJdJiZsWzJdIT09bFswXSlmb3IobGV0IHQ9MDt0PDM7dCsrKXtjb25zdCBlPSh0KzEpJTMsbj1sW3RdLGk9bFtlXSxvPWlsW2NbdF1dLGE9aWxbY1tlXV0sZD1gJHtufV8ke2l9YCxwPWAke2l9XyR7bn1gO3AgaW4gdSYmdVtwXT8ocmwuZG90KHVbcF0ubm9ybWFsKTw9ciYmKGgucHVzaChvLngsby55LG8ueiksaC5wdXNoKGEueCxhLnksYS56KSksdVtwXT1udWxsKTpkIGluIHV8fCh1W2RdPXtpbmRleDA6c1t0XSxpbmRleDE6c1tlXSxub3JtYWw6cmwuY2xvbmUoKX0pfX1mb3IoY29uc3QgdCBpbiB1KWlmKHVbdF0pe2NvbnN0e2luZGV4MDplLGluZGV4MTpufT11W3RdO2VsLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxlKSxubC5mcm9tQnVmZmVyQXR0cmlidXRlKG8sbiksaC5wdXNoKGVsLngsZWwueSxlbC56KSxoLnB1c2gobmwueCxubC55LG5sLnopfXRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkoaCwzKSl9fWNvbnN0IGFsPWZ1bmN0aW9uKHQsZSxuKXtuPW58fDI7Y29uc3Qgcj1lJiZlLmxlbmd0aCxpPXI/ZVswXSpuOnQubGVuZ3RoO2xldCBvPXNsKHQsMCxpLG4sITApO2NvbnN0IGE9W107aWYoIW98fG8ubmV4dD09PW8ucHJldilyZXR1cm4gYTtsZXQgcyxjLGwsdSxoLGQscDtpZihyJiYobz1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPVtdO2xldCBvLGEscyxjLGw7Zm9yKG89MCxhPWUubGVuZ3RoO288YTtvKyspcz1lW29dKnIsYz1vPGEtMT9lW28rMV0qcjp0Lmxlbmd0aCxsPXNsKHQscyxjLHIsITEpLGw9PT1sLm5leHQmJihsLnN0ZWluZXI9ITApLGkucHVzaCh5bChsKSk7Zm9yKGkuc29ydChmbCksbz0wO288aS5sZW5ndGg7bysrKW1sKGlbb10sbiksbj1jbChuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxvLG4pKSx0Lmxlbmd0aD44MCpuKXtzPWw9dFswXSxjPXU9dFsxXTtmb3IobGV0IGU9bjtlPGk7ZSs9biloPXRbZV0sZD10W2UrMV0saDxzJiYocz1oKSxkPGMmJihjPWQpLGg+bCYmKGw9aCksZD51JiYodT1kKTtwPU1hdGgubWF4KGwtcyx1LWMpLHA9MCE9PXA/MS9wOjB9cmV0dXJuIGxsKG8sYSxuLHMsYyxwKSxhfTtmdW5jdGlvbiBzbCh0LGUsbixyLGkpe2xldCBvLGE7aWYoaT09PWZ1bmN0aW9uKHQsZSxuLHIpe2xldCBpPTA7Zm9yKGxldCBvPWUsYT1uLXI7bzxuO28rPXIpaSs9KHRbYV0tdFtvXSkqKHRbbysxXSt0W2ErMV0pLGE9bztyZXR1cm4gaX0odCxlLG4scik+MClmb3Iobz1lO288bjtvKz1yKWE9TGwobyx0W29dLHRbbysxXSxhKTtlbHNlIGZvcihvPW4tcjtvPj1lO28tPXIpYT1MbChvLHRbb10sdFtvKzFdLGEpO3JldHVybiBhJiZfbChhLGEubmV4dCkmJihSbChhKSxhPWEubmV4dCksYX1mdW5jdGlvbiBjbCh0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO2xldCBuLHI9dDtkb3tpZihuPSExLHIuc3RlaW5lcnx8IV9sKHIsci5uZXh0KSYmMCE9PXdsKHIucHJldixyLHIubmV4dCkpcj1yLm5leHQ7ZWxzZXtpZihSbChyKSxyPWU9ci5wcmV2LHI9PT1yLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8ciE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIGxsKHQsZSxuLHIsaSxvLGEpe2lmKCF0KXJldHVybjshYSYmbyYmZnVuY3Rpb24odCxlLG4scil7bGV0IGk9dDtkb3tudWxsPT09aS56JiYoaS56PXZsKGkueCxpLnksZSxuLHIpKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dH13aGlsZShpIT09dCk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCxmdW5jdGlvbih0KXtsZXQgZSxuLHIsaSxvLGEscyxjLGw9MTtkb3tmb3Iobj10LHQ9bnVsbCxvPW51bGwsYT0wO247KXtmb3IoYSsrLHI9bixzPTAsZT0wO2U8bCYmKHMrKyxyPXIubmV4dFoscik7ZSsrKTtmb3IoYz1sO3M+MHx8Yz4wJiZyOykwIT09cyYmKDA9PT1jfHwhcnx8bi56PD1yLnopPyhpPW4sbj1uLm5leHRaLHMtLSk6KGk9cixyPXIubmV4dFosYy0tKSxvP28ubmV4dFo9aTp0PWksaS5wcmV2Wj1vLG89aTtuPXJ9by5uZXh0Wj1udWxsLGwqPTJ9d2hpbGUoYT4xKX0oaSl9KHQscixpLG8pO2xldCBzLGMsbD10O2Zvcig7dC5wcmV2IT09dC5uZXh0OylpZihzPXQucHJldixjPXQubmV4dCxvP2hsKHQscixpLG8pOnVsKHQpKWUucHVzaChzLmkvbiksZS5wdXNoKHQuaS9uKSxlLnB1c2goYy5pL24pLFJsKHQpLHQ9Yy5uZXh0LGw9Yy5uZXh0O2Vsc2UgaWYoKHQ9Yyk9PT1sKXthPzE9PT1hP2xsKHQ9ZGwoY2wodCksZSxuKSxlLG4scixpLG8sMik6Mj09PWEmJnBsKHQsZSxuLHIsaSxvKTpsbChjbCh0KSxlLG4scixpLG8sMSk7YnJlYWt9fWZ1bmN0aW9uIHVsKHQpe2NvbnN0IGU9dC5wcmV2LG49dCxyPXQubmV4dDtpZih3bChlLG4scik+PTApcmV0dXJuITE7bGV0IGk9dC5uZXh0Lm5leHQ7Zm9yKDtpIT09dC5wcmV2Oyl7aWYoeGwoZS54LGUueSxuLngsbi55LHIueCxyLnksaS54LGkueSkmJndsKGkucHJldixpLGkubmV4dCk+PTApcmV0dXJuITE7aT1pLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gaGwodCxlLG4scil7Y29uc3QgaT10LnByZXYsbz10LGE9dC5uZXh0O2lmKHdsKGksbyxhKT49MClyZXR1cm4hMTtjb25zdCBzPWkueDxvLng/aS54PGEueD9pLng6YS54Om8ueDxhLng/by54OmEueCxjPWkueTxvLnk/aS55PGEueT9pLnk6YS55Om8ueTxhLnk/by55OmEueSxsPWkueD5vLng/aS54PmEueD9pLng6YS54Om8ueD5hLng/by54OmEueCx1PWkueT5vLnk/aS55PmEueT9pLnk6YS55Om8ueT5hLnk/by55OmEueSxoPXZsKHMsYyxlLG4sciksZD12bChsLHUsZSxuLHIpO2xldCBwPXQucHJldlosZj10Lm5leHRaO2Zvcig7cCYmcC56Pj1oJiZmJiZmLno8PWQ7KXtpZihwIT09dC5wcmV2JiZwIT09dC5uZXh0JiZ4bChpLngsaS55LG8ueCxvLnksYS54LGEueSxwLngscC55KSYmd2wocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4hMTtpZihwPXAucHJldlosZiE9PXQucHJldiYmZiE9PXQubmV4dCYmeGwoaS54LGkueSxvLngsby55LGEueCxhLnksZi54LGYueSkmJndsKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLm5leHRafWZvcig7cCYmcC56Pj1oOyl7aWYocCE9PXQucHJldiYmcCE9PXQubmV4dCYmeGwoaS54LGkueSxvLngsby55LGEueCxhLnkscC54LHAueSkmJndsKHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLnByZXZafWZvcig7ZiYmZi56PD1kOyl7aWYoZiE9PXQucHJldiYmZiE9PXQubmV4dCYmeGwoaS54LGkueSxvLngsby55LGEueCxhLnksZi54LGYueSkmJndsKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGRsKHQsZSxuKXtsZXQgcj10O2Rve2NvbnN0IGk9ci5wcmV2LG89ci5uZXh0Lm5leHQ7IV9sKGksbykmJk1sKGkscixyLm5leHQsbykmJkVsKGksbykmJkVsKG8saSkmJihlLnB1c2goaS5pL24pLGUucHVzaChyLmkvbiksZS5wdXNoKG8uaS9uKSxSbChyKSxSbChyLm5leHQpLHI9dD1vKSxyPXIubmV4dH13aGlsZShyIT09dCk7cmV0dXJuIGNsKHIpfWZ1bmN0aW9uIHBsKHQsZSxuLHIsaSxvKXtsZXQgYT10O2Rve2xldCB0PWEubmV4dC5uZXh0O2Zvcig7dCE9PWEucHJldjspe2lmKGEuaSE9PXQuaSYmYmwoYSx0KSl7bGV0IHM9QWwoYSx0KTtyZXR1cm4gYT1jbChhLGEubmV4dCkscz1jbChzLHMubmV4dCksbGwoYSxlLG4scixpLG8pLHZvaWQgbGwocyxlLG4scixpLG8pfXQ9dC5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT10KX1mdW5jdGlvbiBmbCh0LGUpe3JldHVybiB0LngtZS54fWZ1bmN0aW9uIG1sKHQsZSl7aWYoZT1mdW5jdGlvbih0LGUpe2xldCBuPWU7Y29uc3Qgcj10LngsaT10Lnk7bGV0IG8sYT0tMS8wO2Rve2lmKGk8PW4ueSYmaT49bi5uZXh0LnkmJm4ubmV4dC55IT09bi55KXtjb25zdCB0PW4ueCsoaS1uLnkpKihuLm5leHQueC1uLngpLyhuLm5leHQueS1uLnkpO2lmKHQ8PXImJnQ+YSl7aWYoYT10LHQ9PT1yKXtpZihpPT09bi55KXJldHVybiBuO2lmKGk9PT1uLm5leHQueSlyZXR1cm4gbi5uZXh0fW89bi54PG4ubmV4dC54P246bi5uZXh0fX1uPW4ubmV4dH13aGlsZShuIT09ZSk7aWYoIW8pcmV0dXJuIG51bGw7aWYocj09PWEpcmV0dXJuIG87Y29uc3Qgcz1vLGM9by54LGw9by55O2xldCB1LGg9MS8wO249bztkb3tyPj1uLngmJm4ueD49YyYmciE9PW4ueCYmeGwoaTxsP3I6YSxpLGMsbCxpPGw/YTpyLGksbi54LG4ueSkmJih1PU1hdGguYWJzKGktbi55KS8oci1uLngpLEVsKG4sdCkmJih1PGh8fHU9PT1oJiYobi54Pm8ueHx8bi54PT09by54JiZnbChvLG4pKSkmJihvPW4saD11KSksbj1uLm5leHR9d2hpbGUobiE9PXMpO3JldHVybiBvfSh0LGUpKXtjb25zdCBuPUFsKGUsdCk7Y2woZSxlLm5leHQpLGNsKG4sbi5uZXh0KX19ZnVuY3Rpb24gZ2wodCxlKXtyZXR1cm4gd2wodC5wcmV2LHQsZS5wcmV2KTwwJiZ3bChlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gdmwodCxlLG4scixpKXtyZXR1cm4odD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PTMyNzY3Kih0LW4pKmkpfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKXwoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPTMyNzY3KihlLXIpKmkpfGU8PDgpKXxlPDw0KSl8ZTw8MikpfGU8PDEpKTw8MX1mdW5jdGlvbiB5bCh0KXtsZXQgZT10LG49dDtkb3soZS54PG4ueHx8ZS54PT09bi54JiZlLnk8bi55KSYmKG49ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiBufWZ1bmN0aW9uIHhsKHQsZSxuLHIsaSxvLGEscyl7cmV0dXJuKGktYSkqKGUtcyktKHQtYSkqKG8tcyk+PTAmJih0LWEpKihyLXMpLShuLWEpKihlLXMpPj0wJiYobi1hKSooby1zKS0oaS1hKSooci1zKT49MH1mdW5jdGlvbiBibCh0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe2xldCBuPXQ7ZG97aWYobi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmbi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmTWwobixuLm5leHQsdCxlKSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuITF9KHQsZSkmJihFbCh0LGUpJiZFbChlLHQpJiZmdW5jdGlvbih0LGUpe2xldCBuPXQscj0hMTtjb25zdCBpPSh0LngrZS54KS8yLG89KHQueStlLnkpLzI7ZG97bi55Pm8hPW4ubmV4dC55Pm8mJm4ubmV4dC55IT09bi55JiZpPChuLm5leHQueC1uLngpKihvLW4ueSkvKG4ubmV4dC55LW4ueSkrbi54JiYocj0hciksbj1uLm5leHR9d2hpbGUobiE9PXQpO3JldHVybiByfSh0LGUpJiYod2wodC5wcmV2LHQsZS5wcmV2KXx8d2wodCxlLnByZXYsZSkpfHxfbCh0LGUpJiZ3bCh0LnByZXYsdCx0Lm5leHQpPjAmJndsKGUucHJldixlLGUubmV4dCk+MCl9ZnVuY3Rpb24gd2wodCxlLG4pe3JldHVybihlLnktdC55KSoobi54LWUueCktKGUueC10LngpKihuLnktZS55KX1mdW5jdGlvbiBfbCh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBNbCh0LGUsbixyKXtjb25zdCBpPVRsKHdsKHQsZSxuKSksbz1UbCh3bCh0LGUscikpLGE9VGwod2wobixyLHQpKSxzPVRsKHdsKG4scixlKSk7cmV0dXJuIGkhPT1vJiZhIT09c3x8KCEoMCE9PWl8fCFTbCh0LG4sZSkpfHwoISgwIT09b3x8IVNsKHQscixlKSl8fCghKDAhPT1hfHwhU2wobix0LHIpKXx8ISgwIT09c3x8IVNsKG4sZSxyKSkpKSl9ZnVuY3Rpb24gU2wodCxlLG4pe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxuLngpJiZlLng+PU1hdGgubWluKHQueCxuLngpJiZlLnk8PU1hdGgubWF4KHQueSxuLnkpJiZlLnk+PU1hdGgubWluKHQueSxuLnkpfWZ1bmN0aW9uIFRsKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH1mdW5jdGlvbiBFbCh0LGUpe3JldHVybiB3bCh0LnByZXYsdCx0Lm5leHQpPDA/d2wodCxlLHQubmV4dCk+PTAmJndsKHQsdC5wcmV2LGUpPj0wOndsKHQsZSx0LnByZXYpPDB8fHdsKHQsdC5uZXh0LGUpPDB9ZnVuY3Rpb24gQWwodCxlKXtjb25zdCBuPW5ldyBQbCh0LmksdC54LHQueSkscj1uZXcgUGwoZS5pLGUueCxlLnkpLGk9dC5uZXh0LG89ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxuLm5leHQ9aSxpLnByZXY9bixyLm5leHQ9bixuLnByZXY9cixvLm5leHQ9cixyLnByZXY9byxyfWZ1bmN0aW9uIExsKHQsZSxuLHIpe2NvbnN0IGk9bmV3IFBsKHQsZSxuKTtyZXR1cm4gcj8oaS5uZXh0PXIubmV4dCxpLnByZXY9cixyLm5leHQucHJldj1pLHIubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gUmwodCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKX1mdW5jdGlvbiBQbCh0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9Y29uc3QgQ2w9e2FyZWE6ZnVuY3Rpb24odCl7Y29uc3QgZT10Lmxlbmd0aDtsZXQgbj0wO2ZvcihsZXQgcj1lLTEsaT0wO2k8ZTtyPWkrKyluKz10W3JdLngqdFtpXS55LXRbaV0ueCp0W3JdLnk7cmV0dXJuLjUqbn0saXNDbG9ja1dpc2U6ZnVuY3Rpb24odCl7cmV0dXJuIENsLmFyZWEodCk8MH0sdHJpYW5ndWxhdGVTaGFwZTpmdW5jdGlvbih0LGUpe2NvbnN0IG49W10scj1bXSxpPVtdO0lsKHQpLE9sKG4sdCk7bGV0IG89dC5sZW5ndGg7ZS5mb3JFYWNoKElsKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyLnB1c2gobyksbys9ZVt0XS5sZW5ndGgsT2wobixlW3RdKTtjb25zdCBhPWFsKG4scik7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz0zKWkucHVzaChhLnNsaWNlKHQsdCszKSk7cmV0dXJuIGl9fTtmdW5jdGlvbiBJbCh0KXtjb25zdCBlPXQubGVuZ3RoO2U+MiYmdFtlLTFdLmVxdWFscyh0WzBdKSYmdC5wb3AoKX1mdW5jdGlvbiBPbCh0LGUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChlW25dLngpLHQucHVzaChlW25dLnkpfWNsYXNzIE5sIGV4dGVuZHMgcWl7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMudHlwZT1cIkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOnQsb3B0aW9uczplfSx0PUFycmF5LmlzQXJyYXkodCk/dDpbdF07Y29uc3Qgbj10aGlzLHI9W10saT1bXTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe28odFtlXSl9ZnVuY3Rpb24gbyh0KXtjb25zdCBvPVtdLGE9dm9pZCAwIT09ZS5jdXJ2ZVNlZ21lbnRzP2UuY3VydmVTZWdtZW50czoxMixzPXZvaWQgMCE9PWUuc3RlcHM/ZS5zdGVwczoxO2xldCBjPXZvaWQgMCE9PWUuZGVwdGg/ZS5kZXB0aDoxMDAsbD12b2lkIDA9PT1lLmJldmVsRW5hYmxlZHx8ZS5iZXZlbEVuYWJsZWQsdT12b2lkIDAhPT1lLmJldmVsVGhpY2tuZXNzP2UuYmV2ZWxUaGlja25lc3M6NixoPXZvaWQgMCE9PWUuYmV2ZWxTaXplP2UuYmV2ZWxTaXplOnUtMixkPXZvaWQgMCE9PWUuYmV2ZWxPZmZzZXQ/ZS5iZXZlbE9mZnNldDowLHA9dm9pZCAwIT09ZS5iZXZlbFNlZ21lbnRzP2UuYmV2ZWxTZWdtZW50czozO2NvbnN0IGY9ZS5leHRydWRlUGF0aCxtPXZvaWQgMCE9PWUuVVZHZW5lcmF0b3I/ZS5VVkdlbmVyYXRvcjpEbDt2b2lkIDAhPT1lLmFtb3VudCYmKGNvbnNvbGUud2FybihcIlRIUkVFLkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTogYW1vdW50IGhhcyBiZWVuIHJlbmFtZWQgdG8gZGVwdGguXCIpLGM9ZS5hbW91bnQpO2xldCBnLHYseSx4LGIsdz0hMTtmJiYoZz1mLmdldFNwYWNlZFBvaW50cyhzKSx3PSEwLGw9ITEsdj1mLmNvbXB1dGVGcmVuZXRGcmFtZXMocywhMSkseT1uZXcgS24seD1uZXcgS24sYj1uZXcgS24pLGx8fChwPTAsdT0wLGg9MCxkPTApO2NvbnN0IF89dC5leHRyYWN0UG9pbnRzKGEpO2xldCBNPV8uc2hhcGU7Y29uc3QgUz1fLmhvbGVzO2lmKCFDbC5pc0Nsb2NrV2lzZShNKSl7TT1NLnJldmVyc2UoKTtmb3IobGV0IHQ9MCxlPVMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9U1t0XTtDbC5pc0Nsb2NrV2lzZShlKSYmKFNbdF09ZS5yZXZlcnNlKCkpfX1jb25zdCBUPUNsLnRyaWFuZ3VsYXRlU2hhcGUoTSxTKSxFPU07Zm9yKGxldCB0PTAsZT1TLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPVNbdF07TT1NLmNvbmNhdChlKX1mdW5jdGlvbiBBKHQsZSxuKXtyZXR1cm4gZXx8Y29uc29sZS5lcnJvcihcIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogdmVjIGRvZXMgbm90IGV4aXN0XCIpLGUuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihuKS5hZGQodCl9Y29uc3QgTD1NLmxlbmd0aCxSPVQubGVuZ3RoO2Z1bmN0aW9uIFAodCxlLG4pe2xldCByLGksbztjb25zdCBhPXQueC1lLngscz10LnktZS55LGM9bi54LXQueCxsPW4ueS10LnksdT1hKmErcypzLGg9YSpsLXMqYztpZihNYXRoLmFicyhoKT5OdW1iZXIuRVBTSUxPTil7Y29uc3QgaD1NYXRoLnNxcnQodSksZD1NYXRoLnNxcnQoYypjK2wqbCkscD1lLngtcy9oLGY9ZS55K2EvaCxtPSgobi54LWwvZC1wKSpsLShuLnkrYy9kLWYpKmMpLyhhKmwtcypjKTtyPXArYSptLXQueCxpPWYrcyptLXQueTtjb25zdCBnPXIqcitpKmk7aWYoZzw9MilyZXR1cm4gbmV3IEduKHIsaSk7bz1NYXRoLnNxcnQoZy8yKX1lbHNle2xldCB0PSExO2E+TnVtYmVyLkVQU0lMT04/Yz5OdW1iZXIuRVBTSUxPTiYmKHQ9ITApOmE8LU51bWJlci5FUFNJTE9OP2M8LU51bWJlci5FUFNJTE9OJiYodD0hMCk6TWF0aC5zaWduKHMpPT09TWF0aC5zaWduKGwpJiYodD0hMCksdD8ocj0tcyxpPWEsbz1NYXRoLnNxcnQodSkpOihyPWEsaT1zLG89TWF0aC5zcXJ0KHUvMikpfXJldHVybiBuZXcgR24oci9vLGkvbyl9Y29uc3QgQz1bXTtmb3IobGV0IHQ9MCxlPUUubGVuZ3RoLG49ZS0xLHI9dCsxO3Q8ZTt0KyssbisrLHIrKyluPT09ZSYmKG49MCkscj09PWUmJihyPTApLENbdF09UChFW3RdLEVbbl0sRVtyXSk7Y29uc3QgST1bXTtsZXQgTyxOPUMuY29uY2F0KCk7Zm9yKGxldCB0PTAsZT1TLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPVNbdF07Tz1bXTtmb3IobGV0IHQ9MCxuPWUubGVuZ3RoLHI9bi0xLGk9dCsxO3Q8bjt0KysscisrLGkrKylyPT09biYmKHI9MCksaT09PW4mJihpPTApLE9bdF09UChlW3RdLGVbcl0sZVtpXSk7SS5wdXNoKE8pLE49Ti5jb25jYXQoTyl9Zm9yKGxldCB0PTA7dDxwO3QrKyl7Y29uc3QgZT10L3Asbj11Kk1hdGguY29zKGUqTWF0aC5QSS8yKSxyPWgqTWF0aC5zaW4oZSpNYXRoLlBJLzIpK2Q7Zm9yKGxldCB0PTAsZT1FLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPUEoRVt0XSxDW3RdLHIpO0YoZS54LGUueSwtbil9Zm9yKGxldCB0PTAsZT1TLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPVNbdF07Tz1JW3RdO2ZvcihsZXQgdD0wLGk9ZS5sZW5ndGg7dDxpO3QrKyl7Y29uc3QgaT1BKGVbdF0sT1t0XSxyKTtGKGkueCxpLnksLW4pfX19Y29uc3QgRD1oK2Q7Zm9yKGxldCB0PTA7dDxMO3QrKyl7Y29uc3QgZT1sP0EoTVt0XSxOW3RdLEQpOk1bdF07dz8oeC5jb3B5KHYubm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoZS54KSx5LmNvcHkodi5iaW5vcm1hbHNbMF0pLm11bHRpcGx5U2NhbGFyKGUueSksYi5jb3B5KGdbMF0pLmFkZCh4KS5hZGQoeSksRihiLngsYi55LGIueikpOkYoZS54LGUueSwwKX1mb3IobGV0IHQ9MTt0PD1zO3QrKylmb3IobGV0IGU9MDtlPEw7ZSsrKXtjb25zdCBuPWw/QShNW2VdLE5bZV0sRCk6TVtlXTt3Pyh4LmNvcHkodi5ub3JtYWxzW3RdKS5tdWx0aXBseVNjYWxhcihuLngpLHkuY29weSh2LmJpbm9ybWFsc1t0XSkubXVsdGlwbHlTY2FsYXIobi55KSxiLmNvcHkoZ1t0XSkuYWRkKHgpLmFkZCh5KSxGKGIueCxiLnksYi56KSk6RihuLngsbi55LGMvcyp0KX1mb3IobGV0IHQ9cC0xO3Q+PTA7dC0tKXtjb25zdCBlPXQvcCxuPXUqTWF0aC5jb3MoZSpNYXRoLlBJLzIpLHI9aCpNYXRoLnNpbihlKk1hdGguUEkvMikrZDtmb3IobGV0IHQ9MCxlPUUubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9QShFW3RdLENbdF0scik7RihlLngsZS55LGMrbil9Zm9yKGxldCB0PTAsZT1TLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPVNbdF07Tz1JW3RdO2ZvcihsZXQgdD0wLGk9ZS5sZW5ndGg7dDxpO3QrKyl7Y29uc3QgaT1BKGVbdF0sT1t0XSxyKTt3P0YoaS54LGkueStnW3MtMV0ueSxnW3MtMV0ueCtuKTpGKGkueCxpLnksYytuKX19fWZ1bmN0aW9uIEIodCxlKXtsZXQgbj10Lmxlbmd0aDtmb3IoOy0tbj49MDspe2NvbnN0IHI9bjtsZXQgaT1uLTE7aTwwJiYoaT10Lmxlbmd0aC0xKTtmb3IobGV0IHQ9MCxuPXMrMipwO3Q8bjt0Kyspe2NvbnN0IG49TCp0LG89TCoodCsxKTt6KGUrcituLGUraStuLGUraStvLGUrcitvKX19fWZ1bmN0aW9uIEYodCxlLG4pe28ucHVzaCh0KSxvLnB1c2goZSksby5wdXNoKG4pfWZ1bmN0aW9uIFUodCxlLGkpe0codCksRyhlKSxHKGkpO2NvbnN0IG89ci5sZW5ndGgvMyxhPW0uZ2VuZXJhdGVUb3BVVihuLHIsby0zLG8tMixvLTEpO0goYVswXSksSChhWzFdKSxIKGFbMl0pfWZ1bmN0aW9uIHoodCxlLGksbyl7Ryh0KSxHKGUpLEcobyksRyhlKSxHKGkpLEcobyk7Y29uc3QgYT1yLmxlbmd0aC8zLHM9bS5nZW5lcmF0ZVNpZGVXYWxsVVYobixyLGEtNixhLTMsYS0yLGEtMSk7SChzWzBdKSxIKHNbMV0pLEgoc1szXSksSChzWzFdKSxIKHNbMl0pLEgoc1szXSl9ZnVuY3Rpb24gRyh0KXtyLnB1c2gob1szKnQrMF0pLHIucHVzaChvWzMqdCsxXSksci5wdXNoKG9bMyp0KzJdKX1mdW5jdGlvbiBIKHQpe2kucHVzaCh0LngpLGkucHVzaCh0LnkpfSFmdW5jdGlvbigpe2NvbnN0IHQ9ci5sZW5ndGgvMztpZihsKXtsZXQgdD0wLGU9TCp0O2ZvcihsZXQgdD0wO3Q8Ujt0Kyspe2NvbnN0IG49VFt0XTtVKG5bMl0rZSxuWzFdK2UsblswXStlKX10PXMrMipwLGU9TCp0O2ZvcihsZXQgdD0wO3Q8Ujt0Kyspe2NvbnN0IG49VFt0XTtVKG5bMF0rZSxuWzFdK2UsblsyXStlKX19ZWxzZXtmb3IobGV0IHQ9MDt0PFI7dCsrKXtjb25zdCBlPVRbdF07VShlWzJdLGVbMV0sZVswXSl9Zm9yKGxldCB0PTA7dDxSO3QrKyl7Y29uc3QgZT1UW3RdO1UoZVswXStMKnMsZVsxXStMKnMsZVsyXStMKnMpfX1uLmFkZEdyb3VwKHQsci5sZW5ndGgvMy10LDApfSgpLGZ1bmN0aW9uKCl7Y29uc3QgdD1yLmxlbmd0aC8zO2xldCBlPTA7QihFLGUpLGUrPUUubGVuZ3RoO2ZvcihsZXQgdD0wLG49Uy5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1TW3RdO0IobixlKSxlKz1uLmxlbmd0aH1uLmFkZEdyb3VwKHQsci5sZW5ndGgvMy10LDEpfSgpfXRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkociwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBOaShpLDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl9dG9KU09OKCl7Y29uc3QgdD1xaS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihuLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KHQpKWZvcihsZXQgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrKyl7Y29uc3Qgcj10W2VdO24uc2hhcGVzLnB1c2goci51dWlkKX1lbHNlIG4uc2hhcGVzLnB1c2godC51dWlkKTt2b2lkIDAhPT1lLmV4dHJ1ZGVQYXRoJiYobi5vcHRpb25zLmV4dHJ1ZGVQYXRoPWUuZXh0cnVkZVBhdGgudG9KU09OKCkpO3JldHVybiBufSh0aGlzLnBhcmFtZXRlcnMuc2hhcGVzLHRoaXMucGFyYW1ldGVycy5vcHRpb25zLHQpfX1jb25zdCBEbD17Z2VuZXJhdGVUb3BVVjpmdW5jdGlvbih0LGUsbixyLGkpe2NvbnN0IG89ZVszKm5dLGE9ZVszKm4rMV0scz1lWzMqcl0sYz1lWzMqcisxXSxsPWVbMyppXSx1PWVbMyppKzFdO3JldHVybltuZXcgR24obyxhKSxuZXcgR24ocyxjKSxuZXcgR24obCx1KV19LGdlbmVyYXRlU2lkZVdhbGxVVjpmdW5jdGlvbih0LGUsbixyLGksbyl7Y29uc3QgYT1lWzMqbl0scz1lWzMqbisxXSxjPWVbMypuKzJdLGw9ZVszKnJdLHU9ZVszKnIrMV0saD1lWzMqcisyXSxkPWVbMyppXSxwPWVbMyppKzFdLGY9ZVszKmkrMl0sbT1lWzMqb10sZz1lWzMqbysxXSx2PWVbMypvKzJdO3JldHVybiBNYXRoLmFicyhzLXUpPC4wMT9bbmV3IEduKGEsMS1jKSxuZXcgR24obCwxLWgpLG5ldyBHbihkLDEtZiksbmV3IEduKG0sMS12KV06W25ldyBHbihzLDEtYyksbmV3IEduKHUsMS1oKSxuZXcgR24ocCwxLWYpLG5ldyBHbihnLDEtdildfX07Y2xhc3MgQmwgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy50eXBlPVwiRXh0cnVkZUdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6dCxvcHRpb25zOmV9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBObCh0LGUpKSx0aGlzLm1lcmdlVmVydGljZXMoKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiBmdW5jdGlvbih0LGUsbil7aWYobi5zaGFwZXM9W10sQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspe2NvbnN0IHI9dFtlXTtuLnNoYXBlcy5wdXNoKHIudXVpZCl9ZWxzZSBuLnNoYXBlcy5wdXNoKHQudXVpZCk7dm9pZCAwIT09ZS5leHRydWRlUGF0aCYmKG4ub3B0aW9ucy5leHRydWRlUGF0aD1lLmV4dHJ1ZGVQYXRoLnRvSlNPTigpKTtyZXR1cm4gbn0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0aGlzLnBhcmFtZXRlcnMub3B0aW9ucyx0KX19Y2xhc3MgRmwgZXh0ZW5kcyBRY3tjb25zdHJ1Y3Rvcih0PTEsZT0wKXtjb25zdCBuPSgxK01hdGguc3FydCg1KSkvMjtzdXBlcihbLTEsbiwwLDEsbiwwLC0xLC1uLDAsMSwtbiwwLDAsLTEsbiwwLDEsbiwwLC0xLC1uLDAsMSwtbixuLDAsLTEsbiwwLDEsLW4sMCwtMSwtbiwwLDFdLFswLDExLDUsMCw1LDEsMCwxLDcsMCw3LDEwLDAsMTAsMTEsMSw1LDksNSwxMSw0LDExLDEwLDIsMTAsNyw2LDcsMSw4LDMsOSw0LDMsNCwyLDMsMiw2LDMsNiw4LDMsOCw5LDQsOSw1LDIsNCwxMSw2LDIsMTAsOCw2LDcsOSw4LDFdLHQsZSksdGhpcy50eXBlPVwiSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsZGV0YWlsOmV9fX1jbGFzcyBVbCBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJJY29zYWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEZsKHQsZSkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jbGFzcyB6bCBleHRlbmRzIHFpe2NvbnN0cnVjdG9yKHQsZT0xMixuPTAscj0yKk1hdGguUEkpe3N1cGVyKCksdGhpcy50eXBlPVwiTGF0aGVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cG9pbnRzOnQsc2VnbWVudHM6ZSxwaGlTdGFydDpuLHBoaUxlbmd0aDpyfSxlPU1hdGguZmxvb3IoZSkscj16bi5jbGFtcChyLDAsMipNYXRoLlBJKTtjb25zdCBpPVtdLG89W10sYT1bXSxzPTEvZSxjPW5ldyBLbixsPW5ldyBHbjtmb3IobGV0IGk9MDtpPD1lO2krKyl7Y29uc3QgdT1uK2kqcypyLGg9TWF0aC5zaW4odSksZD1NYXRoLmNvcyh1KTtmb3IobGV0IG49MDtuPD10Lmxlbmd0aC0xO24rKyljLng9dFtuXS54KmgsYy55PXRbbl0ueSxjLno9dFtuXS54KmQsby5wdXNoKGMueCxjLnksYy56KSxsLng9aS9lLGwueT1uLyh0Lmxlbmd0aC0xKSxhLnB1c2gobC54LGwueSl9Zm9yKGxldCBuPTA7bjxlO24rKylmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCByPWUrbip0Lmxlbmd0aCxvPXIsYT1yK3QubGVuZ3RoLHM9cit0Lmxlbmd0aCsxLGM9cisxO2kucHVzaChvLGEsYyksaS5wdXNoKGEscyxjKX1pZih0aGlzLnNldEluZGV4KGkpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkobywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBOaShhLDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkscj09PTIqTWF0aC5QSSl7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZXMubm9ybWFsLmFycmF5LHI9bmV3IEtuLGk9bmV3IEtuLG89bmV3IEtuLGE9ZSp0Lmxlbmd0aCozO2ZvcihsZXQgZT0wLHM9MDtlPHQubGVuZ3RoO2UrKyxzKz0zKXIueD1uW3MrMF0sci55PW5bcysxXSxyLno9bltzKzJdLGkueD1uW2ErcyswXSxpLnk9blthK3MrMV0saS56PW5bYStzKzJdLG8uYWRkVmVjdG9ycyhyLGkpLm5vcm1hbGl6ZSgpLG5bcyswXT1uW2ErcyswXT1vLngsbltzKzFdPW5bYStzKzFdPW8ueSxuW3MrMl09blthK3MrMl09by56fX19Y2xhc3MgR2wgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcigpLHRoaXMudHlwZT1cIkxhdGhlR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3BvaW50czp0LHNlZ21lbnRzOmUscGhpU3RhcnQ6bixwaGlMZW5ndGg6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IHpsKHQsZSxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX19Y2xhc3MgSGwgZXh0ZW5kcyBRY3tjb25zdHJ1Y3Rvcih0PTEsZT0wKXtzdXBlcihbMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTFdLFswLDIsNCwwLDQsMywwLDMsNSwwLDUsMiwxLDIsNSwxLDUsMywxLDMsNCwxLDQsMl0sdCxlKSx0aGlzLnR5cGU9XCJPY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LGRldGFpbDplfX19Y2xhc3Mga2wgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy50eXBlPVwiT2N0YWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEhsKHQsZSkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1mdW5jdGlvbiBWbCh0LGUsbil7cWkuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e2Z1bmM6dCxzbGljZXM6ZSxzdGFja3M6bn07Y29uc3Qgcj1bXSxpPVtdLG89W10sYT1bXSxzPTFlLTUsYz1uZXcgS24sbD1uZXcgS24sdT1uZXcgS24saD1uZXcgS24sZD1uZXcgS247dC5sZW5ndGg8MyYmY29uc29sZS5lcnJvcihcIlRIUkVFLlBhcmFtZXRyaWNHZW9tZXRyeTogRnVuY3Rpb24gbXVzdCBub3cgbW9kaWZ5IGEgVmVjdG9yMyBhcyB0aGlyZCBwYXJhbWV0ZXIuXCIpO2NvbnN0IHA9ZSsxO2ZvcihsZXQgcj0wO3I8PW47cisrKXtjb25zdCBwPXIvbjtmb3IobGV0IG49MDtuPD1lO24rKyl7Y29uc3Qgcj1uL2U7dChyLHAsbCksaS5wdXNoKGwueCxsLnksbC56KSxyLXM+PTA/KHQoci1zLHAsdSksaC5zdWJWZWN0b3JzKGwsdSkpOih0KHIrcyxwLHUpLGguc3ViVmVjdG9ycyh1LGwpKSxwLXM+PTA/KHQocixwLXMsdSksZC5zdWJWZWN0b3JzKGwsdSkpOih0KHIscCtzLHUpLGQuc3ViVmVjdG9ycyh1LGwpKSxjLmNyb3NzVmVjdG9ycyhoLGQpLm5vcm1hbGl6ZSgpLG8ucHVzaChjLngsYy55LGMueiksYS5wdXNoKHIscCl9fWZvcihsZXQgdD0wO3Q8bjt0KyspZm9yKGxldCBuPTA7bjxlO24rKyl7Y29uc3QgZT10KnArbixpPXQqcCtuKzEsbz0odCsxKSpwK24rMSxhPSh0KzEpKnArbjtyLnB1c2goZSxpLGEpLHIucHVzaChpLG8sYSl9dGhpcy5zZXRJbmRleChyKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGksMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IE5pKG8sMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgTmkoYSwyKSl9ZnVuY3Rpb24gamwodCxlLG4pe2pjLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUGFyYW1ldHJpY0dlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtmdW5jOnQsc2xpY2VzOmUsc3RhY2tzOm59LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBWbCh0LGUsbikpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfVZsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHFpLnByb3RvdHlwZSksVmwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVZsLGpsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGpjLnByb3RvdHlwZSksamwucHJvdG90eXBlLmNvbnN0cnVjdG9yPWpsO2NsYXNzIFdsIGV4dGVuZHMgamN7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIoKSx0aGlzLnR5cGU9XCJQbGFuZUdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp0LGhlaWdodDplLHdpZHRoU2VnbWVudHM6bixoZWlnaHRTZWdtZW50czpyfSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgQ28odCxlLG4scikpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jbGFzcyBYbCBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKCksdGhpcy50eXBlPVwiUG9seWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt2ZXJ0aWNlczp0LGluZGljZXM6ZSxyYWRpdXM6bixkZXRhaWw6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFFjKHQsZSxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX19Y2xhc3MgcWwgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0PS41LGU9MSxuPTgscj0xLGk9MCxvPTIqTWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJSaW5nQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e2lubmVyUmFkaXVzOnQsb3V0ZXJSYWRpdXM6ZSx0aGV0YVNlZ21lbnRzOm4scGhpU2VnbWVudHM6cix0aGV0YVN0YXJ0OmksdGhldGFMZW5ndGg6b30sbj1NYXRoLm1heCgzLG4pO2NvbnN0IGE9W10scz1bXSxjPVtdLGw9W107bGV0IHU9dDtjb25zdCBoPShlLXQpLyhyPU1hdGgubWF4KDEscikpLGQ9bmV3IEtuLHA9bmV3IEduO2ZvcihsZXQgdD0wO3Q8PXI7dCsrKXtmb3IobGV0IHQ9MDt0PD1uO3QrKyl7Y29uc3Qgcj1pK3QvbipvO2QueD11Kk1hdGguY29zKHIpLGQueT11Kk1hdGguc2luKHIpLHMucHVzaChkLngsZC55LGQueiksYy5wdXNoKDAsMCwxKSxwLng9KGQueC9lKzEpLzIscC55PShkLnkvZSsxKS8yLGwucHVzaChwLngscC55KX11Kz1ofWZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IGU9dCoobisxKTtmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCByPXQrZSxpPXIsbz1yK24rMSxzPXIrbisyLGM9cisxO2EucHVzaChpLG8sYyksYS5wdXNoKG8scyxjKX19dGhpcy5zZXRJbmRleChhKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKHMsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IE5pKGMsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgTmkobCwyKSl9fWNsYXNzIFlsIGV4dGVuZHMgamN7Y29uc3RydWN0b3IodCxlLG4scixpLG8pe3N1cGVyKCksdGhpcy50eXBlPVwiUmluZ0dlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtpbm5lclJhZGl1czp0LG91dGVyUmFkaXVzOmUsdGhldGFTZWdtZW50czpuLHBoaVNlZ21lbnRzOnIsdGhldGFTdGFydDppLHRoZXRhTGVuZ3RoOm99LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBxbCh0LGUsbixyLGksbykpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jbGFzcyBabCBleHRlbmRzIHFpe2NvbnN0cnVjdG9yKHQsZT0xMil7c3VwZXIoKSx0aGlzLnR5cGU9XCJTaGFwZUJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6dCxjdXJ2ZVNlZ21lbnRzOmV9O2NvbnN0IG49W10scj1bXSxpPVtdLG89W107bGV0IGE9MCxzPTA7aWYoITE9PT1BcnJheS5pc0FycmF5KHQpKWModCk7ZWxzZSBmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyljKHRbZV0pLHRoaXMuYWRkR3JvdXAoYSxzLGUpLGErPXMscz0wO2Z1bmN0aW9uIGModCl7Y29uc3QgYT1yLmxlbmd0aC8zLGM9dC5leHRyYWN0UG9pbnRzKGUpO2xldCBsPWMuc2hhcGU7Y29uc3QgdT1jLmhvbGVzOyExPT09Q2wuaXNDbG9ja1dpc2UobCkmJihsPWwucmV2ZXJzZSgpKTtmb3IobGV0IHQ9MCxlPXUubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dVt0XTshMD09PUNsLmlzQ2xvY2tXaXNlKGUpJiYodVt0XT1lLnJldmVyc2UoKSl9Y29uc3QgaD1DbC50cmlhbmd1bGF0ZVNoYXBlKGwsdSk7Zm9yKGxldCB0PTAsZT11Lmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXVbdF07bD1sLmNvbmNhdChlKX1mb3IobGV0IHQ9MCxlPWwubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9bFt0XTtyLnB1c2goZS54LGUueSwwKSxpLnB1c2goMCwwLDEpLG8ucHVzaChlLngsZS55KX1mb3IobGV0IHQ9MCxlPWgubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9aFt0XSxyPWVbMF0rYSxpPWVbMV0rYSxvPWVbMl0rYTtuLnB1c2gocixpLG8pLHMrPTN9fXRoaXMuc2V0SW5kZXgobiksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShyLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyBOaShpLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IE5pKG8sMikpfXRvSlNPTigpe2NvbnN0IHQ9cWkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUuc2hhcGVzPVtdLEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBuPTAscj10Lmxlbmd0aDtuPHI7bisrKXtjb25zdCByPXRbbl07ZS5zaGFwZXMucHVzaChyLnV1aWQpfWVsc2UgZS5zaGFwZXMucHVzaCh0LnV1aWQpO3JldHVybiBlfSh0aGlzLnBhcmFtZXRlcnMuc2hhcGVzLHQpfX1jbGFzcyBKbCBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJTaGFwZUdlb21ldHJ5XCIsXCJvYmplY3RcIj09dHlwZW9mIGUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5TaGFwZUdlb21ldHJ5OiBPcHRpb25zIHBhcmFtZXRlciBoYXMgYmVlbiByZW1vdmVkLlwiKSxlPWUuY3VydmVTZWdtZW50cyksdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6dCxjdXJ2ZVNlZ21lbnRzOmV9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBabCh0LGUpKSx0aGlzLm1lcmdlVmVydGljZXMoKX10b0pTT04oKXtjb25zdCB0PWpjLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KHQpKWZvcihsZXQgbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7Y29uc3Qgcj10W25dO2Uuc2hhcGVzLnB1c2goci51dWlkKX1lbHNlIGUuc2hhcGVzLnB1c2godC51dWlkKTtyZXR1cm4gZX0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0KX19Y2xhc3MgS2wgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0PTEsZT04LG49NixyPTAsaT0yKk1hdGguUEksbz0wLGE9TWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJTcGhlcmVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsd2lkdGhTZWdtZW50czplLGhlaWdodFNlZ21lbnRzOm4scGhpU3RhcnQ6cixwaGlMZW5ndGg6aSx0aGV0YVN0YXJ0Om8sdGhldGFMZW5ndGg6YX0sZT1NYXRoLm1heCgzLE1hdGguZmxvb3IoZSkpLG49TWF0aC5tYXgoMixNYXRoLmZsb29yKG4pKTtjb25zdCBzPU1hdGgubWluKG8rYSxNYXRoLlBJKTtsZXQgYz0wO2NvbnN0IGw9W10sdT1uZXcgS24saD1uZXcgS24sZD1bXSxwPVtdLGY9W10sbT1bXTtmb3IobGV0IGQ9MDtkPD1uO2QrKyl7Y29uc3QgZz1bXSx2PWQvbjtsZXQgeT0wOzA9PWQmJjA9PW8/eT0uNS9lOmQ9PW4mJnM9PU1hdGguUEkmJih5PS0uNS9lKTtmb3IobGV0IG49MDtuPD1lO24rKyl7Y29uc3Qgcz1uL2U7dS54PS10Kk1hdGguY29zKHIrcyppKSpNYXRoLnNpbihvK3YqYSksdS55PXQqTWF0aC5jb3Mobyt2KmEpLHUuej10Kk1hdGguc2luKHIrcyppKSpNYXRoLnNpbihvK3YqYSkscC5wdXNoKHUueCx1LnksdS56KSxoLmNvcHkodSkubm9ybWFsaXplKCksZi5wdXNoKGgueCxoLnksaC56KSxtLnB1c2gocyt5LDEtdiksZy5wdXNoKGMrKyl9bC5wdXNoKGcpfWZvcihsZXQgdD0wO3Q8bjt0KyspZm9yKGxldCByPTA7cjxlO3IrKyl7Y29uc3QgZT1sW3RdW3IrMV0saT1sW3RdW3JdLGE9bFt0KzFdW3JdLGM9bFt0KzFdW3IrMV07KDAhPT10fHxvPjApJiZkLnB1c2goZSxpLGMpLCh0IT09bi0xfHxzPE1hdGguUEkpJiZkLnB1c2goaSxhLGMpfXRoaXMuc2V0SW5kZXgoZCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShwLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyBOaShmLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IE5pKG0sMikpfX1jbGFzcyBRbCBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSxuLHIsaSxvLGEpe3N1cGVyKCksdGhpcy50eXBlPVwiU3BoZXJlR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHdpZHRoU2VnbWVudHM6ZSxoZWlnaHRTZWdtZW50czpuLHBoaVN0YXJ0OnIscGhpTGVuZ3RoOmksdGhldGFTdGFydDpvLHRoZXRhTGVuZ3RoOmF9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBLbCh0LGUsbixyLGksbyxhKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9fWNsYXNzICRsIGV4dGVuZHMgUWN7Y29uc3RydWN0b3IodD0xLGU9MCl7c3VwZXIoWzEsMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xXSxbMiwxLDAsMCwzLDIsMSwzLDAsMiwzLDFdLHQsZSksdGhpcy50eXBlPVwiVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsZGV0YWlsOmV9fX1jbGFzcyB0dSBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJUZXRyYWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3ICRsKHQsZSkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jbGFzcyBldSBleHRlbmRzIE5se2NvbnN0cnVjdG9yKHQsZT17fSl7Y29uc3Qgbj1lLmZvbnQ7aWYoIW58fCFuLmlzRm9udClyZXR1cm4gY29uc29sZS5lcnJvcihcIlRIUkVFLlRleHRHZW9tZXRyeTogZm9udCBwYXJhbWV0ZXIgaXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkZvbnQuXCIpLG5ldyBxaTtjb25zdCByPW4uZ2VuZXJhdGVTaGFwZXModCxlLnNpemUpO2UuZGVwdGg9dm9pZCAwIT09ZS5oZWlnaHQ/ZS5oZWlnaHQ6NTAsdm9pZCAwPT09ZS5iZXZlbFRoaWNrbmVzcyYmKGUuYmV2ZWxUaGlja25lc3M9MTApLHZvaWQgMD09PWUuYmV2ZWxTaXplJiYoZS5iZXZlbFNpemU9OCksdm9pZCAwPT09ZS5iZXZlbEVuYWJsZWQmJihlLmJldmVsRW5hYmxlZD0hMSksc3VwZXIocixlKSx0aGlzLnR5cGU9XCJUZXh0QnVmZmVyR2VvbWV0cnlcIn19Y2xhc3MgbnUgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy50eXBlPVwiVGV4dEdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt0ZXh0OnQscGFyYW1ldGVyczplfSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgZXUodCxlKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9fWNsYXNzIHJ1IGV4dGVuZHMgcWl7Y29uc3RydWN0b3IodD0xLGU9LjQsbj04LHI9NixpPTIqTWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJUb3J1c0J1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCx0dWJlOmUscmFkaWFsU2VnbWVudHM6bix0dWJ1bGFyU2VnbWVudHM6cixhcmM6aX0sbj1NYXRoLmZsb29yKG4pLHI9TWF0aC5mbG9vcihyKTtjb25zdCBvPVtdLGE9W10scz1bXSxjPVtdLGw9bmV3IEtuLHU9bmV3IEtuLGg9bmV3IEtuO2ZvcihsZXQgbz0wO288PW47bysrKWZvcihsZXQgZD0wO2Q8PXI7ZCsrKXtjb25zdCBwPWQvcippLGY9by9uKk1hdGguUEkqMjt1Lng9KHQrZSpNYXRoLmNvcyhmKSkqTWF0aC5jb3MocCksdS55PSh0K2UqTWF0aC5jb3MoZikpKk1hdGguc2luKHApLHUuej1lKk1hdGguc2luKGYpLGEucHVzaCh1LngsdS55LHUueiksbC54PXQqTWF0aC5jb3MocCksbC55PXQqTWF0aC5zaW4ocCksaC5zdWJWZWN0b3JzKHUsbCkubm9ybWFsaXplKCkscy5wdXNoKGgueCxoLnksaC56KSxjLnB1c2goZC9yKSxjLnB1c2goby9uKX1mb3IobGV0IHQ9MTt0PD1uO3QrKylmb3IobGV0IGU9MTtlPD1yO2UrKyl7Y29uc3Qgbj0ocisxKSp0K2UtMSxpPShyKzEpKih0LTEpK2UtMSxhPShyKzEpKih0LTEpK2Uscz0ocisxKSp0K2U7by5wdXNoKG4saSxzKSxvLnB1c2goaSxhLHMpfXRoaXMuc2V0SW5kZXgobyksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyBOaShzLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IE5pKGMsMikpfX1jbGFzcyBpdSBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSxuLHIsaSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJUb3J1c0dlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCx0dWJlOmUscmFkaWFsU2VnbWVudHM6bix0dWJ1bGFyU2VnbWVudHM6cixhcmM6aX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IHJ1KHQsZSxuLHIsaSkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfX1jbGFzcyBvdSBleHRlbmRzIHFpe2NvbnN0cnVjdG9yKHQ9MSxlPS40LG49NjQscj04LGk9MixvPTMpe3N1cGVyKCksdGhpcy50eXBlPVwiVG9ydXNLbm90QnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHR1YmU6ZSx0dWJ1bGFyU2VnbWVudHM6bixyYWRpYWxTZWdtZW50czpyLHA6aSxxOm99LG49TWF0aC5mbG9vcihuKSxyPU1hdGguZmxvb3Iocik7Y29uc3QgYT1bXSxzPVtdLGM9W10sbD1bXSx1PW5ldyBLbixoPW5ldyBLbixkPW5ldyBLbixwPW5ldyBLbixmPW5ldyBLbixtPW5ldyBLbixnPW5ldyBLbjtmb3IobGV0IGE9MDthPD1uOysrYSl7Y29uc3QgeT1hL24qaSpNYXRoLlBJKjI7dih5LGksbyx0LGQpLHYoeSsuMDEsaSxvLHQscCksbS5zdWJWZWN0b3JzKHAsZCksZy5hZGRWZWN0b3JzKHAsZCksZi5jcm9zc1ZlY3RvcnMobSxnKSxnLmNyb3NzVmVjdG9ycyhmLG0pLGYubm9ybWFsaXplKCksZy5ub3JtYWxpemUoKTtmb3IobGV0IHQ9MDt0PD1yOysrdCl7Y29uc3QgaT10L3IqTWF0aC5QSSoyLG89LWUqTWF0aC5jb3MoaSkscD1lKk1hdGguc2luKGkpO3UueD1kLngrKG8qZy54K3AqZi54KSx1Lnk9ZC55KyhvKmcueStwKmYueSksdS56PWQueisobypnLnorcCpmLnopLHMucHVzaCh1LngsdS55LHUueiksaC5zdWJWZWN0b3JzKHUsZCkubm9ybWFsaXplKCksYy5wdXNoKGgueCxoLnksaC56KSxsLnB1c2goYS9uKSxsLnB1c2godC9yKX19Zm9yKGxldCB0PTE7dDw9bjt0KyspZm9yKGxldCBlPTE7ZTw9cjtlKyspe2NvbnN0IG49KHIrMSkqKHQtMSkrKGUtMSksaT0ocisxKSp0KyhlLTEpLG89KHIrMSkqdCtlLHM9KHIrMSkqKHQtMSkrZTthLnB1c2gobixpLHMpLGEucHVzaChpLG8scyl9ZnVuY3Rpb24gdih0LGUsbixyLGkpe2NvbnN0IG89TWF0aC5jb3ModCksYT1NYXRoLnNpbih0KSxzPW4vZSp0LGM9TWF0aC5jb3Mocyk7aS54PXIqKDIrYykqLjUqbyxpLnk9ciooMitjKSphKi41LGkuej1yKk1hdGguc2luKHMpKi41fXRoaXMuc2V0SW5kZXgoYSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShzLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyBOaShjLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IE5pKGwsMikpfX1jbGFzcyBhdSBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSxuLHIsaSxvLGEpe3N1cGVyKCksdGhpcy50eXBlPVwiVG9ydXNLbm90R2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHR1YmU6ZSx0dWJ1bGFyU2VnbWVudHM6bixyYWRpYWxTZWdtZW50czpyLHA6aSxxOm99LHZvaWQgMCE9PWEmJmNvbnNvbGUud2FybihcIlRIUkVFLlRvcnVzS25vdEdlb21ldHJ5OiBoZWlnaHRTY2FsZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNjYWxlKCB4LCB5LCB6ICkgaW5zdGVhZC5cIiksdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IG91KHQsZSxuLHIsaSxvKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9fWNsYXNzIHN1IGV4dGVuZHMgcWl7Y29uc3RydWN0b3IodCxlPTY0LG49MSxyPTgsaT0hMSl7c3VwZXIoKSx0aGlzLnR5cGU9XCJUdWJlQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3BhdGg6dCx0dWJ1bGFyU2VnbWVudHM6ZSxyYWRpdXM6bixyYWRpYWxTZWdtZW50czpyLGNsb3NlZDppfTtjb25zdCBvPXQuY29tcHV0ZUZyZW5ldEZyYW1lcyhlLGkpO3RoaXMudGFuZ2VudHM9by50YW5nZW50cyx0aGlzLm5vcm1hbHM9by5ub3JtYWxzLHRoaXMuYmlub3JtYWxzPW8uYmlub3JtYWxzO2NvbnN0IGE9bmV3IEtuLHM9bmV3IEtuLGM9bmV3IEduO2xldCBsPW5ldyBLbjtjb25zdCB1PVtdLGg9W10sZD1bXSxwPVtdO2Z1bmN0aW9uIGYoaSl7bD10LmdldFBvaW50QXQoaS9lLGwpO2NvbnN0IGM9by5ub3JtYWxzW2ldLGQ9by5iaW5vcm1hbHNbaV07Zm9yKGxldCB0PTA7dDw9cjt0Kyspe2NvbnN0IGU9dC9yKk1hdGguUEkqMixpPU1hdGguc2luKGUpLG89LU1hdGguY29zKGUpO3MueD1vKmMueCtpKmQueCxzLnk9bypjLnkraSpkLnkscy56PW8qYy56K2kqZC56LHMubm9ybWFsaXplKCksaC5wdXNoKHMueCxzLnkscy56KSxhLng9bC54K24qcy54LGEueT1sLnkrbipzLnksYS56PWwueituKnMueix1LnB1c2goYS54LGEueSxhLnopfX0hZnVuY3Rpb24oKXtmb3IobGV0IHQ9MDt0PGU7dCsrKWYodCk7ZighMT09PWk/ZTowKSxmdW5jdGlvbigpe2ZvcihsZXQgdD0wO3Q8PWU7dCsrKWZvcihsZXQgbj0wO248PXI7bisrKWMueD10L2UsYy55PW4vcixkLnB1c2goYy54LGMueSl9KCksZnVuY3Rpb24oKXtmb3IobGV0IHQ9MTt0PD1lO3QrKylmb3IobGV0IGU9MTtlPD1yO2UrKyl7Y29uc3Qgbj0ocisxKSoodC0xKSsoZS0xKSxpPShyKzEpKnQrKGUtMSksbz0ocisxKSp0K2UsYT0ocisxKSoodC0xKStlO3AucHVzaChuLGksYSkscC5wdXNoKGksbyxhKX19KCl9KCksdGhpcy5zZXRJbmRleChwKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKHUsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IE5pKGgsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgTmkoZCwyKSl9dG9KU09OKCl7Y29uc3QgdD1xaS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIHQucGF0aD10aGlzLnBhcmFtZXRlcnMucGF0aC50b0pTT04oKSx0fX1jbGFzcyBjdSBleHRlbmRzIGpje2NvbnN0cnVjdG9yKHQsZSxuLHIsaSxvKXtzdXBlcigpLHRoaXMudHlwZT1cIlR1YmVHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cGF0aDp0LHR1YnVsYXJTZWdtZW50czplLHJhZGl1czpuLHJhZGlhbFNlZ21lbnRzOnIsY2xvc2VkOml9LHZvaWQgMCE9PW8mJmNvbnNvbGUud2FybihcIlRIUkVFLlR1YmVHZW9tZXRyeTogdGFwZXIgaGFzIGJlZW4gcmVtb3ZlZC5cIik7Y29uc3QgYT1uZXcgc3UodCxlLG4scixpKTt0aGlzLnRhbmdlbnRzPWEudGFuZ2VudHMsdGhpcy5ub3JtYWxzPWEubm9ybWFscyx0aGlzLmJpbm9ybWFscz1hLmJpbm9ybWFscyx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShhKSx0aGlzLm1lcmdlVmVydGljZXMoKX19Y2xhc3MgbHUgZXh0ZW5kcyBxaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT1cIldpcmVmcmFtZUdlb21ldHJ5XCI7Y29uc3QgZT1bXSxuPVswLDBdLHI9e30saT1bXCJhXCIsXCJiXCIsXCJjXCJdO2lmKHQmJnQuaXNHZW9tZXRyeSl7Y29uc3Qgbz10LmZhY2VzO2ZvcihsZXQgdD0wLGU9by5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1vW3RdO2ZvcihsZXQgdD0wO3Q8Mzt0Kyspe2NvbnN0IG89ZVtpW3RdXSxhPWVbaVsodCsxKSUzXV07blswXT1NYXRoLm1pbihvLGEpLG5bMV09TWF0aC5tYXgobyxhKTtjb25zdCBzPW5bMF0rXCIsXCIrblsxXTt2b2lkIDA9PT1yW3NdJiYocltzXT17aW5kZXgxOm5bMF0saW5kZXgyOm5bMV19KX19Zm9yKGNvbnN0IG4gaW4gcil7Y29uc3QgaT1yW25dO2xldCBvPXQudmVydGljZXNbaS5pbmRleDFdO2UucHVzaChvLngsby55LG8ueiksbz10LnZlcnRpY2VzW2kuaW5kZXgyXSxlLnB1c2goby54LG8ueSxvLnopfX1lbHNlIGlmKHQmJnQuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgaT1uZXcgS247aWYobnVsbCE9PXQuaW5kZXgpe2NvbnN0IG89dC5hdHRyaWJ1dGVzLnBvc2l0aW9uLGE9dC5pbmRleDtsZXQgcz10Lmdyb3VwczswPT09cy5sZW5ndGgmJihzPVt7c3RhcnQ6MCxjb3VudDphLmNvdW50LG1hdGVyaWFsSW5kZXg6MH1dKTtmb3IobGV0IHQ9MCxlPXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9c1t0XSxpPWUuc3RhcnQ7Zm9yKGxldCB0PWksbz1pK2UuY291bnQ7dDxvO3QrPTMpZm9yKGxldCBlPTA7ZTwzO2UrKyl7Y29uc3QgaT1hLmdldFgodCtlKSxvPWEuZ2V0WCh0KyhlKzEpJTMpO25bMF09TWF0aC5taW4oaSxvKSxuWzFdPU1hdGgubWF4KGksbyk7Y29uc3Qgcz1uWzBdK1wiLFwiK25bMV07dm9pZCAwPT09cltzXSYmKHJbc109e2luZGV4MTpuWzBdLGluZGV4MjpuWzFdfSl9fWZvcihjb25zdCB0IGluIHIpe2NvbnN0IG49clt0XTtpLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxuLmluZGV4MSksZS5wdXNoKGkueCxpLnksaS56KSxpLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxuLmluZGV4MiksZS5wdXNoKGkueCxpLnksaS56KX19ZWxzZXtjb25zdCBuPXQuYXR0cmlidXRlcy5wb3NpdGlvbjtmb3IobGV0IHQ9MCxyPW4uY291bnQvMzt0PHI7dCsrKWZvcihsZXQgcj0wO3I8MztyKyspe2NvbnN0IG89Myp0K3I7aS5mcm9tQnVmZmVyQXR0cmlidXRlKG4sbyksZS5wdXNoKGkueCxpLnksaS56KTtjb25zdCBhPTMqdCsocisxKSUzO2kuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLGEpLGUucHVzaChpLngsaS55LGkueil9fX10aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGUsMykpfX12YXIgdXU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQm94R2VvbWV0cnk6V2MsQm94QnVmZmVyR2VvbWV0cnk6bW8sQ2lyY2xlR2VvbWV0cnk6cWMsQ2lyY2xlQnVmZmVyR2VvbWV0cnk6WGMsQ29uZUdlb21ldHJ5OkpjLENvbmVCdWZmZXJHZW9tZXRyeTpLYyxDeWxpbmRlckdlb21ldHJ5OlpjLEN5bGluZGVyQnVmZmVyR2VvbWV0cnk6WWMsRG9kZWNhaGVkcm9uR2VvbWV0cnk6dGwsRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk6JGMsRWRnZXNHZW9tZXRyeTpvbCxFeHRydWRlR2VvbWV0cnk6QmwsRXh0cnVkZUJ1ZmZlckdlb21ldHJ5Ok5sLEljb3NhaGVkcm9uR2VvbWV0cnk6VWwsSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeTpGbCxMYXRoZUdlb21ldHJ5OkdsLExhdGhlQnVmZmVyR2VvbWV0cnk6emwsT2N0YWhlZHJvbkdlb21ldHJ5OmtsLE9jdGFoZWRyb25CdWZmZXJHZW9tZXRyeTpIbCxQYXJhbWV0cmljR2VvbWV0cnk6amwsUGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5OlZsLFBsYW5lR2VvbWV0cnk6V2wsUGxhbmVCdWZmZXJHZW9tZXRyeTpDbyxQb2x5aGVkcm9uR2VvbWV0cnk6WGwsUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5OlFjLFJpbmdHZW9tZXRyeTpZbCxSaW5nQnVmZmVyR2VvbWV0cnk6cWwsU2hhcGVHZW9tZXRyeTpKbCxTaGFwZUJ1ZmZlckdlb21ldHJ5OlpsLFNwaGVyZUdlb21ldHJ5OlFsLFNwaGVyZUJ1ZmZlckdlb21ldHJ5OktsLFRldHJhaGVkcm9uR2VvbWV0cnk6dHUsVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeTokbCxUZXh0R2VvbWV0cnk6bnUsVGV4dEJ1ZmZlckdlb21ldHJ5OmV1LFRvcnVzR2VvbWV0cnk6aXUsVG9ydXNCdWZmZXJHZW9tZXRyeTpydSxUb3J1c0tub3RHZW9tZXRyeTphdSxUb3J1c0tub3RCdWZmZXJHZW9tZXRyeTpvdSxUdWJlR2VvbWV0cnk6Y3UsVHViZUJ1ZmZlckdlb21ldHJ5OnN1LFdpcmVmcmFtZUdlb21ldHJ5Omx1fSk7ZnVuY3Rpb24gaHUodCl7d2kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTaGFkb3dNYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHlpKDApLHRoaXMudHJhbnNwYXJlbnQ9ITAsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gZHUodCl7eG8uY2FsbCh0aGlzLHQpLHRoaXMudHlwZT1cIlJhd1NoYWRlck1hdGVyaWFsXCJ9ZnVuY3Rpb24gcHUodCl7d2kuY2FsbCh0aGlzKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOlwiXCJ9LHRoaXMudHlwZT1cIk1lc2hTdGFuZGFyZE1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgeWkoMTY3NzcyMTUpLHRoaXMucm91Z2huZXNzPTEsdGhpcy5tZXRhbG5lc3M9MCx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyB5aSgwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9c24sdGhpcy5ub3JtYWxTY2FsZT1uZXcgR24oMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLnJvdWdobmVzc01hcD1udWxsLHRoaXMubWV0YWxuZXNzTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5lbnZNYXBJbnRlbnNpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9XCJyb3VuZFwiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49XCJyb3VuZFwiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy52ZXJ0ZXhUYW5nZW50cz0hMSx0aGlzLnNldFZhbHVlcyh0KX1mdW5jdGlvbiBmdSh0KXtwdS5jYWxsKHRoaXMpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6XCJcIixQSFlTSUNBTDpcIlwifSx0aGlzLnR5cGU9XCJNZXNoUGh5c2ljYWxNYXRlcmlhbFwiLHRoaXMuY2xlYXJjb2F0PTAsdGhpcy5jbGVhcmNvYXRNYXA9bnVsbCx0aGlzLmNsZWFyY29hdFJvdWdobmVzcz0wLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwPW51bGwsdGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZT1uZXcgR24oMSwxKSx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1udWxsLHRoaXMucmVmbGVjdGl2aXR5PS41LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaW9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybigxKy40KnRoaXMucmVmbGVjdGl2aXR5KS8oMS0uNCp0aGlzLnJlZmxlY3Rpdml0eSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJlZmxlY3Rpdml0eT16bi5jbGFtcCgyLjUqKHQtMSkvKHQrMSksMCwxKX19KSx0aGlzLnNoZWVuPW51bGwsdGhpcy50cmFuc21pc3Npb249MCx0aGlzLnRyYW5zbWlzc2lvbk1hcD1udWxsLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIG11KHQpe3dpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTWVzaFBob25nTWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB5aSgxNjc3NzIxNSksdGhpcy5zcGVjdWxhcj1uZXcgeWkoMTExODQ4MSksdGhpcy5zaGluaW5lc3M9MzAsdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgeWkoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPXNuLHRoaXMubm9ybWFsU2NhbGU9bmV3IEduKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1aLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPVwicm91bmRcIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIGd1KHQpe3dpLmNhbGwodGhpcyksdGhpcy5kZWZpbmVzPXtUT09OOlwiXCJ9LHRoaXMudHlwZT1cIk1lc2hUb29uTWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB5aSgxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmdyYWRpZW50TWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IHlpKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT1zbix0aGlzLm5vcm1hbFNjYWxlPW5ldyBHbigxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD1cInJvdW5kXCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1cInJvdW5kXCIsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1vcnBoTm9ybWFscz0hMSx0aGlzLnNldFZhbHVlcyh0KX1mdW5jdGlvbiB2dSh0KXt3aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIk1lc2hOb3JtYWxNYXRlcmlhbFwiLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9c24sdGhpcy5ub3JtYWxTY2FsZT1uZXcgR24oMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24geXUodCl7d2kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoTGFtYmVydE1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgeWkoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IHlpKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1aLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPVwicm91bmRcIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIHh1KHQpe3dpLmNhbGwodGhpcyksdGhpcy5kZWZpbmVzPXtNQVRDQVA6XCJcIn0sdGhpcy50eXBlPVwiTWVzaE1hdGNhcE1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgeWkoMTY3NzcyMTUpLHRoaXMubWF0Y2FwPW51bGwsdGhpcy5tYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPXNuLHRoaXMubm9ybWFsU2NhbGU9bmV3IEduKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gYnUodCl7eWMuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMaW5lRGFzaGVkTWF0ZXJpYWxcIix0aGlzLnNjYWxlPTEsdGhpcy5kYXNoU2l6ZT0zLHRoaXMuZ2FwU2l6ZT0xLHRoaXMuc2V0VmFsdWVzKHQpfWh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSksaHUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWh1LGh1LnByb3RvdHlwZS5pc1NoYWRvd01hdGVyaWFsPSEwLGh1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXN9LGR1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHhvLnByb3RvdHlwZSksZHUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWR1LGR1LnByb3RvdHlwZS5pc1Jhd1NoYWRlck1hdGVyaWFsPSEwLHB1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSkscHUucHJvdG90eXBlLmNvbnN0cnVjdG9yPXB1LHB1LnByb3RvdHlwZS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsPSEwLHB1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDpcIlwifSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5yb3VnaG5lc3M9dC5yb3VnaG5lc3MsdGhpcy5tZXRhbG5lc3M9dC5tZXRhbG5lc3MsdGhpcy5tYXA9dC5tYXAsdGhpcy5saWdodE1hcD10LmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9dC5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPXQuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weSh0LmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPXQuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy5yb3VnaG5lc3NNYXA9dC5yb3VnaG5lc3NNYXAsdGhpcy5tZXRhbG5lc3NNYXA9dC5tZXRhbG5lc3NNYXAsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuZW52TWFwPXQuZW52TWFwLHRoaXMuZW52TWFwSW50ZW5zaXR5PXQuZW52TWFwSW50ZW5zaXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPXQud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPXQud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD10LndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj10LndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz10Lm1vcnBoTm9ybWFscyx0aGlzLnZlcnRleFRhbmdlbnRzPXQudmVydGV4VGFuZ2VudHMsdGhpc30sZnUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocHUucHJvdG90eXBlKSxmdS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZnUsZnUucHJvdG90eXBlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw9ITAsZnUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHB1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOlwiXCIsUEhZU0lDQUw6XCJcIn0sdGhpcy5jbGVhcmNvYXQ9dC5jbGVhcmNvYXQsdGhpcy5jbGVhcmNvYXRNYXA9dC5jbGVhcmNvYXRNYXAsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9dC5jbGVhcmNvYXRSb3VnaG5lc3MsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9dC5jbGVhcmNvYXRSb3VnaG5lc3NNYXAsdGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9dC5jbGVhcmNvYXROb3JtYWxNYXAsdGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS5jb3B5KHQuY2xlYXJjb2F0Tm9ybWFsU2NhbGUpLHRoaXMucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5LHQuc2hlZW4/dGhpcy5zaGVlbj0odGhpcy5zaGVlbnx8bmV3IHlpKS5jb3B5KHQuc2hlZW4pOnRoaXMuc2hlZW49bnVsbCx0aGlzLnRyYW5zbWlzc2lvbj10LnRyYW5zbWlzc2lvbix0aGlzLnRyYW5zbWlzc2lvbk1hcD10LnRyYW5zbWlzc2lvbk1hcCx0aGlzfSxtdS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3aS5wcm90b3R5cGUpLG11LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tdSxtdS5wcm90b3R5cGUuaXNNZXNoUGhvbmdNYXRlcmlhbD0hMCxtdS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gd2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLnNwZWN1bGFyLmNvcHkodC5zcGVjdWxhciksdGhpcy5zaGluaW5lc3M9dC5zaGluaW5lc3MsdGhpcy5tYXA9dC5tYXAsdGhpcy5saWdodE1hcD10LmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9dC5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPXQuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weSh0LmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPXQuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy5zcGVjdWxhck1hcD10LnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLmVudk1hcD10LmVudk1hcCx0aGlzLmNvbWJpbmU9dC5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPXQud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPXQud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD10LndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj10LndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz10Lm1vcnBoTm9ybWFscyx0aGlzfSxndS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3aS5wcm90b3R5cGUpLGd1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ndSxndS5wcm90b3R5cGUuaXNNZXNoVG9vbk1hdGVyaWFsPSEwLGd1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuZ3JhZGllbnRNYXA9dC5ncmFkaWVudE1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXN9LHZ1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSksdnUucHJvdG90eXBlLmNvbnN0cnVjdG9yPXZ1LHZ1LnByb3RvdHlwZS5pc01lc2hOb3JtYWxNYXRlcmlhbD0hMCx2dS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gd2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXN9LHl1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHdpLnByb3RvdHlwZSkseXUucHJvdG90eXBlLmNvbnN0cnVjdG9yPXl1LHl1LnByb3RvdHlwZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw9ITAseXUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHdpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5tYXA9dC5tYXAsdGhpcy5saWdodE1hcD10LmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9dC5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPXQuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weSh0LmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPXQuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuc3BlY3VsYXJNYXA9dC5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5jb21iaW5lPXQuY29tYmluZSx0aGlzLnJlZmxlY3Rpdml0eT10LnJlZmxlY3Rpdml0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz10LnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9dC53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbix0aGlzLnNraW5uaW5nPXQuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpcy5tb3JwaE5vcm1hbHM9dC5tb3JwaE5vcm1hbHMsdGhpc30seHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUod2kucHJvdG90eXBlKSx4dS5wcm90b3R5cGUuY29uc3RydWN0b3I9eHUseHUucHJvdG90eXBlLmlzTWVzaE1hdGNhcE1hdGVyaWFsPSEwLHh1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB3aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5kZWZpbmVzPXtNQVRDQVA6XCJcIn0sdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWF0Y2FwPXQubWF0Y2FwLHRoaXMubWFwPXQubWFwLHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz10Lm1vcnBoTm9ybWFscyx0aGlzfSxidS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5Yy5wcm90b3R5cGUpLGJ1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1idSxidS5wcm90b3R5cGUuaXNMaW5lRGFzaGVkTWF0ZXJpYWw9ITAsYnUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHljLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnNjYWxlPXQuc2NhbGUsdGhpcy5kYXNoU2l6ZT10LmRhc2hTaXplLHRoaXMuZ2FwU2l6ZT10LmdhcFNpemUsdGhpc307dmFyIHd1PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNoYWRvd01hdGVyaWFsOmh1LFNwcml0ZU1hdGVyaWFsOlZzLFJhd1NoYWRlck1hdGVyaWFsOmR1LFNoYWRlck1hdGVyaWFsOnhvLFBvaW50c01hdGVyaWFsOlJjLE1lc2hQaHlzaWNhbE1hdGVyaWFsOmZ1LE1lc2hTdGFuZGFyZE1hdGVyaWFsOnB1LE1lc2hQaG9uZ01hdGVyaWFsOm11LE1lc2hUb29uTWF0ZXJpYWw6Z3UsTWVzaE5vcm1hbE1hdGVyaWFsOnZ1LE1lc2hMYW1iZXJ0TWF0ZXJpYWw6eXUsTWVzaERlcHRoTWF0ZXJpYWw6U3MsTWVzaERpc3RhbmNlTWF0ZXJpYWw6VHMsTWVzaEJhc2ljTWF0ZXJpYWw6X2ksTWVzaE1hdGNhcE1hdGVyaWFsOnh1LExpbmVEYXNoZWRNYXRlcmlhbDpidSxMaW5lQmFzaWNNYXRlcmlhbDp5YyxNYXRlcmlhbDp3aX0pO2NvbnN0IF91PXthcnJheVNsaWNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gX3UuaXNUeXBlZEFycmF5KHQpP25ldyB0LmNvbnN0cnVjdG9yKHQuc3ViYXJyYXkoZSx2b2lkIDAhPT1uP246dC5sZW5ndGgpKTp0LnNsaWNlKGUsbil9LGNvbnZlcnRBcnJheTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIXR8fCFuJiZ0LmNvbnN0cnVjdG9yPT09ZT90OlwibnVtYmVyXCI9PXR5cGVvZiBlLkJZVEVTX1BFUl9FTEVNRU5UP25ldyBlKHQpOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpfSxpc1R5cGVkQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyh0KSYmISh0IGluc3RhbmNlb2YgRGF0YVZpZXcpfSxnZXRLZXlmcmFtZU9yZGVyOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sZW5ndGgsbj1uZXcgQXJyYXkoZSk7Zm9yKGxldCB0PTA7dCE9PWU7Kyt0KW5bdF09dDtyZXR1cm4gbi5zb3J0KChmdW5jdGlvbihlLG4pe3JldHVybiB0W2VdLXRbbl19KSksbn0sc29ydGVkQXJyYXk6ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5sZW5ndGgsaT1uZXcgdC5jb25zdHJ1Y3RvcihyKTtmb3IobGV0IG89MCxhPTA7YSE9PXI7KytvKXtjb25zdCByPW5bb10qZTtmb3IobGV0IG49MDtuIT09ZTsrK24paVthKytdPXRbcituXX1yZXR1cm4gaX0sZmxhdHRlbkpTT046ZnVuY3Rpb24odCxlLG4scil7bGV0IGk9MSxvPXRbMF07Zm9yKDt2b2lkIDAhPT1vJiZ2b2lkIDA9PT1vW3JdOylvPXRbaSsrXTtpZih2b2lkIDA9PT1vKXJldHVybjtsZXQgYT1vW3JdO2lmKHZvaWQgMCE9PWEpaWYoQXJyYXkuaXNBcnJheShhKSlkb3thPW9bcl0sdm9pZCAwIT09YSYmKGUucHVzaChvLnRpbWUpLG4ucHVzaC5hcHBseShuLGEpKSxvPXRbaSsrXX13aGlsZSh2b2lkIDAhPT1vKTtlbHNlIGlmKHZvaWQgMCE9PWEudG9BcnJheSlkb3thPW9bcl0sdm9pZCAwIT09YSYmKGUucHVzaChvLnRpbWUpLGEudG9BcnJheShuLG4ubGVuZ3RoKSksbz10W2krK119d2hpbGUodm9pZCAwIT09byk7ZWxzZSBkb3thPW9bcl0sdm9pZCAwIT09YSYmKGUucHVzaChvLnRpbWUpLG4ucHVzaChhKSksbz10W2krK119d2hpbGUodm9pZCAwIT09byl9LHN1YmNsaXA6ZnVuY3Rpb24odCxlLG4scixpPTMwKXtjb25zdCBvPXQuY2xvbmUoKTtvLm5hbWU9ZTtjb25zdCBhPVtdO2ZvcihsZXQgdD0wO3Q8by50cmFja3MubGVuZ3RoOysrdCl7Y29uc3QgZT1vLnRyYWNrc1t0XSxzPWUuZ2V0VmFsdWVTaXplKCksYz1bXSxsPVtdO2ZvcihsZXQgdD0wO3Q8ZS50aW1lcy5sZW5ndGg7Kyt0KXtjb25zdCBvPWUudGltZXNbdF0qaTtpZighKG88bnx8bz49cikpe2MucHVzaChlLnRpbWVzW3RdKTtmb3IobGV0IG49MDtuPHM7KytuKWwucHVzaChlLnZhbHVlc1t0KnMrbl0pfX0wIT09Yy5sZW5ndGgmJihlLnRpbWVzPV91LmNvbnZlcnRBcnJheShjLGUudGltZXMuY29uc3RydWN0b3IpLGUudmFsdWVzPV91LmNvbnZlcnRBcnJheShsLGUudmFsdWVzLmNvbnN0cnVjdG9yKSxhLnB1c2goZSkpfW8udHJhY2tzPWE7bGV0IHM9MS8wO2ZvcihsZXQgdD0wO3Q8by50cmFja3MubGVuZ3RoOysrdClzPm8udHJhY2tzW3RdLnRpbWVzWzBdJiYocz1vLnRyYWNrc1t0XS50aW1lc1swXSk7Zm9yKGxldCB0PTA7dDxvLnRyYWNrcy5sZW5ndGg7Kyt0KW8udHJhY2tzW3RdLnNoaWZ0KC0xKnMpO3JldHVybiBvLnJlc2V0RHVyYXRpb24oKSxvfSxtYWtlQ2xpcEFkZGl0aXZlOmZ1bmN0aW9uKHQsZT0wLG49dCxyPTMwKXtyPD0wJiYocj0zMCk7Y29uc3QgaT1uLnRyYWNrcy5sZW5ndGgsbz1lL3I7Zm9yKGxldCBlPTA7ZTxpOysrZSl7Y29uc3Qgcj1uLnRyYWNrc1tlXSxpPXIuVmFsdWVUeXBlTmFtZTtpZihcImJvb2xcIj09PWl8fFwic3RyaW5nXCI9PT1pKWNvbnRpbnVlO2NvbnN0IGE9dC50cmFja3MuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PXIubmFtZSYmdC5WYWx1ZVR5cGVOYW1lPT09aX0pKTtpZih2b2lkIDA9PT1hKWNvbnRpbnVlO2xldCBzPTA7Y29uc3QgYz1yLmdldFZhbHVlU2l6ZSgpO3IuY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUmJihzPWMvMyk7bGV0IGw9MDtjb25zdCB1PWEuZ2V0VmFsdWVTaXplKCk7YS5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKGw9dS8zKTtjb25zdCBoPXIudGltZXMubGVuZ3RoLTE7bGV0IGQ7aWYobzw9ci50aW1lc1swXSl7Y29uc3QgdD1zLGU9Yy1zO2Q9X3UuYXJyYXlTbGljZShyLnZhbHVlcyx0LGUpfWVsc2UgaWYobz49ci50aW1lc1toXSl7Y29uc3QgdD1oKmMrcyxlPXQrYy1zO2Q9X3UuYXJyYXlTbGljZShyLnZhbHVlcyx0LGUpfWVsc2V7Y29uc3QgdD1yLmNyZWF0ZUludGVycG9sYW50KCksZT1zLG49Yy1zO3QuZXZhbHVhdGUobyksZD1fdS5hcnJheVNsaWNlKHQucmVzdWx0QnVmZmVyLGUsbil9aWYoXCJxdWF0ZXJuaW9uXCI9PT1pKXsobmV3IEpuKS5mcm9tQXJyYXkoZCkubm9ybWFsaXplKCkuY29uanVnYXRlKCkudG9BcnJheShkKX1jb25zdCBwPWEudGltZXMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8cDsrK3Qpe2NvbnN0IGU9dCp1K2w7aWYoXCJxdWF0ZXJuaW9uXCI9PT1pKUpuLm11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGEudmFsdWVzLGUsZCwwLGEudmFsdWVzLGUpO2Vsc2V7Y29uc3QgdD11LTIqbDtmb3IobGV0IG49MDtuPHQ7KytuKWEudmFsdWVzW2Urbl0tPWRbbl19fX1yZXR1cm4gdC5ibGVuZE1vZGU9WGUsdH19O2Z1bmN0aW9uIE11KHQsZSxuLHIpe3RoaXMucGFyYW1ldGVyUG9zaXRpb25zPXQsdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLnJlc3VsdEJ1ZmZlcj12b2lkIDAhPT1yP3I6bmV3IGUuY29uc3RydWN0b3IobiksdGhpcy5zYW1wbGVWYWx1ZXM9ZSx0aGlzLnZhbHVlU2l6ZT1ufWZ1bmN0aW9uIFN1KHQsZSxuLHIpe011LmNhbGwodGhpcyx0LGUsbixyKSx0aGlzLl93ZWlnaHRQcmV2PS0wLHRoaXMuX29mZnNldFByZXY9LTAsdGhpcy5fd2VpZ2h0TmV4dD0tMCx0aGlzLl9vZmZzZXROZXh0PS0wfWZ1bmN0aW9uIFR1KHQsZSxuLHIpe011LmNhbGwodGhpcyx0LGUsbixyKX1mdW5jdGlvbiBFdSh0LGUsbixyKXtNdS5jYWxsKHRoaXMsdCxlLG4scil9ZnVuY3Rpb24gQXUodCxlLG4scil7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayBuYW1lIGlzIHVuZGVmaW5lZFwiKTtpZih2b2lkIDA9PT1lfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuS2V5ZnJhbWVUcmFjazogbm8ga2V5ZnJhbWVzIGluIHRyYWNrIG5hbWVkIFwiK3QpO3RoaXMubmFtZT10LHRoaXMudGltZXM9X3UuY29udmVydEFycmF5KGUsdGhpcy5UaW1lQnVmZmVyVHlwZSksdGhpcy52YWx1ZXM9X3UuY29udmVydEFycmF5KG4sdGhpcy5WYWx1ZUJ1ZmZlclR5cGUpLHRoaXMuc2V0SW50ZXJwb2xhdGlvbihyfHx0aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKX1mdW5jdGlvbiBMdSh0LGUsbil7QXUuY2FsbCh0aGlzLHQsZSxuKX1mdW5jdGlvbiBSdSh0LGUsbixyKXtBdS5jYWxsKHRoaXMsdCxlLG4scil9ZnVuY3Rpb24gUHUodCxlLG4scil7QXUuY2FsbCh0aGlzLHQsZSxuLHIpfWZ1bmN0aW9uIEN1KHQsZSxuLHIpe011LmNhbGwodGhpcyx0LGUsbixyKX1mdW5jdGlvbiBJdSh0LGUsbixyKXtBdS5jYWxsKHRoaXMsdCxlLG4scil9ZnVuY3Rpb24gT3UodCxlLG4scil7QXUuY2FsbCh0aGlzLHQsZSxuLHIpfWZ1bmN0aW9uIE51KHQsZSxuLHIpe0F1LmNhbGwodGhpcyx0LGUsbixyKX1mdW5jdGlvbiBEdSh0LGUsbixyKXt0aGlzLm5hbWU9dCx0aGlzLnRyYWNrcz1uLHRoaXMuZHVyYXRpb249dm9pZCAwIT09ZT9lOi0xLHRoaXMuYmxlbmRNb2RlPXZvaWQgMCE9PXI/cjpXZSx0aGlzLnV1aWQ9em4uZ2VuZXJhdGVVVUlEKCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1mdW5jdGlvbiBCdSh0KXtpZih2b2lkIDA9PT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgdHlwZSB1bmRlZmluZWQsIGNhbiBub3QgcGFyc2VcIik7Y29uc3QgZT1mdW5jdGlvbih0KXtzd2l0Y2godC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzY2FsYXJcIjpjYXNlXCJkb3VibGVcIjpjYXNlXCJmbG9hdFwiOmNhc2VcIm51bWJlclwiOmNhc2VcImludGVnZXJcIjpyZXR1cm4gUHU7Y2FzZVwidmVjdG9yXCI6Y2FzZVwidmVjdG9yMlwiOmNhc2VcInZlY3RvcjNcIjpjYXNlXCJ2ZWN0b3I0XCI6cmV0dXJuIE51O2Nhc2VcImNvbG9yXCI6cmV0dXJuIFJ1O2Nhc2VcInF1YXRlcm5pb25cIjpyZXR1cm4gSXU7Y2FzZVwiYm9vbFwiOmNhc2VcImJvb2xlYW5cIjpyZXR1cm4gTHU7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIE91fXRocm93IG5ldyBFcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IFVuc3VwcG9ydGVkIHR5cGVOYW1lOiBcIit0KX0odC50eXBlKTtpZih2b2lkIDA9PT10LnRpbWVzKXtjb25zdCBlPVtdLG49W107X3UuZmxhdHRlbkpTT04odC5rZXlzLGUsbixcInZhbHVlXCIpLHQudGltZXM9ZSx0LnZhbHVlcz1ufXJldHVybiB2b2lkIDAhPT1lLnBhcnNlP2UucGFyc2UodCk6bmV3IGUodC5uYW1lLHQudGltZXMsdC52YWx1ZXMsdC5pbnRlcnBvbGF0aW9uKX1PYmplY3QuYXNzaWduKE11LnByb3RvdHlwZSx7ZXZhbHVhdGU6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLnBhcmFtZXRlclBvc2l0aW9ucztsZXQgbj10aGlzLl9jYWNoZWRJbmRleCxyPWVbbl0saT1lW24tMV07dDp7ZTp7bGV0IG87bjp7cjppZighKHQ8cikpe2ZvcihsZXQgbz1uKzI7Oyl7aWYodm9pZCAwPT09cil7aWYodDxpKWJyZWFrIHI7cmV0dXJuIG49ZS5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmFmdGVyRW5kXyhuLTEsdCxpKX1pZihuPT09bylicmVhaztpZihpPXIscj1lWysrbl0sdDxyKWJyZWFrIGV9bz1lLmxlbmd0aDticmVhayBufWlmKHQ+PWkpYnJlYWsgdDt7Y29uc3QgYT1lWzFdO3Q8YSYmKG49MixpPWEpO2ZvcihsZXQgbz1uLTI7Oyl7aWYodm9pZCAwPT09aSlyZXR1cm4gdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLmJlZm9yZVN0YXJ0XygwLHQscik7aWYobj09PW8pYnJlYWs7aWYocj1pLGk9ZVstLW4tMV0sdD49aSlicmVhayBlfW89bixuPTB9fWZvcig7bjxvOyl7Y29uc3Qgcj1uK28+Pj4xO3Q8ZVtyXT9vPXI6bj1yKzF9aWYocj1lW25dLGk9ZVtuLTFdLHZvaWQgMD09PWkpcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCx0LHIpO2lmKHZvaWQgMD09PXIpcmV0dXJuIG49ZS5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmFmdGVyRW5kXyhuLTEsaSx0KX10aGlzLl9jYWNoZWRJbmRleD1uLHRoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhuLGkscil9cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKG4saSx0LHIpfSxzZXR0aW5nczpudWxsLERlZmF1bHRTZXR0aW5nc186e30sZ2V0U2V0dGluZ3NfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3N8fHRoaXMuRGVmYXVsdFNldHRpbmdzX30sY29weVNhbXBsZVZhbHVlXzpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMscj10aGlzLnZhbHVlU2l6ZSxpPXQqcjtmb3IobGV0IHQ9MDt0IT09cjsrK3QpZVt0XT1uW2krdF07cmV0dXJuIGV9LGludGVycG9sYXRlXzpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImNhbGwgdG8gYWJzdHJhY3QgbWV0aG9kXCIpfSxpbnRlcnZhbENoYW5nZWRfOmZ1bmN0aW9uKCl7fX0pLE9iamVjdC5hc3NpZ24oTXUucHJvdG90eXBlLHtiZWZvcmVTdGFydF86TXUucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sYWZ0ZXJFbmRfOk11LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVffSksU3UucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShNdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpTdSxEZWZhdWx0U2V0dGluZ3NfOntlbmRpbmdTdGFydDprZSxlbmRpbmdFbmQ6a2V9LGludGVydmFsQ2hhbmdlZF86ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7bGV0IGk9dC0yLG89dCsxLGE9cltpXSxzPXJbb107aWYodm9pZCAwPT09YSlzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSBWZTppPXQsYT0yKmUtbjticmVhaztjYXNlIGplOmk9ci5sZW5ndGgtMixhPWUrcltpXS1yW2krMV07YnJlYWs7ZGVmYXVsdDppPXQsYT1ufWlmKHZvaWQgMD09PXMpc3dpdGNoKHRoaXMuZ2V0U2V0dGluZ3NfKCkuZW5kaW5nRW5kKXtjYXNlIFZlOm89dCxzPTIqbi1lO2JyZWFrO2Nhc2UgamU6bz0xLHM9bityWzFdLXJbMF07YnJlYWs7ZGVmYXVsdDpvPXQtMSxzPWV9Y29uc3QgYz0uNSoobi1lKSxsPXRoaXMudmFsdWVTaXplO3RoaXMuX3dlaWdodFByZXY9Yy8oZS1hKSx0aGlzLl93ZWlnaHROZXh0PWMvKHMtbiksdGhpcy5fb2Zmc2V0UHJldj1pKmwsdGhpcy5fb2Zmc2V0TmV4dD1vKmx9LGludGVycG9sYXRlXzpmdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPXRoaXMucmVzdWx0QnVmZmVyLG89dGhpcy5zYW1wbGVWYWx1ZXMsYT10aGlzLnZhbHVlU2l6ZSxzPXQqYSxjPXMtYSxsPXRoaXMuX29mZnNldFByZXYsdT10aGlzLl9vZmZzZXROZXh0LGg9dGhpcy5fd2VpZ2h0UHJldixkPXRoaXMuX3dlaWdodE5leHQscD0obi1lKS8oci1lKSxmPXAqcCxtPWYqcCxnPS1oKm0rMipoKmYtaCpwLHY9KDEraCkqbSsoLTEuNS0yKmgpKmYrKC0uNStoKSpwKzEseT0oLTEtZCkqbSsoMS41K2QpKmYrLjUqcCx4PWQqbS1kKmY7Zm9yKGxldCB0PTA7dCE9PWE7Kyt0KWlbdF09ZypvW2wrdF0rdipvW2MrdF0reSpvW3MrdF0reCpvW3UrdF07cmV0dXJuIGl9fSksVHUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShNdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpUdSxpbnRlcnBvbGF0ZV86ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT10aGlzLnJlc3VsdEJ1ZmZlcixvPXRoaXMuc2FtcGxlVmFsdWVzLGE9dGhpcy52YWx1ZVNpemUscz10KmEsYz1zLWEsbD0obi1lKS8oci1lKSx1PTEtbDtmb3IobGV0IHQ9MDt0IT09YTsrK3QpaVt0XT1vW2MrdF0qdStvW3MrdF0qbDtyZXR1cm4gaX19KSxFdS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE11LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkV1LGludGVycG9sYXRlXzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb3B5U2FtcGxlVmFsdWVfKHQtMSl9fSksT2JqZWN0LmFzc2lnbihBdSx7dG9KU09OOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5jb25zdHJ1Y3RvcjtsZXQgbjtpZih2b2lkIDAhPT1lLnRvSlNPTiluPWUudG9KU09OKHQpO2Vsc2V7bj17bmFtZTp0Lm5hbWUsdGltZXM6X3UuY29udmVydEFycmF5KHQudGltZXMsQXJyYXkpLHZhbHVlczpfdS5jb252ZXJ0QXJyYXkodC52YWx1ZXMsQXJyYXkpfTtjb25zdCBlPXQuZ2V0SW50ZXJwb2xhdGlvbigpO2UhPT10LkRlZmF1bHRJbnRlcnBvbGF0aW9uJiYobi5pbnRlcnBvbGF0aW9uPWUpfXJldHVybiBuLnR5cGU9dC5WYWx1ZVR5cGVOYW1lLG59fSksT2JqZWN0LmFzc2lnbihBdS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOkF1LFRpbWVCdWZmZXJUeXBlOkZsb2F0MzJBcnJheSxWYWx1ZUJ1ZmZlclR5cGU6RmxvYXQzMkFycmF5LERlZmF1bHRJbnRlcnBvbGF0aW9uOkdlLEludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXUodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHQpfSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBUdSh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksdCl9LEludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFN1KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSx0KX0sc2V0SW50ZXJwb2xhdGlvbjpmdW5jdGlvbih0KXtsZXQgZTtzd2l0Y2godCl7Y2FzZSB6ZTplPXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGU7YnJlYWs7Y2FzZSBHZTplPXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyO2JyZWFrO2Nhc2UgSGU6ZT10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aH1pZih2b2lkIDA9PT1lKXtjb25zdCBlPVwidW5zdXBwb3J0ZWQgaW50ZXJwb2xhdGlvbiBmb3IgXCIrdGhpcy5WYWx1ZVR5cGVOYW1lK1wiIGtleWZyYW1lIHRyYWNrIG5hbWVkIFwiK3RoaXMubmFtZTtpZih2b2lkIDA9PT10aGlzLmNyZWF0ZUludGVycG9sYW50KXtpZih0PT09dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil0aHJvdyBuZXcgRXJyb3IoZSk7dGhpcy5zZXRJbnRlcnBvbGF0aW9uKHRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pfXJldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5LZXlmcmFtZVRyYWNrOlwiLGUpLHRoaXN9cmV0dXJuIHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9ZSx0aGlzfSxnZXRJbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQpe2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTpyZXR1cm4gemU7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjpyZXR1cm4gR2U7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpyZXR1cm4gSGV9fSxnZXRWYWx1ZVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoL3RoaXMudGltZXMubGVuZ3RofSxzaGlmdDpmdW5jdGlvbih0KXtpZigwIT09dCl7Y29uc3QgZT10aGlzLnRpbWVzO2ZvcihsZXQgbj0wLHI9ZS5sZW5ndGg7biE9PXI7KytuKWVbbl0rPXR9cmV0dXJuIHRoaXN9LHNjYWxlOmZ1bmN0aW9uKHQpe2lmKDEhPT10KXtjb25zdCBlPXRoaXMudGltZXM7Zm9yKGxldCBuPTAscj1lLmxlbmd0aDtuIT09cjsrK24pZVtuXSo9dH1yZXR1cm4gdGhpc30sdHJpbTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy50aW1lcyxyPW4ubGVuZ3RoO2xldCBpPTAsbz1yLTE7Zm9yKDtpIT09ciYmbltpXTx0OykrK2k7Zm9yKDstMSE9PW8mJm5bb10+ZTspLS1vO2lmKCsrbywwIT09aXx8byE9PXIpe2k+PW8mJihvPU1hdGgubWF4KG8sMSksaT1vLTEpO2NvbnN0IHQ9dGhpcy5nZXRWYWx1ZVNpemUoKTt0aGlzLnRpbWVzPV91LmFycmF5U2xpY2UobixpLG8pLHRoaXMudmFsdWVzPV91LmFycmF5U2xpY2UodGhpcy52YWx1ZXMsaSp0LG8qdCl9cmV0dXJuIHRoaXN9LHZhbGlkYXRlOmZ1bmN0aW9uKCl7bGV0IHQ9ITA7Y29uc3QgZT10aGlzLmdldFZhbHVlU2l6ZSgpO2UtTWF0aC5mbG9vcihlKSE9MCYmKGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBJbnZhbGlkIHZhbHVlIHNpemUgaW4gdHJhY2suXCIsdGhpcyksdD0hMSk7Y29uc3Qgbj10aGlzLnRpbWVzLHI9dGhpcy52YWx1ZXMsaT1uLmxlbmd0aDswPT09aSYmKGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBUcmFjayBpcyBlbXB0eS5cIix0aGlzKSx0PSExKTtsZXQgbz1udWxsO2ZvcihsZXQgZT0wO2UhPT1pO2UrKyl7Y29uc3Qgcj1uW2VdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByJiZpc05hTihyKSl7Y29uc29sZS5lcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLlwiLHRoaXMsZSxyKSx0PSExO2JyZWFrfWlmKG51bGwhPT1vJiZvPnIpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBPdXQgb2Ygb3JkZXIga2V5cy5cIix0aGlzLGUscixvKSx0PSExO2JyZWFrfW89cn1pZih2b2lkIDAhPT1yJiZfdS5pc1R5cGVkQXJyYXkocikpZm9yKGxldCBlPTAsbj1yLmxlbmd0aDtlIT09bjsrK2Upe2NvbnN0IG49cltlXTtpZihpc05hTihuKSl7Y29uc29sZS5lcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IFZhbHVlIGlzIG5vdCBhIHZhbGlkIG51bWJlci5cIix0aGlzLGUsbiksdD0hMTticmVha319cmV0dXJuIHR9LG9wdGltaXplOmZ1bmN0aW9uKCl7Y29uc3QgdD1fdS5hcnJheVNsaWNlKHRoaXMudGltZXMpLGU9X3UuYXJyYXlTbGljZSh0aGlzLnZhbHVlcyksbj10aGlzLmdldFZhbHVlU2l6ZSgpLHI9dGhpcy5nZXRJbnRlcnBvbGF0aW9uKCk9PT1IZSxpPXQubGVuZ3RoLTE7bGV0IG89MTtmb3IobGV0IGE9MTthPGk7KythKXtsZXQgaT0hMTtjb25zdCBzPXRbYV07aWYocyE9PXRbYSsxXSYmKDEhPT1hfHxzIT09c1swXSkpaWYocilpPSEwO2Vsc2V7Y29uc3QgdD1hKm4scj10LW4sbz10K247Zm9yKGxldCBhPTA7YSE9PW47KythKXtjb25zdCBuPWVbdCthXTtpZihuIT09ZVtyK2FdfHxuIT09ZVtvK2FdKXtpPSEwO2JyZWFrfX19aWYoaSl7aWYoYSE9PW8pe3Rbb109dFthXTtjb25zdCByPWEqbixpPW8qbjtmb3IobGV0IHQ9MDt0IT09bjsrK3QpZVtpK3RdPWVbcit0XX0rK299fWlmKGk+MCl7dFtvXT10W2ldO2ZvcihsZXQgdD1pKm4scj1vKm4sYT0wO2EhPT1uOysrYSllW3IrYV09ZVt0K2FdOysrb31yZXR1cm4gbyE9PXQubGVuZ3RoPyh0aGlzLnRpbWVzPV91LmFycmF5U2xpY2UodCwwLG8pLHRoaXMudmFsdWVzPV91LmFycmF5U2xpY2UoZSwwLG8qbikpOih0aGlzLnRpbWVzPXQsdGhpcy52YWx1ZXM9ZSksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtjb25zdCB0PV91LmFycmF5U2xpY2UodGhpcy50aW1lcywwKSxlPV91LmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCksbj1uZXcoMCx0aGlzLmNvbnN0cnVjdG9yKSh0aGlzLm5hbWUsdCxlKTtyZXR1cm4gbi5jcmVhdGVJbnRlcnBvbGFudD10aGlzLmNyZWF0ZUludGVycG9sYW50LG59fSksTHUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpMdSxWYWx1ZVR5cGVOYW1lOlwiYm9vbFwiLFZhbHVlQnVmZmVyVHlwZTpBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjp6ZSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6dm9pZCAwLEludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDp2b2lkIDB9KSxSdS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEF1LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlJ1LFZhbHVlVHlwZU5hbWU6XCJjb2xvclwifSksUHUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpQdSxWYWx1ZVR5cGVOYW1lOlwibnVtYmVyXCJ9KSxDdS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKE11LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkN1LGludGVycG9sYXRlXzpmdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPXRoaXMucmVzdWx0QnVmZmVyLG89dGhpcy5zYW1wbGVWYWx1ZXMsYT10aGlzLnZhbHVlU2l6ZSxzPShuLWUpLyhyLWUpO2xldCBjPXQqYTtmb3IobGV0IHQ9YythO2MhPT10O2MrPTQpSm4uc2xlcnBGbGF0KGksMCxvLGMtYSxvLGMscyk7cmV0dXJuIGl9fSksSXUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpJdSxWYWx1ZVR5cGVOYW1lOlwicXVhdGVybmlvblwiLERlZmF1bHRJbnRlcnBvbGF0aW9uOkdlLEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEN1KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSx0KX0sSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnZvaWQgMH0pLE91LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQXUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6T3UsVmFsdWVUeXBlTmFtZTpcInN0cmluZ1wiLFZhbHVlQnVmZmVyVHlwZTpBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjp6ZSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6dm9pZCAwLEludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDp2b2lkIDB9KSxOdS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEF1LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOk51LFZhbHVlVHlwZU5hbWU6XCJ2ZWN0b3JcIn0pLE9iamVjdC5hc3NpZ24oRHUse3BhcnNlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9W10sbj10LnRyYWNrcyxyPTEvKHQuZnBzfHwxKTtmb3IobGV0IHQ9MCxpPW4ubGVuZ3RoO3QhPT1pOysrdCllLnB1c2goQnUoblt0XSkuc2NhbGUocikpO2NvbnN0IGk9bmV3IER1KHQubmFtZSx0LmR1cmF0aW9uLGUsdC5ibGVuZE1vZGUpO3JldHVybiBpLnV1aWQ9dC51dWlkLGl9LHRvSlNPTjpmdW5jdGlvbih0KXtjb25zdCBlPVtdLG49dC50cmFja3Mscj17bmFtZTp0Lm5hbWUsZHVyYXRpb246dC5kdXJhdGlvbix0cmFja3M6ZSx1dWlkOnQudXVpZCxibGVuZE1vZGU6dC5ibGVuZE1vZGV9O2ZvcihsZXQgdD0wLHI9bi5sZW5ndGg7dCE9PXI7Kyt0KWUucHVzaChBdS50b0pTT04oblt0XSkpO3JldHVybiByfSxDcmVhdGVGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZTpmdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPWUubGVuZ3RoLG89W107Zm9yKGxldCB0PTA7dDxpO3QrKyl7bGV0IGE9W10scz1bXTthLnB1c2goKHQraS0xKSVpLHQsKHQrMSklaSkscy5wdXNoKDAsMSwwKTtjb25zdCBjPV91LmdldEtleWZyYW1lT3JkZXIoYSk7YT1fdS5zb3J0ZWRBcnJheShhLDEsYykscz1fdS5zb3J0ZWRBcnJheShzLDEsYykscnx8MCE9PWFbMF18fChhLnB1c2goaSkscy5wdXNoKHNbMF0pKSxvLnB1c2gobmV3IFB1KFwiLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tcIitlW3RdLm5hbWUrXCJdXCIsYSxzKS5zY2FsZSgxL24pKX1yZXR1cm4gbmV3IER1KHQsLTEsbyl9LGZpbmRCeU5hbWU6ZnVuY3Rpb24odCxlKXtsZXQgbj10O2lmKCFBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPXQ7bj1lLmdlb21ldHJ5JiZlLmdlb21ldHJ5LmFuaW1hdGlvbnN8fGUuYW5pbWF0aW9uc31mb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLm5hbWU9PT1lKXJldHVybiBuW3RdO3JldHVybiBudWxsfSxDcmVhdGVDbGlwc0Zyb21Nb3JwaFRhcmdldFNlcXVlbmNlczpmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj17fSxpPS9eKFtcXHctXSo/KShbXFxkXSspJC87Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRbZV0sbz1uLm5hbWUubWF0Y2goaSk7aWYobyYmby5sZW5ndGg+MSl7Y29uc3QgdD1vWzFdO2xldCBlPXJbdF07ZXx8KHJbdF09ZT1bXSksZS5wdXNoKG4pfX1jb25zdCBvPVtdO2Zvcihjb25zdCB0IGluIHIpby5wdXNoKER1LkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlKHQsclt0XSxlLG4pKTtyZXR1cm4gb30scGFyc2VBbmltYXRpb246ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gY29uc29sZS5lcnJvcihcIlRIUkVFLkFuaW1hdGlvbkNsaXA6IE5vIGFuaW1hdGlvbiBpbiBKU09OTG9hZGVyIGRhdGEuXCIpLG51bGw7Y29uc3Qgbj1mdW5jdGlvbih0LGUsbixyLGkpe2lmKDAhPT1uLmxlbmd0aCl7Y29uc3Qgbz1bXSxhPVtdO191LmZsYXR0ZW5KU09OKG4sbyxhLHIpLDAhPT1vLmxlbmd0aCYmaS5wdXNoKG5ldyB0KGUsbyxhKSl9fSxyPVtdLGk9dC5uYW1lfHxcImRlZmF1bHRcIixvPXQuZnBzfHwzMCxhPXQuYmxlbmRNb2RlO2xldCBzPXQubGVuZ3RofHwtMTtjb25zdCBjPXQuaGllcmFyY2h5fHxbXTtmb3IobGV0IHQ9MDt0PGMubGVuZ3RoO3QrKyl7Y29uc3QgaT1jW3RdLmtleXM7aWYoaSYmMCE9PWkubGVuZ3RoKWlmKGlbMF0ubW9ycGhUYXJnZXRzKXtjb25zdCB0PXt9O2xldCBlO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspaWYoaVtlXS5tb3JwaFRhcmdldHMpZm9yKGxldCBuPTA7bjxpW2VdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7bisrKXRbaVtlXS5tb3JwaFRhcmdldHNbbl1dPS0xO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IHQ9W10sbz1bXTtmb3IobGV0IHI9MDtyIT09aVtlXS5tb3JwaFRhcmdldHMubGVuZ3RoOysrcil7Y29uc3Qgcj1pW2VdO3QucHVzaChyLnRpbWUpLG8ucHVzaChyLm1vcnBoVGFyZ2V0PT09bj8xOjApfXIucHVzaChuZXcgUHUoXCIubW9ycGhUYXJnZXRJbmZsdWVuY2VbXCIrbitcIl1cIix0LG8pKX1zPXQubGVuZ3RoKihvfHwxKX1lbHNle2NvbnN0IG89XCIuYm9uZXNbXCIrZVt0XS5uYW1lK1wiXVwiO24oTnUsbytcIi5wb3NpdGlvblwiLGksXCJwb3NcIixyKSxuKEl1LG8rXCIucXVhdGVybmlvblwiLGksXCJyb3RcIixyKSxuKE51LG8rXCIuc2NhbGVcIixpLFwic2NsXCIscil9fWlmKDA9PT1yLmxlbmd0aClyZXR1cm4gbnVsbDtyZXR1cm4gbmV3IER1KGkscyxyLGEpfX0pLE9iamVjdC5hc3NpZ24oRHUucHJvdG90eXBlLHtyZXNldER1cmF0aW9uOmZ1bmN0aW9uKCl7bGV0IHQ9MDtmb3IobGV0IGU9MCxuPXRoaXMudHJhY2tzLmxlbmd0aDtlIT09bjsrK2Upe2NvbnN0IG49dGhpcy50cmFja3NbZV07dD1NYXRoLm1heCh0LG4udGltZXNbbi50aW1lcy5sZW5ndGgtMV0pfXJldHVybiB0aGlzLmR1cmF0aW9uPXQsdGhpc30sdHJpbTpmdW5jdGlvbigpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFja3MubGVuZ3RoO3QrKyl0aGlzLnRyYWNrc1t0XS50cmltKDAsdGhpcy5kdXJhdGlvbik7cmV0dXJuIHRoaXN9LHZhbGlkYXRlOmZ1bmN0aW9uKCl7bGV0IHQ9ITA7Zm9yKGxldCBlPTA7ZTx0aGlzLnRyYWNrcy5sZW5ndGg7ZSsrKXQ9dCYmdGhpcy50cmFja3NbZV0udmFsaWRhdGUoKTtyZXR1cm4gdH0sb3B0aW1pemU6ZnVuY3Rpb24oKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspdGhpcy50cmFja3NbdF0ub3B0aW1pemUoKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtjb25zdCB0PVtdO2ZvcihsZXQgZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0LnB1c2godGhpcy50cmFja3NbZV0uY2xvbmUoKSk7cmV0dXJuIG5ldyBEdSh0aGlzLm5hbWUsdGhpcy5kdXJhdGlvbix0LHRoaXMuYmxlbmRNb2RlKX0sdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIER1LnRvSlNPTih0aGlzKX19KTtjb25zdCBGdT17ZW5hYmxlZDohMSxmaWxlczp7fSxhZGQ6ZnVuY3Rpb24odCxlKXshMSE9PXRoaXMuZW5hYmxlZCYmKHRoaXMuZmlsZXNbdF09ZSl9LGdldDpmdW5jdGlvbih0KXtpZighMSE9PXRoaXMuZW5hYmxlZClyZXR1cm4gdGhpcy5maWxlc1t0XX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmZpbGVzW3RdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZmlsZXM9e319fTtmdW5jdGlvbiBVdSh0LGUsbil7Y29uc3Qgcj10aGlzO2xldCBpPSExLG89MCxhPTAscz12b2lkIDA7Y29uc3QgYz1bXTt0aGlzLm9uU3RhcnQ9dm9pZCAwLHRoaXMub25Mb2FkPXQsdGhpcy5vblByb2dyZXNzPWUsdGhpcy5vbkVycm9yPW4sdGhpcy5pdGVtU3RhcnQ9ZnVuY3Rpb24odCl7YSsrLCExPT09aSYmdm9pZCAwIT09ci5vblN0YXJ0JiZyLm9uU3RhcnQodCxvLGEpLGk9ITB9LHRoaXMuaXRlbUVuZD1mdW5jdGlvbih0KXtvKyssdm9pZCAwIT09ci5vblByb2dyZXNzJiZyLm9uUHJvZ3Jlc3ModCxvLGEpLG89PT1hJiYoaT0hMSx2b2lkIDAhPT1yLm9uTG9hZCYmci5vbkxvYWQoKSl9LHRoaXMuaXRlbUVycm9yPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXIub25FcnJvciYmci5vbkVycm9yKHQpfSx0aGlzLnJlc29sdmVVUkw9ZnVuY3Rpb24odCl7cmV0dXJuIHM/cyh0KTp0fSx0aGlzLnNldFVSTE1vZGlmaWVyPWZ1bmN0aW9uKHQpe3JldHVybiBzPXQsdGhpc30sdGhpcy5hZGRIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMucHVzaCh0LGUpLHRoaXN9LHRoaXMucmVtb3ZlSGFuZGxlcj1mdW5jdGlvbih0KXtjb25zdCBlPWMuaW5kZXhPZih0KTtyZXR1cm4tMSE9PWUmJmMuc3BsaWNlKGUsMiksdGhpc30sdGhpcy5nZXRIYW5kbGVyPWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wLG49Yy5sZW5ndGg7ZTxuO2UrPTIpe2NvbnN0IG49Y1tlXSxyPWNbZSsxXTtpZihuLmdsb2JhbCYmKG4ubGFzdEluZGV4PTApLG4udGVzdCh0KSlyZXR1cm4gcn1yZXR1cm4gbnVsbH19Y29uc3QgenU9bmV3IFV1O2Z1bmN0aW9uIEd1KHQpe3RoaXMubWFuYWdlcj12b2lkIDAhPT10P3Q6enUsdGhpcy5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMucGF0aD1cIlwiLHRoaXMucmVzb3VyY2VQYXRoPVwiXCIsdGhpcy5yZXF1ZXN0SGVhZGVyPXt9fU9iamVjdC5hc3NpZ24oR3UucHJvdG90eXBlLHtsb2FkOmZ1bmN0aW9uKCl7fSxsb2FkQXN5bmM6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe24ubG9hZCh0LHIsZSxpKX0pKX0scGFyc2U6ZnVuY3Rpb24oKXt9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNyb3NzT3JpZ2luPXQsdGhpc30sc2V0V2l0aENyZWRlbnRpYWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndpdGhDcmVkZW50aWFscz10LHRoaXN9LHNldFBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aD10LHRoaXN9LHNldFJlc291cmNlUGF0aDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXNvdXJjZVBhdGg9dCx0aGlzfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlcXVlc3RIZWFkZXI9dCx0aGlzfX0pO2NvbnN0IEh1PXt9O2Z1bmN0aW9uIGt1KHQpe0d1LmNhbGwodGhpcyx0KX1mdW5jdGlvbiBWdSh0KXtHdS5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24ganUodCl7R3UuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFd1KHQpe0d1LmNhbGwodGhpcyx0KX1mdW5jdGlvbiBYdSh0KXtHdS5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gcXUodCl7R3UuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFl1KHQpe0d1LmNhbGwodGhpcyx0KX1mdW5jdGlvbiBadSgpe3RoaXMudHlwZT1cIkN1cnZlXCIsdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9MjAwfWZ1bmN0aW9uIEp1KHQsZSxuLHIsaSxvLGEscyl7WnUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJFbGxpcHNlQ3VydmVcIix0aGlzLmFYPXR8fDAsdGhpcy5hWT1lfHwwLHRoaXMueFJhZGl1cz1ufHwxLHRoaXMueVJhZGl1cz1yfHwxLHRoaXMuYVN0YXJ0QW5nbGU9aXx8MCx0aGlzLmFFbmRBbmdsZT1vfHwyKk1hdGguUEksdGhpcy5hQ2xvY2t3aXNlPWF8fCExLHRoaXMuYVJvdGF0aW9uPXN8fDB9ZnVuY3Rpb24gS3UodCxlLG4scixpLG8pe0p1LmNhbGwodGhpcyx0LGUsbixuLHIsaSxvKSx0aGlzLnR5cGU9XCJBcmNDdXJ2ZVwifWZ1bmN0aW9uIFF1KCl7bGV0IHQ9MCxlPTAsbj0wLHI9MDtmdW5jdGlvbiBpKGksbyxhLHMpe3Q9aSxlPWEsbj0tMyppKzMqby0yKmEtcyxyPTIqaS0yKm8rYStzfXJldHVybntpbml0Q2F0bXVsbFJvbTpmdW5jdGlvbih0LGUsbixyLG8pe2koZSxuLG8qKG4tdCksbyooci1lKSl9LGluaXROb251bmlmb3JtQ2F0bXVsbFJvbTpmdW5jdGlvbih0LGUsbixyLG8sYSxzKXtsZXQgYz0oZS10KS9vLShuLXQpLyhvK2EpKyhuLWUpL2EsbD0obi1lKS9hLShyLWUpLyhhK3MpKyhyLW4pL3M7Yyo9YSxsKj1hLGkoZSxuLGMsbCl9LGNhbGM6ZnVuY3Rpb24oaSl7Y29uc3Qgbz1pKmk7cmV0dXJuIHQrZSppK24qbytyKihvKmkpfX19a3UucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjprdSxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7Y29uc3QgaT10aGlzLG89RnUuZ2V0KHQpO2lmKHZvaWQgMCE9PW8pcmV0dXJuIGkubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKG8pLGkubWFuYWdlci5pdGVtRW5kKHQpfSksMCksbztpZih2b2lkIDAhPT1IdVt0XSlyZXR1cm4gdm9pZCBIdVt0XS5wdXNoKHtvbkxvYWQ6ZSxvblByb2dyZXNzOm4sb25FcnJvcjpyfSk7Y29uc3QgYT10Lm1hdGNoKC9eZGF0YTooLio/KSg7YmFzZTY0KT8sKC4qKSQvKTtsZXQgcztpZihhKXtjb25zdCBuPWFbMV0sbz0hIWFbMl07bGV0IHM9YVszXTtzPWRlY29kZVVSSUNvbXBvbmVudChzKSxvJiYocz1hdG9iKHMpKTt0cnl7bGV0IHI7Y29uc3Qgbz0odGhpcy5yZXNwb25zZVR5cGV8fFwiXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKG8pe2Nhc2VcImFycmF5YnVmZmVyXCI6Y2FzZVwiYmxvYlwiOmNvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXRbZV09cy5jaGFyQ29kZUF0KGUpO3I9XCJibG9iXCI9PT1vP25ldyBCbG9iKFt0LmJ1ZmZlcl0se3R5cGU6bn0pOnQuYnVmZmVyO2JyZWFrO2Nhc2VcImRvY3VtZW50XCI6Y29uc3QgZT1uZXcgRE9NUGFyc2VyO3I9ZS5wYXJzZUZyb21TdHJpbmcocyxuKTticmVhaztjYXNlXCJqc29uXCI6cj1KU09OLnBhcnNlKHMpO2JyZWFrO2RlZmF1bHQ6cj1zfXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZSYmZShyKSxpLm1hbmFnZXIuaXRlbUVuZCh0KX0pLDApfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ciYmcihlKSxpLm1hbmFnZXIuaXRlbUVycm9yKHQpLGkubWFuYWdlci5pdGVtRW5kKHQpfSksMCl9fWVsc2V7SHVbdF09W10sSHVbdF0ucHVzaCh7b25Mb2FkOmUsb25Qcm9ncmVzczpuLG9uRXJyb3I6cn0pLHM9bmV3IFhNTEh0dHBSZXF1ZXN0LHMub3BlbihcIkdFVFwiLHQsITApLHMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoZnVuY3Rpb24oZSl7Y29uc3Qgbj10aGlzLnJlc3BvbnNlLHI9SHVbdF07aWYoZGVsZXRlIEh1W3RdLDIwMD09PXRoaXMuc3RhdHVzfHwwPT09dGhpcy5zdGF0dXMpezA9PT10aGlzLnN0YXR1cyYmY29uc29sZS53YXJuKFwiVEhSRUUuRmlsZUxvYWRlcjogSFRUUCBTdGF0dXMgMCByZWNlaXZlZC5cIiksRnUuYWRkKHQsbik7Zm9yKGxldCB0PTAsZT1yLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXJbdF07ZS5vbkxvYWQmJmUub25Mb2FkKG4pfWkubWFuYWdlci5pdGVtRW5kKHQpfWVsc2V7Zm9yKGxldCB0PTAsbj1yLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPXJbdF07bi5vbkVycm9yJiZuLm9uRXJyb3IoZSl9aS5tYW5hZ2VyLml0ZW1FcnJvcih0KSxpLm1hbmFnZXIuaXRlbUVuZCh0KX19KSwhMSkscy5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwoZnVuY3Rpb24oZSl7Y29uc3Qgbj1IdVt0XTtmb3IobGV0IHQ9MCxyPW4ubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHI9blt0XTtyLm9uUHJvZ3Jlc3MmJnIub25Qcm9ncmVzcyhlKX19KSwhMSkscy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7Y29uc3Qgbj1IdVt0XTtkZWxldGUgSHVbdF07Zm9yKGxldCB0PTAscj1uLmxlbmd0aDt0PHI7dCsrKXtjb25zdCByPW5bdF07ci5vbkVycm9yJiZyLm9uRXJyb3IoZSl9aS5tYW5hZ2VyLml0ZW1FcnJvcih0KSxpLm1hbmFnZXIuaXRlbUVuZCh0KX0pLCExKSxzLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLChmdW5jdGlvbihlKXtjb25zdCBuPUh1W3RdO2RlbGV0ZSBIdVt0XTtmb3IobGV0IHQ9MCxyPW4ubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHI9blt0XTtyLm9uRXJyb3ImJnIub25FcnJvcihlKX1pLm1hbmFnZXIuaXRlbUVycm9yKHQpLGkubWFuYWdlci5pdGVtRW5kKHQpfSksITEpLHZvaWQgMCE9PXRoaXMucmVzcG9uc2VUeXBlJiYocy5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUpLHZvaWQgMCE9PXRoaXMud2l0aENyZWRlbnRpYWxzJiYocy53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHMpLHMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKHZvaWQgMCE9PXRoaXMubWltZVR5cGU/dGhpcy5taW1lVHlwZTpcInRleHQvcGxhaW5cIik7Zm9yKGNvbnN0IHQgaW4gdGhpcy5yZXF1ZXN0SGVhZGVyKXMuc2V0UmVxdWVzdEhlYWRlcih0LHRoaXMucmVxdWVzdEhlYWRlclt0XSk7cy5zZW5kKG51bGwpfXJldHVybiBpLm1hbmFnZXIuaXRlbVN0YXJ0KHQpLHN9LHNldFJlc3BvbnNlVHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXNwb25zZVR5cGU9dCx0aGlzfSxzZXRNaW1lVHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW1lVHlwZT10LHRoaXN9fSksVnUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpWdSxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IGk9dGhpcyxvPW5ldyBrdShpLm1hbmFnZXIpO28uc2V0UGF0aChpLnBhdGgpLG8uc2V0UmVxdWVzdEhlYWRlcihpLnJlcXVlc3RIZWFkZXIpLG8uc2V0V2l0aENyZWRlbnRpYWxzKGkud2l0aENyZWRlbnRpYWxzKSxvLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e2UoaS5wYXJzZShKU09OLnBhcnNlKG4pKSl9Y2F0Y2goZSl7cj9yKGUpOmNvbnNvbGUuZXJyb3IoZSksaS5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLHIpfSxwYXJzZTpmdW5jdGlvbih0KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPUR1LnBhcnNlKHRbbl0pO2UucHVzaChyKX1yZXR1cm4gZX19KSxqdS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEd1LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmp1LGxvYWQ6ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT10aGlzLG89W10sYT1uZXcgRmM7YS5pbWFnZT1vO2NvbnN0IHM9bmV3IGt1KHRoaXMubWFuYWdlcik7cy5zZXRQYXRoKHRoaXMucGF0aCkscy5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxzLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxzLnNldFdpdGhDcmVkZW50aWFscyhpLndpdGhDcmVkZW50aWFscyk7bGV0IGM9MDtmdW5jdGlvbiBsKGwpe3MubG9hZCh0W2xdLChmdW5jdGlvbih0KXtjb25zdCBuPWkucGFyc2UodCwhMCk7b1tsXT17d2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsZm9ybWF0Om4uZm9ybWF0LG1pcG1hcHM6bi5taXBtYXBzfSxjKz0xLDY9PT1jJiYoMT09PW4ubWlwbWFwQ291bnQmJihhLm1pbkZpbHRlcj14dCksYS5mb3JtYXQ9bi5mb3JtYXQsYS5uZWVkc1VwZGF0ZT0hMCxlJiZlKGEpKX0pLG4scil9aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjsrK2UpbChlKTtlbHNlIHMubG9hZCh0LChmdW5jdGlvbih0KXtjb25zdCBuPWkucGFyc2UodCwhMCk7aWYobi5pc0N1YmVtYXApe2NvbnN0IHQ9bi5taXBtYXBzLmxlbmd0aC9uLm1pcG1hcENvdW50O2ZvcihsZXQgZT0wO2U8dDtlKyspe29bZV09e21pcG1hcHM6W119O2ZvcihsZXQgdD0wO3Q8bi5taXBtYXBDb3VudDt0Kyspb1tlXS5taXBtYXBzLnB1c2gobi5taXBtYXBzW2Uqbi5taXBtYXBDb3VudCt0XSksb1tlXS5mb3JtYXQ9bi5mb3JtYXQsb1tlXS53aWR0aD1uLndpZHRoLG9bZV0uaGVpZ2h0PW4uaGVpZ2h0fX1lbHNlIGEuaW1hZ2Uud2lkdGg9bi53aWR0aCxhLmltYWdlLmhlaWdodD1uLmhlaWdodCxhLm1pcG1hcHM9bi5taXBtYXBzOzE9PT1uLm1pcG1hcENvdW50JiYoYS5taW5GaWx0ZXI9eHQpLGEuZm9ybWF0PW4uZm9ybWF0LGEubmVlZHNVcGRhdGU9ITAsZSYmZShhKX0pLG4scik7cmV0dXJuIGF9fSksV3UucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpXdSxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7Y29uc3QgaT10aGlzLG89RnUuZ2V0KHQpO2lmKHZvaWQgMCE9PW8pcmV0dXJuIGkubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKG8pLGkubWFuYWdlci5pdGVtRW5kKHQpfSksMCksbztjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImltZ1wiKTtmdW5jdGlvbiBzKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLHMsITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYywhMSksRnUuYWRkKHQsdGhpcyksZSYmZSh0aGlzKSxpLm1hbmFnZXIuaXRlbUVuZCh0KX1mdW5jdGlvbiBjKGUpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGMsITEpLHImJnIoZSksaS5tYW5hZ2VyLml0ZW1FcnJvcih0KSxpLm1hbmFnZXIuaXRlbUVuZCh0KX1yZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHMsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYywhMSksXCJkYXRhOlwiIT09dC5zdWJzdHIoMCw1KSYmdm9pZCAwIT09dGhpcy5jcm9zc09yaWdpbiYmKGEuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksaS5tYW5hZ2VyLml0ZW1TdGFydCh0KSxhLnNyYz10LGF9fSksWHUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpYdSxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IGk9bmV3IE1vLG89bmV3IFd1KHRoaXMubWFuYWdlcik7by5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKSxvLnNldFBhdGgodGhpcy5wYXRoKTtsZXQgYT0wO2Z1bmN0aW9uIHMobil7by5sb2FkKHRbbl0sKGZ1bmN0aW9uKHQpe2kuaW1hZ2VzW25dPXQsYSsrLDY9PT1hJiYoaS5uZWVkc1VwZGF0ZT0hMCxlJiZlKGkpKX0pLHZvaWQgMCxyKX1mb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSlzKGUpO3JldHVybiBpfX0pLHF1LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3UucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6cXUsbG9hZDpmdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPXRoaXMsbz1uZXcgVG8sYT1uZXcga3UodGhpcy5tYW5hZ2VyKTtyZXR1cm4gYS5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxhLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxhLnNldFBhdGgodGhpcy5wYXRoKSxhLnNldFdpdGhDcmVkZW50aWFscyhpLndpdGhDcmVkZW50aWFscyksYS5sb2FkKHQsKGZ1bmN0aW9uKHQpe2NvbnN0IG49aS5wYXJzZSh0KTtuJiYodm9pZCAwIT09bi5pbWFnZT9vLmltYWdlPW4uaW1hZ2U6dm9pZCAwIT09bi5kYXRhJiYoby5pbWFnZS53aWR0aD1uLndpZHRoLG8uaW1hZ2UuaGVpZ2h0PW4uaGVpZ2h0LG8uaW1hZ2UuZGF0YT1uLmRhdGEpLG8ud3JhcFM9dm9pZCAwIT09bi53cmFwUz9uLndyYXBTOmR0LG8ud3JhcFQ9dm9pZCAwIT09bi53cmFwVD9uLndyYXBUOmR0LG8ubWFnRmlsdGVyPXZvaWQgMCE9PW4ubWFnRmlsdGVyP24ubWFnRmlsdGVyOnh0LG8ubWluRmlsdGVyPXZvaWQgMCE9PW4ubWluRmlsdGVyP24ubWluRmlsdGVyOnh0LG8uYW5pc290cm9weT12b2lkIDAhPT1uLmFuaXNvdHJvcHk/bi5hbmlzb3Ryb3B5OjEsdm9pZCAwIT09bi5mb3JtYXQmJihvLmZvcm1hdD1uLmZvcm1hdCksdm9pZCAwIT09bi50eXBlJiYoby50eXBlPW4udHlwZSksdm9pZCAwIT09bi5taXBtYXBzJiYoby5taXBtYXBzPW4ubWlwbWFwcyxvLm1pbkZpbHRlcj1fdCksMT09PW4ubWlwbWFwQ291bnQmJihvLm1pbkZpbHRlcj14dCksby5uZWVkc1VwZGF0ZT0hMCxlJiZlKG8sbikpfSksbixyKSxvfX0pLFl1LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3UucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6WXUsbG9hZDpmdW5jdGlvbih0LGUsbixyKXtjb25zdCBpPW5ldyBXbixvPW5ldyBXdSh0aGlzLm1hbmFnZXIpO3JldHVybiBvLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLG8uc2V0UGF0aCh0aGlzLnBhdGgpLG8ubG9hZCh0LChmdW5jdGlvbihuKXtpLmltYWdlPW47Y29uc3Qgcj10LnNlYXJjaCgvXFwuanBlP2coJHxcXD8pL2kpPjB8fDA9PT10LnNlYXJjaCgvXmRhdGFcXDppbWFnZVxcL2pwZWcvKTtpLmZvcm1hdD1yP0Z0OlV0LGkubmVlZHNVcGRhdGU9ITAsdm9pZCAwIT09ZSYmZShpKX0pLG4sciksaX19KSxPYmplY3QuYXNzaWduKFp1LnByb3RvdHlwZSx7Z2V0UG9pbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQ3VydmU6IC5nZXRQb2ludCgpIG5vdCBpbXBsZW1lbnRlZC5cIiksbnVsbH0sZ2V0UG9pbnRBdDpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5nZXRVdG9UbWFwcGluZyh0KTtyZXR1cm4gdGhpcy5nZXRQb2ludChuLGUpfSxnZXRQb2ludHM6ZnVuY3Rpb24odD01KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248PXQ7bisrKWUucHVzaCh0aGlzLmdldFBvaW50KG4vdCkpO3JldHVybiBlfSxnZXRTcGFjZWRQb2ludHM6ZnVuY3Rpb24odD01KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248PXQ7bisrKWUucHVzaCh0aGlzLmdldFBvaW50QXQobi90KSk7cmV0dXJuIGV9LGdldExlbmd0aDpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRMZW5ndGhzKCk7cmV0dXJuIHRbdC5sZW5ndGgtMV19LGdldExlbmd0aHM6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMpLHRoaXMuY2FjaGVBcmNMZW5ndGhzJiZ0aGlzLmNhY2hlQXJjTGVuZ3Rocy5sZW5ndGg9PT10KzEmJiF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Roczt0aGlzLm5lZWRzVXBkYXRlPSExO2NvbnN0IGU9W107bGV0IG4scj10aGlzLmdldFBvaW50KDApLGk9MDtlLnB1c2goMCk7Zm9yKGxldCBvPTE7bzw9dDtvKyspbj10aGlzLmdldFBvaW50KG8vdCksaSs9bi5kaXN0YW5jZVRvKHIpLGUucHVzaChpKSxyPW47cmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzPWUsZX0sdXBkYXRlQXJjTGVuZ3RoczpmdW5jdGlvbigpe3RoaXMubmVlZHNVcGRhdGU9ITAsdGhpcy5nZXRMZW5ndGhzKCl9LGdldFV0b1RtYXBwaW5nOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLmdldExlbmd0aHMoKTtsZXQgcj0wO2NvbnN0IGk9bi5sZW5ndGg7bGV0IG87bz1lfHx0Km5baS0xXTtsZXQgYSxzPTAsYz1pLTE7Zm9yKDtzPD1jOylpZihyPU1hdGguZmxvb3IocysoYy1zKS8yKSxhPW5bcl0tbyxhPDApcz1yKzE7ZWxzZXtpZighKGE+MCkpe2M9cjticmVha31jPXItMX1pZihyPWMsbltyXT09PW8pcmV0dXJuIHIvKGktMSk7Y29uc3QgbD1uW3JdO3JldHVybihyKyhvLWwpLyhuW3IrMV0tbCkpLyhpLTEpfSxnZXRUYW5nZW50OmZ1bmN0aW9uKHQsZSl7bGV0IG49dC0xZS00LHI9dCsxZS00O248MCYmKG49MCkscj4xJiYocj0xKTtjb25zdCBpPXRoaXMuZ2V0UG9pbnQobiksbz10aGlzLmdldFBvaW50KHIpLGE9ZXx8KGkuaXNWZWN0b3IyP25ldyBHbjpuZXcgS24pO3JldHVybiBhLmNvcHkobykuc3ViKGkpLm5vcm1hbGl6ZSgpLGF9LGdldFRhbmdlbnRBdDpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5nZXRVdG9UbWFwcGluZyh0KTtyZXR1cm4gdGhpcy5nZXRUYW5nZW50KG4sZSl9LGNvbXB1dGVGcmVuZXRGcmFtZXM6ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyBLbixyPVtdLGk9W10sbz1bXSxhPW5ldyBLbixzPW5ldyBUcjtmb3IobGV0IGU9MDtlPD10O2UrKyl7Y29uc3Qgbj1lL3Q7cltlXT10aGlzLmdldFRhbmdlbnRBdChuLG5ldyBLbikscltlXS5ub3JtYWxpemUoKX1pWzBdPW5ldyBLbixvWzBdPW5ldyBLbjtsZXQgYz1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGw9TWF0aC5hYnMoclswXS54KSx1PU1hdGguYWJzKHJbMF0ueSksaD1NYXRoLmFicyhyWzBdLnopO2w8PWMmJihjPWwsbi5zZXQoMSwwLDApKSx1PD1jJiYoYz11LG4uc2V0KDAsMSwwKSksaDw9YyYmbi5zZXQoMCwwLDEpLGEuY3Jvc3NWZWN0b3JzKHJbMF0sbikubm9ybWFsaXplKCksaVswXS5jcm9zc1ZlY3RvcnMoclswXSxhKSxvWzBdLmNyb3NzVmVjdG9ycyhyWzBdLGlbMF0pO2ZvcihsZXQgZT0xO2U8PXQ7ZSsrKXtpZihpW2VdPWlbZS0xXS5jbG9uZSgpLG9bZV09b1tlLTFdLmNsb25lKCksYS5jcm9zc1ZlY3RvcnMocltlLTFdLHJbZV0pLGEubGVuZ3RoKCk+TnVtYmVyLkVQU0lMT04pe2Eubm9ybWFsaXplKCk7Y29uc3QgdD1NYXRoLmFjb3Moem4uY2xhbXAocltlLTFdLmRvdChyW2VdKSwtMSwxKSk7aVtlXS5hcHBseU1hdHJpeDQocy5tYWtlUm90YXRpb25BeGlzKGEsdCkpfW9bZV0uY3Jvc3NWZWN0b3JzKHJbZV0saVtlXSl9aWYoITA9PT1lKXtsZXQgZT1NYXRoLmFjb3Moem4uY2xhbXAoaVswXS5kb3QoaVt0XSksLTEsMSkpO2UvPXQsclswXS5kb3QoYS5jcm9zc1ZlY3RvcnMoaVswXSxpW3RdKSk+MCYmKGU9LWUpO2ZvcihsZXQgbj0xO248PXQ7bisrKWlbbl0uYXBwbHlNYXRyaXg0KHMubWFrZVJvdGF0aW9uQXhpcyhyW25dLGUqbikpLG9bbl0uY3Jvc3NWZWN0b3JzKHJbbl0saVtuXSl9cmV0dXJue3RhbmdlbnRzOnIsbm9ybWFsczppLGJpbm9ybWFsczpvfX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPXQuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOlwiQ3VydmVcIixnZW5lcmF0b3I6XCJDdXJ2ZS50b0pTT05cIn19O3JldHVybiB0LmFyY0xlbmd0aERpdmlzaW9ucz10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyx0LnR5cGU9dGhpcy50eXBlLHR9LGZyb21KU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz10LmFyY0xlbmd0aERpdmlzaW9ucyx0aGlzfX0pLEp1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFp1LnByb3RvdHlwZSksSnUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUp1LEp1LnByb3RvdHlwZS5pc0VsbGlwc2VDdXJ2ZT0hMCxKdS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxlKXtjb25zdCBuPWV8fG5ldyBHbixyPTIqTWF0aC5QSTtsZXQgaT10aGlzLmFFbmRBbmdsZS10aGlzLmFTdGFydEFuZ2xlO2NvbnN0IG89TWF0aC5hYnMoaSk8TnVtYmVyLkVQU0lMT047Zm9yKDtpPDA7KWkrPXI7Zm9yKDtpPnI7KWktPXI7aTxOdW1iZXIuRVBTSUxPTiYmKGk9bz8wOnIpLCEwIT09dGhpcy5hQ2xvY2t3aXNlfHxvfHwoaT09PXI/aT0tcjppLT1yKTtjb25zdCBhPXRoaXMuYVN0YXJ0QW5nbGUrdCppO2xldCBzPXRoaXMuYVgrdGhpcy54UmFkaXVzKk1hdGguY29zKGEpLGM9dGhpcy5hWSt0aGlzLnlSYWRpdXMqTWF0aC5zaW4oYSk7aWYoMCE9PXRoaXMuYVJvdGF0aW9uKXtjb25zdCB0PU1hdGguY29zKHRoaXMuYVJvdGF0aW9uKSxlPU1hdGguc2luKHRoaXMuYVJvdGF0aW9uKSxuPXMtdGhpcy5hWCxyPWMtdGhpcy5hWTtzPW4qdC1yKmUrdGhpcy5hWCxjPW4qZStyKnQrdGhpcy5hWX1yZXR1cm4gbi5zZXQocyxjKX0sSnUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIFp1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmFYPXQuYVgsdGhpcy5hWT10LmFZLHRoaXMueFJhZGl1cz10LnhSYWRpdXMsdGhpcy55UmFkaXVzPXQueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPXQuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9dC5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPXQuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj10LmFSb3RhdGlvbix0aGlzfSxKdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7Y29uc3QgdD1adS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIHQuYVg9dGhpcy5hWCx0LmFZPXRoaXMuYVksdC54UmFkaXVzPXRoaXMueFJhZGl1cyx0LnlSYWRpdXM9dGhpcy55UmFkaXVzLHQuYVN0YXJ0QW5nbGU9dGhpcy5hU3RhcnRBbmdsZSx0LmFFbmRBbmdsZT10aGlzLmFFbmRBbmdsZSx0LmFDbG9ja3dpc2U9dGhpcy5hQ2xvY2t3aXNlLHQuYVJvdGF0aW9uPXRoaXMuYVJvdGF0aW9uLHR9LEp1LnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLmFYPXQuYVgsdGhpcy5hWT10LmFZLHRoaXMueFJhZGl1cz10LnhSYWRpdXMsdGhpcy55UmFkaXVzPXQueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPXQuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9dC5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPXQuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj10LmFSb3RhdGlvbix0aGlzfSxLdS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShKdS5wcm90b3R5cGUpLEt1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LdSxLdS5wcm90b3R5cGUuaXNBcmNDdXJ2ZT0hMDtjb25zdCAkdT1uZXcgS24sdGg9bmV3IFF1LGVoPW5ldyBRdSxuaD1uZXcgUXU7ZnVuY3Rpb24gcmgodD1bXSxlPSExLG49XCJjZW50cmlwZXRhbFwiLHI9LjUpe1p1LmNhbGwodGhpcyksdGhpcy50eXBlPVwiQ2F0bXVsbFJvbUN1cnZlM1wiLHRoaXMucG9pbnRzPXQsdGhpcy5jbG9zZWQ9ZSx0aGlzLmN1cnZlVHlwZT1uLHRoaXMudGVuc2lvbj1yfWZ1bmN0aW9uIGloKHQsZSxuLHIsaSl7Y29uc3Qgbz0uNSooci1lKSxhPS41KihpLW4pLHM9dCp0O3JldHVybigyKm4tMipyK28rYSkqKHQqcykrKC0zKm4rMypyLTIqby1hKSpzK28qdCtufWZ1bmN0aW9uIG9oKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IG49MS10O3JldHVybiBuKm4qZX0odCxlKStmdW5jdGlvbih0LGUpe3JldHVybiAyKigxLXQpKnQqZX0odCxuKStmdW5jdGlvbih0LGUpe3JldHVybiB0KnQqZX0odCxyKX1mdW5jdGlvbiBhaCh0LGUsbixyLGkpe3JldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IG49MS10O3JldHVybiBuKm4qbiplfSh0LGUpK2Z1bmN0aW9uKHQsZSl7Y29uc3Qgbj0xLXQ7cmV0dXJuIDMqbipuKnQqZX0odCxuKStmdW5jdGlvbih0LGUpe3JldHVybiAzKigxLXQpKnQqdCplfSh0LHIpK2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQqdCp0KmV9KHQsaSl9ZnVuY3Rpb24gc2godD1uZXcgR24sZT1uZXcgR24sbj1uZXcgR24scj1uZXcgR24pe1p1LmNhbGwodGhpcyksdGhpcy50eXBlPVwiQ3ViaWNCZXppZXJDdXJ2ZVwiLHRoaXMudjA9dCx0aGlzLnYxPWUsdGhpcy52Mj1uLHRoaXMudjM9cn1mdW5jdGlvbiBjaCh0PW5ldyBLbixlPW5ldyBLbixuPW5ldyBLbixyPW5ldyBLbil7WnUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDdWJpY0JlemllckN1cnZlM1wiLHRoaXMudjA9dCx0aGlzLnYxPWUsdGhpcy52Mj1uLHRoaXMudjM9cn1mdW5jdGlvbiBsaCh0PW5ldyBHbixlPW5ldyBHbil7WnUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMaW5lQ3VydmVcIix0aGlzLnYxPXQsdGhpcy52Mj1lfWZ1bmN0aW9uIHVoKHQ9bmV3IEtuLGU9bmV3IEtuKXtadS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkxpbmVDdXJ2ZTNcIix0aGlzLnYxPXQsdGhpcy52Mj1lfWZ1bmN0aW9uIGhoKHQ9bmV3IEduLGU9bmV3IEduLG49bmV3IEduKXtadS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlF1YWRyYXRpY0JlemllckN1cnZlXCIsdGhpcy52MD10LHRoaXMudjE9ZSx0aGlzLnYyPW59ZnVuY3Rpb24gZGgodD1uZXcgS24sZT1uZXcgS24sbj1uZXcgS24pe1p1LmNhbGwodGhpcyksdGhpcy50eXBlPVwiUXVhZHJhdGljQmV6aWVyQ3VydmUzXCIsdGhpcy52MD10LHRoaXMudjE9ZSx0aGlzLnYyPW59ZnVuY3Rpb24gcGgodD1bXSl7WnUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTcGxpbmVDdXJ2ZVwiLHRoaXMucG9pbnRzPXR9cmgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoWnUucHJvdG90eXBlKSxyaC5wcm90b3R5cGUuY29uc3RydWN0b3I9cmgscmgucHJvdG90eXBlLmlzQ2F0bXVsbFJvbUN1cnZlMz0hMCxyaC5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxlPW5ldyBLbil7Y29uc3Qgbj1lLHI9dGhpcy5wb2ludHMsaT1yLmxlbmd0aCxvPShpLSh0aGlzLmNsb3NlZD8wOjEpKSp0O2xldCBhLHMsYz1NYXRoLmZsb29yKG8pLGw9by1jO3RoaXMuY2xvc2VkP2MrPWM+MD8wOihNYXRoLmZsb29yKE1hdGguYWJzKGMpL2kpKzEpKmk6MD09PWwmJmM9PT1pLTEmJihjPWktMixsPTEpLHRoaXMuY2xvc2VkfHxjPjA/YT1yWyhjLTEpJWldOigkdS5zdWJWZWN0b3JzKHJbMF0sclsxXSkuYWRkKHJbMF0pLGE9JHUpO2NvbnN0IHU9cltjJWldLGg9clsoYysxKSVpXTtpZih0aGlzLmNsb3NlZHx8YysyPGk/cz1yWyhjKzIpJWldOigkdS5zdWJWZWN0b3JzKHJbaS0xXSxyW2ktMl0pLmFkZChyW2ktMV0pLHM9JHUpLFwiY2VudHJpcGV0YWxcIj09PXRoaXMuY3VydmVUeXBlfHxcImNob3JkYWxcIj09PXRoaXMuY3VydmVUeXBlKXtjb25zdCB0PVwiY2hvcmRhbFwiPT09dGhpcy5jdXJ2ZVR5cGU/LjU6LjI1O2xldCBlPU1hdGgucG93KGEuZGlzdGFuY2VUb1NxdWFyZWQodSksdCksbj1NYXRoLnBvdyh1LmRpc3RhbmNlVG9TcXVhcmVkKGgpLHQpLHI9TWF0aC5wb3coaC5kaXN0YW5jZVRvU3F1YXJlZChzKSx0KTtuPDFlLTQmJihuPTEpLGU8MWUtNCYmKGU9bikscjwxZS00JiYocj1uKSx0aC5pbml0Tm9udW5pZm9ybUNhdG11bGxSb20oYS54LHUueCxoLngscy54LGUsbixyKSxlaC5pbml0Tm9udW5pZm9ybUNhdG11bGxSb20oYS55LHUueSxoLnkscy55LGUsbixyKSxuaC5pbml0Tm9udW5pZm9ybUNhdG11bGxSb20oYS56LHUueixoLnoscy56LGUsbixyKX1lbHNlXCJjYXRtdWxscm9tXCI9PT10aGlzLmN1cnZlVHlwZSYmKHRoLmluaXRDYXRtdWxsUm9tKGEueCx1LngsaC54LHMueCx0aGlzLnRlbnNpb24pLGVoLmluaXRDYXRtdWxsUm9tKGEueSx1LnksaC55LHMueSx0aGlzLnRlbnNpb24pLG5oLmluaXRDYXRtdWxsUm9tKGEueix1LnosaC56LHMueix0aGlzLnRlbnNpb24pKTtyZXR1cm4gbi5zZXQodGguY2FsYyhsKSxlaC5jYWxjKGwpLG5oLmNhbGMobCkpLG59LHJoLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe1p1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnBvaW50cz1bXTtmb3IobGV0IGU9MCxuPXQucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQucG9pbnRzW2VdO3RoaXMucG9pbnRzLnB1c2gobi5jbG9uZSgpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9dC5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9dC5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPXQudGVuc2lvbix0aGlzfSxyaC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7Y29uc3QgdD1adS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7dC5wb2ludHM9W107Zm9yKGxldCBlPTAsbj10aGlzLnBvaW50cy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10aGlzLnBvaW50c1tlXTt0LnBvaW50cy5wdXNoKG4udG9BcnJheSgpKX1yZXR1cm4gdC5jbG9zZWQ9dGhpcy5jbG9zZWQsdC5jdXJ2ZVR5cGU9dGhpcy5jdXJ2ZVR5cGUsdC50ZW5zaW9uPXRoaXMudGVuc2lvbix0fSxyaC5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24odCl7WnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLnBvaW50cz1bXTtmb3IobGV0IGU9MCxuPXQucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQucG9pbnRzW2VdO3RoaXMucG9pbnRzLnB1c2goKG5ldyBLbikuZnJvbUFycmF5KG4pKX1yZXR1cm4gdGhpcy5jbG9zZWQ9dC5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9dC5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPXQudGVuc2lvbix0aGlzfSxzaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShadS5wcm90b3R5cGUpLHNoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1zaCxzaC5wcm90b3R5cGUuaXNDdWJpY0JlemllckN1cnZlPSEwLHNoLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LGU9bmV3IEduKXtjb25zdCBuPWUscj10aGlzLnYwLGk9dGhpcy52MSxvPXRoaXMudjIsYT10aGlzLnYzO3JldHVybiBuLnNldChhaCh0LHIueCxpLngsby54LGEueCksYWgodCxyLnksaS55LG8ueSxhLnkpKSxufSxzaC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMudjAuY29weSh0LnYwKSx0aGlzLnYxLmNvcHkodC52MSksdGhpcy52Mi5jb3B5KHQudjIpLHRoaXMudjMuY29weSh0LnYzKSx0aGlzfSxzaC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7Y29uc3QgdD1adS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHQudjM9dGhpcy52My50b0FycmF5KCksdH0sc2gucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBadS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLHQpLHRoaXMudjAuZnJvbUFycmF5KHQudjApLHRoaXMudjEuZnJvbUFycmF5KHQudjEpLHRoaXMudjIuZnJvbUFycmF5KHQudjIpLHRoaXMudjMuZnJvbUFycmF5KHQudjMpLHRoaXN9LGNoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFp1LnByb3RvdHlwZSksY2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPWNoLGNoLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPSEwLGNoLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LGU9bmV3IEtuKXtjb25zdCBuPWUscj10aGlzLnYwLGk9dGhpcy52MSxvPXRoaXMudjIsYT10aGlzLnYzO3JldHVybiBuLnNldChhaCh0LHIueCxpLngsby54LGEueCksYWgodCxyLnksaS55LG8ueSxhLnkpLGFoKHQsci56LGkueixvLnosYS56KSksbn0sY2gucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIFp1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnYwLmNvcHkodC52MCksdGhpcy52MS5jb3B5KHQudjEpLHRoaXMudjIuY29weSh0LnYyKSx0aGlzLnYzLmNvcHkodC52MyksdGhpc30sY2gucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2NvbnN0IHQ9WnUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0LnYwPXRoaXMudjAudG9BcnJheSgpLHQudjE9dGhpcy52MS50b0FycmF5KCksdC52Mj10aGlzLnYyLnRvQXJyYXkoKSx0LnYzPXRoaXMudjMudG9BcnJheSgpLHR9LGNoLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLnYwLmZyb21BcnJheSh0LnYwKSx0aGlzLnYxLmZyb21BcnJheSh0LnYxKSx0aGlzLnYyLmZyb21BcnJheSh0LnYyKSx0aGlzLnYzLmZyb21BcnJheSh0LnYzKSx0aGlzfSxsaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShadS5wcm90b3R5cGUpLGxoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1saCxsaC5wcm90b3R5cGUuaXNMaW5lQ3VydmU9ITAsbGgucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQsZT1uZXcgR24pe2NvbnN0IG49ZTtyZXR1cm4gMT09PXQ/bi5jb3B5KHRoaXMudjIpOihuLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLG4ubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMudjEpKSxufSxsaC5wcm90b3R5cGUuZ2V0UG9pbnRBdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBvaW50KHQsZSl9LGxoLnByb3RvdHlwZS5nZXRUYW5nZW50PWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lfHxuZXcgR247cmV0dXJuIG4uY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSkubm9ybWFsaXplKCksbn0sbGgucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIFp1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnYxLmNvcHkodC52MSksdGhpcy52Mi5jb3B5KHQudjIpLHRoaXN9LGxoLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtjb25zdCB0PVp1LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHR9LGxoLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLnYxLmZyb21BcnJheSh0LnYxKSx0aGlzLnYyLmZyb21BcnJheSh0LnYyKSx0aGlzfSx1aC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShadS5wcm90b3R5cGUpLHVoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj11aCx1aC5wcm90b3R5cGUuaXNMaW5lQ3VydmUzPSEwLHVoLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LGU9bmV3IEtuKXtjb25zdCBuPWU7cmV0dXJuIDE9PT10P24uY29weSh0aGlzLnYyKToobi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxuLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnYxKSksbn0sdWgucHJvdG90eXBlLmdldFBvaW50QXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRQb2ludCh0LGUpfSx1aC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMudjEuY29weSh0LnYxKSx0aGlzLnYyLmNvcHkodC52MiksdGhpc30sdWgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2NvbnN0IHQ9WnUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0LnYxPXRoaXMudjEudG9BcnJheSgpLHQudjI9dGhpcy52Mi50b0FycmF5KCksdH0sdWgucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBadS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLHQpLHRoaXMudjEuZnJvbUFycmF5KHQudjEpLHRoaXMudjIuZnJvbUFycmF5KHQudjIpLHRoaXN9LGhoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFp1LnByb3RvdHlwZSksaGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWhoLGhoLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlPSEwLGhoLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LGU9bmV3IEduKXtjb25zdCBuPWUscj10aGlzLnYwLGk9dGhpcy52MSxvPXRoaXMudjI7cmV0dXJuIG4uc2V0KG9oKHQsci54LGkueCxvLngpLG9oKHQsci55LGkueSxvLnkpKSxufSxoaC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMudjAuY29weSh0LnYwKSx0aGlzLnYxLmNvcHkodC52MSksdGhpcy52Mi5jb3B5KHQudjIpLHRoaXN9LGhoLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtjb25zdCB0PVp1LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gdC52MD10aGlzLnYwLnRvQXJyYXkoKSx0LnYxPXRoaXMudjEudG9BcnJheSgpLHQudjI9dGhpcy52Mi50b0FycmF5KCksdH0saGgucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBadS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLHQpLHRoaXMudjAuZnJvbUFycmF5KHQudjApLHRoaXMudjEuZnJvbUFycmF5KHQudjEpLHRoaXMudjIuZnJvbUFycmF5KHQudjIpLHRoaXN9LGRoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFp1LnByb3RvdHlwZSksZGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWRoLGRoLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMCxkaC5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxlPW5ldyBLbil7Y29uc3Qgbj1lLHI9dGhpcy52MCxpPXRoaXMudjEsbz10aGlzLnYyO3JldHVybiBuLnNldChvaCh0LHIueCxpLngsby54KSxvaCh0LHIueSxpLnksby55KSxvaCh0LHIueixpLnosby56KSksbn0sZGgucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIFp1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnYwLmNvcHkodC52MCksdGhpcy52MS5jb3B5KHQudjEpLHRoaXMudjIuY29weSh0LnYyKSx0aGlzfSxkaC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7Y29uc3QgdD1adS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHR9LGRoLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gWnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLnYwLmZyb21BcnJheSh0LnYwKSx0aGlzLnYxLmZyb21BcnJheSh0LnYxKSx0aGlzLnYyLmZyb21BcnJheSh0LnYyKSx0aGlzfSxwaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShadS5wcm90b3R5cGUpLHBoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1waCxwaC5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT0hMCxwaC5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCxlPW5ldyBHbil7Y29uc3Qgbj1lLHI9dGhpcy5wb2ludHMsaT0oci5sZW5ndGgtMSkqdCxvPU1hdGguZmxvb3IoaSksYT1pLW8scz1yWzA9PT1vP286by0xXSxjPXJbb10sbD1yW28+ci5sZW5ndGgtMj9yLmxlbmd0aC0xOm8rMV0sdT1yW28+ci5sZW5ndGgtMz9yLmxlbmd0aC0xOm8rMl07cmV0dXJuIG4uc2V0KGloKGEscy54LGMueCxsLngsdS54KSxpaChhLHMueSxjLnksbC55LHUueSkpLG59LHBoLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe1p1LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnBvaW50cz1bXTtmb3IobGV0IGU9MCxuPXQucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQucG9pbnRzW2VdO3RoaXMucG9pbnRzLnB1c2gobi5jbG9uZSgpKX1yZXR1cm4gdGhpc30scGgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2NvbnN0IHQ9WnUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3QucG9pbnRzPVtdO2ZvcihsZXQgZT0wLG49dGhpcy5wb2ludHMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dGhpcy5wb2ludHNbZV07dC5wb2ludHMucHVzaChuLnRvQXJyYXkoKSl9cmV0dXJuIHR9LHBoLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtadS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLHQpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dC5wb2ludHNbZV07dGhpcy5wb2ludHMucHVzaCgobmV3IEduKS5mcm9tQXJyYXkobikpfXJldHVybiB0aGlzfTt2YXIgZmg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmU6S3UsQ2F0bXVsbFJvbUN1cnZlMzpyaCxDdWJpY0JlemllckN1cnZlOnNoLEN1YmljQmV6aWVyQ3VydmUzOmNoLEVsbGlwc2VDdXJ2ZTpKdSxMaW5lQ3VydmU6bGgsTGluZUN1cnZlMzp1aCxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpoaCxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6ZGgsU3BsaW5lQ3VydmU6cGh9KTtmdW5jdGlvbiBtaCgpe1p1LmNhbGwodGhpcyksdGhpcy50eXBlPVwiQ3VydmVQYXRoXCIsdGhpcy5jdXJ2ZXM9W10sdGhpcy5hdXRvQ2xvc2U9ITF9ZnVuY3Rpb24gZ2godCl7bWguY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJQYXRoXCIsdGhpcy5jdXJyZW50UG9pbnQ9bmV3IEduLHQmJnRoaXMuc2V0RnJvbVBvaW50cyh0KX1mdW5jdGlvbiB2aCh0KXtnaC5jYWxsKHRoaXMsdCksdGhpcy51dWlkPXpuLmdlbmVyYXRlVVVJRCgpLHRoaXMudHlwZT1cIlNoYXBlXCIsdGhpcy5ob2xlcz1bXX1mdW5jdGlvbiB5aCh0LGU9MSl7SnIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMaWdodFwiLHRoaXMuY29sb3I9bmV3IHlpKHQpLHRoaXMuaW50ZW5zaXR5PWV9ZnVuY3Rpb24geGgodCxlLG4pe3loLmNhbGwodGhpcyx0LG4pLHRoaXMudHlwZT1cIkhlbWlzcGhlcmVMaWdodFwiLHRoaXMucG9zaXRpb24uY29weShKci5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5ncm91bmRDb2xvcj1uZXcgeWkoZSl9ZnVuY3Rpb24gYmgodCl7dGhpcy5jYW1lcmE9dCx0aGlzLmJpYXM9MCx0aGlzLm5vcm1hbEJpYXM9MCx0aGlzLnJhZGl1cz0xLHRoaXMubWFwU2l6ZT1uZXcgR24oNTEyLDUxMiksdGhpcy5tYXA9bnVsbCx0aGlzLm1hcFBhc3M9bnVsbCx0aGlzLm1hdHJpeD1uZXcgVHIsdGhpcy5hdXRvVXBkYXRlPSEwLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy5fZnJ1c3R1bT1uZXcgTG8sdGhpcy5fZnJhbWVFeHRlbnRzPW5ldyBHbigxLDEpLHRoaXMuX3ZpZXdwb3J0Q291bnQ9MSx0aGlzLl92aWV3cG9ydHM9W25ldyBxbigwLDAsMSwxKV19ZnVuY3Rpb24gd2goKXtiaC5jYWxsKHRoaXMsbmV3IHdvKDUwLDEsLjUsNTAwKSksdGhpcy5mb2N1cz0xfWZ1bmN0aW9uIF9oKHQsZSxuLHIsaSxvKXt5aC5jYWxsKHRoaXMsdCxlKSx0aGlzLnR5cGU9XCJTcG90TGlnaHRcIix0aGlzLnBvc2l0aW9uLmNvcHkoSnIuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMudGFyZ2V0PW5ldyBKcixPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBvd2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVuc2l0eSpNYXRoLlBJfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbnRlbnNpdHk9dC9NYXRoLlBJfX0pLHRoaXMuZGlzdGFuY2U9dm9pZCAwIT09bj9uOjAsdGhpcy5hbmdsZT12b2lkIDAhPT1yP3I6TWF0aC5QSS8zLHRoaXMucGVudW1icmE9dm9pZCAwIT09aT9pOjAsdGhpcy5kZWNheT12b2lkIDAhPT1vP286MSx0aGlzLnNoYWRvdz1uZXcgd2h9ZnVuY3Rpb24gTWgoKXtiaC5jYWxsKHRoaXMsbmV3IHdvKDkwLDEsLjUsNTAwKSksdGhpcy5fZnJhbWVFeHRlbnRzPW5ldyBHbig0LDIpLHRoaXMuX3ZpZXdwb3J0Q291bnQ9Nix0aGlzLl92aWV3cG9ydHM9W25ldyBxbigyLDEsMSwxKSxuZXcgcW4oMCwxLDEsMSksbmV3IHFuKDMsMSwxLDEpLG5ldyBxbigxLDEsMSwxKSxuZXcgcW4oMywwLDEsMSksbmV3IHFuKDEsMCwxLDEpXSx0aGlzLl9jdWJlRGlyZWN0aW9ucz1bbmV3IEtuKDEsMCwwKSxuZXcgS24oLTEsMCwwKSxuZXcgS24oMCwwLDEpLG5ldyBLbigwLDAsLTEpLG5ldyBLbigwLDEsMCksbmV3IEtuKDAsLTEsMCldLHRoaXMuX2N1YmVVcHM9W25ldyBLbigwLDEsMCksbmV3IEtuKDAsMSwwKSxuZXcgS24oMCwxLDApLG5ldyBLbigwLDEsMCksbmV3IEtuKDAsMCwxKSxuZXcgS24oMCwwLC0xKV19ZnVuY3Rpb24gU2godCxlLG4scil7eWguY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPVwiUG9pbnRMaWdodFwiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicG93ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDQqdGhpcy5pbnRlbnNpdHkqTWF0aC5QSX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW50ZW5zaXR5PXQvKDQqTWF0aC5QSSl9fSksdGhpcy5kaXN0YW5jZT12b2lkIDAhPT1uP246MCx0aGlzLmRlY2F5PXZvaWQgMCE9PXI/cjoxLHRoaXMuc2hhZG93PW5ldyBNaH1mdW5jdGlvbiBUaCh0LGUsbixyLGksbyl7Ym8uY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJPcnRob2dyYXBoaWNDYW1lcmFcIix0aGlzLnpvb209MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmxlZnQ9dm9pZCAwIT09dD90Oi0xLHRoaXMucmlnaHQ9dm9pZCAwIT09ZT9lOjEsdGhpcy50b3A9dm9pZCAwIT09bj9uOjEsdGhpcy5ib3R0b209dm9pZCAwIT09cj9yOi0xLHRoaXMubmVhcj12b2lkIDAhPT1pP2k6LjEsdGhpcy5mYXI9dm9pZCAwIT09bz9vOjJlMyx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1mdW5jdGlvbiBFaCgpe2JoLmNhbGwodGhpcyxuZXcgVGgoLTUsNSw1LC01LC41LDUwMCkpfWZ1bmN0aW9uIEFoKHQsZSl7eWguY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPVwiRGlyZWN0aW9uYWxMaWdodFwiLHRoaXMucG9zaXRpb24uY29weShKci5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy50YXJnZXQ9bmV3IEpyLHRoaXMuc2hhZG93PW5ldyBFaH1mdW5jdGlvbiBMaCh0LGUpe3loLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT1cIkFtYmllbnRMaWdodFwifWZ1bmN0aW9uIFJoKHQsZSxuLHIpe3loLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT1cIlJlY3RBcmVhTGlnaHRcIix0aGlzLndpZHRoPXZvaWQgMCE9PW4/bjoxMCx0aGlzLmhlaWdodD12b2lkIDAhPT1yP3I6MTB9bWgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShadS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjptaCxhZGQ6ZnVuY3Rpb24odCl7dGhpcy5jdXJ2ZXMucHVzaCh0KX0sY2xvc2VQYXRoOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKSxlPXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTt0LmVxdWFscyhlKXx8dGhpcy5jdXJ2ZXMucHVzaChuZXcgbGgoZSx0KSl9LGdldFBvaW50OmZ1bmN0aW9uKHQpe2NvbnN0IGU9dCp0aGlzLmdldExlbmd0aCgpLG49dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtsZXQgcj0wO2Zvcig7cjxuLmxlbmd0aDspe2lmKG5bcl0+PWUpe2NvbnN0IHQ9bltyXS1lLGk9dGhpcy5jdXJ2ZXNbcl0sbz1pLmdldExlbmd0aCgpLGE9MD09PW8/MDoxLXQvbztyZXR1cm4gaS5nZXRQb2ludEF0KGEpfXIrK31yZXR1cm4gbnVsbH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmdldEN1cnZlTGVuZ3RocygpO3JldHVybiB0W3QubGVuZ3RoLTFdfSx1cGRhdGVBcmNMZW5ndGhzOmZ1bmN0aW9uKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmNhY2hlTGVuZ3Rocz1udWxsLHRoaXMuZ2V0Q3VydmVMZW5ndGhzKCl9LGdldEN1cnZlTGVuZ3RoczpmdW5jdGlvbigpe2lmKHRoaXMuY2FjaGVMZW5ndGhzJiZ0aGlzLmNhY2hlTGVuZ3Rocy5sZW5ndGg9PT10aGlzLmN1cnZlcy5sZW5ndGgpcmV0dXJuIHRoaXMuY2FjaGVMZW5ndGhzO2NvbnN0IHQ9W107bGV0IGU9MDtmb3IobGV0IG49MCxyPXRoaXMuY3VydmVzLmxlbmd0aDtuPHI7bisrKWUrPXRoaXMuY3VydmVzW25dLmdldExlbmd0aCgpLHQucHVzaChlKTtyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM9dCx0fSxnZXRTcGFjZWRQb2ludHM6ZnVuY3Rpb24odD00MCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPD10O24rKyllLnB1c2godGhpcy5nZXRQb2ludChuL3QpKTtyZXR1cm4gdGhpcy5hdXRvQ2xvc2UmJmUucHVzaChlWzBdKSxlfSxnZXRQb2ludHM6ZnVuY3Rpb24odD0xMil7Y29uc3QgZT1bXTtsZXQgbjtmb3IobGV0IHI9MCxpPXRoaXMuY3VydmVzO3I8aS5sZW5ndGg7cisrKXtjb25zdCBvPWlbcl0sYT1vJiZvLmlzRWxsaXBzZUN1cnZlPzIqdDpvJiYoby5pc0xpbmVDdXJ2ZXx8by5pc0xpbmVDdXJ2ZTMpPzE6byYmby5pc1NwbGluZUN1cnZlP3Qqby5wb2ludHMubGVuZ3RoOnQscz1vLmdldFBvaW50cyhhKTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyl7Y29uc3Qgcj1zW3RdO24mJm4uZXF1YWxzKHIpfHwoZS5wdXNoKHIpLG49cil9fXJldHVybiB0aGlzLmF1dG9DbG9zZSYmZS5sZW5ndGg+MSYmIWVbZS5sZW5ndGgtMV0uZXF1YWxzKGVbMF0pJiZlLnB1c2goZVswXSksZX0sY29weTpmdW5jdGlvbih0KXtadS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jdXJ2ZXM9W107Zm9yKGxldCBlPTAsbj10LmN1cnZlcy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LmN1cnZlc1tlXTt0aGlzLmN1cnZlcy5wdXNoKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXMuYXV0b0Nsb3NlPXQuYXV0b0Nsb3NlLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9WnUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3QuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlLHQuY3VydmVzPVtdO2ZvcihsZXQgZT0wLG49dGhpcy5jdXJ2ZXMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dGhpcy5jdXJ2ZXNbZV07dC5jdXJ2ZXMucHVzaChuLnRvSlNPTigpKX1yZXR1cm4gdH0sZnJvbUpTT046ZnVuY3Rpb24odCl7WnUucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLmF1dG9DbG9zZT10LmF1dG9DbG9zZSx0aGlzLmN1cnZlcz1bXTtmb3IobGV0IGU9MCxuPXQuY3VydmVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQuY3VydmVzW2VdO3RoaXMuY3VydmVzLnB1c2goKG5ldyBmaFtuLnR5cGVdKS5mcm9tSlNPTihuKSl9cmV0dXJuIHRoaXN9fSksZ2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShtaC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpnaCxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKHQpe3RoaXMubW92ZVRvKHRbMF0ueCx0WzBdLnkpO2ZvcihsZXQgZT0xLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmxpbmVUbyh0W2VdLngsdFtlXS55KTtyZXR1cm4gdGhpc30sbW92ZVRvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LnNldCh0LGUpLHRoaXN9LGxpbmVUbzpmdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IGxoKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IEduKHQsZSkpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKG4pLHRoaXMuY3VycmVudFBvaW50LnNldCh0LGUpLHRoaXN9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT1uZXcgaGgodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgR24odCxlKSxuZXcgR24obixyKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2goaSksdGhpcy5jdXJyZW50UG9pbnQuc2V0KG4sciksdGhpc30sYmV6aWVyQ3VydmVUbzpmdW5jdGlvbih0LGUsbixyLGksbyl7Y29uc3QgYT1uZXcgc2godGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgR24odCxlKSxuZXcgR24obixyKSxuZXcgR24oaSxvKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2goYSksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGksbyksdGhpc30sc3BsaW5lVGhydTpmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBwaChbdGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKV0uY29uY2F0KHQpKTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChlKSx0aGlzLmN1cnJlbnRQb2ludC5jb3B5KHRbdC5sZW5ndGgtMV0pLHRoaXN9LGFyYzpmdW5jdGlvbih0LGUsbixyLGksbyl7Y29uc3QgYT10aGlzLmN1cnJlbnRQb2ludC54LHM9dGhpcy5jdXJyZW50UG9pbnQueTtyZXR1cm4gdGhpcy5hYnNhcmModCthLGUrcyxuLHIsaSxvKSx0aGlzfSxhYnNhcmM6ZnVuY3Rpb24odCxlLG4scixpLG8pe3JldHVybiB0aGlzLmFic2VsbGlwc2UodCxlLG4sbixyLGksbyksdGhpc30sZWxsaXBzZTpmdW5jdGlvbih0LGUsbixyLGksbyxhLHMpe2NvbnN0IGM9dGhpcy5jdXJyZW50UG9pbnQueCxsPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZSh0K2MsZStsLG4scixpLG8sYSxzKSx0aGlzfSxhYnNlbGxpcHNlOmZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7Y29uc3QgYz1uZXcgSnUodCxlLG4scixpLG8sYSxzKTtpZih0aGlzLmN1cnZlcy5sZW5ndGg+MCl7Y29uc3QgdD1jLmdldFBvaW50KDApO3QuZXF1YWxzKHRoaXMuY3VycmVudFBvaW50KXx8dGhpcy5saW5lVG8odC54LHQueSl9dGhpcy5jdXJ2ZXMucHVzaChjKTtjb25zdCBsPWMuZ2V0UG9pbnQoMSk7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LmNvcHkobCksdGhpc30sY29weTpmdW5jdGlvbih0KXtyZXR1cm4gbWgucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY3VycmVudFBvaW50LmNvcHkodC5jdXJyZW50UG9pbnQpLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9bWgucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0LmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnRQb2ludC50b0FycmF5KCksdH0sZnJvbUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIG1oLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsdCksdGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KHQuY3VycmVudFBvaW50KSx0aGlzfX0pLHZoLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZ2gucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6dmgsZ2V0UG9pbnRzSG9sZXM6ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MCxyPXRoaXMuaG9sZXMubGVuZ3RoO248cjtuKyspZVtuXT10aGlzLmhvbGVzW25dLmdldFBvaW50cyh0KTtyZXR1cm4gZX0sZXh0cmFjdFBvaW50czpmdW5jdGlvbih0KXtyZXR1cm57c2hhcGU6dGhpcy5nZXRQb2ludHModCksaG9sZXM6dGhpcy5nZXRQb2ludHNIb2xlcyh0KX19LGNvcHk6ZnVuY3Rpb24odCl7Z2gucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuaG9sZXM9W107Zm9yKGxldCBlPTAsbj10LmhvbGVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQuaG9sZXNbZV07dGhpcy5ob2xlcy5wdXNoKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9Z2gucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3QudXVpZD10aGlzLnV1aWQsdC5ob2xlcz1bXTtmb3IobGV0IGU9MCxuPXRoaXMuaG9sZXMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dGhpcy5ob2xlc1tlXTt0LmhvbGVzLnB1c2gobi50b0pTT04oKSl9cmV0dXJuIHR9LGZyb21KU09OOmZ1bmN0aW9uKHQpe2doLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsdCksdGhpcy51dWlkPXQudXVpZCx0aGlzLmhvbGVzPVtdO2ZvcihsZXQgZT0wLG49dC5ob2xlcy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LmhvbGVzW2VdO3RoaXMuaG9sZXMucHVzaCgobmV3IGdoKS5mcm9tSlNPTihuKSl9cmV0dXJuIHRoaXN9fSkseWgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShKci5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp5aCxpc0xpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEpyLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5pbnRlbnNpdHk9dC5pbnRlbnNpdHksdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe2NvbnN0IGU9SnIucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7cmV0dXJuIGUub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksZS5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5LHZvaWQgMCE9PXRoaXMuZ3JvdW5kQ29sb3ImJihlLm9iamVjdC5ncm91bmRDb2xvcj10aGlzLmdyb3VuZENvbG9yLmdldEhleCgpKSx2b2lkIDAhPT10aGlzLmRpc3RhbmNlJiYoZS5vYmplY3QuZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSksdm9pZCAwIT09dGhpcy5hbmdsZSYmKGUub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGUpLHZvaWQgMCE9PXRoaXMuZGVjYXkmJihlLm9iamVjdC5kZWNheT10aGlzLmRlY2F5KSx2b2lkIDAhPT10aGlzLnBlbnVtYnJhJiYoZS5vYmplY3QucGVudW1icmE9dGhpcy5wZW51bWJyYSksdm9pZCAwIT09dGhpcy5zaGFkb3cmJihlLm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCkpLGV9fSkseGgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5aC5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp4aCxpc0hlbWlzcGhlcmVMaWdodDohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB5aC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5ncm91bmRDb2xvci5jb3B5KHQuZ3JvdW5kQ29sb3IpLHRoaXN9fSksT2JqZWN0LmFzc2lnbihiaC5wcm90b3R5cGUse19wcm9qU2NyZWVuTWF0cml4Om5ldyBUcixfbGlnaHRQb3NpdGlvbldvcmxkOm5ldyBLbixfbG9va1RhcmdldDpuZXcgS24sZ2V0Vmlld3BvcnRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydENvdW50fSxnZXRGcnVzdHVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZydXN0dW19LHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5jYW1lcmEsbj10aGlzLm1hdHJpeCxyPXRoaXMuX3Byb2pTY3JlZW5NYXRyaXgsaT10aGlzLl9sb29rVGFyZ2V0LG89dGhpcy5fbGlnaHRQb3NpdGlvbldvcmxkO28uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLGUucG9zaXRpb24uY29weShvKSxpLnNldEZyb21NYXRyaXhQb3NpdGlvbih0LnRhcmdldC5tYXRyaXhXb3JsZCksZS5sb29rQXQoaSksZS51cGRhdGVNYXRyaXhXb3JsZCgpLHIubXVsdGlwbHlNYXRyaWNlcyhlLnByb2plY3Rpb25NYXRyaXgsZS5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgociksbi5zZXQoLjUsMCwwLC41LDAsLjUsMCwuNSwwLDAsLjUsLjUsMCwwLDAsMSksbi5tdWx0aXBseShlLnByb2plY3Rpb25NYXRyaXgpLG4ubXVsdGlwbHkoZS5tYXRyaXhXb3JsZEludmVyc2UpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3RdfSxnZXRGcmFtZUV4dGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVFeHRlbnRzfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbWVyYT10LmNhbWVyYS5jbG9uZSgpLHRoaXMuYmlhcz10LmJpYXMsdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy5tYXBTaXplLmNvcHkodC5tYXBTaXplKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sdG9KU09OOmZ1bmN0aW9uKCl7Y29uc3QgdD17fTtyZXR1cm4gMCE9PXRoaXMuYmlhcyYmKHQuYmlhcz10aGlzLmJpYXMpLDAhPT10aGlzLm5vcm1hbEJpYXMmJih0Lm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzKSwxIT09dGhpcy5yYWRpdXMmJih0LnJhZGl1cz10aGlzLnJhZGl1cyksNTEyPT09dGhpcy5tYXBTaXplLngmJjUxMj09PXRoaXMubWFwU2l6ZS55fHwodC5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCkpLHQuY2FtZXJhPXRoaXMuY2FtZXJhLnRvSlNPTighMSkub2JqZWN0LGRlbGV0ZSB0LmNhbWVyYS5tYXRyaXgsdH19KSx3aC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGJoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOndoLGlzU3BvdExpZ2h0U2hhZG93OiEwLHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5jYW1lcmEsbj0yKnpuLlJBRDJERUcqdC5hbmdsZSp0aGlzLmZvY3VzLHI9dGhpcy5tYXBTaXplLndpZHRoL3RoaXMubWFwU2l6ZS5oZWlnaHQsaT10LmRpc3RhbmNlfHxlLmZhcjtuPT09ZS5mb3YmJnI9PT1lLmFzcGVjdCYmaT09PWUuZmFyfHwoZS5mb3Y9bixlLmFzcGVjdD1yLGUuZmFyPWksZS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkpLGJoLnByb3RvdHlwZS51cGRhdGVNYXRyaWNlcy5jYWxsKHRoaXMsdCl9fSksX2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5aC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpfaCxpc1Nwb3RMaWdodDohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB5aC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5kaXN0YW5jZT10LmRpc3RhbmNlLHRoaXMuYW5nbGU9dC5hbmdsZSx0aGlzLnBlbnVtYnJhPXQucGVudW1icmEsdGhpcy5kZWNheT10LmRlY2F5LHRoaXMudGFyZ2V0PXQudGFyZ2V0LmNsb25lKCksdGhpcy5zaGFkb3c9dC5zaGFkb3cuY2xvbmUoKSx0aGlzfX0pLE1oLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoYmgucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TWgsaXNQb2ludExpZ2h0U2hhZG93OiEwLHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKHQsZT0wKXtjb25zdCBuPXRoaXMuY2FtZXJhLHI9dGhpcy5tYXRyaXgsaT10aGlzLl9saWdodFBvc2l0aW9uV29ybGQsbz10aGlzLl9sb29rVGFyZ2V0LGE9dGhpcy5fcHJvalNjcmVlbk1hdHJpeDtpLnNldEZyb21NYXRyaXhQb3NpdGlvbih0Lm1hdHJpeFdvcmxkKSxuLnBvc2l0aW9uLmNvcHkoaSksby5jb3B5KG4ucG9zaXRpb24pLG8uYWRkKHRoaXMuX2N1YmVEaXJlY3Rpb25zW2VdKSxuLnVwLmNvcHkodGhpcy5fY3ViZVVwc1tlXSksbi5sb29rQXQobyksbi51cGRhdGVNYXRyaXhXb3JsZCgpLHIubWFrZVRyYW5zbGF0aW9uKC1pLngsLWkueSwtaS56KSxhLm11bHRpcGx5TWF0cmljZXMobi5wcm9qZWN0aW9uTWF0cml4LG4ubWF0cml4V29ybGRJbnZlcnNlKSx0aGlzLl9mcnVzdHVtLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KGEpfX0pLFNoLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoeWgucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6U2gsaXNQb2ludExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHloLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmRpc3RhbmNlPXQuZGlzdGFuY2UsdGhpcy5kZWNheT10LmRlY2F5LHRoaXMuc2hhZG93PXQuc2hhZG93LmNsb25lKCksdGhpc319KSxUaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGJvLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlRoLGlzT3J0aG9ncmFwaGljQ2FtZXJhOiEwLGNvcHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gYm8ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQsZSksdGhpcy5sZWZ0PXQubGVmdCx0aGlzLnJpZ2h0PXQucmlnaHQsdGhpcy50b3A9dC50b3AsdGhpcy5ib3R0b209dC5ib3R0b20sdGhpcy5uZWFyPXQubmVhcix0aGlzLmZhcj10LmZhcix0aGlzLnpvb209dC56b29tLHRoaXMudmlldz1udWxsPT09dC52aWV3P251bGw6T2JqZWN0LmFzc2lnbih7fSx0LnZpZXcpLHRoaXN9LHNldFZpZXdPZmZzZXQ6ZnVuY3Rpb24odCxlLG4scixpLG8pe251bGw9PT10aGlzLnZpZXcmJih0aGlzLnZpZXc9e2VuYWJsZWQ6ITAsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMudmlldy5lbmFibGVkPSEwLHRoaXMudmlldy5mdWxsV2lkdGg9dCx0aGlzLnZpZXcuZnVsbEhlaWdodD1lLHRoaXMudmlldy5vZmZzZXRYPW4sdGhpcy52aWV3Lm9mZnNldFk9cix0aGlzLnZpZXcud2lkdGg9aSx0aGlzLnZpZXcuaGVpZ2h0PW8sdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9LGNsZWFyVmlld09mZnNldDpmdW5jdGlvbigpe251bGwhPT10aGlzLnZpZXcmJih0aGlzLnZpZXcuZW5hYmxlZD0hMSksdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9LHVwZGF0ZVByb2plY3Rpb25NYXRyaXg6ZnVuY3Rpb24oKXtjb25zdCB0PSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvKDIqdGhpcy56b29tKSxlPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvKDIqdGhpcy56b29tKSxuPSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMixyPSh0aGlzLnRvcCt0aGlzLmJvdHRvbSkvMjtsZXQgaT1uLXQsbz1uK3QsYT1yK2Uscz1yLWU7aWYobnVsbCE9PXRoaXMudmlldyYmdGhpcy52aWV3LmVuYWJsZWQpe2NvbnN0IHQ9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS90aGlzLnZpZXcuZnVsbFdpZHRoL3RoaXMuem9vbSxlPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvdGhpcy52aWV3LmZ1bGxIZWlnaHQvdGhpcy56b29tO2krPXQqdGhpcy52aWV3Lm9mZnNldFgsbz1pK3QqdGhpcy52aWV3LndpZHRoLGEtPWUqdGhpcy52aWV3Lm9mZnNldFkscz1hLWUqdGhpcy52aWV3LmhlaWdodH10aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZU9ydGhvZ3JhcGhpYyhpLG8sYSxzLHRoaXMubmVhcix0aGlzLmZhciksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMucHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCl9LHRvSlNPTjpmdW5jdGlvbih0KXtjb25zdCBlPUpyLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLHQpO3JldHVybiBlLm9iamVjdC56b29tPXRoaXMuem9vbSxlLm9iamVjdC5sZWZ0PXRoaXMubGVmdCxlLm9iamVjdC5yaWdodD10aGlzLnJpZ2h0LGUub2JqZWN0LnRvcD10aGlzLnRvcCxlLm9iamVjdC5ib3R0b209dGhpcy5ib3R0b20sZS5vYmplY3QubmVhcj10aGlzLm5lYXIsZS5vYmplY3QuZmFyPXRoaXMuZmFyLG51bGwhPT10aGlzLnZpZXcmJihlLm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KSksZX19KSxFaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGJoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkVoLGlzRGlyZWN0aW9uYWxMaWdodFNoYWRvdzohMCx1cGRhdGVNYXRyaWNlczpmdW5jdGlvbih0KXtiaC5wcm90b3R5cGUudXBkYXRlTWF0cmljZXMuY2FsbCh0aGlzLHQpfX0pLEFoLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoeWgucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QWgsaXNEaXJlY3Rpb25hbExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHloLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnRhcmdldD10LnRhcmdldC5jbG9uZSgpLHRoaXMuc2hhZG93PXQuc2hhZG93LmNsb25lKCksdGhpc319KSxMaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHloLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkxoLGlzQW1iaWVudExpZ2h0OiEwfSksUmgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5aC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpSaCxpc1JlY3RBcmVhTGlnaHQ6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4geWgucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzfSx0b0pTT046ZnVuY3Rpb24odCl7Y29uc3QgZT15aC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5vYmplY3Qud2lkdGg9dGhpcy53aWR0aCxlLm9iamVjdC5oZWlnaHQ9dGhpcy5oZWlnaHQsZX19KTtjbGFzcyBQaHtjb25zdHJ1Y3Rvcigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNTcGhlcmljYWxIYXJtb25pY3MzXCIse3ZhbHVlOiEwfSksdGhpcy5jb2VmZmljaWVudHM9W107Zm9yKGxldCB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50cy5wdXNoKG5ldyBLbil9c2V0KHQpe2ZvcihsZXQgZT0wO2U8OTtlKyspdGhpcy5jb2VmZmljaWVudHNbZV0uY29weSh0W2VdKTtyZXR1cm4gdGhpc316ZXJvKCl7Zm9yKGxldCB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5zZXQoMCwwLDApO3JldHVybiB0aGlzfWdldEF0KHQsZSl7Y29uc3Qgbj10Lngscj10LnksaT10Lnosbz10aGlzLmNvZWZmaWNpZW50cztyZXR1cm4gZS5jb3B5KG9bMF0pLm11bHRpcGx5U2NhbGFyKC4yODIwOTUpLGUuYWRkU2NhbGVkVmVjdG9yKG9bMV0sLjQ4ODYwMypyKSxlLmFkZFNjYWxlZFZlY3RvcihvWzJdLC40ODg2MDMqaSksZS5hZGRTY2FsZWRWZWN0b3Iob1szXSwuNDg4NjAzKm4pLGUuYWRkU2NhbGVkVmVjdG9yKG9bNF0sbipyKjEuMDkyNTQ4KSxlLmFkZFNjYWxlZFZlY3RvcihvWzVdLHIqaSoxLjA5MjU0OCksZS5hZGRTY2FsZWRWZWN0b3Iob1s2XSwuMzE1MzkyKigzKmkqaS0xKSksZS5hZGRTY2FsZWRWZWN0b3Iob1s3XSxuKmkqMS4wOTI1NDgpLGUuYWRkU2NhbGVkVmVjdG9yKG9bOF0sLjU0NjI3NCoobipuLXIqcikpLGV9Z2V0SXJyYWRpYW5jZUF0KHQsZSl7Y29uc3Qgbj10Lngscj10LnksaT10Lnosbz10aGlzLmNvZWZmaWNpZW50cztyZXR1cm4gZS5jb3B5KG9bMF0pLm11bHRpcGx5U2NhbGFyKC44ODYyMjcpLGUuYWRkU2NhbGVkVmVjdG9yKG9bMV0sMS4wMjMzMjgqciksZS5hZGRTY2FsZWRWZWN0b3Iob1syXSwxLjAyMzMyOCppKSxlLmFkZFNjYWxlZFZlY3RvcihvWzNdLDEuMDIzMzI4Km4pLGUuYWRkU2NhbGVkVmVjdG9yKG9bNF0sLjg1ODA4NipuKnIpLGUuYWRkU2NhbGVkVmVjdG9yKG9bNV0sLjg1ODA4NipyKmkpLGUuYWRkU2NhbGVkVmVjdG9yKG9bNl0sLjc0MzEyNSppKmktLjI0NzcwOCksZS5hZGRTY2FsZWRWZWN0b3Iob1s3XSwuODU4MDg2Km4qaSksZS5hZGRTY2FsZWRWZWN0b3Iob1s4XSwuNDI5MDQzKihuKm4tcipyKSksZX1hZGQodCl7Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5hZGQodC5jb2VmZmljaWVudHNbZV0pO3JldHVybiB0aGlzfWFkZFNjYWxlZFNIKHQsZSl7Zm9yKGxldCBuPTA7bjw5O24rKyl0aGlzLmNvZWZmaWNpZW50c1tuXS5hZGRTY2FsZWRWZWN0b3IodC5jb2VmZmljaWVudHNbbl0sZSk7cmV0dXJuIHRoaXN9c2NhbGUodCl7Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5tdWx0aXBseVNjYWxhcih0KTtyZXR1cm4gdGhpc31sZXJwKHQsZSl7Zm9yKGxldCBuPTA7bjw5O24rKyl0aGlzLmNvZWZmaWNpZW50c1tuXS5sZXJwKHQuY29lZmZpY2llbnRzW25dLGUpO3JldHVybiB0aGlzfWVxdWFscyh0KXtmb3IobGV0IGU9MDtlPDk7ZSsrKWlmKCF0aGlzLmNvZWZmaWNpZW50c1tlXS5lcXVhbHModC5jb2VmZmljaWVudHNbZV0pKXJldHVybiExO3JldHVybiEwfWNvcHkodCl7cmV0dXJuIHRoaXMuc2V0KHQuY29lZmZpY2llbnRzKX1jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1mcm9tQXJyYXkodCxlPTApe2NvbnN0IG49dGhpcy5jb2VmZmljaWVudHM7Zm9yKGxldCByPTA7cjw5O3IrKyluW3JdLmZyb21BcnJheSh0LGUrMypyKTtyZXR1cm4gdGhpc310b0FycmF5KHQ9W10sZT0wKXtjb25zdCBuPXRoaXMuY29lZmZpY2llbnRzO2ZvcihsZXQgcj0wO3I8OTtyKyspbltyXS50b0FycmF5KHQsZSszKnIpO3JldHVybiB0fXN0YXRpYyBnZXRCYXNpc0F0KHQsZSl7Y29uc3Qgbj10Lngscj10LnksaT10Lno7ZVswXT0uMjgyMDk1LGVbMV09LjQ4ODYwMypyLGVbMl09LjQ4ODYwMyppLGVbM109LjQ4ODYwMypuLGVbNF09MS4wOTI1NDgqbipyLGVbNV09MS4wOTI1NDgqcippLGVbNl09LjMxNTM5MiooMyppKmktMSksZVs3XT0xLjA5MjU0OCpuKmksZVs4XT0uNTQ2Mjc0KihuKm4tcipyKX19ZnVuY3Rpb24gQ2godCxlKXt5aC5jYWxsKHRoaXMsdm9pZCAwLGUpLHRoaXMudHlwZT1cIkxpZ2h0UHJvYmVcIix0aGlzLnNoPXZvaWQgMCE9PXQ/dDpuZXcgUGh9ZnVuY3Rpb24gSWgodCl7R3UuY2FsbCh0aGlzLHQpLHRoaXMudGV4dHVyZXM9e319Q2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5aC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpDaCxpc0xpZ2h0UHJvYmU6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4geWgucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuc2guY29weSh0LnNoKSx0aGlzfSxmcm9tSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnRlbnNpdHk9dC5pbnRlbnNpdHksdGhpcy5zaC5mcm9tQXJyYXkodC5zaCksdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe2NvbnN0IGU9eWgucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7cmV0dXJuIGUub2JqZWN0LnNoPXRoaXMuc2gudG9BcnJheSgpLGV9fSksSWgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpJaCxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IGk9dGhpcyxvPW5ldyBrdShpLm1hbmFnZXIpO28uc2V0UGF0aChpLnBhdGgpLG8uc2V0UmVxdWVzdEhlYWRlcihpLnJlcXVlc3RIZWFkZXIpLG8uc2V0V2l0aENyZWRlbnRpYWxzKGkud2l0aENyZWRlbnRpYWxzKSxvLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e2UoaS5wYXJzZShKU09OLnBhcnNlKG4pKSl9Y2F0Y2goZSl7cj9yKGUpOmNvbnNvbGUuZXJyb3IoZSksaS5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLHIpfSxwYXJzZTpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMudGV4dHVyZXM7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdm9pZCAwPT09ZVt0XSYmY29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWxMb2FkZXI6IFVuZGVmaW5lZCB0ZXh0dXJlXCIsdCksZVt0XX1jb25zdCByPW5ldyB3dVt0LnR5cGVdO2lmKHZvaWQgMCE9PXQudXVpZCYmKHIudXVpZD10LnV1aWQpLHZvaWQgMCE9PXQubmFtZSYmKHIubmFtZT10Lm5hbWUpLHZvaWQgMCE9PXQuY29sb3ImJnZvaWQgMCE9PXIuY29sb3ImJnIuY29sb3Iuc2V0SGV4KHQuY29sb3IpLHZvaWQgMCE9PXQucm91Z2huZXNzJiYoci5yb3VnaG5lc3M9dC5yb3VnaG5lc3MpLHZvaWQgMCE9PXQubWV0YWxuZXNzJiYoci5tZXRhbG5lc3M9dC5tZXRhbG5lc3MpLHZvaWQgMCE9PXQuc2hlZW4mJihyLnNoZWVuPShuZXcgeWkpLnNldEhleCh0LnNoZWVuKSksdm9pZCAwIT09dC5lbWlzc2l2ZSYmdm9pZCAwIT09ci5lbWlzc2l2ZSYmci5lbWlzc2l2ZS5zZXRIZXgodC5lbWlzc2l2ZSksdm9pZCAwIT09dC5zcGVjdWxhciYmdm9pZCAwIT09ci5zcGVjdWxhciYmci5zcGVjdWxhci5zZXRIZXgodC5zcGVjdWxhciksdm9pZCAwIT09dC5zaGluaW5lc3MmJihyLnNoaW5pbmVzcz10LnNoaW5pbmVzcyksdm9pZCAwIT09dC5jbGVhcmNvYXQmJihyLmNsZWFyY29hdD10LmNsZWFyY29hdCksdm9pZCAwIT09dC5jbGVhcmNvYXRSb3VnaG5lc3MmJihyLmNsZWFyY29hdFJvdWdobmVzcz10LmNsZWFyY29hdFJvdWdobmVzcyksdm9pZCAwIT09dC5mb2cmJihyLmZvZz10LmZvZyksdm9pZCAwIT09dC5mbGF0U2hhZGluZyYmKHIuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyksdm9pZCAwIT09dC5ibGVuZGluZyYmKHIuYmxlbmRpbmc9dC5ibGVuZGluZyksdm9pZCAwIT09dC5jb21iaW5lJiYoci5jb21iaW5lPXQuY29tYmluZSksdm9pZCAwIT09dC5zaWRlJiYoci5zaWRlPXQuc2lkZSksdm9pZCAwIT09dC5vcGFjaXR5JiYoci5vcGFjaXR5PXQub3BhY2l0eSksdm9pZCAwIT09dC50cmFuc3BhcmVudCYmKHIudHJhbnNwYXJlbnQ9dC50cmFuc3BhcmVudCksdm9pZCAwIT09dC5hbHBoYVRlc3QmJihyLmFscGhhVGVzdD10LmFscGhhVGVzdCksdm9pZCAwIT09dC5kZXB0aFRlc3QmJihyLmRlcHRoVGVzdD10LmRlcHRoVGVzdCksdm9pZCAwIT09dC5kZXB0aFdyaXRlJiYoci5kZXB0aFdyaXRlPXQuZGVwdGhXcml0ZSksdm9pZCAwIT09dC5jb2xvcldyaXRlJiYoci5jb2xvcldyaXRlPXQuY29sb3JXcml0ZSksdm9pZCAwIT09dC5zdGVuY2lsV3JpdGUmJihyLnN0ZW5jaWxXcml0ZT10LnN0ZW5jaWxXcml0ZSksdm9pZCAwIT09dC5zdGVuY2lsV3JpdGVNYXNrJiYoci5zdGVuY2lsV3JpdGVNYXNrPXQuc3RlbmNpbFdyaXRlTWFzayksdm9pZCAwIT09dC5zdGVuY2lsRnVuYyYmKHIuc3RlbmNpbEZ1bmM9dC5zdGVuY2lsRnVuYyksdm9pZCAwIT09dC5zdGVuY2lsUmVmJiYoci5zdGVuY2lsUmVmPXQuc3RlbmNpbFJlZiksdm9pZCAwIT09dC5zdGVuY2lsRnVuY01hc2smJihyLnN0ZW5jaWxGdW5jTWFzaz10LnN0ZW5jaWxGdW5jTWFzayksdm9pZCAwIT09dC5zdGVuY2lsRmFpbCYmKHIuc3RlbmNpbEZhaWw9dC5zdGVuY2lsRmFpbCksdm9pZCAwIT09dC5zdGVuY2lsWkZhaWwmJihyLnN0ZW5jaWxaRmFpbD10LnN0ZW5jaWxaRmFpbCksdm9pZCAwIT09dC5zdGVuY2lsWlBhc3MmJihyLnN0ZW5jaWxaUGFzcz10LnN0ZW5jaWxaUGFzcyksdm9pZCAwIT09dC53aXJlZnJhbWUmJihyLndpcmVmcmFtZT10LndpcmVmcmFtZSksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5ld2lkdGgmJihyLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5lY2FwJiYoci53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5lam9pbiYmKHIud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbiksdm9pZCAwIT09dC5yb3RhdGlvbiYmKHIucm90YXRpb249dC5yb3RhdGlvbiksMSE9PXQubGluZXdpZHRoJiYoci5saW5ld2lkdGg9dC5saW5ld2lkdGgpLHZvaWQgMCE9PXQuZGFzaFNpemUmJihyLmRhc2hTaXplPXQuZGFzaFNpemUpLHZvaWQgMCE9PXQuZ2FwU2l6ZSYmKHIuZ2FwU2l6ZT10LmdhcFNpemUpLHZvaWQgMCE9PXQuc2NhbGUmJihyLnNjYWxlPXQuc2NhbGUpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldCYmKHIucG9seWdvbk9mZnNldD10LnBvbHlnb25PZmZzZXQpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldEZhY3RvciYmKHIucG9seWdvbk9mZnNldEZhY3Rvcj10LnBvbHlnb25PZmZzZXRGYWN0b3IpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldFVuaXRzJiYoci5wb2x5Z29uT2Zmc2V0VW5pdHM9dC5wb2x5Z29uT2Zmc2V0VW5pdHMpLHZvaWQgMCE9PXQuc2tpbm5pbmcmJihyLnNraW5uaW5nPXQuc2tpbm5pbmcpLHZvaWQgMCE9PXQubW9ycGhUYXJnZXRzJiYoci5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMpLHZvaWQgMCE9PXQubW9ycGhOb3JtYWxzJiYoci5tb3JwaE5vcm1hbHM9dC5tb3JwaE5vcm1hbHMpLHZvaWQgMCE9PXQuZGl0aGVyaW5nJiYoci5kaXRoZXJpbmc9dC5kaXRoZXJpbmcpLHZvaWQgMCE9PXQudmVydGV4VGFuZ2VudHMmJihyLnZlcnRleFRhbmdlbnRzPXQudmVydGV4VGFuZ2VudHMpLHZvaWQgMCE9PXQudmlzaWJsZSYmKHIudmlzaWJsZT10LnZpc2libGUpLHZvaWQgMCE9PXQudG9uZU1hcHBlZCYmKHIudG9uZU1hcHBlZD10LnRvbmVNYXBwZWQpLHZvaWQgMCE9PXQudXNlckRhdGEmJihyLnVzZXJEYXRhPXQudXNlckRhdGEpLHZvaWQgMCE9PXQudmVydGV4Q29sb3JzJiYoXCJudW1iZXJcIj09dHlwZW9mIHQudmVydGV4Q29sb3JzP3IudmVydGV4Q29sb3JzPXQudmVydGV4Q29sb3JzPjA6ci52ZXJ0ZXhDb2xvcnM9dC52ZXJ0ZXhDb2xvcnMpLHZvaWQgMCE9PXQudW5pZm9ybXMpZm9yKGNvbnN0IGUgaW4gdC51bmlmb3Jtcyl7Y29uc3QgaT10LnVuaWZvcm1zW2VdO3N3aXRjaChyLnVuaWZvcm1zW2VdPXt9LGkudHlwZSl7Y2FzZVwidFwiOnIudW5pZm9ybXNbZV0udmFsdWU9bihpLnZhbHVlKTticmVhaztjYXNlXCJjXCI6ci51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHlpKS5zZXRIZXgoaS52YWx1ZSk7YnJlYWs7Y2FzZVwidjJcIjpyLnVuaWZvcm1zW2VdLnZhbHVlPShuZXcgR24pLmZyb21BcnJheShpLnZhbHVlKTticmVhaztjYXNlXCJ2M1wiOnIudW5pZm9ybXNbZV0udmFsdWU9KG5ldyBLbikuZnJvbUFycmF5KGkudmFsdWUpO2JyZWFrO2Nhc2VcInY0XCI6ci51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHFuKS5mcm9tQXJyYXkoaS52YWx1ZSk7YnJlYWs7Y2FzZVwibTNcIjpyLnVuaWZvcm1zW2VdLnZhbHVlPShuZXcgSG4pLmZyb21BcnJheShpLnZhbHVlKTticmVhaztjYXNlXCJtNFwiOnIudW5pZm9ybXNbZV0udmFsdWU9KG5ldyBUcikuZnJvbUFycmF5KGkudmFsdWUpO2JyZWFrO2RlZmF1bHQ6ci51bmlmb3Jtc1tlXS52YWx1ZT1pLnZhbHVlfX1pZih2b2lkIDAhPT10LmRlZmluZXMmJihyLmRlZmluZXM9dC5kZWZpbmVzKSx2b2lkIDAhPT10LnZlcnRleFNoYWRlciYmKHIudmVydGV4U2hhZGVyPXQudmVydGV4U2hhZGVyKSx2b2lkIDAhPT10LmZyYWdtZW50U2hhZGVyJiYoci5mcmFnbWVudFNoYWRlcj10LmZyYWdtZW50U2hhZGVyKSx2b2lkIDAhPT10LmV4dGVuc2lvbnMpZm9yKGNvbnN0IGUgaW4gdC5leHRlbnNpb25zKXIuZXh0ZW5zaW9uc1tlXT10LmV4dGVuc2lvbnNbZV07aWYodm9pZCAwIT09dC5zaGFkaW5nJiYoci5mbGF0U2hhZGluZz0xPT09dC5zaGFkaW5nKSx2b2lkIDAhPT10LnNpemUmJihyLnNpemU9dC5zaXplKSx2b2lkIDAhPT10LnNpemVBdHRlbnVhdGlvbiYmKHIuc2l6ZUF0dGVudWF0aW9uPXQuc2l6ZUF0dGVudWF0aW9uKSx2b2lkIDAhPT10Lm1hcCYmKHIubWFwPW4odC5tYXApKSx2b2lkIDAhPT10Lm1hdGNhcCYmKHIubWF0Y2FwPW4odC5tYXRjYXApKSx2b2lkIDAhPT10LmFscGhhTWFwJiYoci5hbHBoYU1hcD1uKHQuYWxwaGFNYXApKSx2b2lkIDAhPT10LmJ1bXBNYXAmJihyLmJ1bXBNYXA9bih0LmJ1bXBNYXApKSx2b2lkIDAhPT10LmJ1bXBTY2FsZSYmKHIuYnVtcFNjYWxlPXQuYnVtcFNjYWxlKSx2b2lkIDAhPT10Lm5vcm1hbE1hcCYmKHIubm9ybWFsTWFwPW4odC5ub3JtYWxNYXApKSx2b2lkIDAhPT10Lm5vcm1hbE1hcFR5cGUmJihyLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlKSx2b2lkIDAhPT10Lm5vcm1hbFNjYWxlKXtsZXQgZT10Lm5vcm1hbFNjYWxlOyExPT09QXJyYXkuaXNBcnJheShlKSYmKGU9W2UsZV0pLHIubm9ybWFsU2NhbGU9KG5ldyBHbikuZnJvbUFycmF5KGUpfXJldHVybiB2b2lkIDAhPT10LmRpc3BsYWNlbWVudE1hcCYmKHIuZGlzcGxhY2VtZW50TWFwPW4odC5kaXNwbGFjZW1lbnRNYXApKSx2b2lkIDAhPT10LmRpc3BsYWNlbWVudFNjYWxlJiYoci5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlKSx2b2lkIDAhPT10LmRpc3BsYWNlbWVudEJpYXMmJihyLmRpc3BsYWNlbWVudEJpYXM9dC5kaXNwbGFjZW1lbnRCaWFzKSx2b2lkIDAhPT10LnJvdWdobmVzc01hcCYmKHIucm91Z2huZXNzTWFwPW4odC5yb3VnaG5lc3NNYXApKSx2b2lkIDAhPT10Lm1ldGFsbmVzc01hcCYmKHIubWV0YWxuZXNzTWFwPW4odC5tZXRhbG5lc3NNYXApKSx2b2lkIDAhPT10LmVtaXNzaXZlTWFwJiYoci5lbWlzc2l2ZU1hcD1uKHQuZW1pc3NpdmVNYXApKSx2b2lkIDAhPT10LmVtaXNzaXZlSW50ZW5zaXR5JiYoci5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5KSx2b2lkIDAhPT10LnNwZWN1bGFyTWFwJiYoci5zcGVjdWxhck1hcD1uKHQuc3BlY3VsYXJNYXApKSx2b2lkIDAhPT10LmVudk1hcCYmKHIuZW52TWFwPW4odC5lbnZNYXApKSx2b2lkIDAhPT10LmVudk1hcEludGVuc2l0eSYmKHIuZW52TWFwSW50ZW5zaXR5PXQuZW52TWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LnJlZmxlY3Rpdml0eSYmKHIucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5KSx2b2lkIDAhPT10LnJlZnJhY3Rpb25SYXRpbyYmKHIucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvKSx2b2lkIDAhPT10LmxpZ2h0TWFwJiYoci5saWdodE1hcD1uKHQubGlnaHRNYXApKSx2b2lkIDAhPT10LmxpZ2h0TWFwSW50ZW5zaXR5JiYoci5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LmFvTWFwJiYoci5hb01hcD1uKHQuYW9NYXApKSx2b2lkIDAhPT10LmFvTWFwSW50ZW5zaXR5JiYoci5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LmdyYWRpZW50TWFwJiYoci5ncmFkaWVudE1hcD1uKHQuZ3JhZGllbnRNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE1hcCYmKHIuY2xlYXJjb2F0TWFwPW4odC5jbGVhcmNvYXRNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdFJvdWdobmVzc01hcCYmKHIuY2xlYXJjb2F0Um91Z2huZXNzTWFwPW4odC5jbGVhcmNvYXRSb3VnaG5lc3NNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE5vcm1hbE1hcCYmKHIuY2xlYXJjb2F0Tm9ybWFsTWFwPW4odC5jbGVhcmNvYXROb3JtYWxNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE5vcm1hbFNjYWxlJiYoci5jbGVhcmNvYXROb3JtYWxTY2FsZT0obmV3IEduKS5mcm9tQXJyYXkodC5jbGVhcmNvYXROb3JtYWxTY2FsZSkpLHZvaWQgMCE9PXQudHJhbnNtaXNzaW9uJiYoci50cmFuc21pc3Npb249dC50cmFuc21pc3Npb24pLHZvaWQgMCE9PXQudHJhbnNtaXNzaW9uTWFwJiYoci50cmFuc21pc3Npb25NYXA9bih0LnRyYW5zbWlzc2lvbk1hcCkpLHJ9LHNldFRleHR1cmVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleHR1cmVzPXQsdGhpc319KTtjb25zdCBPaD17ZGVjb2RlVGV4dDpmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dERlY29kZXIpcmV0dXJuKG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKHQpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTAscj10Lmxlbmd0aDtuPHI7bisrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGUpKX1jYXRjaCh0KXtyZXR1cm4gZX19LGV4dHJhY3RVcmxCYXNlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuLTE9PT1lP1wiLi9cIjp0LnN1YnN0cigwLGUrMSl9fTtmdW5jdGlvbiBOaCgpe3FpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnlcIix0aGlzLmluc3RhbmNlQ291bnQ9MS8wfWZ1bmN0aW9uIERoKHQsZSxuLHIpe1wibnVtYmVyXCI9PXR5cGVvZiBuJiYocj1uLG49ITEsY29uc29sZS5lcnJvcihcIlRIUkVFLkluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTogVGhlIGNvbnN0cnVjdG9yIG5vdyBleHBlY3RzIG5vcm1hbGl6ZWQgYXMgdGhlIHRoaXJkIGFyZ3VtZW50LlwiKSksVGkuY2FsbCh0aGlzLHQsZSxuKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9cnx8MX1mdW5jdGlvbiBCaCh0KXtHdS5jYWxsKHRoaXMsdCl9TmgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShxaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpOaCxpc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHFpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmluc3RhbmNlQ291bnQ9dC5pbnN0YW5jZUNvdW50LHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSx0b0pTT046ZnVuY3Rpb24oKXtjb25zdCB0PXFpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gdC5pbnN0YW5jZUNvdW50PXRoaXMuaW5zdGFuY2VDb3VudCx0LmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9ITAsdH19KSxEaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFRpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkRoLGlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIFRpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9dC5tZXNoUGVyQXR0cmlidXRlLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe2NvbnN0IHQ9VGkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0Lm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLHQuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITAsdH19KSxCaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEd1LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkJoLGxvYWQ6ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT10aGlzLG89bmV3IGt1KGkubWFuYWdlcik7by5zZXRQYXRoKGkucGF0aCksby5zZXRSZXF1ZXN0SGVhZGVyKGkucmVxdWVzdEhlYWRlciksby5zZXRXaXRoQ3JlZGVudGlhbHMoaS53aXRoQ3JlZGVudGlhbHMpLG8ubG9hZCh0LChmdW5jdGlvbihuKXt0cnl7ZShpLnBhcnNlKEpTT04ucGFyc2UobikpKX1jYXRjaChlKXtyP3IoZSk6Y29uc29sZS5lcnJvcihlKSxpLm1hbmFnZXIuaXRlbUVycm9yKHQpfX0pLG4scil9LHBhcnNlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9e30sbj17fTtmdW5jdGlvbiByKHQscil7aWYodm9pZCAwIT09ZVtyXSlyZXR1cm4gZVtyXTtjb25zdCBpPXQuaW50ZXJsZWF2ZWRCdWZmZXJzW3JdLG89ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT1uW2VdKXJldHVybiBuW2VdO2NvbnN0IHI9dC5hcnJheUJ1ZmZlcnNbZV0saT1uZXcgVWludDMyQXJyYXkocikuYnVmZmVyO3JldHVybiBuW2VdPWksaX0odCxpLmJ1ZmZlciksYT1uZXcgR3MoemkoaS50eXBlLG8pLGkuc3RyaWRlKTtyZXR1cm4gYS51dWlkPWkudXVpZCxlW3JdPWEsYX1jb25zdCBpPXQuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT9uZXcgTmg6bmV3IHFpLG89dC5kYXRhLmluZGV4O2lmKHZvaWQgMCE9PW8pe2NvbnN0IHQ9emkoby50eXBlLG8uYXJyYXkpO2kuc2V0SW5kZXgobmV3IFRpKHQsMSkpfWNvbnN0IGE9dC5kYXRhLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGUgaW4gYSl7Y29uc3Qgbj1hW2VdO2xldCBvO2lmKG4uaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7bz1uZXcga3Mocih0LmRhdGEsbi5kYXRhKSxuLml0ZW1TaXplLG4ub2Zmc2V0LG4ubm9ybWFsaXplZCl9ZWxzZXtjb25zdCB0PXppKG4udHlwZSxuLmFycmF5KTtvPW5ldyhuLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlP0RoOlRpKSh0LG4uaXRlbVNpemUsbi5ub3JtYWxpemVkKX12b2lkIDAhPT1uLm5hbWUmJihvLm5hbWU9bi5uYW1lKSxpLnNldEF0dHJpYnV0ZShlLG8pfWNvbnN0IHM9dC5kYXRhLm1vcnBoQXR0cmlidXRlcztpZihzKWZvcihjb25zdCBlIGluIHMpe2NvbnN0IG49c1tlXSxvPVtdO2ZvcihsZXQgZT0wLGk9bi5sZW5ndGg7ZTxpO2UrKyl7Y29uc3QgaT1uW2VdO2xldCBhO2lmKGkuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7YT1uZXcga3Mocih0LmRhdGEsaS5kYXRhKSxpLml0ZW1TaXplLGkub2Zmc2V0LGkubm9ybWFsaXplZCl9ZWxzZXthPW5ldyBUaSh6aShpLnR5cGUsaS5hcnJheSksaS5pdGVtU2l6ZSxpLm5vcm1hbGl6ZWQpfXZvaWQgMCE9PWkubmFtZSYmKGEubmFtZT1pLm5hbWUpLG8ucHVzaChhKX1pLm1vcnBoQXR0cmlidXRlc1tlXT1vfXQuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZSYmKGkubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITApO2NvbnN0IGM9dC5kYXRhLmdyb3Vwc3x8dC5kYXRhLmRyYXdjYWxsc3x8dC5kYXRhLm9mZnNldHM7aWYodm9pZCAwIT09Yylmb3IobGV0IHQ9MCxlPWMubGVuZ3RoO3QhPT1lOysrdCl7Y29uc3QgZT1jW3RdO2kuYWRkR3JvdXAoZS5zdGFydCxlLmNvdW50LGUubWF0ZXJpYWxJbmRleCl9Y29uc3QgbD10LmRhdGEuYm91bmRpbmdTcGhlcmU7aWYodm9pZCAwIT09bCl7Y29uc3QgdD1uZXcgS247dm9pZCAwIT09bC5jZW50ZXImJnQuZnJvbUFycmF5KGwuY2VudGVyKSxpLmJvdW5kaW5nU3BoZXJlPW5ldyBncih0LGwucmFkaXVzKX1yZXR1cm4gdC5uYW1lJiYoaS5uYW1lPXQubmFtZSksdC51c2VyRGF0YSYmKGkudXNlckRhdGE9dC51c2VyRGF0YSksaX19KTtjbGFzcyBGaCBleHRlbmRzIEd1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4scil7Y29uc3QgaT10aGlzLG89XCJcIj09PXRoaXMucGF0aD9PaC5leHRyYWN0VXJsQmFzZSh0KTp0aGlzLnBhdGg7dGhpcy5yZXNvdXJjZVBhdGg9dGhpcy5yZXNvdXJjZVBhdGh8fG87Y29uc3QgYT1uZXcga3UodGhpcy5tYW5hZ2VyKTthLnNldFBhdGgodGhpcy5wYXRoKSxhLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxhLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyksYS5sb2FkKHQsKGZ1bmN0aW9uKG4pe2xldCBvPW51bGw7dHJ5e289SlNPTi5wYXJzZShuKX1jYXRjaChlKXtyZXR1cm4gdm9pZCAwIT09ciYmcihlKSx2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRTpPYmplY3RMb2FkZXI6IENhbid0IHBhcnNlIFwiK3QrXCIuXCIsZS5tZXNzYWdlKX1jb25zdCBhPW8ubWV0YWRhdGE7dm9pZCAwIT09YSYmdm9pZCAwIT09YS50eXBlJiZcImdlb21ldHJ5XCIhPT1hLnR5cGUudG9Mb3dlckNhc2UoKT9pLnBhcnNlKG8sZSk6Y29uc29sZS5lcnJvcihcIlRIUkVFLk9iamVjdExvYWRlcjogQ2FuJ3QgbG9hZCBcIit0KX0pLG4scil9cGFyc2UodCxlKXtjb25zdCBuPXRoaXMucGFyc2VBbmltYXRpb25zKHQuYW5pbWF0aW9ucykscj10aGlzLnBhcnNlU2hhcGVzKHQuc2hhcGVzKSxpPXRoaXMucGFyc2VHZW9tZXRyaWVzKHQuZ2VvbWV0cmllcyxyKSxvPXRoaXMucGFyc2VJbWFnZXModC5pbWFnZXMsKGZ1bmN0aW9uKCl7dm9pZCAwIT09ZSYmZShjKX0pKSxhPXRoaXMucGFyc2VUZXh0dXJlcyh0LnRleHR1cmVzLG8pLHM9dGhpcy5wYXJzZU1hdGVyaWFscyh0Lm1hdGVyaWFscyxhKSxjPXRoaXMucGFyc2VPYmplY3QodC5vYmplY3QsaSxzLG4pLGw9dGhpcy5wYXJzZVNrZWxldG9ucyh0LnNrZWxldG9ucyxjKTtpZih0aGlzLmJpbmRTa2VsZXRvbnMoYyxsKSx2b2lkIDAhPT1lKXtsZXQgdD0hMTtmb3IoY29uc3QgZSBpbiBvKWlmKG9bZV1pbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpe3Q9ITA7YnJlYWt9ITE9PT10JiZlKGMpfXJldHVybiBjfXBhcnNlU2hhcGVzKHQpe2NvbnN0IGU9e307aWYodm9pZCAwIT09dClmb3IobGV0IG49MCxyPXQubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9KG5ldyB2aCkuZnJvbUpTT04odFtuXSk7ZVtyLnV1aWRdPXJ9cmV0dXJuIGV9cGFyc2VTa2VsZXRvbnModCxlKXtjb25zdCBuPXt9LHI9e307aWYoZS50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc0JvbmUmJihyW3QudXVpZF09dCl9KSksdm9pZCAwIT09dClmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspe2NvbnN0IGk9KG5ldyBkYykuZnJvbUpTT04odFtlXSxyKTtuW2kudXVpZF09aX1yZXR1cm4gbn1wYXJzZUdlb21ldHJpZXModCxlKXtjb25zdCBuPXt9O2xldCByO2lmKHZvaWQgMCE9PXQpe2NvbnN0IGk9bmV3IEJoO2ZvcihsZXQgbz0wLGE9dC5sZW5ndGg7bzxhO28rKyl7bGV0IGE7Y29uc3Qgcz10W29dO3N3aXRjaChzLnR5cGUpe2Nhc2VcIlBsYW5lR2VvbWV0cnlcIjpjYXNlXCJQbGFuZUJ1ZmZlckdlb21ldHJ5XCI6YT1uZXcgdXVbcy50eXBlXShzLndpZHRoLHMuaGVpZ2h0LHMud2lkdGhTZWdtZW50cyxzLmhlaWdodFNlZ21lbnRzKTticmVhaztjYXNlXCJCb3hHZW9tZXRyeVwiOmNhc2VcIkJveEJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiQ3ViZUdlb21ldHJ5XCI6YT1uZXcgdXVbcy50eXBlXShzLndpZHRoLHMuaGVpZ2h0LHMuZGVwdGgscy53aWR0aFNlZ21lbnRzLHMuaGVpZ2h0U2VnbWVudHMscy5kZXB0aFNlZ21lbnRzKTticmVhaztjYXNlXCJDaXJjbGVHZW9tZXRyeVwiOmNhc2VcIkNpcmNsZUJ1ZmZlckdlb21ldHJ5XCI6YT1uZXcgdXVbcy50eXBlXShzLnJhZGl1cyxzLnNlZ21lbnRzLHMudGhldGFTdGFydCxzLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlXCJDeWxpbmRlckdlb21ldHJ5XCI6Y2FzZVwiQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeVwiOmE9bmV3IHV1W3MudHlwZV0ocy5yYWRpdXNUb3Ascy5yYWRpdXNCb3R0b20scy5oZWlnaHQscy5yYWRpYWxTZWdtZW50cyxzLmhlaWdodFNlZ21lbnRzLHMub3BlbkVuZGVkLHMudGhldGFTdGFydCxzLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlXCJDb25lR2VvbWV0cnlcIjpjYXNlXCJDb25lQnVmZmVyR2VvbWV0cnlcIjphPW5ldyB1dVtzLnR5cGVdKHMucmFkaXVzLHMuaGVpZ2h0LHMucmFkaWFsU2VnbWVudHMscy5oZWlnaHRTZWdtZW50cyxzLm9wZW5FbmRlZCxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiU3BoZXJlR2VvbWV0cnlcIjpjYXNlXCJTcGhlcmVCdWZmZXJHZW9tZXRyeVwiOmE9bmV3IHV1W3MudHlwZV0ocy5yYWRpdXMscy53aWR0aFNlZ21lbnRzLHMuaGVpZ2h0U2VnbWVudHMscy5waGlTdGFydCxzLnBoaUxlbmd0aCxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiRG9kZWNhaGVkcm9uR2VvbWV0cnlcIjpjYXNlXCJEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeVwiOmNhc2VcIkljb3NhaGVkcm9uR2VvbWV0cnlcIjpjYXNlXCJJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiT2N0YWhlZHJvbkdlb21ldHJ5XCI6Y2FzZVwiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiVGV0cmFoZWRyb25HZW9tZXRyeVwiOmNhc2VcIlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIjphPW5ldyB1dVtzLnR5cGVdKHMucmFkaXVzLHMuZGV0YWlsKTticmVhaztjYXNlXCJSaW5nR2VvbWV0cnlcIjpjYXNlXCJSaW5nQnVmZmVyR2VvbWV0cnlcIjphPW5ldyB1dVtzLnR5cGVdKHMuaW5uZXJSYWRpdXMscy5vdXRlclJhZGl1cyxzLnRoZXRhU2VnbWVudHMscy5waGlTZWdtZW50cyxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiVG9ydXNHZW9tZXRyeVwiOmNhc2VcIlRvcnVzQnVmZmVyR2VvbWV0cnlcIjphPW5ldyB1dVtzLnR5cGVdKHMucmFkaXVzLHMudHViZSxzLnJhZGlhbFNlZ21lbnRzLHMudHVidWxhclNlZ21lbnRzLHMuYXJjKTticmVhaztjYXNlXCJUb3J1c0tub3RHZW9tZXRyeVwiOmNhc2VcIlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5XCI6YT1uZXcgdXVbcy50eXBlXShzLnJhZGl1cyxzLnR1YmUscy50dWJ1bGFyU2VnbWVudHMscy5yYWRpYWxTZWdtZW50cyxzLnAscy5xKTticmVhaztjYXNlXCJUdWJlR2VvbWV0cnlcIjpjYXNlXCJUdWJlQnVmZmVyR2VvbWV0cnlcIjphPW5ldyB1dVtzLnR5cGVdKChuZXcgZmhbcy5wYXRoLnR5cGVdKS5mcm9tSlNPTihzLnBhdGgpLHMudHVidWxhclNlZ21lbnRzLHMucmFkaXVzLHMucmFkaWFsU2VnbWVudHMscy5jbG9zZWQpO2JyZWFrO2Nhc2VcIkxhdGhlR2VvbWV0cnlcIjpjYXNlXCJMYXRoZUJ1ZmZlckdlb21ldHJ5XCI6YT1uZXcgdXVbcy50eXBlXShzLnBvaW50cyxzLnNlZ21lbnRzLHMucGhpU3RhcnQscy5waGlMZW5ndGgpO2JyZWFrO2Nhc2VcIlBvbHloZWRyb25HZW9tZXRyeVwiOmNhc2VcIlBvbHloZWRyb25CdWZmZXJHZW9tZXRyeVwiOmE9bmV3IHV1W3MudHlwZV0ocy52ZXJ0aWNlcyxzLmluZGljZXMscy5yYWRpdXMscy5kZXRhaWxzKTticmVhaztjYXNlXCJTaGFwZUdlb21ldHJ5XCI6Y2FzZVwiU2hhcGVCdWZmZXJHZW9tZXRyeVwiOnI9W107Zm9yKGxldCB0PTAsbj1zLnNoYXBlcy5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW3Muc2hhcGVzW3RdXTtyLnB1c2gobil9YT1uZXcgdXVbcy50eXBlXShyLHMuY3VydmVTZWdtZW50cyk7YnJlYWs7Y2FzZVwiRXh0cnVkZUdlb21ldHJ5XCI6Y2FzZVwiRXh0cnVkZUJ1ZmZlckdlb21ldHJ5XCI6cj1bXTtmb3IobGV0IHQ9MCxuPXMuc2hhcGVzLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWVbcy5zaGFwZXNbdF1dO3IucHVzaChuKX1jb25zdCB0PXMub3B0aW9ucy5leHRydWRlUGF0aDt2b2lkIDAhPT10JiYocy5vcHRpb25zLmV4dHJ1ZGVQYXRoPShuZXcgZmhbdC50eXBlXSkuZnJvbUpTT04odCkpLGE9bmV3IHV1W3MudHlwZV0ocixzLm9wdGlvbnMpO2JyZWFrO2Nhc2VcIkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnlcIjphPWkucGFyc2Uocyk7YnJlYWs7Y2FzZVwiR2VvbWV0cnlcIjpjb25zb2xlLmVycm9yKCdUSFJFRS5PYmplY3RMb2FkZXI6IExvYWRpbmcgXCJHZW9tZXRyeVwiIGlzIG5vdCBzdXBwb3J0ZWQgYW55bW9yZS4nKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlIFwiJytzLnR5cGUrJ1wiJyk7Y29udGludWV9YS51dWlkPXMudXVpZCx2b2lkIDAhPT1zLm5hbWUmJihhLm5hbWU9cy5uYW1lKSwhMD09PWEuaXNCdWZmZXJHZW9tZXRyeSYmdm9pZCAwIT09cy51c2VyRGF0YSYmKGEudXNlckRhdGE9cy51c2VyRGF0YSksbltzLnV1aWRdPWF9fXJldHVybiBufXBhcnNlTWF0ZXJpYWxzKHQsZSl7Y29uc3Qgbj17fSxyPXt9O2lmKHZvaWQgMCE9PXQpe2NvbnN0IGk9bmV3IEloO2kuc2V0VGV4dHVyZXMoZSk7Zm9yKGxldCBlPTAsbz10Lmxlbmd0aDtlPG87ZSsrKXtjb25zdCBvPXRbZV07aWYoXCJNdWx0aU1hdGVyaWFsXCI9PT1vLnR5cGUpe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxvLm1hdGVyaWFscy5sZW5ndGg7ZSsrKXtjb25zdCByPW8ubWF0ZXJpYWxzW2VdO3ZvaWQgMD09PW5bci51dWlkXSYmKG5bci51dWlkXT1pLnBhcnNlKHIpKSx0LnB1c2gobltyLnV1aWRdKX1yW28udXVpZF09dH1lbHNlIHZvaWQgMD09PW5bby51dWlkXSYmKG5bby51dWlkXT1pLnBhcnNlKG8pKSxyW28udXVpZF09bltvLnV1aWRdfX1yZXR1cm4gcn1wYXJzZUFuaW1hdGlvbnModCl7Y29uc3QgZT17fTtpZih2b2lkIDAhPT10KWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPXRbbl0saT1EdS5wYXJzZShyKTtlW2kudXVpZF09aX1yZXR1cm4gZX1wYXJzZUltYWdlcyh0LGUpe2NvbnN0IG49dGhpcyxyPXt9O2xldCBpO2Z1bmN0aW9uIG8odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IGU9dDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4ubWFuYWdlci5pdGVtU3RhcnQodCksaS5sb2FkKHQsKGZ1bmN0aW9uKCl7bi5tYW5hZ2VyLml0ZW1FbmQodCl9KSx2b2lkIDAsKGZ1bmN0aW9uKCl7bi5tYW5hZ2VyLml0ZW1FcnJvcih0KSxuLm1hbmFnZXIuaXRlbUVuZCh0KX0pKX0oL14oXFwvXFwvKXwoW2Etel0rOihcXC9cXC8pPykvaS50ZXN0KGUpP2U6bi5yZXNvdXJjZVBhdGgrZSl9cmV0dXJuIHQuZGF0YT97ZGF0YTp6aSh0LnR5cGUsdC5kYXRhKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH06bnVsbH1pZih2b2lkIDAhPT10JiZ0Lmxlbmd0aD4wKXtjb25zdCBuPW5ldyBVdShlKTtpPW5ldyBXdShuKSxpLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2ZvcihsZXQgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10W2VdLGk9bi51cmw7aWYoQXJyYXkuaXNBcnJheShpKSl7cltuLnV1aWRdPVtdO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1vKGlbdF0pO251bGwhPT1lJiYoZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/cltuLnV1aWRdLnB1c2goZSk6cltuLnV1aWRdLnB1c2gobmV3IFRvKGUuZGF0YSxlLndpZHRoLGUuaGVpZ2h0KSkpfX1lbHNle2NvbnN0IHQ9byhuLnVybCk7bnVsbCE9PXQmJihyW24udXVpZF09dCl9fX1yZXR1cm4gcn1wYXJzZVRleHR1cmVzKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6KGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdExvYWRlci5wYXJzZVRleHR1cmU6IENvbnN0YW50IHNob3VsZCBiZSBpbiBudW1lcmljIGZvcm0uXCIsdCksZVt0XSl9Y29uc3Qgcj17fTtpZih2b2lkIDAhPT10KWZvcihsZXQgaT0wLG89dC5sZW5ndGg7aTxvO2krKyl7Y29uc3Qgbz10W2ldO2xldCBhO3ZvaWQgMD09PW8uaW1hZ2UmJmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBObyBcImltYWdlXCIgc3BlY2lmaWVkIGZvcicsby51dWlkKSx2b2lkIDA9PT1lW28uaW1hZ2VdJiZjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBpbWFnZVwiLG8uaW1hZ2UpO2NvbnN0IHM9ZVtvLmltYWdlXTtBcnJheS5pc0FycmF5KHMpPyhhPW5ldyBNbyhzKSw2PT09cy5sZW5ndGgmJihhLm5lZWRzVXBkYXRlPSEwKSk6KGE9cyYmcy5kYXRhP25ldyBUbyhzLmRhdGEscy53aWR0aCxzLmhlaWdodCk6bmV3IFduKHMpLHMmJihhLm5lZWRzVXBkYXRlPSEwKSksYS51dWlkPW8udXVpZCx2b2lkIDAhPT1vLm5hbWUmJihhLm5hbWU9by5uYW1lKSx2b2lkIDAhPT1vLm1hcHBpbmcmJihhLm1hcHBpbmc9bihvLm1hcHBpbmcsVWgpKSx2b2lkIDAhPT1vLm9mZnNldCYmYS5vZmZzZXQuZnJvbUFycmF5KG8ub2Zmc2V0KSx2b2lkIDAhPT1vLnJlcGVhdCYmYS5yZXBlYXQuZnJvbUFycmF5KG8ucmVwZWF0KSx2b2lkIDAhPT1vLmNlbnRlciYmYS5jZW50ZXIuZnJvbUFycmF5KG8uY2VudGVyKSx2b2lkIDAhPT1vLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1vLnJvdGF0aW9uKSx2b2lkIDAhPT1vLndyYXAmJihhLndyYXBTPW4oby53cmFwWzBdLHpoKSxhLndyYXBUPW4oby53cmFwWzFdLHpoKSksdm9pZCAwIT09by5mb3JtYXQmJihhLmZvcm1hdD1vLmZvcm1hdCksdm9pZCAwIT09by50eXBlJiYoYS50eXBlPW8udHlwZSksdm9pZCAwIT09by5lbmNvZGluZyYmKGEuZW5jb2Rpbmc9by5lbmNvZGluZyksdm9pZCAwIT09by5taW5GaWx0ZXImJihhLm1pbkZpbHRlcj1uKG8ubWluRmlsdGVyLEdoKSksdm9pZCAwIT09by5tYWdGaWx0ZXImJihhLm1hZ0ZpbHRlcj1uKG8ubWFnRmlsdGVyLEdoKSksdm9pZCAwIT09by5hbmlzb3Ryb3B5JiYoYS5hbmlzb3Ryb3B5PW8uYW5pc290cm9weSksdm9pZCAwIT09by5mbGlwWSYmKGEuZmxpcFk9by5mbGlwWSksdm9pZCAwIT09by5wcmVtdWx0aXBseUFscGhhJiYoYS5wcmVtdWx0aXBseUFscGhhPW8ucHJlbXVsdGlwbHlBbHBoYSksdm9pZCAwIT09by51bnBhY2tBbGlnbm1lbnQmJihhLnVucGFja0FsaWdubWVudD1vLnVucGFja0FsaWdubWVudCkscltvLnV1aWRdPWF9cmV0dXJuIHJ9cGFyc2VPYmplY3QodCxlLG4scil7bGV0IGksbyxhO2Z1bmN0aW9uIHModCl7cmV0dXJuIHZvaWQgMD09PWVbdF0mJmNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIGdlb21ldHJ5XCIsdCksZVt0XX1mdW5jdGlvbiBjKHQpe2lmKHZvaWQgMCE9PXQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IGU9W107Zm9yKGxldCByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXtjb25zdCBpPXRbcl07dm9pZCAwPT09bltpXSYmY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgbWF0ZXJpYWxcIixpKSxlLnB1c2gobltpXSl9cmV0dXJuIGV9cmV0dXJuIHZvaWQgMD09PW5bdF0mJmNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIG1hdGVyaWFsXCIsdCksblt0XX19c3dpdGNoKHQudHlwZSl7Y2FzZVwiU2NlbmVcIjppPW5ldyB6cyx2b2lkIDAhPT10LmJhY2tncm91bmQmJk51bWJlci5pc0ludGVnZXIodC5iYWNrZ3JvdW5kKSYmKGkuYmFja2dyb3VuZD1uZXcgeWkodC5iYWNrZ3JvdW5kKSksdm9pZCAwIT09dC5mb2cmJihcIkZvZ1wiPT09dC5mb2cudHlwZT9pLmZvZz1uZXcgVXModC5mb2cuY29sb3IsdC5mb2cubmVhcix0LmZvZy5mYXIpOlwiRm9nRXhwMlwiPT09dC5mb2cudHlwZSYmKGkuZm9nPW5ldyBGcyh0LmZvZy5jb2xvcix0LmZvZy5kZW5zaXR5KSkpO2JyZWFrO2Nhc2VcIlBlcnNwZWN0aXZlQ2FtZXJhXCI6aT1uZXcgd28odC5mb3YsdC5hc3BlY3QsdC5uZWFyLHQuZmFyKSx2b2lkIDAhPT10LmZvY3VzJiYoaS5mb2N1cz10LmZvY3VzKSx2b2lkIDAhPT10Lnpvb20mJihpLnpvb209dC56b29tKSx2b2lkIDAhPT10LmZpbG1HYXVnZSYmKGkuZmlsbUdhdWdlPXQuZmlsbUdhdWdlKSx2b2lkIDAhPT10LmZpbG1PZmZzZXQmJihpLmZpbG1PZmZzZXQ9dC5maWxtT2Zmc2V0KSx2b2lkIDAhPT10LnZpZXcmJihpLnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0LnZpZXcpKTticmVhaztjYXNlXCJPcnRob2dyYXBoaWNDYW1lcmFcIjppPW5ldyBUaCh0LmxlZnQsdC5yaWdodCx0LnRvcCx0LmJvdHRvbSx0Lm5lYXIsdC5mYXIpLHZvaWQgMCE9PXQuem9vbSYmKGkuem9vbT10Lnpvb20pLHZvaWQgMCE9PXQudmlldyYmKGkudmlldz1PYmplY3QuYXNzaWduKHt9LHQudmlldykpO2JyZWFrO2Nhc2VcIkFtYmllbnRMaWdodFwiOmk9bmV3IExoKHQuY29sb3IsdC5pbnRlbnNpdHkpO2JyZWFrO2Nhc2VcIkRpcmVjdGlvbmFsTGlnaHRcIjppPW5ldyBBaCh0LmNvbG9yLHQuaW50ZW5zaXR5KTticmVhaztjYXNlXCJQb2ludExpZ2h0XCI6aT1uZXcgU2godC5jb2xvcix0LmludGVuc2l0eSx0LmRpc3RhbmNlLHQuZGVjYXkpO2JyZWFrO2Nhc2VcIlJlY3RBcmVhTGlnaHRcIjppPW5ldyBSaCh0LmNvbG9yLHQuaW50ZW5zaXR5LHQud2lkdGgsdC5oZWlnaHQpO2JyZWFrO2Nhc2VcIlNwb3RMaWdodFwiOmk9bmV3IF9oKHQuY29sb3IsdC5pbnRlbnNpdHksdC5kaXN0YW5jZSx0LmFuZ2xlLHQucGVudW1icmEsdC5kZWNheSk7YnJlYWs7Y2FzZVwiSGVtaXNwaGVyZUxpZ2h0XCI6aT1uZXcgeGgodC5jb2xvcix0Lmdyb3VuZENvbG9yLHQuaW50ZW5zaXR5KTticmVhaztjYXNlXCJMaWdodFByb2JlXCI6aT0obmV3IENoKS5mcm9tSlNPTih0KTticmVhaztjYXNlXCJTa2lubmVkTWVzaFwiOm89cyh0Lmdlb21ldHJ5KSxhPWModC5tYXRlcmlhbCksaT1uZXcgY2MobyxhKSx2b2lkIDAhPT10LmJpbmRNb2RlJiYoaS5iaW5kTW9kZT10LmJpbmRNb2RlKSx2b2lkIDAhPT10LmJpbmRNYXRyaXgmJmkuYmluZE1hdHJpeC5mcm9tQXJyYXkodC5iaW5kTWF0cml4KSx2b2lkIDAhPT10LnNrZWxldG9uJiYoaS5za2VsZXRvbj10LnNrZWxldG9uKTticmVhaztjYXNlXCJNZXNoXCI6bz1zKHQuZ2VvbWV0cnkpLGE9Yyh0Lm1hdGVyaWFsKSxpPW5ldyBobyhvLGEpO2JyZWFrO2Nhc2VcIkluc3RhbmNlZE1lc2hcIjpvPXModC5nZW9tZXRyeSksYT1jKHQubWF0ZXJpYWwpO2NvbnN0IGU9dC5jb3VudCxuPXQuaW5zdGFuY2VNYXRyaXg7aT1uZXcgdmMobyxhLGUpLGkuaW5zdGFuY2VNYXRyaXg9bmV3IFRpKG5ldyBGbG9hdDMyQXJyYXkobi5hcnJheSksMTYpO2JyZWFrO2Nhc2VcIkxPRFwiOmk9bmV3IHNjO2JyZWFrO2Nhc2VcIkxpbmVcIjppPW5ldyBTYyhzKHQuZ2VvbWV0cnkpLGModC5tYXRlcmlhbCksdC5tb2RlKTticmVhaztjYXNlXCJMaW5lTG9vcFwiOmk9bmV3IExjKHModC5nZW9tZXRyeSksYyh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZVwiTGluZVNlZ21lbnRzXCI6aT1uZXcgQWMocyh0Lmdlb21ldHJ5KSxjKHQubWF0ZXJpYWwpKTticmVhaztjYXNlXCJQb2ludENsb3VkXCI6Y2FzZVwiUG9pbnRzXCI6aT1uZXcgTmMocyh0Lmdlb21ldHJ5KSxjKHQubWF0ZXJpYWwpKTticmVhaztjYXNlXCJTcHJpdGVcIjppPW5ldyByYyhjKHQubWF0ZXJpYWwpKTticmVhaztjYXNlXCJHcm91cFwiOmk9bmV3IENzO2JyZWFrO2Nhc2VcIkJvbmVcIjppPW5ldyBsYzticmVhaztkZWZhdWx0Omk9bmV3IEpyfWlmKGkudXVpZD10LnV1aWQsdm9pZCAwIT09dC5uYW1lJiYoaS5uYW1lPXQubmFtZSksdm9pZCAwIT09dC5tYXRyaXg/KGkubWF0cml4LmZyb21BcnJheSh0Lm1hdHJpeCksdm9pZCAwIT09dC5tYXRyaXhBdXRvVXBkYXRlJiYoaS5tYXRyaXhBdXRvVXBkYXRlPXQubWF0cml4QXV0b1VwZGF0ZSksaS5tYXRyaXhBdXRvVXBkYXRlJiZpLm1hdHJpeC5kZWNvbXBvc2UoaS5wb3NpdGlvbixpLnF1YXRlcm5pb24saS5zY2FsZSkpOih2b2lkIDAhPT10LnBvc2l0aW9uJiZpLnBvc2l0aW9uLmZyb21BcnJheSh0LnBvc2l0aW9uKSx2b2lkIDAhPT10LnJvdGF0aW9uJiZpLnJvdGF0aW9uLmZyb21BcnJheSh0LnJvdGF0aW9uKSx2b2lkIDAhPT10LnF1YXRlcm5pb24mJmkucXVhdGVybmlvbi5mcm9tQXJyYXkodC5xdWF0ZXJuaW9uKSx2b2lkIDAhPT10LnNjYWxlJiZpLnNjYWxlLmZyb21BcnJheSh0LnNjYWxlKSksdm9pZCAwIT09dC5jYXN0U2hhZG93JiYoaS5jYXN0U2hhZG93PXQuY2FzdFNoYWRvdyksdm9pZCAwIT09dC5yZWNlaXZlU2hhZG93JiYoaS5yZWNlaXZlU2hhZG93PXQucmVjZWl2ZVNoYWRvdyksdC5zaGFkb3cmJih2b2lkIDAhPT10LnNoYWRvdy5iaWFzJiYoaS5zaGFkb3cuYmlhcz10LnNoYWRvdy5iaWFzKSx2b2lkIDAhPT10LnNoYWRvdy5ub3JtYWxCaWFzJiYoaS5zaGFkb3cubm9ybWFsQmlhcz10LnNoYWRvdy5ub3JtYWxCaWFzKSx2b2lkIDAhPT10LnNoYWRvdy5yYWRpdXMmJihpLnNoYWRvdy5yYWRpdXM9dC5zaGFkb3cucmFkaXVzKSx2b2lkIDAhPT10LnNoYWRvdy5tYXBTaXplJiZpLnNoYWRvdy5tYXBTaXplLmZyb21BcnJheSh0LnNoYWRvdy5tYXBTaXplKSx2b2lkIDAhPT10LnNoYWRvdy5jYW1lcmEmJihpLnNoYWRvdy5jYW1lcmE9dGhpcy5wYXJzZU9iamVjdCh0LnNoYWRvdy5jYW1lcmEpKSksdm9pZCAwIT09dC52aXNpYmxlJiYoaS52aXNpYmxlPXQudmlzaWJsZSksdm9pZCAwIT09dC5mcnVzdHVtQ3VsbGVkJiYoaS5mcnVzdHVtQ3VsbGVkPXQuZnJ1c3R1bUN1bGxlZCksdm9pZCAwIT09dC5yZW5kZXJPcmRlciYmKGkucmVuZGVyT3JkZXI9dC5yZW5kZXJPcmRlciksdm9pZCAwIT09dC51c2VyRGF0YSYmKGkudXNlckRhdGE9dC51c2VyRGF0YSksdm9pZCAwIT09dC5sYXllcnMmJihpLmxheWVycy5tYXNrPXQubGF5ZXJzKSx2b2lkIDAhPT10LmNoaWxkcmVuKXtjb25zdCBvPXQuY2hpbGRyZW47Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0KyspaS5hZGQodGhpcy5wYXJzZU9iamVjdChvW3RdLGUsbixyKSl9aWYodm9pZCAwIT09dC5hbmltYXRpb25zKXtjb25zdCBlPXQuYW5pbWF0aW9ucztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO2kuYW5pbWF0aW9ucy5wdXNoKHJbbl0pfX1pZihcIkxPRFwiPT09dC50eXBlKXt2b2lkIDAhPT10LmF1dG9VcGRhdGUmJihpLmF1dG9VcGRhdGU9dC5hdXRvVXBkYXRlKTtjb25zdCBlPXQubGV2ZWxzO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0scj1pLmdldE9iamVjdEJ5UHJvcGVydHkoXCJ1dWlkXCIsbi5vYmplY3QpO3ZvaWQgMCE9PXImJmkuYWRkTGV2ZWwocixuLmRpc3RhbmNlKX19cmV0dXJuIGl9YmluZFNrZWxldG9ucyh0LGUpezAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnQudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKCEwPT09dC5pc1NraW5uZWRNZXNoJiZ2b2lkIDAhPT10LnNrZWxldG9uKXtjb25zdCBuPWVbdC5za2VsZXRvbl07dm9pZCAwPT09bj9jb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IE5vIHNrZWxldG9uIGZvdW5kIHdpdGggVVVJRDpcIix0LnNrZWxldG9uKTp0LmJpbmQobix0LmJpbmRNYXRyaXgpfX0pKX1zZXRUZXh0dXJlUGF0aCh0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0TG9hZGVyOiAuc2V0VGV4dHVyZVBhdGgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRSZXNvdXJjZVBhdGgoKS5cIiksdGhpcy5zZXRSZXNvdXJjZVBhdGgodCl9fWNvbnN0IFVoPXtVVk1hcHBpbmc6aXQsQ3ViZVJlZmxlY3Rpb25NYXBwaW5nOm90LEN1YmVSZWZyYWN0aW9uTWFwcGluZzphdCxFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZzpzdCxFcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZzpjdCxDdWJlVVZSZWZsZWN0aW9uTWFwcGluZzpsdCxDdWJlVVZSZWZyYWN0aW9uTWFwcGluZzp1dH0semg9e1JlcGVhdFdyYXBwaW5nOmh0LENsYW1wVG9FZGdlV3JhcHBpbmc6ZHQsTWlycm9yZWRSZXBlYXRXcmFwcGluZzpwdH0sR2g9e05lYXJlc3RGaWx0ZXI6ZnQsTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXI6bXQsTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcjp2dCxMaW5lYXJGaWx0ZXI6eHQsTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcjpidCxMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI6X3R9O2Z1bmN0aW9uIEhoKHQpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcCYmY29uc29sZS53YXJuKFwiVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXI6IGNyZWF0ZUltYWdlQml0bWFwKCkgbm90IHN1cHBvcnRlZC5cIiksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZldGNoJiZjb25zb2xlLndhcm4oXCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogZmV0Y2goKSBub3Qgc3VwcG9ydGVkLlwiKSxHdS5jYWxsKHRoaXMsdCksdGhpcy5vcHRpb25zPXtwcmVtdWx0aXBseUFscGhhOlwibm9uZVwifX1mdW5jdGlvbiBraCgpe3RoaXMudHlwZT1cIlNoYXBlUGF0aFwiLHRoaXMuY29sb3I9bmV3IHlpLHRoaXMuc3ViUGF0aHM9W10sdGhpcy5jdXJyZW50UGF0aD1udWxsfWZ1bmN0aW9uIFZoKHQpe3RoaXMudHlwZT1cIkZvbnRcIix0aGlzLmRhdGE9dH1mdW5jdGlvbiBqaCh0LGUsbixyLGkpe2NvbnN0IG89aS5nbHlwaHNbdF18fGkuZ2x5cGhzW1wiP1wiXTtpZighbylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCdUSFJFRS5Gb250OiBjaGFyYWN0ZXIgXCInK3QrJ1wiIGRvZXMgbm90IGV4aXN0cyBpbiBmb250IGZhbWlseSAnK2kuZmFtaWx5TmFtZStcIi5cIik7Y29uc3QgYT1uZXcga2g7bGV0IHMsYyxsLHUsaCxkLHAsZjtpZihvLm8pe2NvbnN0IHQ9by5fY2FjaGVkT3V0bGluZXx8KG8uX2NhY2hlZE91dGxpbmU9by5vLnNwbGl0KFwiIFwiKSk7Zm9yKGxldCBpPTAsbz10Lmxlbmd0aDtpPG87KXtzd2l0Y2godFtpKytdKXtjYXNlXCJtXCI6cz10W2krK10qZStuLGM9dFtpKytdKmUrcixhLm1vdmVUbyhzLGMpO2JyZWFrO2Nhc2VcImxcIjpzPXRbaSsrXSplK24sYz10W2krK10qZStyLGEubGluZVRvKHMsYyk7YnJlYWs7Y2FzZVwicVwiOmw9dFtpKytdKmUrbix1PXRbaSsrXSplK3IsaD10W2krK10qZStuLGQ9dFtpKytdKmUrcixhLnF1YWRyYXRpY0N1cnZlVG8oaCxkLGwsdSk7YnJlYWs7Y2FzZVwiYlwiOmw9dFtpKytdKmUrbix1PXRbaSsrXSplK3IsaD10W2krK10qZStuLGQ9dFtpKytdKmUrcixwPXRbaSsrXSplK24sZj10W2krK10qZStyLGEuYmV6aWVyQ3VydmVUbyhoLGQscCxmLGwsdSl9fX1yZXR1cm57b2Zmc2V0WDpvLmhhKmUscGF0aDphfX1mdW5jdGlvbiBXaCh0KXtHdS5jYWxsKHRoaXMsdCl9bGV0IFhoO0hoLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3UucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SGgsaXNJbWFnZUJpdG1hcExvYWRlcjohMCxzZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnM9dCx0aGlzfSxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7Y29uc3QgaT10aGlzLG89RnUuZ2V0KHQpO2lmKHZvaWQgMCE9PW8pcmV0dXJuIGkubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKG8pLGkubWFuYWdlci5pdGVtRW5kKHQpfSksMCksbztjb25zdCBhPXt9O2EuY3JlZGVudGlhbHM9XCJhbm9ueW1vdXNcIj09PXRoaXMuY3Jvc3NPcmlnaW4/XCJzYW1lLW9yaWdpblwiOlwiaW5jbHVkZVwiLGZldGNoKHQsYSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmxvYigpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcCh0LGkub3B0aW9ucyl9KSkudGhlbigoZnVuY3Rpb24obil7RnUuYWRkKHQsbiksZSYmZShuKSxpLm1hbmFnZXIuaXRlbUVuZCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ciYmcihlKSxpLm1hbmFnZXIuaXRlbUVycm9yKHQpLGkubWFuYWdlci5pdGVtRW5kKHQpfSkpLGkubWFuYWdlci5pdGVtU3RhcnQodCl9fSksT2JqZWN0LmFzc2lnbihraC5wcm90b3R5cGUse21vdmVUbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoPW5ldyBnaCx0aGlzLnN1YlBhdGhzLnB1c2godGhpcy5jdXJyZW50UGF0aCksdGhpcy5jdXJyZW50UGF0aC5tb3ZlVG8odCxlKSx0aGlzfSxsaW5lVG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5saW5lVG8odCxlKSx0aGlzfSxxdWFkcmF0aWNDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLnF1YWRyYXRpY0N1cnZlVG8odCxlLG4sciksdGhpc30sYmV6aWVyQ3VydmVUbzpmdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGguYmV6aWVyQ3VydmVUbyh0LGUsbixyLGksbyksdGhpc30sc3BsaW5lVGhydTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5zcGxpbmVUaHJ1KHQpLHRoaXN9LHRvU2hhcGVzOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7Y29uc3Qgcj10W25dLGk9bmV3IHZoO2kuY3VydmVzPXIuY3VydmVzLGUucHVzaChpKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsZSl7Y29uc3Qgbj1lLmxlbmd0aDtsZXQgcj0hMTtmb3IobGV0IGk9bi0xLG89MDtvPG47aT1vKyspe2xldCBuPWVbaV0sYT1lW29dLHM9YS54LW4ueCxjPWEueS1uLnk7aWYoTWF0aC5hYnMoYyk+TnVtYmVyLkVQU0lMT04pe2lmKGM8MCYmKG49ZVtvXSxzPS1zLGE9ZVtpXSxjPS1jKSx0Lnk8bi55fHx0Lnk+YS55KWNvbnRpbnVlO2lmKHQueT09PW4ueSl7aWYodC54PT09bi54KXJldHVybiEwfWVsc2V7Y29uc3QgZT1jKih0Lngtbi54KS1zKih0Lnktbi55KTtpZigwPT09ZSlyZXR1cm4hMDtpZihlPDApY29udGludWU7cj0hcn19ZWxzZXtpZih0LnkhPT1uLnkpY29udGludWU7aWYoYS54PD10LngmJnQueDw9bi54fHxuLng8PXQueCYmdC54PD1hLngpcmV0dXJuITB9fXJldHVybiByfWNvbnN0IGk9Q2wuaXNDbG9ja1dpc2Usbz10aGlzLnN1YlBhdGhzO2lmKDA9PT1vLmxlbmd0aClyZXR1cm5bXTtpZighMD09PWUpcmV0dXJuIG4obyk7bGV0IGEscyxjO2NvbnN0IGw9W107aWYoMT09PW8ubGVuZ3RoKXJldHVybiBzPW9bMF0sYz1uZXcgdmgsYy5jdXJ2ZXM9cy5jdXJ2ZXMsbC5wdXNoKGMpLGw7bGV0IHU9IWkob1swXS5nZXRQb2ludHMoKSk7dT10PyF1OnU7Y29uc3QgaD1bXSxkPVtdO2xldCBwLGYsbT1bXSxnPTA7ZFtnXT12b2lkIDAsbVtnXT1bXTtmb3IobGV0IGU9MCxuPW8ubGVuZ3RoO2U8bjtlKyspcz1vW2VdLHA9cy5nZXRQb2ludHMoKSxhPWkocCksYT10PyFhOmEsYT8oIXUmJmRbZ10mJmcrKyxkW2ddPXtzOm5ldyB2aCxwOnB9LGRbZ10ucy5jdXJ2ZXM9cy5jdXJ2ZXMsdSYmZysrLG1bZ109W10pOm1bZ10ucHVzaCh7aDpzLHA6cFswXX0pO2lmKCFkWzBdKXJldHVybiBuKG8pO2lmKGQubGVuZ3RoPjEpe2xldCB0PSExO2NvbnN0IGU9W107Zm9yKGxldCB0PTAsZT1kLmxlbmd0aDt0PGU7dCsrKWhbdF09W107Zm9yKGxldCBuPTAsaT1kLmxlbmd0aDtuPGk7bisrKXtjb25zdCBpPW1bbl07Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspe2NvbnN0IGE9aVtvXTtsZXQgcz0hMDtmb3IobGV0IGk9MDtpPGQubGVuZ3RoO2krKylyKGEucCxkW2ldLnApJiYobiE9PWkmJmUucHVzaCh7ZnJvbXM6bix0b3M6aSxob2xlOm99KSxzPyhzPSExLGhbaV0ucHVzaChhKSk6dD0hMCk7cyYmaFtuXS5wdXNoKGEpfX1lLmxlbmd0aD4wJiYodHx8KG09aCkpfWZvcihsZXQgdD0wLGU9ZC5sZW5ndGg7dDxlO3QrKyl7Yz1kW3RdLnMsbC5wdXNoKGMpLGY9bVt0XTtmb3IobGV0IHQ9MCxlPWYubGVuZ3RoO3Q8ZTt0KyspYy5ob2xlcy5wdXNoKGZbdF0uaCl9cmV0dXJuIGx9fSksT2JqZWN0LmFzc2lnbihWaC5wcm90b3R5cGUse2lzRm9udDohMCxnZW5lcmF0ZVNoYXBlczpmdW5jdGlvbih0LGU9MTAwKXtjb25zdCBuPVtdLHI9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9QXJyYXkuZnJvbT9BcnJheS5mcm9tKHQpOlN0cmluZyh0KS5zcGxpdChcIlwiKSxpPWUvbi5yZXNvbHV0aW9uLG89KG4uYm91bmRpbmdCb3gueU1heC1uLmJvdW5kaW5nQm94LnlNaW4rbi51bmRlcmxpbmVUaGlja25lc3MpKmksYT1bXTtsZXQgcz0wLGM9MDtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3QgZT1yW3RdO2lmKFwiXFxuXCI9PT1lKXM9MCxjLT1vO2Vsc2V7Y29uc3QgdD1qaChlLGkscyxjLG4pO3MrPXQub2Zmc2V0WCxhLnB1c2godC5wYXRoKX19cmV0dXJuIGF9KHQsZSx0aGlzLmRhdGEpO2ZvcihsZXQgdD0wLGU9ci5sZW5ndGg7dDxlO3QrKylBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShuLHJbdF0udG9TaGFwZXMoKSk7cmV0dXJuIG59fSksV2gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHdS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpXaCxsb2FkOmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IGk9dGhpcyxvPW5ldyBrdSh0aGlzLm1hbmFnZXIpO28uc2V0UGF0aCh0aGlzLnBhdGgpLG8uc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLG8uc2V0V2l0aENyZWRlbnRpYWxzKGkud2l0aENyZWRlbnRpYWxzKSxvLmxvYWQodCwoZnVuY3Rpb24odCl7bGV0IG47dHJ5e249SlNPTi5wYXJzZSh0KX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5Gb250TG9hZGVyOiB0eXBlZmFjZS5qcyBzdXBwb3J0IGlzIGJlaW5nIGRlcHJlY2F0ZWQuIFVzZSB0eXBlZmFjZS5qc29uIGluc3RlYWQuXCIpLG49SlNPTi5wYXJzZSh0LnN1YnN0cmluZyg2NSx0Lmxlbmd0aC0yKSl9Y29uc3Qgcj1pLnBhcnNlKG4pO2UmJmUocil9KSxuLHIpfSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFZoKHQpfX0pO2NvbnN0IHFoPXtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PVhoJiYoWGg9bmV3KHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKSxYaH0sc2V0Q29udGV4dDpmdW5jdGlvbih0KXtYaD10fX07ZnVuY3Rpb24gWWgodCl7R3UuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFpoKHQsZSxuKXtDaC5jYWxsKHRoaXMsdm9pZCAwLG4pO2NvbnN0IHI9KG5ldyB5aSkuc2V0KHQpLGk9KG5ldyB5aSkuc2V0KGUpLG89bmV3IEtuKHIucixyLmcsci5iKSxhPW5ldyBLbihpLnIsaS5nLGkuYikscz1NYXRoLnNxcnQoTWF0aC5QSSksYz1zKk1hdGguc3FydCguNzUpO3RoaXMuc2guY29lZmZpY2llbnRzWzBdLmNvcHkobykuYWRkKGEpLm11bHRpcGx5U2NhbGFyKHMpLHRoaXMuc2guY29lZmZpY2llbnRzWzFdLmNvcHkobykuc3ViKGEpLm11bHRpcGx5U2NhbGFyKGMpfWZ1bmN0aW9uIEpoKHQsZSl7Q2guY2FsbCh0aGlzLHZvaWQgMCxlKTtjb25zdCBuPShuZXcgeWkpLnNldCh0KTt0aGlzLnNoLmNvZWZmaWNpZW50c1swXS5zZXQobi5yLG4uZyxuLmIpLm11bHRpcGx5U2NhbGFyKDIqTWF0aC5zcXJ0KE1hdGguUEkpKX1ZaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEd1LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlloLGxvYWQ6ZnVuY3Rpb24odCxlLG4scil7Y29uc3QgaT10aGlzLG89bmV3IGt1KGkubWFuYWdlcik7by5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxvLnNldFBhdGgoaS5wYXRoKSxvLnNldFJlcXVlc3RIZWFkZXIoaS5yZXF1ZXN0SGVhZGVyKSxvLnNldFdpdGhDcmVkZW50aWFscyhpLndpdGhDcmVkZW50aWFscyksby5sb2FkKHQsKGZ1bmN0aW9uKG4pe3RyeXtjb25zdCB0PW4uc2xpY2UoMCk7cWguZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YSh0LChmdW5jdGlvbih0KXtlKHQpfSkpfWNhdGNoKGUpe3I/cihlKTpjb25zb2xlLmVycm9yKGUpLGkubWFuYWdlci5pdGVtRXJyb3IodCl9fSksbixyKX19KSxaaC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKENoLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlpoLGlzSGVtaXNwaGVyZUxpZ2h0UHJvYmU6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gQ2gucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXN9LHRvSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gQ2gucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCl9fSksSmgucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShDaC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpKaCxpc0FtYmllbnRMaWdodFByb2JlOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIENoLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzfSx0b0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIENoLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLHQpfX0pO2NvbnN0IEtoPW5ldyBUcixRaD1uZXcgVHI7ZnVuY3Rpb24gJGgoKXt0aGlzLnR5cGU9XCJTdGVyZW9DYW1lcmFcIix0aGlzLmFzcGVjdD0xLHRoaXMuZXllU2VwPS4wNjQsdGhpcy5jYW1lcmFMPW5ldyB3byx0aGlzLmNhbWVyYUwubGF5ZXJzLmVuYWJsZSgxKSx0aGlzLmNhbWVyYUwubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmNhbWVyYVI9bmV3IHdvLHRoaXMuY2FtZXJhUi5sYXllcnMuZW5hYmxlKDIpLHRoaXMuY2FtZXJhUi5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2NhY2hlPXtmb2N1czpudWxsLGZvdjpudWxsLGFzcGVjdDpudWxsLG5lYXI6bnVsbCxmYXI6bnVsbCx6b29tOm51bGwsZXllU2VwOm51bGx9fU9iamVjdC5hc3NpZ24oJGgucHJvdG90eXBlLHt1cGRhdGU6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLl9jYWNoZTtpZihlLmZvY3VzIT09dC5mb2N1c3x8ZS5mb3YhPT10LmZvdnx8ZS5hc3BlY3QhPT10LmFzcGVjdCp0aGlzLmFzcGVjdHx8ZS5uZWFyIT09dC5uZWFyfHxlLmZhciE9PXQuZmFyfHxlLnpvb20hPT10Lnpvb218fGUuZXllU2VwIT09dGhpcy5leWVTZXApe2UuZm9jdXM9dC5mb2N1cyxlLmZvdj10LmZvdixlLmFzcGVjdD10LmFzcGVjdCp0aGlzLmFzcGVjdCxlLm5lYXI9dC5uZWFyLGUuZmFyPXQuZmFyLGUuem9vbT10Lnpvb20sZS5leWVTZXA9dGhpcy5leWVTZXA7Y29uc3Qgbj10LnByb2plY3Rpb25NYXRyaXguY2xvbmUoKSxyPWUuZXllU2VwLzIsaT1yKmUubmVhci9lLmZvY3VzLG89ZS5uZWFyKk1hdGgudGFuKHpuLkRFRzJSQUQqZS5mb3YqLjUpL2Uuem9vbTtsZXQgYSxzO1FoLmVsZW1lbnRzWzEyXT0tcixLaC5lbGVtZW50c1sxMl09cixhPS1vKmUuYXNwZWN0K2kscz1vKmUuYXNwZWN0K2ksbi5lbGVtZW50c1swXT0yKmUubmVhci8ocy1hKSxuLmVsZW1lbnRzWzhdPShzK2EpLyhzLWEpLHRoaXMuY2FtZXJhTC5wcm9qZWN0aW9uTWF0cml4LmNvcHkobiksYT0tbyplLmFzcGVjdC1pLHM9byplLmFzcGVjdC1pLG4uZWxlbWVudHNbMF09MiplLm5lYXIvKHMtYSksbi5lbGVtZW50c1s4XT0ocythKS8ocy1hKSx0aGlzLmNhbWVyYVIucHJvamVjdGlvbk1hdHJpeC5jb3B5KG4pfXRoaXMuY2FtZXJhTC5tYXRyaXhXb3JsZC5jb3B5KHQubWF0cml4V29ybGQpLm11bHRpcGx5KFFoKSx0aGlzLmNhbWVyYVIubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKS5tdWx0aXBseShLaCl9fSk7Y2xhc3MgdGR7Y29uc3RydWN0b3IodCl7dGhpcy5hdXRvU3RhcnQ9dm9pZCAwPT09dHx8dCx0aGlzLnN0YXJ0VGltZT0wLHRoaXMub2xkVGltZT0wLHRoaXMuZWxhcHNlZFRpbWU9MCx0aGlzLnJ1bm5pbmc9ITF9c3RhcnQoKXt0aGlzLnN0YXJ0VGltZT1lZCgpLHRoaXMub2xkVGltZT10aGlzLnN0YXJ0VGltZSx0aGlzLmVsYXBzZWRUaW1lPTAsdGhpcy5ydW5uaW5nPSEwfXN0b3AoKXt0aGlzLmdldEVsYXBzZWRUaW1lKCksdGhpcy5ydW5uaW5nPSExLHRoaXMuYXV0b1N0YXJ0PSExfWdldEVsYXBzZWRUaW1lKCl7cmV0dXJuIHRoaXMuZ2V0RGVsdGEoKSx0aGlzLmVsYXBzZWRUaW1lfWdldERlbHRhKCl7bGV0IHQ9MDtpZih0aGlzLmF1dG9TdGFydCYmIXRoaXMucnVubmluZylyZXR1cm4gdGhpcy5zdGFydCgpLDA7aWYodGhpcy5ydW5uaW5nKXtjb25zdCBlPWVkKCk7dD0oZS10aGlzLm9sZFRpbWUpLzFlMyx0aGlzLm9sZFRpbWU9ZSx0aGlzLmVsYXBzZWRUaW1lKz10fXJldHVybiB0fX1mdW5jdGlvbiBlZCgpe3JldHVybihcInVuZGVmaW5lZFwiPT10eXBlb2YgcGVyZm9ybWFuY2U/RGF0ZTpwZXJmb3JtYW5jZSkubm93KCl9Y29uc3QgbmQ9bmV3IEtuLHJkPW5ldyBKbixpZD1uZXcgS24sb2Q9bmV3IEtuO2NsYXNzIGFkIGV4dGVuZHMgSnJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMudHlwZT1cIkF1ZGlvTGlzdGVuZXJcIix0aGlzLmNvbnRleHQ9cWguZ2V0Q29udGV4dCgpLHRoaXMuZ2Fpbj10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5maWx0ZXI9bnVsbCx0aGlzLnRpbWVEZWx0YT0wLHRoaXMuX2Nsb2NrPW5ldyB0ZH1nZXRJbnB1dCgpe3JldHVybiB0aGlzLmdhaW59cmVtb3ZlRmlsdGVyKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpbHRlciYmKHRoaXMuZ2Fpbi5kaXNjb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5kaXNjb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5nYWluLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmZpbHRlcj1udWxsKSx0aGlzfWdldEZpbHRlcigpe3JldHVybiB0aGlzLmZpbHRlcn1zZXRGaWx0ZXIodCl7cmV0dXJuIG51bGwhPT10aGlzLmZpbHRlcj8odGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpLHRoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSk6dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmZpbHRlcj10LHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpc31nZXRNYXN0ZXJWb2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWV9c2V0TWFzdGVyVm9sdW1lKHQpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfXVwZGF0ZU1hdHJpeFdvcmxkKHQpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKHQpO2NvbnN0IGU9dGhpcy5jb250ZXh0Lmxpc3RlbmVyLG49dGhpcy51cDtpZih0aGlzLnRpbWVEZWx0YT10aGlzLl9jbG9jay5nZXREZWx0YSgpLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKG5kLHJkLGlkKSxvZC5zZXQoMCwwLC0xKS5hcHBseVF1YXRlcm5pb24ocmQpLGUucG9zaXRpb25YKXtjb25zdCB0PXRoaXMuY29udGV4dC5jdXJyZW50VGltZSt0aGlzLnRpbWVEZWx0YTtlLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShuZC54LHQpLGUucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG5kLnksdCksZS5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUobmQueix0KSxlLmZvcndhcmRYLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG9kLngsdCksZS5mb3J3YXJkWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShvZC55LHQpLGUuZm9yd2FyZFoubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUob2Queix0KSxlLnVwWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShuLngsdCksZS51cFkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUobi55LHQpLGUudXBaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG4ueix0KX1lbHNlIGUuc2V0UG9zaXRpb24obmQueCxuZC55LG5kLnopLGUuc2V0T3JpZW50YXRpb24ob2QueCxvZC55LG9kLnosbi54LG4ueSxuLnopfX1jbGFzcyBzZCBleHRlbmRzIEpye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPVwiQXVkaW9cIix0aGlzLmxpc3RlbmVyPXQsdGhpcy5jb250ZXh0PXQuY29udGV4dCx0aGlzLmdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW4uY29ubmVjdCh0LmdldElucHV0KCkpLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLmRldHVuZT0wLHRoaXMubG9vcD0hMSx0aGlzLmxvb3BTdGFydD0wLHRoaXMubG9vcEVuZD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5kdXJhdGlvbj12b2lkIDAsdGhpcy5wbGF5YmFja1JhdGU9MSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMCx0aGlzLnNvdXJjZT1udWxsLHRoaXMuc291cmNlVHlwZT1cImVtcHR5XCIsdGhpcy5fc3RhcnRlZEF0PTAsdGhpcy5fcHJvZ3Jlc3M9MCx0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5maWx0ZXJzPVtdfWdldE91dHB1dCgpe3JldHVybiB0aGlzLmdhaW59c2V0Tm9kZVNvdXJjZSh0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPVwiYXVkaW9Ob2RlXCIsdGhpcy5zb3VyY2U9dCx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhRWxlbWVudFNvdXJjZSh0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPVwibWVkaWFOb2RlXCIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0KSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhU3RyZWFtU291cmNlKHQpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9XCJtZWRpYVN0cmVhbU5vZGVcIix0aGlzLnNvdXJjZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksdGhpcy5jb25uZWN0KCksdGhpc31zZXRCdWZmZXIodCl7cmV0dXJuIHRoaXMuYnVmZmVyPXQsdGhpcy5zb3VyY2VUeXBlPVwiYnVmZmVyXCIsdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCksdGhpc31wbGF5KHQ9MCl7aWYoITA9PT10aGlzLmlzUGxheWluZylyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogQXVkaW8gaXMgYWxyZWFkeSBwbGF5aW5nLlwiKTtpZighMT09PXRoaXMuaGFzUGxheWJhY2tDb250cm9sKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLlwiKTt0aGlzLl9zdGFydGVkQXQ9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lK3Q7Y29uc3QgZT10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIGUuYnVmZmVyPXRoaXMuYnVmZmVyLGUubG9vcD10aGlzLmxvb3AsZS5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQsZS5sb29wRW5kPXRoaXMubG9vcEVuZCxlLm9uZW5kZWQ9dGhpcy5vbkVuZGVkLmJpbmQodGhpcyksZS5zdGFydCh0aGlzLl9zdGFydGVkQXQsdGhpcy5fcHJvZ3Jlc3MrdGhpcy5vZmZzZXQsdGhpcy5kdXJhdGlvbiksdGhpcy5pc1BsYXlpbmc9ITAsdGhpcy5zb3VyY2U9ZSx0aGlzLnNldERldHVuZSh0aGlzLmRldHVuZSksdGhpcy5zZXRQbGF5YmFja1JhdGUodGhpcy5wbGF5YmFja1JhdGUpLHRoaXMuY29ubmVjdCgpfXBhdXNlKCl7aWYoITEhPT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4hMD09PXRoaXMuaXNQbGF5aW5nJiYodGhpcy5fcHJvZ3Jlc3MrPU1hdGgubWF4KHRoaXMuY29udGV4dC5jdXJyZW50VGltZS10aGlzLl9zdGFydGVkQXQsMCkqdGhpcy5wbGF5YmFja1JhdGUsITA9PT10aGlzLmxvb3AmJih0aGlzLl9wcm9ncmVzcz10aGlzLl9wcm9ncmVzcyUodGhpcy5kdXJhdGlvbnx8dGhpcy5idWZmZXIuZHVyYXRpb24pKSx0aGlzLnNvdXJjZS5zdG9wKCksdGhpcy5zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExKSx0aGlzO2NvbnNvbGUud2FybihcIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLlwiKX1zdG9wKCl7aWYoITEhPT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4gdGhpcy5fcHJvZ3Jlc3M9MCx0aGlzLnNvdXJjZS5zdG9wKCksdGhpcy5zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExLHRoaXM7Y29uc29sZS53YXJuKFwiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuXCIpfWNvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmNvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IHQ9MSxlPXRoaXMuZmlsdGVycy5sZW5ndGg7dDxlO3QrKyl0aGlzLmZpbHRlcnNbdC0xXS5jb25uZWN0KHRoaXMuZmlsdGVyc1t0XSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMCx0aGlzfWRpc2Nvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IHQ9MSxlPXRoaXMuZmlsdGVycy5sZW5ndGg7dDxlO3QrKyl0aGlzLmZpbHRlcnNbdC0xXS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1t0XSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzfWdldEZpbHRlcnMoKXtyZXR1cm4gdGhpcy5maWx0ZXJzfXNldEZpbHRlcnModCl7cmV0dXJuIHR8fCh0PVtdKSwhMD09PXRoaXMuX2Nvbm5lY3RlZD8odGhpcy5kaXNjb25uZWN0KCksdGhpcy5maWx0ZXJzPXQuc2xpY2UoKSx0aGlzLmNvbm5lY3QoKSk6dGhpcy5maWx0ZXJzPXQuc2xpY2UoKSx0aGlzfXNldERldHVuZSh0KXtpZih0aGlzLmRldHVuZT10LHZvaWQgMCE9PXRoaXMuc291cmNlLmRldHVuZSlyZXR1cm4hMD09PXRoaXMuaXNQbGF5aW5nJiZ0aGlzLnNvdXJjZS5kZXR1bmUuc2V0VGFyZ2V0QXRUaW1lKHRoaXMuZGV0dW5lLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwuMDEpLHRoaXN9Z2V0RGV0dW5lKCl7cmV0dXJuIHRoaXMuZGV0dW5lfWdldEZpbHRlcigpe3JldHVybiB0aGlzLmdldEZpbHRlcnMoKVswXX1zZXRGaWx0ZXIodCl7cmV0dXJuIHRoaXMuc2V0RmlsdGVycyh0P1t0XTpbXSl9c2V0UGxheWJhY2tSYXRlKHQpe2lmKCExIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wpcmV0dXJuIHRoaXMucGxheWJhY2tSYXRlPXQsITA9PT10aGlzLmlzUGxheWluZyYmdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlLnNldFRhcmdldEF0VGltZSh0aGlzLnBsYXliYWNrUmF0ZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzO2NvbnNvbGUud2FybihcIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLlwiKX1nZXRQbGF5YmFja1JhdGUoKXtyZXR1cm4gdGhpcy5wbGF5YmFja1JhdGV9b25FbmRlZCgpe3RoaXMuaXNQbGF5aW5nPSExfWdldExvb3AoKXtyZXR1cm4hMT09PXRoaXMuaGFzUGxheWJhY2tDb250cm9sPyhjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIiksITEpOnRoaXMubG9vcH1zZXRMb29wKHQpe2lmKCExIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wpcmV0dXJuIHRoaXMubG9vcD10LCEwPT09dGhpcy5pc1BsYXlpbmcmJih0aGlzLnNvdXJjZS5sb29wPXRoaXMubG9vcCksdGhpcztjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIil9c2V0TG9vcFN0YXJ0KHQpe3JldHVybiB0aGlzLmxvb3BTdGFydD10LHRoaXN9c2V0TG9vcEVuZCh0KXtyZXR1cm4gdGhpcy5sb29wRW5kPXQsdGhpc31nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWV9c2V0Vm9sdW1lKHQpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfX1jb25zdCBjZD1uZXcgS24sbGQ9bmV3IEpuLHVkPW5ldyBLbixoZD1uZXcgS247Y2xhc3MgZGQgZXh0ZW5kcyBzZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnBhbm5lcj10aGlzLmNvbnRleHQuY3JlYXRlUGFubmVyKCksdGhpcy5wYW5uZXIucGFubmluZ01vZGVsPVwiSFJURlwiLHRoaXMucGFubmVyLmNvbm5lY3QodGhpcy5nYWluKX1nZXRPdXRwdXQoKXtyZXR1cm4gdGhpcy5wYW5uZXJ9Z2V0UmVmRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5wYW5uZXIucmVmRGlzdGFuY2V9c2V0UmVmRGlzdGFuY2UodCl7cmV0dXJuIHRoaXMucGFubmVyLnJlZkRpc3RhbmNlPXQsdGhpc31nZXRSb2xsb2ZmRmFjdG9yKCl7cmV0dXJuIHRoaXMucGFubmVyLnJvbGxvZmZGYWN0b3J9c2V0Um9sbG9mZkZhY3Rvcih0KXtyZXR1cm4gdGhpcy5wYW5uZXIucm9sbG9mZkZhY3Rvcj10LHRoaXN9Z2V0RGlzdGFuY2VNb2RlbCgpe3JldHVybiB0aGlzLnBhbm5lci5kaXN0YW5jZU1vZGVsfXNldERpc3RhbmNlTW9kZWwodCl7cmV0dXJuIHRoaXMucGFubmVyLmRpc3RhbmNlTW9kZWw9dCx0aGlzfWdldE1heERpc3RhbmNlKCl7cmV0dXJuIHRoaXMucGFubmVyLm1heERpc3RhbmNlfXNldE1heERpc3RhbmNlKHQpe3JldHVybiB0aGlzLnBhbm5lci5tYXhEaXN0YW5jZT10LHRoaXN9c2V0RGlyZWN0aW9uYWxDb25lKHQsZSxuKXtyZXR1cm4gdGhpcy5wYW5uZXIuY29uZUlubmVyQW5nbGU9dCx0aGlzLnBhbm5lci5jb25lT3V0ZXJBbmdsZT1lLHRoaXMucGFubmVyLmNvbmVPdXRlckdhaW49bix0aGlzfXVwZGF0ZU1hdHJpeFdvcmxkKHQpe2lmKHN1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKHQpLCEwPT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wmJiExPT09dGhpcy5pc1BsYXlpbmcpcmV0dXJuO3RoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKGNkLGxkLHVkKSxoZC5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihsZCk7Y29uc3QgZT10aGlzLnBhbm5lcjtpZihlLnBvc2l0aW9uWCl7Y29uc3QgdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy5saXN0ZW5lci50aW1lRGVsdGE7ZS5wb3NpdGlvblgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoY2QueCx0KSxlLnBvc2l0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShjZC55LHQpLGUucG9zaXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGNkLnosdCksZS5vcmllbnRhdGlvblgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoaGQueCx0KSxlLm9yaWVudGF0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShoZC55LHQpLGUub3JpZW50YXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGhkLnosdCl9ZWxzZSBlLnNldFBvc2l0aW9uKGNkLngsY2QueSxjZC56KSxlLnNldE9yaWVudGF0aW9uKGhkLngsaGQueSxoZC56KX19Y2xhc3MgcGR7Y29uc3RydWN0b3IodCxlPTIwNDgpe3RoaXMuYW5hbHlzZXI9dC5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy5hbmFseXNlci5mZnRTaXplPWUsdGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpLHQuZ2V0T3V0cHV0KCkuY29ubmVjdCh0aGlzLmFuYWx5c2VyKX1nZXRGcmVxdWVuY3lEYXRhKCl7cmV0dXJuIHRoaXMuYW5hbHlzZXIuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5kYXRhKSx0aGlzLmRhdGF9Z2V0QXZlcmFnZUZyZXF1ZW5jeSgpe2xldCB0PTA7Y29uc3QgZT10aGlzLmdldEZyZXF1ZW5jeURhdGEoKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl0Kz1lW25dO3JldHVybiB0L2UubGVuZ3RofX1mdW5jdGlvbiBmZCh0LGUsbil7bGV0IHIsaSxvO3N3aXRjaCh0aGlzLmJpbmRpbmc9dCx0aGlzLnZhbHVlU2l6ZT1uLGUpe2Nhc2VcInF1YXRlcm5pb25cIjpyPXRoaXMuX3NsZXJwLGk9dGhpcy5fc2xlcnBBZGRpdGl2ZSxvPXRoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlRdWF0ZXJuaW9uLHRoaXMuYnVmZmVyPW5ldyBGbG9hdDY0QXJyYXkoNipuKSx0aGlzLl93b3JrSW5kZXg9NTticmVhaztjYXNlXCJzdHJpbmdcIjpjYXNlXCJib29sXCI6cj10aGlzLl9zZWxlY3QsaT10aGlzLl9zZWxlY3Qsbz10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIsdGhpcy5idWZmZXI9bmV3IEFycmF5KDUqbik7YnJlYWs7ZGVmYXVsdDpyPXRoaXMuX2xlcnAsaT10aGlzLl9sZXJwQWRkaXRpdmUsbz10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYyx0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KDUqbil9dGhpcy5fbWl4QnVmZmVyUmVnaW9uPXIsdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmU9aSx0aGlzLl9zZXRJZGVudGl0eT1vLHRoaXMuX29yaWdJbmRleD0zLHRoaXMuX2FkZEluZGV4PTQsdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCx0aGlzLnVzZUNvdW50PTAsdGhpcy5yZWZlcmVuY2VDb3VudD0wfU9iamVjdC5hc3NpZ24oZmQucHJvdG90eXBlLHthY2N1bXVsYXRlOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLmJ1ZmZlcixyPXRoaXMudmFsdWVTaXplLGk9dCpyK3I7bGV0IG89dGhpcy5jdW11bGF0aXZlV2VpZ2h0O2lmKDA9PT1vKXtmb3IobGV0IHQ9MDt0IT09cjsrK3QpbltpK3RdPW5bdF07bz1lfWVsc2V7bys9ZTtjb25zdCB0PWUvbzt0aGlzLl9taXhCdWZmZXJSZWdpb24obixpLDAsdCxyKX10aGlzLmN1bXVsYXRpdmVXZWlnaHQ9b30sYWNjdW11bGF0ZUFkZGl0aXZlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5idWZmZXIsbj10aGlzLnZhbHVlU2l6ZSxyPW4qdGhpcy5fYWRkSW5kZXg7MD09PXRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlJiZ0aGlzLl9zZXRJZGVudGl0eSgpLHRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKGUsciwwLHQsbiksdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUrPXR9LGFwcGx5OmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy52YWx1ZVNpemUsbj10aGlzLmJ1ZmZlcixyPXQqZStlLGk9dGhpcy5jdW11bGF0aXZlV2VpZ2h0LG89dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUsYT10aGlzLmJpbmRpbmc7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCxpPDEpe2NvbnN0IHQ9ZSp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKG4scix0LDEtaSxlKX1vPjAmJnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKG4scix0aGlzLl9hZGRJbmRleCplLDEsZSk7Zm9yKGxldCB0PWUsaT1lK2U7dCE9PWk7Kyt0KWlmKG5bdF0hPT1uW3QrZV0pe2Euc2V0VmFsdWUobixyKTticmVha319LHNhdmVPcmlnaW5hbFN0YXRlOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmJpbmRpbmcsZT10aGlzLmJ1ZmZlcixuPXRoaXMudmFsdWVTaXplLHI9bip0aGlzLl9vcmlnSW5kZXg7dC5nZXRWYWx1ZShlLHIpO2ZvcihsZXQgdD1uLGk9cjt0IT09aTsrK3QpZVt0XT1lW3IrdCVuXTt0aGlzLl9zZXRJZGVudGl0eSgpLHRoaXMuY3VtdWxhdGl2ZVdlaWdodD0wLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPTB9LHJlc3RvcmVPcmlnaW5hbFN0YXRlOmZ1bmN0aW9uKCl7Y29uc3QgdD0zKnRoaXMudmFsdWVTaXplO3RoaXMuYmluZGluZy5zZXRWYWx1ZSh0aGlzLmJ1ZmZlcix0KX0sX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSxlPXQrdGhpcy52YWx1ZVNpemU7Zm9yKGxldCBuPXQ7bjxlO24rKyl0aGlzLmJ1ZmZlcltuXT0wfSxfc2V0QWRkaXRpdmVJZGVudGl0eVF1YXRlcm5pb246ZnVuY3Rpb24oKXt0aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYygpLHRoaXMuYnVmZmVyW3RoaXMuX2FkZEluZGV4KnRoaXMudmFsdWVTaXplKzNdPTF9LF9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXI6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX29yaWdJbmRleCp0aGlzLnZhbHVlU2l6ZSxlPXRoaXMuX2FkZEluZGV4KnRoaXMudmFsdWVTaXplO2ZvcihsZXQgbj0wO248dGhpcy52YWx1ZVNpemU7bisrKXRoaXMuYnVmZmVyW2Urbl09dGhpcy5idWZmZXJbdCtuXX0sX3NlbGVjdDpmdW5jdGlvbih0LGUsbixyLGkpe2lmKHI+PS41KWZvcihsZXQgcj0wO3IhPT1pOysrcil0W2Urcl09dFtuK3JdfSxfc2xlcnA6ZnVuY3Rpb24odCxlLG4scil7Sm4uc2xlcnBGbGF0KHQsZSx0LGUsdCxuLHIpfSxfc2xlcnBBZGRpdGl2ZTpmdW5jdGlvbih0LGUsbixyLGkpe2NvbnN0IG89dGhpcy5fd29ya0luZGV4Kmk7Sm4ubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQodCxvLHQsZSx0LG4pLEpuLnNsZXJwRmxhdCh0LGUsdCxlLHQsbyxyKX0sX2xlcnA6ZnVuY3Rpb24odCxlLG4scixpKXtjb25zdCBvPTEtcjtmb3IobGV0IGE9MDthIT09aTsrK2Epe2NvbnN0IGk9ZSthO3RbaV09dFtpXSpvK3RbbithXSpyfX0sX2xlcnBBZGRpdGl2ZTpmdW5jdGlvbih0LGUsbixyLGkpe2ZvcihsZXQgbz0wO28hPT1pOysrbyl7Y29uc3QgaT1lK287dFtpXT10W2ldK3RbbitvXSpyfX19KTtjb25zdCBtZD1uZXcgUmVnRXhwKFwiW1xcXFxbXFxcXF1cXFxcLjpcXFxcL11cIixcImdcIiksZ2Q9XCJbXlwiK1wiXFxcXFtcXFxcXVxcXFwuOlxcXFwvXCIucmVwbGFjZShcIlxcXFwuXCIsXCJcIikrXCJdXCIsdmQ9LygoPzpXQytbXFwvOl0pKikvLnNvdXJjZS5yZXBsYWNlKFwiV0NcIixcIlteXFxcXFtcXFxcXVxcXFwuOlxcXFwvXVwiKSx5ZD0vKFdDT0QrKT8vLnNvdXJjZS5yZXBsYWNlKFwiV0NPRFwiLGdkKSx4ZD0vKD86XFwuKFdDKykoPzpcXFsoLispXFxdKT8pPy8uc291cmNlLnJlcGxhY2UoXCJXQ1wiLFwiW15cXFxcW1xcXFxdXFxcXC46XFxcXC9dXCIpLGJkPS9cXC4oV0MrKSg/OlxcWyguKylcXF0pPy8uc291cmNlLnJlcGxhY2UoXCJXQ1wiLFwiW15cXFxcW1xcXFxdXFxcXC46XFxcXC9dXCIpLHdkPW5ldyBSZWdFeHAoXCJeXCIrdmQreWQreGQrYmQrXCIkXCIpLF9kPVtcIm1hdGVyaWFsXCIsXCJtYXRlcmlhbHNcIixcImJvbmVzXCJdO2Z1bmN0aW9uIE1kKHQsZSxuKXtjb25zdCByPW58fFNkLnBhcnNlVHJhY2tOYW1lKGUpO3RoaXMuX3RhcmdldEdyb3VwPXQsdGhpcy5fYmluZGluZ3M9dC5zdWJzY3JpYmVfKGUscil9ZnVuY3Rpb24gU2QodCxlLG4pe3RoaXMucGF0aD1lLHRoaXMucGFyc2VkUGF0aD1ufHxTZC5wYXJzZVRyYWNrTmFtZShlKSx0aGlzLm5vZGU9U2QuZmluZE5vZGUodCx0aGlzLnBhcnNlZFBhdGgubm9kZU5hbWUpfHx0LHRoaXMucm9vdE5vZGU9dH1mdW5jdGlvbiBUZCgpe3RoaXMudXVpZD16bi5nZW5lcmF0ZVVVSUQoKSx0aGlzLl9vYmplY3RzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdGhpcy5uQ2FjaGVkT2JqZWN0c189MDtjb25zdCB0PXt9O3RoaXMuX2luZGljZXNCeVVVSUQ9dDtmb3IobGV0IGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZSE9PW47KytlKXRbYXJndW1lbnRzW2VdLnV1aWRdPWU7dGhpcy5fcGF0aHM9W10sdGhpcy5fcGFyc2VkUGF0aHM9W10sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoPXt9O2NvbnN0IGU9dGhpczt0aGlzLnN0YXRzPXtvYmplY3RzOntnZXQgdG90YWwoKXtyZXR1cm4gZS5fb2JqZWN0cy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiB0aGlzLnRvdGFsLWUubkNhY2hlZE9iamVjdHNffX0sZ2V0IGJpbmRpbmdzUGVyT2JqZWN0KCl7cmV0dXJuIGUuX2JpbmRpbmdzLmxlbmd0aH19fU9iamVjdC5hc3NpZ24oTWQucHJvdG90eXBlLHtnZXRWYWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuYmluZCgpO2NvbnN0IG49dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHI9dGhpcy5fYmluZGluZ3Nbbl07dm9pZCAwIT09ciYmci5nZXRWYWx1ZSh0LGUpfSxzZXRWYWx1ZTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5fYmluZGluZ3M7Zm9yKGxldCByPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxpPW4ubGVuZ3RoO3IhPT1pOysrciluW3JdLnNldFZhbHVlKHQsZSl9LGJpbmQ6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX2JpbmRpbmdzO2ZvcihsZXQgZT10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18sbj10Lmxlbmd0aDtlIT09bjsrK2UpdFtlXS5iaW5kKCl9LHVuYmluZDpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3M7Zm9yKGxldCBlPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPXQubGVuZ3RoO2UhPT1uOysrZSl0W2VdLnVuYmluZCgpfX0pLE9iamVjdC5hc3NpZ24oU2Qse0NvbXBvc2l0ZTpNZCxjcmVhdGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZ0LmlzQW5pbWF0aW9uT2JqZWN0R3JvdXA/bmV3IFNkLkNvbXBvc2l0ZSh0LGUsbik6bmV3IFNkKHQsZSxuKX0sc2FuaXRpemVOb2RlTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXHMvZyxcIl9cIikucmVwbGFjZShtZCxcIlwiKX0scGFyc2VUcmFja05hbWU6ZnVuY3Rpb24odCl7Y29uc3QgZT13ZC5leGVjKHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlByb3BlcnR5QmluZGluZzogQ2Fubm90IHBhcnNlIHRyYWNrTmFtZTogXCIrdCk7Y29uc3Qgbj17bm9kZU5hbWU6ZVsyXSxvYmplY3ROYW1lOmVbM10sb2JqZWN0SW5kZXg6ZVs0XSxwcm9wZXJ0eU5hbWU6ZVs1XSxwcm9wZXJ0eUluZGV4OmVbNl19LHI9bi5ub2RlTmFtZSYmbi5ub2RlTmFtZS5sYXN0SW5kZXhPZihcIi5cIik7aWYodm9pZCAwIT09ciYmLTEhPT1yKXtjb25zdCB0PW4ubm9kZU5hbWUuc3Vic3RyaW5nKHIrMSk7LTEhPT1fZC5pbmRleE9mKHQpJiYobi5ub2RlTmFtZT1uLm5vZGVOYW1lLnN1YnN0cmluZygwLHIpLG4ub2JqZWN0TmFtZT10KX1pZihudWxsPT09bi5wcm9wZXJ0eU5hbWV8fDA9PT1uLnByb3BlcnR5TmFtZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHlCaW5kaW5nOiBjYW4gbm90IHBhcnNlIHByb3BlcnR5TmFtZSBmcm9tIHRyYWNrTmFtZTogXCIrdCk7cmV0dXJuIG59LGZpbmROb2RlOmZ1bmN0aW9uKHQsZSl7aWYoIWV8fFwiXCI9PT1lfHxcIi5cIj09PWV8fC0xPT09ZXx8ZT09PXQubmFtZXx8ZT09PXQudXVpZClyZXR1cm4gdDtpZih0LnNrZWxldG9uKXtjb25zdCBuPXQuc2tlbGV0b24uZ2V0Qm9uZUJ5TmFtZShlKTtpZih2b2lkIDAhPT1uKXJldHVybiBufWlmKHQuY2hpbGRyZW4pe2NvbnN0IG49ZnVuY3Rpb24odCl7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGk9dFtyXTtpZihpLm5hbWU9PT1lfHxpLnV1aWQ9PT1lKXJldHVybiBpO2NvbnN0IG89bihpLmNoaWxkcmVuKTtpZihvKXJldHVybiBvfXJldHVybiBudWxsfSxyPW4odC5jaGlsZHJlbik7aWYocilyZXR1cm4gcn1yZXR1cm4gbnVsbH19KSxPYmplY3QuYXNzaWduKFNkLnByb3RvdHlwZSx7X2dldFZhbHVlX3VuYXZhaWxhYmxlOmZ1bmN0aW9uKCl7fSxfc2V0VmFsdWVfdW5hdmFpbGFibGU6ZnVuY3Rpb24oKXt9LEJpbmRpbmdUeXBlOntEaXJlY3Q6MCxFbnRpcmVBcnJheToxLEFycmF5RWxlbWVudDoyLEhhc0Zyb21Ub0FycmF5OjN9LFZlcnNpb25pbmc6e05vbmU6MCxOZWVkc1VwZGF0ZToxLE1hdHJpeFdvcmxkTmVlZHNVcGRhdGU6Mn0sR2V0dGVyQnlCaW5kaW5nVHlwZTpbZnVuY3Rpb24odCxlKXt0W2VdPXRoaXMubm9kZVt0aGlzLnByb3BlcnR5TmFtZV19LGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCByPTAsaT1uLmxlbmd0aDtyIT09aTsrK3IpdFtlKytdPW5bcl19LGZ1bmN0aW9uKHQsZSl7dFtlXT10aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XX0sZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkudG9BcnJheSh0LGUpfV0sU2V0dGVyQnlCaW5kaW5nVHlwZUFuZFZlcnNpb25pbmc6W1tmdW5jdGlvbih0LGUpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT10W2VdfSxmdW5jdGlvbih0LGUpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT10W2VdLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfSxmdW5jdGlvbih0LGUpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT10W2VdLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9XSxbZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHI9MCxpPW4ubGVuZ3RoO3IhPT1pOysrciluW3JdPXRbZSsrXX0sZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHI9MCxpPW4ubGVuZ3RoO3IhPT1pOysrciluW3JdPXRbZSsrXTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH0sZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHI9MCxpPW4ubGVuZ3RoO3IhPT1pOysrciluW3JdPXRbZSsrXTt0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV0sW2Z1bmN0aW9uKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09dFtlXX0sZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT10W2VdLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfSxmdW5jdGlvbih0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPXRbZV0sdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1dLFtmdW5jdGlvbih0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkodCxlKX0sZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KHQsZSksdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9LGZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheSh0LGUpLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9XV0sZ2V0VmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmJpbmQoKSx0aGlzLmdldFZhbHVlKHQsZSl9LHNldFZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5iaW5kKCksdGhpcy5zZXRWYWx1ZSh0LGUpfSxiaW5kOmZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5ub2RlO2NvbnN0IGU9dGhpcy5wYXJzZWRQYXRoLG49ZS5vYmplY3ROYW1lLHI9ZS5wcm9wZXJ0eU5hbWU7bGV0IGk9ZS5wcm9wZXJ0eUluZGV4O2lmKHR8fCh0PVNkLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsZS5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPXQpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSwhdClyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiBcIit0aGlzLnBhdGgrXCIgYnV0IGl0IHdhc24ndCBmb3VuZC5cIik7aWYobil7bGV0IHI9ZS5vYmplY3RJbmRleDtzd2l0Y2gobil7Y2FzZVwibWF0ZXJpYWxzXCI6aWYoIXQubWF0ZXJpYWwpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1hdGVyaWFsIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFsLlwiLHRoaXMpO2lmKCF0Lm1hdGVyaWFsLm1hdGVyaWFscylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwubWF0ZXJpYWxzIGFzIG5vZGUubWF0ZXJpYWwgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFscyBhcnJheS5cIix0aGlzKTt0PXQubWF0ZXJpYWwubWF0ZXJpYWxzO2JyZWFrO2Nhc2VcImJvbmVzXCI6aWYoIXQuc2tlbGV0b24pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIGJvbmVzIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIHNrZWxldG9uLlwiLHRoaXMpO3Q9dC5za2VsZXRvbi5ib25lcztmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLm5hbWU9PT1yKXtyPWU7YnJlYWt9YnJlYWs7ZGVmYXVsdDppZih2b2lkIDA9PT10W25dKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLlwiLHRoaXMpO3Q9dFtuXX1pZih2b2lkIDAhPT1yKXtpZih2b2lkIDA9PT10W3JdKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuXCIsdGhpcyx0KTt0PXRbcl19fWNvbnN0IG89dFtyXTtpZih2b2lkIDA9PT1vKXtjb25zdCBuPWUubm9kZU5hbWU7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogVHJ5aW5nIHRvIHVwZGF0ZSBwcm9wZXJ0eSBmb3IgdHJhY2s6IFwiK24rXCIuXCIrcitcIiBidXQgaXQgd2Fzbid0IGZvdW5kLlwiLHQpfWxldCBhPXRoaXMuVmVyc2lvbmluZy5Ob25lO3RoaXMudGFyZ2V0T2JqZWN0PXQsdm9pZCAwIT09dC5uZWVkc1VwZGF0ZT9hPXRoaXMuVmVyc2lvbmluZy5OZWVkc1VwZGF0ZTp2b2lkIDAhPT10Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUmJihhPXRoaXMuVmVyc2lvbmluZy5NYXRyaXhXb3JsZE5lZWRzVXBkYXRlKTtsZXQgcz10aGlzLkJpbmRpbmdUeXBlLkRpcmVjdDtpZih2b2lkIDAhPT1pKXtpZihcIm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1wiPT09cil7aWYoIXQuZ2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5LlwiLHRoaXMpO2lmKCF0Lmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBvbiBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuXCIsdGhpcyk7aWYoIXQuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMuXCIsdGhpcyk7dm9pZCAwIT09dC5tb3JwaFRhcmdldERpY3Rpb25hcnlbaV0mJihpPXQubW9ycGhUYXJnZXREaWN0aW9uYXJ5W2ldKX1zPXRoaXMuQmluZGluZ1R5cGUuQXJyYXlFbGVtZW50LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1vLHRoaXMucHJvcGVydHlJbmRleD1pfWVsc2Ugdm9pZCAwIT09by5mcm9tQXJyYXkmJnZvaWQgMCE9PW8udG9BcnJheT8ocz10aGlzLkJpbmRpbmdUeXBlLkhhc0Zyb21Ub0FycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1vKTpBcnJheS5pc0FycmF5KG8pPyhzPXRoaXMuQmluZGluZ1R5cGUuRW50aXJlQXJyYXksdGhpcy5yZXNvbHZlZFByb3BlcnR5PW8pOnRoaXMucHJvcGVydHlOYW1lPXI7dGhpcy5nZXRWYWx1ZT10aGlzLkdldHRlckJ5QmluZGluZ1R5cGVbc10sdGhpcy5zZXRWYWx1ZT10aGlzLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nW3NdW2FdfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLm5vZGU9bnVsbCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfX0pLE9iamVjdC5hc3NpZ24oU2QucHJvdG90eXBlLHtfZ2V0VmFsdWVfdW5ib3VuZDpTZC5wcm90b3R5cGUuZ2V0VmFsdWUsX3NldFZhbHVlX3VuYm91bmQ6U2QucHJvdG90eXBlLnNldFZhbHVlfSksT2JqZWN0LmFzc2lnbihUZC5wcm90b3R5cGUse2lzQW5pbWF0aW9uT2JqZWN0R3JvdXA6ITAsYWRkOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9vYmplY3RzLGU9dGhpcy5faW5kaWNlc0J5VVVJRCxuPXRoaXMuX3BhdGhzLHI9dGhpcy5fcGFyc2VkUGF0aHMsaT10aGlzLl9iaW5kaW5ncyxvPWkubGVuZ3RoO2xldCBhPXZvaWQgMCxzPXQubGVuZ3RoLGM9dGhpcy5uQ2FjaGVkT2JqZWN0c187Zm9yKGxldCBsPTAsdT1hcmd1bWVudHMubGVuZ3RoO2whPT11OysrbCl7Y29uc3QgdT1hcmd1bWVudHNbbF0saD11LnV1aWQ7bGV0IGQ9ZVtoXTtpZih2b2lkIDA9PT1kKXtkPXMrKyxlW2hdPWQsdC5wdXNoKHUpO2ZvcihsZXQgdD0wLGU9bzt0IT09ZTsrK3QpaVt0XS5wdXNoKG5ldyBTZCh1LG5bdF0sclt0XSkpfWVsc2UgaWYoZDxjKXthPXRbZF07Y29uc3Qgcz0tLWMsbD10W3NdO2VbbC51dWlkXT1kLHRbZF09bCxlW2hdPXMsdFtzXT11O2ZvcihsZXQgdD0wLGU9bzt0IT09ZTsrK3Qpe2NvbnN0IGU9aVt0XSxvPWVbc107bGV0IGE9ZVtkXTtlW2RdPW8sdm9pZCAwPT09YSYmKGE9bmV3IFNkKHUsblt0XSxyW3RdKSksZVtzXT1hfX1lbHNlIHRbZF0hPT1hJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQW5pbWF0aW9uT2JqZWN0R3JvdXA6IERpZmZlcmVudCBvYmplY3RzIHdpdGggdGhlIHNhbWUgVVVJRCBkZXRlY3RlZC4gQ2xlYW4gdGhlIGNhY2hlcyBvciByZWNyZWF0ZSB5b3VyIGluZnJhc3RydWN0dXJlIHdoZW4gcmVsb2FkaW5nIHNjZW5lcy5cIil9dGhpcy5uQ2FjaGVkT2JqZWN0c189Y30scmVtb3ZlOmZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9vYmplY3RzLGU9dGhpcy5faW5kaWNlc0J5VVVJRCxuPXRoaXMuX2JpbmRpbmdzLHI9bi5sZW5ndGg7bGV0IGk9dGhpcy5uQ2FjaGVkT2JqZWN0c187Zm9yKGxldCBvPTAsYT1hcmd1bWVudHMubGVuZ3RoO28hPT1hOysrbyl7Y29uc3QgYT1hcmd1bWVudHNbb10scz1hLnV1aWQsYz1lW3NdO2lmKHZvaWQgMCE9PWMmJmM+PWkpe2NvbnN0IG89aSsrLGw9dFtvXTtlW2wudXVpZF09Yyx0W2NdPWwsZVtzXT1vLHRbb109YTtmb3IobGV0IHQ9MCxlPXI7dCE9PWU7Kyt0KXtjb25zdCBlPW5bdF0scj1lW29dLGk9ZVtjXTtlW2NdPXIsZVtvXT1pfX19dGhpcy5uQ2FjaGVkT2JqZWN0c189aX0sdW5jYWNoZTpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0cyxlPXRoaXMuX2luZGljZXNCeVVVSUQsbj10aGlzLl9iaW5kaW5ncyxyPW4ubGVuZ3RoO2xldCBpPXRoaXMubkNhY2hlZE9iamVjdHNfLG89dC5sZW5ndGg7Zm9yKGxldCBhPTAscz1hcmd1bWVudHMubGVuZ3RoO2EhPT1zOysrYSl7Y29uc3Qgcz1hcmd1bWVudHNbYV0udXVpZCxjPWVbc107aWYodm9pZCAwIT09YylpZihkZWxldGUgZVtzXSxjPGkpe2NvbnN0IGE9LS1pLHM9dFthXSxsPS0tbyx1PXRbbF07ZVtzLnV1aWRdPWMsdFtjXT1zLGVbdS51dWlkXT1hLHRbYV09dSx0LnBvcCgpO2ZvcihsZXQgdD0wLGU9cjt0IT09ZTsrK3Qpe2NvbnN0IGU9blt0XSxyPWVbYV0saT1lW2xdO2VbY109cixlW2FdPWksZS5wb3AoKX19ZWxzZXtjb25zdCBpPS0tbyxhPXRbaV07aT4wJiYoZVthLnV1aWRdPWMpLHRbY109YSx0LnBvcCgpO2ZvcihsZXQgdD0wLGU9cjt0IT09ZTsrK3Qpe2NvbnN0IGU9blt0XTtlW2NdPWVbaV0sZS5wb3AoKX19fXRoaXMubkNhY2hlZE9iamVjdHNfPWl9LHN1YnNjcmliZV86ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aDtsZXQgcj1uW3RdO2NvbnN0IGk9dGhpcy5fYmluZGluZ3M7aWYodm9pZCAwIT09cilyZXR1cm4gaVtyXTtjb25zdCBvPXRoaXMuX3BhdGhzLGE9dGhpcy5fcGFyc2VkUGF0aHMscz10aGlzLl9vYmplY3RzLGM9cy5sZW5ndGgsbD10aGlzLm5DYWNoZWRPYmplY3RzXyx1PW5ldyBBcnJheShjKTtyPWkubGVuZ3RoLG5bdF09cixvLnB1c2godCksYS5wdXNoKGUpLGkucHVzaCh1KTtmb3IobGV0IG49bCxyPXMubGVuZ3RoO24hPT1yOysrbil7Y29uc3Qgcj1zW25dO3Vbbl09bmV3IFNkKHIsdCxlKX1yZXR1cm4gdX0sdW5zdWJzY3JpYmVfOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoLG49ZVt0XTtpZih2b2lkIDAhPT1uKXtjb25zdCByPXRoaXMuX3BhdGhzLGk9dGhpcy5fcGFyc2VkUGF0aHMsbz10aGlzLl9iaW5kaW5ncyxhPW8ubGVuZ3RoLTEscz1vW2FdO2VbdFthXV09bixvW25dPXMsby5wb3AoKSxpW25dPWlbYV0saS5wb3AoKSxyW25dPXJbYV0sci5wb3AoKX19fSk7Y2xhc3MgRWR7Y29uc3RydWN0b3IodCxlLG49bnVsbCxyPWUuYmxlbmRNb2RlKXt0aGlzLl9taXhlcj10LHRoaXMuX2NsaXA9ZSx0aGlzLl9sb2NhbFJvb3Q9bix0aGlzLmJsZW5kTW9kZT1yO2NvbnN0IGk9ZS50cmFja3Msbz1pLmxlbmd0aCxhPW5ldyBBcnJheShvKSxzPXtlbmRpbmdTdGFydDprZSxlbmRpbmdFbmQ6a2V9O2ZvcihsZXQgdD0wO3QhPT1vOysrdCl7Y29uc3QgZT1pW3RdLmNyZWF0ZUludGVycG9sYW50KG51bGwpO2FbdF09ZSxlLnNldHRpbmdzPXN9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncz1zLHRoaXMuX2ludGVycG9sYW50cz1hLHRoaXMuX3Byb3BlcnR5QmluZGluZ3M9bmV3IEFycmF5KG8pLHRoaXMuX2NhY2hlSW5kZXg9bnVsbCx0aGlzLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMubG9vcD1GZSx0aGlzLl9sb29wQ291bnQ9LTEsdGhpcy5fc3RhcnRUaW1lPW51bGwsdGhpcy50aW1lPTAsdGhpcy50aW1lU2NhbGU9MSx0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9MSx0aGlzLndlaWdodD0xLHRoaXMuX2VmZmVjdGl2ZVdlaWdodD0xLHRoaXMucmVwZXRpdGlvbnM9MS8wLHRoaXMucGF1c2VkPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLmNsYW1wV2hlbkZpbmlzaGVkPSExLHRoaXMuemVyb1Nsb3BlQXRTdGFydD0hMCx0aGlzLnplcm9TbG9wZUF0RW5kPSEwfXBsYXkoKXtyZXR1cm4gdGhpcy5fbWl4ZXIuX2FjdGl2YXRlQWN0aW9uKHRoaXMpLHRoaXN9c3RvcCgpe3JldHVybiB0aGlzLl9taXhlci5fZGVhY3RpdmF0ZUFjdGlvbih0aGlzKSx0aGlzLnJlc2V0KCl9cmVzZXQoKXtyZXR1cm4gdGhpcy5wYXVzZWQ9ITEsdGhpcy5lbmFibGVkPSEwLHRoaXMudGltZT0wLHRoaXMuX2xvb3BDb3VudD0tMSx0aGlzLl9zdGFydFRpbWU9bnVsbCx0aGlzLnN0b3BGYWRpbmcoKS5zdG9wV2FycGluZygpfWlzUnVubmluZygpe3JldHVybiB0aGlzLmVuYWJsZWQmJiF0aGlzLnBhdXNlZCYmMCE9PXRoaXMudGltZVNjYWxlJiZudWxsPT09dGhpcy5fc3RhcnRUaW1lJiZ0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyl9aXNTY2hlZHVsZWQoKXtyZXR1cm4gdGhpcy5fbWl4ZXIuX2lzQWN0aXZlQWN0aW9uKHRoaXMpfXN0YXJ0QXQodCl7cmV0dXJuIHRoaXMuX3N0YXJ0VGltZT10LHRoaXN9c2V0TG9vcCh0LGUpe3JldHVybiB0aGlzLmxvb3A9dCx0aGlzLnJlcGV0aXRpb25zPWUsdGhpc31zZXRFZmZlY3RpdmVXZWlnaHQodCl7cmV0dXJuIHRoaXMud2VpZ2h0PXQsdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PXRoaXMuZW5hYmxlZD90OjAsdGhpcy5zdG9wRmFkaW5nKCl9Z2V0RWZmZWN0aXZlV2VpZ2h0KCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVdlaWdodH1mYWRlSW4odCl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKHQsMCwxKX1mYWRlT3V0KHQpe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyh0LDEsMCl9Y3Jvc3NGYWRlRnJvbSh0LGUsbil7aWYodC5mYWRlT3V0KGUpLHRoaXMuZmFkZUluKGUpLG4pe2NvbnN0IG49dGhpcy5fY2xpcC5kdXJhdGlvbixyPXQuX2NsaXAuZHVyYXRpb24saT1yL24sbz1uL3I7dC53YXJwKDEsaSxlKSx0aGlzLndhcnAobywxLGUpfXJldHVybiB0aGlzfWNyb3NzRmFkZVRvKHQsZSxuKXtyZXR1cm4gdC5jcm9zc0ZhZGVGcm9tKHRoaXMsZSxuKX1zdG9wRmFkaW5nKCl7Y29uc3QgdD10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtyZXR1cm4gbnVsbCE9PXQmJih0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudCh0KSksdGhpc31zZXRFZmZlY3RpdmVUaW1lU2NhbGUodCl7cmV0dXJuIHRoaXMudGltZVNjYWxlPXQsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPXRoaXMucGF1c2VkPzA6dCx0aGlzLnN0b3BXYXJwaW5nKCl9Z2V0RWZmZWN0aXZlVGltZVNjYWxlKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZX1zZXREdXJhdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9dGhpcy5fY2xpcC5kdXJhdGlvbi90LHRoaXMuc3RvcFdhcnBpbmcoKX1zeW5jV2l0aCh0KXtyZXR1cm4gdGhpcy50aW1lPXQudGltZSx0aGlzLnRpbWVTY2FsZT10LnRpbWVTY2FsZSx0aGlzLnN0b3BXYXJwaW5nKCl9aGFsdCh0KXtyZXR1cm4gdGhpcy53YXJwKHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZSwwLHQpfXdhcnAodCxlLG4pe2NvbnN0IHI9dGhpcy5fbWl4ZXIsaT1yLnRpbWUsbz10aGlzLnRpbWVTY2FsZTtsZXQgYT10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtudWxsPT09YSYmKGE9ci5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpLHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PWEpO2NvbnN0IHM9YS5wYXJhbWV0ZXJQb3NpdGlvbnMsYz1hLnNhbXBsZVZhbHVlcztyZXR1cm4gc1swXT1pLHNbMV09aStuLGNbMF09dC9vLGNbMV09ZS9vLHRoaXN9c3RvcFdhcnBpbmcoKXtjb25zdCB0PXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50O3JldHVybiBudWxsIT09dCYmKHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PW51bGwsdGhpcy5fbWl4ZXIuX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KHQpKSx0aGlzfWdldE1peGVyKCl7cmV0dXJuIHRoaXMuX21peGVyfWdldENsaXAoKXtyZXR1cm4gdGhpcy5fY2xpcH1nZXRSb290KCl7cmV0dXJuIHRoaXMuX2xvY2FsUm9vdHx8dGhpcy5fbWl4ZXIuX3Jvb3R9X3VwZGF0ZSh0LGUsbixyKXtpZighdGhpcy5lbmFibGVkKXJldHVybiB2b2lkIHRoaXMuX3VwZGF0ZVdlaWdodCh0KTtjb25zdCBpPXRoaXMuX3N0YXJ0VGltZTtpZihudWxsIT09aSl7Y29uc3Qgcj0odC1pKSpuO2lmKHI8MHx8MD09PW4pcmV0dXJuO3RoaXMuX3N0YXJ0VGltZT1udWxsLGU9bipyfWUqPXRoaXMuX3VwZGF0ZVRpbWVTY2FsZSh0KTtjb25zdCBvPXRoaXMuX3VwZGF0ZVRpbWUoZSksYT10aGlzLl91cGRhdGVXZWlnaHQodCk7aWYoYT4wKXtjb25zdCB0PXRoaXMuX2ludGVycG9sYW50cyxlPXRoaXMuX3Byb3BlcnR5QmluZGluZ3M7c3dpdGNoKHRoaXMuYmxlbmRNb2RlKXtjYXNlIFhlOmZvcihsZXQgbj0wLHI9dC5sZW5ndGg7biE9PXI7KytuKXRbbl0uZXZhbHVhdGUobyksZVtuXS5hY2N1bXVsYXRlQWRkaXRpdmUoYSk7YnJlYWs7Y2FzZSBXZTpkZWZhdWx0OmZvcihsZXQgbj0wLGk9dC5sZW5ndGg7biE9PWk7KytuKXRbbl0uZXZhbHVhdGUobyksZVtuXS5hY2N1bXVsYXRlKHIsYSl9fX1fdXBkYXRlV2VpZ2h0KHQpe2xldCBlPTA7aWYodGhpcy5lbmFibGVkKXtlPXRoaXMud2VpZ2h0O2NvbnN0IG49dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2NvbnN0IHI9bi5ldmFsdWF0ZSh0KVswXTtlKj1yLHQ+bi5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BGYWRpbmcoKSwwPT09ciYmKHRoaXMuZW5hYmxlZD0hMSkpfX1yZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PWUsZX1fdXBkYXRlVGltZVNjYWxlKHQpe2xldCBlPTA7aWYoIXRoaXMucGF1c2VkKXtlPXRoaXMudGltZVNjYWxlO2NvbnN0IG49dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2UqPW4uZXZhbHVhdGUodClbMF0sdD5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcFdhcnBpbmcoKSwwPT09ZT90aGlzLnBhdXNlZD0hMDp0aGlzLnRpbWVTY2FsZT1lKX19cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT1lLGV9X3VwZGF0ZVRpbWUodCl7Y29uc3QgZT10aGlzLl9jbGlwLmR1cmF0aW9uLG49dGhpcy5sb29wO2xldCByPXRoaXMudGltZSt0LGk9dGhpcy5fbG9vcENvdW50O2NvbnN0IG89bj09PVVlO2lmKDA9PT10KXJldHVybi0xPT09aT9yOm8mJjE9PSgxJmkpP2UtcjpyO2lmKG49PT1CZSl7LTE9PT1pJiYodGhpcy5fbG9vcENvdW50PTAsdGhpcy5fc2V0RW5kaW5ncyghMCwhMCwhMSkpO3Q6e2lmKHI+PWUpcj1lO2Vsc2V7aWYoIShyPDApKXt0aGlzLnRpbWU9cjticmVhayB0fXI9MH10aGlzLmNsYW1wV2hlbkZpbmlzaGVkP3RoaXMucGF1c2VkPSEwOnRoaXMuZW5hYmxlZD0hMSx0aGlzLnRpbWU9cix0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZmluaXNoZWRcIixhY3Rpb246dGhpcyxkaXJlY3Rpb246dDwwPy0xOjF9KX19ZWxzZXtpZigtMT09PWkmJih0Pj0wPyhpPTAsdGhpcy5fc2V0RW5kaW5ncyghMCwwPT09dGhpcy5yZXBldGl0aW9ucyxvKSk6dGhpcy5fc2V0RW5kaW5ncygwPT09dGhpcy5yZXBldGl0aW9ucywhMCxvKSkscj49ZXx8cjwwKXtjb25zdCBuPU1hdGguZmxvb3Ioci9lKTtyLT1lKm4saSs9TWF0aC5hYnMobik7Y29uc3QgYT10aGlzLnJlcGV0aXRpb25zLWk7aWYoYTw9MCl0aGlzLmNsYW1wV2hlbkZpbmlzaGVkP3RoaXMucGF1c2VkPSEwOnRoaXMuZW5hYmxlZD0hMSxyPXQ+MD9lOjAsdGhpcy50aW1lPXIsdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImZpbmlzaGVkXCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOnQ+MD8xOi0xfSk7ZWxzZXtpZigxPT09YSl7Y29uc3QgZT10PDA7dGhpcy5fc2V0RW5kaW5ncyhlLCFlLG8pfWVsc2UgdGhpcy5fc2V0RW5kaW5ncyghMSwhMSxvKTt0aGlzLl9sb29wQ291bnQ9aSx0aGlzLnRpbWU9cix0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibG9vcFwiLGFjdGlvbjp0aGlzLGxvb3BEZWx0YTpufSl9fWVsc2UgdGhpcy50aW1lPXI7aWYobyYmMT09KDEmaSkpcmV0dXJuIGUtcn1yZXR1cm4gcn1fc2V0RW5kaW5ncyh0LGUsbil7Y29uc3Qgcj10aGlzLl9pbnRlcnBvbGFudFNldHRpbmdzO24/KHIuZW5kaW5nU3RhcnQ9VmUsci5lbmRpbmdFbmQ9VmUpOihyLmVuZGluZ1N0YXJ0PXQ/dGhpcy56ZXJvU2xvcGVBdFN0YXJ0P1ZlOmtlOmplLHIuZW5kaW5nRW5kPWU/dGhpcy56ZXJvU2xvcGVBdEVuZD9WZTprZTpqZSl9X3NjaGVkdWxlRmFkaW5nKHQsZSxuKXtjb25zdCByPXRoaXMuX21peGVyLGk9ci50aW1lO2xldCBvPXRoaXMuX3dlaWdodEludGVycG9sYW50O251bGw9PT1vJiYobz1yLl9sZW5kQ29udHJvbEludGVycG9sYW50KCksdGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9byk7Y29uc3QgYT1vLnBhcmFtZXRlclBvc2l0aW9ucyxzPW8uc2FtcGxlVmFsdWVzO3JldHVybiBhWzBdPWksc1swXT1lLGFbMV09aSt0LHNbMV09bix0aGlzfX1mdW5jdGlvbiBBZCh0KXt0aGlzLl9yb290PXQsdGhpcy5faW5pdE1lbW9yeU1hbmFnZXIoKSx0aGlzLl9hY2N1SW5kZXg9MCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xfUFkLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQm4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QWQsX2JpbmRBY3Rpb246ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCxyPXQuX2NsaXAudHJhY2tzLGk9ci5sZW5ndGgsbz10Ll9wcm9wZXJ0eUJpbmRpbmdzLGE9dC5faW50ZXJwb2xhbnRzLHM9bi51dWlkLGM9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lO2xldCBsPWNbc107dm9pZCAwPT09bCYmKGw9e30sY1tzXT1sKTtmb3IobGV0IHQ9MDt0IT09aTsrK3Qpe2NvbnN0IGk9clt0XSxjPWkubmFtZTtsZXQgdT1sW2NdO2lmKHZvaWQgMCE9PXUpb1t0XT11O2Vsc2V7aWYodT1vW3RdLHZvaWQgMCE9PXUpe251bGw9PT11Ll9jYWNoZUluZGV4JiYoKyt1LnJlZmVyZW5jZUNvdW50LHRoaXMuX2FkZEluYWN0aXZlQmluZGluZyh1LHMsYykpO2NvbnRpbnVlfWNvbnN0IHI9ZSYmZS5fcHJvcGVydHlCaW5kaW5nc1t0XS5iaW5kaW5nLnBhcnNlZFBhdGg7dT1uZXcgZmQoU2QuY3JlYXRlKG4sYyxyKSxpLlZhbHVlVHlwZU5hbWUsaS5nZXRWYWx1ZVNpemUoKSksKyt1LnJlZmVyZW5jZUNvdW50LHRoaXMuX2FkZEluYWN0aXZlQmluZGluZyh1LHMsYyksb1t0XT11fWFbdF0ucmVzdWx0QnVmZmVyPXUuYnVmZmVyfX0sX2FjdGl2YXRlQWN0aW9uOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbih0KSl7aWYobnVsbD09PXQuX2NhY2hlSW5kZXgpe2NvbnN0IGU9KHQuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxuPXQuX2NsaXAudXVpZCxyPXRoaXMuX2FjdGlvbnNCeUNsaXBbbl07dGhpcy5fYmluZEFjdGlvbih0LHImJnIua25vd25BY3Rpb25zWzBdKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbih0LG4sZSl9Y29uc3QgZT10Ll9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dCE9PW47Kyt0KXtjb25zdCBuPWVbdF07MD09bi51c2VDb3VudCsrJiYodGhpcy5fbGVuZEJpbmRpbmcobiksbi5zYXZlT3JpZ2luYWxTdGF0ZSgpKX10aGlzLl9sZW5kQWN0aW9uKHQpfX0sX2RlYWN0aXZhdGVBY3Rpb246ZnVuY3Rpb24odCl7aWYodGhpcy5faXNBY3RpdmVBY3Rpb24odCkpe2NvbnN0IGU9dC5fcHJvcGVydHlCaW5kaW5ncztmb3IobGV0IHQ9MCxuPWUubGVuZ3RoO3QhPT1uOysrdCl7Y29uc3Qgbj1lW3RdOzA9PS0tbi51c2VDb3VudCYmKG4ucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl90YWtlQmFja0JpbmRpbmcobikpfXRoaXMuX3Rha2VCYWNrQWN0aW9uKHQpfX0sX2luaXRNZW1vcnlNYW5hZ2VyOmZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9uQWN0aXZlQWN0aW9ucz0wLHRoaXMuX2FjdGlvbnNCeUNsaXA9e30sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fbkFjdGl2ZUJpbmRpbmdzPTAsdGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lPXt9LHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHM9W10sdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHM9MDtjb25zdCB0PXRoaXM7dGhpcy5zdGF0cz17YWN0aW9uczp7Z2V0IHRvdGFsKCl7cmV0dXJuIHQuX2FjdGlvbnMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gdC5fbkFjdGl2ZUFjdGlvbnN9fSxiaW5kaW5nczp7Z2V0IHRvdGFsKCl7cmV0dXJuIHQuX2JpbmRpbmdzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHQuX25BY3RpdmVCaW5kaW5nc319LGNvbnRyb2xJbnRlcnBvbGFudHM6e2dldCB0b3RhbCgpe3JldHVybiB0Ll9jb250cm9sSW50ZXJwb2xhbnRzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHQuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzfX19fSxfaXNBY3RpdmVBY3Rpb246ZnVuY3Rpb24odCl7Y29uc3QgZT10Ll9jYWNoZUluZGV4O3JldHVybiBudWxsIT09ZSYmZTx0aGlzLl9uQWN0aXZlQWN0aW9uc30sX2FkZEluYWN0aXZlQWN0aW9uOmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXRoaXMuX2FjdGlvbnMsaT10aGlzLl9hY3Rpb25zQnlDbGlwO2xldCBvPWlbZV07aWYodm9pZCAwPT09bylvPXtrbm93bkFjdGlvbnM6W3RdLGFjdGlvbkJ5Um9vdDp7fX0sdC5fYnlDbGlwQ2FjaGVJbmRleD0wLGlbZV09bztlbHNle2NvbnN0IGU9by5rbm93bkFjdGlvbnM7dC5fYnlDbGlwQ2FjaGVJbmRleD1lLmxlbmd0aCxlLnB1c2godCl9dC5fY2FjaGVJbmRleD1yLmxlbmd0aCxyLnB1c2godCksby5hY3Rpb25CeVJvb3Rbbl09dH0sX3JlbW92ZUluYWN0aXZlQWN0aW9uOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5fYWN0aW9ucyxuPWVbZS5sZW5ndGgtMV0scj10Ll9jYWNoZUluZGV4O24uX2NhY2hlSW5kZXg9cixlW3JdPW4sZS5wb3AoKSx0Ll9jYWNoZUluZGV4PW51bGw7Y29uc3QgaT10Ll9jbGlwLnV1aWQsbz10aGlzLl9hY3Rpb25zQnlDbGlwLGE9b1tpXSxzPWEua25vd25BY3Rpb25zLGM9c1tzLmxlbmd0aC0xXSxsPXQuX2J5Q2xpcENhY2hlSW5kZXg7Yy5fYnlDbGlwQ2FjaGVJbmRleD1sLHNbbF09YyxzLnBvcCgpLHQuX2J5Q2xpcENhY2hlSW5kZXg9bnVsbDtkZWxldGUgYS5hY3Rpb25CeVJvb3RbKHQuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZF0sMD09PXMubGVuZ3RoJiZkZWxldGUgb1tpXSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uKHQpfSxfcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbjpmdW5jdGlvbih0KXtjb25zdCBlPXQuX3Byb3BlcnR5QmluZGluZ3M7Zm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0IT09bjsrK3Qpe2NvbnN0IG49ZVt0XTswPT0tLW4ucmVmZXJlbmNlQ291bnQmJnRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhuKX19LF9sZW5kQWN0aW9uOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5fYWN0aW9ucyxuPXQuX2NhY2hlSW5kZXgscj10aGlzLl9uQWN0aXZlQWN0aW9ucysrLGk9ZVtyXTt0Ll9jYWNoZUluZGV4PXIsZVtyXT10LGkuX2NhY2hlSW5kZXg9bixlW25dPWl9LF90YWtlQmFja0FjdGlvbjpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuX2FjdGlvbnMsbj10Ll9jYWNoZUluZGV4LHI9LS10aGlzLl9uQWN0aXZlQWN0aW9ucyxpPWVbcl07dC5fY2FjaGVJbmRleD1yLGVbcl09dCxpLl9jYWNoZUluZGV4PW4sZVtuXT1pfSxfYWRkSW5hY3RpdmVCaW5kaW5nOmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxpPXRoaXMuX2JpbmRpbmdzO2xldCBvPXJbZV07dm9pZCAwPT09byYmKG89e30scltlXT1vKSxvW25dPXQsdC5fY2FjaGVJbmRleD1pLmxlbmd0aCxpLnB1c2godCl9LF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmc6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncyxuPXQuYmluZGluZyxyPW4ucm9vdE5vZGUudXVpZCxpPW4ucGF0aCxvPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxhPW9bcl0scz1lW2UubGVuZ3RoLTFdLGM9dC5fY2FjaGVJbmRleDtzLl9jYWNoZUluZGV4PWMsZVtjXT1zLGUucG9wKCksZGVsZXRlIGFbaV0sMD09PU9iamVjdC5rZXlzKGEpLmxlbmd0aCYmZGVsZXRlIG9bcl19LF9sZW5kQmluZGluZzpmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuX2JpbmRpbmdzLG49dC5fY2FjaGVJbmRleCxyPXRoaXMuX25BY3RpdmVCaW5kaW5ncysrLGk9ZVtyXTt0Ll9jYWNoZUluZGV4PXIsZVtyXT10LGkuX2NhY2hlSW5kZXg9bixlW25dPWl9LF90YWtlQmFja0JpbmRpbmc6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncyxuPXQuX2NhY2hlSW5kZXgscj0tLXRoaXMuX25BY3RpdmVCaW5kaW5ncyxpPWVbcl07dC5fY2FjaGVJbmRleD1yLGVbcl09dCxpLl9jYWNoZUluZGV4PW4sZVtuXT1pfSxfbGVuZENvbnRyb2xJbnRlcnBvbGFudDpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fY29udHJvbEludGVycG9sYW50cyxlPXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzKys7bGV0IG49dFtlXTtyZXR1cm4gdm9pZCAwPT09biYmKG49bmV3IFR1KG5ldyBGbG9hdDMyQXJyYXkoMiksbmV3IEZsb2F0MzJBcnJheSgyKSwxLHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXIpLG4uX19jYWNoZUluZGV4PWUsdFtlXT1uKSxufSxfdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQ6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLG49dC5fX2NhY2hlSW5kZXgscj0tLXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzLGk9ZVtyXTt0Ll9fY2FjaGVJbmRleD1yLGVbcl09dCxpLl9fY2FjaGVJbmRleD1uLGVbbl09aX0sX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXI6bmV3IEZsb2F0MzJBcnJheSgxKSxjbGlwQWN0aW9uOmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWV8fHRoaXMuX3Jvb3QsaT1yLnV1aWQ7bGV0IG89XCJzdHJpbmdcIj09dHlwZW9mIHQ/RHUuZmluZEJ5TmFtZShyLHQpOnQ7Y29uc3QgYT1udWxsIT09bz9vLnV1aWQ6dCxzPXRoaXMuX2FjdGlvbnNCeUNsaXBbYV07bGV0IGM9bnVsbDtpZih2b2lkIDA9PT1uJiYobj1udWxsIT09bz9vLmJsZW5kTW9kZTpXZSksdm9pZCAwIT09cyl7Y29uc3QgdD1zLmFjdGlvbkJ5Um9vdFtpXTtpZih2b2lkIDAhPT10JiZ0LmJsZW5kTW9kZT09PW4pcmV0dXJuIHQ7Yz1zLmtub3duQWN0aW9uc1swXSxudWxsPT09byYmKG89Yy5fY2xpcCl9aWYobnVsbD09PW8pcmV0dXJuIG51bGw7Y29uc3QgbD1uZXcgRWQodGhpcyxvLGUsbik7cmV0dXJuIHRoaXMuX2JpbmRBY3Rpb24obCxjKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihsLGEsaSksbH0sZXhpc3RpbmdBY3Rpb246ZnVuY3Rpb24odCxlKXtjb25zdCBuPWV8fHRoaXMuX3Jvb3Qscj1uLnV1aWQsaT1cInN0cmluZ1wiPT10eXBlb2YgdD9EdS5maW5kQnlOYW1lKG4sdCk6dCxvPWk/aS51dWlkOnQsYT10aGlzLl9hY3Rpb25zQnlDbGlwW29dO3JldHVybiB2b2lkIDAhPT1hJiZhLmFjdGlvbkJ5Um9vdFtyXXx8bnVsbH0sc3RvcEFsbEFjdGlvbjpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucztmb3IobGV0IGU9dGhpcy5fbkFjdGl2ZUFjdGlvbnMtMTtlPj0wOy0tZSl0W2VdLnN0b3AoKTtyZXR1cm4gdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQpe3QqPXRoaXMudGltZVNjYWxlO2NvbnN0IGU9dGhpcy5fYWN0aW9ucyxuPXRoaXMuX25BY3RpdmVBY3Rpb25zLHI9dGhpcy50aW1lKz10LGk9TWF0aC5zaWduKHQpLG89dGhpcy5fYWNjdUluZGV4Xj0xO2ZvcihsZXQgYT0wO2EhPT1uOysrYSl7ZVthXS5fdXBkYXRlKHIsdCxpLG8pfWNvbnN0IGE9dGhpcy5fYmluZGluZ3Mscz10aGlzLl9uQWN0aXZlQmluZGluZ3M7Zm9yKGxldCB0PTA7dCE9PXM7Kyt0KWFbdF0uYXBwbHkobyk7cmV0dXJuIHRoaXN9LHNldFRpbWU6ZnVuY3Rpb24odCl7dGhpcy50aW1lPTA7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3Rpb25zLmxlbmd0aDt0KyspdGhpcy5fYWN0aW9uc1t0XS50aW1lPTA7cmV0dXJuIHRoaXMudXBkYXRlKHQpfSxnZXRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3R9LHVuY2FjaGVDbGlwOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5fYWN0aW9ucyxuPXQudXVpZCxyPXRoaXMuX2FjdGlvbnNCeUNsaXAsaT1yW25dO2lmKHZvaWQgMCE9PWkpe2NvbnN0IHQ9aS5rbm93bkFjdGlvbnM7Zm9yKGxldCBuPTAscj10Lmxlbmd0aDtuIT09cjsrK24pe2NvbnN0IHI9dFtuXTt0aGlzLl9kZWFjdGl2YXRlQWN0aW9uKHIpO2NvbnN0IGk9ci5fY2FjaGVJbmRleCxvPWVbZS5sZW5ndGgtMV07ci5fY2FjaGVJbmRleD1udWxsLHIuX2J5Q2xpcENhY2hlSW5kZXg9bnVsbCxvLl9jYWNoZUluZGV4PWksZVtpXT1vLGUucG9wKCksdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbihyKX1kZWxldGUgcltuXX19LHVuY2FjaGVSb290OmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC51dWlkLG49dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IoY29uc3QgdCBpbiBuKXtjb25zdCByPW5bdF0uYWN0aW9uQnlSb290W2VdO3ZvaWQgMCE9PXImJih0aGlzLl9kZWFjdGl2YXRlQWN0aW9uKHIpLHRoaXMuX3JlbW92ZUluYWN0aXZlQWN0aW9uKHIpKX1jb25zdCByPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZVtlXTtpZih2b2lkIDAhPT1yKWZvcihjb25zdCB0IGluIHIpe2NvbnN0IGU9clt0XTtlLnJlc3RvcmVPcmlnaW5hbFN0YXRlKCksdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGUpfX0sdW5jYWNoZUFjdGlvbjpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5leGlzdGluZ0FjdGlvbih0LGUpO251bGwhPT1uJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihuKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihuKSl9fSk7Y2xhc3MgTGR7Y29uc3RydWN0b3IodCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Vbmlmb3JtOiBUeXBlIHBhcmFtZXRlciBpcyBubyBsb25nZXIgbmVlZGVkLlwiKSx0PWFyZ3VtZW50c1sxXSksdGhpcy52YWx1ZT10fWNsb25lKCl7cmV0dXJuIG5ldyBMZCh2b2lkIDA9PT10aGlzLnZhbHVlLmNsb25lP3RoaXMudmFsdWU6dGhpcy52YWx1ZS5jbG9uZSgpKX19ZnVuY3Rpb24gUmQodCxlLG4pe0dzLmNhbGwodGhpcyx0LGUpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT1ufHwxfWZ1bmN0aW9uIFBkKHQsZSxuLHIsaSl7dGhpcy5idWZmZXI9dCx0aGlzLnR5cGU9ZSx0aGlzLml0ZW1TaXplPW4sdGhpcy5lbGVtZW50U2l6ZT1yLHRoaXMuY291bnQ9aSx0aGlzLnZlcnNpb249MH1mdW5jdGlvbiBDZCh0LGUsbixyKXt0aGlzLnJheT1uZXcgU3IodCxlKSx0aGlzLm5lYXI9bnx8MCx0aGlzLmZhcj1yfHwxLzAsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLmxheWVycz1uZXcgQnIsdGhpcy5wYXJhbXM9e01lc2g6e30sTGluZTp7dGhyZXNob2xkOjF9LExPRDp7fSxQb2ludHM6e3RocmVzaG9sZDoxfSxTcHJpdGU6e319LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMucGFyYW1zLHtQb2ludENsb3VkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUmF5Y2FzdGVyOiBwYXJhbXMuUG9pbnRDbG91ZCBoYXMgYmVlbiByZW5hbWVkIHRvIHBhcmFtcy5Qb2ludHMuXCIpLHRoaXMuUG9pbnRzfX19KX1mdW5jdGlvbiBJZCh0LGUpe3JldHVybiB0LmRpc3RhbmNlLWUuZGlzdGFuY2V9ZnVuY3Rpb24gT2QodCxlLG4scil7aWYodC5sYXllcnMudGVzdChlLmxheWVycykmJnQucmF5Y2FzdChlLG4pLCEwPT09cil7Y29uc3Qgcj10LmNoaWxkcmVuO2ZvcihsZXQgdD0wLGk9ci5sZW5ndGg7dDxpO3QrKylPZChyW3RdLGUsbiwhMCl9fVJkLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3MucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UmQsaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcjohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBHcy5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5tZXNoUGVyQXR0cmlidXRlPXQubWVzaFBlckF0dHJpYnV0ZSx0aGlzfSxjbG9uZTpmdW5jdGlvbih0KXtjb25zdCBlPUdzLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsdCk7cmV0dXJuIGUubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsZX0sdG9KU09OOmZ1bmN0aW9uKHQpe2NvbnN0IGU9R3MucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7cmV0dXJuIGUuaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcj0hMCxlLm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBkLnByb3RvdHlwZSxcIm5lZWRzVXBkYXRlXCIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pLE9iamVjdC5hc3NpZ24oUGQucHJvdG90eXBlLHtpc0dMQnVmZmVyQXR0cmlidXRlOiEwLHNldEJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5idWZmZXI9dCx0aGlzfSxzZXRUeXBlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudHlwZT10LHRoaXMuZWxlbWVudFNpemU9ZSx0aGlzfSxzZXRJdGVtU2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pdGVtU2l6ZT10LHRoaXN9LHNldENvdW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvdW50PXQsdGhpc319KSxPYmplY3QuYXNzaWduKENkLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5yYXkuc2V0KHQsZSl9LHNldEZyb21DYW1lcmE6ZnVuY3Rpb24odCxlKXtlJiZlLmlzUGVyc3BlY3RpdmVDYW1lcmE/KHRoaXMucmF5Lm9yaWdpbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksdGhpcy5yYXkuZGlyZWN0aW9uLnNldCh0LngsdC55LC41KS51bnByb2plY3QoZSkuc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCksdGhpcy5jYW1lcmE9ZSk6ZSYmZS5pc09ydGhvZ3JhcGhpY0NhbWVyYT8odGhpcy5yYXkub3JpZ2luLnNldCh0LngsdC55LChlLm5lYXIrZS5mYXIpLyhlLm5lYXItZS5mYXIpKS51bnByb2plY3QoZSksdGhpcy5yYXkuZGlyZWN0aW9uLnNldCgwLDAsLTEpLnRyYW5zZm9ybURpcmVjdGlvbihlLm1hdHJpeFdvcmxkKSx0aGlzLmNhbWVyYT1lKTpjb25zb2xlLmVycm9yKFwiVEhSRUUuUmF5Y2FzdGVyOiBVbnN1cHBvcnRlZCBjYW1lcmEgdHlwZS5cIil9LGludGVyc2VjdE9iamVjdDpmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1ufHxbXTtyZXR1cm4gT2QodCx0aGlzLHIsZSksci5zb3J0KElkKSxyfSxpbnRlcnNlY3RPYmplY3RzOmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW58fFtdO2lmKCExPT09QXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHM6IG9iamVjdHMgaXMgbm90IGFuIEFycmF5LlwiKSxyO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKylPZCh0W25dLHRoaXMscixlKTtyZXR1cm4gci5zb3J0KElkKSxyfX0pO2NsYXNzIE5ke2NvbnN0cnVjdG9yKHQ9MSxlPTAsbj0wKXtyZXR1cm4gdGhpcy5yYWRpdXM9dCx0aGlzLnBoaT1lLHRoaXMudGhldGE9bix0aGlzfXNldCh0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPXQsdGhpcy5waGk9ZSx0aGlzLnRoZXRhPW4sdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe3JldHVybiB0aGlzLnJhZGl1cz10LnJhZGl1cyx0aGlzLnBoaT10LnBoaSx0aGlzLnRoZXRhPXQudGhldGEsdGhpc31tYWtlU2FmZSgpe3JldHVybiB0aGlzLnBoaT1NYXRoLm1heCgxZS02LE1hdGgubWluKE1hdGguUEktMWUtNix0aGlzLnBoaSkpLHRoaXN9c2V0RnJvbVZlY3RvcjModCl7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh0LngsdC55LHQueil9c2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydCh0KnQrZSplK24qbiksMD09PXRoaXMucmFkaXVzPyh0aGlzLnRoZXRhPTAsdGhpcy5waGk9MCk6KHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMucGhpPU1hdGguYWNvcyh6bi5jbGFtcChlL3RoaXMucmFkaXVzLC0xLDEpKSksdGhpc319Y2xhc3MgRGR7Y29uc3RydWN0b3IodCxlLG4pe3JldHVybiB0aGlzLnJhZGl1cz12b2lkIDAhPT10P3Q6MSx0aGlzLnRoZXRhPXZvaWQgMCE9PWU/ZTowLHRoaXMueT12b2lkIDAhPT1uP246MCx0aGlzfXNldCh0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPXQsdGhpcy50aGV0YT1lLHRoaXMueT1uLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy50aGV0YT10LnRoZXRhLHRoaXMueT10LnksdGhpc31zZXRGcm9tVmVjdG9yMyh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHQueCx0LnksdC56KX1zZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHQqdCtuKm4pLHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMueT1lLHRoaXN9fWNvbnN0IEJkPW5ldyBHbjtjbGFzcyBGZHtjb25zdHJ1Y3Rvcih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNCb3gyXCIse3ZhbHVlOiEwfSksdGhpcy5taW49dm9pZCAwIT09dD90Om5ldyBHbigxLzAsMS8wKSx0aGlzLm1heD12b2lkIDAhPT1lP2U6bmV3IEduKC0xLzAsLTEvMCl9c2V0KHQsZSl7cmV0dXJuIHRoaXMubWluLmNvcHkodCksdGhpcy5tYXguY29weShlKSx0aGlzfXNldEZyb21Qb2ludHModCl7dGhpcy5tYWtlRW1wdHkoKTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5leHBhbmRCeVBvaW50KHRbZV0pO3JldHVybiB0aGlzfXNldEZyb21DZW50ZXJBbmRTaXplKHQsZSl7Y29uc3Qgbj1CZC5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKC41KTtyZXR1cm4gdGhpcy5taW4uY29weSh0KS5zdWIobiksdGhpcy5tYXguY29weSh0KS5hZGQobiksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe3JldHVybiB0aGlzLm1pbi5jb3B5KHQubWluKSx0aGlzLm1heC5jb3B5KHQubWF4KSx0aGlzfW1ha2VFbXB0eSgpe3JldHVybiB0aGlzLm1pbi54PXRoaXMubWluLnk9MS8wLHRoaXMubWF4Lng9dGhpcy5tYXgueT0tMS8wLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueX1nZXRDZW50ZXIodCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBHbiksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwKTp0LmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKC41KX1nZXRTaXplKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuQm94MjogLmdldFNpemUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IEduKSx0aGlzLmlzRW1wdHkoKT90LnNldCgwLDApOnQuc3ViVmVjdG9ycyh0aGlzLm1heCx0aGlzLm1pbil9ZXhwYW5kQnlQb2ludCh0KXtyZXR1cm4gdGhpcy5taW4ubWluKHQpLHRoaXMubWF4Lm1heCh0KSx0aGlzfWV4cGFuZEJ5VmVjdG9yKHQpe3JldHVybiB0aGlzLm1pbi5zdWIodCksdGhpcy5tYXguYWRkKHQpLHRoaXN9ZXhwYW5kQnlTY2FsYXIodCl7cmV0dXJuIHRoaXMubWluLmFkZFNjYWxhcigtdCksdGhpcy5tYXguYWRkU2NhbGFyKHQpLHRoaXN9Y29udGFpbnNQb2ludCh0KXtyZXR1cm4hKHQueDx0aGlzLm1pbi54fHx0Lng+dGhpcy5tYXgueHx8dC55PHRoaXMubWluLnl8fHQueT50aGlzLm1heC55KX1jb250YWluc0JveCh0KXtyZXR1cm4gdGhpcy5taW4ueDw9dC5taW4ueCYmdC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9dC5taW4ueSYmdC5tYXgueTw9dGhpcy5tYXgueX1nZXRQYXJhbWV0ZXIodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IEduKSxlLnNldCgodC54LXRoaXMubWluLngpLyh0aGlzLm1heC54LXRoaXMubWluLngpLCh0LnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSkpfWludGVyc2VjdHNCb3godCl7cmV0dXJuISh0Lm1heC54PHRoaXMubWluLnh8fHQubWluLng+dGhpcy5tYXgueHx8dC5tYXgueTx0aGlzLm1pbi55fHx0Lm1pbi55PnRoaXMubWF4LnkpfWNsYW1wUG9pbnQodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBHbiksZS5jb3B5KHQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQodCl7cmV0dXJuIEJkLmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1Yih0KS5sZW5ndGgoKX1pbnRlcnNlY3QodCl7cmV0dXJuIHRoaXMubWluLm1heCh0Lm1pbiksdGhpcy5tYXgubWluKHQubWF4KSx0aGlzfXVuaW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odC5taW4pLHRoaXMubWF4Lm1heCh0Lm1heCksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMubWluLmFkZCh0KSx0aGlzLm1heC5hZGQodCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQubWluLmVxdWFscyh0aGlzLm1pbikmJnQubWF4LmVxdWFscyh0aGlzLm1heCl9fWNvbnN0IFVkPW5ldyBLbix6ZD1uZXcgS247Y2xhc3MgR2R7Y29uc3RydWN0b3IodCxlKXt0aGlzLnN0YXJ0PXZvaWQgMCE9PXQ/dDpuZXcgS24sdGhpcy5lbmQ9dm9pZCAwIT09ZT9lOm5ldyBLbn1zZXQodCxlKXtyZXR1cm4gdGhpcy5zdGFydC5jb3B5KHQpLHRoaXMuZW5kLmNvcHkoZSksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX1jb3B5KHQpe3JldHVybiB0aGlzLnN0YXJ0LmNvcHkodC5zdGFydCksdGhpcy5lbmQuY29weSh0LmVuZCksdGhpc31nZXRDZW50ZXIodCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5MaW5lMzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD1uZXcgS24pLHQuYWRkVmVjdG9ycyh0aGlzLnN0YXJ0LHRoaXMuZW5kKS5tdWx0aXBseVNjYWxhciguNSl9ZGVsdGEodCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5MaW5lMzogLmRlbHRhKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBLbiksdC5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpfWRpc3RhbmNlU3EoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmVuZCl9ZGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvKHRoaXMuZW5kKX1hdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuTGluZTM6IC5hdCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgS24pLHRoaXMuZGVsdGEoZSkubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMuc3RhcnQpfWNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIodCxlKXtVZC5zdWJWZWN0b3JzKHQsdGhpcy5zdGFydCksemQuc3ViVmVjdG9ycyh0aGlzLmVuZCx0aGlzLnN0YXJ0KTtjb25zdCBuPXpkLmRvdCh6ZCk7bGV0IHI9emQuZG90KFVkKS9uO3JldHVybiBlJiYocj16bi5jbGFtcChyLDAsMSkpLHJ9Y2xvc2VzdFBvaW50VG9Qb2ludCh0LGUsbil7Y29uc3Qgcj10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIodCxlKTtyZXR1cm4gdm9pZCAwPT09biYmKGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmUzOiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksbj1uZXcgS24pLHRoaXMuZGVsdGEobikubXVsdGlwbHlTY2FsYXIocikuYWRkKHRoaXMuc3RhcnQpfWFwcGx5TWF0cml4NCh0KXtyZXR1cm4gdGhpcy5zdGFydC5hcHBseU1hdHJpeDQodCksdGhpcy5lbmQuYXBwbHlNYXRyaXg0KHQpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0LnN0YXJ0LmVxdWFscyh0aGlzLnN0YXJ0KSYmdC5lbmQuZXF1YWxzKHRoaXMuZW5kKX19ZnVuY3Rpb24gSGQodCl7SnIuY2FsbCh0aGlzKSx0aGlzLm1hdGVyaWFsPXQsdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXt9LHRoaXMuaGFzUG9zaXRpb25zPSExLHRoaXMuaGFzTm9ybWFscz0hMSx0aGlzLmhhc0NvbG9ycz0hMSx0aGlzLmhhc1V2cz0hMSx0aGlzLnBvc2l0aW9uQXJyYXk9bnVsbCx0aGlzLm5vcm1hbEFycmF5PW51bGwsdGhpcy5jb2xvckFycmF5PW51bGwsdGhpcy51dkFycmF5PW51bGwsdGhpcy5jb3VudD0wfUhkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEpyLnByb3RvdHlwZSksSGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUhkLEhkLnByb3RvdHlwZS5pc0ltbWVkaWF0ZVJlbmRlck9iamVjdD0hMDtjb25zdCBrZD1uZXcgS247Y2xhc3MgVmQgZXh0ZW5kcyBKcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5saWdodD10LHRoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLm1hdHJpeD10Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmNvbG9yPWU7Y29uc3Qgbj1uZXcgcWkscj1bMCwwLDAsMCwwLDEsMCwwLDAsMSwwLDEsMCwwLDAsLTEsMCwxLDAsMCwwLDAsMSwxLDAsMCwwLDAsLTEsMV07Zm9yKGxldCB0PTAsZT0xLG49MzI7dDxuO3QrKyxlKyspe2NvbnN0IGk9dC9uKk1hdGguUEkqMixvPWUvbipNYXRoLlBJKjI7ci5wdXNoKE1hdGguY29zKGkpLE1hdGguc2luKGkpLDEsTWF0aC5jb3MobyksTWF0aC5zaW4obyksMSl9bi5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShyLDMpKTtjb25zdCBpPW5ldyB5Yyh7Zm9nOiExLHRvbmVNYXBwZWQ6ITF9KTt0aGlzLmNvbmU9bmV3IEFjKG4saSksdGhpcy5hZGQodGhpcy5jb25lKSx0aGlzLnVwZGF0ZSgpfWRpc3Bvc2UoKXt0aGlzLmNvbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMuY29uZS5tYXRlcmlhbC5kaXNwb3NlKCl9dXBkYXRlKCl7dGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO2NvbnN0IHQ9dGhpcy5saWdodC5kaXN0YW5jZT90aGlzLmxpZ2h0LmRpc3RhbmNlOjFlMyxlPXQqTWF0aC50YW4odGhpcy5saWdodC5hbmdsZSk7dGhpcy5jb25lLnNjYWxlLnNldChlLGUsdCksa2Quc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKSx0aGlzLmNvbmUubG9va0F0KGtkKSx2b2lkIDAhPT10aGlzLmNvbG9yP3RoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik6dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcil9fWNvbnN0IGpkPW5ldyBLbixXZD1uZXcgVHIsWGQ9bmV3IFRyO2NsYXNzIHFkIGV4dGVuZHMgQWN7Y29uc3RydWN0b3IodCl7Y29uc3QgZT1mdW5jdGlvbiB0KGUpe2NvbnN0IG49W107ZSYmZS5pc0JvbmUmJm4ucHVzaChlKTtmb3IobGV0IHI9MDtyPGUuY2hpbGRyZW4ubGVuZ3RoO3IrKyluLnB1c2guYXBwbHkobix0KGUuY2hpbGRyZW5bcl0pKTtyZXR1cm4gbn0odCksbj1uZXcgcWkscj1bXSxpPVtdLG89bmV3IHlpKDAsMCwxKSxhPW5ldyB5aSgwLDEsMCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XTtuLnBhcmVudCYmbi5wYXJlbnQuaXNCb25lJiYoci5wdXNoKDAsMCwwKSxyLnB1c2goMCwwLDApLGkucHVzaChvLnIsby5nLG8uYiksaS5wdXNoKGEucixhLmcsYS5iKSl9bi5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShyLDMpKSxuLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IE5pKGksMykpO3N1cGVyKG4sbmV3IHljKHt2ZXJ0ZXhDb2xvcnM6ITAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsdG9uZU1hcHBlZDohMSx0cmFuc3BhcmVudDohMH0pKSx0aGlzLnR5cGU9XCJTa2VsZXRvbkhlbHBlclwiLHRoaXMuaXNTa2VsZXRvbkhlbHBlcj0hMCx0aGlzLnJvb3Q9dCx0aGlzLmJvbmVzPWUsdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITF9dXBkYXRlTWF0cml4V29ybGQodCl7Y29uc3QgZT10aGlzLmJvbmVzLG49dGhpcy5nZW9tZXRyeSxyPW4uZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7WGQuY29weSh0aGlzLnJvb3QubWF0cml4V29ybGQpLmludmVydCgpO2ZvcihsZXQgdD0wLG49MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdO2kucGFyZW50JiZpLnBhcmVudC5pc0JvbmUmJihXZC5tdWx0aXBseU1hdHJpY2VzKFhkLGkubWF0cml4V29ybGQpLGpkLnNldEZyb21NYXRyaXhQb3NpdGlvbihXZCksci5zZXRYWVoobixqZC54LGpkLnksamQueiksV2QubXVsdGlwbHlNYXRyaWNlcyhYZCxpLnBhcmVudC5tYXRyaXhXb3JsZCksamQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKFdkKSxyLnNldFhZWihuKzEsamQueCxqZC55LGpkLnopLG4rPTIpfW4uZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIikubmVlZHNVcGRhdGU9ITAsc3VwZXIudXBkYXRlTWF0cml4V29ybGQodCl9fWNsYXNzIFlkIGV4dGVuZHMgaG97Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG5ldyBLbChlLDQsMiksbmV3IF9pKHt3aXJlZnJhbWU6ITAsZm9nOiExLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy5saWdodD10LHRoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLmNvbG9yPW4sdGhpcy50eXBlPVwiUG9pbnRMaWdodEhlbHBlclwiLHRoaXMubWF0cml4PXRoaXMubGlnaHQubWF0cml4V29ybGQsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMudXBkYXRlKCl9ZGlzcG9zZSgpe3RoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMubWF0ZXJpYWwuZGlzcG9zZSgpfXVwZGF0ZSgpe3ZvaWQgMCE9PXRoaXMuY29sb3I/dGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik6dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpfX1jb25zdCBaZD1uZXcgS24sSmQ9bmV3IHlpLEtkPW5ldyB5aTtjbGFzcyBRZCBleHRlbmRzIEpye2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMubGlnaHQ9dCx0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCksdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jb2xvcj1uO2NvbnN0IHI9bmV3IEhsKGUpO3Iucm90YXRlWSguNSpNYXRoLlBJKSx0aGlzLm1hdGVyaWFsPW5ldyBfaSh7d2lyZWZyYW1lOiEwLGZvZzohMSx0b25lTWFwcGVkOiExfSksdm9pZCAwPT09dGhpcy5jb2xvciYmKHRoaXMubWF0ZXJpYWwudmVydGV4Q29sb3JzPSEwKTtjb25zdCBpPXIuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIiksbz1uZXcgRmxvYXQzMkFycmF5KDMqaS5jb3VudCk7ci5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLG5ldyBUaShvLDMpKSx0aGlzLmFkZChuZXcgaG8ocix0aGlzLm1hdGVyaWFsKSksdGhpcy51cGRhdGUoKX1kaXNwb3NlKCl7dGhpcy5jaGlsZHJlblswXS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5jaGlsZHJlblswXS5tYXRlcmlhbC5kaXNwb3NlKCl9dXBkYXRlKCl7Y29uc3QgdD10aGlzLmNoaWxkcmVuWzBdO2lmKHZvaWQgMCE9PXRoaXMuY29sb3IpdGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7ZWxzZXtjb25zdCBlPXQuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwiY29sb3JcIik7SmQuY29weSh0aGlzLmxpZ2h0LmNvbG9yKSxLZC5jb3B5KHRoaXMubGlnaHQuZ3JvdW5kQ29sb3IpO2ZvcihsZXQgdD0wLG49ZS5jb3VudDt0PG47dCsrKXtjb25zdCByPXQ8bi8yP0pkOktkO2Uuc2V0WFlaKHQsci5yLHIuZyxyLmIpfWUubmVlZHNVcGRhdGU9ITB9dC5sb29rQXQoWmQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQubWF0cml4V29ybGQpLm5lZ2F0ZSgpKX19Y2xhc3MgJGQgZXh0ZW5kcyBBY3tjb25zdHJ1Y3Rvcih0PTEwLGU9MTAsbj00NDczOTI0LHI9ODk0Nzg0OCl7bj1uZXcgeWkobikscj1uZXcgeWkocik7Y29uc3QgaT1lLzIsbz10L2UsYT10LzIscz1bXSxjPVtdO2ZvcihsZXQgdD0wLGw9MCx1PS1hO3Q8PWU7dCsrLHUrPW8pe3MucHVzaCgtYSwwLHUsYSwwLHUpLHMucHVzaCh1LDAsLWEsdSwwLGEpO2NvbnN0IGU9dD09PWk/bjpyO2UudG9BcnJheShjLGwpLGwrPTMsZS50b0FycmF5KGMsbCksbCs9MyxlLnRvQXJyYXkoYyxsKSxsKz0zLGUudG9BcnJheShjLGwpLGwrPTN9Y29uc3QgbD1uZXcgcWk7bC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShzLDMpKSxsLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IE5pKGMsMykpO3N1cGVyKGwsbmV3IHljKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pKSx0aGlzLnR5cGU9XCJHcmlkSGVscGVyXCJ9fWNsYXNzIHRwIGV4dGVuZHMgQWN7Y29uc3RydWN0b3IodD0xMCxlPTE2LG49OCxyPTY0LGk9NDQ3MzkyNCxvPTg5NDc4NDgpe2k9bmV3IHlpKGkpLG89bmV3IHlpKG8pO2NvbnN0IGE9W10scz1bXTtmb3IobGV0IG49MDtuPD1lO24rKyl7Y29uc3Qgcj1uL2UqKDIqTWF0aC5QSSksYz1NYXRoLnNpbihyKSp0LGw9TWF0aC5jb3MocikqdDthLnB1c2goMCwwLDApLGEucHVzaChjLDAsbCk7Y29uc3QgdT0xJm4/aTpvO3MucHVzaCh1LnIsdS5nLHUuYikscy5wdXNoKHUucix1LmcsdS5iKX1mb3IobGV0IGU9MDtlPD1uO2UrKyl7Y29uc3QgYz0xJmU/aTpvLGw9dC10L24qZTtmb3IobGV0IHQ9MDt0PHI7dCsrKXtsZXQgZT10L3IqKDIqTWF0aC5QSSksbj1NYXRoLnNpbihlKSpsLGk9TWF0aC5jb3MoZSkqbDthLnB1c2gobiwwLGkpLHMucHVzaChjLnIsYy5nLGMuYiksZT0odCsxKS9yKigyKk1hdGguUEkpLG49TWF0aC5zaW4oZSkqbCxpPU1hdGguY29zKGUpKmwsYS5wdXNoKG4sMCxpKSxzLnB1c2goYy5yLGMuZyxjLmIpfX1jb25zdCBjPW5ldyBxaTtjLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGEsMykpLGMuc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgTmkocywzKSk7c3VwZXIoYyxuZXcgeWMoe3ZlcnRleENvbG9yczohMCx0b25lTWFwcGVkOiExfSkpLHRoaXMudHlwZT1cIlBvbGFyR3JpZEhlbHBlclwifX1jb25zdCBlcD1uZXcgS24sbnA9bmV3IEtuLHJwPW5ldyBLbjtjbGFzcyBpcCBleHRlbmRzIEpye2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMubGlnaHQ9dCx0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCksdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jb2xvcj1uLHZvaWQgMD09PWUmJihlPTEpO2xldCByPW5ldyBxaTtyLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKFstZSxlLDAsZSxlLDAsZSwtZSwwLC1lLC1lLDAsLWUsZSwwXSwzKSk7Y29uc3QgaT1uZXcgeWMoe2ZvZzohMSx0b25lTWFwcGVkOiExfSk7dGhpcy5saWdodFBsYW5lPW5ldyBTYyhyLGkpLHRoaXMuYWRkKHRoaXMubGlnaHRQbGFuZSkscj1uZXcgcWksci5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShbMCwwLDAsMCwwLDFdLDMpKSx0aGlzLnRhcmdldExpbmU9bmV3IFNjKHIsaSksdGhpcy5hZGQodGhpcy50YXJnZXRMaW5lKSx0aGlzLnVwZGF0ZSgpfWRpc3Bvc2UoKXt0aGlzLmxpZ2h0UGxhbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5kaXNwb3NlKCksdGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuZGlzcG9zZSgpfXVwZGF0ZSgpe2VwLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKSxucC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC50YXJnZXQubWF0cml4V29ybGQpLHJwLnN1YlZlY3RvcnMobnAsZXApLHRoaXMubGlnaHRQbGFuZS5sb29rQXQobnApLHZvaWQgMCE9PXRoaXMuY29sb3I/KHRoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvciksdGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKSk6KHRoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpLHRoaXMudGFyZ2V0TGluZS5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpKSx0aGlzLnRhcmdldExpbmUubG9va0F0KG5wKSx0aGlzLnRhcmdldExpbmUuc2NhbGUuej1ycC5sZW5ndGgoKX19Y29uc3Qgb3A9bmV3IEtuLGFwPW5ldyBibztjbGFzcyBzcCBleHRlbmRzIEFje2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9bmV3IHFpLG49bmV3IHljKHtjb2xvcjoxNjc3NzIxNSx2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pLHI9W10saT1bXSxvPXt9LGE9bmV3IHlpKDE2NzU1MjAwKSxzPW5ldyB5aSgxNjcxMTY4MCksYz1uZXcgeWkoNDM3NzUpLGw9bmV3IHlpKDE2Nzc3MjE1KSx1PW5ldyB5aSgzMzU1NDQzKTtmdW5jdGlvbiBoKHQsZSxuKXtkKHQsbiksZChlLG4pfWZ1bmN0aW9uIGQodCxlKXtyLnB1c2goMCwwLDApLGkucHVzaChlLnIsZS5nLGUuYiksdm9pZCAwPT09b1t0XSYmKG9bdF09W10pLG9bdF0ucHVzaChyLmxlbmd0aC8zLTEpfWgoXCJuMVwiLFwibjJcIixhKSxoKFwibjJcIixcIm40XCIsYSksaChcIm40XCIsXCJuM1wiLGEpLGgoXCJuM1wiLFwibjFcIixhKSxoKFwiZjFcIixcImYyXCIsYSksaChcImYyXCIsXCJmNFwiLGEpLGgoXCJmNFwiLFwiZjNcIixhKSxoKFwiZjNcIixcImYxXCIsYSksaChcIm4xXCIsXCJmMVwiLGEpLGgoXCJuMlwiLFwiZjJcIixhKSxoKFwibjNcIixcImYzXCIsYSksaChcIm40XCIsXCJmNFwiLGEpLGgoXCJwXCIsXCJuMVwiLHMpLGgoXCJwXCIsXCJuMlwiLHMpLGgoXCJwXCIsXCJuM1wiLHMpLGgoXCJwXCIsXCJuNFwiLHMpLGgoXCJ1MVwiLFwidTJcIixjKSxoKFwidTJcIixcInUzXCIsYyksaChcInUzXCIsXCJ1MVwiLGMpLGgoXCJjXCIsXCJ0XCIsbCksaChcInBcIixcImNcIix1KSxoKFwiY24xXCIsXCJjbjJcIix1KSxoKFwiY24zXCIsXCJjbjRcIix1KSxoKFwiY2YxXCIsXCJjZjJcIix1KSxoKFwiY2YzXCIsXCJjZjRcIix1KSxlLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKHIsMykpLGUuc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgTmkoaSwzKSksc3VwZXIoZSxuKSx0aGlzLnR5cGU9XCJDYW1lcmFIZWxwZXJcIix0aGlzLmNhbWVyYT10LHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgmJnRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSx0aGlzLm1hdHJpeD10Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnBvaW50TWFwPW8sdGhpcy51cGRhdGUoKX11cGRhdGUoKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnksZT10aGlzLnBvaW50TWFwO2FwLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5jYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLGNwKFwiY1wiLGUsdCxhcCwwLDAsLTEpLGNwKFwidFwiLGUsdCxhcCwwLDAsMSksY3AoXCJuMVwiLGUsdCxhcCwtMSwtMSwtMSksY3AoXCJuMlwiLGUsdCxhcCwxLC0xLC0xKSxjcChcIm4zXCIsZSx0LGFwLC0xLDEsLTEpLGNwKFwibjRcIixlLHQsYXAsMSwxLC0xKSxjcChcImYxXCIsZSx0LGFwLC0xLC0xLDEpLGNwKFwiZjJcIixlLHQsYXAsMSwtMSwxKSxjcChcImYzXCIsZSx0LGFwLC0xLDEsMSksY3AoXCJmNFwiLGUsdCxhcCwxLDEsMSksY3AoXCJ1MVwiLGUsdCxhcCwuNywxLjEsLTEpLGNwKFwidTJcIixlLHQsYXAsLS43LDEuMSwtMSksY3AoXCJ1M1wiLGUsdCxhcCwwLDIsLTEpLGNwKFwiY2YxXCIsZSx0LGFwLC0xLDAsMSksY3AoXCJjZjJcIixlLHQsYXAsMSwwLDEpLGNwKFwiY2YzXCIsZSx0LGFwLDAsLTEsMSksY3AoXCJjZjRcIixlLHQsYXAsMCwxLDEpLGNwKFwiY24xXCIsZSx0LGFwLC0xLDAsLTEpLGNwKFwiY24yXCIsZSx0LGFwLDEsMCwtMSksY3AoXCJjbjNcIixlLHQsYXAsMCwtMSwtMSksY3AoXCJjbjRcIixlLHQsYXAsMCwxLC0xKSx0LmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpLm5lZWRzVXBkYXRlPSEwfX1mdW5jdGlvbiBjcCh0LGUsbixyLGksbyxhKXtvcC5zZXQoaSxvLGEpLnVucHJvamVjdChyKTtjb25zdCBzPWVbdF07aWYodm9pZCAwIT09cyl7Y29uc3QgdD1uLmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO2ZvcihsZXQgZT0wLG49cy5sZW5ndGg7ZTxuO2UrKyl0LnNldFhZWihzW2VdLG9wLngsb3AueSxvcC56KX19Y29uc3QgbHA9bmV3IHRyO2NsYXNzIHVwIGV4dGVuZHMgQWN7Y29uc3RydWN0b3IodCxlPTE2Nzc2OTYwKXtjb25zdCBuPW5ldyBVaW50MTZBcnJheShbMCwxLDEsMiwyLDMsMywwLDQsNSw1LDYsNiw3LDcsNCwwLDQsMSw1LDIsNiwzLDddKSxyPW5ldyBGbG9hdDMyQXJyYXkoMjQpLGk9bmV3IHFpO2kuc2V0SW5kZXgobmV3IFRpKG4sMSkpLGkuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgVGkociwzKSksc3VwZXIoaSxuZXcgeWMoe2NvbG9yOmUsdG9uZU1hcHBlZDohMX0pKSx0aGlzLm9iamVjdD10LHRoaXMudHlwZT1cIkJveEhlbHBlclwiLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnVwZGF0ZSgpfXVwZGF0ZSh0KXtpZih2b2lkIDAhPT10JiZjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3hIZWxwZXI6IC51cGRhdGUoKSBoYXMgbm8gbG9uZ2VyIGFyZ3VtZW50cy5cIiksdm9pZCAwIT09dGhpcy5vYmplY3QmJmxwLnNldEZyb21PYmplY3QodGhpcy5vYmplY3QpLGxwLmlzRW1wdHkoKSlyZXR1cm47Y29uc3QgZT1scC5taW4sbj1scC5tYXgscj10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24saT1yLmFycmF5O2lbMF09bi54LGlbMV09bi55LGlbMl09bi56LGlbM109ZS54LGlbNF09bi55LGlbNV09bi56LGlbNl09ZS54LGlbN109ZS55LGlbOF09bi56LGlbOV09bi54LGlbMTBdPWUueSxpWzExXT1uLnosaVsxMl09bi54LGlbMTNdPW4ueSxpWzE0XT1lLnosaVsxNV09ZS54LGlbMTZdPW4ueSxpWzE3XT1lLnosaVsxOF09ZS54LGlbMTldPWUueSxpWzIwXT1lLnosaVsyMV09bi54LGlbMjJdPWUueSxpWzIzXT1lLnosci5uZWVkc1VwZGF0ZT0hMCx0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpfXNldEZyb21PYmplY3QodCl7cmV0dXJuIHRoaXMub2JqZWN0PXQsdGhpcy51cGRhdGUoKSx0aGlzfWNvcHkodCl7cmV0dXJuIEFjLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLm9iamVjdD10Lm9iamVjdCx0aGlzfX1jbGFzcyBocCBleHRlbmRzIEFje2NvbnN0cnVjdG9yKHQsZT0xNjc3Njk2MCl7Y29uc3Qgbj1uZXcgVWludDE2QXJyYXkoWzAsMSwxLDIsMiwzLDMsMCw0LDUsNSw2LDYsNyw3LDQsMCw0LDEsNSwyLDYsMyw3XSkscj1uZXcgcWk7ci5zZXRJbmRleChuZXcgVGkobiwxKSksci5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShbMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTFdLDMpKSxzdXBlcihyLG5ldyB5Yyh7Y29sb3I6ZSx0b25lTWFwcGVkOiExfSkpLHRoaXMuYm94PXQsdGhpcy50eXBlPVwiQm94M0hlbHBlclwiLHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl9dXBkYXRlTWF0cml4V29ybGQodCl7Y29uc3QgZT10aGlzLmJveDtlLmlzRW1wdHkoKXx8KGUuZ2V0Q2VudGVyKHRoaXMucG9zaXRpb24pLGUuZ2V0U2l6ZSh0aGlzLnNjYWxlKSx0aGlzLnNjYWxlLm11bHRpcGx5U2NhbGFyKC41KSxzdXBlci51cGRhdGVNYXRyaXhXb3JsZCh0KSl9fWNsYXNzIGRwIGV4dGVuZHMgU2N7Y29uc3RydWN0b3IodCxlPTEsbj0xNjc3Njk2MCl7Y29uc3Qgcj1uLGk9bmV3IHFpO2kuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgTmkoWzEsLTEsMSwtMSwxLDEsLTEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsMCwwLDEsMCwwLDBdLDMpKSxpLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHN1cGVyKGksbmV3IHljKHtjb2xvcjpyLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy50eXBlPVwiUGxhbmVIZWxwZXJcIix0aGlzLnBsYW5lPXQsdGhpcy5zaXplPWU7Y29uc3Qgbz1uZXcgcWk7by5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShbMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwxLDEsLTEsLTEsMSwxLC0xLDFdLDMpKSxvLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHRoaXMuYWRkKG5ldyBobyhvLG5ldyBfaSh7Y29sb3I6cixvcGFjaXR5Oi4yLHRyYW5zcGFyZW50OiEwLGRlcHRoV3JpdGU6ITEsdG9uZU1hcHBlZDohMX0pKSl9dXBkYXRlTWF0cml4V29ybGQodCl7bGV0IGU9LXRoaXMucGxhbmUuY29uc3RhbnQ7TWF0aC5hYnMoZSk8MWUtOCYmKGU9MWUtOCksdGhpcy5zY2FsZS5zZXQoLjUqdGhpcy5zaXplLC41KnRoaXMuc2l6ZSxlKSx0aGlzLmNoaWxkcmVuWzBdLm1hdGVyaWFsLnNpZGU9ZTwwP206Zix0aGlzLmxvb2tBdCh0aGlzLnBsYW5lLm5vcm1hbCksc3VwZXIudXBkYXRlTWF0cml4V29ybGQodCl9fWNvbnN0IHBwPW5ldyBLbjtsZXQgZnAsbXA7Y2xhc3MgZ3AgZXh0ZW5kcyBKcntjb25zdHJ1Y3Rvcih0LGUsbixyLGksbyl7c3VwZXIoKSx0aGlzLnR5cGU9XCJBcnJvd0hlbHBlclwiLHZvaWQgMD09PXQmJih0PW5ldyBLbigwLDAsMSkpLHZvaWQgMD09PWUmJihlPW5ldyBLbigwLDAsMCkpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPTE2Nzc2OTYwKSx2b2lkIDA9PT1pJiYoaT0uMipuKSx2b2lkIDA9PT1vJiYobz0uMippKSx2b2lkIDA9PT1mcCYmKGZwPW5ldyBxaSxmcC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBOaShbMCwwLDAsMCwxLDBdLDMpKSxtcD1uZXcgWWMoMCwuNSwxLDUsMSksbXAudHJhbnNsYXRlKDAsLS41LDApKSx0aGlzLnBvc2l0aW9uLmNvcHkoZSksdGhpcy5saW5lPW5ldyBTYyhmcCxuZXcgeWMoe2NvbG9yOnIsdG9uZU1hcHBlZDohMX0pKSx0aGlzLmxpbmUubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmFkZCh0aGlzLmxpbmUpLHRoaXMuY29uZT1uZXcgaG8obXAsbmV3IF9pKHtjb2xvcjpyLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy5jb25lLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5hZGQodGhpcy5jb25lKSx0aGlzLnNldERpcmVjdGlvbih0KSx0aGlzLnNldExlbmd0aChuLGksbyl9c2V0RGlyZWN0aW9uKHQpe2lmKHQueT4uOTk5OTkpdGhpcy5xdWF0ZXJuaW9uLnNldCgwLDAsMCwxKTtlbHNlIGlmKHQueTwtLjk5OTk5KXRoaXMucXVhdGVybmlvbi5zZXQoMSwwLDAsMCk7ZWxzZXtwcC5zZXQodC56LDAsLXQueCkubm9ybWFsaXplKCk7Y29uc3QgZT1NYXRoLmFjb3ModC55KTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShwcCxlKX19c2V0TGVuZ3RoKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0uMip0KSx2b2lkIDA9PT1uJiYobj0uMiplKSx0aGlzLmxpbmUuc2NhbGUuc2V0KDEsTWF0aC5tYXgoMWUtNCx0LWUpLDEpLHRoaXMubGluZS51cGRhdGVNYXRyaXgoKSx0aGlzLmNvbmUuc2NhbGUuc2V0KG4sZSxuKSx0aGlzLmNvbmUucG9zaXRpb24ueT10LHRoaXMuY29uZS51cGRhdGVNYXRyaXgoKX1zZXRDb2xvcih0KXt0aGlzLmxpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHQpLHRoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQodCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0LCExKSx0aGlzLmxpbmUuY29weSh0LmxpbmUpLHRoaXMuY29uZS5jb3B5KHQuY29uZSksdGhpc319Y2xhc3MgdnAgZXh0ZW5kcyBBY3tjb25zdHJ1Y3Rvcih0PTEpe2NvbnN0IGU9WzAsMCwwLHQsMCwwLDAsMCwwLDAsdCwwLDAsMCwwLDAsMCx0XSxuPW5ldyBxaTtuLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IE5pKGUsMykpLG4uc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgTmkoWzEsMCwwLDEsLjYsMCwwLDEsMCwuNiwxLDAsMCwwLDEsMCwuNiwxXSwzKSk7c3VwZXIobixuZXcgeWMoe3ZlcnRleENvbG9yczohMCx0b25lTWFwcGVkOiExfSkpLHRoaXMudHlwZT1cIkF4ZXNIZWxwZXJcIn19Y29uc3QgeXA9bmV3IEZsb2F0MzJBcnJheSgxKSx4cD1uZXcgSW50MzJBcnJheSh5cC5idWZmZXIpLGJwPXt0b0hhbGZGbG9hdDpmdW5jdGlvbih0KXt5cFswXT10O2NvbnN0IGU9eHBbMF07bGV0IG49ZT4+MTYmMzI3Njgscj1lPj4xMiYyMDQ3O2NvbnN0IGk9ZT4+MjMmMjU1O3JldHVybiBpPDEwMz9uOmk+MTQyPyhufD0zMTc0NCxufD0oMjU1PT1pPzA6MSkmJjgzODg2MDcmZSxuKTppPDExMz8ocnw9MjA0OCxufD0ocj4+MTE0LWkpKyhyPj4xMTMtaSYxKSxuKToobnw9aS0xMTI8PDEwfHI+PjEsbis9MSZyLG4pfX0sd3A9TWF0aC5wb3coMiw4KSxfcD1bLjEyNSwuMjE1LC4zNSwuNDQ2LC41MjYsLjU4Ml0sTXA9NStfcC5sZW5ndGgsU3A9e1tKZV06MCxbS2VdOjEsWyRlXToyLFtlbl06Myxbbm5dOjQsW3JuXTo1LFtRZV06Nn0sVHA9bmV3IFRoLHtfbG9kUGxhbmVzOkVwLF9zaXplTG9kczpBcCxfc2lnbWFzOkxwfT1EcCgpO2xldCBScD1udWxsO2NvbnN0IFBwPSgxK01hdGguc3FydCg1KSkvMixDcD0xL1BwLElwPVtuZXcgS24oMSwxLDEpLG5ldyBLbigtMSwxLDEpLG5ldyBLbigxLDEsLTEpLG5ldyBLbigtMSwxLC0xKSxuZXcgS24oMCxQcCxDcCksbmV3IEtuKDAsUHAsLUNwKSxuZXcgS24oQ3AsMCxQcCksbmV3IEtuKC1DcCwwLFBwKSxuZXcgS24oUHAsQ3AsMCksbmV3IEtuKC1QcCxDcCwwKV07Y2xhc3MgT3B7Y29uc3RydWN0b3IodCl7dGhpcy5fcmVuZGVyZXI9dCx0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldD1udWxsLHRoaXMuX2JsdXJNYXRlcmlhbD1mdW5jdGlvbih0KXtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkodCksbj1uZXcgS24oMCwxLDApO3JldHVybiBuZXcgZHUoe25hbWU6XCJTcGhlcmljYWxHYXVzc2lhbkJsdXJcIixkZWZpbmVzOntuOnR9LHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9LHNhbXBsZXM6e3ZhbHVlOjF9LHdlaWdodHM6e3ZhbHVlOmV9LGxhdGl0dWRpbmFsOnt2YWx1ZTohMX0sZFRoZXRhOnt2YWx1ZTowfSxtaXBJbnQ6e3ZhbHVlOjB9LHBvbGVBeGlzOnt2YWx1ZTpufSxpbnB1dEVuY29kaW5nOnt2YWx1ZTpTcFtKZV19LG91dHB1dEVuY29kaW5nOnt2YWx1ZTpTcFtKZV19fSx2ZXJ0ZXhTaGFkZXI6R3AoKSxmcmFnbWVudFNoYWRlcjpgXFxuXFxuXFx0XFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFx0XFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xcblxcblxcdFxcdFxcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xcblxcblxcdFxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcXG5cXHRcXHRcXHR1bmlmb3JtIGludCBzYW1wbGVzO1xcblxcdFxcdFxcdHVuaWZvcm0gZmxvYXQgd2VpZ2h0c1sgbiBdO1xcblxcdFxcdFxcdHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcXG5cXHRcXHRcXHR1bmlmb3JtIGZsb2F0IGRUaGV0YTtcXG5cXHRcXHRcXHR1bmlmb3JtIGZsb2F0IG1pcEludDtcXG5cXHRcXHRcXHR1bmlmb3JtIHZlYzMgcG9sZUF4aXM7XFxuXFxuXFx0XFx0XFx0JHtIcCgpfVxcblxcblxcdFxcdFxcdCNkZWZpbmUgRU5WTUFQX1RZUEVfQ1VCRV9VVlxcblxcdFxcdFxcdCNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxuXFxuXFx0XFx0XFx0dmVjMyBnZXRTYW1wbGUoIGZsb2F0IHRoZXRhLCB2ZWMzIGF4aXMgKSB7XFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgY29zVGhldGEgPSBjb3MoIHRoZXRhICk7XFxuXFx0XFx0XFx0XFx0Ly8gUm9kcmlndWVzJyBheGlzLWFuZ2xlIHJvdGF0aW9uXFxuXFx0XFx0XFx0XFx0dmVjMyBzYW1wbGVEaXJlY3Rpb24gPSB2T3V0cHV0RGlyZWN0aW9uICogY29zVGhldGFcXG5cXHRcXHRcXHRcXHRcXHQrIGNyb3NzKCBheGlzLCB2T3V0cHV0RGlyZWN0aW9uICkgKiBzaW4oIHRoZXRhIClcXG5cXHRcXHRcXHRcXHRcXHQrIGF4aXMgKiBkb3QoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqICggMS4wIC0gY29zVGhldGEgKTtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyZWN0aW9uLCBtaXBJbnQgKTtcXG5cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0dm9pZCBtYWluKCkge1xcblxcblxcdFxcdFxcdFxcdHZlYzMgYXhpcyA9IGxhdGl0dWRpbmFsID8gcG9sZUF4aXMgOiBjcm9zcyggcG9sZUF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKTtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoIGFsbCggZXF1YWwoIGF4aXMsIHZlYzMoIDAuMCApICkgKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRheGlzID0gdmVjMyggdk91dHB1dERpcmVjdGlvbi56LCAwLjAsIC0gdk91dHB1dERpcmVjdGlvbi54ICk7XFxuXFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGF4aXMgPSBub3JtYWxpemUoIGF4aXMgKTtcXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIDAgXSAqIGdldFNhbXBsZSggMC4wLCBheGlzICk7XFxuXFxuXFx0XFx0XFx0XFx0Zm9yICggaW50IGkgPSAxOyBpIDwgbjsgaSsrICkge1xcblxcblxcdFxcdFxcdFxcdFxcdGlmICggaSA+PSBzYW1wbGVzICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdGJyZWFrO1xcblxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCB0aGV0YSA9IGRUaGV0YSAqIGZsb2F0KCBpICk7XFxuXFx0XFx0XFx0XFx0XFx0Z2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIC0xLjAgKiB0aGV0YSwgYXhpcyApO1xcblxcdFxcdFxcdFxcdFxcdGdsX0ZyYWdDb2xvci5yZ2IgKz0gd2VpZ2h0c1sgaSBdICogZ2V0U2FtcGxlKCB0aGV0YSwgYXhpcyApO1xcblxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTtcXG5cXG5cXHRcXHRcXHR9XFxuXFx0XFx0YCxibGVuZGluZzp4LGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9KDIwKSx0aGlzLl9lcXVpcmVjdFNoYWRlcj1udWxsLHRoaXMuX2N1YmVtYXBTaGFkZXI9bnVsbCx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fYmx1ck1hdGVyaWFsKX1mcm9tU2NlbmUodCxlPTAsbj0uMSxyPTEwMCl7UnA9dGhpcy5fcmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7Y29uc3QgaT10aGlzLl9hbGxvY2F0ZVRhcmdldHMoKTtyZXR1cm4gdGhpcy5fc2NlbmVUb0N1YmVVVih0LG4scixpKSxlPjAmJnRoaXMuX2JsdXIoaSwwLDAsZSksdGhpcy5fYXBwbHlQTVJFTShpKSx0aGlzLl9jbGVhbnVwKGkpLGl9ZnJvbUVxdWlyZWN0YW5ndWxhcih0KXtyZXR1cm4gdGhpcy5fZnJvbVRleHR1cmUodCl9ZnJvbUN1YmVtYXAodCl7cmV0dXJuIHRoaXMuX2Zyb21UZXh0dXJlKHQpfWNvbXBpbGVDdWJlbWFwU2hhZGVyKCl7bnVsbD09PXRoaXMuX2N1YmVtYXBTaGFkZXImJih0aGlzLl9jdWJlbWFwU2hhZGVyPXpwKCksdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2N1YmVtYXBTaGFkZXIpKX1jb21waWxlRXF1aXJlY3Rhbmd1bGFyU2hhZGVyKCl7bnVsbD09PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiYodGhpcy5fZXF1aXJlY3RTaGFkZXI9VXAoKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fZXF1aXJlY3RTaGFkZXIpKX1kaXNwb3NlKCl7dGhpcy5fYmx1ck1hdGVyaWFsLmRpc3Bvc2UoKSxudWxsIT09dGhpcy5fY3ViZW1hcFNoYWRlciYmdGhpcy5fY3ViZW1hcFNoYWRlci5kaXNwb3NlKCksbnVsbCE9PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiZ0aGlzLl9lcXVpcmVjdFNoYWRlci5kaXNwb3NlKCk7Zm9yKGxldCB0PTA7dDxFcC5sZW5ndGg7dCsrKUVwW3RdLmRpc3Bvc2UoKX1fY2xlYW51cCh0KXt0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldC5kaXNwb3NlKCksdGhpcy5fcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KFJwKSx0LnNjaXNzb3JUZXN0PSExLEZwKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpfV9mcm9tVGV4dHVyZSh0KXtScD10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtjb25zdCBlPXRoaXMuX2FsbG9jYXRlVGFyZ2V0cyh0KTtyZXR1cm4gdGhpcy5fdGV4dHVyZVRvQ3ViZVVWKHQsZSksdGhpcy5fYXBwbHlQTVJFTShlKSx0aGlzLl9jbGVhbnVwKGUpLGV9X2FsbG9jYXRlVGFyZ2V0cyh0KXtjb25zdCBlPXttYWdGaWx0ZXI6ZnQsbWluRmlsdGVyOmZ0LGdlbmVyYXRlTWlwbWFwczohMSx0eXBlOlN0LGZvcm1hdDpIdCxlbmNvZGluZzpOcCh0KT90LmVuY29kaW5nOiRlLGRlcHRoQnVmZmVyOiExfSxuPUJwKGUpO3JldHVybiBuLmRlcHRoQnVmZmVyPSF0LHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0PUJwKGUpLG59X2NvbXBpbGVNYXRlcmlhbCh0KXtjb25zdCBlPW5ldyBobyhFcFswXSx0KTt0aGlzLl9yZW5kZXJlci5jb21waWxlKGUsVHApfV9zY2VuZVRvQ3ViZVVWKHQsZSxuLHIpe2NvbnN0IGk9bmV3IHdvKDkwLDEsZSxuKSxvPVsxLC0xLDEsMSwxLDFdLGE9WzEsMSwxLC0xLC0xLC0xXSxzPXRoaXMuX3JlbmRlcmVyLGM9cy5vdXRwdXRFbmNvZGluZyxsPXMudG9uZU1hcHBpbmcsdT1zLmdldENsZWFyQ29sb3IoKSxoPXMuZ2V0Q2xlYXJBbHBoYSgpO3MudG9uZU1hcHBpbmc9USxzLm91dHB1dEVuY29kaW5nPUplO2xldCBkPXQuYmFja2dyb3VuZDtpZihkJiZkLmlzQ29sb3Ipe2QuY29udmVydFNSR0JUb0xpbmVhcigpO2NvbnN0IGU9TWF0aC5tYXgoZC5yLGQuZyxkLmIpLG49TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5jZWlsKE1hdGgubG9nMihlKSksLTEyOCksMTI3KTtkPWQubXVsdGlwbHlTY2FsYXIoTWF0aC5wb3coMiwtbikpO2NvbnN0IHI9KG4rMTI4KS8yNTU7cy5zZXRDbGVhckNvbG9yKGQsciksdC5iYWNrZ3JvdW5kPW51bGx9Zm9yKGxldCBlPTA7ZTw2O2UrKyl7Y29uc3Qgbj1lJTM7MD09bj8oaS51cC5zZXQoMCxvW2VdLDApLGkubG9va0F0KGFbZV0sMCwwKSk6MT09bj8oaS51cC5zZXQoMCwwLG9bZV0pLGkubG9va0F0KDAsYVtlXSwwKSk6KGkudXAuc2V0KDAsb1tlXSwwKSxpLmxvb2tBdCgwLDAsYVtlXSkpLEZwKHIsbip3cCxlPjI/d3A6MCx3cCx3cCkscy5zZXRSZW5kZXJUYXJnZXQocikscy5yZW5kZXIodCxpKX1zLnRvbmVNYXBwaW5nPWwscy5vdXRwdXRFbmNvZGluZz1jLHMuc2V0Q2xlYXJDb2xvcih1LGgpfV90ZXh0dXJlVG9DdWJlVVYodCxlKXtjb25zdCBuPXRoaXMuX3JlbmRlcmVyO3QuaXNDdWJlVGV4dHVyZT9udWxsPT10aGlzLl9jdWJlbWFwU2hhZGVyJiYodGhpcy5fY3ViZW1hcFNoYWRlcj16cCgpKTpudWxsPT10aGlzLl9lcXVpcmVjdFNoYWRlciYmKHRoaXMuX2VxdWlyZWN0U2hhZGVyPVVwKCkpO2NvbnN0IHI9dC5pc0N1YmVUZXh0dXJlP3RoaXMuX2N1YmVtYXBTaGFkZXI6dGhpcy5fZXF1aXJlY3RTaGFkZXIsaT1uZXcgaG8oRXBbMF0sciksbz1yLnVuaWZvcm1zO28uZW52TWFwLnZhbHVlPXQsdC5pc0N1YmVUZXh0dXJlfHxvLnRleGVsU2l6ZS52YWx1ZS5zZXQoMS90LmltYWdlLndpZHRoLDEvdC5pbWFnZS5oZWlnaHQpLG8uaW5wdXRFbmNvZGluZy52YWx1ZT1TcFt0LmVuY29kaW5nXSxvLm91dHB1dEVuY29kaW5nLnZhbHVlPVNwW2UudGV4dHVyZS5lbmNvZGluZ10sRnAoZSwwLDAsMyp3cCwyKndwKSxuLnNldFJlbmRlclRhcmdldChlKSxuLnJlbmRlcihpLFRwKX1fYXBwbHlQTVJFTSh0KXtjb25zdCBlPXRoaXMuX3JlbmRlcmVyLG49ZS5hdXRvQ2xlYXI7ZS5hdXRvQ2xlYXI9ITE7Zm9yKGxldCBlPTE7ZTxNcDtlKyspe2NvbnN0IG49TWF0aC5zcXJ0KExwW2VdKkxwW2VdLUxwW2UtMV0qTHBbZS0xXSkscj1JcFsoZS0xKSVJcC5sZW5ndGhdO3RoaXMuX2JsdXIodCxlLTEsZSxuLHIpfWUuYXV0b0NsZWFyPW59X2JsdXIodCxlLG4scixpKXtjb25zdCBvPXRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0O3RoaXMuX2hhbGZCbHVyKHQsbyxlLG4scixcImxhdGl0dWRpbmFsXCIsaSksdGhpcy5faGFsZkJsdXIobyx0LG4sbixyLFwibG9uZ2l0dWRpbmFsXCIsaSl9X2hhbGZCbHVyKHQsZSxuLHIsaSxvLGEpe2NvbnN0IHM9dGhpcy5fcmVuZGVyZXIsYz10aGlzLl9ibHVyTWF0ZXJpYWw7XCJsYXRpdHVkaW5hbFwiIT09byYmXCJsb25naXR1ZGluYWxcIiE9PW8mJmNvbnNvbGUuZXJyb3IoXCJibHVyIGRpcmVjdGlvbiBtdXN0IGJlIGVpdGhlciBsYXRpdHVkaW5hbCBvciBsb25naXR1ZGluYWwhXCIpO2NvbnN0IGw9bmV3IGhvKEVwW3JdLGMpLHU9Yy51bmlmb3JtcyxoPUFwW25dLTEsZD1pc0Zpbml0ZShpKT9NYXRoLlBJLygyKmgpOjIqTWF0aC5QSS8zOSxwPWkvZCxmPWlzRmluaXRlKGkpPzErTWF0aC5mbG9vcigzKnApOjIwO2Y+MjAmJmNvbnNvbGUud2Fybihgc2lnbWFSYWRpYW5zLCAke2l9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7Zn0gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAyMGApO2NvbnN0IG09W107bGV0IGc9MDtmb3IobGV0IHQ9MDt0PDIwOysrdCl7Y29uc3QgZT10L3Asbj1NYXRoLmV4cCgtZSplLzIpO20ucHVzaChuKSwwPT10P2crPW46dDxmJiYoZys9MipuKX1mb3IobGV0IHQ9MDt0PG0ubGVuZ3RoO3QrKyltW3RdPW1bdF0vZzt1LmVudk1hcC52YWx1ZT10LnRleHR1cmUsdS5zYW1wbGVzLnZhbHVlPWYsdS53ZWlnaHRzLnZhbHVlPW0sdS5sYXRpdHVkaW5hbC52YWx1ZT1cImxhdGl0dWRpbmFsXCI9PT1vLGEmJih1LnBvbGVBeGlzLnZhbHVlPWEpLHUuZFRoZXRhLnZhbHVlPWQsdS5taXBJbnQudmFsdWU9OC1uLHUuaW5wdXRFbmNvZGluZy52YWx1ZT1TcFt0LnRleHR1cmUuZW5jb2RpbmddLHUub3V0cHV0RW5jb2RpbmcudmFsdWU9U3BbdC50ZXh0dXJlLmVuY29kaW5nXTtjb25zdCB2PUFwW3JdO0ZwKGUsMypNYXRoLm1heCgwLHdwLTIqdiksKDA9PT1yPzA6Mip3cCkrMip2KihyPjQ/ci04KzQ6MCksMyp2LDIqdikscy5zZXRSZW5kZXJUYXJnZXQoZSkscy5yZW5kZXIobCxUcCl9fWZ1bmN0aW9uIE5wKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0LnR5cGU9PT1TdCYmKHQuZW5jb2Rpbmc9PT1KZXx8dC5lbmNvZGluZz09PUtlfHx0LmVuY29kaW5nPT09UWUpfWZ1bmN0aW9uIERwKCl7Y29uc3QgdD1bXSxlPVtdLG49W107bGV0IHI9ODtmb3IobGV0IGk9MDtpPE1wO2krKyl7Y29uc3Qgbz1NYXRoLnBvdygyLHIpO2UucHVzaChvKTtsZXQgYT0xL287aT40P2E9X3BbaS04KzQtMV06MD09aSYmKGE9MCksbi5wdXNoKGEpO2NvbnN0IHM9MS8oby0xKSxjPS1zLzIsbD0xK3MvMix1PVtjLGMsbCxjLGwsbCxjLGMsbCxsLGMsbF0saD02LGQ9NixwPTMsZj0yLG09MSxnPW5ldyBGbG9hdDMyQXJyYXkocCpkKmgpLHY9bmV3IEZsb2F0MzJBcnJheShmKmQqaCkseT1uZXcgRmxvYXQzMkFycmF5KG0qZCpoKTtmb3IobGV0IHQ9MDt0PGg7dCsrKXtjb25zdCBlPXQlMyoyLzMtMSxuPXQ+Mj8wOi0xLHI9W2UsbiwwLGUrMi8zLG4sMCxlKzIvMyxuKzEsMCxlLG4sMCxlKzIvMyxuKzEsMCxlLG4rMSwwXTtnLnNldChyLHAqZCp0KSx2LnNldCh1LGYqZCp0KTtjb25zdCBpPVt0LHQsdCx0LHQsdF07eS5zZXQoaSxtKmQqdCl9Y29uc3QgeD1uZXcgcWk7eC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBUaShnLHApKSx4LnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IFRpKHYsZikpLHguc2V0QXR0cmlidXRlKFwiZmFjZUluZGV4XCIsbmV3IFRpKHksbSkpLHQucHVzaCh4KSxyPjQmJnItLX1yZXR1cm57X2xvZFBsYW5lczp0LF9zaXplTG9kczplLF9zaWdtYXM6bn19ZnVuY3Rpb24gQnAodCl7Y29uc3QgZT1uZXcgWW4oMyp3cCwzKndwLHQpO3JldHVybiBlLnRleHR1cmUubWFwcGluZz1sdCxlLnRleHR1cmUubmFtZT1cIlBNUkVNLmN1YmVVdlwiLGUuc2Npc3NvclRlc3Q9ITAsZX1mdW5jdGlvbiBGcCh0LGUsbixyLGkpe3Qudmlld3BvcnQuc2V0KGUsbixyLGkpLHQuc2Npc3Nvci5zZXQoZSxuLHIsaSl9ZnVuY3Rpb24gVXAoKXtyZXR1cm4gbmV3IGR1KHtuYW1lOlwiRXF1aXJlY3Rhbmd1bGFyVG9DdWJlVVZcIix1bmlmb3Jtczp7ZW52TWFwOnt2YWx1ZTpudWxsfSx0ZXhlbFNpemU6e3ZhbHVlOm5ldyBHbigxLDEpfSxpbnB1dEVuY29kaW5nOnt2YWx1ZTpTcFtKZV19LG91dHB1dEVuY29kaW5nOnt2YWx1ZTpTcFtKZV19fSx2ZXJ0ZXhTaGFkZXI6R3AoKSxmcmFnbWVudFNoYWRlcjpgXFxuXFxuXFx0XFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFx0XFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xcblxcblxcdFxcdFxcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xcblxcblxcdFxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcXG5cXHRcXHRcXHR1bmlmb3JtIHZlYzIgdGV4ZWxTaXplO1xcblxcblxcdFxcdFxcdCR7SHAoKX1cXG5cXG5cXHRcXHRcXHQjaW5jbHVkZSA8Y29tbW9uPlxcblxcblxcdFxcdFxcdHZvaWQgbWFpbigpIHtcXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcXG5cXG5cXHRcXHRcXHRcXHR2ZWMzIG91dHB1dERpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdk91dHB1dERpcmVjdGlvbiApO1xcblxcdFxcdFxcdFxcdHZlYzIgdXYgPSBlcXVpcmVjdFV2KCBvdXRwdXREaXJlY3Rpb24gKTtcXG5cXG5cXHRcXHRcXHRcXHR2ZWMyIGYgPSBmcmFjdCggdXYgLyB0ZXhlbFNpemUgLSAwLjUgKTtcXG5cXHRcXHRcXHRcXHR1diAtPSBmICogdGV4ZWxTaXplO1xcblxcdFxcdFxcdFxcdHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XFxuXFx0XFx0XFx0XFx0dXYueCArPSB0ZXhlbFNpemUueDtcXG5cXHRcXHRcXHRcXHR2ZWMzIHRyID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEICggZW52TWFwLCB1diApICkucmdiO1xcblxcdFxcdFxcdFxcdHV2LnkgKz0gdGV4ZWxTaXplLnk7XFxuXFx0XFx0XFx0XFx0dmVjMyBiciA9IGVudk1hcFRleGVsVG9MaW5lYXIoIHRleHR1cmUyRCAoIGVudk1hcCwgdXYgKSApLnJnYjtcXG5cXHRcXHRcXHRcXHR1di54IC09IHRleGVsU2l6ZS54O1xcblxcdFxcdFxcdFxcdHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XFxuXFxuXFx0XFx0XFx0XFx0dmVjMyB0bSA9IG1peCggdGwsIHRyLCBmLnggKTtcXG5cXHRcXHRcXHRcXHR2ZWMzIGJtID0gbWl4KCBibCwgYnIsIGYueCApO1xcblxcdFxcdFxcdFxcdGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoIHRtLCBibSwgZi55ICk7XFxuXFxuXFx0XFx0XFx0XFx0Z2xfRnJhZ0NvbG9yID0gbGluZWFyVG9PdXRwdXRUZXhlbCggZ2xfRnJhZ0NvbG9yICk7XFxuXFxuXFx0XFx0XFx0fVxcblxcdFxcdGAsYmxlbmRpbmc6eCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uIHpwKCl7cmV0dXJuIG5ldyBkdSh7bmFtZTpcIkN1YmVtYXBUb0N1YmVVVlwiLHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9LGlucHV0RW5jb2Rpbmc6e3ZhbHVlOlNwW0plXX0sb3V0cHV0RW5jb2Rpbmc6e3ZhbHVlOlNwW0plXX19LHZlcnRleFNoYWRlcjpHcCgpLGZyYWdtZW50U2hhZGVyOmBcXG5cXG5cXHRcXHRcXHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXHRcXHRcXHRwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XFxuXFxuXFx0XFx0XFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XFxuXFxuXFx0XFx0XFx0dW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7XFxuXFxuXFx0XFx0XFx0JHtIcCgpfVxcblxcblxcdFxcdFxcdHZvaWQgbWFpbigpIHtcXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggLSB2T3V0cHV0RGlyZWN0aW9uLngsIHZPdXRwdXREaXJlY3Rpb24ueXogKSApICkucmdiO1xcblxcdFxcdFxcdFxcdGdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoIGdsX0ZyYWdDb2xvciApO1xcblxcblxcdFxcdFxcdH1cXG5cXHRcXHRgLGJsZW5kaW5nOngsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITF9KX1mdW5jdGlvbiBHcCgpe3JldHVyblwiXFxuXFxuXFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFx0XFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xcblxcblxcdFxcdGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1xcblxcdFxcdGF0dHJpYnV0ZSB2ZWMyIHV2O1xcblxcdFxcdGF0dHJpYnV0ZSBmbG9hdCBmYWNlSW5kZXg7XFxuXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XFxuXFxuXFx0XFx0Ly8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvblxcblxcdFxcdHZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkge1xcblxcblxcdFxcdFxcdHV2ID0gMi4wICogdXYgLSAxLjA7XFxuXFxuXFx0XFx0XFx0dmVjMyBkaXJlY3Rpb24gPSB2ZWMzKCB1diwgMS4wICk7XFxuXFxuXFx0XFx0XFx0aWYgKCBmYWNlID09IDAuMCApIHtcXG5cXG5cXHRcXHRcXHRcXHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeFxcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMS4wICkge1xcblxcblxcdFxcdFxcdFxcdGRpcmVjdGlvbiA9IGRpcmVjdGlvbi54enk7XFxuXFx0XFx0XFx0XFx0ZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLXUsIDEsIC12ICkgcG9zIHlcXG5cXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHtcXG5cXG5cXHRcXHRcXHRcXHRkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHpcXG5cXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBmYWNlID09IDMuMCApIHtcXG5cXG5cXHRcXHRcXHRcXHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4O1xcblxcdFxcdFxcdFxcdGRpcmVjdGlvbi54eiAqPSAtMS4wOyAvLyAoIC0xLCB2LCAtdSApIG5lZyB4XFxuXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7XFxuXFxuXFx0XFx0XFx0XFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTtcXG5cXHRcXHRcXHRcXHRkaXJlY3Rpb24ueHkgKj0gLTEuMDsgLy8gKCAtdSwgLTEsIHYgKSBuZWcgeVxcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIGZhY2UgPT0gNS4wICkge1xcblxcblxcdFxcdFxcdFxcdGRpcmVjdGlvbi56ICo9IC0xLjA7IC8vICggdSwgdiwgLTEgKSBuZWcgelxcblxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gZGlyZWN0aW9uO1xcblxcblxcdFxcdH1cXG5cXG5cXHRcXHR2b2lkIG1haW4oKSB7XFxuXFxuXFx0XFx0XFx0dk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApO1xcblxcdFxcdFxcdGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcblxcdFxcdH1cXG5cXHRcIn1mdW5jdGlvbiBIcCgpe3JldHVyblwiXFxuXFxuXFx0XFx0dW5pZm9ybSBpbnQgaW5wdXRFbmNvZGluZztcXG5cXHRcXHR1bmlmb3JtIGludCBvdXRwdXRFbmNvZGluZztcXG5cXG5cXHRcXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQ+XFxuXFxuXFx0XFx0dmVjNCBpbnB1dFRleGVsVG9MaW5lYXIoIHZlYzQgdmFsdWUgKSB7XFxuXFxuXFx0XFx0XFx0aWYgKCBpbnB1dEVuY29kaW5nID09IDAgKSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMSApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gc1JHQlRvTGluZWFyKCB2YWx1ZSApO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMiApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gUkdCRVRvTGluZWFyKCB2YWx1ZSApO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMyApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gUkdCTVRvTGluZWFyKCB2YWx1ZSwgNy4wICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA0ICkge1xcblxcblxcdFxcdFxcdFxcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCAxNi4wICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA1ICkge1xcblxcblxcdFxcdFxcdFxcdHJldHVybiBSR0JEVG9MaW5lYXIoIHZhbHVlLCAyNTYuMCApO1xcblxcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIEdhbW1hVG9MaW5lYXIoIHZhbHVlLCAyLjIgKTtcXG5cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0fVxcblxcblxcdFxcdHZlYzQgbGluZWFyVG9PdXRwdXRUZXhlbCggdmVjNCB2YWx1ZSApIHtcXG5cXG5cXHRcXHRcXHRpZiAoIG91dHB1dEVuY29kaW5nID09IDAgKSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDEgKSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIExpbmVhclRvc1JHQiggdmFsdWUgKTtcXG5cXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSAyICkge1xcblxcblxcdFxcdFxcdFxcdHJldHVybiBMaW5lYXJUb1JHQkUoIHZhbHVlICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMyApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gTGluZWFyVG9SR0JNKCB2YWx1ZSwgNy4wICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gNCApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gTGluZWFyVG9SR0JNKCB2YWx1ZSwgMTYuMCApO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIExpbmVhclRvUkdCRCggdmFsdWUsIDI1Ni4wICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gTGluZWFyVG9HYW1tYSggdmFsdWUsIDIuMiApO1xcblxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHR9XFxuXFxuXFx0XFx0dmVjNCBlbnZNYXBUZXhlbFRvTGluZWFyKCB2ZWM0IGNvbG9yICkge1xcblxcblxcdFxcdFxcdHJldHVybiBpbnB1dFRleGVsVG9MaW5lYXIoIGNvbG9yICk7XFxuXFxuXFx0XFx0fVxcblxcdFwifWZ1bmN0aW9uIGtwKHQsZSxuLHIsaSxvLGEpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5GYWNlNCBoYXMgYmVlbiByZW1vdmVkLiBBIFRIUkVFLkZhY2UzIHdpbGwgYmUgY3JlYXRlZCBpbnN0ZWFkLlwiKSxuZXcgeGkodCxlLG4saSxvLGEpfWNvbnN0IFZwPTAsanA9MSxXcD0wLFhwPTEscXA9MjtmdW5jdGlvbiBZcCh0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC5cIiksdH1mdW5jdGlvbiBacCh0PVtdKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTXVsdGlNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC5cIiksdC5pc011bHRpTWF0ZXJpYWw9ITAsdC5tYXRlcmlhbHM9dCx0LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc2xpY2UoKX0sdH1mdW5jdGlvbiBKcCh0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Qb2ludENsb3VkIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzLlwiKSxuZXcgTmModCxlKX1mdW5jdGlvbiBLcCh0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUGFydGljbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5TcHJpdGUuXCIpLG5ldyByYyh0KX1mdW5jdGlvbiBRcCh0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5QYXJ0aWNsZVN5c3RlbSBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy5cIiksbmV3IE5jKHQsZSl9ZnVuY3Rpb24gJHAodCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLlwiKSxuZXcgUmModCl9ZnVuY3Rpb24gdGYodCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlBhcnRpY2xlQmFzaWNNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLlwiKSxuZXcgUmModCl9ZnVuY3Rpb24gZWYodCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC5cIiksbmV3IFJjKHQpfWZ1bmN0aW9uIG5mKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVydGV4IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5WZWN0b3IzIGluc3RlYWQuXCIpLG5ldyBLbih0LGUsbil9ZnVuY3Rpb24gcmYodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSgpLnNldFVzYWdlKCBUSFJFRS5EeW5hbWljRHJhd1VzYWdlICkgaW5zdGVhZC5cIiksbmV3IFRpKHQsZSkuc2V0VXNhZ2UoRW4pfWZ1bmN0aW9uIG9mKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IEVpKHQsZSl9ZnVuY3Rpb24gYWYodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVWludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50OEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyBBaSh0LGUpfWZ1bmN0aW9uIHNmKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlVpbnQ4Q2xhbXBlZEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyBMaSh0LGUpfWZ1bmN0aW9uIGNmKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MTZCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgUmkodCxlKX1mdW5jdGlvbiBsZih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5VaW50MTZBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50MTZCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgUGkodCxlKX1mdW5jdGlvbiB1Zih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5JbnQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IENpKHQsZSl9ZnVuY3Rpb24gaGYodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVWludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IElpKHQsZSl9ZnVuY3Rpb24gZGYodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuRmxvYXQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgTmkodCxlKX1mdW5jdGlvbiBwZih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5GbG9hdDY0QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyBEaSh0LGUpfWZ1bmN0aW9uIGZmKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkNsb3NlZFNwbGluZUN1cnZlMyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxyaC5jYWxsKHRoaXMsdCksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwiLHRoaXMuY2xvc2VkPSEwfWZ1bmN0aW9uIG1mKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLlNwbGluZUN1cnZlMyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxyaC5jYWxsKHRoaXMsdCksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwifWZ1bmN0aW9uIGdmKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLlNwbGluZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxyaC5jYWxsKHRoaXMsdCksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwifWZ1bmN0aW9uIHZmKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5BeGlzSGVscGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuQXhlc0hlbHBlci5cIiksbmV3IHZwKHQpfWZ1bmN0aW9uIHlmKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJvdW5kaW5nQm94SGVscGVyIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIENyZWF0aW5nIGEgVEhSRUUuQm94SGVscGVyIGluc3RlYWQuXCIpLG5ldyB1cCh0LGUpfWZ1bmN0aW9uIHhmKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkVkZ2VzSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5FZGdlc0dlb21ldHJ5IGluc3RlYWQuXCIpLG5ldyBBYyhuZXcgb2wodC5nZW9tZXRyeSksbmV3IHljKHtjb2xvcjp2b2lkIDAhPT1lP2U6MTY3NzcyMTV9KSl9ZnVuY3Rpb24gYmYodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2lyZWZyYW1lSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSBpbnN0ZWFkLlwiKSxuZXcgQWMobmV3IGx1KHQuZ2VvbWV0cnkpLG5ldyB5Yyh7Y29sb3I6dm9pZCAwIT09ZT9lOjE2Nzc3MjE1fSkpfWZ1bmN0aW9uIHdmKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5YSFJMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5GaWxlTG9hZGVyLlwiKSxuZXcga3UodCl9ZnVuY3Rpb24gX2YodCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJpbmFyeVRleHR1cmVMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5EYXRhVGV4dHVyZUxvYWRlci5cIiksbmV3IHF1KHQpfWZ1bmN0aW9uIE1mKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRDdWJlKCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zICkgaXMgbm93IFdlYkdMQ3ViZVJlbmRlclRhcmdldCggc2l6ZSwgb3B0aW9ucyApLlwiKSxuZXcgU28odCxuKX1adS5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS5sb2coXCJUSFJFRS5DdXJ2ZS5jcmVhdGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkXCIpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoWnUucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQucHJvdG90eXBlLmdldFBvaW50PWUsdH0sT2JqZWN0LmFzc2lnbihtaC5wcm90b3R5cGUse2NyZWF0ZVBvaW50c0dlb21ldHJ5OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZVBvaW50c0dlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuXCIpO2NvbnN0IGU9dGhpcy5nZXRQb2ludHModCk7cmV0dXJuIHRoaXMuY3JlYXRlR2VvbWV0cnkoZSl9LGNyZWF0ZVNwYWNlZFBvaW50c0dlb21ldHJ5OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZVNwYWNlZFBvaW50c0dlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuXCIpO2NvbnN0IGU9dGhpcy5nZXRTcGFjZWRQb2ludHModCk7cmV0dXJuIHRoaXMuY3JlYXRlR2VvbWV0cnkoZSl9LGNyZWF0ZUdlb21ldHJ5OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuXCIpO2NvbnN0IGU9bmV3IGpjO2ZvcihsZXQgbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7Y29uc3Qgcj10W25dO2UudmVydGljZXMucHVzaChuZXcgS24oci54LHIueSxyLnp8fDApKX1yZXR1cm4gZX19KSxPYmplY3QuYXNzaWduKGdoLnByb3RvdHlwZSx7ZnJvbVBvaW50czpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUGF0aDogLmZyb21Qb2ludHMoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tUG9pbnRzKCkuXCIpLHRoaXMuc2V0RnJvbVBvaW50cyh0KX19KSxmZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyaC5wcm90b3R5cGUpLG1mLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHJoLnByb3RvdHlwZSksZ2YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocmgucHJvdG90eXBlKSxPYmplY3QuYXNzaWduKGdmLnByb3RvdHlwZSx7aW5pdEZyb21BcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5TcGxpbmU6IC5pbml0RnJvbUFycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGdldENvbnRyb2xQb2ludHNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5TcGxpbmU6IC5nZXRDb250cm9sUG9pbnRzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scmVwYXJhbWV0cml6ZUJ5QXJjTGVuZ3RoOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNwbGluZTogLnJlcGFyYW1ldHJpemVCeUFyY0xlbmd0aCgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0pLCRkLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuR3JpZEhlbHBlcjogc2V0Q29sb3JzKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGFzcyB0aGVtIGluIHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkLlwiKX0scWQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5Ta2VsZXRvbkhlbHBlcjogdXBkYXRlKCkgbm8gbG9uZ2VyIG5lZWRzIHRvIGJlIGNhbGxlZC5cIil9LE9iamVjdC5hc3NpZ24oR3UucHJvdG90eXBlLHtleHRyYWN0VXJsQmFzZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTG9hZGVyOiAuZXh0cmFjdFVybEJhc2UoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoKSBpbnN0ZWFkLlwiKSxPaC5leHRyYWN0VXJsQmFzZSh0KX19KSxHdS5IYW5kbGVycz17YWRkOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuYWRkKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmFkZEhhbmRsZXIoKSBpbnN0ZWFkLlwiKX0sZ2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuZ2V0KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmdldEhhbmRsZXIoKSBpbnN0ZWFkLlwiKX19LE9iamVjdC5hc3NpZ24oRmQucHJvdG90eXBlLHtjZW50ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS5cIiksdGhpcy5nZXRDZW50ZXIodCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5lbXB0eSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmlzRW1wdHkoKS5cIiksdGhpcy5pc0VtcHR5KCl9LGlzSW50ZXJzZWN0aW9uQm94OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gyOiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuXCIpLHRoaXMuaW50ZXJzZWN0c0JveCh0KX0sc2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MjogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuXCIpLHRoaXMuZ2V0U2l6ZSh0KX19KSxPYmplY3QuYXNzaWduKHRyLnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuXCIpLHRoaXMuZ2V0Q2VudGVyKHQpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuXCIpLHRoaXMuaXNFbXB0eSgpfSxpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLlwiKSx0aGlzLmludGVyc2VjdHNCb3godCl9LGlzSW50ZXJzZWN0aW9uU3BoZXJlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25TcGhlcmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzU3BoZXJlKCkuXCIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZSh0KX0sc2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuXCIpLHRoaXMuZ2V0U2l6ZSh0KX19KSxPYmplY3QuYXNzaWduKGdyLnByb3RvdHlwZSx7ZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuU3BoZXJlOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuXCIpLHRoaXMuaXNFbXB0eSgpfX0pLExvLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5GcnVzdHVtOiAuc2V0RnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KCkuXCIpLHRoaXMuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgodCl9LEdkLnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmUzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuXCIpLHRoaXMuZ2V0Q2VudGVyKHQpfSxPYmplY3QuYXNzaWduKHpuLHtyYW5kb20xNjpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRoOiAucmFuZG9tMTYoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgTWF0aC5yYW5kb20oKSBpbnN0ZWFkLlwiKSxNYXRoLnJhbmRvbSgpfSxuZWFyZXN0UG93ZXJPZlR3bzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0aDogLm5lYXJlc3RQb3dlck9mVHdvKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZmxvb3JQb3dlck9mVHdvKCkuXCIpLHpuLmZsb29yUG93ZXJPZlR3byh0KX0sbmV4dFBvd2VyT2ZUd286ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdGg6IC5uZXh0UG93ZXJPZlR3bygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNlaWxQb3dlck9mVHdvKCkuXCIpLHpuLmNlaWxQb3dlck9mVHdvKHQpfX0pLE9iamVjdC5hc3NpZ24oSG4ucHJvdG90eXBlLHtmbGF0dGVuVG9BcnJheU9mZnNldDpmdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXgzOiAuZmxhdHRlblRvQXJyYXlPZmZzZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnRvQXJyYXkoKSBpbnN0ZWFkLlwiKSx0aGlzLnRvQXJyYXkodCxlKX0sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuXCIpLHQuYXBwbHlNYXRyaXgzKHRoaXMpfSxtdWx0aXBseVZlY3RvcjNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4MyggbWF0cml4ICkgaW5zdGVhZC5cIiksdC5hcHBseU1hdHJpeDModGhpcyl9LGFwcGx5VG9WZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sZ2V0SW52ZXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLlwiKSx0aGlzLmNvcHkodCkuaW52ZXJ0KCl9fSksT2JqZWN0LmFzc2lnbihUci5wcm90b3R5cGUse2V4dHJhY3RQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmV4dHJhY3RQb3NpdGlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNvcHlQb3NpdGlvbigpLlwiKSx0aGlzLmNvcHlQb3NpdGlvbih0KX0sZmxhdHRlblRvQXJyYXlPZmZzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC5cIiksdGhpcy50b0FycmF5KHQsZSl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5nZXRQb3NpdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbiggbWF0cml4ICkgaW5zdGVhZC5cIiksKG5ldyBLbikuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDMpfSxzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkuXCIpLHRoaXMubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odCl9LG11bHRpcGx5VG9BcnJheTpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVRvQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuXCIpLHQuYXBwbHlNYXRyaXg0KHRoaXMpfSxtdWx0aXBseVZlY3RvcjQ6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC5cIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LG11bHRpcGx5VmVjdG9yM0FycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyb3RhdGVBeGlzOmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMudHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLlwiKSx0LnRyYW5zZm9ybURpcmVjdGlvbih0aGlzKX0sY3Jvc3NWZWN0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5jcm9zc1ZlY3RvcigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLlwiKSx0LmFwcGx5TWF0cml4NCh0aGlzKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC50cmFuc2xhdGUoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scm90YXRlWDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWCgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyb3RhdGVZOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVZKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHJvdGF0ZVo6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVooKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scm90YXRlQnlBeGlzOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVCeUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC5cIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LGFwcGx5VG9WZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sbWFrZUZydXN0dW06ZnVuY3Rpb24odCxlLG4scixpLG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAubWFrZUZydXN0dW0oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLm1ha2VQZXJzcGVjdGl2ZSggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSBpbnN0ZWFkLlwiKSx0aGlzLm1ha2VQZXJzcGVjdGl2ZSh0LGUscixuLGksbyl9LGdldEludmVyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5nZXRJbnZlcnNlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG1hdHJpeEludi5jb3B5KCBtYXRyaXggKS5pbnZlcnQoKTsgaW5zdGVhZC5cIiksdGhpcy5jb3B5KHQpLmludmVydCgpfX0pLHRpLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkxpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlBsYW5lOiAuaXNJbnRlcnNlY3Rpb25MaW5lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0xpbmUoKS5cIiksdGhpcy5pbnRlcnNlY3RzTGluZSh0KX0sT2JqZWN0LmFzc2lnbihKbi5wcm90b3R5cGUse211bHRpcGx5VmVjdG9yMzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBpcyBub3cgdmVjdG9yLmFwcGx5UXVhdGVybmlvbiggcXVhdGVybmlvbiApIGluc3RlYWQuXCIpLHQuYXBwbHlRdWF0ZXJuaW9uKHRoaXMpfSxpbnZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlF1YXRlcm5pb246IC5pbnZlcnNlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byBpbnZlcnQoKS5cIiksdGhpcy5pbnZlcnQoKX19KSxPYmplY3QuYXNzaWduKFNyLnByb3RvdHlwZSx7aXNJbnRlcnNlY3Rpb25Cb3g6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLlwiKSx0aGlzLmludGVyc2VjdHNCb3godCl9LGlzSW50ZXJzZWN0aW9uUGxhbmU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS5cIiksdGhpcy5pbnRlcnNlY3RzUGxhbmUodCl9LGlzSW50ZXJzZWN0aW9uU3BoZXJlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5SYXk6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS5cIiksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKHQpfX0pLE9iamVjdC5hc3NpZ24oaGkucHJvdG90eXBlLHthcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAuYXJlYSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEFyZWEoKS5cIiksdGhpcy5nZXRBcmVhKCl9LGJhcnljb29yZEZyb21Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLmJhcnljb29yZEZyb21Qb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEJhcnljb29yZCgpLlwiKSx0aGlzLmdldEJhcnljb29yZCh0LGUpfSxtaWRwb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5taWRwb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE1pZHBvaW50KCkuXCIpLHRoaXMuZ2V0TWlkcG9pbnQodCl9LG5vcm1hbDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS5cIiksdGhpcy5nZXROb3JtYWwodCl9LHBsYW5lOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLnBsYW5lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0UGxhbmUoKS5cIiksdGhpcy5nZXRQbGFuZSh0KX19KSxPYmplY3QuYXNzaWduKGhpLHtiYXJ5Y29vcmRGcm9tUG9pbnQ6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5iYXJ5Y29vcmRGcm9tUG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRCYXJ5Y29vcmQoKS5cIiksaGkuZ2V0QmFyeWNvb3JkKHQsZSxuLHIsaSl9LG5vcm1hbDpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS5cIiksaGkuZ2V0Tm9ybWFsKHQsZSxuLHIpfX0pLE9iamVjdC5hc3NpZ24odmgucHJvdG90eXBlLHtleHRyYWN0QWxsUG9pbnRzOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5TaGFwZTogLmV4dHJhY3RBbGxQb2ludHMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmV4dHJhY3RQb2ludHMoKSBpbnN0ZWFkLlwiKSx0aGlzLmV4dHJhY3RQb2ludHModCl9LGV4dHJ1ZGU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlNoYXBlOiAuZXh0cnVkZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFeHRydWRlR2VvbWV0cnkoKSBpbnN0ZWFkLlwiKSxuZXcgQmwodGhpcyx0KX0sbWFrZUdlb21ldHJ5OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5TaGFwZTogLm1ha2VHZW9tZXRyeSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBTaGFwZUdlb21ldHJ5KCkgaW5zdGVhZC5cIiksbmV3IEpsKHRoaXMsdCl9fSksT2JqZWN0LmFzc2lnbihHbi5wcm90b3R5cGUse2Zyb21BdHRyaWJ1dGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IyOiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS5cIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSxuKX0sZGlzdGFuY2VUb01hbmhhdHRhbjpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMjogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuXCIpLHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh0KX0sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjI6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS5cIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX19KSxPYmplY3QuYXNzaWduKEtuLnByb3RvdHlwZSx7c2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuXCIpfSxzZXRFdWxlckZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlZlY3RvcjM6IC5zZXRFdWxlckZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKCkgaW5zdGVhZC5cIil9LGdldFBvc2l0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmdldFBvc2l0aW9uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhQb3NpdGlvbigpLlwiKSx0aGlzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0KX0sZ2V0U2NhbGVGcm9tTWF0cml4OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuXCIpLHRoaXMuc2V0RnJvbU1hdHJpeFNjYWxlKHQpfSxnZXRDb2x1bW5Gcm9tTWF0cml4OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5nZXRDb2x1bW5Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeENvbHVtbigpLlwiKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSx0KX0sYXBwbHlQcm9qZWN0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuYXBwbHlQcm9qZWN0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5hcHBseU1hdHJpeDQoIG0gKSBpbnN0ZWFkLlwiKSx0aGlzLmFwcGx5TWF0cml4NCh0KX0sZnJvbUF0dHJpYnV0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLlwiKSx0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pfSxkaXN0YW5jZVRvTWFuaGF0dGFuOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuZGlzdGFuY2VUb01hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkRpc3RhbmNlVG8oKS5cIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKHQpfSxsZW5ndGhNYW5oYXR0YW46ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLlwiKSx0aGlzLm1hbmhhdHRhbkxlbmd0aCgpfX0pLE9iamVjdC5hc3NpZ24ocW4ucHJvdG90eXBlLHtmcm9tQXR0cmlidXRlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yNDogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuXCIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUsbil9LGxlbmd0aE1hbmhhdHRhbjpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3I0OiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuXCIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9fSksT2JqZWN0LmFzc2lnbihqYy5wcm90b3R5cGUse2NvbXB1dGVUYW5nZW50czpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5HZW9tZXRyeTogLmNvbXB1dGVUYW5nZW50cygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxjb21wdXRlTGluZURpc3RhbmNlczpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5HZW9tZXRyeTogLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKSBpbnN0ZWFkLlwiKX0sYXBwbHlNYXRyaXg6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkdlb21ldHJ5OiAuYXBwbHlNYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5hcHBseU1hdHJpeDQoKS5cIiksdGhpcy5hcHBseU1hdHJpeDQodCl9fSksT2JqZWN0LmFzc2lnbihKci5wcm90b3R5cGUse2dldENoaWxkQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmdldENoaWxkQnlOYW1lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0T2JqZWN0QnlOYW1lKCkuXCIpLHRoaXMuZ2V0T2JqZWN0QnlOYW1lKHQpfSxyZW5kZXJEZXB0aDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAucmVuZGVyRGVwdGggaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5yZW5kZXJPcmRlciwgaW5zdGVhZC5cIil9LHRyYW5zbGF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAudHJhbnNsYXRlT25BeGlzKCBheGlzLCBkaXN0YW5jZSApIGluc3RlYWQuXCIpLHRoaXMudHJhbnNsYXRlT25BeGlzKGUsdCl9LGdldFdvcmxkUm90YXRpb246ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFJvdGF0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLk9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbiggdGFyZ2V0ICkgaW5zdGVhZC5cIil9LGFwcGx5TWF0cml4OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmFwcGx5TWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuYXBwbHlNYXRyaXg0KCkuXCIpLHRoaXMuYXBwbHlNYXRyaXg0KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEpyLnByb3RvdHlwZSx7ZXVsZXJPcmRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLlwiKSx0aGlzLnJvdGF0aW9uLm9yZGVyfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGlzIG5vdyAucm90YXRpb24ub3JkZXIuXCIpLHRoaXMucm90YXRpb24ub3JkZXI9dH19LHVzZVF1YXRlcm5pb246e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LlwiKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuXCIpfX19KSxPYmplY3QuYXNzaWduKGhvLnByb3RvdHlwZSx7c2V0RHJhd01vZGU6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWVzaDogLnNldERyYXdNb2RlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS5cIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaG8ucHJvdG90eXBlLHtkcmF3TW9kZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS5cIikscWV9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS5cIil9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjLnByb3RvdHlwZSx7b2JqZWN0czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkxPRDogLm9iamVjdHMgaGFzIGJlZW4gcmVuYW1lZCB0byAubGV2ZWxzLlwiKSx0aGlzLmxldmVsc319fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGRjLnByb3RvdHlwZSxcInVzZVZlcnRleFRleHR1cmVcIix7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuU2tlbGV0b246IHVzZVZlcnRleFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLlNrZWxldG9uOiB1c2VWZXJ0ZXhUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0pLGNjLnByb3RvdHlwZS5pbml0Qm9uZXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWnUucHJvdG90eXBlLFwiX19hcmNMZW5ndGhEaXZpc2lvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlOiAuX19hcmNMZW5ndGhEaXZpc2lvbnMgaXMgbm93IC5hcmNMZW5ndGhEaXZpc2lvbnMuXCIpLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuQ3VydmU6IC5fX2FyY0xlbmd0aERpdmlzaW9ucyBpcyBub3cgLmFyY0xlbmd0aERpdmlzaW9ucy5cIiksdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9dH19KSx3by5wcm90b3R5cGUuc2V0TGVucz1mdW5jdGlvbih0LGUpe2NvbnNvbGUud2FybihcIlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnNldExlbnMgaXMgZGVwcmVjYXRlZC4gVXNlIC5zZXRGb2NhbExlbmd0aCBhbmQgLmZpbG1HYXVnZSBmb3IgYSBwaG90b2dyYXBoaWMgc2V0dXAuXCIpLHZvaWQgMCE9PWUmJih0aGlzLmZpbG1HYXVnZT1lKSx0aGlzLnNldEZvY2FsTGVuZ3RoKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh5aC5wcm90b3R5cGUse29ubHlTaGFkb3c6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAub25seVNoYWRvdyBoYXMgYmVlbiByZW1vdmVkLlwiKX19LHNoYWRvd0NhbWVyYUZvdjp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRm92IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mb3YuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5mb3Y9dH19LHNoYWRvd0NhbWVyYUxlZnQ6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUxlZnQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmxlZnQuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5sZWZ0PXR9fSxzaGFkb3dDYW1lcmFSaWdodDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhUmlnaHQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnJpZ2h0LlwiKSx0aGlzLnNoYWRvdy5jYW1lcmEucmlnaHQ9dH19LHNoYWRvd0NhbWVyYVRvcDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhVG9wIGlzIG5vdyAuc2hhZG93LmNhbWVyYS50b3AuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS50b3A9dH19LHNoYWRvd0NhbWVyYUJvdHRvbTp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhQm90dG9tIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5ib3R0b20uXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5ib3R0b209dH19LHNoYWRvd0NhbWVyYU5lYXI6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYU5lYXIgaXMgbm93IC5zaGFkb3cuY2FtZXJhLm5lYXIuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5uZWFyPXR9fSxzaGFkb3dDYW1lcmFGYXI6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUZhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEuZmFyLlwiKSx0aGlzLnNoYWRvdy5jYW1lcmEuZmFyPXR9fSxzaGFkb3dDYW1lcmFWaXNpYmxlOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVZpc2libGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGxpZ2h0LnNoYWRvdy5jYW1lcmEgKSBpbnN0ZWFkLlwiKX19LHNoYWRvd0JpYXM6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd0JpYXMgaXMgbm93IC5zaGFkb3cuYmlhcy5cIiksdGhpcy5zaGFkb3cuYmlhcz10fX0sc2hhZG93RGFya25lc3M6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93RGFya25lc3MgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSxzaGFkb3dNYXBXaWR0aDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwV2lkdGggaXMgbm93IC5zaGFkb3cubWFwU2l6ZS53aWR0aC5cIiksdGhpcy5zaGFkb3cubWFwU2l6ZS53aWR0aD10fX0sc2hhZG93TWFwSGVpZ2h0OntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dNYXBIZWlnaHQgaXMgbm93IC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQuXCIpLHRoaXMuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpLnByb3RvdHlwZSx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuY291bnQgaW5zdGVhZC5cIiksdGhpcy5hcnJheS5sZW5ndGh9fSxkeW5hbWljOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuXCIpLHRoaXMudXNhZ2U9PT1Fbn0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuXCIpLHRoaXMuc2V0VXNhZ2UoRW4pfX19KSxPYmplY3QuYXNzaWduKFRpLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLlwiKSx0aGlzLnNldFVzYWdlKCEwPT09dD9FbjpUbiksdGhpc30sY29weUluZGljZXNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5jb3B5SW5kaWNlc0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldEFycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzXCIpfX0pLE9iamVjdC5hc3NpZ24ocWkucHJvdG90eXBlLHthZGRJbmRleDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEluZGV4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0SW5kZXgoKS5cIiksdGhpcy5zZXRJbmRleCh0KX0sYWRkQXR0cmlidXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0QXR0cmlidXRlKCkuXCIpLGUmJmUuaXNCdWZmZXJBdHRyaWJ1dGV8fGUmJmUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT9cImluZGV4XCI9PT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGU6IFVzZSAuc2V0SW5kZXgoKSBmb3IgaW5kZXggYXR0cmlidXRlLlwiKSx0aGlzLnNldEluZGV4KGUpLHRoaXMpOnRoaXMuc2V0QXR0cmlidXRlKHQsZSk6KGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgbm93IGV4cGVjdHMgKCBuYW1lLCBhdHRyaWJ1dGUgKS5cIiksdGhpcy5zZXRBdHRyaWJ1dGUodCxuZXcgVGkoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpKX0sYWRkRHJhd0NhbGw6ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMCE9PW4mJmNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuXCIpLGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBpcyBub3cgLmFkZEdyb3VwKCkuXCIpLHRoaXMuYWRkR3JvdXAodCxlKX0sY2xlYXJEcmF3Q2FsbHM6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLlwiKSx0aGlzLmNsZWFyR3JvdXBzKCl9LGNvbXB1dGVUYW5nZW50czpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGNvbXB1dGVPZmZzZXRzOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jb21wdXRlT2Zmc2V0cygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAucmVtb3ZlQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZGVsZXRlQXR0cmlidXRlKCkuXCIpLHRoaXMuZGVsZXRlQXR0cmlidXRlKHQpfSxhcHBseU1hdHJpeDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLlwiKSx0aGlzLmFwcGx5TWF0cml4NCh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhxaS5wcm90b3R5cGUse2RyYXdjYWxsczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmRyYXdjYWxscyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuXCIpLHRoaXMuZ3JvdXBzfX0sb2Zmc2V0czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAub2Zmc2V0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuXCIpLHRoaXMuZ3JvdXBzfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhOaC5wcm90b3R5cGUse21heEluc3RhbmNlZENvdW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk6IC5tYXhJbnN0YW5jZWRDb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnN0YW5jZUNvdW50LlwiKSx0aGlzLmluc3RhbmNlQ291bnR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeTogLm1heEluc3RhbmNlZENvdW50IGhhcyBiZWVuIHJlbmFtZWQgdG8gLmluc3RhbmNlQ291bnQuXCIpLHRoaXMuaW5zdGFuY2VDb3VudD10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDZC5wcm90b3R5cGUse2xpbmVQcmVjaXNpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5SYXljYXN0ZXI6IC5saW5lUHJlY2lzaW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAucGFyYW1zLkxpbmUudGhyZXNob2xkIGluc3RlYWQuXCIpLHRoaXMucGFyYW1zLkxpbmUudGhyZXNob2xkfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuUmF5Y2FzdGVyOiAubGluZVByZWNpc2lvbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnBhcmFtcy5MaW5lLnRocmVzaG9sZCBpbnN0ZWFkLlwiKSx0aGlzLnBhcmFtcy5MaW5lLnRocmVzaG9sZD10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhHcy5wcm90b3R5cGUse2R5bmFtaWM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuXCIpLHRoaXMudXNhZ2U9PT1Fbn0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC5cIiksdGhpcy5zZXRVc2FnZSh0KX19fSksT2JqZWN0LmFzc2lnbihHcy5wcm90b3R5cGUse3NldER5bmFtaWM6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLlwiKSx0aGlzLnNldFVzYWdlKCEwPT09dD9FbjpUbiksdGhpc30sc2V0QXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5zZXRBcnJheSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQnVmZmVyR2VvbWV0cnkgLnNldEF0dHJpYnV0ZSB0byByZXBsYWNlL3Jlc2l6ZSBhdHRyaWJ1dGUgYnVmZmVyc1wiKX19KSxPYmplY3QuYXNzaWduKE5sLnByb3RvdHlwZSx7Z2V0QXJyYXlzOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTogLmdldEFycmF5cygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxhZGRTaGFwZUxpc3Q6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiAuYWRkU2hhcGVMaXN0KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGFkZFNoYXBlOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTogLmFkZFNoYXBlKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSksT2JqZWN0LmFzc2lnbih6cy5wcm90b3R5cGUse2Rpc3Bvc2U6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU2NlbmU6IC5kaXNwb3NlKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTGQucHJvdG90eXBlLHtkeW5hbWljOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5Vbmlmb3JtOiAuZHluYW1pYyBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugb2JqZWN0Lm9uQmVmb3JlUmVuZGVyKCkgaW5zdGVhZC5cIil9fSxvblVwZGF0ZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVW5pZm9ybTogLm9uVXBkYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG9iamVjdC5vbkJlZm9yZVJlbmRlcigpIGluc3RlYWQuXCIpLHRoaXN9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdpLnByb3RvdHlwZSx7d3JhcEFyb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6IC53cmFwQXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSxvdmVyZHJhdzp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6IC5vdmVyZHJhdyBoYXMgYmVlbiByZW1vdmVkLlwiKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6IC5vdmVyZHJhdyBoYXMgYmVlbiByZW1vdmVkLlwiKX19LHdyYXBSR0I6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC5cIiksbmV3IHlpfX0sc2hhZGluZzp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKX0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKSx0aGlzLmZsYXRTaGFkaW5nPXQ9PT12fX0sc3RlbmNpbE1hc2s6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5cIit0aGlzLnR5cGUrXCI6IC5zdGVuY2lsTWFzayBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnN0ZW5jaWxGdW5jTWFzayBpbnN0ZWFkLlwiKSx0aGlzLnN0ZW5jaWxGdW5jTWFza30sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuXCIpLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG11LnByb3RvdHlwZSx7bWV0YWw6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbDogLm1ldGFsIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCBpbnN0ZWFkLlwiKSwhMX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWVzaFBob25nTWF0ZXJpYWw6IC5tZXRhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwgaW5zdGVhZFwiKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZnUucHJvdG90eXBlLHt0cmFuc3BhcmVuY3k6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NZXNoUGh5c2ljYWxNYXRlcmlhbDogLnRyYW5zcGFyZW5jeSBoYXMgYmVlbiByZW5hbWVkIHRvIC50cmFuc21pc3Npb24uXCIpLHRoaXMudHJhbnNtaXNzaW9ufSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWVzaFBoeXNpY2FsTWF0ZXJpYWw6IC50cmFuc3BhcmVuY3kgaGFzIGJlZW4gcmVuYW1lZCB0byAudHJhbnNtaXNzaW9uLlwiKSx0aGlzLnRyYW5zbWlzc2lvbj10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh4by5wcm90b3R5cGUse2Rlcml2YXRpdmVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IC5kZXJpdmF0aXZlcyBoYXMgYmVlbiBtb3ZlZCB0byAuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcy5cIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuXCIpLHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcz10fX19KSxPYmplY3QuYXNzaWduKERzLnByb3RvdHlwZSx7Y2xlYXJUYXJnZXQ6ZnVuY3Rpb24odCxlLG4scil7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNsZWFyVGFyZ2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBhbmQgLmNsZWFyKCkgaW5zdGVhZC5cIiksdGhpcy5zZXRSZW5kZXJUYXJnZXQodCksdGhpcy5jbGVhcihlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS5cIiksdGhpcy5zZXRBbmltYXRpb25Mb29wKHQpfSxnZXRDdXJyZW50UmVuZGVyVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0KCkgaXMgbm93IC5nZXRSZW5kZXJUYXJnZXQoKS5cIiksdGhpcy5nZXRSZW5kZXJUYXJnZXQoKX0sZ2V0TWF4QW5pc290cm9weTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0TWF4QW5pc290cm9weSgpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKS5cIiksdGhpcy5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpfSxnZXRQcmVjaXNpb246ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldFByZWNpc2lvbigpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnByZWNpc2lvbi5cIiksdGhpcy5jYXBhYmlsaXRpZXMucHJlY2lzaW9ufSxyZXNldEdMU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnJlc2V0R0xTdGF0ZSgpIGlzIG5vdyAuc3RhdGUucmVzZXQoKS5cIiksdGhpcy5zdGF0ZS5yZXNldCgpfSxzdXBwb3J0c0Zsb2F0VGV4dHVyZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9mbG9hdCcgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpfSxzdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpfSxzdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIil9LHN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVQVlJUQygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIil9LHN1cHBvcnRzQmxlbmRNaW5NYXg6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQmxlbmRNaW5NYXgoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnRVhUX2JsZW5kX21pbm1heCcgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIkVYVF9ibGVuZF9taW5tYXhcIil9LHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzVmVydGV4VGV4dHVyZXMoKSBpcyBub3cgLmNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlcy5cIiksdGhpcy5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXN9LHN1cHBvcnRzSW5zdGFuY2VkQXJyYXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyApLlwiKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKX0sZW5hYmxlU2Npc3NvclRlc3Q6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLlwiKSx0aGlzLnNldFNjaXNzb3JUZXN0KHQpfSxpbml0TWF0ZXJpYWw6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGFkZFByZVBsdWdpbjpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQcmVQbHVnaW4oKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYWRkUG9zdFBsdWdpbjpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHVwZGF0ZVNoYWRvd01hcDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sc2V0RmFjZUN1bGxpbmc6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0RmFjZUN1bGxpbmcoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYWxsb2NUZXh0dXJlVW5pdDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbGxvY1RleHR1cmVVbml0KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldFRleHR1cmU6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxzZXRUZXh0dXJlMkQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZTJEKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldFRleHR1cmVDdWJlOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmVDdWJlKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGdldEFjdGl2ZU1pcE1hcExldmVsOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRBY3RpdmVNaXBNYXBMZXZlbCgpIGlzIG5vdyAuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKS5cIiksdGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERzLnByb3RvdHlwZSx7c2hhZG93TWFwRW5hYmxlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLmVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwRW5hYmxlZCBpcyBub3cgLnNoYWRvd01hcC5lbmFibGVkLlwiKSx0aGlzLnNoYWRvd01hcC5lbmFibGVkPXR9fSxzaGFkb3dNYXBUeXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBUeXBlIGlzIG5vdyAuc2hhZG93TWFwLnR5cGUuXCIpLHRoaXMuc2hhZG93TWFwLnR5cGU9dH19LHNoYWRvd01hcEN1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBDdWxsRmFjZSBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLlwiKX19LGNvbnRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY29udGV4dCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmdldENvbnRleHQoKSBpbnN0ZWFkLlwiKSx0aGlzLmdldENvbnRleHQoKX19LHZyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnZyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnhyXCIpLHRoaXMueHJ9fSxnYW1tYUlucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IHRoZSBlbmNvZGluZyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC5cIiksITF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuXCIpfX0sZ2FtbWFPdXRwdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC5cIiksITF9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC5cIiksdGhpcy5vdXRwdXRFbmNvZGluZz0hMD09PXQ/S2U6SmV9fSx0b25lTWFwcGluZ1doaXRlUG9pbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAudG9uZU1hcHBpbmdXaGl0ZVBvaW50IGhhcyBiZWVuIHJlbW92ZWQuXCIpLDF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVzLnByb3RvdHlwZSx7Y3VsbEZhY2U6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyUmV2ZXJzZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLlwiKX19LHJlbmRlclNpbmdsZVNpZGVkOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclNpbmdsZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclNpbmdsZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhZbi5wcm90b3R5cGUse3dyYXBTOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuXCIpLHRoaXMudGV4dHVyZS53cmFwU30sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFMgaXMgbm93IC50ZXh0dXJlLndyYXBTLlwiKSx0aGlzLnRleHR1cmUud3JhcFM9dH19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwVCBpcyBub3cgLnRleHR1cmUud3JhcFQuXCIpLHRoaXMudGV4dHVyZS53cmFwVH0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULlwiKSx0aGlzLnRleHR1cmUud3JhcFQ9dH19LG1hZ0ZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuXCIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLlwiKSx0aGlzLnRleHR1cmUubWFnRmlsdGVyPXR9fSxtaW5GaWx0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLlwiKSx0aGlzLnRleHR1cmUubWluRmlsdGVyfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5taW5GaWx0ZXIgaXMgbm93IC50ZXh0dXJlLm1pbkZpbHRlci5cIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10fX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuYW5pc290cm9weSBpcyBub3cgLnRleHR1cmUuYW5pc290cm9weS5cIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHl9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuXCIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5PXR9fSxvZmZzZXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LlwiKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC5cIiksdGhpcy50ZXh0dXJlLm9mZnNldD10fX0scmVwZWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC5cIiksdGhpcy50ZXh0dXJlLnJlcGVhdH0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAucmVwZWF0IGlzIG5vdyAudGV4dHVyZS5yZXBlYXQuXCIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9dH19LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZm9ybWF0IGlzIG5vdyAudGV4dHVyZS5mb3JtYXQuXCIpLHRoaXMudGV4dHVyZS5mb3JtYXR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LlwiKSx0aGlzLnRleHR1cmUuZm9ybWF0PXR9fSx0eXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLlwiKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS5cIiksdGhpcy50ZXh0dXJlLnR5cGU9dH19LGdlbmVyYXRlTWlwbWFwczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuXCIpLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHN9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmdlbmVyYXRlTWlwbWFwcyBpcyBub3cgLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzLlwiKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNkLnByb3RvdHlwZSx7bG9hZDp7dmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiVEhSRUUuQXVkaW86IC5sb2FkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5BdWRpb0xvYWRlciBpbnN0ZWFkLlwiKTtjb25zdCBlPXRoaXM7cmV0dXJuKG5ldyBZaCkubG9hZCh0LChmdW5jdGlvbih0KXtlLnNldEJ1ZmZlcih0KX0pKSx0aGlzfX0sc3RhcnRUaW1lOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogLnN0YXJ0VGltZSBpcyBub3cgLnBsYXkoIGRlbGF5ICkuXCIpfX19KSxwZC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpb0FuYWx5c2VyOiAuZ2V0RGF0YSgpIGlzIG5vdyAuZ2V0RnJlcXVlbmN5RGF0YSgpLlwiKSx0aGlzLmdldEZyZXF1ZW5jeURhdGEoKX0sX28ucHJvdG90eXBlLnVwZGF0ZUN1YmVNYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQ3ViZUNhbWVyYTogLnVwZGF0ZUN1YmVNYXAoKSBpcyBub3cgLnVwZGF0ZSgpLlwiKSx0aGlzLnVwZGF0ZSh0LGUpfSxfby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkN1YmVDYW1lcmE6IC5jbGVhcigpIGlzIG5vdyAucmVuZGVyVGFyZ2V0LmNsZWFyKCkuXCIpLHRoaXMucmVuZGVyVGFyZ2V0LmNsZWFyKHQsZSxuLHIpfTtjb25zdCBTZj17bWVyZ2U6ZnVuY3Rpb24odCxlLG4pe2xldCByO2NvbnNvbGUud2FybihcIlRIUkVFLkdlb21ldHJ5VXRpbHM6IC5tZXJnZSgpIGhhcyBiZWVuIG1vdmVkIHRvIEdlb21ldHJ5LiBVc2UgZ2VvbWV0cnkubWVyZ2UoIGdlb21ldHJ5MiwgbWF0cml4LCBtYXRlcmlhbEluZGV4T2Zmc2V0ICkgaW5zdGVhZC5cIiksZS5pc01lc2gmJihlLm1hdHJpeEF1dG9VcGRhdGUmJmUudXBkYXRlTWF0cml4KCkscj1lLm1hdHJpeCxlPWUuZ2VvbWV0cnkpLHQubWVyZ2UoZSxyLG4pfSxjZW50ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkdlb21ldHJ5VXRpbHM6IC5jZW50ZXIoKSBoYXMgYmVlbiBtb3ZlZCB0byBHZW9tZXRyeS4gVXNlIGdlb21ldHJ5LmNlbnRlcigpIGluc3RlYWQuXCIpLHQuY2VudGVyKCl9fTtmdW5jdGlvbiBUZigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5DYW52YXNSZW5kZXJlciBoYXMgYmVlbiByZW1vdmVkXCIpfWZ1bmN0aW9uIEVmKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkpTT05Mb2FkZXIgaGFzIGJlZW4gcmVtb3ZlZC5cIil9Vm4uY3Jvc3NPcmlnaW49dm9pZCAwLFZuLmxvYWRUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnNvbGUud2FybihcIlRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLlRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLlwiKTtjb25zdCBpPW5ldyBZdTtpLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2NvbnN0IG89aS5sb2FkKHQsbix2b2lkIDAscik7cmV0dXJuIGUmJihvLm1hcHBpbmc9ZSksb30sVm4ubG9hZFRleHR1cmVDdWJlPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnNvbGUud2FybihcIlRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmVDdWJlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuXCIpO2NvbnN0IGk9bmV3IFh1O2kuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3Qgbz1pLmxvYWQodCxuLHZvaWQgMCxyKTtyZXR1cm4gZSYmKG8ubWFwcGluZz1lKSxvfSxWbi5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLlwiKX0sVm4ubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLlwiKX07Y29uc3QgQWY9e2NyZWF0ZU11bHRpTWF0ZXJpYWxPYmplY3Q6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU2NlbmVVdGlscyBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL3V0aWxzL1NjZW5lVXRpbHMuanNcIil9LGRldGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5TY2VuZVV0aWxzIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qc20vdXRpbHMvU2NlbmVVdGlscy5qc1wiKX0sYXR0YWNoOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzXCIpfX07ZnVuY3Rpb24gTGYoKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTGVuc0ZsYXJlIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qc20vb2JqZWN0cy9MZW5zZmxhcmUuanNcIil9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicmVnaXN0ZXJcIix7ZGV0YWlsOntyZXZpc2lvbjpyfX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByLGksbyxhPW4oMCk7ZnVuY3Rpb24gcygpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLm5lZWRzU3dhcD0hMCx0aGlzLmNsZWFyPSExLHRoaXMucmVuZGVyVG9TY3JlZW49ITF9T2JqZWN0LmFzc2lnbihzLnByb3RvdHlwZSx7c2V0U2l6ZTpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlBhc3M6IC5yZW5kZXIoKSBtdXN0IGJlIGltcGxlbWVudGVkIGluIGRlcml2ZWQgcGFzcy5cIil9fSkscy5GdWxsU2NyZWVuUXVhZD0ocj1uZXcgYS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsMSwxLC0xLDAsMSksaT1uZXcgYS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDIsMiksbz1mdW5jdGlvbih0KXt0aGlzLl9tZXNoPW5ldyBhLk1lc2goaSx0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8ucHJvdG90eXBlLFwibWF0ZXJpYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2gubWF0ZXJpYWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tZXNoLm1hdGVyaWFsPXR9fSksT2JqZWN0LmFzc2lnbihvLnByb3RvdHlwZSx7ZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX21lc2guZ2VvbWV0cnkuZGlzcG9zZSgpfSxyZW5kZXI6ZnVuY3Rpb24odCl7dC5yZW5kZXIodGhpcy5fbWVzaCxyKX19KSxvKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIlNoYWRlclBhc3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDApLGk9bigxKSxvPWZ1bmN0aW9uKHQsZSl7aS5hLmNhbGwodGhpcyksdGhpcy50ZXh0dXJlSUQ9dm9pZCAwIT09ZT9lOlwidERpZmZ1c2VcIix0IGluc3RhbmNlb2Ygci5TaGFkZXJNYXRlcmlhbD8odGhpcy51bmlmb3Jtcz10LnVuaWZvcm1zLHRoaXMubWF0ZXJpYWw9dCk6dCYmKHRoaXMudW5pZm9ybXM9ci5Vbmlmb3Jtc1V0aWxzLmNsb25lKHQudW5pZm9ybXMpLHRoaXMubWF0ZXJpYWw9bmV3IHIuU2hhZGVyTWF0ZXJpYWwoe2RlZmluZXM6T2JqZWN0LmFzc2lnbih7fSx0LmRlZmluZXMpLHVuaWZvcm1zOnRoaXMudW5pZm9ybXMsdmVydGV4U2hhZGVyOnQudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOnQuZnJhZ21lbnRTaGFkZXJ9KSksdGhpcy5mc1F1YWQ9bmV3IGkuYS5GdWxsU2NyZWVuUXVhZCh0aGlzLm1hdGVyaWFsKX07by5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGkuYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpvLHJlbmRlcjpmdW5jdGlvbih0LGUsbil7dGhpcy51bmlmb3Jtc1t0aGlzLnRleHR1cmVJRF0mJih0aGlzLnVuaWZvcm1zW3RoaXMudGV4dHVyZUlEXS52YWx1ZT1uLnRleHR1cmUpLHRoaXMuZnNRdWFkLm1hdGVyaWFsPXRoaXMubWF0ZXJpYWwsdGhpcy5yZW5kZXJUb1NjcmVlbj8odC5zZXRSZW5kZXJUYXJnZXQobnVsbCksdGhpcy5mc1F1YWQucmVuZGVyKHQpKToodC5zZXRSZW5kZXJUYXJnZXQoZSksdGhpcy5jbGVhciYmdC5jbGVhcih0LmF1dG9DbGVhckNvbG9yLHQuYXV0b0NsZWFyRGVwdGgsdC5hdXRvQ2xlYXJTdGVuY2lsKSx0aGlzLmZzUXVhZC5yZW5kZXIodCkpfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiR0xURkxvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7ci5Mb2FkZXIuY2FsbCh0aGlzLHQpLHRoaXMuZHJhY29Mb2FkZXI9bnVsbCx0aGlzLmRkc0xvYWRlcj1udWxsLHRoaXMua3R4MkxvYWRlcj1udWxsLHRoaXMubWVzaG9wdERlY29kZXI9bnVsbCx0aGlzLnBsdWdpbkNhbGxiYWNrcz1bXSx0aGlzLnJlZ2lzdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHModCl9KSksdGhpcy5yZWdpc3RlcigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBsKHQpfSkpLHRoaXMucmVnaXN0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdSh0KX0pKSx0aGlzLnJlZ2lzdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGModCl9KSksdGhpcy5yZWdpc3RlcigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvKHQpfSkpLHRoaXMucmVnaXN0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaCh0KX0pKX1mdW5jdGlvbiBlKCl7dmFyIHQ9e307cmV0dXJue2dldDpmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0sYWRkOmZ1bmN0aW9uKGUsbil7dFtlXT1ufSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19LHJlbW92ZUFsbDpmdW5jdGlvbigpe3Q9e319fX10LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoci5Mb2FkZXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6dCxsb2FkOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBvLGE9dGhpcztvPVwiXCIhPT10aGlzLnJlc291cmNlUGF0aD90aGlzLnJlc291cmNlUGF0aDpcIlwiIT09dGhpcy5wYXRoP3RoaXMucGF0aDpyLkxvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHQpLHRoaXMubWFuYWdlci5pdGVtU3RhcnQodCk7dmFyIHM9ZnVuY3Rpb24oZSl7aT9pKGUpOmNvbnNvbGUuZXJyb3IoZSksYS5tYW5hZ2VyLml0ZW1FcnJvcih0KSxhLm1hbmFnZXIuaXRlbUVuZCh0KX0sYz1uZXcgci5GaWxlTG9hZGVyKHRoaXMubWFuYWdlcik7Yy5zZXRQYXRoKHRoaXMucGF0aCksYy5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxjLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxjLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyksYy5sb2FkKHQsKGZ1bmN0aW9uKG4pe3RyeXthLnBhcnNlKG4sbywoZnVuY3Rpb24obil7ZShuKSxhLm1hbmFnZXIuaXRlbUVuZCh0KX0pLHMpfWNhdGNoKHQpe3ModCl9fSksbixzKX0sc2V0RFJBQ09Mb2FkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZHJhY29Mb2FkZXI9dCx0aGlzfSxzZXRERFNMb2FkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGRzTG9hZGVyPXQsdGhpc30sc2V0S1RYMkxvYWRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5rdHgyTG9hZGVyPXQsdGhpc30sc2V0TWVzaG9wdERlY29kZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWVzaG9wdERlY29kZXI9dCx0aGlzfSxyZWdpc3RlcjpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YodCkmJnRoaXMucGx1Z2luQ2FsbGJhY2tzLnB1c2godCksdGhpc30sdW5yZWdpc3RlcjpmdW5jdGlvbih0KXtyZXR1cm4tMSE9PXRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YodCkmJnRoaXMucGx1Z2luQ2FsbGJhY2tzLnNwbGljZSh0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKHQpLDEpLHRoaXN9LHBhcnNlOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBjLGw9e30sdT17fTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCljPXQ7ZWxzZSBpZihyLkxvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkodCwwLDQpKT09PWQpe3RyeXtsW24uS0hSX0JJTkFSWV9HTFRGXT1uZXcgbSh0KX1jYXRjaCh0KXtyZXR1cm4gdm9pZChzJiZzKHQpKX1jPWxbbi5LSFJfQklOQVJZX0dMVEZdLmNvbnRlbnR9ZWxzZSBjPXIuTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheSh0KSk7dmFyIGg9SlNPTi5wYXJzZShjKTtpZih2b2lkIDA9PT1oLmFzc2V0fHxoLmFzc2V0LnZlcnNpb25bMF08MilzJiZzKG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuXCIpKTtlbHNle3ZhciBwPW5ldyBqKGgse3BhdGg6ZXx8dGhpcy5yZXNvdXJjZVBhdGh8fFwiXCIsY3Jvc3NPcmlnaW46dGhpcy5jcm9zc09yaWdpbixtYW5hZ2VyOnRoaXMubWFuYWdlcixrdHgyTG9hZGVyOnRoaXMua3R4MkxvYWRlcixtZXNob3B0RGVjb2Rlcjp0aGlzLm1lc2hvcHREZWNvZGVyfSk7cC5maWxlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtmb3IodmFyIGY9MDtmPHRoaXMucGx1Z2luQ2FsbGJhY2tzLmxlbmd0aDtmKyspe3ZhciB5PXRoaXMucGx1Z2luQ2FsbGJhY2tzW2ZdKHApO3VbeS5uYW1lXT15LGxbeS5uYW1lXT0hMH1pZihoLmV4dGVuc2lvbnNVc2VkKWZvcihmPTA7ZjxoLmV4dGVuc2lvbnNVc2VkLmxlbmd0aDsrK2Ype3ZhciB3PWguZXh0ZW5zaW9uc1VzZWRbZl0sXz1oLmV4dGVuc2lvbnNSZXF1aXJlZHx8W107c3dpdGNoKHcpe2Nhc2Ugbi5LSFJfTUFURVJJQUxTX1VOTElUOmxbd109bmV3IGE7YnJlYWs7Y2FzZSBuLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6bFt3XT1uZXcgeDticmVhaztjYXNlIG4uS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046bFt3XT1uZXcgZyhoLHRoaXMuZHJhY29Mb2FkZXIpO2JyZWFrO2Nhc2Ugbi5NU0ZUX1RFWFRVUkVfRERTOmxbd109bmV3IGkodGhpcy5kZHNMb2FkZXIpO2JyZWFrO2Nhc2Ugbi5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06bFt3XT1uZXcgdjticmVhaztjYXNlIG4uS0hSX01FU0hfUVVBTlRJWkFUSU9OOmxbd109bmV3IGI7YnJlYWs7ZGVmYXVsdDpfLmluZGV4T2Yodyk+PTAmJnZvaWQgMD09PXVbd10mJmNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogVW5rbm93biBleHRlbnNpb24gXCInK3crJ1wiLicpfX1wLnNldEV4dGVuc2lvbnMobCkscC5zZXRQbHVnaW5zKHUpLHAucGFyc2UobyxzKX19fSk7dmFyIG49e0tIUl9CSU5BUllfR0xURjpcIktIUl9iaW5hcnlfZ2xURlwiLEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOlwiS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cIixLSFJfTElHSFRTX1BVTkNUVUFMOlwiS0hSX2xpZ2h0c19wdW5jdHVhbFwiLEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOlwiS0hSX21hdGVyaWFsc19jbGVhcmNvYXRcIixLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOlwiS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3NcIixLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjpcIktIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uXCIsS0hSX01BVEVSSUFMU19VTkxJVDpcIktIUl9tYXRlcmlhbHNfdW5saXRcIixLSFJfVEVYVFVSRV9CQVNJU1U6XCJLSFJfdGV4dHVyZV9iYXNpc3VcIixLSFJfVEVYVFVSRV9UUkFOU0ZPUk06XCJLSFJfdGV4dHVyZV90cmFuc2Zvcm1cIixLSFJfTUVTSF9RVUFOVElaQVRJT046XCJLSFJfbWVzaF9xdWFudGl6YXRpb25cIixFWFRfVEVYVFVSRV9XRUJQOlwiRVhUX3RleHR1cmVfd2VicFwiLEVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OOlwiRVhUX21lc2hvcHRfY29tcHJlc3Npb25cIixNU0ZUX1RFWFRVUkVfRERTOlwiTVNGVF90ZXh0dXJlX2Rkc1wifTtmdW5jdGlvbiBpKHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IEF0dGVtcHRpbmcgdG8gbG9hZCAuZGRzIHRleHR1cmUgd2l0aG91dCBpbXBvcnRpbmcgRERTTG9hZGVyXCIpO3RoaXMubmFtZT1uLk1TRlRfVEVYVFVSRV9ERFMsdGhpcy5kZHNMb2FkZXI9dH1mdW5jdGlvbiBvKHQpe3RoaXMucGFyc2VyPXQsdGhpcy5uYW1lPW4uS0hSX0xJR0hUU19QVU5DVFVBTCx0aGlzLmNhY2hlPXtyZWZzOnt9LHVzZXM6e319fWZ1bmN0aW9uIGEoKXt0aGlzLm5hbWU9bi5LSFJfTUFURVJJQUxTX1VOTElUfWZ1bmN0aW9uIHModCl7dGhpcy5wYXJzZXI9dCx0aGlzLm5hbWU9bi5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVH1mdW5jdGlvbiBjKHQpe3RoaXMucGFyc2VyPXQsdGhpcy5uYW1lPW4uS0hSX01BVEVSSUFMU19UUkFOU01JU1NJT059ZnVuY3Rpb24gbCh0KXt0aGlzLnBhcnNlcj10LHRoaXMubmFtZT1uLktIUl9URVhUVVJFX0JBU0lTVX1mdW5jdGlvbiB1KHQpe3RoaXMucGFyc2VyPXQsdGhpcy5uYW1lPW4uRVhUX1RFWFRVUkVfV0VCUCx0aGlzLmlzU3VwcG9ydGVkPW51bGx9ZnVuY3Rpb24gaCh0KXt0aGlzLm5hbWU9bi5FWFRfTUVTSE9QVF9DT01QUkVTU0lPTix0aGlzLnBhcnNlcj10fW8ucHJvdG90eXBlLl9tYXJrRGVmcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcnNlcixlPXRoaXMucGFyc2VyLmpzb24ubm9kZXN8fFtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspe3ZhciBpPWVbbl07aS5leHRlbnNpb25zJiZpLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSYmdm9pZCAwIT09aS5leHRlbnNpb25zW3RoaXMubmFtZV0ubGlnaHQmJnQuX2FkZE5vZGVSZWYodGhpcy5jYWNoZSxpLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5saWdodCl9fSxvLnByb3RvdHlwZS5fbG9hZExpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyc2VyLG49XCJsaWdodDpcIit0LGk9ZS5jYWNoZS5nZXQobik7aWYoaSlyZXR1cm4gaTt2YXIgbyxhPWUuanNvbixzPSgoYS5leHRlbnNpb25zJiZhLmV4dGVuc2lvbnNbdGhpcy5uYW1lXXx8e30pLmxpZ2h0c3x8W10pW3RdLGM9bmV3IHIuQ29sb3IoMTY3NzcyMTUpO3ZvaWQgMCE9PXMuY29sb3ImJmMuZnJvbUFycmF5KHMuY29sb3IpO3ZhciBsPXZvaWQgMCE9PXMucmFuZ2U/cy5yYW5nZTowO3N3aXRjaChzLnR5cGUpe2Nhc2VcImRpcmVjdGlvbmFsXCI6KG89bmV3IHIuRGlyZWN0aW9uYWxMaWdodChjKSkudGFyZ2V0LnBvc2l0aW9uLnNldCgwLDAsLTEpLG8uYWRkKG8udGFyZ2V0KTticmVhaztjYXNlXCJwb2ludFwiOihvPW5ldyByLlBvaW50TGlnaHQoYykpLmRpc3RhbmNlPWw7YnJlYWs7Y2FzZVwic3BvdFwiOihvPW5ldyByLlNwb3RMaWdodChjKSkuZGlzdGFuY2U9bCxzLnNwb3Q9cy5zcG90fHx7fSxzLnNwb3QuaW5uZXJDb25lQW5nbGU9dm9pZCAwIT09cy5zcG90LmlubmVyQ29uZUFuZ2xlP3Muc3BvdC5pbm5lckNvbmVBbmdsZTowLHMuc3BvdC5vdXRlckNvbmVBbmdsZT12b2lkIDAhPT1zLnNwb3Qub3V0ZXJDb25lQW5nbGU/cy5zcG90Lm91dGVyQ29uZUFuZ2xlOk1hdGguUEkvNCxvLmFuZ2xlPXMuc3BvdC5vdXRlckNvbmVBbmdsZSxvLnBlbnVtYnJhPTEtcy5zcG90LmlubmVyQ29uZUFuZ2xlL3Muc3BvdC5vdXRlckNvbmVBbmdsZSxvLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwwLC0xKSxvLmFkZChvLnRhcmdldCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuZXhwZWN0ZWQgbGlnaHQgdHlwZSwgXCInK3MudHlwZSsnXCIuJyl9cmV0dXJuIG8ucG9zaXRpb24uc2V0KDAsMCwwKSxvLmRlY2F5PTIsdm9pZCAwIT09cy5pbnRlbnNpdHkmJihvLmludGVuc2l0eT1zLmludGVuc2l0eSksby5uYW1lPWUuY3JlYXRlVW5pcXVlTmFtZShzLm5hbWV8fFwibGlnaHRfXCIrdCksaT1Qcm9taXNlLnJlc29sdmUobyksZS5jYWNoZS5hZGQobixpKSxpfSxvLnByb3RvdHlwZS5jcmVhdGVOb2RlQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5wYXJzZXIscj1uLmpzb24ubm9kZXNbdF0saT0oci5leHRlbnNpb25zJiZyLmV4dGVuc2lvbnNbdGhpcy5uYW1lXXx8e30pLmxpZ2h0O3JldHVybiB2b2lkIDA9PT1pP251bGw6dGhpcy5fbG9hZExpZ2h0KGkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9nZXROb2RlUmVmKGUuY2FjaGUsaSx0KX0pKX0sYS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHIuTWVzaEJhc2ljTWF0ZXJpYWx9LGEucHJvdG90eXBlLmV4dGVuZFBhcmFtcz1mdW5jdGlvbih0LGUsbil7dmFyIGk9W107dC5jb2xvcj1uZXcgci5Db2xvcigxLDEsMSksdC5vcGFjaXR5PTE7dmFyIG89ZS5wYnJNZXRhbGxpY1JvdWdobmVzcztpZihvKXtpZihBcnJheS5pc0FycmF5KG8uYmFzZUNvbG9yRmFjdG9yKSl7dmFyIGE9by5iYXNlQ29sb3JGYWN0b3I7dC5jb2xvci5mcm9tQXJyYXkoYSksdC5vcGFjaXR5PWFbM119dm9pZCAwIT09by5iYXNlQ29sb3JUZXh0dXJlJiZpLnB1c2gobi5hc3NpZ25UZXh0dXJlKHQsXCJtYXBcIixvLmJhc2VDb2xvclRleHR1cmUpKX1yZXR1cm4gUHJvbWlzZS5hbGwoaSl9LHMucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlci5qc29uLm1hdGVyaWFsc1t0XTtyZXR1cm4gZS5leHRlbnNpb25zJiZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT9yLk1lc2hQaHlzaWNhbE1hdGVyaWFsOm51bGx9LHMucHJvdG90eXBlLmV4dGVuZE1hdGVyaWFsUGFyYW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5wYXJzZXIsaT1uLmpzb24ubWF0ZXJpYWxzW3RdO2lmKCFpLmV4dGVuc2lvbnN8fCFpLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIG89W10sYT1pLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtpZih2b2lkIDAhPT1hLmNsZWFyY29hdEZhY3RvciYmKGUuY2xlYXJjb2F0PWEuY2xlYXJjb2F0RmFjdG9yKSx2b2lkIDAhPT1hLmNsZWFyY29hdFRleHR1cmUmJm8ucHVzaChuLmFzc2lnblRleHR1cmUoZSxcImNsZWFyY29hdE1hcFwiLGEuY2xlYXJjb2F0VGV4dHVyZSkpLHZvaWQgMCE9PWEuY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yJiYoZS5jbGVhcmNvYXRSb3VnaG5lc3M9YS5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IpLHZvaWQgMCE9PWEuY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSYmby5wdXNoKG4uYXNzaWduVGV4dHVyZShlLFwiY2xlYXJjb2F0Um91Z2huZXNzTWFwXCIsYS5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlKSksdm9pZCAwIT09YS5jbGVhcmNvYXROb3JtYWxUZXh0dXJlJiYoby5wdXNoKG4uYXNzaWduVGV4dHVyZShlLFwiY2xlYXJjb2F0Tm9ybWFsTWFwXCIsYS5jbGVhcmNvYXROb3JtYWxUZXh0dXJlKSksdm9pZCAwIT09YS5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlKSl7dmFyIHM9YS5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlO2UuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9bmV3IHIuVmVjdG9yMihzLHMpfXJldHVybiBQcm9taXNlLmFsbChvKX0sYy5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyc2VyLmpzb24ubWF0ZXJpYWxzW3RdO3JldHVybiBlLmV4dGVuc2lvbnMmJmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdP3IuTWVzaFBoeXNpY2FsTWF0ZXJpYWw6bnVsbH0sYy5wcm90b3R5cGUuZXh0ZW5kTWF0ZXJpYWxQYXJhbXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnBhcnNlcixyPW4uanNvbi5tYXRlcmlhbHNbdF07aWYoIXIuZXh0ZW5zaW9uc3x8IXIuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgaT1bXSxvPXIuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdO3JldHVybiB2b2lkIDAhPT1vLnRyYW5zbWlzc2lvbkZhY3RvciYmKGUudHJhbnNtaXNzaW9uPW8udHJhbnNtaXNzaW9uRmFjdG9yKSx2b2lkIDAhPT1vLnRyYW5zbWlzc2lvblRleHR1cmUmJmkucHVzaChuLmFzc2lnblRleHR1cmUoZSxcInRyYW5zbWlzc2lvbk1hcFwiLG8udHJhbnNtaXNzaW9uVGV4dHVyZSkpLFByb21pc2UuYWxsKGkpfSxsLnByb3RvdHlwZS5sb2FkVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlcixuPWUuanNvbixyPW4udGV4dHVyZXNbdF07aWYoIXIuZXh0ZW5zaW9uc3x8IXIuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdKXJldHVybiBudWxsO3ZhciBpPXIuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLG89bi5pbWFnZXNbaS5zb3VyY2VdLGE9ZS5vcHRpb25zLmt0eDJMb2FkZXI7aWYoIWEpe2lmKG4uZXh0ZW5zaW9uc1JlcXVpcmVkJiZuLmV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKHRoaXMubmFtZSk+PTApdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogc2V0S1RYMkxvYWRlciBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgbG9hZGluZyBLVFgyIHRleHR1cmVzXCIpO3JldHVybiBudWxsfXJldHVybiBlLmxvYWRUZXh0dXJlSW1hZ2UodCxvLGEpfSx1LnByb3RvdHlwZS5sb2FkVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5hbWUsbj10aGlzLnBhcnNlcixyPW4uanNvbixpPXIudGV4dHVyZXNbdF07aWYoIWkuZXh0ZW5zaW9uc3x8IWkuZXh0ZW5zaW9uc1tlXSlyZXR1cm4gbnVsbDt2YXIgbz1pLmV4dGVuc2lvbnNbZV0sYT1yLmltYWdlc1tvLnNvdXJjZV0scz1hLnVyaT9uLm9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKGEudXJpKTpuLnRleHR1cmVMb2FkZXI7cmV0dXJuIHRoaXMuZGV0ZWN0U3VwcG9ydCgpLnRoZW4oKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIG4ubG9hZFRleHR1cmVJbWFnZSh0LGEscyk7aWYoci5leHRlbnNpb25zUmVxdWlyZWQmJnIuZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoZSk+PTApdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogV2ViUCByZXF1aXJlZCBieSBhc3NldCBidXQgdW5zdXBwb3J0ZWQuXCIpO3JldHVybiBuLmxvYWRUZXh0dXJlKHQpfSkpfSx1LnByb3RvdHlwZS5kZXRlY3RTdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWR8fCh0aGlzLmlzU3VwcG9ydGVkPW5ldyBQcm9taXNlKChmdW5jdGlvbih0KXt2YXIgZT1uZXcgSW1hZ2U7ZS5zcmM9XCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaUlBQUFCWFJVSlFWbEE0SUJZQUFBQXdBUUNkQVNvQkFBRUFEc0QrSmFRQUEzQUFBQUFBXCIsZS5vbmxvYWQ9ZS5vbmVycm9yPWZ1bmN0aW9uKCl7dCgxPT09ZS5oZWlnaHQpfX0pKSksdGhpcy5pc1N1cHBvcnRlZH0saC5wcm90b3R5cGUubG9hZEJ1ZmZlclZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJzZXIuanNvbixuPWUuYnVmZmVyVmlld3NbdF07aWYobi5leHRlbnNpb25zJiZuLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSl7dmFyIHI9bi5leHRlbnNpb25zW3RoaXMubmFtZV0saT10aGlzLnBhcnNlci5nZXREZXBlbmRlbmN5KFwiYnVmZmVyXCIsci5idWZmZXIpLG89dGhpcy5wYXJzZXIub3B0aW9ucy5tZXNob3B0RGVjb2RlcjtpZighb3x8IW8uc3VwcG9ydGVkKXtpZihlLmV4dGVuc2lvbnNSZXF1aXJlZCYmZS5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZih0aGlzLm5hbWUpPj0wKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IHNldE1lc2hvcHREZWNvZGVyIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBsb2FkaW5nIGNvbXByZXNzZWQgZmlsZXNcIik7cmV0dXJuIG51bGx9cmV0dXJuIFByb21pc2UuYWxsKFtpLG8ucmVhZHldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT1yLmJ5dGVPZmZzZXR8fDAsbj1yLmJ5dGVMZW5ndGh8fDAsaT1yLmNvdW50LGE9ci5ieXRlU3RyaWRlLHM9bmV3IEFycmF5QnVmZmVyKGkqYSksYz1uZXcgVWludDhBcnJheSh0WzBdLGUsbik7cmV0dXJuIG8uZGVjb2RlR2x0ZkJ1ZmZlcihuZXcgVWludDhBcnJheShzKSxpLGEsYyxyLm1vZGUsci5maWx0ZXIpLHN9KSl9cmV0dXJuIG51bGx9O3ZhciBkPVwiZ2xURlwiLHA9MTMxMzgyMTUxNCxmPTUxMzA1NjI7ZnVuY3Rpb24gbSh0KXt0aGlzLm5hbWU9bi5LSFJfQklOQVJZX0dMVEYsdGhpcy5jb250ZW50PW51bGwsdGhpcy5ib2R5PW51bGw7dmFyIGU9bmV3IERhdGFWaWV3KHQsMCwxMik7aWYodGhpcy5oZWFkZXI9e21hZ2ljOnIuTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheSh0LnNsaWNlKDAsNCkpKSx2ZXJzaW9uOmUuZ2V0VWludDMyKDQsITApLGxlbmd0aDplLmdldFVpbnQzMig4LCEwKX0sdGhpcy5oZWFkZXIubWFnaWMhPT1kKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci5cIik7aWYodGhpcy5oZWFkZXIudmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC5cIik7Zm9yKHZhciBpPW5ldyBEYXRhVmlldyh0LDEyKSxvPTA7bzxpLmJ5dGVMZW5ndGg7KXt2YXIgYT1pLmdldFVpbnQzMihvLCEwKTtvKz00O3ZhciBzPWkuZ2V0VWludDMyKG8sITApO2lmKG8rPTQscz09PXApe3ZhciBjPW5ldyBVaW50OEFycmF5KHQsMTIrbyxhKTt0aGlzLmNvbnRlbnQ9ci5Mb2FkZXJVdGlscy5kZWNvZGVUZXh0KGMpfWVsc2UgaWYocz09PWYpe3ZhciBsPTEyK287dGhpcy5ib2R5PXQuc2xpY2UobCxsK2EpfW8rPWF9aWYobnVsbD09PXRoaXMuY29udGVudCl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBKU09OIGNvbnRlbnQgbm90IGZvdW5kLlwiKX1mdW5jdGlvbiBnKHQsZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuXCIpO3RoaXMubmFtZT1uLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OLHRoaXMuanNvbj10LHRoaXMuZHJhY29Mb2FkZXI9ZSx0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKX1mdW5jdGlvbiB2KCl7dGhpcy5uYW1lPW4uS0hSX1RFWFRVUkVfVFJBTlNGT1JNfWZ1bmN0aW9uIHkodCl7ci5NZXNoU3RhbmRhcmRNYXRlcmlhbC5jYWxsKHRoaXMpLHRoaXMuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWw9ITA7dmFyIGU9W1wiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFwiLFwiXFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7XCIsXCIjZW5kaWZcIl0uam9pbihcIlxcblwiKSxuPVtcIiNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUFwiLFwiXFx0dW5pZm9ybSBzYW1wbGVyMkQgZ2xvc3NpbmVzc01hcDtcIixcIiNlbmRpZlwiXS5qb2luKFwiXFxuXCIpLGk9W1widmVjMyBzcGVjdWxhckZhY3RvciA9IHNwZWN1bGFyO1wiLFwiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFwiLFwiXFx0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7XCIsXCJcXHR0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7XCIsXCJcXHQvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlXCIsXCJcXHRzcGVjdWxhckZhY3RvciAqPSB0ZXhlbFNwZWN1bGFyLnJnYjtcIixcIiNlbmRpZlwiXS5qb2luKFwiXFxuXCIpLG89W1wiZmxvYXQgZ2xvc3NpbmVzc0ZhY3RvciA9IGdsb3NzaW5lc3M7XCIsXCIjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVBcIixcIlxcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTtcIixcIlxcdC8vIHJlYWRzIGNoYW5uZWwgQSwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlXCIsXCJcXHRnbG9zc2luZXNzRmFjdG9yICo9IHRleGVsR2xvc3NpbmVzcy5hO1wiLFwiI2VuZGlmXCJdLmpvaW4oXCJcXG5cIiksYT1bXCJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1wiLFwibWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4gLSBtYXgoIHNwZWN1bGFyRmFjdG9yLnIsIG1heCggc3BlY3VsYXJGYWN0b3IuZywgc3BlY3VsYXJGYWN0b3IuYiApICkgKTtcIixcInZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTtcIixcImZsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApO1wiLFwibWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDUyNSApOyAvLyAwLjA1MjUgY29ycmVzcG9uZHMgdG8gdGhlIGJhc2UgbWlwIG9mIGEgMjU2IGN1YmVtYXAuXCIsXCJtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzcztcIixcIm1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgMS4wICk7XCIsXCJtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXJGYWN0b3I7XCJdLmpvaW4oXCJcXG5cIikscz17c3BlY3VsYXI6e3ZhbHVlOihuZXcgci5Db2xvcikuc2V0SGV4KDE2Nzc3MjE1KX0sZ2xvc3NpbmVzczp7dmFsdWU6MX0sc3BlY3VsYXJNYXA6e3ZhbHVlOm51bGx9LGdsb3NzaW5lc3NNYXA6e3ZhbHVlOm51bGx9fTt0aGlzLl9leHRyYVVuaWZvcm1zPXMsdGhpcy5vbkJlZm9yZUNvbXBpbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciByIGluIHMpdC51bmlmb3Jtc1tyXT1zW3JdO3QuZnJhZ21lbnRTaGFkZXI9dC5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFwidW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7XCIsXCJ1bmlmb3JtIHZlYzMgc3BlY3VsYXI7XCIpLnJlcGxhY2UoXCJ1bmlmb3JtIGZsb2F0IG1ldGFsbmVzcztcIixcInVuaWZvcm0gZmxvYXQgZ2xvc3NpbmVzcztcIikucmVwbGFjZShcIiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD5cIixlKS5yZXBsYWNlKFwiI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlwiLG4pLnJlcGxhY2UoXCIjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PlwiLGkpLnJlcGxhY2UoXCIjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PlwiLG8pLnJlcGxhY2UoXCIjaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50PlwiLGEpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtzcGVjdWxhcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuc3BlY3VsYXIudmFsdWV9LHNldDpmdW5jdGlvbih0KXtzLnNwZWN1bGFyLnZhbHVlPXR9fSxzcGVjdWxhck1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuc3BlY3VsYXJNYXAudmFsdWV9LHNldDpmdW5jdGlvbih0KXtzLnNwZWN1bGFyTWFwLnZhbHVlPXQsdD90aGlzLmRlZmluZXMuVVNFX1NQRUNVTEFSTUFQPVwiXCI6ZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfU1BFQ1VMQVJNQVB9fSxnbG9zc2luZXNzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5nbG9zc2luZXNzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCl7cy5nbG9zc2luZXNzLnZhbHVlPXR9fSxnbG9zc2luZXNzTWFwOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5nbG9zc2luZXNzTWFwLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCl7cy5nbG9zc2luZXNzTWFwLnZhbHVlPXQsdD8odGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQPVwiXCIsdGhpcy5kZWZpbmVzLlVTRV9VVj1cIlwiKTooZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUCxkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9VVil9fX0pLGRlbGV0ZSB0aGlzLm1ldGFsbmVzcyxkZWxldGUgdGhpcy5yb3VnaG5lc3MsZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwLGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcCx0aGlzLnNldFZhbHVlcyh0KX1mdW5jdGlvbiB4KCl7cmV0dXJue25hbWU6bi5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTLHNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtczpbXCJjb2xvclwiLFwibWFwXCIsXCJsaWdodE1hcFwiLFwibGlnaHRNYXBJbnRlbnNpdHlcIixcImFvTWFwXCIsXCJhb01hcEludGVuc2l0eVwiLFwiZW1pc3NpdmVcIixcImVtaXNzaXZlSW50ZW5zaXR5XCIsXCJlbWlzc2l2ZU1hcFwiLFwiYnVtcE1hcFwiLFwiYnVtcFNjYWxlXCIsXCJub3JtYWxNYXBcIixcIm5vcm1hbE1hcFR5cGVcIixcImRpc3BsYWNlbWVudE1hcFwiLFwiZGlzcGxhY2VtZW50U2NhbGVcIixcImRpc3BsYWNlbWVudEJpYXNcIixcInNwZWN1bGFyTWFwXCIsXCJzcGVjdWxhclwiLFwiZ2xvc3NpbmVzc01hcFwiLFwiZ2xvc3NpbmVzc1wiLFwiYWxwaGFNYXBcIixcImVudk1hcFwiLFwiZW52TWFwSW50ZW5zaXR5XCIsXCJyZWZyYWN0aW9uUmF0aW9cIl0sZ2V0TWF0ZXJpYWxUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LGV4dGVuZFBhcmFtczpmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5leHRlbnNpb25zW3RoaXMubmFtZV07dC5jb2xvcj1uZXcgci5Db2xvcigxLDEsMSksdC5vcGFjaXR5PTE7dmFyIG89W107aWYoQXJyYXkuaXNBcnJheShpLmRpZmZ1c2VGYWN0b3IpKXt2YXIgYT1pLmRpZmZ1c2VGYWN0b3I7dC5jb2xvci5mcm9tQXJyYXkoYSksdC5vcGFjaXR5PWFbM119aWYodm9pZCAwIT09aS5kaWZmdXNlVGV4dHVyZSYmby5wdXNoKG4uYXNzaWduVGV4dHVyZSh0LFwibWFwXCIsaS5kaWZmdXNlVGV4dHVyZSkpLHQuZW1pc3NpdmU9bmV3IHIuQ29sb3IoMCwwLDApLHQuZ2xvc3NpbmVzcz12b2lkIDAhPT1pLmdsb3NzaW5lc3NGYWN0b3I/aS5nbG9zc2luZXNzRmFjdG9yOjEsdC5zcGVjdWxhcj1uZXcgci5Db2xvcigxLDEsMSksQXJyYXkuaXNBcnJheShpLnNwZWN1bGFyRmFjdG9yKSYmdC5zcGVjdWxhci5mcm9tQXJyYXkoaS5zcGVjdWxhckZhY3Rvciksdm9pZCAwIT09aS5zcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlKXt2YXIgcz1pLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmU7by5wdXNoKG4uYXNzaWduVGV4dHVyZSh0LFwiZ2xvc3NpbmVzc01hcFwiLHMpKSxvLnB1c2gobi5hc3NpZ25UZXh0dXJlKHQsXCJzcGVjdWxhck1hcFwiLHMpKX1yZXR1cm4gUHJvbWlzZS5hbGwobyl9LGNyZWF0ZU1hdGVyaWFsOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB5KHQpO3JldHVybiBlLmZvZz0hMCxlLmNvbG9yPXQuY29sb3IsZS5tYXA9dm9pZCAwPT09dC5tYXA/bnVsbDp0Lm1hcCxlLmxpZ2h0TWFwPW51bGwsZS5saWdodE1hcEludGVuc2l0eT0xLGUuYW9NYXA9dm9pZCAwPT09dC5hb01hcD9udWxsOnQuYW9NYXAsZS5hb01hcEludGVuc2l0eT0xLGUuZW1pc3NpdmU9dC5lbWlzc2l2ZSxlLmVtaXNzaXZlSW50ZW5zaXR5PTEsZS5lbWlzc2l2ZU1hcD12b2lkIDA9PT10LmVtaXNzaXZlTWFwP251bGw6dC5lbWlzc2l2ZU1hcCxlLmJ1bXBNYXA9dm9pZCAwPT09dC5idW1wTWFwP251bGw6dC5idW1wTWFwLGUuYnVtcFNjYWxlPTEsZS5ub3JtYWxNYXA9dm9pZCAwPT09dC5ub3JtYWxNYXA/bnVsbDp0Lm5vcm1hbE1hcCxlLm5vcm1hbE1hcFR5cGU9ci5UYW5nZW50U3BhY2VOb3JtYWxNYXAsdC5ub3JtYWxTY2FsZSYmKGUubm9ybWFsU2NhbGU9dC5ub3JtYWxTY2FsZSksZS5kaXNwbGFjZW1lbnRNYXA9bnVsbCxlLmRpc3BsYWNlbWVudFNjYWxlPTEsZS5kaXNwbGFjZW1lbnRCaWFzPTAsZS5zcGVjdWxhck1hcD12b2lkIDA9PT10LnNwZWN1bGFyTWFwP251bGw6dC5zcGVjdWxhck1hcCxlLnNwZWN1bGFyPXQuc3BlY3VsYXIsZS5nbG9zc2luZXNzTWFwPXZvaWQgMD09PXQuZ2xvc3NpbmVzc01hcD9udWxsOnQuZ2xvc3NpbmVzc01hcCxlLmdsb3NzaW5lc3M9dC5nbG9zc2luZXNzLGUuYWxwaGFNYXA9bnVsbCxlLmVudk1hcD12b2lkIDA9PT10LmVudk1hcD9udWxsOnQuZW52TWFwLGUuZW52TWFwSW50ZW5zaXR5PTEsZS5yZWZyYWN0aW9uUmF0aW89Ljk4LGV9fX1mdW5jdGlvbiBiKCl7dGhpcy5uYW1lPW4uS0hSX01FU0hfUVVBTlRJWkFUSU9OfWZ1bmN0aW9uIHcodCxlLG4saSl7ci5JbnRlcnBvbGFudC5jYWxsKHRoaXMsdCxlLG4saSl9Zy5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5qc29uLHI9dGhpcy5kcmFjb0xvYWRlcixpPXQuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmJ1ZmZlclZpZXcsbz10LmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5hdHRyaWJ1dGVzLGE9e30scz17fSxjPXt9O2Zvcih2YXIgbCBpbiBvKXt2YXIgdT1PW2xdfHxsLnRvTG93ZXJDYXNlKCk7YVt1XT1vW2xdfWZvcihsIGluIHQuYXR0cmlidXRlcyl7dT1PW2xdfHxsLnRvTG93ZXJDYXNlKCk7aWYodm9pZCAwIT09b1tsXSl7dmFyIGg9bi5hY2Nlc3NvcnNbdC5hdHRyaWJ1dGVzW2xdXSxkPVJbaC5jb21wb25lbnRUeXBlXTtjW3VdPWQsc1t1XT0hMD09PWgubm9ybWFsaXplZH19cmV0dXJuIGUuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIixpKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3IuZGVjb2RlRHJhY29GaWxlKHQsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0LmF0dHJpYnV0ZXMpe3ZhciByPXQuYXR0cmlidXRlc1tuXSxpPXNbbl07dm9pZCAwIT09aSYmKHIubm9ybWFsaXplZD1pKX1lKHQpfSksYSxjKX0pKX0pKX0sdi5wcm90b3R5cGUuZXh0ZW5kVGV4dHVyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PXQuY2xvbmUoKSx2b2lkIDAhPT1lLm9mZnNldCYmdC5vZmZzZXQuZnJvbUFycmF5KGUub2Zmc2V0KSx2b2lkIDAhPT1lLnJvdGF0aW9uJiYodC5yb3RhdGlvbj1lLnJvdGF0aW9uKSx2b2lkIDAhPT1lLnNjYWxlJiZ0LnJlcGVhdC5mcm9tQXJyYXkoZS5zY2FsZSksdm9pZCAwIT09ZS50ZXhDb29yZCYmY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0cyBpbiBcIicrdGhpcy5uYW1lKydcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJyksdC5uZWVkc1VwZGF0ZT0hMCx0fSx5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuTWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlKSx5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj15LHkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHIuTWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuc3BlY3VsYXJNYXA9dC5zcGVjdWxhck1hcCx0aGlzLnNwZWN1bGFyLmNvcHkodC5zcGVjdWxhciksdGhpcy5nbG9zc2luZXNzTWFwPXQuZ2xvc3NpbmVzc01hcCx0aGlzLmdsb3NzaW5lc3M9dC5nbG9zc2luZXNzLGRlbGV0ZSB0aGlzLm1ldGFsbmVzcyxkZWxldGUgdGhpcy5yb3VnaG5lc3MsZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwLGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcCx0aGlzfSx3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuSW50ZXJwb2xhbnQucHJvdG90eXBlKSx3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj13LHcucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMscj10aGlzLnZhbHVlU2l6ZSxpPXQqciozK3Isbz0wO28hPT1yO28rKyllW29dPW5baStvXTtyZXR1cm4gZX0sdy5wcm90b3R5cGUuYmVmb3JlU3RhcnRfPXcucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sdy5wcm90b3R5cGUuYWZ0ZXJFbmRfPXcucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sdy5wcm90b3R5cGUuaW50ZXJwb2xhdGVfPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaT10aGlzLnJlc3VsdEJ1ZmZlcixvPXRoaXMuc2FtcGxlVmFsdWVzLGE9dGhpcy52YWx1ZVNpemUscz0yKmEsYz0zKmEsbD1yLWUsdT0obi1lKS9sLGg9dSp1LGQ9aCp1LHA9dCpjLGY9cC1jLG09LTIqZCszKmgsZz1kLWgsdj0xLW0seT1nLWgrdSx4PTA7eCE9PWE7eCsrKXt2YXIgYj1vW2YreCthXSx3PW9bZit4K3NdKmwsXz1vW3AreCthXSxNPW9bcCt4XSpsO2lbeF09dipiK3kqdyttKl8rZypNfXJldHVybiBpfTt2YXIgXz0wLE09MSxTPTIsVD0zLEU9NCxBPTUsTD02LFI9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksNTEyMzpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LDUxMjY6RmxvYXQzMkFycmF5fSxQPXs5NzI4OnIuTmVhcmVzdEZpbHRlciw5NzI5OnIuTGluZWFyRmlsdGVyLDk5ODQ6ci5OZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlciw5OTg1OnIuTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciw5OTg2OnIuTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlciw5OTg3OnIuTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyfSxDPXszMzA3MTpyLkNsYW1wVG9FZGdlV3JhcHBpbmcsMzM2NDg6ci5NaXJyb3JlZFJlcGVhdFdyYXBwaW5nLDEwNDk3OnIuUmVwZWF0V3JhcHBpbmd9LEk9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn0sTz17UE9TSVRJT046XCJwb3NpdGlvblwiLE5PUk1BTDpcIm5vcm1hbFwiLFRBTkdFTlQ6XCJ0YW5nZW50XCIsVEVYQ09PUkRfMDpcInV2XCIsVEVYQ09PUkRfMTpcInV2MlwiLENPTE9SXzA6XCJjb2xvclwiLFdFSUdIVFNfMDpcInNraW5XZWlnaHRcIixKT0lOVFNfMDpcInNraW5JbmRleFwifSxOPXtzY2FsZTpcInNjYWxlXCIsdHJhbnNsYXRpb246XCJwb3NpdGlvblwiLHJvdGF0aW9uOlwicXVhdGVybmlvblwiLHdlaWdodHM6XCJtb3JwaFRhcmdldEluZmx1ZW5jZXNcIn0sRD17Q1VCSUNTUExJTkU6dm9pZCAwLExJTkVBUjpyLkludGVycG9sYXRlTGluZWFyLFNURVA6ci5JbnRlcnBvbGF0ZURpc2NyZXRlfSxCPVwiT1BBUVVFXCIsRj1cIk1BU0tcIixVPVwiQkxFTkRcIjtmdW5jdGlvbiB6KHQsZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwiXCI9PT10P1wiXCI6KC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QoZSkmJi9eXFwvLy50ZXN0KHQpJiYoZT1lLnJlcGxhY2UoLyheaHR0cHM/OlxcL1xcL1teXFwvXSspLiovaSxcIiQxXCIpKSwvXihodHRwcz86KT9cXC9cXC8vaS50ZXN0KHQpfHwvXmRhdGE6LiosLiokL2kudGVzdCh0KXx8L15ibG9iOi4qJC9pLnRlc3QodCk/dDplK3QpfWZ1bmN0aW9uIEcodCxlLG4pe2Zvcih2YXIgciBpbiBuLmV4dGVuc2lvbnMpdm9pZCAwPT09dFtyXSYmKGUudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnM9ZS51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc3x8e30sZS51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1tyXT1uLmV4dGVuc2lvbnNbcl0pfWZ1bmN0aW9uIEgodCxlKXt2b2lkIDAhPT1lLmV4dHJhcyYmKFwib2JqZWN0XCI9PXR5cGVvZiBlLmV4dHJhcz9PYmplY3QuYXNzaWduKHQudXNlckRhdGEsZS5leHRyYXMpOmNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsIFwiK2UuZXh0cmFzKSl9ZnVuY3Rpb24gayh0LGUpe2lmKHQudXBkYXRlTW9ycGhUYXJnZXRzKCksdm9pZCAwIT09ZS53ZWlnaHRzKWZvcih2YXIgbj0wLHI9ZS53ZWlnaHRzLmxlbmd0aDtuPHI7bisrKXQubW9ycGhUYXJnZXRJbmZsdWVuY2VzW25dPWUud2VpZ2h0c1tuXTtpZihlLmV4dHJhcyYmQXJyYXkuaXNBcnJheShlLmV4dHJhcy50YXJnZXROYW1lcykpe3ZhciBpPWUuZXh0cmFzLnRhcmdldE5hbWVzO2lmKHQubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aD09PWkubGVuZ3RoKXt0Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3Iobj0wLHI9aS5sZW5ndGg7bjxyO24rKyl0Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtpW25dXT1ufWVsc2UgY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkxvYWRlcjogSW52YWxpZCBleHRyYXMudGFyZ2V0TmFtZXMgbGVuZ3RoLiBJZ25vcmluZyBuYW1lcy5cIil9fWZ1bmN0aW9uIFYodCl7Zm9yKHZhciBlPVwiXCIsbj1PYmplY3Qua2V5cyh0KS5zb3J0KCkscj0wLGk9bi5sZW5ndGg7cjxpO3IrKyllKz1uW3JdK1wiOlwiK3RbbltyXV0rXCI7XCI7cmV0dXJuIGV9ZnVuY3Rpb24gaih0LG4pe3RoaXMuanNvbj10fHx7fSx0aGlzLmV4dGVuc2lvbnM9e30sdGhpcy5wbHVnaW5zPXt9LHRoaXMub3B0aW9ucz1ufHx7fSx0aGlzLmNhY2hlPW5ldyBlLHRoaXMuYXNzb2NpYXRpb25zPW5ldyBNYXAsdGhpcy5wcmltaXRpdmVDYWNoZT17fSx0aGlzLm1lc2hDYWNoZT17cmVmczp7fSx1c2VzOnt9fSx0aGlzLmNhbWVyYUNhY2hlPXtyZWZzOnt9LHVzZXM6e319LHRoaXMubGlnaHRDYWNoZT17cmVmczp7fSx1c2VzOnt9fSx0aGlzLm5vZGVOYW1lc1VzZWQ9e30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwJiYhMT09PS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3RoaXMudGV4dHVyZUxvYWRlcj1uZXcgci5JbWFnZUJpdG1hcExvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik6dGhpcy50ZXh0dXJlTG9hZGVyPW5ldyByLlRleHR1cmVMb2FkZXIodGhpcy5vcHRpb25zLm1hbmFnZXIpLHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pLHRoaXMuZmlsZUxvYWRlcj1uZXcgci5GaWxlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKSx0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIiksXCJ1c2UtY3JlZGVudGlhbHNcIj09PXRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiYmdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyghMCl9ZnVuY3Rpb24gVyh0LGUsbil7dmFyIGk9ZS5hdHRyaWJ1dGVzLG89W107ZnVuY3Rpb24gYShlLHIpe3JldHVybiBuLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3Quc2V0QXR0cmlidXRlKHIsZSl9KSl9Zm9yKHZhciBzIGluIGkpe3ZhciBjPU9bc118fHMudG9Mb3dlckNhc2UoKTtjIGluIHQuYXR0cmlidXRlc3x8by5wdXNoKGEoaVtzXSxjKSl9aWYodm9pZCAwIT09ZS5pbmRpY2VzJiYhdC5pbmRleCl7dmFyIGw9bi5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIixlLmluZGljZXMpLnRoZW4oKGZ1bmN0aW9uKGUpe3Quc2V0SW5kZXgoZSl9KSk7by5wdXNoKGwpfXJldHVybiBIKHQsZSksZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuYXR0cmlidXRlcyxvPW5ldyByLkJveDM7aWYodm9pZCAwIT09aS5QT1NJVElPTil7dmFyIGE9KGY9bi5qc29uLmFjY2Vzc29yc1tpLlBPU0lUSU9OXSkubWluLHM9Zi5tYXg7aWYodm9pZCAwIT09YSYmdm9pZCAwIT09cyl7by5zZXQobmV3IHIuVmVjdG9yMyhhWzBdLGFbMV0sYVsyXSksbmV3IHIuVmVjdG9yMyhzWzBdLHNbMV0sc1syXSkpO3ZhciBjPWUudGFyZ2V0cztpZih2b2lkIDAhPT1jKXtmb3IodmFyIGw9bmV3IHIuVmVjdG9yMyx1PW5ldyByLlZlY3RvcjMsaD0wLGQ9Yy5sZW5ndGg7aDxkO2grKyl7dmFyIHA9Y1toXTtpZih2b2lkIDAhPT1wLlBPU0lUSU9OKXt2YXIgZjthPShmPW4uanNvbi5hY2Nlc3NvcnNbcC5QT1NJVElPTl0pLm1pbixzPWYubWF4O3ZvaWQgMCE9PWEmJnZvaWQgMCE9PXM/KHUuc2V0WChNYXRoLm1heChNYXRoLmFicyhhWzBdKSxNYXRoLmFicyhzWzBdKSkpLHUuc2V0WShNYXRoLm1heChNYXRoLmFicyhhWzFdKSxNYXRoLmFicyhzWzFdKSkpLHUuc2V0WihNYXRoLm1heChNYXRoLmFicyhhWzJdKSxNYXRoLmFicyhzWzJdKSkpLGwubWF4KHUpKTpjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uXCIpfX1vLmV4cGFuZEJ5VmVjdG9yKGwpfXQuYm91bmRpbmdCb3g9bzt2YXIgbT1uZXcgci5TcGhlcmU7by5nZXRDZW50ZXIobS5jZW50ZXIpLG0ucmFkaXVzPW8ubWluLmRpc3RhbmNlVG8oby5tYXgpLzIsdC5ib3VuZGluZ1NwaGVyZT1tfWVsc2UgY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLlwiKX19KHQsZSxuKSxQcm9taXNlLmFsbChvKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1lLnRhcmdldHM/ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0hMSxpPSExLG89MCxhPWUubGVuZ3RoO288YTtvKyspe2lmKHZvaWQgMCE9PShsPWVbb10pLlBPU0lUSU9OJiYocj0hMCksdm9pZCAwIT09bC5OT1JNQUwmJihpPSEwKSxyJiZpKWJyZWFrfWlmKCFyJiYhaSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpO3ZhciBzPVtdLGM9W107Zm9yKG89MCxhPWUubGVuZ3RoO288YTtvKyspe3ZhciBsPWVbb107aWYocil7dmFyIHU9dm9pZCAwIT09bC5QT1NJVElPTj9uLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLGwuUE9TSVRJT04pOnQuYXR0cmlidXRlcy5wb3NpdGlvbjtzLnB1c2godSl9aWYoaSl7dT12b2lkIDAhPT1sLk5PUk1BTD9uLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLGwuTk9STUFMKTp0LmF0dHJpYnV0ZXMubm9ybWFsO2MucHVzaCh1KX19cmV0dXJuIFByb21pc2UuYWxsKFtQcm9taXNlLmFsbChzKSxQcm9taXNlLmFsbChjKV0pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWVbMF0sbz1lWzFdO3JldHVybiByJiYodC5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb249biksaSYmKHQubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbD1vKSx0Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSEwLHR9KSl9KHQsZS50YXJnZXRzLG4pOnR9KSl9ZnVuY3Rpb24gWCh0LGUpe3ZhciBuPXQuZ2V0SW5kZXgoKTtpZihudWxsPT09bil7dmFyIGk9W10sbz10LmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO2lmKHZvaWQgMD09PW8pcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5kZWZpbmVkIHBvc2l0aW9uIGF0dHJpYnV0ZS4gUHJvY2Vzc2luZyBub3QgcG9zc2libGUuXCIpLHQ7Zm9yKHZhciBhPTA7YTxvLmNvdW50O2ErKylpLnB1c2goYSk7dC5zZXRJbmRleChpKSxuPXQuZ2V0SW5kZXgoKX12YXIgcz1uLmNvdW50LTIsYz1bXTtpZihlPT09ci5UcmlhbmdsZUZhbkRyYXdNb2RlKWZvcihhPTE7YTw9czthKyspYy5wdXNoKG4uZ2V0WCgwKSksYy5wdXNoKG4uZ2V0WChhKSksYy5wdXNoKG4uZ2V0WChhKzEpKTtlbHNlIGZvcihhPTA7YTxzO2ErKylhJTI9PTA/KGMucHVzaChuLmdldFgoYSkpLGMucHVzaChuLmdldFgoYSsxKSksYy5wdXNoKG4uZ2V0WChhKzIpKSk6KGMucHVzaChuLmdldFgoYSsyKSksYy5wdXNoKG4uZ2V0WChhKzEpKSxjLnB1c2gobi5nZXRYKGEpKSk7Yy5sZW5ndGgvMyE9PXMmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5hYmxlIHRvIGdlbmVyYXRlIGNvcnJlY3QgYW1vdW50IG9mIHRyaWFuZ2xlcy5cIik7dmFyIGw9dC5jbG9uZSgpO3JldHVybiBsLnNldEluZGV4KGMpLGx9cmV0dXJuIGoucHJvdG90eXBlLnNldEV4dGVuc2lvbnM9ZnVuY3Rpb24odCl7dGhpcy5leHRlbnNpb25zPXR9LGoucHJvdG90eXBlLnNldFBsdWdpbnM9ZnVuY3Rpb24odCl7dGhpcy5wbHVnaW5zPXR9LGoucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuanNvbixpPXRoaXMuZXh0ZW5zaW9uczt0aGlzLmNhY2hlLnJlbW92ZUFsbCgpLHRoaXMuX2ludm9rZUFsbCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuX21hcmtEZWZzJiZ0Ll9tYXJrRGVmcygpfSkpLFByb21pc2UuYWxsKFt0aGlzLmdldERlcGVuZGVuY2llcyhcInNjZW5lXCIpLHRoaXMuZ2V0RGVwZW5kZW5jaWVzKFwiYW5pbWF0aW9uXCIpLHRoaXMuZ2V0RGVwZW5kZW5jaWVzKFwiY2FtZXJhXCIpXSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG89e3NjZW5lOmVbMF1bci5zY2VuZXx8MF0sc2NlbmVzOmVbMF0sYW5pbWF0aW9uczplWzFdLGNhbWVyYXM6ZVsyXSxhc3NldDpyLmFzc2V0LHBhcnNlcjpuLHVzZXJEYXRhOnt9fTtHKGksbyxyKSxIKG8sciksdChvKX0pKS5jYXRjaChlKX0sai5wcm90b3R5cGUuX21hcmtEZWZzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuanNvbi5ub2Rlc3x8W10sZT10aGlzLmpzb24uc2tpbnN8fFtdLG49dGhpcy5qc29uLm1lc2hlc3x8W10scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG89ZVtyXS5qb2ludHMsYT0wLHM9by5sZW5ndGg7YTxzO2ErKyl0W29bYV1dLmlzQm9uZT0hMDtmb3IodmFyIGM9MCxsPXQubGVuZ3RoO2M8bDtjKyspe3ZhciB1PXRbY107dm9pZCAwIT09dS5tZXNoJiYodGhpcy5fYWRkTm9kZVJlZih0aGlzLm1lc2hDYWNoZSx1Lm1lc2gpLHZvaWQgMCE9PXUuc2tpbiYmKG5bdS5tZXNoXS5pc1NraW5uZWRNZXNoPSEwKSksdm9pZCAwIT09dS5jYW1lcmEmJnRoaXMuX2FkZE5vZGVSZWYodGhpcy5jYW1lcmFDYWNoZSx1LmNhbWVyYSl9fSxqLnByb3RvdHlwZS5fYWRkTm9kZVJlZj1mdW5jdGlvbih0LGUpe3ZvaWQgMCE9PWUmJih2b2lkIDA9PT10LnJlZnNbZV0mJih0LnJlZnNbZV09dC51c2VzW2VdPTApLHQucmVmc1tlXSsrKX0sai5wcm90b3R5cGUuX2dldE5vZGVSZWY9ZnVuY3Rpb24odCxlLG4pe2lmKHQucmVmc1tlXTw9MSlyZXR1cm4gbjt2YXIgcj1uLmNsb25lKCk7cmV0dXJuIHIubmFtZSs9XCJfaW5zdGFuY2VfXCIrdC51c2VzW2VdKysscn0sai5wcm90b3R5cGUuX2ludm9rZU9uZT1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QudmFsdWVzKHRoaXMucGx1Z2lucyk7ZS5wdXNoKHRoaXMpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj10KGVbbl0pO2lmKHIpcmV0dXJuIHJ9fSxqLnByb3RvdHlwZS5faW52b2tlQWxsPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC52YWx1ZXModGhpcy5wbHVnaW5zKTtlLnVuc2hpZnQodGhpcyk7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9dChlW3JdKTtpJiZuLnB1c2goaSl9cmV0dXJuIG59LGoucHJvdG90eXBlLmdldERlcGVuZGVuY3k9ZnVuY3Rpb24odCxlKXt2YXIgbj10K1wiOlwiK2Uscj10aGlzLmNhY2hlLmdldChuKTtpZighcil7c3dpdGNoKHQpe2Nhc2VcInNjZW5lXCI6cj10aGlzLmxvYWRTY2VuZShlKTticmVhaztjYXNlXCJub2RlXCI6cj10aGlzLmxvYWROb2RlKGUpO2JyZWFrO2Nhc2VcIm1lc2hcIjpyPXRoaXMuX2ludm9rZU9uZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9hZE1lc2gmJnQubG9hZE1lc2goZSl9KSk7YnJlYWs7Y2FzZVwiYWNjZXNzb3JcIjpyPXRoaXMubG9hZEFjY2Vzc29yKGUpO2JyZWFrO2Nhc2VcImJ1ZmZlclZpZXdcIjpyPXRoaXMuX2ludm9rZU9uZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9hZEJ1ZmZlclZpZXcmJnQubG9hZEJ1ZmZlclZpZXcoZSl9KSk7YnJlYWs7Y2FzZVwiYnVmZmVyXCI6cj10aGlzLmxvYWRCdWZmZXIoZSk7YnJlYWs7Y2FzZVwibWF0ZXJpYWxcIjpyPXRoaXMuX2ludm9rZU9uZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9hZE1hdGVyaWFsJiZ0LmxvYWRNYXRlcmlhbChlKX0pKTticmVhaztjYXNlXCJ0ZXh0dXJlXCI6cj10aGlzLl9pbnZva2VPbmUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvYWRUZXh0dXJlJiZ0LmxvYWRUZXh0dXJlKGUpfSkpO2JyZWFrO2Nhc2VcInNraW5cIjpyPXRoaXMubG9hZFNraW4oZSk7YnJlYWs7Y2FzZVwiYW5pbWF0aW9uXCI6cj10aGlzLmxvYWRBbmltYXRpb24oZSk7YnJlYWs7Y2FzZVwiY2FtZXJhXCI6cj10aGlzLmxvYWRDYW1lcmEoZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3QpfXRoaXMuY2FjaGUuYWRkKG4scil9cmV0dXJuIHJ9LGoucHJvdG90eXBlLmdldERlcGVuZGVuY2llcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhY2hlLmdldCh0KTtpZighZSl7dmFyIG49dGhpcyxyPXRoaXMuanNvblt0KyhcIm1lc2hcIj09PXQ/XCJlc1wiOlwic1wiKV18fFtdO2U9UHJvbWlzZS5hbGwoci5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIG4uZ2V0RGVwZW5kZW5jeSh0LHIpfSkpKSx0aGlzLmNhY2hlLmFkZCh0LGUpfXJldHVybiBlfSxqLnByb3RvdHlwZS5sb2FkQnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuanNvbi5idWZmZXJzW3RdLHI9dGhpcy5maWxlTG9hZGVyO2lmKGUudHlwZSYmXCJhcnJheWJ1ZmZlclwiIT09ZS50eXBlKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFwiK2UudHlwZStcIiBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLlwiKTtpZih2b2lkIDA9PT1lLnVyaSYmMD09PXQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmV4dGVuc2lvbnNbbi5LSFJfQklOQVJZX0dMVEZdLmJvZHkpO3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ci5sb2FkKHooZS51cmksaS5wYXRoKSx0LHZvaWQgMCwoZnVuY3Rpb24oKXtuKG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJytlLnVyaSsnXCIuJykpfSkpfSkpfSxqLnByb3RvdHlwZS5sb2FkQnVmZmVyVmlldz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmpzb24uYnVmZmVyVmlld3NbdF07cmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclwiLGUuYnVmZmVyKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj1lLmJ5dGVMZW5ndGh8fDAscj1lLmJ5dGVPZmZzZXR8fDA7cmV0dXJuIHQuc2xpY2UocixyK24pfSkpfSxqLnByb3RvdHlwZS5sb2FkQWNjZXNzb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuanNvbixpPXRoaXMuanNvbi5hY2Nlc3NvcnNbdF07aWYodm9pZCAwPT09aS5idWZmZXJWaWV3JiZ2b2lkIDA9PT1pLnNwYXJzZSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO3ZhciBvPVtdO3JldHVybiB2b2lkIDAhPT1pLmJ1ZmZlclZpZXc/by5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIixpLmJ1ZmZlclZpZXcpKTpvLnB1c2gobnVsbCksdm9pZCAwIT09aS5zcGFyc2UmJihvLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KFwiYnVmZmVyVmlld1wiLGkuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldykpLG8ucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJidWZmZXJWaWV3XCIsaS5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcpKSksUHJvbWlzZS5hbGwobykudGhlbigoZnVuY3Rpb24odCl7dmFyIG8sYSxzPXRbMF0sYz1JW2kudHlwZV0sbD1SW2kuY29tcG9uZW50VHlwZV0sdT1sLkJZVEVTX1BFUl9FTEVNRU5ULGg9dSpjLGQ9aS5ieXRlT2Zmc2V0fHwwLHA9dm9pZCAwIT09aS5idWZmZXJWaWV3P24uYnVmZmVyVmlld3NbaS5idWZmZXJWaWV3XS5ieXRlU3RyaWRlOnZvaWQgMCxmPSEwPT09aS5ub3JtYWxpemVkO2lmKHAmJnAhPT1oKXt2YXIgbT1NYXRoLmZsb29yKGQvcCksZz1cIkludGVybGVhdmVkQnVmZmVyOlwiK2kuYnVmZmVyVmlldytcIjpcIitpLmNvbXBvbmVudFR5cGUrXCI6XCIrbStcIjpcIitpLmNvdW50LHY9ZS5jYWNoZS5nZXQoZyk7dnx8KG89bmV3IGwocyxtKnAsaS5jb3VudCpwL3UpLHY9bmV3IHIuSW50ZXJsZWF2ZWRCdWZmZXIobyxwL3UpLGUuY2FjaGUuYWRkKGcsdikpLGE9bmV3IHIuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUodixjLGQlcC91LGYpfWVsc2Ugbz1udWxsPT09cz9uZXcgbChpLmNvdW50KmMpOm5ldyBsKHMsZCxpLmNvdW50KmMpLGE9bmV3IHIuQnVmZmVyQXR0cmlidXRlKG8sYyxmKTtpZih2b2lkIDAhPT1pLnNwYXJzZSl7dmFyIHk9SS5TQ0FMQVIseD1SW2kuc3BhcnNlLmluZGljZXMuY29tcG9uZW50VHlwZV0sYj1pLnNwYXJzZS5pbmRpY2VzLmJ5dGVPZmZzZXR8fDAsdz1pLnNwYXJzZS52YWx1ZXMuYnl0ZU9mZnNldHx8MCxfPW5ldyB4KHRbMV0sYixpLnNwYXJzZS5jb3VudCp5KSxNPW5ldyBsKHRbMl0sdyxpLnNwYXJzZS5jb3VudCpjKTtudWxsIT09cyYmKGE9bmV3IHIuQnVmZmVyQXR0cmlidXRlKGEuYXJyYXkuc2xpY2UoKSxhLml0ZW1TaXplLGEubm9ybWFsaXplZCkpO2Zvcih2YXIgUz0wLFQ9Xy5sZW5ndGg7UzxUO1MrKyl7dmFyIEU9X1tTXTtpZihhLnNldFgoRSxNW1MqY10pLGM+PTImJmEuc2V0WShFLE1bUypjKzFdKSxjPj0zJiZhLnNldFooRSxNW1MqYysyXSksYz49NCYmYS5zZXRXKEUsTVtTKmMrM10pLGM+PTUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgaXRlbVNpemUgaW4gc3BhcnNlIEJ1ZmZlckF0dHJpYnV0ZS5cIil9fXJldHVybiBhfSkpfSxqLnByb3RvdHlwZS5sb2FkVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZSxyLGk9dGhpcy5qc29uLG89dGhpcy5vcHRpb25zLGE9aS50ZXh0dXJlc1t0XSxzPWEuZXh0ZW5zaW9uc3x8e307cmV0dXJuKGU9c1tuLk1TRlRfVEVYVFVSRV9ERFNdP2kuaW1hZ2VzW3Nbbi5NU0ZUX1RFWFRVUkVfRERTXS5zb3VyY2VdOmkuaW1hZ2VzW2Euc291cmNlXSkudXJpJiYocj1vLm1hbmFnZXIuZ2V0SGFuZGxlcihlLnVyaSkpLHJ8fChyPXNbbi5NU0ZUX1RFWFRVUkVfRERTXT90aGlzLmV4dGVuc2lvbnNbbi5NU0ZUX1RFWFRVUkVfRERTXS5kZHNMb2FkZXI6dGhpcy50ZXh0dXJlTG9hZGVyKSx0aGlzLmxvYWRUZXh0dXJlSW1hZ2UodCxlLHIpfSxqLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLG89dGhpcy5qc29uLGE9dGhpcy5vcHRpb25zLHM9by50ZXh0dXJlc1t0XSxjPXNlbGYuVVJMfHxzZWxmLndlYmtpdFVSTCxsPWUudXJpLHU9ITEsaD0hMDtyZXR1cm5cImltYWdlL2pwZWdcIj09PWUubWltZVR5cGUmJihoPSExKSx2b2lkIDAhPT1lLmJ1ZmZlclZpZXcmJihsPWkuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIixlLmJ1ZmZlclZpZXcpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKFwiaW1hZ2UvcG5nXCI9PT1lLm1pbWVUeXBlKXt2YXIgbj1uZXcgRGF0YVZpZXcodCwyNSwxKS5nZXRVaW50OCgwLCExKTtoPTY9PT1ufHw0PT09bnx8Mz09PW59dT0hMDt2YXIgcj1uZXcgQmxvYihbdF0se3R5cGU6ZS5taW1lVHlwZX0pO3JldHVybiBsPWMuY3JlYXRlT2JqZWN0VVJMKHIpfSkpKSxQcm9taXNlLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe3ZhciBvPWU7ITA9PT1uLmlzSW1hZ2VCaXRtYXBMb2FkZXImJihvPWZ1bmN0aW9uKHQpe2UobmV3IHIuQ2FudmFzVGV4dHVyZSh0KSl9KSxuLmxvYWQoeih0LGEucGF0aCksbyx2b2lkIDAsaSl9KSl9KSkudGhlbigoZnVuY3Rpb24oZSl7ITA9PT11JiZjLnJldm9rZU9iamVjdFVSTChsKSxlLmZsaXBZPSExLHMubmFtZSYmKGUubmFtZT1zLm5hbWUpLGh8fChlLmZvcm1hdD1yLlJHQkZvcm1hdCk7dmFyIG49KG8uc2FtcGxlcnN8fHt9KVtzLnNhbXBsZXJdfHx7fTtyZXR1cm4gZS5tYWdGaWx0ZXI9UFtuLm1hZ0ZpbHRlcl18fHIuTGluZWFyRmlsdGVyLGUubWluRmlsdGVyPVBbbi5taW5GaWx0ZXJdfHxyLkxpbmVhck1pcG1hcExpbmVhckZpbHRlcixlLndyYXBTPUNbbi53cmFwU118fHIuUmVwZWF0V3JhcHBpbmcsZS53cmFwVD1DW24ud3JhcFRdfHxyLlJlcGVhdFdyYXBwaW5nLGkuYXNzb2NpYXRpb25zLnNldChlLHt0eXBlOlwidGV4dHVyZXNcIixpbmRleDp0fSksZX0pKX0sai5wcm90b3R5cGUuYXNzaWduVGV4dHVyZT1mdW5jdGlvbih0LGUscil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KFwidGV4dHVyZVwiLHIuaW5kZXgpLnRoZW4oKGZ1bmN0aW9uKG8pe2lmKHZvaWQgMD09PXIudGV4Q29vcmR8fDA9PXIudGV4Q29vcmR8fFwiYW9NYXBcIj09PWUmJjE9PXIudGV4Q29vcmR8fGNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXQgXCIrci50ZXhDb29yZCtcIiBmb3IgdGV4dHVyZSBcIitlK1wiIG5vdCB5ZXQgc3VwcG9ydGVkLlwiKSxpLmV4dGVuc2lvbnNbbi5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dKXt2YXIgYT12b2lkIDAhPT1yLmV4dGVuc2lvbnM/ci5leHRlbnNpb25zW24uS0hSX1RFWFRVUkVfVFJBTlNGT1JNXTp2b2lkIDA7aWYoYSl7dmFyIHM9aS5hc3NvY2lhdGlvbnMuZ2V0KG8pO289aS5leHRlbnNpb25zW24uS0hSX1RFWFRVUkVfVFJBTlNGT1JNXS5leHRlbmRUZXh0dXJlKG8sYSksaS5hc3NvY2lhdGlvbnMuc2V0KG8scyl9fXRbZV09b30pKX0sai5wcm90b3R5cGUuYXNzaWduRmluYWxNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgZT10Lmdlb21ldHJ5LG49dC5tYXRlcmlhbCxpPXZvaWQgMCE9PWUuYXR0cmlidXRlcy50YW5nZW50LG89dm9pZCAwIT09ZS5hdHRyaWJ1dGVzLmNvbG9yLGE9dm9pZCAwPT09ZS5hdHRyaWJ1dGVzLm5vcm1hbCxzPSEwPT09dC5pc1NraW5uZWRNZXNoLGM9T2JqZWN0LmtleXMoZS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aD4wLGw9YyYmdm9pZCAwIT09ZS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsO2lmKHQuaXNQb2ludHMpe3ZhciB1PVwiUG9pbnRzTWF0ZXJpYWw6XCIrbi51dWlkLGg9dGhpcy5jYWNoZS5nZXQodSk7aHx8KGg9bmV3IHIuUG9pbnRzTWF0ZXJpYWwsci5NYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKGgsbiksaC5jb2xvci5jb3B5KG4uY29sb3IpLGgubWFwPW4ubWFwLGguc2l6ZUF0dGVudWF0aW9uPSExLHRoaXMuY2FjaGUuYWRkKHUsaCkpLG49aH1lbHNlIGlmKHQuaXNMaW5lKXt1PVwiTGluZUJhc2ljTWF0ZXJpYWw6XCIrbi51dWlkO3ZhciBkPXRoaXMuY2FjaGUuZ2V0KHUpO2R8fChkPW5ldyByLkxpbmVCYXNpY01hdGVyaWFsLHIuTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChkLG4pLGQuY29sb3IuY29weShuLmNvbG9yKSx0aGlzLmNhY2hlLmFkZCh1LGQpKSxuPWR9aWYoaXx8b3x8YXx8c3x8Yyl7dT1cIkNsb25lZE1hdGVyaWFsOlwiK24udXVpZCtcIjpcIjtuLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsJiYodSs9XCJzcGVjdWxhci1nbG9zc2luZXNzOlwiKSxzJiYodSs9XCJza2lubmluZzpcIiksaSYmKHUrPVwidmVydGV4LXRhbmdlbnRzOlwiKSxvJiYodSs9XCJ2ZXJ0ZXgtY29sb3JzOlwiKSxhJiYodSs9XCJmbGF0LXNoYWRpbmc6XCIpLGMmJih1Kz1cIm1vcnBoLXRhcmdldHM6XCIpLGwmJih1Kz1cIm1vcnBoLW5vcm1hbHM6XCIpO3ZhciBwPXRoaXMuY2FjaGUuZ2V0KHUpO3B8fChwPW4uY2xvbmUoKSxzJiYocC5za2lubmluZz0hMCksaSYmKHAudmVydGV4VGFuZ2VudHM9ITApLG8mJihwLnZlcnRleENvbG9ycz0hMCksYSYmKHAuZmxhdFNoYWRpbmc9ITApLGMmJihwLm1vcnBoVGFyZ2V0cz0hMCksbCYmKHAubW9ycGhOb3JtYWxzPSEwKSx0aGlzLmNhY2hlLmFkZCh1LHApLHRoaXMuYXNzb2NpYXRpb25zLnNldChwLHRoaXMuYXNzb2NpYXRpb25zLmdldChuKSkpLG49cH1uLmFvTWFwJiZ2b2lkIDA9PT1lLmF0dHJpYnV0ZXMudXYyJiZ2b2lkIDAhPT1lLmF0dHJpYnV0ZXMudXYmJmUuc2V0QXR0cmlidXRlKFwidXYyXCIsZS5hdHRyaWJ1dGVzLnV2KSxuLm5vcm1hbFNjYWxlJiYhaSYmKG4ubm9ybWFsU2NhbGUueT0tbi5ub3JtYWxTY2FsZS55KSxuLmNsZWFyY29hdE5vcm1hbFNjYWxlJiYhaSYmKG4uY2xlYXJjb2F0Tm9ybWFsU2NhbGUueT0tbi5jbGVhcmNvYXROb3JtYWxTY2FsZS55KSx0Lm1hdGVyaWFsPW59LGoucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZT1mdW5jdGlvbigpe3JldHVybiByLk1lc2hTdGFuZGFyZE1hdGVyaWFsfSxqLnByb3RvdHlwZS5sb2FkTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLG89dGhpcy5qc29uLGE9dGhpcy5leHRlbnNpb25zLHM9by5tYXRlcmlhbHNbdF0sYz17fSxsPXMuZXh0ZW5zaW9uc3x8e30sdT1bXTtpZihsW24uS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU10pe3ZhciBoPWFbbi5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXTtlPWguZ2V0TWF0ZXJpYWxUeXBlKCksdS5wdXNoKGguZXh0ZW5kUGFyYW1zKGMscyxpKSl9ZWxzZSBpZihsW24uS0hSX01BVEVSSUFMU19VTkxJVF0pe3ZhciBkPWFbbi5LSFJfTUFURVJJQUxTX1VOTElUXTtlPWQuZ2V0TWF0ZXJpYWxUeXBlKCksdS5wdXNoKGQuZXh0ZW5kUGFyYW1zKGMscyxpKSl9ZWxzZXt2YXIgcD1zLnBick1ldGFsbGljUm91Z2huZXNzfHx7fTtpZihjLmNvbG9yPW5ldyByLkNvbG9yKDEsMSwxKSxjLm9wYWNpdHk9MSxBcnJheS5pc0FycmF5KHAuYmFzZUNvbG9yRmFjdG9yKSl7dmFyIGY9cC5iYXNlQ29sb3JGYWN0b3I7Yy5jb2xvci5mcm9tQXJyYXkoZiksYy5vcGFjaXR5PWZbM119dm9pZCAwIT09cC5iYXNlQ29sb3JUZXh0dXJlJiZ1LnB1c2goaS5hc3NpZ25UZXh0dXJlKGMsXCJtYXBcIixwLmJhc2VDb2xvclRleHR1cmUpKSxjLm1ldGFsbmVzcz12b2lkIDAhPT1wLm1ldGFsbGljRmFjdG9yP3AubWV0YWxsaWNGYWN0b3I6MSxjLnJvdWdobmVzcz12b2lkIDAhPT1wLnJvdWdobmVzc0ZhY3Rvcj9wLnJvdWdobmVzc0ZhY3RvcjoxLHZvaWQgMCE9PXAubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYodS5wdXNoKGkuYXNzaWduVGV4dHVyZShjLFwibWV0YWxuZXNzTWFwXCIscC5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpKSx1LnB1c2goaS5hc3NpZ25UZXh0dXJlKGMsXCJyb3VnaG5lc3NNYXBcIixwLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSkpKSxlPXRoaXMuX2ludm9rZU9uZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0TWF0ZXJpYWxUeXBlJiZlLmdldE1hdGVyaWFsVHlwZSh0KX0pKSx1LnB1c2goUHJvbWlzZS5hbGwodGhpcy5faW52b2tlQWxsKChmdW5jdGlvbihlKXtyZXR1cm4gZS5leHRlbmRNYXRlcmlhbFBhcmFtcyYmZS5leHRlbmRNYXRlcmlhbFBhcmFtcyh0LGMpfSkpKSl9ITA9PT1zLmRvdWJsZVNpZGVkJiYoYy5zaWRlPXIuRG91YmxlU2lkZSk7dmFyIG09cy5hbHBoYU1vZGV8fEI7cmV0dXJuIG09PT1VPyhjLnRyYW5zcGFyZW50PSEwLGMuZGVwdGhXcml0ZT0hMSk6KGMudHJhbnNwYXJlbnQ9ITEsbT09PUYmJihjLmFscGhhVGVzdD12b2lkIDAhPT1zLmFscGhhQ3V0b2ZmP3MuYWxwaGFDdXRvZmY6LjUpKSx2b2lkIDAhPT1zLm5vcm1hbFRleHR1cmUmJmUhPT1yLk1lc2hCYXNpY01hdGVyaWFsJiYodS5wdXNoKGkuYXNzaWduVGV4dHVyZShjLFwibm9ybWFsTWFwXCIscy5ub3JtYWxUZXh0dXJlKSksYy5ub3JtYWxTY2FsZT1uZXcgci5WZWN0b3IyKDEsMSksdm9pZCAwIT09cy5ub3JtYWxUZXh0dXJlLnNjYWxlJiZjLm5vcm1hbFNjYWxlLnNldChzLm5vcm1hbFRleHR1cmUuc2NhbGUscy5ub3JtYWxUZXh0dXJlLnNjYWxlKSksdm9pZCAwIT09cy5vY2NsdXNpb25UZXh0dXJlJiZlIT09ci5NZXNoQmFzaWNNYXRlcmlhbCYmKHUucHVzaChpLmFzc2lnblRleHR1cmUoYyxcImFvTWFwXCIscy5vY2NsdXNpb25UZXh0dXJlKSksdm9pZCAwIT09cy5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoJiYoYy5hb01hcEludGVuc2l0eT1zLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGgpKSx2b2lkIDAhPT1zLmVtaXNzaXZlRmFjdG9yJiZlIT09ci5NZXNoQmFzaWNNYXRlcmlhbCYmKGMuZW1pc3NpdmU9KG5ldyByLkNvbG9yKS5mcm9tQXJyYXkocy5lbWlzc2l2ZUZhY3RvcikpLHZvaWQgMCE9PXMuZW1pc3NpdmVUZXh0dXJlJiZlIT09ci5NZXNoQmFzaWNNYXRlcmlhbCYmdS5wdXNoKGkuYXNzaWduVGV4dHVyZShjLFwiZW1pc3NpdmVNYXBcIixzLmVtaXNzaXZlVGV4dHVyZSkpLFByb21pc2UuYWxsKHUpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIG87cmV0dXJuIG89ZT09PXk/YVtuLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdLmNyZWF0ZU1hdGVyaWFsKGMpOm5ldyBlKGMpLHMubmFtZSYmKG8ubmFtZT1zLm5hbWUpLG8ubWFwJiYoby5tYXAuZW5jb2Rpbmc9ci5zUkdCRW5jb2RpbmcpLG8uZW1pc3NpdmVNYXAmJihvLmVtaXNzaXZlTWFwLmVuY29kaW5nPXIuc1JHQkVuY29kaW5nKSxIKG8scyksaS5hc3NvY2lhdGlvbnMuc2V0KG8se3R5cGU6XCJtYXRlcmlhbHNcIixpbmRleDp0fSkscy5leHRlbnNpb25zJiZHKGEsbyxzKSxvfSkpfSxqLnByb3RvdHlwZS5jcmVhdGVVbmlxdWVOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1yLlByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKHR8fFwiXCIpLG49MTt0aGlzLm5vZGVOYW1lc1VzZWRbZV07KytuKWU9dCtcIl9cIituO3JldHVybiB0aGlzLm5vZGVOYW1lc1VzZWRbZV09ITAsZX0sai5wcm90b3R5cGUubG9hZEdlb21ldHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZXh0ZW5zaW9ucyxvPXRoaXMucHJpbWl0aXZlQ2FjaGU7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gaVtuLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXS5kZWNvZGVQcmltaXRpdmUodCxlKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gVyhuLHQsZSl9KSl9Zm9yKHZhciBzLGMsbD1bXSx1PTAsaD10Lmxlbmd0aDt1PGg7dSsrKXt2YXIgZCxwPXRbdV0sZj0oYz12b2lkIDAsKGM9KHM9cCkuZXh0ZW5zaW9ucyYmcy5leHRlbnNpb25zW24uS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dKT9cImRyYWNvOlwiK2MuYnVmZmVyVmlldytcIjpcIitjLmluZGljZXMrXCI6XCIrVihjLmF0dHJpYnV0ZXMpOnMuaW5kaWNlcytcIjpcIitWKHMuYXR0cmlidXRlcykrXCI6XCIrcy5tb2RlKSxtPW9bZl07aWYobSlsLnB1c2gobS5wcm9taXNlKTtlbHNlIGQ9cC5leHRlbnNpb25zJiZwLmV4dGVuc2lvbnNbbi5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0/YShwKTpXKG5ldyByLkJ1ZmZlckdlb21ldHJ5LHAsZSksb1tmXT17cHJpbWl0aXZlOnAscHJvbWlzZTpkfSxsLnB1c2goZCl9cmV0dXJuIFByb21pc2UuYWxsKGwpfSxqLnByb3RvdHlwZS5sb2FkTWVzaD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10aGlzLGk9dGhpcy5qc29uLG89dGhpcy5leHRlbnNpb25zLGE9aS5tZXNoZXNbdF0scz1hLnByaW1pdGl2ZXMsYz1bXSxsPTAsdT1zLmxlbmd0aDtsPHU7bCsrKXt2YXIgaD12b2lkIDA9PT1zW2xdLm1hdGVyaWFsPyh2b2lkIDA9PT0oZT10aGlzLmNhY2hlKS5EZWZhdWx0TWF0ZXJpYWwmJihlLkRlZmF1bHRNYXRlcmlhbD1uZXcgci5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7Y29sb3I6MTY3NzcyMTUsZW1pc3NpdmU6MCxtZXRhbG5lc3M6MSxyb3VnaG5lc3M6MSx0cmFuc3BhcmVudDohMSxkZXB0aFRlc3Q6ITAsc2lkZTpyLkZyb250U2lkZX0pKSxlLkRlZmF1bHRNYXRlcmlhbCk6dGhpcy5nZXREZXBlbmRlbmN5KFwibWF0ZXJpYWxcIixzW2xdLm1hdGVyaWFsKTtjLnB1c2goaCl9cmV0dXJuIGMucHVzaChuLmxvYWRHZW9tZXRyaWVzKHMpKSxQcm9taXNlLmFsbChjKS50aGVuKChmdW5jdGlvbihlKXtmb3IodmFyIGk9ZS5zbGljZSgwLGUubGVuZ3RoLTEpLGM9ZVtlLmxlbmd0aC0xXSxsPVtdLHU9MCxoPWMubGVuZ3RoO3U8aDt1Kyspe3ZhciBkLHA9Y1t1XSxmPXNbdV0sbT1pW3VdO2lmKGYubW9kZT09PUV8fGYubW9kZT09PUF8fGYubW9kZT09PUx8fHZvaWQgMD09PWYubW9kZSkhMCE9PShkPSEwPT09YS5pc1NraW5uZWRNZXNoP25ldyByLlNraW5uZWRNZXNoKHAsbSk6bmV3IHIuTWVzaChwLG0pKS5pc1NraW5uZWRNZXNofHxkLmdlb21ldHJ5LmF0dHJpYnV0ZXMuc2tpbldlaWdodC5ub3JtYWxpemVkfHxkLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCksZi5tb2RlPT09QT9kLmdlb21ldHJ5PVgoZC5nZW9tZXRyeSxyLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSk6Zi5tb2RlPT09TCYmKGQuZ2VvbWV0cnk9WChkLmdlb21ldHJ5LHIuVHJpYW5nbGVGYW5EcmF3TW9kZSkpO2Vsc2UgaWYoZi5tb2RlPT09TSlkPW5ldyByLkxpbmVTZWdtZW50cyhwLG0pO2Vsc2UgaWYoZi5tb2RlPT09VClkPW5ldyByLkxpbmUocCxtKTtlbHNlIGlmKGYubW9kZT09PVMpZD1uZXcgci5MaW5lTG9vcChwLG0pO2Vsc2V7aWYoZi5tb2RlIT09Xyl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogXCIrZi5tb2RlKTtkPW5ldyByLlBvaW50cyhwLG0pfU9iamVjdC5rZXlzKGQuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKS5sZW5ndGg+MCYmayhkLGEpLGQubmFtZT1uLmNyZWF0ZVVuaXF1ZU5hbWUoYS5uYW1lfHxcIm1lc2hfXCIrdCksSChkLGEpLGYuZXh0ZW5zaW9ucyYmRyhvLGQsZiksbi5hc3NpZ25GaW5hbE1hdGVyaWFsKGQpLGwucHVzaChkKX1pZigxPT09bC5sZW5ndGgpcmV0dXJuIGxbMF07dmFyIGc9bmV3IHIuR3JvdXA7Zm9yKHU9MCxoPWwubGVuZ3RoO3U8aDt1KyspZy5hZGQobFt1XSk7cmV0dXJuIGd9KSl9LGoucHJvdG90eXBlLmxvYWRDYW1lcmE9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLmpzb24uY2FtZXJhc1t0XSxpPW5bbi50eXBlXTtpZihpKXJldHVyblwicGVyc3BlY3RpdmVcIj09PW4udHlwZT9lPW5ldyByLlBlcnNwZWN0aXZlQ2FtZXJhKHIuTWF0aFV0aWxzLnJhZFRvRGVnKGkueWZvdiksaS5hc3BlY3RSYXRpb3x8MSxpLnpuZWFyfHwxLGkuemZhcnx8MmU2KTpcIm9ydGhvZ3JhcGhpY1wiPT09bi50eXBlJiYoZT1uZXcgci5PcnRob2dyYXBoaWNDYW1lcmEoLWkueG1hZyxpLnhtYWcsaS55bWFnLC1pLnltYWcsaS56bmVhcixpLnpmYXIpKSxuLm5hbWUmJihlLm5hbWU9dGhpcy5jcmVhdGVVbmlxdWVOYW1lKG4ubmFtZSkpLEgoZSxuKSxQcm9taXNlLnJlc29sdmUoZSk7Y29uc29sZS53YXJuKFwiVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBjYW1lcmEgcGFyYW1ldGVycy5cIil9LGoucHJvdG90eXBlLmxvYWRTa2luPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuanNvbi5za2luc1t0XSxuPXtqb2ludHM6ZS5qb2ludHN9O3JldHVybiB2b2lkIDA9PT1lLmludmVyc2VCaW5kTWF0cmljZXM/UHJvbWlzZS5yZXNvbHZlKG4pOnRoaXMuZ2V0RGVwZW5kZW5jeShcImFjY2Vzc29yXCIsZS5pbnZlcnNlQmluZE1hdHJpY2VzKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbi5pbnZlcnNlQmluZE1hdHJpY2VzPXQsbn0pKX0sai5wcm90b3R5cGUubG9hZEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5qc29uLmFuaW1hdGlvbnNbdF0sbj1bXSxpPVtdLG89W10sYT1bXSxzPVtdLGM9MCxsPWUuY2hhbm5lbHMubGVuZ3RoO2M8bDtjKyspe3ZhciB1PWUuY2hhbm5lbHNbY10saD1lLnNhbXBsZXJzW3Uuc2FtcGxlcl0sZD11LnRhcmdldCxwPXZvaWQgMCE9PWQubm9kZT9kLm5vZGU6ZC5pZCxmPXZvaWQgMCE9PWUucGFyYW1ldGVycz9lLnBhcmFtZXRlcnNbaC5pbnB1dF06aC5pbnB1dCxtPXZvaWQgMCE9PWUucGFyYW1ldGVycz9lLnBhcmFtZXRlcnNbaC5vdXRwdXRdOmgub3V0cHV0O24ucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJub2RlXCIscCkpLGkucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLGYpKSxvLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIixtKSksYS5wdXNoKGgpLHMucHVzaChkKX1yZXR1cm4gUHJvbWlzZS5hbGwoW1Byb21pc2UuYWxsKG4pLFByb21pc2UuYWxsKGkpLFByb21pc2UuYWxsKG8pLFByb21pc2UuYWxsKGEpLFByb21pc2UuYWxsKHMpXSkudGhlbigoZnVuY3Rpb24obil7Zm9yKHZhciBpPW5bMF0sbz1uWzFdLGE9blsyXSxzPW5bM10sYz1uWzRdLGw9W10sdT0wLGg9aS5sZW5ndGg7dTxoO3UrKyl7dmFyIGQ9aVt1XSxwPW9bdV0sZj1hW3VdLG09c1t1XSxnPWNbdV07aWYodm9pZCAwIT09ZCl7dmFyIHY7c3dpdGNoKGQudXBkYXRlTWF0cml4KCksZC5tYXRyaXhBdXRvVXBkYXRlPSEwLE5bZy5wYXRoXSl7Y2FzZSBOLndlaWdodHM6dj1yLk51bWJlcktleWZyYW1lVHJhY2s7YnJlYWs7Y2FzZSBOLnJvdGF0aW9uOnY9ci5RdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjazticmVhaztjYXNlIE4ucG9zaXRpb246Y2FzZSBOLnNjYWxlOmRlZmF1bHQ6dj1yLlZlY3RvcktleWZyYW1lVHJhY2t9dmFyIHk9ZC5uYW1lP2QubmFtZTpkLnV1aWQseD12b2lkIDAhPT1tLmludGVycG9sYXRpb24/RFttLmludGVycG9sYXRpb25dOnIuSW50ZXJwb2xhdGVMaW5lYXIsYj1bXTtOW2cucGF0aF09PT1OLndlaWdodHM/ZC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7ITA9PT10LmlzTWVzaCYmdC5tb3JwaFRhcmdldEluZmx1ZW5jZXMmJmIucHVzaCh0Lm5hbWU/dC5uYW1lOnQudXVpZCl9KSk6Yi5wdXNoKHkpO3ZhciBfPWYuYXJyYXk7aWYoZi5ub3JtYWxpemVkKXt2YXIgTTtpZihfLmNvbnN0cnVjdG9yPT09SW50OEFycmF5KU09MS8xMjc7ZWxzZSBpZihfLmNvbnN0cnVjdG9yPT09VWludDhBcnJheSlNPTEvMjU1O2Vsc2UgaWYoXy5jb25zdHJ1Y3Rvcj09SW50MTZBcnJheSlNPTEvMzI3Njc7ZWxzZXtpZihfLmNvbnN0cnVjdG9yIT09VWludDE2QXJyYXkpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgb3V0cHV0IGFjY2Vzc29yIGNvbXBvbmVudCB0eXBlLlwiKTtNPTEvNjU1MzV9Zm9yKHZhciBTPW5ldyBGbG9hdDMyQXJyYXkoXy5sZW5ndGgpLFQ9MCxFPV8ubGVuZ3RoO1Q8RTtUKyspU1tUXT1fW1RdKk07Xz1TfWZvcihUPTAsRT1iLmxlbmd0aDtUPEU7VCsrKXt2YXIgQT1uZXcgdihiW1RdK1wiLlwiK05bZy5wYXRoXSxwLmFycmF5LF8seCk7XCJDVUJJQ1NQTElORVwiPT09bS5pbnRlcnBvbGF0aW9uJiYoQS5jcmVhdGVJbnRlcnBvbGFudD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHcodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLzMsdCl9LEEuY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmU9ITApLGwucHVzaChBKX19fXZhciBMPWUubmFtZT9lLm5hbWU6XCJhbmltYXRpb25fXCIrdDtyZXR1cm4gbmV3IHIuQW5pbWF0aW9uQ2xpcChMLHZvaWQgMCxsKX0pKX0sai5wcm90b3R5cGUubG9hZE5vZGU9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLmpzb24saT10aGlzLmV4dGVuc2lvbnMsbz10aGlzLGE9bi5ub2Rlc1t0XSxzPWEubmFtZT9vLmNyZWF0ZVVuaXF1ZU5hbWUoYS5uYW1lKTpcIlwiO3JldHVybihlPVtdLHZvaWQgMCE9PWEubWVzaCYmZS5wdXNoKG8uZ2V0RGVwZW5kZW5jeShcIm1lc2hcIixhLm1lc2gpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPW8uX2dldE5vZGVSZWYoby5tZXNoQ2FjaGUsYS5tZXNoLHQpO3JldHVybiB2b2lkIDAhPT1hLndlaWdodHMmJmUudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKHQuaXNNZXNoKWZvcih2YXIgZT0wLG49YS53ZWlnaHRzLmxlbmd0aDtlPG47ZSsrKXQubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2VdPWEud2VpZ2h0c1tlXX0pKSxlfSkpKSx2b2lkIDAhPT1hLmNhbWVyYSYmZS5wdXNoKG8uZ2V0RGVwZW5kZW5jeShcImNhbWVyYVwiLGEuY2FtZXJhKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gby5fZ2V0Tm9kZVJlZihvLmNhbWVyYUNhY2hlLGEuY2FtZXJhLHQpfSkpKSxvLl9pbnZva2VBbGwoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNyZWF0ZU5vZGVBdHRhY2htZW50JiZlLmNyZWF0ZU5vZGVBdHRhY2htZW50KHQpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKSxQcm9taXNlLmFsbChlKSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG47aWYoKG49ITA9PT1hLmlzQm9uZT9uZXcgci5Cb25lOmUubGVuZ3RoPjE/bmV3IHIuR3JvdXA6MT09PWUubGVuZ3RoP2VbMF06bmV3IHIuT2JqZWN0M0QpIT09ZVswXSlmb3IodmFyIGM9MCxsPWUubGVuZ3RoO2M8bDtjKyspbi5hZGQoZVtjXSk7aWYoYS5uYW1lJiYobi51c2VyRGF0YS5uYW1lPWEubmFtZSxuLm5hbWU9cyksSChuLGEpLGEuZXh0ZW5zaW9ucyYmRyhpLG4sYSksdm9pZCAwIT09YS5tYXRyaXgpe3ZhciB1PW5ldyByLk1hdHJpeDQ7dS5mcm9tQXJyYXkoYS5tYXRyaXgpLG4uYXBwbHlNYXRyaXg0KHUpfWVsc2Ugdm9pZCAwIT09YS50cmFuc2xhdGlvbiYmbi5wb3NpdGlvbi5mcm9tQXJyYXkoYS50cmFuc2xhdGlvbiksdm9pZCAwIT09YS5yb3RhdGlvbiYmbi5xdWF0ZXJuaW9uLmZyb21BcnJheShhLnJvdGF0aW9uKSx2b2lkIDAhPT1hLnNjYWxlJiZuLnNjYWxlLmZyb21BcnJheShhLnNjYWxlKTtyZXR1cm4gby5hc3NvY2lhdGlvbnMuc2V0KG4se3R5cGU6XCJub2Rlc1wiLGluZGV4OnR9KSxufSkpfSxqLnByb3RvdHlwZS5sb2FkU2NlbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixpLG8pe3ZhciBhPWkubm9kZXNbZV07cmV0dXJuIG8uZ2V0RGVwZW5kZW5jeShcIm5vZGVcIixlKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09YS5za2luP3Q6by5nZXREZXBlbmRlbmN5KFwic2tpblwiLGEuc2tpbikudGhlbigoZnVuY3Rpb24odCl7Zm9yKHZhciBuPVtdLHI9MCxpPShlPXQpLmpvaW50cy5sZW5ndGg7cjxpO3IrKyluLnB1c2goby5nZXREZXBlbmRlbmN5KFwibm9kZVwiLGUuam9pbnRzW3JdKSk7cmV0dXJuIFByb21pc2UuYWxsKG4pfSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiB0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0LmlzTWVzaCl7Zm9yKHZhciBpPVtdLG89W10sYT0wLHM9bi5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9blthXTtpZihjKXtpLnB1c2goYyk7dmFyIGw9bmV3IHIuTWF0cml4NDt2b2lkIDAhPT1lLmludmVyc2VCaW5kTWF0cmljZXMmJmwuZnJvbUFycmF5KGUuaW52ZXJzZUJpbmRNYXRyaWNlcy5hcnJheSwxNiphKSxvLnB1c2gobCl9ZWxzZSBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IEpvaW50IFwiJXNcIiBjb3VsZCBub3QgYmUgZm91bmQuJyxlLmpvaW50c1thXSl9dC5iaW5kKG5ldyByLlNrZWxldG9uKGksbyksdC5tYXRyaXhXb3JsZCl9fSkpLHR9KSk7dmFyIGV9KSkudGhlbigoZnVuY3Rpb24oZSl7bi5hZGQoZSk7dmFyIHI9W107aWYoYS5jaGlsZHJlbilmb3IodmFyIHM9YS5jaGlsZHJlbixjPTAsbD1zLmxlbmd0aDtjPGw7YysrKXt2YXIgdT1zW2NdO3IucHVzaCh0KHUsZSxpLG8pKX1yZXR1cm4gUHJvbWlzZS5hbGwocil9KSl9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuanNvbixpPXRoaXMuZXh0ZW5zaW9ucyxvPXRoaXMuanNvbi5zY2VuZXNbZV0sYT1uZXcgci5Hcm91cDtvLm5hbWUmJihhLm5hbWU9dGhpcy5jcmVhdGVVbmlxdWVOYW1lKG8ubmFtZSkpLEgoYSxvKSxvLmV4dGVuc2lvbnMmJkcoaSxhLG8pO2Zvcih2YXIgcz1vLm5vZGVzfHxbXSxjPVtdLGw9MCx1PXMubGVuZ3RoO2w8dTtsKyspYy5wdXNoKHQoc1tsXSxhLG4sdGhpcykpO3JldHVybiBQcm9taXNlLmFsbChjKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBhfSkpfX0oKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19fSl9OmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPW4pLHRbcl09ZVtuXX0pLGk9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHQpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKXx8cihlLHQsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuRG90U2NyZWVuU2hhZGVyPWUuR2xpdGNoUGFzcz1lLlNoYWRlclBhc3M9ZS5SZW5kZXJQYXNzPWUuRWZmZWN0Q29tcG9zZXI9ZS5XRUJHTD1lLk9yYml0Q29udHJvbHM9ZS5XYXRlcj1lLlNreT1lLkFuaW1hdGlvbkFjdGlvbj1lLlZSQnV0dG9uPWUuU1ZHTG9hZGVyPWUuWFJDb250cm9sbGVyTW9kZWxGYWN0b3J5PWUuR0xURkxvYWRlcj1lLkZCWExvYWRlcj1lLkNvbnZleEJ1ZmZlckdlb21ldHJ5PXZvaWQgMCxpKG4oMCksZSk7Y29uc3Qgbz1uKDE1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkNvbnZleEJ1ZmZlckdlb21ldHJ5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uQ29udmV4QnVmZmVyR2VvbWV0cnl9fSk7Y29uc3QgYT1uKDEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkZCWExvYWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkZCWExvYWRlcn19KTtjb25zdCBzPW4oMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJHTFRGTG9hZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuR0xURkxvYWRlcn19KTtjb25zdCBjPW4oMTYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiWFJDb250cm9sbGVyTW9kZWxGYWN0b3J5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuWFJDb250cm9sbGVyTW9kZWxGYWN0b3J5fX0pO2NvbnN0IGw9big1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlNWR0xvYWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLlNWR0xvYWRlcn19KTtjb25zdCB1PW4oNik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJWUkJ1dHRvblwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LlZSQnV0dG9ufX0pO2NvbnN0IGg9bigxNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJBbmltYXRpb25BY3Rpb25cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5BbmltYXRpb25BY3Rpb259fSk7Y29uc3QgZD1uKDcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiU2t5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuU2t5fX0pO2NvbnN0IHA9bigxMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJXYXRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLldhdGVyfX0pO2NvbnN0IGY9big4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIk9yYml0Q29udHJvbHNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5PcmJpdENvbnRyb2xzfX0pO2NvbnN0IG09big5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIldFQkdMXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uV0VCR0x9fSk7dmFyIGc9bigxNCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJFZmZlY3RDb21wb3NlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnLkVmZmVjdENvbXBvc2VyfX0pO3ZhciB2PW4oMTApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUmVuZGVyUGFzc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2LlJlbmRlclBhc3N9fSk7dmFyIHk9bigyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlNoYWRlclBhc3NcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5TaGFkZXJQYXNzfX0pO3ZhciB4PW4oMTgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiR2xpdGNoUGFzc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB4LkdsaXRjaFBhc3N9fSk7dmFyIGI9bigxMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJEb3RTY3JlZW5TaGFkZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5Eb3RTY3JlZW5TaGFkZXJ9fSk7Y29uc3Qgdz1cIlRocmVlLmpzIHJcIituKDApLlJFVklTSU9OO2NvbnNvbGUubG9nKGAlYyAlYyAlYyAlYyAlYyAke3d9ICVjIGh0dHBzOi8vdGhyZWVqcy5vcmcvYCxcImJhY2tncm91bmQ6ICNmZjAwMDBcIixcImJhY2tncm91bmQ6ICNmZmZmMDBcIixcImJhY2tncm91bmQ6ICMwMGZmMDBcIixcImJhY2tncm91bmQ6ICMwMGZmZmZcIixcImNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjMDAwMDAwO1wiLFwiYmFja2dyb3VuZDogbm9uZVwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIlNWR0xvYWRlclwiLChmdW5jdGlvbigpe3JldHVybiB3fSkpO3ZhciByLGksbyxhLHMsYyxsLHUsaCxkLHAsZixtLGcsdix5LHgsYj1uKDApLHc9ZnVuY3Rpb24odCl7Yi5Mb2FkZXIuY2FsbCh0aGlzLHQpLHRoaXMuZGVmYXVsdERQST05MCx0aGlzLmRlZmF1bHRVbml0PVwicHhcIn07dy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGIuTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOncsbG9hZDpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLG89bmV3IGIuRmlsZUxvYWRlcihpLm1hbmFnZXIpO28uc2V0UGF0aChpLnBhdGgpLG8uc2V0UmVxdWVzdEhlYWRlcihpLnJlcXVlc3RIZWFkZXIpLG8uc2V0V2l0aENyZWRlbnRpYWxzKGkud2l0aENyZWRlbnRpYWxzKSxvLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e2UoaS5wYXJzZShuKSl9Y2F0Y2goZSl7cj9yKGUpOmNvbnNvbGUuZXJyb3IoZSksaS5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLHIpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2Z1bmN0aW9uIG4odCxlLG4saSxvLGEscyxjKXtpZigwIT1lJiYwIT1uKXtpPWkqTWF0aC5QSS8xODAsZT1NYXRoLmFicyhlKSxuPU1hdGguYWJzKG4pO3ZhciBsPShzLngtYy54KS8yLHU9KHMueS1jLnkpLzIsaD1NYXRoLmNvcyhpKSpsK01hdGguc2luKGkpKnUsZD0tTWF0aC5zaW4oaSkqbCtNYXRoLmNvcyhpKSp1LHA9ZSplLGY9bipuLG09aCpoLGc9ZCpkLHY9bS9wK2cvZjtpZih2PjEpe3ZhciB5PU1hdGguc3FydCh2KTtwPShlKj15KSplLGY9KG4qPXkpKm59dmFyIHg9cCpnK2YqbSxiPShwKmYteCkveCx3PU1hdGguc3FydChNYXRoLm1heCgwLGIpKTtvPT09YSYmKHc9LXcpO3ZhciBfPXcqZSpkL24sTT0tdypuKmgvZSxTPU1hdGguY29zKGkpKl8tTWF0aC5zaW4oaSkqTSsocy54K2MueCkvMixUPU1hdGguc2luKGkpKl8rTWF0aC5jb3MoaSkqTSsocy55K2MueSkvMixFPXIoMSwwLChoLV8pL2UsKGQtTSkvbiksQT1yKChoLV8pL2UsKGQtTSkvbiwoLWgtXykvZSwoLWQtTSkvbiklKDIqTWF0aC5QSSk7dC5jdXJyZW50UGF0aC5hYnNlbGxpcHNlKFMsVCxlLG4sRSxFK0EsMD09PWEsaSl9ZWxzZSB0LmxpbmVUbyhjLngsYy55KX1mdW5jdGlvbiByKHQsZSxuLHIpe3ZhciBpPXQqbitlKnIsbz1NYXRoLnNxcnQodCp0K2UqZSkqTWF0aC5zcXJ0KG4qbityKnIpLGE9TWF0aC5hY29zKE1hdGgubWF4KC0xLE1hdGgubWluKDEsaS9vKSkpO3JldHVybiB0KnItZSpuPDAmJihhPS1hKSxhfWZ1bmN0aW9uIGkodCxlKXtlPU9iamVjdC5hc3NpZ24oe30sZSk7dmFyIG49e307aWYodC5oYXNBdHRyaWJ1dGUoXCJjbGFzc1wiKSlmb3IodmFyIHI9dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5zcGxpdCgvXFxzLykuZmlsdGVyKEJvb2xlYW4pLm1hcCh0PT50LnRyaW0oKSksaT0wO2k8ci5sZW5ndGg7aSsrKW49T2JqZWN0LmFzc2lnbihuLHBbXCIuXCIrcltpXV0pO2Z1bmN0aW9uIG8ocixpLG8pe3ZvaWQgMD09PW8mJihvPWZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCJ1cmxcIikmJmNvbnNvbGUud2FybihcIlNWR0xvYWRlcjogdXJsIGFjY2VzcyBpbiBhdHRyaWJ1dGVzIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiksdH0pLHQuaGFzQXR0cmlidXRlKHIpJiYoZVtpXT1vKHQuZ2V0QXR0cmlidXRlKHIpKSksbltyXSYmKGVbaV09byhuW3JdKSksdC5zdHlsZSYmXCJcIiE9PXQuc3R5bGVbcl0mJihlW2ldPW8odC5zdHlsZVtyXSkpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSxsKHQpKSl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gTWF0aC5tYXgoMCxsKHQpKX1yZXR1cm4gdC5oYXNBdHRyaWJ1dGUoXCJpZFwiKSYmKG49T2JqZWN0LmFzc2lnbihuLHBbXCIjXCIrdC5nZXRBdHRyaWJ1dGUoXCJpZFwiKV0pKSxvKFwiZmlsbFwiLFwiZmlsbFwiKSxvKFwiZmlsbC1vcGFjaXR5XCIsXCJmaWxsT3BhY2l0eVwiLGEpLG8oXCJvcGFjaXR5XCIsXCJvcGFjaXR5XCIsYSksbyhcInN0cm9rZVwiLFwic3Ryb2tlXCIpLG8oXCJzdHJva2Utb3BhY2l0eVwiLFwic3Ryb2tlT3BhY2l0eVwiLGEpLG8oXCJzdHJva2Utd2lkdGhcIixcInN0cm9rZVdpZHRoXCIscyksbyhcInN0cm9rZS1saW5lam9pblwiLFwic3Ryb2tlTGluZUpvaW5cIiksbyhcInN0cm9rZS1saW5lY2FwXCIsXCJzdHJva2VMaW5lQ2FwXCIpLG8oXCJzdHJva2UtbWl0ZXJsaW1pdFwiLFwic3Ryb2tlTWl0ZXJMaW1pdFwiLHMpLG8oXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmlsaXR5XCIpLGV9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0LShlLXQpfWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPXQuc3BsaXQoL1tcXHMsXSt8KD89XFxzP1srXFwtXSkvKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYoci5pbmRleE9mKFwiLlwiKSE9PXIubGFzdEluZGV4T2YoXCIuXCIpKWZvcih2YXIgaT1yLnNwbGl0KFwiLlwiKSxvPTI7bzxpLmxlbmd0aDtvKyspZS5zcGxpY2UobitvLTEsMCxcIjAuXCIraVtvXSk7ZVtuXT1sKHIpfXJldHVybiBlfXZhciBzPVtcIm1tXCIsXCJjbVwiLFwiaW5cIixcInB0XCIsXCJwY1wiLFwicHhcIl0sYz17bW06e21tOjEsY206LjEsaW46MS8yNS40LHB0OjcyLzI1LjQscGM6Ni8yNS40LHB4Oi0xfSxjbTp7bW06MTAsY206MSxpbjoxLzIuNTQscHQ6NzIvMi41NCxwYzo2LzIuNTQscHg6LTF9LGluOnttbToyNS40LGNtOjIuNTQsaW46MSxwdDo3MixwYzo2LHB4Oi0xfSxwdDp7bW06MjUuNC83MixjbToyLjU0LzcyLGluOjEvNzIscHQ6MSxwYzo2LzcyLHB4Oi0xfSxwYzp7bW06MjUuNC82LGNtOjIuNTQvNixpbjoxLzYscHQ6MTIscGM6MSxweDotMX0scHg6e3B4OjF9fTtmdW5jdGlvbiBsKHQpe3ZhciBuPVwicHhcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZylmb3IodmFyIHI9MCxpPXMubGVuZ3RoO3I8aTtyKyspe3ZhciBvPXNbcl07aWYodC5lbmRzV2l0aChvKSl7bj1vLHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC1vLmxlbmd0aCk7YnJlYWt9fXZhciBhPXZvaWQgMDtyZXR1cm5cInB4XCI9PT1uJiZcInB4XCIhPT1lLmRlZmF1bHRVbml0P2E9Yy5pbltlLmRlZmF1bHRVbml0XS9lLmRlZmF1bHREUEk6KGE9Y1tuXVtlLmRlZmF1bHRVbml0XSk8MCYmKGE9Y1tuXS5pbiplLmRlZmF1bHREUEkpLGEqcGFyc2VGbG9hdCh0KX1mdW5jdGlvbiB1KHQpe3ZhciBlPXQuZWxlbWVudHM7cmV0dXJuIE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKX1mdW5jdGlvbiBoKHQpe3ZhciBlPXQuZWxlbWVudHM7cmV0dXJuIE1hdGguc3FydChlWzNdKmVbM10rZVs0XSplWzRdKX12YXIgZD1bXSxwPXt9LGY9W10sbT1uZXcgYi5NYXRyaXgzLGc9bmV3IGIuTWF0cml4Myx2PW5ldyBiLk1hdHJpeDMseT1uZXcgYi5NYXRyaXgzLHg9bmV3IGIuVmVjdG9yMix3PW5ldyBiLlZlY3RvcjMsXz1uZXcgYi5NYXRyaXgzLE09KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LFwiaW1hZ2Uvc3ZnK3htbFwiKTtyZXR1cm4gZnVuY3Rpb24gdChlLHIpe2lmKDE9PT1lLm5vZGVUeXBlKXt2YXIgcz1mdW5jdGlvbih0KXtpZighKHQuaGFzQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfHxcInVzZVwiPT09dC5ub2RlTmFtZSYmKHQuaGFzQXR0cmlidXRlKFwieFwiKXx8dC5oYXNBdHRyaWJ1dGUoXCJ5XCIpKSkpcmV0dXJuIG51bGw7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGIuTWF0cml4MyxuPW07aWYoXCJ1c2VcIj09PXQubm9kZU5hbWUmJih0Lmhhc0F0dHJpYnV0ZShcInhcIil8fHQuaGFzQXR0cmlidXRlKFwieVwiKSkpe3ZhciByPWwodC5nZXRBdHRyaWJ1dGUoXCJ4XCIpKSxpPWwodC5nZXRBdHRyaWJ1dGUoXCJ5XCIpKTtlLnRyYW5zbGF0ZShyLGkpfWlmKHQuaGFzQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpKWZvcih2YXIgbz10LmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKS5zcGxpdChcIilcIikscz1vLmxlbmd0aC0xO3M+PTA7cy0tKXt2YXIgYz1vW3NdLnRyaW0oKTtpZihcIlwiIT09Yyl7dmFyIHU9Yy5pbmRleE9mKFwiKFwiKSxoPWMubGVuZ3RoO2lmKHU+MCYmdTxoKXt2YXIgZD1jLnN1YnN0cigwLHUpLHA9YShjLnN1YnN0cih1KzEsaC11LTEpKTtzd2l0Y2gobi5pZGVudGl0eSgpLGQpe2Nhc2VcInRyYW5zbGF0ZVwiOmlmKHAubGVuZ3RoPj0xKXtpPXI9cFswXTtwLmxlbmd0aD49MiYmKGk9cFsxXSksbi50cmFuc2xhdGUocixpKX1icmVhaztjYXNlXCJyb3RhdGVcIjppZihwLmxlbmd0aD49MSl7dmFyIGYseD0wLHc9MDtmPS1wWzBdKk1hdGguUEkvMTgwLHAubGVuZ3RoPj0zJiYoeD1wWzFdLHc9cFsyXSksZy5pZGVudGl0eSgpLnRyYW5zbGF0ZSgteCwtdyksdi5pZGVudGl0eSgpLnJvdGF0ZShmKSx5Lm11bHRpcGx5TWF0cmljZXModixnKSxnLmlkZW50aXR5KCkudHJhbnNsYXRlKHgsdyksbi5tdWx0aXBseU1hdHJpY2VzKGcseSl9YnJlYWs7Y2FzZVwic2NhbGVcIjppZihwLmxlbmd0aD49MSl7dmFyIF89cFswXSxNPV87cC5sZW5ndGg+PTImJihNPXBbMV0pLG4uc2NhbGUoXyxNKX1icmVhaztjYXNlXCJza2V3WFwiOjE9PT1wLmxlbmd0aCYmbi5zZXQoMSxNYXRoLnRhbihwWzBdKk1hdGguUEkvMTgwKSwwLDAsMSwwLDAsMCwxKTticmVhaztjYXNlXCJza2V3WVwiOjE9PT1wLmxlbmd0aCYmbi5zZXQoMSwwLDAsTWF0aC50YW4ocFswXSpNYXRoLlBJLzE4MCksMSwwLDAsMCwxKTticmVhaztjYXNlXCJtYXRyaXhcIjo2PT09cC5sZW5ndGgmJm4uc2V0KHBbMF0scFsyXSxwWzRdLHBbMV0scFszXSxwWzVdLDAsMCwxKX19ZS5wcmVtdWx0aXBseShuKX19cmV0dXJuIGV9KHQpO2YubGVuZ3RoPjAmJmUucHJlbXVsdGlwbHkoZltmLmxlbmd0aC0xXSk7cmV0dXJuIF8uY29weShlKSxmLnB1c2goZSksZX0oZSksYz0hMCxNPW51bGw7c3dpdGNoKGUubm9kZU5hbWUpe2Nhc2VcInN2Z1wiOmJyZWFrO2Nhc2VcInN0eWxlXCI6IWZ1bmN0aW9uKHQpe2lmKCF0LnNoZWV0fHwhdC5zaGVldC5jc3NSdWxlc3x8IXQuc2hlZXQuY3NzUnVsZXMubGVuZ3RoKXJldHVybjtmb3IodmFyIGU9MDtlPHQuc2hlZXQuY3NzUnVsZXMubGVuZ3RoO2UrKyl7dmFyIG49dC5zaGVldC5jc3NSdWxlc1tlXTtpZigxPT09bi50eXBlKWZvcih2YXIgcj1uLnNlbGVjdG9yVGV4dC5zcGxpdCgvLC9nbSkuZmlsdGVyKEJvb2xlYW4pLm1hcCh0PT50LnRyaW0oKSksaT0wO2k8ci5sZW5ndGg7aSsrKXBbcltpXV09T2JqZWN0LmFzc2lnbihwW3JbaV1dfHx7fSxuLnN0eWxlKX19KGUpO2JyZWFrO2Nhc2VcImdcIjpyPWkoZSxyKTticmVhaztjYXNlXCJwYXRoXCI6cj1pKGUsciksZS5oYXNBdHRyaWJ1dGUoXCJkXCIpJiYoTT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGIuU2hhcGVQYXRoLHI9bmV3IGIuVmVjdG9yMixpPW5ldyBiLlZlY3RvcjIscz1uZXcgYi5WZWN0b3IyLGM9ITAsbD0hMSx1PXQuZ2V0QXR0cmlidXRlKFwiZFwiKS5tYXRjaCgvW2EtZGYtel1bXmEtZGYtel0qL2dpKSxoPTAsZD11Lmxlbmd0aDtoPGQ7aCsrKXt2YXIgcD11W2hdLGY9cC5jaGFyQXQoMCksbT1wLnN1YnN0cigxKS50cmltKCk7c3dpdGNoKCEwPT09YyYmKGw9ITAsYz0hMSksZil7Y2FzZVwiTVwiOmZvcih2YXIgZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kz0yKXIueD1nW3YrMF0sci55PWdbdisxXSxpLng9ci54LGkueT1yLnksMD09PXY/ZS5tb3ZlVG8oci54LHIueSk6ZS5saW5lVG8oci54LHIueSksMD09PXYmJiEwPT09bCYmcy5jb3B5KHIpO2JyZWFrO2Nhc2VcIkhcIjpmb3IoZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kyspci54PWdbdl0saS54PXIueCxpLnk9ci55LGUubGluZVRvKHIueCxyLnkpLDA9PT12JiYhMD09PWwmJnMuY29weShyKTticmVhaztjYXNlXCJWXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7disrKXIueT1nW3ZdLGkueD1yLngsaS55PXIueSxlLmxpbmVUbyhyLngsci55KSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwiTFwiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrPTIpci54PWdbdiswXSxyLnk9Z1t2KzFdLGkueD1yLngsaS55PXIueSxlLmxpbmVUbyhyLngsci55KSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwiQ1wiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrPTYpZS5iZXppZXJDdXJ2ZVRvKGdbdiswXSxnW3YrMV0sZ1t2KzJdLGdbdiszXSxnW3YrNF0sZ1t2KzVdKSxpLng9Z1t2KzJdLGkueT1nW3YrM10sci54PWdbdis0XSxyLnk9Z1t2KzVdLDA9PT12JiYhMD09PWwmJnMuY29weShyKTticmVhaztjYXNlXCJTXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7dis9NCllLmJlemllckN1cnZlVG8obyhyLngsaS54KSxvKHIueSxpLnkpLGdbdiswXSxnW3YrMV0sZ1t2KzJdLGdbdiszXSksaS54PWdbdiswXSxpLnk9Z1t2KzFdLHIueD1nW3YrMl0sci55PWdbdiszXSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwiUVwiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrPTQpZS5xdWFkcmF0aWNDdXJ2ZVRvKGdbdiswXSxnW3YrMV0sZ1t2KzJdLGdbdiszXSksaS54PWdbdiswXSxpLnk9Z1t2KzFdLHIueD1nW3YrMl0sci55PWdbdiszXSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwiVFwiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrPTIpe3ZhciB4PW8oci54LGkueCksdz1vKHIueSxpLnkpO2UucXVhZHJhdGljQ3VydmVUbyh4LHcsZ1t2KzBdLGdbdisxXSksaS54PXgsaS55PXcsci54PWdbdiswXSxyLnk9Z1t2KzFdLDA9PT12JiYhMD09PWwmJnMuY29weShyKX1icmVhaztjYXNlXCJBXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7dis9NylpZihnW3YrNV0hPXIueHx8Z1t2KzZdIT1yLnkpe3ZhciBfPXIuY2xvbmUoKTtyLng9Z1t2KzVdLHIueT1nW3YrNl0saS54PXIueCxpLnk9ci55LG4oZSxnW3ZdLGdbdisxXSxnW3YrMl0sZ1t2KzNdLGdbdis0XSxfLHIpLDA9PT12JiYhMD09PWwmJnMuY29weShyKX1icmVhaztjYXNlXCJtXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7dis9MilyLngrPWdbdiswXSxyLnkrPWdbdisxXSxpLng9ci54LGkueT1yLnksMD09PXY/ZS5tb3ZlVG8oci54LHIueSk6ZS5saW5lVG8oci54LHIueSksMD09PXYmJiEwPT09bCYmcy5jb3B5KHIpO2JyZWFrO2Nhc2VcImhcIjpmb3IoZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kyspci54Kz1nW3ZdLGkueD1yLngsaS55PXIueSxlLmxpbmVUbyhyLngsci55KSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwidlwiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrKylyLnkrPWdbdl0saS54PXIueCxpLnk9ci55LGUubGluZVRvKHIueCxyLnkpLDA9PT12JiYhMD09PWwmJnMuY29weShyKTticmVhaztjYXNlXCJsXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7dis9MilyLngrPWdbdiswXSxyLnkrPWdbdisxXSxpLng9ci54LGkueT1yLnksZS5saW5lVG8oci54LHIueSksMD09PXYmJiEwPT09bCYmcy5jb3B5KHIpO2JyZWFrO2Nhc2VcImNcIjpmb3IoZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kz02KWUuYmV6aWVyQ3VydmVUbyhyLngrZ1t2KzBdLHIueStnW3YrMV0sci54K2dbdisyXSxyLnkrZ1t2KzNdLHIueCtnW3YrNF0sci55K2dbdis1XSksaS54PXIueCtnW3YrMl0saS55PXIueStnW3YrM10sci54Kz1nW3YrNF0sci55Kz1nW3YrNV0sMD09PXYmJiEwPT09bCYmcy5jb3B5KHIpO2JyZWFrO2Nhc2VcInNcIjpmb3IoZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kz00KWUuYmV6aWVyQ3VydmVUbyhvKHIueCxpLngpLG8oci55LGkueSksci54K2dbdiswXSxyLnkrZ1t2KzFdLHIueCtnW3YrMl0sci55K2dbdiszXSksaS54PXIueCtnW3YrMF0saS55PXIueStnW3YrMV0sci54Kz1nW3YrMl0sci55Kz1nW3YrM10sMD09PXYmJiEwPT09bCYmcy5jb3B5KHIpO2JyZWFrO2Nhc2VcInFcIjpmb3IoZz1hKG0pLHY9MCx5PWcubGVuZ3RoO3Y8eTt2Kz00KWUucXVhZHJhdGljQ3VydmVUbyhyLngrZ1t2KzBdLHIueStnW3YrMV0sci54K2dbdisyXSxyLnkrZ1t2KzNdKSxpLng9ci54K2dbdiswXSxpLnk9ci55K2dbdisxXSxyLngrPWdbdisyXSxyLnkrPWdbdiszXSwwPT09diYmITA9PT1sJiZzLmNvcHkocik7YnJlYWs7Y2FzZVwidFwiOmZvcihnPWEobSksdj0wLHk9Zy5sZW5ndGg7djx5O3YrPTIpe3g9byhyLngsaS54KSx3PW8oci55LGkueSk7ZS5xdWFkcmF0aWNDdXJ2ZVRvKHgsdyxyLngrZ1t2KzBdLHIueStnW3YrMV0pLGkueD14LGkueT13LHIueD1yLngrZ1t2KzBdLHIueT1yLnkrZ1t2KzFdLDA9PT12JiYhMD09PWwmJnMuY29weShyKX1icmVhaztjYXNlXCJhXCI6Zm9yKGc9YShtKSx2PTAseT1nLmxlbmd0aDt2PHk7dis9NylpZigwIT1nW3YrNV18fDAhPWdbdis2XSl7Xz1yLmNsb25lKCk7ci54Kz1nW3YrNV0sci55Kz1nW3YrNl0saS54PXIueCxpLnk9ci55LG4oZSxnW3ZdLGdbdisxXSxnW3YrMl0sZ1t2KzNdLGdbdis0XSxfLHIpLDA9PT12JiYhMD09PWwmJnMuY29weShyKX1icmVhaztjYXNlXCJaXCI6Y2FzZVwielwiOmUuY3VycmVudFBhdGguYXV0b0Nsb3NlPSEwLGUuY3VycmVudFBhdGguY3VydmVzLmxlbmd0aD4wJiYoci5jb3B5KHMpLGUuY3VycmVudFBhdGguY3VycmVudFBvaW50LmNvcHkociksYz0hMCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4ocCl9bD0hMX1yZXR1cm4gZX0oZSkpO2JyZWFrO2Nhc2VcInJlY3RcIjpyPWkoZSxyKSxNPWZ1bmN0aW9uKHQpe3ZhciBlPWwodC5nZXRBdHRyaWJ1dGUoXCJ4XCIpfHwwKSxuPWwodC5nZXRBdHRyaWJ1dGUoXCJ5XCIpfHwwKSxyPWwodC5nZXRBdHRyaWJ1dGUoXCJyeFwiKXx8MCksaT1sKHQuZ2V0QXR0cmlidXRlKFwicnlcIil8fDApLG89bCh0LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpKSxhPWwodC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpLHM9bmV3IGIuU2hhcGVQYXRoO3MubW92ZVRvKGUrMipyLG4pLHMubGluZVRvKGUrby0yKnIsbiksKDAhPT1yfHwwIT09aSkmJnMuYmV6aWVyQ3VydmVUbyhlK28sbixlK28sbixlK28sbisyKmkpO3MubGluZVRvKGUrbyxuK2EtMippKSwoMCE9PXJ8fDAhPT1pKSYmcy5iZXppZXJDdXJ2ZVRvKGUrbyxuK2EsZStvLG4rYSxlK28tMipyLG4rYSk7cy5saW5lVG8oZSsyKnIsbithKSwoMCE9PXJ8fDAhPT1pKSYmcy5iZXppZXJDdXJ2ZVRvKGUsbithLGUsbithLGUsbithLTIqaSk7cy5saW5lVG8oZSxuKzIqaSksKDAhPT1yfHwwIT09aSkmJnMuYmV6aWVyQ3VydmVUbyhlLG4sZSxuLGUrMipyLG4pO3JldHVybiBzfShlKTticmVhaztjYXNlXCJwb2x5Z29uXCI6cj1pKGUsciksTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxpKXt2YXIgbz1sKGUpLGE9bChpKTswPT09cj9uLm1vdmVUbyhvLGEpOm4ubGluZVRvKG8sYSkscisrfXZhciBuPW5ldyBiLlNoYXBlUGF0aCxyPTA7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpLnJlcGxhY2UoLygtP1tcXGRcXC4/XSspWyx8XFxzXSgtP1tcXGRcXC4/XSspL2csZSksbi5jdXJyZW50UGF0aC5hdXRvQ2xvc2U9ITAsbn0oZSk7YnJlYWs7Y2FzZVwicG9seWxpbmVcIjpyPWkoZSxyKSxNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLGkpe3ZhciBvPWwoZSksYT1sKGkpOzA9PT1yP24ubW92ZVRvKG8sYSk6bi5saW5lVG8obyxhKSxyKyt9dmFyIG49bmV3IGIuU2hhcGVQYXRoLHI9MDtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJwb2ludHNcIikucmVwbGFjZSgvKC0/W1xcZFxcLj9dKylbLHxcXHNdKC0/W1xcZFxcLj9dKykvZyxlKSxuLmN1cnJlbnRQYXRoLmF1dG9DbG9zZT0hMSxufShlKTticmVhaztjYXNlXCJjaXJjbGVcIjpyPWkoZSxyKSxNPWZ1bmN0aW9uKHQpe3ZhciBlPWwodC5nZXRBdHRyaWJ1dGUoXCJjeFwiKSksbj1sKHQuZ2V0QXR0cmlidXRlKFwiY3lcIikpLHI9bCh0LmdldEF0dHJpYnV0ZShcInJcIikpLGk9bmV3IGIuUGF0aDtpLmFic2FyYyhlLG4sciwwLDIqTWF0aC5QSSk7dmFyIG89bmV3IGIuU2hhcGVQYXRoO3JldHVybiBvLnN1YlBhdGhzLnB1c2goaSksb30oZSk7YnJlYWs7Y2FzZVwiZWxsaXBzZVwiOnI9aShlLHIpLE09ZnVuY3Rpb24odCl7dmFyIGU9bCh0LmdldEF0dHJpYnV0ZShcImN4XCIpKSxuPWwodC5nZXRBdHRyaWJ1dGUoXCJjeVwiKSkscj1sKHQuZ2V0QXR0cmlidXRlKFwicnhcIikpLGk9bCh0LmdldEF0dHJpYnV0ZShcInJ5XCIpKSxvPW5ldyBiLlBhdGg7by5hYnNlbGxpcHNlKGUsbixyLGksMCwyKk1hdGguUEkpO3ZhciBhPW5ldyBiLlNoYXBlUGF0aDtyZXR1cm4gYS5zdWJQYXRocy5wdXNoKG8pLGF9KGUpO2JyZWFrO2Nhc2VcImxpbmVcIjpyPWkoZSxyKSxNPWZ1bmN0aW9uKHQpe3ZhciBlPWwodC5nZXRBdHRyaWJ1dGUoXCJ4MVwiKSksbj1sKHQuZ2V0QXR0cmlidXRlKFwieTFcIikpLHI9bCh0LmdldEF0dHJpYnV0ZShcIngyXCIpKSxpPWwodC5nZXRBdHRyaWJ1dGUoXCJ5MlwiKSksbz1uZXcgYi5TaGFwZVBhdGg7cmV0dXJuIG8ubW92ZVRvKGUsbiksby5saW5lVG8ocixpKSxvLmN1cnJlbnRQYXRoLmF1dG9DbG9zZT0hMSxvfShlKTticmVhaztjYXNlXCJkZWZzXCI6Yz0hMTticmVhaztjYXNlXCJ1c2VcIjpyPWkoZSxyKTt2YXIgUz1lLmhyZWYuYmFzZVZhbC5zdWJzdHJpbmcoMSksVD1lLnZpZXdwb3J0RWxlbWVudC5nZXRFbGVtZW50QnlJZChTKTtUP3QoVCxyKTpjb25zb2xlLndhcm4oXCJTVkdMb2FkZXI6ICd1c2Ugbm9kZScgcmVmZXJlbmNlcyBub24tZXhpc3RlbnQgbm9kZSBpZDogXCIrUyl9aWYoTSYmKHZvaWQgMCE9PXIuZmlsbCYmXCJub25lXCIhPT1yLmZpbGwmJk0uY29sb3Iuc2V0U3R5bGUoci5maWxsKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7dy5zZXQodC54LHQueSwxKS5hcHBseU1hdHJpeDMoZSksdC5zZXQody54LHcueSl9Zm9yKHZhciByPWZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC5lbGVtZW50c1sxXXx8MCE9PXQuZWxlbWVudHNbM119KGUpLGk9dC5zdWJQYXRocyxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKWZvcih2YXIgcz1pW29dLmN1cnZlcyxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBsPXNbY107bC5pc0xpbmVDdXJ2ZT8obihsLnYxKSxuKGwudjIpKTpsLmlzQ3ViaWNCZXppZXJDdXJ2ZT8obihsLnYwKSxuKGwudjEpLG4obC52MiksbihsLnYzKSk6bC5pc1F1YWRyYXRpY0JlemllckN1cnZlPyhuKGwudjApLG4obC52MSksbihsLnYyKSk6bC5pc0VsbGlwc2VDdXJ2ZSYmKHImJmNvbnNvbGUud2FybihcIlNWR0xvYWRlcjogRWxsaXB0aWMgYXJjIG9yIGVsbGlwc2Ugcm90YXRpb24gb3Igc2tld2luZyBpcyBub3QgaW1wbGVtZW50ZWQuXCIpLHguc2V0KGwuYVgsbC5hWSksbih4KSxsLmFYPXgueCxsLmFZPXgueSxsLnhSYWRpdXMqPXUoZSksbC55UmFkaXVzKj1oKGUpKX19KE0sXyksZC5wdXNoKE0pLE0udXNlckRhdGE9e25vZGU6ZSxzdHlsZTpyfSksYylmb3IodmFyIEU9ZS5jaGlsZE5vZGVzLEE9MDtBPEUubGVuZ3RoO0ErKyl0KEVbQV0scik7cyYmKGYucG9wKCksZi5sZW5ndGg+MD9fLmNvcHkoZltmLmxlbmd0aC0xXSk6Xy5pZGVudGl0eSgpKX19KE0uZG9jdW1lbnRFbGVtZW50LHtmaWxsOlwiIzAwMFwiLGZpbGxPcGFjaXR5OjEsc3Ryb2tlT3BhY2l0eToxLHN0cm9rZVdpZHRoOjEsc3Ryb2tlTGluZUpvaW46XCJtaXRlclwiLHN0cm9rZUxpbmVDYXA6XCJidXR0XCIsc3Ryb2tlTWl0ZXJMaW1pdDo0fSkse3BhdGhzOmQseG1sOk0uZG9jdW1lbnRFbGVtZW50fX19KSx3LmdldFN0cm9rZVN0eWxlPWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJue3N0cm9rZUNvbG9yOmU9dm9pZCAwIT09ZT9lOlwiIzAwMFwiLHN0cm9rZVdpZHRoOnQ9dm9pZCAwIT09dD90OjEsc3Ryb2tlTGluZUpvaW46bj12b2lkIDAhPT1uP246XCJtaXRlclwiLHN0cm9rZUxpbmVDYXA6cj12b2lkIDAhPT1yP3I6XCJidXR0XCIsc3Ryb2tlTWl0ZXJMaW1pdDppPXZvaWQgMCE9PWk/aTo0fX0sdy5wb2ludHNUb1N0cm9rZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1bXSxvPVtdLGE9W107aWYoMD09PXcucG9pbnRzVG9TdHJva2VXaXRoQnVmZmVycyh0LGUsbixyLGksbyxhKSlyZXR1cm4gbnVsbDt2YXIgcz1uZXcgYi5CdWZmZXJHZW9tZXRyeTtyZXR1cm4gcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBiLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoaSwzKSkscy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgYi5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKG8sMykpLHMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgYi5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKGEsMikpLHN9LHcucG9pbnRzVG9TdHJva2VXaXRoQnVmZmVycz0ocj1uZXcgYi5WZWN0b3IyLGk9bmV3IGIuVmVjdG9yMixvPW5ldyBiLlZlY3RvcjIsYT1uZXcgYi5WZWN0b3IyLHM9bmV3IGIuVmVjdG9yMixjPW5ldyBiLlZlY3RvcjIsbD1uZXcgYi5WZWN0b3IyLHU9bmV3IGIuVmVjdG9yMixoPW5ldyBiLlZlY3RvcjIsZD1uZXcgYi5WZWN0b3IyLHA9bmV3IGIuVmVjdG9yMixmPW5ldyBiLlZlY3RvcjIsbT1uZXcgYi5WZWN0b3IyLGc9bmV3IGIuVmVjdG9yMix2PW5ldyBiLlZlY3RvcjIseT1uZXcgYi5WZWN0b3IyLHg9bmV3IGIuVmVjdG9yMixmdW5jdGlvbih0LGUsbixiLHcsXyxNLFMpe249dm9pZCAwIT09bj9uOjEyLGI9dm9pZCAwIT09Yj9iOi4wMDEsUz12b2lkIDAhPT1TP1M6MDt2YXIgVD0odD1mdW5jdGlvbih0KXtmb3IodmFyIGU9ITEsbj0xLHI9dC5sZW5ndGgtMTtuPHI7bisrKWlmKHRbbl0uZGlzdGFuY2VUbyh0W24rMV0pPGIpe2U9ITA7YnJlYWt9aWYoIWUpcmV0dXJuIHQ7dmFyIGk9W107Zm9yKGkucHVzaCh0WzBdKSxuPTEscj10Lmxlbmd0aC0xO248cjtuKyspdFtuXS5kaXN0YW5jZVRvKHRbbisxXSk+PWImJmkucHVzaCh0W25dKTtyZXR1cm4gaS5wdXNoKHRbdC5sZW5ndGgtMV0pLGl9KHQpKS5sZW5ndGg7aWYoVDwyKXJldHVybiAwO3ZhciBFLEEsTCxSLFAsQz10WzBdLmVxdWFscyh0W1QtMV0pLEk9dFswXSxPPWUuc3Ryb2tlV2lkdGgvMixOPTEvKFQtMSksRD0wLEI9ITEsRj0wLFU9MypTLHo9MipTO0sodFswXSx0WzFdLHIpLm11bHRpcGx5U2NhbGFyKE8pLHUuY29weSh0WzBdKS5zdWIociksaC5jb3B5KHRbMF0pLmFkZChyKSxkLmNvcHkodSkscC5jb3B5KGgpO2Zvcih2YXIgRz0xO0c8VDtHKyspe0U9dFtHXSxBPUc9PT1ULTE/Qz90WzFdOnZvaWQgMDp0W0crMV07dmFyIEg9cjtLKEksRSxIKSxvLmNvcHkoSCkubXVsdGlwbHlTY2FsYXIoTyksZi5jb3B5KEUpLnN1YihvKSxtLmNvcHkoRSkuYWRkKG8pO3ZhciBrPUQrTjtpZihMPSExLHZvaWQgMCE9PUEpe0soRSxBLGkpLG8uY29weShpKS5tdWx0aXBseVNjYWxhcihPKSxnLmNvcHkoRSkuc3ViKG8pLHYuY29weShFKS5hZGQobyksUj0hMCxvLnN1YlZlY3RvcnMoQSxJKSxILmRvdChvKTwwJiYoUj0hMSksMT09PUcmJihCPVIpLG8uc3ViVmVjdG9ycyhBLEUpLG8ubm9ybWFsaXplKCk7dmFyIFY9TWF0aC5hYnMoSC5kb3QobykpO2lmKDAhPT1WKXt2YXIgaj1PL1Y7by5tdWx0aXBseVNjYWxhcigtaiksYS5zdWJWZWN0b3JzKEUsSSkscy5jb3B5KGEpLnNldExlbmd0aChqKS5hZGQobykseS5jb3B5KHMpLm5lZ2F0ZSgpO3ZhciBXPXMubGVuZ3RoKCksWD1hLmxlbmd0aCgpO2EuZGl2aWRlU2NhbGFyKFgpLGMuc3ViVmVjdG9ycyhBLEUpO3ZhciBxPWMubGVuZ3RoKCk7c3dpdGNoKGMuZGl2aWRlU2NhbGFyKHEpLGEuZG90KHkpPFgmJmMuZG90KHkpPHEmJihMPSEwKSx4LmNvcHkocykuYWRkKEUpLHkuYWRkKEUpLFA9ITEsTD9SPyh2LmNvcHkoeSksbS5jb3B5KHkpKTooZy5jb3B5KHkpLGYuY29weSh5KSk6dHQoKSxlLnN0cm9rZUxpbmVKb2luKXtjYXNlXCJiZXZlbFwiOmV0KFIsTCxrKTticmVhaztjYXNlXCJyb3VuZFwiOm50KFIsTCksUj8kKEUsZixnLGssMCk6JChFLHYsbSxrLDEpO2JyZWFrO2Nhc2VcIm1pdGVyXCI6Y2FzZVwibWl0ZXItY2xpcFwiOmRlZmF1bHQ6dmFyIFk9TyplLnN0cm9rZU1pdGVyTGltaXQvVztpZihZPDEpe2lmKFwibWl0ZXItY2xpcFwiIT09ZS5zdHJva2VMaW5lSm9pbil7ZXQoUixMLGspO2JyZWFrfW50KFIsTCksUj8oYy5zdWJWZWN0b3JzKHgsZikubXVsdGlwbHlTY2FsYXIoWSkuYWRkKGYpLGwuc3ViVmVjdG9ycyh4LGcpLm11bHRpcGx5U2NhbGFyKFkpLmFkZChnKSxRKGYsaywwKSxRKGMsaywwKSxRKEUsaywuNSksUShFLGssLjUpLFEoYyxrLDApLFEobCxrLDApLFEoRSxrLC41KSxRKGwsaywwKSxRKGcsaywwKSk6KGMuc3ViVmVjdG9ycyh4LG0pLm11bHRpcGx5U2NhbGFyKFkpLmFkZChtKSxsLnN1YlZlY3RvcnMoeCx2KS5tdWx0aXBseVNjYWxhcihZKS5hZGQodiksUShtLGssMSksUShjLGssMSksUShFLGssLjUpLFEoRSxrLC41KSxRKGMsaywxKSxRKGwsaywxKSxRKEUsaywuNSksUShsLGssMSksUSh2LGssMSkpfWVsc2UgTD8oUj8oUShoLEQsMSksUSh1LEQsMCksUSh4LGssMCksUShoLEQsMSksUSh4LGssMCksUSh5LGssMSkpOihRKGgsRCwxKSxRKHUsRCwwKSxRKHgsaywxKSxRKHUsRCwwKSxRKHksaywwKSxRKHgsaywxKSksUj9nLmNvcHkoeCk6di5jb3B5KHgpKTpSPyhRKGYsaywwKSxRKHgsaywwKSxRKEUsaywuNSksUShFLGssLjUpLFEoeCxrLDApLFEoZyxrLDApKTooUShtLGssMSksUSh4LGssMSksUShFLGssLjUpLFEoRSxrLC41KSxRKHgsaywxKSxRKHYsaywxKSksUD0hMH19ZWxzZSB0dCgpfWVsc2UgdHQoKTtDfHxHIT09VC0xfHxydCh0WzBdLGQscCxSLCEwLEQpLEQ9ayxJPUUsdS5jb3B5KGcpLGguY29weSh2KX1pZihDKXtpZihMJiZ3KXt2YXIgWj14LEo9eTtCIT09UiYmKFo9eSxKPXgpLFI/KFB8fEIpJiYoSi50b0FycmF5KHcsMCksSi50b0FycmF5KHcsOSksUCYmWi50b0FycmF5KHcsMykpOiFQJiZCfHwoSi50b0FycmF5KHcsMyksSi50b0FycmF5KHcsOSksUCYmWi50b0FycmF5KHcsMCkpfX1lbHNlIHJ0KEUsZixtLFIsITEsayk7cmV0dXJuIEY7ZnVuY3Rpb24gSyh0LGUsbil7cmV0dXJuIG4uc3ViVmVjdG9ycyhlLHQpLG4uc2V0KC1uLnksbi54KS5ub3JtYWxpemUoKX1mdW5jdGlvbiBRKHQsZSxuKXt3JiYod1tVXT10Lngsd1tVKzFdPXQueSx3W1UrMl09MCxfJiYoX1tVXT0wLF9bVSsxXT0wLF9bVSsyXT0xKSxVKz0zLE0mJihNW3pdPWUsTVt6KzFdPW4seis9MikpLEYrPTN9ZnVuY3Rpb24gJCh0LGUscyxjLGwpe3IuY29weShlKS5zdWIodCkubm9ybWFsaXplKCksaS5jb3B5KHMpLnN1Yih0KS5ub3JtYWxpemUoKTt2YXIgdT1NYXRoLlBJLGg9ci5kb3QoaSk7TWF0aC5hYnMoaCk8MSYmKHU9TWF0aC5hYnMoTWF0aC5hY29zKGgpKSksdS89bixvLmNvcHkoZSk7Zm9yKHZhciBkPTAscD1uLTE7ZDxwO2QrKylhLmNvcHkobykucm90YXRlQXJvdW5kKHQsdSksUShvLGMsbCksUShhLGMsbCksUSh0LGMsLjUpLG8uY29weShhKTtRKGEsYyxsKSxRKHMsYyxsKSxRKHQsYywuNSl9ZnVuY3Rpb24gdHQoKXtRKGgsRCwxKSxRKHUsRCwwKSxRKGYsaywwKSxRKGgsRCwxKSxRKGYsaywxKSxRKG0saywwKX1mdW5jdGlvbiBldCh0LGUsbil7ZT90PyhRKGgsRCwxKSxRKHUsRCwwKSxRKGYsaywwKSxRKGgsRCwxKSxRKGYsaywwKSxRKHksaywxKSxRKGYsbiwwKSxRKGcsbiwwKSxRKHksbiwuNSkpOihRKGgsRCwxKSxRKHUsRCwwKSxRKG0saywxKSxRKHUsRCwwKSxRKHksaywwKSxRKG0saywxKSxRKG0sbiwxKSxRKHYsbiwwKSxRKHksbiwuNSkpOnQ/KFEoZixuLDApLFEoZyxuLDApLFEoRSxuLC41KSk6KFEobSxuLDEpLFEodixuLDApLFEoRSxuLC41KSl9ZnVuY3Rpb24gbnQodCxlKXtlJiYodD8oUShoLEQsMSksUSh1LEQsMCksUShmLGssMCksUShoLEQsMSksUShmLGssMCksUSh5LGssMSksUShmLEQsMCksUShFLGssLjUpLFEoeSxrLDEpLFEoRSxrLC41KSxRKGcsRCwwKSxRKHksaywxKSk6KFEoaCxELDEpLFEodSxELDApLFEobSxrLDEpLFEodSxELDApLFEoeSxrLDApLFEobSxrLDEpLFEobSxELDEpLFEoeSxrLDApLFEoRSxrLC41KSxRKEUsaywuNSksUSh5LGssMCksUSh2LEQsMSkpKX1mdW5jdGlvbiBydCh0LG4scyxjLGwsdSl7c3dpdGNoKGUuc3Ryb2tlTGluZUNhcCl7Y2FzZVwicm91bmRcIjpsPyQodCxzLG4sdSwuNSk6JCh0LG4scyx1LC41KTticmVhaztjYXNlXCJzcXVhcmVcIjppZihsKXIuc3ViVmVjdG9ycyhuLHQpLGkuc2V0KHIueSwtci54KSxvLmFkZFZlY3RvcnMocixpKS5hZGQodCksYS5zdWJWZWN0b3JzKGkscikuYWRkKHQpLGM/KG8udG9BcnJheSh3LDMpLGEudG9BcnJheSh3LDApLGEudG9BcnJheSh3LDkpKTooby50b0FycmF5KHcsMyksby50b0FycmF5KHcsOSksYS50b0FycmF5KHcsMCkpO2Vsc2V7ci5zdWJWZWN0b3JzKHMsdCksaS5zZXQoci55LC1yLngpLG8uYWRkVmVjdG9ycyhyLGkpLmFkZCh0KSxhLnN1YlZlY3RvcnMoaSxyKS5hZGQodCk7dmFyIGg9dy5sZW5ndGg7Yz8oby50b0FycmF5KHcsaC0zKSxhLnRvQXJyYXkodyxoLTYpLGEudG9BcnJheSh3LGgtMTIpKTooby50b0FycmF5KHcsaC02KSxhLnRvQXJyYXkodyxoLTMpLGEudG9BcnJheSh3LGgtMTIpKX19fX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiVlJCdXR0b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTtjbGFzcyBye3N0YXRpYyBjcmVhdGVCdXR0b24odCxlKXtlJiZjb25zb2xlLmVycm9yKCdUSFJFRS5WUkJ1dHRvbjogVGhlIFwib3B0aW9uc1wiIHBhcmFtZXRlciBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0IHRoZSByZWZlcmVuY2Ugc3BhY2UgdHlwZSB2aWEgcmVuZGVyZXIueHIuc2V0UmVmZXJlbmNlU3BhY2VUeXBlKCkgaW5zdGVhZC4nKTtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZnVuY3Rpb24gcigpe24uc3R5bGUuZGlzcGxheT1cIlwiLG4uc3R5bGUuY3Vyc29yPVwiYXV0b1wiLG4uc3R5bGUubGVmdD1cImNhbGMoNTAlIC0gNzVweClcIixuLnN0eWxlLndpZHRoPVwiMTUwcHhcIixuLm9ubW91c2VlbnRlcj1udWxsLG4ub25tb3VzZWxlYXZlPW51bGwsbi5vbmNsaWNrPW51bGwsbi50ZXh0Q29udGVudD1cIlZSIE5PVCBTVVBQT1JURURcIn1mdW5jdGlvbiBpKHQpe3Quc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUuYm90dG9tPVwiMjBweFwiLHQuc3R5bGUucGFkZGluZz1cIjEycHggNnB4XCIsdC5zdHlsZS5ib3JkZXI9XCIxcHggc29saWQgI2ZmZlwiLHQuc3R5bGUuYm9yZGVyUmFkaXVzPVwiNHB4XCIsdC5zdHlsZS5iYWNrZ3JvdW5kPVwicmdiYSgwLDAsMCwwLjEpXCIsdC5zdHlsZS5jb2xvcj1cIiNmZmZcIix0LnN0eWxlLmZvbnQ9XCJub3JtYWwgMTNweCBzYW5zLXNlcmlmXCIsdC5zdHlsZS50ZXh0QWxpZ249XCJjZW50ZXJcIix0LnN0eWxlLm9wYWNpdHk9XCIwLjVcIix0LnN0eWxlLm91dGxpbmU9XCJub25lXCIsdC5zdHlsZS56SW5kZXg9XCI5OTlcIn1pZihcInhyXCJpbiBuYXZpZ2F0b3IpcmV0dXJuIG4uaWQ9XCJWUkJ1dHRvblwiLG4uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixpKG4pLG5hdmlnYXRvci54ci5pc1Nlc3Npb25TdXBwb3J0ZWQoXCJpbW1lcnNpdmUtdnJcIikudGhlbigoZnVuY3Rpb24oZSl7ZT9mdW5jdGlvbigpe2xldCBlPW51bGw7ZnVuY3Rpb24gcihyKXtyLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRcIixpKSx0LnhyLnNldFNlc3Npb24ociksbi50ZXh0Q29udGVudD1cIkVYSVQgVlJcIixlPXJ9ZnVuY3Rpb24gaSgpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZFwiLGkpLG4udGV4dENvbnRlbnQ9XCJFTlRFUiBWUlwiLGU9bnVsbH1uLnN0eWxlLmRpc3BsYXk9XCJcIixuLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIixuLnN0eWxlLmxlZnQ9XCJjYWxjKDUwJSAtIDUwcHgpXCIsbi5zdHlsZS53aWR0aD1cIjEwMHB4XCIsbi50ZXh0Q29udGVudD1cIkVOVEVSIFZSXCIsbi5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtuLnN0eWxlLm9wYWNpdHk9XCIxLjBcIn0sbi5vbm1vdXNlbGVhdmU9ZnVuY3Rpb24oKXtuLnN0eWxlLm9wYWNpdHk9XCIwLjVcIn0sbi5vbmNsaWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09PWUpe2NvbnN0IHQ9e29wdGlvbmFsRmVhdHVyZXM6W1wibG9jYWwtZmxvb3JcIixcImJvdW5kZWQtZmxvb3JcIixcImhhbmQtdHJhY2tpbmdcIl19O25hdmlnYXRvci54ci5yZXF1ZXN0U2Vzc2lvbihcImltbWVyc2l2ZS12clwiLHQpLnRoZW4ocil9ZWxzZSBlLmVuZCgpfX0oKTpyKCl9KSksbjt7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4hMT09PXdpbmRvdy5pc1NlY3VyZUNvbnRleHQ/KHQuaHJlZj1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoL15odHRwOi8sXCJodHRwczpcIiksdC5pbm5lckhUTUw9XCJXRUJYUiBORUVEUyBIVFRQU1wiKToodC5ocmVmPVwiaHR0cHM6Ly9pbW1lcnNpdmV3ZWIuZGV2L1wiLHQuaW5uZXJIVE1MPVwiV0VCWFIgTk9UIEFWQUlMQUJMRVwiKSx0LnN0eWxlLmxlZnQ9XCJjYWxjKDUwJSAtIDkwcHgpXCIsdC5zdHlsZS53aWR0aD1cIjE4MHB4XCIsdC5zdHlsZS50ZXh0RGVjb3JhdGlvbj1cIm5vbmVcIixpKHQpLHR9fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJTa3lcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDApLGk9ZnVuY3Rpb24oKXt2YXIgdD1pLlNreVNoYWRlcixlPW5ldyByLlNoYWRlck1hdGVyaWFsKHtuYW1lOlwiU2t5U2hhZGVyXCIsZnJhZ21lbnRTaGFkZXI6dC5mcmFnbWVudFNoYWRlcix2ZXJ0ZXhTaGFkZXI6dC52ZXJ0ZXhTaGFkZXIsdW5pZm9ybXM6ci5Vbmlmb3Jtc1V0aWxzLmNsb25lKHQudW5pZm9ybXMpLHNpZGU6ci5CYWNrU2lkZSxkZXB0aFdyaXRlOiExfSk7ci5NZXNoLmNhbGwodGhpcyxuZXcgci5Cb3hCdWZmZXJHZW9tZXRyeSgxLDEsMSksZSl9O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5NZXNoLnByb3RvdHlwZSksaS5Ta3lTaGFkZXI9e3VuaWZvcm1zOnt0dXJiaWRpdHk6e3ZhbHVlOjJ9LHJheWxlaWdoOnt2YWx1ZToxfSxtaWVDb2VmZmljaWVudDp7dmFsdWU6LjAwNX0sbWllRGlyZWN0aW9uYWxHOnt2YWx1ZTouOH0sc3VuUG9zaXRpb246e3ZhbHVlOm5ldyByLlZlY3RvcjN9LHVwOnt2YWx1ZTpuZXcgci5WZWN0b3IzKDAsMSwwKX19LHZlcnRleFNoYWRlcjpbXCJ1bmlmb3JtIHZlYzMgc3VuUG9zaXRpb247XCIsXCJ1bmlmb3JtIGZsb2F0IHJheWxlaWdoO1wiLFwidW5pZm9ybSBmbG9hdCB0dXJiaWRpdHk7XCIsXCJ1bmlmb3JtIGZsb2F0IG1pZUNvZWZmaWNpZW50O1wiLFwidW5pZm9ybSB2ZWMzIHVwO1wiLFwidmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1wiLFwidmFyeWluZyB2ZWMzIHZTdW5EaXJlY3Rpb247XCIsXCJ2YXJ5aW5nIGZsb2F0IHZTdW5mYWRlO1wiLFwidmFyeWluZyB2ZWMzIHZCZXRhUjtcIixcInZhcnlpbmcgdmVjMyB2QmV0YU07XCIsXCJ2YXJ5aW5nIGZsb2F0IHZTdW5FO1wiLFwiY29uc3QgZmxvYXQgZSA9IDIuNzE4MjgxODI4NDU5MDQ1MjM1MzYwMjg3NDcxMzUyNjYyNDk3NzU3MjQ3MDkzNjk5OTU5NTc7XCIsXCJjb25zdCBmbG9hdCBwaSA9IDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTAyODg0MTk3MTY5O1wiLFwiY29uc3QgdmVjMyBsYW1iZGEgPSB2ZWMzKCA2ODBFLTksIDU1MEUtOSwgNDUwRS05ICk7XCIsXCJjb25zdCB2ZWMzIHRvdGFsUmF5bGVpZ2ggPSB2ZWMzKCA1LjgwNDU0Mjk5NjI2MTA5M0UtNiwgMS4zNTYyOTExNDE5ODQ1NjM1RS01LCAzLjAyNjU5MDI0Njg4MjQ4NzZFLTUgKTtcIixcImNvbnN0IGZsb2F0IHYgPSA0LjA7XCIsXCJjb25zdCB2ZWMzIEsgPSB2ZWMzKCAwLjY4NiwgMC42NzgsIDAuNjY2ICk7XCIsXCJjb25zdCB2ZWMzIE1pZUNvbnN0ID0gdmVjMyggMS44Mzk5OTE4NTE0NDMzOTc4RTE0LCAyLjc3OTgwMjM5MTk2NjA1MjhFMTQsIDQuMDc5MDQ3OTU0Mzg2MTA5NEUxNCApO1wiLFwiY29uc3QgZmxvYXQgY3V0b2ZmQW5nbGUgPSAxLjYxMTA3MzE1NTY4NzA3MzQ7XCIsXCJjb25zdCBmbG9hdCBzdGVlcG5lc3MgPSAxLjU7XCIsXCJjb25zdCBmbG9hdCBFRSA9IDEwMDAuMDtcIixcImZsb2F0IHN1bkludGVuc2l0eSggZmxvYXQgemVuaXRoQW5nbGVDb3MgKSB7XCIsXCJcXHR6ZW5pdGhBbmdsZUNvcyA9IGNsYW1wKCB6ZW5pdGhBbmdsZUNvcywgLTEuMCwgMS4wICk7XCIsXCJcXHRyZXR1cm4gRUUgKiBtYXgoIDAuMCwgMS4wIC0gcG93KCBlLCAtKCAoIGN1dG9mZkFuZ2xlIC0gYWNvcyggemVuaXRoQW5nbGVDb3MgKSApIC8gc3RlZXBuZXNzICkgKSApO1wiLFwifVwiLFwidmVjMyB0b3RhbE1pZSggZmxvYXQgVCApIHtcIixcIlxcdGZsb2F0IGMgPSAoIDAuMiAqIFQgKSAqIDEwRS0xODtcIixcIlxcdHJldHVybiAwLjQzNCAqIGMgKiBNaWVDb25zdDtcIixcIn1cIixcInZvaWQgbWFpbigpIHtcIixcIlxcdHZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1wiLFwiXFx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcIixcIlxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIlxcdGdsX1Bvc2l0aW9uLnogPSBnbF9Qb3NpdGlvbi53O1wiLFwiXFx0dlN1bkRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggc3VuUG9zaXRpb24gKTtcIixcIlxcdHZTdW5FID0gc3VuSW50ZW5zaXR5KCBkb3QoIHZTdW5EaXJlY3Rpb24sIHVwICkgKTtcIixcIlxcdHZTdW5mYWRlID0gMS4wIC0gY2xhbXAoIDEuMCAtIGV4cCggKCBzdW5Qb3NpdGlvbi55IC8gNDUwMDAwLjAgKSApLCAwLjAsIDEuMCApO1wiLFwiXFx0ZmxvYXQgcmF5bGVpZ2hDb2VmZmljaWVudCA9IHJheWxlaWdoIC0gKCAxLjAgKiAoIDEuMCAtIHZTdW5mYWRlICkgKTtcIixcIlxcdHZCZXRhUiA9IHRvdGFsUmF5bGVpZ2ggKiByYXlsZWlnaENvZWZmaWNpZW50O1wiLFwiXFx0dkJldGFNID0gdG90YWxNaWUoIHR1cmJpZGl0eSApICogbWllQ29lZmZpY2llbnQ7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1wiLFwidmFyeWluZyB2ZWMzIHZTdW5EaXJlY3Rpb247XCIsXCJ2YXJ5aW5nIGZsb2F0IHZTdW5mYWRlO1wiLFwidmFyeWluZyB2ZWMzIHZCZXRhUjtcIixcInZhcnlpbmcgdmVjMyB2QmV0YU07XCIsXCJ2YXJ5aW5nIGZsb2F0IHZTdW5FO1wiLFwidW5pZm9ybSBmbG9hdCBtaWVEaXJlY3Rpb25hbEc7XCIsXCJ1bmlmb3JtIHZlYzMgdXA7XCIsXCJjb25zdCB2ZWMzIGNhbWVyYVBvcyA9IHZlYzMoIDAuMCwgMC4wLCAwLjAgKTtcIixcImNvbnN0IGZsb2F0IHBpID0gMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjk7XCIsXCJjb25zdCBmbG9hdCBuID0gMS4wMDAzO1wiLFwiY29uc3QgZmxvYXQgTiA9IDIuNTQ1RTI1O1wiLFwiY29uc3QgZmxvYXQgcmF5bGVpZ2haZW5pdGhMZW5ndGggPSA4LjRFMztcIixcImNvbnN0IGZsb2F0IG1pZVplbml0aExlbmd0aCA9IDEuMjVFMztcIixcImNvbnN0IGZsb2F0IHN1bkFuZ3VsYXJEaWFtZXRlckNvcyA9IDAuOTk5OTU2Njc2OTQ2NDQ4NDQzNTUzNTc0NjE5OTA2OTc2NDc4OTI2ODQ4NjkyODczOTAwODU5MzI0O1wiLFwiY29uc3QgZmxvYXQgVEhSRUVfT1ZFUl9TSVhURUVOUEkgPSAwLjA1OTY4MzEwMzY1OTQ2MDc1O1wiLFwiY29uc3QgZmxvYXQgT05FX09WRVJfRk9VUlBJID0gMC4wNzk1Nzc0NzE1NDU5NDc2NztcIixcImZsb2F0IHJheWxlaWdoUGhhc2UoIGZsb2F0IGNvc1RoZXRhICkge1wiLFwiXFx0cmV0dXJuIFRIUkVFX09WRVJfU0lYVEVFTlBJICogKCAxLjAgKyBwb3coIGNvc1RoZXRhLCAyLjAgKSApO1wiLFwifVwiLFwiZmxvYXQgaGdQaGFzZSggZmxvYXQgY29zVGhldGEsIGZsb2F0IGcgKSB7XCIsXCJcXHRmbG9hdCBnMiA9IHBvdyggZywgMi4wICk7XCIsXCJcXHRmbG9hdCBpbnZlcnNlID0gMS4wIC8gcG93KCAxLjAgLSAyLjAgKiBnICogY29zVGhldGEgKyBnMiwgMS41ICk7XCIsXCJcXHRyZXR1cm4gT05FX09WRVJfRk9VUlBJICogKCAoIDEuMCAtIGcyICkgKiBpbnZlcnNlICk7XCIsXCJ9XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3MgKTtcIixcIlxcdGZsb2F0IHplbml0aEFuZ2xlID0gYWNvcyggbWF4KCAwLjAsIGRvdCggdXAsIGRpcmVjdGlvbiApICkgKTtcIixcIlxcdGZsb2F0IGludmVyc2UgPSAxLjAgLyAoIGNvcyggemVuaXRoQW5nbGUgKSArIDAuMTUgKiBwb3coIDkzLjg4NSAtICggKCB6ZW5pdGhBbmdsZSAqIDE4MC4wICkgLyBwaSApLCAtMS4yNTMgKSApO1wiLFwiXFx0ZmxvYXQgc1IgPSByYXlsZWlnaFplbml0aExlbmd0aCAqIGludmVyc2U7XCIsXCJcXHRmbG9hdCBzTSA9IG1pZVplbml0aExlbmd0aCAqIGludmVyc2U7XCIsXCJcXHR2ZWMzIEZleCA9IGV4cCggLSggdkJldGFSICogc1IgKyB2QmV0YU0gKiBzTSApICk7XCIsXCJcXHRmbG9hdCBjb3NUaGV0YSA9IGRvdCggZGlyZWN0aW9uLCB2U3VuRGlyZWN0aW9uICk7XCIsXCJcXHRmbG9hdCByUGhhc2UgPSByYXlsZWlnaFBoYXNlKCBjb3NUaGV0YSAqIDAuNSArIDAuNSApO1wiLFwiXFx0dmVjMyBiZXRhUlRoZXRhID0gdkJldGFSICogclBoYXNlO1wiLFwiXFx0ZmxvYXQgbVBoYXNlID0gaGdQaGFzZSggY29zVGhldGEsIG1pZURpcmVjdGlvbmFsRyApO1wiLFwiXFx0dmVjMyBiZXRhTVRoZXRhID0gdkJldGFNICogbVBoYXNlO1wiLFwiXFx0dmVjMyBMaW4gPSBwb3coIHZTdW5FICogKCAoIGJldGFSVGhldGEgKyBiZXRhTVRoZXRhICkgLyAoIHZCZXRhUiArIHZCZXRhTSApICkgKiAoIDEuMCAtIEZleCApLCB2ZWMzKCAxLjUgKSApO1wiLFwiXFx0TGluICo9IG1peCggdmVjMyggMS4wICksIHBvdyggdlN1bkUgKiAoICggYmV0YVJUaGV0YSArIGJldGFNVGhldGEgKSAvICggdkJldGFSICsgdkJldGFNICkgKSAqIEZleCwgdmVjMyggMS4wIC8gMi4wICkgKSwgY2xhbXAoIHBvdyggMS4wIC0gZG90KCB1cCwgdlN1bkRpcmVjdGlvbiApLCA1LjAgKSwgMC4wLCAxLjAgKSApO1wiLFwiXFx0ZmxvYXQgdGhldGEgPSBhY29zKCBkaXJlY3Rpb24ueSApOyAvLyBlbGV2YXRpb24gLS1cXHgzZSB5LWF4aXMsIFstcGkvMiwgcGkvMl1cIixcIlxcdGZsb2F0IHBoaSA9IGF0YW4oIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueCApOyAvLyBhemltdXRoIC0tXFx4M2UgeC1heGlzIFstcGkvMiwgcGkvMl1cIixcIlxcdHZlYzIgdXYgPSB2ZWMyKCBwaGksIHRoZXRhICkgLyB2ZWMyKCAyLjAgKiBwaSwgcGkgKSArIHZlYzIoIDAuNSwgMC4wICk7XCIsXCJcXHR2ZWMzIEwwID0gdmVjMyggMC4xICkgKiBGZXg7XCIsXCJcXHRmbG9hdCBzdW5kaXNrID0gc21vb3Roc3RlcCggc3VuQW5ndWxhckRpYW1ldGVyQ29zLCBzdW5Bbmd1bGFyRGlhbWV0ZXJDb3MgKyAwLjAwMDAyLCBjb3NUaGV0YSApO1wiLFwiXFx0TDAgKz0gKCB2U3VuRSAqIDE5MDAwLjAgKiBGZXggKSAqIHN1bmRpc2s7XCIsXCJcXHR2ZWMzIHRleENvbG9yID0gKCBMaW4gKyBMMCApICogMC4wNCArIHZlYzMoIDAuMCwgMC4wMDAzLCAwLjAwMDc1ICk7XCIsXCJcXHR2ZWMzIHJldENvbG9yID0gcG93KCB0ZXhDb2xvciwgdmVjMyggMS4wIC8gKCAxLjIgKyAoIDEuMiAqIHZTdW5mYWRlICkgKSApICk7XCIsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCByZXRDb2xvciwgMS4wICk7XCIsXCIjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XCIsXCIjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlwiLFwifVwiXS5qb2luKFwiXFxuXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIk9yYml0Q29udHJvbHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSxcIk1hcENvbnRyb2xzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLGEscyxjO3ZvaWQgMD09PWUmJmNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgXCJkb21FbGVtZW50XCIgaXMgbm93IG1hbmRhdG9yeS4nKSxlPT09ZG9jdW1lbnQmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLk9yYml0Q29udHJvbHM6IFwiZG9jdW1lbnRcIiBzaG91bGQgbm90IGJlIHVzZWQgYXMgdGhlIHRhcmdldCBcImRvbUVsZW1lbnRcIi4gUGxlYXNlIHVzZSBcInJlbmRlcmVyLmRvbUVsZW1lbnRcIiBpbnN0ZWFkLicpLHRoaXMub2JqZWN0PXQsdGhpcy5kb21FbGVtZW50PWUsdGhpcy5lbmFibGVkPSEwLHRoaXMudGFyZ2V0PW5ldyByLlZlY3RvcjMsdGhpcy5taW5EaXN0YW5jZT0wLHRoaXMubWF4RGlzdGFuY2U9MS8wLHRoaXMubWluWm9vbT0wLHRoaXMubWF4Wm9vbT0xLzAsdGhpcy5taW5Qb2xhckFuZ2xlPTAsdGhpcy5tYXhQb2xhckFuZ2xlPU1hdGguUEksdGhpcy5taW5BemltdXRoQW5nbGU9LTEvMCx0aGlzLm1heEF6aW11dGhBbmdsZT0xLzAsdGhpcy5lbmFibGVEYW1waW5nPSExLHRoaXMuZGFtcGluZ0ZhY3Rvcj0uMDUsdGhpcy5lbmFibGVab29tPSEwLHRoaXMuem9vbVNwZWVkPTEsdGhpcy5lbmFibGVSb3RhdGU9ITAsdGhpcy5yb3RhdGVTcGVlZD0xLHRoaXMuZW5hYmxlUGFuPSEwLHRoaXMucGFuU3BlZWQ9MSx0aGlzLnNjcmVlblNwYWNlUGFubmluZz0hMCx0aGlzLmtleVBhblNwZWVkPTcsdGhpcy5hdXRvUm90YXRlPSExLHRoaXMuYXV0b1JvdGF0ZVNwZWVkPTIsdGhpcy5lbmFibGVLZXlzPSEwLHRoaXMua2V5cz17TEVGVDozNyxVUDozOCxSSUdIVDozOSxCT1RUT006NDB9LHRoaXMubW91c2VCdXR0b25zPXtMRUZUOnIuTU9VU0UuUk9UQVRFLE1JRERMRTpyLk1PVVNFLkRPTExZLFJJR0hUOnIuTU9VU0UuUEFOfSx0aGlzLnRvdWNoZXM9e09ORTpyLlRPVUNILlJPVEFURSxUV086ci5UT1VDSC5ET0xMWV9QQU59LHRoaXMudGFyZ2V0MD10aGlzLnRhcmdldC5jbG9uZSgpLHRoaXMucG9zaXRpb24wPXRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCksdGhpcy56b29tMD10aGlzLm9iamVjdC56b29tLHRoaXMuZ2V0UG9sYXJBbmdsZT1mdW5jdGlvbigpe3JldHVybiBnLnBoaX0sdGhpcy5nZXRBemltdXRoYWxBbmdsZT1mdW5jdGlvbigpe3JldHVybiBnLnRoZXRhfSx0aGlzLnNhdmVTdGF0ZT1mdW5jdGlvbigpe2wudGFyZ2V0MC5jb3B5KGwudGFyZ2V0KSxsLnBvc2l0aW9uMC5jb3B5KGwub2JqZWN0LnBvc2l0aW9uKSxsLnpvb20wPWwub2JqZWN0Lnpvb219LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXtsLnRhcmdldC5jb3B5KGwudGFyZ2V0MCksbC5vYmplY3QucG9zaXRpb24uY29weShsLnBvc2l0aW9uMCksbC5vYmplY3Quem9vbT1sLnpvb20wLGwub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxsLmRpc3BhdGNoRXZlbnQodSksbC51cGRhdGUoKSxmPXAuTk9ORX0sdGhpcy51cGRhdGU9KG49bmV3IHIuVmVjdG9yMyxpPShuZXcgci5RdWF0ZXJuaW9uKS5zZXRGcm9tVW5pdFZlY3RvcnModC51cCxuZXcgci5WZWN0b3IzKDAsMSwwKSksbz1pLmNsb25lKCkuaW52ZXJ0KCksYT1uZXcgci5WZWN0b3IzLHM9bmV3IHIuUXVhdGVybmlvbixjPTIqTWF0aC5QSSxmdW5jdGlvbigpe3ZhciB0PWwub2JqZWN0LnBvc2l0aW9uO24uY29weSh0KS5zdWIobC50YXJnZXQpLG4uYXBwbHlRdWF0ZXJuaW9uKGkpLGcuc2V0RnJvbVZlY3RvcjMobiksbC5hdXRvUm90YXRlJiZmPT09cC5OT05FJiZDKDIqTWF0aC5QSS82MC82MCpsLmF1dG9Sb3RhdGVTcGVlZCksbC5lbmFibGVEYW1waW5nPyhnLnRoZXRhKz12LnRoZXRhKmwuZGFtcGluZ0ZhY3RvcixnLnBoaSs9di5waGkqbC5kYW1waW5nRmFjdG9yKTooZy50aGV0YSs9di50aGV0YSxnLnBoaSs9di5waGkpO3ZhciBlPWwubWluQXppbXV0aEFuZ2xlLHI9bC5tYXhBemltdXRoQW5nbGU7cmV0dXJuIGlzRmluaXRlKGUpJiZpc0Zpbml0ZShyKSYmKGU8LU1hdGguUEk/ZSs9YzplPk1hdGguUEkmJihlLT1jKSxyPC1NYXRoLlBJP3IrPWM6cj5NYXRoLlBJJiYoci09YyksZy50aGV0YT1lPD1yP01hdGgubWF4KGUsTWF0aC5taW4ocixnLnRoZXRhKSk6Zy50aGV0YT4oZStyKS8yP01hdGgubWF4KGUsZy50aGV0YSk6TWF0aC5taW4ocixnLnRoZXRhKSksZy5waGk9TWF0aC5tYXgobC5taW5Qb2xhckFuZ2xlLE1hdGgubWluKGwubWF4UG9sYXJBbmdsZSxnLnBoaSkpLGcubWFrZVNhZmUoKSxnLnJhZGl1cyo9eSxnLnJhZGl1cz1NYXRoLm1heChsLm1pbkRpc3RhbmNlLE1hdGgubWluKGwubWF4RGlzdGFuY2UsZy5yYWRpdXMpKSwhMD09PWwuZW5hYmxlRGFtcGluZz9sLnRhcmdldC5hZGRTY2FsZWRWZWN0b3IoeCxsLmRhbXBpbmdGYWN0b3IpOmwudGFyZ2V0LmFkZCh4KSxuLnNldEZyb21TcGhlcmljYWwoZyksbi5hcHBseVF1YXRlcm5pb24obyksdC5jb3B5KGwudGFyZ2V0KS5hZGQobiksbC5vYmplY3QubG9va0F0KGwudGFyZ2V0KSwhMD09PWwuZW5hYmxlRGFtcGluZz8odi50aGV0YSo9MS1sLmRhbXBpbmdGYWN0b3Isdi5waGkqPTEtbC5kYW1waW5nRmFjdG9yLHgubXVsdGlwbHlTY2FsYXIoMS1sLmRhbXBpbmdGYWN0b3IpKToodi5zZXQoMCwwLDApLHguc2V0KDAsMCwwKSkseT0xLCEhKGJ8fGEuZGlzdGFuY2VUb1NxdWFyZWQobC5vYmplY3QucG9zaXRpb24pPm18fDgqKDEtcy5kb3QobC5vYmplY3QucXVhdGVybmlvbikpPm0pJiYobC5kaXNwYXRjaEV2ZW50KHUpLGEuY29weShsLm9iamVjdC5wb3NpdGlvbikscy5jb3B5KGwub2JqZWN0LnF1YXRlcm5pb24pLGI9ITEsITApfSksdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7bC5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGV0LCExKSxsLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIscSwhMSksbC5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLEosITEpLGwuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLFEsITEpLGwuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0dCwhMSksbC5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwkLCExKSxsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixZLCExKSxsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsWiwhMSksbC5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsSywhMSl9O3ZhciBsPXRoaXMsdT17dHlwZTpcImNoYW5nZVwifSxoPXt0eXBlOlwic3RhcnRcIn0sZD17dHlwZTpcImVuZFwifSxwPXtOT05FOi0xLFJPVEFURTowLERPTExZOjEsUEFOOjIsVE9VQ0hfUk9UQVRFOjMsVE9VQ0hfUEFOOjQsVE9VQ0hfRE9MTFlfUEFOOjUsVE9VQ0hfRE9MTFlfUk9UQVRFOjZ9LGY9cC5OT05FLG09MWUtNixnPW5ldyByLlNwaGVyaWNhbCx2PW5ldyByLlNwaGVyaWNhbCx5PTEseD1uZXcgci5WZWN0b3IzLGI9ITEsdz1uZXcgci5WZWN0b3IyLF89bmV3IHIuVmVjdG9yMixNPW5ldyByLlZlY3RvcjIsUz1uZXcgci5WZWN0b3IyLFQ9bmV3IHIuVmVjdG9yMixFPW5ldyByLlZlY3RvcjIsQT1uZXcgci5WZWN0b3IyLEw9bmV3IHIuVmVjdG9yMixSPW5ldyByLlZlY3RvcjI7ZnVuY3Rpb24gUCgpe3JldHVybiBNYXRoLnBvdyguOTUsbC56b29tU3BlZWQpfWZ1bmN0aW9uIEModCl7di50aGV0YS09dH1mdW5jdGlvbiBJKHQpe3YucGhpLT10fXZhciBPLE49KE89bmV3IHIuVmVjdG9yMyxmdW5jdGlvbih0LGUpe08uc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLE8ubXVsdGlwbHlTY2FsYXIoLXQpLHguYWRkKE8pfSksRD1mdW5jdGlvbigpe3ZhciB0PW5ldyByLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGUsbil7ITA9PT1sLnNjcmVlblNwYWNlUGFubmluZz90LnNldEZyb21NYXRyaXhDb2x1bW4obiwxKToodC5zZXRGcm9tTWF0cml4Q29sdW1uKG4sMCksdC5jcm9zc1ZlY3RvcnMobC5vYmplY3QudXAsdCkpLHQubXVsdGlwbHlTY2FsYXIoZSkseC5hZGQodCl9fSgpLEI9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgci5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWwuZG9tRWxlbWVudDtpZihsLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhKXt2YXIgaT1sLm9iamVjdC5wb3NpdGlvbjt0LmNvcHkoaSkuc3ViKGwudGFyZ2V0KTt2YXIgbz10Lmxlbmd0aCgpO28qPU1hdGgudGFuKGwub2JqZWN0LmZvdi8yKk1hdGguUEkvMTgwKSxOKDIqZSpvL3IuY2xpZW50SGVpZ2h0LGwub2JqZWN0Lm1hdHJpeCksRCgyKm4qby9yLmNsaWVudEhlaWdodCxsLm9iamVjdC5tYXRyaXgpfWVsc2UgbC5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmE/KE4oZSoobC5vYmplY3QucmlnaHQtbC5vYmplY3QubGVmdCkvbC5vYmplY3Quem9vbS9yLmNsaWVudFdpZHRoLGwub2JqZWN0Lm1hdHJpeCksRChuKihsLm9iamVjdC50b3AtbC5vYmplY3QuYm90dG9tKS9sLm9iamVjdC56b29tL3IuY2xpZW50SGVpZ2h0LGwub2JqZWN0Lm1hdHJpeCkpOihjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuXCIpLGwuZW5hYmxlUGFuPSExKX19KCk7ZnVuY3Rpb24gRih0KXtsLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhP3kvPXQ6bC5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmE/KGwub2JqZWN0Lnpvb209TWF0aC5tYXgobC5taW5ab29tLE1hdGgubWluKGwubWF4Wm9vbSxsLm9iamVjdC56b29tKnQpKSxsLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksYj0hMCk6KGNvbnNvbGUud2FybihcIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuXCIpLGwuZW5hYmxlWm9vbT0hMSl9ZnVuY3Rpb24gVSh0KXtsLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhP3kqPXQ6bC5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmE/KGwub2JqZWN0Lnpvb209TWF0aC5tYXgobC5taW5ab29tLE1hdGgubWluKGwubWF4Wm9vbSxsLm9iamVjdC56b29tL3QpKSxsLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksYj0hMCk6KGNvbnNvbGUud2FybihcIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuXCIpLGwuZW5hYmxlWm9vbT0hMSl9ZnVuY3Rpb24geih0KXt3LnNldCh0LmNsaWVudFgsdC5jbGllbnRZKX1mdW5jdGlvbiBHKHQpe1Muc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpfWZ1bmN0aW9uIEgodCl7aWYoMT09dC50b3VjaGVzLmxlbmd0aCl3LnNldCh0LnRvdWNoZXNbMF0ucGFnZVgsdC50b3VjaGVzWzBdLnBhZ2VZKTtlbHNle3ZhciBlPS41Kih0LnRvdWNoZXNbMF0ucGFnZVgrdC50b3VjaGVzWzFdLnBhZ2VYKSxuPS41Kih0LnRvdWNoZXNbMF0ucGFnZVkrdC50b3VjaGVzWzFdLnBhZ2VZKTt3LnNldChlLG4pfX1mdW5jdGlvbiBrKHQpe2lmKDE9PXQudG91Y2hlcy5sZW5ndGgpUy5zZXQodC50b3VjaGVzWzBdLnBhZ2VYLHQudG91Y2hlc1swXS5wYWdlWSk7ZWxzZXt2YXIgZT0uNSoodC50b3VjaGVzWzBdLnBhZ2VYK3QudG91Y2hlc1sxXS5wYWdlWCksbj0uNSoodC50b3VjaGVzWzBdLnBhZ2VZK3QudG91Y2hlc1sxXS5wYWdlWSk7Uy5zZXQoZSxuKX19ZnVuY3Rpb24gVih0KXt2YXIgZT10LnRvdWNoZXNbMF0ucGFnZVgtdC50b3VjaGVzWzFdLnBhZ2VYLG49dC50b3VjaGVzWzBdLnBhZ2VZLXQudG91Y2hlc1sxXS5wYWdlWSxyPU1hdGguc3FydChlKmUrbipuKTtBLnNldCgwLHIpfWZ1bmN0aW9uIGoodCl7aWYoMT09dC50b3VjaGVzLmxlbmd0aClfLnNldCh0LnRvdWNoZXNbMF0ucGFnZVgsdC50b3VjaGVzWzBdLnBhZ2VZKTtlbHNle3ZhciBlPS41Kih0LnRvdWNoZXNbMF0ucGFnZVgrdC50b3VjaGVzWzFdLnBhZ2VYKSxuPS41Kih0LnRvdWNoZXNbMF0ucGFnZVkrdC50b3VjaGVzWzFdLnBhZ2VZKTtfLnNldChlLG4pfU0uc3ViVmVjdG9ycyhfLHcpLm11bHRpcGx5U2NhbGFyKGwucm90YXRlU3BlZWQpO3ZhciByPWwuZG9tRWxlbWVudDtDKDIqTWF0aC5QSSpNLngvci5jbGllbnRIZWlnaHQpLEkoMipNYXRoLlBJKk0ueS9yLmNsaWVudEhlaWdodCksdy5jb3B5KF8pfWZ1bmN0aW9uIFcodCl7aWYoMT09dC50b3VjaGVzLmxlbmd0aClULnNldCh0LnRvdWNoZXNbMF0ucGFnZVgsdC50b3VjaGVzWzBdLnBhZ2VZKTtlbHNle3ZhciBlPS41Kih0LnRvdWNoZXNbMF0ucGFnZVgrdC50b3VjaGVzWzFdLnBhZ2VYKSxuPS41Kih0LnRvdWNoZXNbMF0ucGFnZVkrdC50b3VjaGVzWzFdLnBhZ2VZKTtULnNldChlLG4pfUUuc3ViVmVjdG9ycyhULFMpLm11bHRpcGx5U2NhbGFyKGwucGFuU3BlZWQpLEIoRS54LEUueSksUy5jb3B5KFQpfWZ1bmN0aW9uIFgodCl7dmFyIGU9dC50b3VjaGVzWzBdLnBhZ2VYLXQudG91Y2hlc1sxXS5wYWdlWCxuPXQudG91Y2hlc1swXS5wYWdlWS10LnRvdWNoZXNbMV0ucGFnZVkscj1NYXRoLnNxcnQoZSplK24qbik7TC5zZXQoMCxyKSxSLnNldCgwLE1hdGgucG93KEwueS9BLnksbC56b29tU3BlZWQpKSxGKFIueSksQS5jb3B5KEwpfWZ1bmN0aW9uIHEodCl7aWYoITEhPT1sLmVuYWJsZWQpc3dpdGNoKHQucG9pbnRlclR5cGUpe2Nhc2VcIm1vdXNlXCI6Y2FzZVwicGVuXCI6IWZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCh0LnByZXZlbnREZWZhdWx0KCksbC5kb21FbGVtZW50LmZvY3VzP2wuZG9tRWxlbWVudC5mb2N1cygpOndpbmRvdy5mb2N1cygpLHQuYnV0dG9uKXtjYXNlIDA6ZT1sLm1vdXNlQnV0dG9ucy5MRUZUO2JyZWFrO2Nhc2UgMTplPWwubW91c2VCdXR0b25zLk1JRERMRTticmVhaztjYXNlIDI6ZT1sLm1vdXNlQnV0dG9ucy5SSUdIVDticmVhaztkZWZhdWx0OmU9LTF9c3dpdGNoKGUpe2Nhc2Ugci5NT1VTRS5ET0xMWTppZighMT09PWwuZW5hYmxlWm9vbSlyZXR1cm47IWZ1bmN0aW9uKHQpe0Euc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpfSh0KSxmPXAuRE9MTFk7YnJlYWs7Y2FzZSByLk1PVVNFLlJPVEFURTppZih0LmN0cmxLZXl8fHQubWV0YUtleXx8dC5zaGlmdEtleSl7aWYoITE9PT1sLmVuYWJsZVBhbilyZXR1cm47Ryh0KSxmPXAuUEFOfWVsc2V7aWYoITE9PT1sLmVuYWJsZVJvdGF0ZSlyZXR1cm47eih0KSxmPXAuUk9UQVRFfWJyZWFrO2Nhc2Ugci5NT1VTRS5QQU46aWYodC5jdHJsS2V5fHx0Lm1ldGFLZXl8fHQuc2hpZnRLZXkpe2lmKCExPT09bC5lbmFibGVSb3RhdGUpcmV0dXJuO3oodCksZj1wLlJPVEFURX1lbHNle2lmKCExPT09bC5lbmFibGVQYW4pcmV0dXJuO0codCksZj1wLlBBTn1icmVhaztkZWZhdWx0OmY9cC5OT05FfWYhPT1wLk5PTkUmJihsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixZLCExKSxsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsWiwhMSksbC5kaXNwYXRjaEV2ZW50KGgpKX0odCl9fWZ1bmN0aW9uIFkodCl7aWYoITEhPT1sLmVuYWJsZWQpc3dpdGNoKHQucG9pbnRlclR5cGUpe2Nhc2VcIm1vdXNlXCI6Y2FzZVwicGVuXCI6IWZ1bmN0aW9uKHQpe2lmKCExPT09bC5lbmFibGVkKXJldHVybjtzd2l0Y2godC5wcmV2ZW50RGVmYXVsdCgpLGYpe2Nhc2UgcC5ST1RBVEU6aWYoITE9PT1sLmVuYWJsZVJvdGF0ZSlyZXR1cm47IWZ1bmN0aW9uKHQpe18uc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpLE0uc3ViVmVjdG9ycyhfLHcpLm11bHRpcGx5U2NhbGFyKGwucm90YXRlU3BlZWQpO3ZhciBlPWwuZG9tRWxlbWVudDtDKDIqTWF0aC5QSSpNLngvZS5jbGllbnRIZWlnaHQpLEkoMipNYXRoLlBJKk0ueS9lLmNsaWVudEhlaWdodCksdy5jb3B5KF8pLGwudXBkYXRlKCl9KHQpO2JyZWFrO2Nhc2UgcC5ET0xMWTppZighMT09PWwuZW5hYmxlWm9vbSlyZXR1cm47IWZ1bmN0aW9uKHQpe0wuc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpLFIuc3ViVmVjdG9ycyhMLEEpLFIueT4wP0YoUCgpKTpSLnk8MCYmVShQKCkpLEEuY29weShMKSxsLnVwZGF0ZSgpfSh0KTticmVhaztjYXNlIHAuUEFOOmlmKCExPT09bC5lbmFibGVQYW4pcmV0dXJuOyFmdW5jdGlvbih0KXtULnNldCh0LmNsaWVudFgsdC5jbGllbnRZKSxFLnN1YlZlY3RvcnMoVCxTKS5tdWx0aXBseVNjYWxhcihsLnBhblNwZWVkKSxCKEUueCxFLnkpLFMuY29weShUKSxsLnVwZGF0ZSgpfSh0KX19KHQpfX1mdW5jdGlvbiBaKHQpe3N3aXRjaCh0LnBvaW50ZXJUeXBlKXtjYXNlXCJtb3VzZVwiOmNhc2VcInBlblwiOiFmdW5jdGlvbih0KXtpZihsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixZLCExKSxsLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsWiwhMSksITE9PT1sLmVuYWJsZWQpcmV0dXJuO2wuZGlzcGF0Y2hFdmVudChkKSxmPXAuTk9ORX0oKX19ZnVuY3Rpb24gSih0KXshMT09PWwuZW5hYmxlZHx8ITE9PT1sLmVuYWJsZVpvb218fGYhPT1wLk5PTkUmJmYhPT1wLlJPVEFURXx8KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLGwuZGlzcGF0Y2hFdmVudChoKSxmdW5jdGlvbih0KXt0LmRlbHRhWTwwP1UoUCgpKTp0LmRlbHRhWT4wJiZGKFAoKSksbC51cGRhdGUoKX0odCksbC5kaXNwYXRjaEV2ZW50KGQpKX1mdW5jdGlvbiBLKHQpeyExIT09bC5lbmFibGVkJiYhMSE9PWwuZW5hYmxlS2V5cyYmITEhPT1sLmVuYWJsZVBhbiYmZnVuY3Rpb24odCl7dmFyIGU9ITE7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBsLmtleXMuVVA6QigwLGwua2V5UGFuU3BlZWQpLGU9ITA7YnJlYWs7Y2FzZSBsLmtleXMuQk9UVE9NOkIoMCwtbC5rZXlQYW5TcGVlZCksZT0hMDticmVhaztjYXNlIGwua2V5cy5MRUZUOkIobC5rZXlQYW5TcGVlZCwwKSxlPSEwO2JyZWFrO2Nhc2UgbC5rZXlzLlJJR0hUOkIoLWwua2V5UGFuU3BlZWQsMCksZT0hMH1lJiYodC5wcmV2ZW50RGVmYXVsdCgpLGwudXBkYXRlKCkpfSh0KX1mdW5jdGlvbiBRKHQpe2lmKCExIT09bC5lbmFibGVkKXtzd2l0Y2godC5wcmV2ZW50RGVmYXVsdCgpLHQudG91Y2hlcy5sZW5ndGgpe2Nhc2UgMTpzd2l0Y2gobC50b3VjaGVzLk9ORSl7Y2FzZSByLlRPVUNILlJPVEFURTppZighMT09PWwuZW5hYmxlUm90YXRlKXJldHVybjtIKHQpLGY9cC5UT1VDSF9ST1RBVEU7YnJlYWs7Y2FzZSByLlRPVUNILlBBTjppZighMT09PWwuZW5hYmxlUGFuKXJldHVybjtrKHQpLGY9cC5UT1VDSF9QQU47YnJlYWs7ZGVmYXVsdDpmPXAuTk9ORX1icmVhaztjYXNlIDI6c3dpdGNoKGwudG91Y2hlcy5UV08pe2Nhc2Ugci5UT1VDSC5ET0xMWV9QQU46aWYoITE9PT1sLmVuYWJsZVpvb20mJiExPT09bC5lbmFibGVQYW4pcmV0dXJuOyFmdW5jdGlvbih0KXtsLmVuYWJsZVpvb20mJlYodCksbC5lbmFibGVQYW4mJmsodCl9KHQpLGY9cC5UT1VDSF9ET0xMWV9QQU47YnJlYWs7Y2FzZSByLlRPVUNILkRPTExZX1JPVEFURTppZighMT09PWwuZW5hYmxlWm9vbSYmITE9PT1sLmVuYWJsZVJvdGF0ZSlyZXR1cm47IWZ1bmN0aW9uKHQpe2wuZW5hYmxlWm9vbSYmVih0KSxsLmVuYWJsZVJvdGF0ZSYmSCh0KX0odCksZj1wLlRPVUNIX0RPTExZX1JPVEFURTticmVhaztkZWZhdWx0OmY9cC5OT05FfWJyZWFrO2RlZmF1bHQ6Zj1wLk5PTkV9ZiE9PXAuTk9ORSYmbC5kaXNwYXRjaEV2ZW50KGgpfX1mdW5jdGlvbiAkKHQpe2lmKCExIT09bC5lbmFibGVkKXN3aXRjaCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxmKXtjYXNlIHAuVE9VQ0hfUk9UQVRFOmlmKCExPT09bC5lbmFibGVSb3RhdGUpcmV0dXJuO2oodCksbC51cGRhdGUoKTticmVhaztjYXNlIHAuVE9VQ0hfUEFOOmlmKCExPT09bC5lbmFibGVQYW4pcmV0dXJuO1codCksbC51cGRhdGUoKTticmVhaztjYXNlIHAuVE9VQ0hfRE9MTFlfUEFOOmlmKCExPT09bC5lbmFibGVab29tJiYhMT09PWwuZW5hYmxlUGFuKXJldHVybjshZnVuY3Rpb24odCl7bC5lbmFibGVab29tJiZYKHQpLGwuZW5hYmxlUGFuJiZXKHQpfSh0KSxsLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgcC5UT1VDSF9ET0xMWV9ST1RBVEU6aWYoITE9PT1sLmVuYWJsZVpvb20mJiExPT09bC5lbmFibGVSb3RhdGUpcmV0dXJuOyFmdW5jdGlvbih0KXtsLmVuYWJsZVpvb20mJlgodCksbC5lbmFibGVSb3RhdGUmJmoodCl9KHQpLGwudXBkYXRlKCk7YnJlYWs7ZGVmYXVsdDpmPXAuTk9ORX19ZnVuY3Rpb24gdHQodCl7ITEhPT1sLmVuYWJsZWQmJihsLmRpc3BhdGNoRXZlbnQoZCksZj1wLk5PTkUpfWZ1bmN0aW9uIGV0KHQpeyExIT09bC5lbmFibGVkJiZ0LnByZXZlbnREZWZhdWx0KCl9bC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGV0LCExKSxsLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIscSwhMSksbC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLEosITEpLGwuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLFEsITEpLGwuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0dCwhMSksbC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwkLCExKSxsLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixLLCExKSx0aGlzLnVwZGF0ZSgpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aTt2YXIgbz1mdW5jdGlvbih0LGUpe2kuY2FsbCh0aGlzLHQsZSksdGhpcy5zY3JlZW5TcGFjZVBhbm5pbmc9ITEsdGhpcy5tb3VzZUJ1dHRvbnMuTEVGVD1yLk1PVVNFLlBBTix0aGlzLm1vdXNlQnV0dG9ucy5SSUdIVD1yLk1PVVNFLlJPVEFURSx0aGlzLnRvdWNoZXMuT05FPXIuVE9VQ0guUEFOLHRoaXMudG91Y2hlcy5UV089ci5UT1VDSC5ET0xMWV9ST1RBVEV9O28ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlKSxvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiV0VCR0xcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTt2YXIgcj17aXNXZWJHTEF2YWlsYWJsZTpmdW5jdGlvbigpe3RyeXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiEoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR8fCF0LmdldENvbnRleHQoXCJ3ZWJnbFwiKSYmIXQuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKSl9Y2F0Y2godCl7cmV0dXJuITF9fSxpc1dlYkdMMkF2YWlsYWJsZTpmdW5jdGlvbigpe3RyeXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiEoIXdpbmRvdy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0fHwhdC5nZXRDb250ZXh0KFwid2ViZ2wyXCIpKX1jYXRjaCh0KXtyZXR1cm4hMX19LGdldFdlYkdMRXJyb3JNZXNzYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RXJyb3JNZXNzYWdlKDEpfSxnZXRXZWJHTDJFcnJvck1lc3NhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFcnJvck1lc3NhZ2UoMil9LGdldEVycm9yTWVzc2FnZTpmdW5jdGlvbih0KXt2YXIgZT17MTp3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LDI6d2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHR9LG49J1lvdXIgJDAgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDBcIj4kMTwvYT4nLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gci5pZD1cIndlYmdsbWVzc2FnZVwiLHIuc3R5bGUuZm9udEZhbWlseT1cIm1vbm9zcGFjZVwiLHIuc3R5bGUuZm9udFNpemU9XCIxM3B4XCIsci5zdHlsZS5mb250V2VpZ2h0PVwibm9ybWFsXCIsci5zdHlsZS50ZXh0QWxpZ249XCJjZW50ZXJcIixyLnN0eWxlLmJhY2tncm91bmQ9XCIjZmZmXCIsci5zdHlsZS5jb2xvcj1cIiMwMDBcIixyLnN0eWxlLnBhZGRpbmc9XCIxLjVlbVwiLHIuc3R5bGUud2lkdGg9XCI0MDBweFwiLHIuc3R5bGUubWFyZ2luPVwiNWVtIGF1dG8gMFwiLG49KG49ZVt0XT9uLnJlcGxhY2UoXCIkMFwiLFwiZ3JhcGhpY3MgY2FyZFwiKTpuLnJlcGxhY2UoXCIkMFwiLFwiYnJvd3NlclwiKSkucmVwbGFjZShcIiQxXCIsezE6XCJXZWJHTFwiLDI6XCJXZWJHTCAyXCJ9W3RdKSxyLmlubmVySFRNTD1uLHJ9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIlJlbmRlclBhc3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDEpLGk9ZnVuY3Rpb24odCxlLG4saSxvKXtyLmEuY2FsbCh0aGlzKSx0aGlzLnNjZW5lPXQsdGhpcy5jYW1lcmE9ZSx0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9bix0aGlzLmNsZWFyQ29sb3I9aSx0aGlzLmNsZWFyQWxwaGE9dm9pZCAwIT09bz9vOjAsdGhpcy5jbGVhcj0hMCx0aGlzLmNsZWFyRGVwdGg9ITEsdGhpcy5uZWVkc1N3YXA9ITF9O2kucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShyLmEucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6aSxyZW5kZXI6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhPXQuYXV0b0NsZWFyO3QuYXV0b0NsZWFyPSExLHZvaWQgMCE9PXRoaXMub3ZlcnJpZGVNYXRlcmlhbCYmKG89dGhpcy5zY2VuZS5vdmVycmlkZU1hdGVyaWFsLHRoaXMuc2NlbmUub3ZlcnJpZGVNYXRlcmlhbD10aGlzLm92ZXJyaWRlTWF0ZXJpYWwpLHRoaXMuY2xlYXJDb2xvciYmKHI9dC5nZXRDbGVhckNvbG9yKCkuZ2V0SGV4KCksaT10LmdldENsZWFyQWxwaGEoKSx0LnNldENsZWFyQ29sb3IodGhpcy5jbGVhckNvbG9yLHRoaXMuY2xlYXJBbHBoYSkpLHRoaXMuY2xlYXJEZXB0aCYmdC5jbGVhckRlcHRoKCksdC5zZXRSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJUb1NjcmVlbj9udWxsOm4pLHRoaXMuY2xlYXImJnQuY2xlYXIodC5hdXRvQ2xlYXJDb2xvcix0LmF1dG9DbGVhckRlcHRoLHQuYXV0b0NsZWFyU3RlbmNpbCksdC5yZW5kZXIodGhpcy5zY2VuZSx0aGlzLmNhbWVyYSksdGhpcy5jbGVhckNvbG9yJiZ0LnNldENsZWFyQ29sb3IocixpKSx2b2lkIDAhPT10aGlzLm92ZXJyaWRlTWF0ZXJpYWwmJih0aGlzLnNjZW5lLm92ZXJyaWRlTWF0ZXJpYWw9byksdC5hdXRvQ2xlYXI9YX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIkRvdFNjcmVlblNoYWRlclwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMCksaT17dW5pZm9ybXM6e3REaWZmdXNlOnt2YWx1ZTpudWxsfSx0U2l6ZTp7dmFsdWU6bmV3IHIuVmVjdG9yMigyNTYsMjU2KX0sY2VudGVyOnt2YWx1ZTpuZXcgci5WZWN0b3IyKC41LC41KX0sYW5nbGU6e3ZhbHVlOjEuNTd9LHNjYWxlOnt2YWx1ZToxfX0sdmVydGV4U2hhZGVyOltcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2VXYgPSB1djtcIixcIlxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIHZlYzIgY2VudGVyO1wiLFwidW5pZm9ybSBmbG9hdCBhbmdsZTtcIixcInVuaWZvcm0gZmxvYXQgc2NhbGU7XCIsXCJ1bmlmb3JtIHZlYzIgdFNpemU7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcIixcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCJmbG9hdCBwYXR0ZXJuKCkge1wiLFwiXFx0ZmxvYXQgcyA9IHNpbiggYW5nbGUgKSwgYyA9IGNvcyggYW5nbGUgKTtcIixcIlxcdHZlYzIgdGV4ID0gdlV2ICogdFNpemUgLSBjZW50ZXI7XCIsXCJcXHR2ZWMyIHBvaW50ID0gdmVjMiggYyAqIHRleC54IC0gcyAqIHRleC55LCBzICogdGV4LnggKyBjICogdGV4LnkgKSAqIHNjYWxlO1wiLFwiXFx0cmV0dXJuICggc2luKCBwb2ludC54ICkgKiBzaW4oIHBvaW50LnkgKSApICogNC4wO1wiLFwifVwiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dmVjNCBjb2xvciA9IHRleHR1cmUyRCggdERpZmZ1c2UsIHZVdiApO1wiLFwiXFx0ZmxvYXQgYXZlcmFnZSA9ICggY29sb3IuciArIGNvbG9yLmcgKyBjb2xvci5iICkgLyAzLjA7XCIsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKCBhdmVyYWdlICogMTAuMCAtIDUuMCArIHBhdHRlcm4oKSApLCBjb2xvci5hICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiRkJYTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSk7dmFyIHI9bigwKSxpPXt9LG89aTtcbi8qKiBAbGljZW5zZSB6bGliLmpzIDIwMTIgLSBpbWF5YSBbIGh0dHBzOi8vZ2l0aHViLmNvbS9pbWF5YS96bGliLmpzIF0gVGhlIE1JVCBMaWNlbnNlICovZnVuY3Rpb24gYSh0LGUpe3ZhciBuLHI9dC5zcGxpdChcIi5cIiksaT1vOyEoclswXWluIGkpJiZpLmV4ZWNTY3JpcHQmJmkuZXhlY1NjcmlwdChcInZhciBcIityWzBdKTtmb3IoO3IubGVuZ3RoJiYobj1yLnNoaWZ0KCkpOylyLmxlbmd0aHx8dm9pZCAwPT09ZT9pPWlbbl0/aVtuXTppW25dPXt9Omlbbl09ZX12YXIgcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDMyQXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYXRhVmlldztmdW5jdGlvbiBjKHQpe3ZhciBlLG4scixpLG8sYSxjLGwsdSxoLGQ9dC5sZW5ndGgscD0wLGY9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2ZvcihsPTA7bDxkOysrbCl0W2xdPnAmJihwPXRbbF0pLHRbbF08ZiYmKGY9dFtsXSk7Zm9yKGU9MTw8cCxuPW5ldyhzP1VpbnQzMkFycmF5OkFycmF5KShlKSxyPTEsaT0wLG89MjtyPD1wOyl7Zm9yKGw9MDtsPGQ7KytsKWlmKHRbbF09PT1yKXtmb3IoYT0wLGM9aSx1PTA7dTxyOysrdSlhPWE8PDF8MSZjLGM+Pj0xO2ZvcihoPXI8PDE2fGwsdT1hO3U8ZTt1Kz1vKW5bdV09aDsrK2l9KytyLGk8PD0xLG88PD0xfXJldHVybltuLHAsZl19ZnVuY3Rpb24gbCh0LGUpe3N3aXRjaCh0aGlzLmc9W10sdGhpcy5oPTMyNzY4LHRoaXMuZD10aGlzLmY9dGhpcy5hPXRoaXMubD0wLHRoaXMuaW5wdXQ9cz9uZXcgVWludDhBcnJheSh0KTp0LHRoaXMubT0hMSx0aGlzLmk9aCx0aGlzLnI9ITEsIWUmJihlPXt9KXx8KGUuaW5kZXgmJih0aGlzLmE9ZS5pbmRleCksZS5idWZmZXJTaXplJiYodGhpcy5oPWUuYnVmZmVyU2l6ZSksZS5idWZmZXJUeXBlJiYodGhpcy5pPWUuYnVmZmVyVHlwZSksZS5yZXNpemUmJih0aGlzLnI9ZS5yZXNpemUpKSx0aGlzLmkpe2Nhc2UgdTp0aGlzLmI9MzI3NjgsdGhpcy5jPW5ldyhzP1VpbnQ4QXJyYXk6QXJyYXkpKDMyNzY4K3RoaXMuaCsyNTgpO2JyZWFrO2Nhc2UgaDp0aGlzLmI9MCx0aGlzLmM9bmV3KHM/VWludDhBcnJheTpBcnJheSkodGhpcy5oKSx0aGlzLmU9dGhpcy56LHRoaXMubj10aGlzLnYsdGhpcy5qPXRoaXMudzticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiaW52YWxpZCBpbmZsYXRlIG1vZGVcIil9fXZhciB1PTAsaD0xLGQ9e3Q6dSxzOmh9O2wucHJvdG90eXBlLms9ZnVuY3Rpb24oKXtmb3IoOyF0aGlzLm07KXt2YXIgdD1DKHRoaXMsMyk7c3dpdGNoKDEmdCYmKHRoaXMubT0hMCksdD4+Pj0xKXtjYXNlIDA6dmFyIGU9dGhpcy5pbnB1dCxuPXRoaXMuYSxyPXRoaXMuYyxpPXRoaXMuYixvPWUubGVuZ3RoLGE9dm9pZCAwLGw9ci5sZW5ndGgsZD12b2lkIDA7aWYodGhpcy5kPXRoaXMuZj0wLG4rMT49byl0aHJvdyBFcnJvcihcImludmFsaWQgdW5jb21wcmVzc2VkIGJsb2NrIGhlYWRlcjogTEVOXCIpO2lmKGE9ZVtuKytdfGVbbisrXTw8OCxuKzE+PW8pdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHVuY29tcHJlc3NlZCBibG9jayBoZWFkZXI6IE5MRU5cIik7aWYoYT09PX4oZVtuKytdfGVbbisrXTw8OCkpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHVuY29tcHJlc3NlZCBibG9jayBoZWFkZXI6IGxlbmd0aCB2ZXJpZnlcIik7aWYobithPmUubGVuZ3RoKXRocm93IEVycm9yKFwiaW5wdXQgYnVmZmVyIGlzIGJyb2tlblwiKTtzd2l0Y2godGhpcy5pKXtjYXNlIHU6Zm9yKDtpK2E+ci5sZW5ndGg7KXtpZihhLT1kPWwtaSxzKXIuc2V0KGUuc3ViYXJyYXkobixuK2QpLGkpLGkrPWQsbis9ZDtlbHNlIGZvcig7ZC0tOylyW2krK109ZVtuKytdO3RoaXMuYj1pLHI9dGhpcy5lKCksaT10aGlzLmJ9YnJlYWs7Y2FzZSBoOmZvcig7aSthPnIubGVuZ3RoOylyPXRoaXMuZSh7cDoyfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImludmFsaWQgaW5mbGF0ZSBtb2RlXCIpfWlmKHMpci5zZXQoZS5zdWJhcnJheShuLG4rYSksaSksaSs9YSxuKz1hO2Vsc2UgZm9yKDthLS07KXJbaSsrXT1lW24rK107dGhpcy5hPW4sdGhpcy5iPWksdGhpcy5jPXI7YnJlYWs7Y2FzZSAxOnRoaXMuaihMLFApO2JyZWFrO2Nhc2UgMjp2YXIgcCxmLG0sdix5PUModGhpcyw1KSsyNTcseD1DKHRoaXMsNSkrMSxiPUModGhpcyw0KSs0LHc9bmV3KHM/VWludDhBcnJheTpBcnJheSkoZy5sZW5ndGgpLF89dm9pZCAwLE09dm9pZCAwLFM9dm9pZCAwLFQ9dm9pZCAwLEU9dm9pZCAwO2ZvcihFPTA7RTxiOysrRSl3W2dbRV1dPUModGhpcywzKTtpZighcylmb3IoRT1iLGI9dy5sZW5ndGg7RTxiOysrRSl3W2dbRV1dPTA7Zm9yKHA9Yyh3KSxfPW5ldyhzP1VpbnQ4QXJyYXk6QXJyYXkpKHkreCksRT0wLHY9eSt4O0U8djspc3dpdGNoKE09SSh0aGlzLHApLE0pe2Nhc2UgMTY6Zm9yKFQ9MytDKHRoaXMsMik7VC0tOylfW0UrK109UzticmVhaztjYXNlIDE3OmZvcihUPTMrQyh0aGlzLDMpO1QtLTspX1tFKytdPTA7Uz0wO2JyZWFrO2Nhc2UgMTg6Zm9yKFQ9MTErQyh0aGlzLDcpO1QtLTspX1tFKytdPTA7Uz0wO2JyZWFrO2RlZmF1bHQ6Uz1fW0UrK109TX1mPWMocz9fLnN1YmFycmF5KDAseSk6Xy5zbGljZSgwLHkpKSxtPWMocz9fLnN1YmFycmF5KHkpOl8uc2xpY2UoeSkpLHRoaXMuaihmLG0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJ1bmtub3duIEJUWVBFOiBcIit0KX19cmV0dXJuIHRoaXMubigpfTt2YXIgcCxmLG09WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdLGc9cz9uZXcgVWludDE2QXJyYXkobSk6bSx2PVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDI1OCwyNThdLHk9cz9uZXcgVWludDE2QXJyYXkodik6dix4PVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwXSxiPXM/bmV3IFVpbnQ4QXJyYXkoeCk6eCx3PVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzddLF89cz9uZXcgVWludDE2QXJyYXkodyk6dyxNPVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSxTPXM/bmV3IFVpbnQ4QXJyYXkoTSk6TSxUPW5ldyhzP1VpbnQ4QXJyYXk6QXJyYXkpKDI4OCk7Zm9yKHA9MCxmPVQubGVuZ3RoO3A8ZjsrK3ApVFtwXT0xNDM+PXA/ODoyNTU+PXA/OToyNzk+PXA/Nzo4O3ZhciBFLEEsTD1jKFQpLFI9bmV3KHM/VWludDhBcnJheTpBcnJheSkoMzApO2ZvcihFPTAsQT1SLmxlbmd0aDtFPEE7KytFKVJbRV09NTt2YXIgUD1jKFIpO2Z1bmN0aW9uIEModCxlKXtmb3IodmFyIG4scj10LmYsaT10LmQsbz10LmlucHV0LGE9dC5hLHM9by5sZW5ndGg7aTxlOyl7aWYoYT49cyl0aHJvdyBFcnJvcihcImlucHV0IGJ1ZmZlciBpcyBicm9rZW5cIik7cnw9b1thKytdPDxpLGkrPTh9cmV0dXJuIG49ciYoMTw8ZSktMSx0LmY9cj4+PmUsdC5kPWktZSx0LmE9YSxufWZ1bmN0aW9uIEkodCxlKXtmb3IodmFyIG4scixpPXQuZixvPXQuZCxhPXQuaW5wdXQscz10LmEsYz1hLmxlbmd0aCxsPWVbMF0sdT1lWzFdO288dSYmIShzPj1jKTspaXw9YVtzKytdPDxvLG8rPTg7aWYoKHI9KG49bFtpJigxPDx1KS0xXSk+Pj4xNik+byl0aHJvdyBFcnJvcihcImludmFsaWQgY29kZSBsZW5ndGg6IFwiK3IpO3JldHVybiB0LmY9aT4+cix0LmQ9by1yLHQuYT1zLDY1NTM1Jm59ZnVuY3Rpb24gTyh0LGUpe3ZhciBuLHI7c3dpdGNoKHRoaXMuaW5wdXQ9dCx0aGlzLmE9MCwhZSYmKGU9e30pfHwoZS5pbmRleCYmKHRoaXMuYT1lLmluZGV4KSxlLnZlcmlmeSYmKHRoaXMuQT1lLnZlcmlmeSkpLG49dFt0aGlzLmErK10scj10W3RoaXMuYSsrXSwxNSZuKXtjYXNlIE46dGhpcy5tZXRob2Q9TjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwidW5zdXBwb3J0ZWQgY29tcHJlc3Npb24gbWV0aG9kXCIpfWlmKDAhPSgobjw8OCkrciklMzEpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGZjaGVjayBmbGFnOlwiKygobjw8OCkrciklMzEpO2lmKDMyJnIpdGhyb3cgRXJyb3IoXCJmZGljdCBmbGFnIGlzIG5vdCBzdXBwb3J0ZWRcIik7dGhpcy5xPW5ldyBsKHQse2luZGV4OnRoaXMuYSxidWZmZXJTaXplOmUuYnVmZmVyU2l6ZSxidWZmZXJUeXBlOmUuYnVmZmVyVHlwZSxyZXNpemU6ZS5yZXNpemV9KX1sLnByb3RvdHlwZS5qPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jLHI9dGhpcy5iO3RoaXMubz10O2Zvcih2YXIgaSxvLGEscyxjPW4ubGVuZ3RoLTI1ODsyNTYhPT0oaT1JKHRoaXMsdCkpOylpZigyNTY+aSlyPj1jJiYodGhpcy5iPXIsbj10aGlzLmUoKSxyPXRoaXMuYiksbltyKytdPWk7ZWxzZSBmb3Iocz15W289aS0yNTddLDA8YltvXSYmKHMrPUModGhpcyxiW29dKSksaT1JKHRoaXMsZSksYT1fW2ldLDA8U1tpXSYmKGErPUModGhpcyxTW2ldKSkscj49YyYmKHRoaXMuYj1yLG49dGhpcy5lKCkscj10aGlzLmIpO3MtLTspbltyXT1uW3IrKy1hXTtmb3IoOzg8PXRoaXMuZDspdGhpcy5kLT04LHRoaXMuYS0tO3RoaXMuYj1yfSxsLnByb3RvdHlwZS53PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jLHI9dGhpcy5iO3RoaXMubz10O2Zvcih2YXIgaSxvLGEscyxjPW4ubGVuZ3RoOzI1NiE9PShpPUkodGhpcyx0KSk7KWlmKDI1Nj5pKXI+PWMmJihjPShuPXRoaXMuZSgpKS5sZW5ndGgpLG5bcisrXT1pO2Vsc2UgZm9yKHM9eVtvPWktMjU3XSwwPGJbb10mJihzKz1DKHRoaXMsYltvXSkpLGk9SSh0aGlzLGUpLGE9X1tpXSwwPFNbaV0mJihhKz1DKHRoaXMsU1tpXSkpLHIrcz5jJiYoYz0obj10aGlzLmUoKSkubGVuZ3RoKTtzLS07KW5bcl09bltyKystYV07Zm9yKDs4PD10aGlzLmQ7KXRoaXMuZC09OCx0aGlzLmEtLTt0aGlzLmI9cn0sbC5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciB0LGUsbj1uZXcocz9VaW50OEFycmF5OkFycmF5KSh0aGlzLmItMzI3NjgpLHI9dGhpcy5iLTMyNzY4LGk9dGhpcy5jO2lmKHMpbi5zZXQoaS5zdWJhcnJheSgzMjc2OCxuLmxlbmd0aCkpO2Vsc2UgZm9yKHQ9MCxlPW4ubGVuZ3RoO3Q8ZTsrK3Qpblt0XT1pW3QrMzI3NjhdO2lmKHRoaXMuZy5wdXNoKG4pLHRoaXMubCs9bi5sZW5ndGgscylpLnNldChpLnN1YmFycmF5KHIsciszMjc2OCkpO2Vsc2UgZm9yKHQ9MDszMjc2OD50OysrdClpW3RdPWlbcit0XTtyZXR1cm4gdGhpcy5iPTMyNzY4LGl9LGwucHJvdG90eXBlLno9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk9dGhpcy5pbnB1dC5sZW5ndGgvdGhpcy5hKzF8MCxvPXRoaXMuaW5wdXQsYT10aGlzLmM7cmV0dXJuIHQmJihcIm51bWJlclwiPT10eXBlb2YgdC5wJiYoaT10LnApLFwibnVtYmVyXCI9PXR5cGVvZiB0LnUmJihpKz10LnUpKSwyPmk/bj0ocj0oby5sZW5ndGgtdGhpcy5hKS90aGlzLm9bMl0vMioyNTh8MCk8YS5sZW5ndGg/YS5sZW5ndGgrcjphLmxlbmd0aDw8MTpuPWEubGVuZ3RoKmkscz8oZT1uZXcgVWludDhBcnJheShuKSkuc2V0KGEpOmU9YSx0aGlzLmM9ZX0sbC5wcm90b3R5cGUubj1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbz0wLGE9dGhpcy5jLGM9dGhpcy5nLGw9bmV3KHM/VWludDhBcnJheTpBcnJheSkodGhpcy5sKyh0aGlzLmItMzI3NjgpKTtpZigwPT09Yy5sZW5ndGgpcmV0dXJuIHM/dGhpcy5jLnN1YmFycmF5KDMyNzY4LHRoaXMuYik6dGhpcy5jLnNsaWNlKDMyNzY4LHRoaXMuYik7Zm9yKGU9MCxuPWMubGVuZ3RoO2U8bjsrK2UpZm9yKHI9MCxpPSh0PWNbZV0pLmxlbmd0aDtyPGk7KytyKWxbbysrXT10W3JdO2ZvcihlPTMyNzY4LG49dGhpcy5iO2U8bjsrK2UpbFtvKytdPWFbZV07cmV0dXJuIHRoaXMuZz1bXSx0aGlzLmJ1ZmZlcj1sfSxsLnByb3RvdHlwZS52PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmI7cmV0dXJuIHM/dGhpcy5yPyh0PW5ldyBVaW50OEFycmF5KGUpKS5zZXQodGhpcy5jLnN1YmFycmF5KDAsZSkpOnQ9dGhpcy5jLnN1YmFycmF5KDAsZSk6KHRoaXMuYy5sZW5ndGg+ZSYmKHRoaXMuYy5sZW5ndGg9ZSksdD10aGlzLmMpLHRoaXMuYnVmZmVyPXR9LE8ucHJvdG90eXBlLms9ZnVuY3Rpb24oKXt2YXIgdCxlLG49dGhpcy5pbnB1dDtpZih0PXRoaXMucS5rKCksdGhpcy5hPXRoaXMucS5hLHRoaXMuQSl7ZT0oblt0aGlzLmErK108PDI0fG5bdGhpcy5hKytdPDwxNnxuW3RoaXMuYSsrXTw8OHxuW3RoaXMuYSsrXSk+Pj4wO3ZhciByPXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpe3ZhciBpLG8sYT1yLnNwbGl0KFwiXCIpO2ZvcihpPTAsbz1hLmxlbmd0aDtpPG87aSsrKWFbaV09KDI1NSZhW2ldLmNoYXJDb2RlQXQoMCkpPj4+MDtyPWF9Zm9yKHZhciBzLGM9MSxsPTAsdT1yLmxlbmd0aCxoPTA7MDx1Oyl7dS09cz0xMDI0PHU/MTAyNDp1O2Rve2wrPWMrPXJbaCsrXX13aGlsZSgtLXMpO2MlPTY1NTIxLGwlPTY1NTIxfWlmKGUhPT0obDw8MTZ8Yyk+Pj4wKXRocm93IEVycm9yKFwiaW52YWxpZCBhZGxlci0zMiBjaGVja3N1bVwiKX1yZXR1cm4gdH07dmFyIE49ODthKFwiWmxpYi5JbmZsYXRlXCIsTyksYShcIlpsaWIuSW5mbGF0ZS5wcm90b3R5cGUuZGVjb21wcmVzc1wiLE8ucHJvdG90eXBlLmspO3ZhciBELEIsRixVLHo9e0FEQVBUSVZFOmQucyxCTE9DSzpkLnR9O2lmKE9iamVjdC5rZXlzKUQ9T2JqZWN0LmtleXMoeik7ZWxzZSBmb3IoQiBpbiBEPVtdLEY9MCx6KURbRisrXT1CO2ZvcihGPTAsVT1ELmxlbmd0aDtGPFU7KytGKWEoXCJabGliLkluZmxhdGUuQnVmZmVyVHlwZS5cIisoQj1EW0ZdKSx6W0JdKTt2YXIgRz1pLlpsaWIuSW5mbGF0ZSxIPXtmaW5kU3BhbjpmdW5jdGlvbih0LGUsbil7dmFyIHI9bi5sZW5ndGgtdC0xO2lmKGU+PW5bcl0pcmV0dXJuIHItMTtpZihlPD1uW3RdKXJldHVybiB0O2Zvcih2YXIgaT10LG89cixhPU1hdGguZmxvb3IoKGkrbykvMik7ZTxuW2FdfHxlPj1uW2ErMV07KWU8blthXT9vPWE6aT1hLGE9TWF0aC5mbG9vcigoaStvKS8yKTtyZXR1cm4gYX0sY2FsY0Jhc2lzRnVuY3Rpb25zOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVtdLG89W10sYT1bXTtpWzBdPTE7Zm9yKHZhciBzPTE7czw9bjsrK3Mpe29bc109ZS1yW3QrMS1zXSxhW3NdPXJbdCtzXS1lO2Zvcih2YXIgYz0wLGw9MDtsPHM7KytsKXt2YXIgdT1hW2wrMV0saD1vW3MtbF0sZD1pW2xdLyh1K2gpO2lbbF09Yyt1KmQsYz1oKmR9aVtzXT1jfXJldHVybiBpfSxjYWxjQlNwbGluZVBvaW50OmZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgbz10aGlzLmZpbmRTcGFuKHQsaSxlKSxhPXRoaXMuY2FsY0Jhc2lzRnVuY3Rpb25zKG8saSx0LGUpLHM9bmV3IHIuVmVjdG9yNCgwLDAsMCwwKSxjPTA7Yzw9dDsrK2Mpe3ZhciBsPW5bby10K2NdLHU9YVtjXSxoPWwudyp1O3MueCs9bC54Kmgscy55Kz1sLnkqaCxzLnorPWwueipoLHMudys9bC53KnV9cmV0dXJuIHN9LGNhbGNCYXNpc0Z1bmN0aW9uRGVyaXZhdGl2ZXM6ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89W10sYT0wO2E8PW47KythKW9bYV09MDt2YXIgcz1bXTtmb3IoYT0wO2E8PXI7KythKXNbYV09by5zbGljZSgwKTt2YXIgYz1bXTtmb3IoYT0wO2E8PW47KythKWNbYV09by5zbGljZSgwKTtjWzBdWzBdPTE7Zm9yKHZhciBsPW8uc2xpY2UoMCksdT1vLnNsaWNlKDApLGg9MTtoPD1uOysraCl7bFtoXT1lLWlbdCsxLWhdLHVbaF09aVt0K2hdLWU7Zm9yKHZhciBkPTAscD0wO3A8aDsrK3Ape3ZhciBmPXVbcCsxXSxtPWxbaC1wXTtjW2hdW3BdPWYrbTt2YXIgZz1jW3BdW2gtMV0vY1toXVtwXTtjW3BdW2hdPWQrZipnLGQ9bSpnfWNbaF1baF09ZH1mb3IoaD0wO2g8PW47KytoKXNbMF1baF09Y1toXVtuXTtmb3IocD0wO3A8PW47KytwKXt2YXIgdj0wLHk9MSx4PVtdO2ZvcihhPTA7YTw9bjsrK2EpeFthXT1vLnNsaWNlKDApO3hbMF1bMF09MTtmb3IodmFyIGI9MTtiPD1yOysrYil7dmFyIHc9MCxfPXAtYixNPW4tYjtwPj1iJiYoeFt5XVswXT14W3ZdWzBdL2NbTSsxXVtfXSx3PXhbeV1bMF0qY1tfXVtNXSk7dmFyIFM9cC0xPD1NP2ItMTpuLXA7Zm9yKGg9Xz49LTE/MTotXztoPD1TOysraCl4W3ldW2hdPSh4W3ZdW2hdLXhbdl1baC0xXSkvY1tNKzFdW18raF0sdys9eFt5XVtoXSpjW18raF1bTV07cDw9TSYmKHhbeV1bYl09LXhbdl1bYi0xXS9jW00rMV1bcF0sdys9eFt5XVtiXSpjW3BdW01dKSxzW2JdW3BdPXc7aD12O3Y9eSx5PWh9fWZvcihwPW4sYj0xO2I8PXI7KytiKXtmb3IoaD0wO2g8PW47KytoKXNbYl1baF0qPXA7cCo9bi1ifXJldHVybiBzfSxjYWxjQlNwbGluZURlcml2YXRpdmVzOmZ1bmN0aW9uKHQsZSxuLGksbyl7Zm9yKHZhciBhPW88dD9vOnQscz1bXSxjPXRoaXMuZmluZFNwYW4odCxpLGUpLGw9dGhpcy5jYWxjQmFzaXNGdW5jdGlvbkRlcml2YXRpdmVzKGMsaSx0LGEsZSksdT1bXSxoPTA7aDxuLmxlbmd0aDsrK2gpe3ZhciBkPShmPW5baF0uY2xvbmUoKSkudztmLngqPWQsZi55Kj1kLGYueio9ZCx1W2hdPWZ9Zm9yKHZhciBwPTA7cDw9YTsrK3Ape2Zvcih2YXIgZj11W2MtdF0uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihsW3BdWzBdKSxtPTE7bTw9dDsrK20pZi5hZGQodVtjLXQrbV0uY2xvbmUoKS5tdWx0aXBseVNjYWxhcihsW3BdW21dKSk7c1twXT1mfWZvcihwPWErMTtwPD1vKzE7KytwKXNbcF09bmV3IHIuVmVjdG9yNCgwLDAsMCk7cmV0dXJuIHN9LGNhbGNLb3Zlckk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MSxyPTI7cjw9dDsrK3Ipbio9cjt2YXIgaT0xO2ZvcihyPTI7cjw9ZTsrK3IpaSo9cjtmb3Iocj0yO3I8PXQtZTsrK3IpaSo9cjtyZXR1cm4gbi9pfSxjYWxjUmF0aW9uYWxDdXJ2ZURlcml2YXRpdmVzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPVtdLGk9W10sbz0wO288ZTsrK28pe3ZhciBhPXRbb107bltvXT1uZXcgci5WZWN0b3IzKGEueCxhLnksYS56KSxpW29dPWEud31mb3IodmFyIHM9W10sYz0wO2M8ZTsrK2Mpe3ZhciBsPW5bY10uY2xvbmUoKTtmb3Iobz0xO288PWM7KytvKWwuc3ViKHNbYy1vXS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuY2FsY0tvdmVySShjLG8pKmlbb10pKTtzW2NdPWwuZGl2aWRlU2NhbGFyKGlbMF0pfXJldHVybiBzfSxjYWxjTlVSQlNEZXJpdmF0aXZlczpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuY2FsY0JTcGxpbmVEZXJpdmF0aXZlcyh0LGUsbixyLGkpO3JldHVybiB0aGlzLmNhbGNSYXRpb25hbEN1cnZlRGVyaXZhdGl2ZXMobyl9LGNhbGNTdXJmYWNlUG9pbnQ6ZnVuY3Rpb24odCxlLG4saSxvLGEscyxjKXtmb3IodmFyIGw9dGhpcy5maW5kU3Bhbih0LGEsbiksdT10aGlzLmZpbmRTcGFuKGUscyxpKSxoPXRoaXMuY2FsY0Jhc2lzRnVuY3Rpb25zKGwsYSx0LG4pLGQ9dGhpcy5jYWxjQmFzaXNGdW5jdGlvbnModSxzLGUsaSkscD1bXSxmPTA7Zjw9ZTsrK2Ype3BbZl09bmV3IHIuVmVjdG9yNCgwLDAsMCwwKTtmb3IodmFyIG09MDttPD10OysrbSl7dmFyIGc9b1tsLXQrbV1bdS1lK2ZdLmNsb25lKCksdj1nLnc7Zy54Kj12LGcueSo9dixnLnoqPXYscFtmXS5hZGQoZy5tdWx0aXBseVNjYWxhcihoW21dKSl9fXZhciB5PW5ldyByLlZlY3RvcjQoMCwwLDAsMCk7Zm9yKGY9MDtmPD1lOysrZil5LmFkZChwW2ZdLm11bHRpcGx5U2NhbGFyKGRbZl0pKTt5LmRpdmlkZVNjYWxhcih5LncpLGMuc2V0KHkueCx5LnkseS56KX19LGs9ZnVuY3Rpb24odCxlLG4saSxvKXtyLkN1cnZlLmNhbGwodGhpcyksdGhpcy5kZWdyZWU9dCx0aGlzLmtub3RzPWUsdGhpcy5jb250cm9sUG9pbnRzPVtdLHRoaXMuc3RhcnRLbm90PWl8fDAsdGhpcy5lbmRLbm90PW98fHRoaXMua25vdHMubGVuZ3RoLTE7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDsrK2Epe3ZhciBzPW5bYV07dGhpcy5jb250cm9sUG9pbnRzW2FdPW5ldyByLlZlY3RvcjQocy54LHMueSxzLnoscy53KX19OyhrLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuQ3VydmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ayxrLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZhciBuPWV8fG5ldyByLlZlY3RvcjMsaT10aGlzLmtub3RzW3RoaXMuc3RhcnRLbm90XSt0Kih0aGlzLmtub3RzW3RoaXMuZW5kS25vdF0tdGhpcy5rbm90c1t0aGlzLnN0YXJ0S25vdF0pLG89SC5jYWxjQlNwbGluZVBvaW50KHRoaXMuZGVncmVlLHRoaXMua25vdHMsdGhpcy5jb250cm9sUG9pbnRzLGkpO3JldHVybiAxIT1vLncmJm8uZGl2aWRlU2NhbGFyKG8udyksbi5zZXQoby54LG8ueSxvLnopfSxrLnByb3RvdHlwZS5nZXRUYW5nZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZXx8bmV3IHIuVmVjdG9yMyxpPXRoaXMua25vdHNbMF0rdCoodGhpcy5rbm90c1t0aGlzLmtub3RzLmxlbmd0aC0xXS10aGlzLmtub3RzWzBdKSxvPUguY2FsY05VUkJTRGVyaXZhdGl2ZXModGhpcy5kZWdyZWUsdGhpcy5rbm90cyx0aGlzLmNvbnRyb2xQb2ludHMsaSwxKTtyZXR1cm4gbi5jb3B5KG9bMV0pLm5vcm1hbGl6ZSgpLG59O3ZhciBWPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO2Z1bmN0aW9uIGkodCl7ci5Mb2FkZXIuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIG8odCxlKXt0aGlzLnRleHR1cmVMb2FkZXI9dCx0aGlzLm1hbmFnZXI9ZX1mdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIHMoKXt9ZnVuY3Rpb24gYygpe31mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIHUodCxlKXt0aGlzLmR2PW5ldyBEYXRhVmlldyh0KSx0aGlzLm9mZnNldD0wLHRoaXMubGl0dGxlRW5kaWFuPXZvaWQgMD09PWV8fGV9ZnVuY3Rpb24gaCgpe31mdW5jdGlvbiBkKHQpe3ZhciBlPXQubWF0Y2goL0ZCWFZlcnNpb246IChcXGQrKS8pO2lmKGUpcmV0dXJuIHBhcnNlSW50KGVbMV0pO3Rocm93IG5ldyBFcnJvcihcIlRIUkVFLkZCWExvYWRlcjogQ2Fubm90IGZpbmQgdGhlIHZlcnNpb24gbnVtYmVyIGZvciB0aGUgZmlsZSBnaXZlbi5cIil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gdC80NjE4NjE1OGUzfWkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShyLkxvYWRlci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjppLGxvYWQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89dGhpcyxhPVwiXCI9PT1vLnBhdGg/ci5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh0KTpvLnBhdGgscz1uZXcgci5GaWxlTG9hZGVyKHRoaXMubWFuYWdlcik7cy5zZXRQYXRoKG8ucGF0aCkscy5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxzLnNldFJlcXVlc3RIZWFkZXIoby5yZXF1ZXN0SGVhZGVyKSxzLnNldFdpdGhDcmVkZW50aWFscyhvLndpdGhDcmVkZW50aWFscykscy5sb2FkKHQsKGZ1bmN0aW9uKG4pe3RyeXtlKG8ucGFyc2UobixhKSl9Y2F0Y2goZSl7aT9pKGUpOmNvbnNvbGUuZXJyb3IoZSksby5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLGkpfSxwYXJzZTpmdW5jdGlvbihlLG4pe2lmKHM9XCJLYXlkYXJhIEZCWCBCaW5hcnkgIFxcMFwiLChhPWUpLmJ5dGVMZW5ndGg+PXMubGVuZ3RoJiZzPT09dyhhLDAscy5sZW5ndGgpKXQ9KG5ldyBsKS5wYXJzZShlKTtlbHNle3ZhciBpPXcoZSk7aWYoIWZ1bmN0aW9uKHQpe3ZhciBlPVtcIktcIixcImFcIixcInlcIixcImRcIixcImFcIixcInJcIixcImFcIixcIlxcXFxcIixcIkZcIixcIkJcIixcIlhcIixcIlxcXFxcIixcIkJcIixcImlcIixcIm5cIixcImFcIixcInJcIixcInlcIixcIlxcXFxcIixcIlxcXFxcIl0sbj0wO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKXtpZigobz12b2lkIDAsbz10WyhpPTEpLTFdLHQ9dC5zbGljZShuK2kpLG4rKyxvKT09PWVbcl0pcmV0dXJuITF9dmFyIGksbztyZXR1cm4hMH0oaSkpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuRkJYTG9hZGVyOiBVbmtub3duIGZvcm1hdC5cIik7aWYoZChpKTw3ZTMpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuRkJYTG9hZGVyOiBGQlggdmVyc2lvbiBub3Qgc3VwcG9ydGVkLCBGaWxlVmVyc2lvbjogXCIrZChpKSk7dD0obmV3IGMpLnBhcnNlKGkpfXZhciBhLHM7cmV0dXJuIG5ldyBvKG5ldyByLlRleHR1cmVMb2FkZXIodGhpcy5tYW5hZ2VyKS5zZXRQYXRoKHRoaXMucmVzb3VyY2VQYXRofHxuKS5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKSx0aGlzLm1hbmFnZXIpLnBhcnNlKHQpfX0pLG8ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpvLHBhcnNlOmZ1bmN0aW9uKCl7ZT10aGlzLnBhcnNlQ29ubmVjdGlvbnMoKTt2YXIgdD10aGlzLnBhcnNlSW1hZ2VzKCkscj10aGlzLnBhcnNlVGV4dHVyZXModCksaT10aGlzLnBhcnNlTWF0ZXJpYWxzKHIpLG89dGhpcy5wYXJzZURlZm9ybWVycygpLHM9KG5ldyBhKS5wYXJzZShvKTtyZXR1cm4gdGhpcy5wYXJzZVNjZW5lKG8scyxpKSxufSxwYXJzZUNvbm5lY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IE1hcDtcIkNvbm5lY3Rpb25zXCJpbiB0JiZ0LkNvbm5lY3Rpb25zLmNvbm5lY3Rpb25zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF0scj10WzFdLGk9dFsyXTtlLmhhcyhuKXx8ZS5zZXQobix7cGFyZW50czpbXSxjaGlsZHJlbjpbXX0pO3ZhciBvPXtJRDpyLHJlbGF0aW9uc2hpcDppfTtlLmdldChuKS5wYXJlbnRzLnB1c2gobyksZS5oYXMocil8fGUuc2V0KHIse3BhcmVudHM6W10sY2hpbGRyZW46W119KTt2YXIgYT17SUQ6bixyZWxhdGlvbnNoaXA6aX07ZS5nZXQocikuY2hpbGRyZW4ucHVzaChhKX0pKTtyZXR1cm4gZX0scGFyc2VJbWFnZXM6ZnVuY3Rpb24oKXt2YXIgZT17fSxuPXt9O2lmKFwiVmlkZW9cImluIHQuT2JqZWN0cyl7dmFyIHI9dC5PYmplY3RzLlZpZGVvO2Zvcih2YXIgaSBpbiByKXt2YXIgbz1yW2ldO2lmKGVbbD1wYXJzZUludChpKV09by5SZWxhdGl2ZUZpbGVuYW1lfHxvLkZpbGVuYW1lLFwiQ29udGVudFwiaW4gbyl7dmFyIGE9by5Db250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJm8uQ29udGVudC5ieXRlTGVuZ3RoPjAscz1cInN0cmluZ1wiPT10eXBlb2Ygby5Db250ZW50JiZcIlwiIT09by5Db250ZW50O2lmKGF8fHMpe3ZhciBjPXRoaXMucGFyc2VJbWFnZShyW2ldKTtuW28uUmVsYXRpdmVGaWxlbmFtZXx8by5GaWxlbmFtZV09Y319fX1mb3IodmFyIGwgaW4gZSl7dmFyIHU9ZVtsXTt2b2lkIDAhPT1uW3VdP2VbbF09blt1XTplW2xdPWVbbF0uc3BsaXQoXCJcXFxcXCIpLnBvcCgpfXJldHVybiBlfSxwYXJzZUltYWdlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dC5Db250ZW50LHI9dC5SZWxhdGl2ZUZpbGVuYW1lfHx0LkZpbGVuYW1lLGk9ci5zbGljZShyLmxhc3RJbmRleE9mKFwiLlwiKSsxKS50b0xvd2VyQ2FzZSgpO3N3aXRjaChpKXtjYXNlXCJibXBcIjplPVwiaW1hZ2UvYm1wXCI7YnJlYWs7Y2FzZVwianBnXCI6Y2FzZVwianBlZ1wiOmU9XCJpbWFnZS9qcGVnXCI7YnJlYWs7Y2FzZVwicG5nXCI6ZT1cImltYWdlL3BuZ1wiO2JyZWFrO2Nhc2VcInRpZlwiOmU9XCJpbWFnZS90aWZmXCI7YnJlYWs7Y2FzZVwidGdhXCI6bnVsbD09PXRoaXMubWFuYWdlci5nZXRIYW5kbGVyKFwiLnRnYVwiKSYmY29uc29sZS53YXJuKFwiRkJYTG9hZGVyOiBUR0EgbG9hZGVyIG5vdCBmb3VuZCwgc2tpcHBpbmcgXCIsciksZT1cImltYWdlL3RnYVwiO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKCdGQlhMb2FkZXI6IEltYWdlIHR5cGUgXCInK2krJ1wiIGlzIG5vdCBzdXBwb3J0ZWQuJyl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pcmV0dXJuXCJkYXRhOlwiK2UrXCI7YmFzZTY0LFwiK247dmFyIG89bmV3IFVpbnQ4QXJyYXkobik7cmV0dXJuIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtvXSx7dHlwZTplfSkpfSxwYXJzZVRleHR1cmVzOmZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBNYXA7aWYoXCJUZXh0dXJlXCJpbiB0Lk9iamVjdHMpe3ZhciByPXQuT2JqZWN0cy5UZXh0dXJlO2Zvcih2YXIgaSBpbiByKXt2YXIgbz10aGlzLnBhcnNlVGV4dHVyZShyW2ldLGUpO24uc2V0KHBhcnNlSW50KGkpLG8pfX1yZXR1cm4gbn0scGFyc2VUZXh0dXJlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5sb2FkVGV4dHVyZSh0LGUpO24uSUQ9dC5pZCxuLm5hbWU9dC5hdHRyTmFtZTt2YXIgaT10LldyYXBNb2RlVSxvPXQuV3JhcE1vZGVWLGE9dm9pZCAwIT09aT9pLnZhbHVlOjAscz12b2lkIDAhPT1vP28udmFsdWU6MDtpZihuLndyYXBTPTA9PT1hP3IuUmVwZWF0V3JhcHBpbmc6ci5DbGFtcFRvRWRnZVdyYXBwaW5nLG4ud3JhcFQ9MD09PXM/ci5SZXBlYXRXcmFwcGluZzpyLkNsYW1wVG9FZGdlV3JhcHBpbmcsXCJTY2FsaW5nXCJpbiB0KXt2YXIgYz10LlNjYWxpbmcudmFsdWU7bi5yZXBlYXQueD1jWzBdLG4ucmVwZWF0Lnk9Y1sxXX1yZXR1cm4gbn0sbG9hZFRleHR1cmU6ZnVuY3Rpb24odCxuKXt2YXIgaSxvLGE9dGhpcy50ZXh0dXJlTG9hZGVyLnBhdGgscz1lLmdldCh0LmlkKS5jaGlsZHJlbjt2b2lkIDAhPT1zJiZzLmxlbmd0aD4wJiZ2b2lkIDAhPT1uW3NbMF0uSURdJiYoMCE9PShpPW5bc1swXS5JRF0pLmluZGV4T2YoXCJibG9iOlwiKSYmMCE9PWkuaW5kZXhPZihcImRhdGE6XCIpfHx0aGlzLnRleHR1cmVMb2FkZXIuc2V0UGF0aCh2b2lkIDApKTt2YXIgYz10LkZpbGVOYW1lLnNsaWNlKC0zKS50b0xvd2VyQ2FzZSgpO2lmKFwidGdhXCI9PT1jKXt2YXIgbD10aGlzLm1hbmFnZXIuZ2V0SGFuZGxlcihcIi50Z2FcIik7bnVsbD09PWw/KGNvbnNvbGUud2FybihcIkZCWExvYWRlcjogVEdBIGxvYWRlciBub3QgZm91bmQsIGNyZWF0aW5nIHBsYWNlaG9sZGVyIHRleHR1cmUgZm9yXCIsdC5SZWxhdGl2ZUZpbGVuYW1lKSxvPW5ldyByLlRleHR1cmUpOm89bC5sb2FkKGkpfWVsc2VcInBzZFwiPT09Yz8oY29uc29sZS53YXJuKFwiRkJYTG9hZGVyOiBQU0QgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQsIGNyZWF0aW5nIHBsYWNlaG9sZGVyIHRleHR1cmUgZm9yXCIsdC5SZWxhdGl2ZUZpbGVuYW1lKSxvPW5ldyByLlRleHR1cmUpOm89dGhpcy50ZXh0dXJlTG9hZGVyLmxvYWQoaSk7cmV0dXJuIHRoaXMudGV4dHVyZUxvYWRlci5zZXRQYXRoKGEpLG99LHBhcnNlTWF0ZXJpYWxzOmZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBNYXA7aWYoXCJNYXRlcmlhbFwiaW4gdC5PYmplY3RzKXt2YXIgcj10Lk9iamVjdHMuTWF0ZXJpYWw7Zm9yKHZhciBpIGluIHIpe3ZhciBvPXRoaXMucGFyc2VNYXRlcmlhbChyW2ldLGUpO251bGwhPT1vJiZuLnNldChwYXJzZUludChpKSxvKX19cmV0dXJuIG59LHBhcnNlTWF0ZXJpYWw6ZnVuY3Rpb24odCxuKXt2YXIgaT10LmlkLG89dC5hdHRyTmFtZSxhPXQuU2hhZGluZ01vZGVsO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiYoYT1hLnZhbHVlKSwhZS5oYXMoaSkpcmV0dXJuIG51bGw7dmFyIHMsYz10aGlzLnBhcnNlUGFyYW1ldGVycyh0LG4saSk7c3dpdGNoKGEudG9Mb3dlckNhc2UoKSl7Y2FzZVwicGhvbmdcIjpzPW5ldyByLk1lc2hQaG9uZ01hdGVyaWFsO2JyZWFrO2Nhc2VcImxhbWJlcnRcIjpzPW5ldyByLk1lc2hMYW1iZXJ0TWF0ZXJpYWw7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oJ1RIUkVFLkZCWExvYWRlcjogdW5rbm93biBtYXRlcmlhbCB0eXBlIFwiJXNcIi4gRGVmYXVsdGluZyB0byBNZXNoUGhvbmdNYXRlcmlhbC4nLGEpLHM9bmV3IHIuTWVzaFBob25nTWF0ZXJpYWx9cmV0dXJuIHMuc2V0VmFsdWVzKGMpLHMubmFtZT1vLHN9LHBhcnNlUGFyYW1ldGVyczpmdW5jdGlvbih0LG4saSl7dmFyIG89e307dC5CdW1wRmFjdG9yJiYoby5idW1wU2NhbGU9dC5CdW1wRmFjdG9yLnZhbHVlKSx0LkRpZmZ1c2U/by5jb2xvcj0obmV3IHIuQ29sb3IpLmZyb21BcnJheSh0LkRpZmZ1c2UudmFsdWUpOiF0LkRpZmZ1c2VDb2xvcnx8XCJDb2xvclwiIT09dC5EaWZmdXNlQ29sb3IudHlwZSYmXCJDb2xvclJHQlwiIT09dC5EaWZmdXNlQ29sb3IudHlwZXx8KG8uY29sb3I9KG5ldyByLkNvbG9yKS5mcm9tQXJyYXkodC5EaWZmdXNlQ29sb3IudmFsdWUpKSx0LkRpc3BsYWNlbWVudEZhY3RvciYmKG8uZGlzcGxhY2VtZW50U2NhbGU9dC5EaXNwbGFjZW1lbnRGYWN0b3IudmFsdWUpLHQuRW1pc3NpdmU/by5lbWlzc2l2ZT0obmV3IHIuQ29sb3IpLmZyb21BcnJheSh0LkVtaXNzaXZlLnZhbHVlKTohdC5FbWlzc2l2ZUNvbG9yfHxcIkNvbG9yXCIhPT10LkVtaXNzaXZlQ29sb3IudHlwZSYmXCJDb2xvclJHQlwiIT09dC5FbWlzc2l2ZUNvbG9yLnR5cGV8fChvLmVtaXNzaXZlPShuZXcgci5Db2xvcikuZnJvbUFycmF5KHQuRW1pc3NpdmVDb2xvci52YWx1ZSkpLHQuRW1pc3NpdmVGYWN0b3ImJihvLmVtaXNzaXZlSW50ZW5zaXR5PXBhcnNlRmxvYXQodC5FbWlzc2l2ZUZhY3Rvci52YWx1ZSkpLHQuT3BhY2l0eSYmKG8ub3BhY2l0eT1wYXJzZUZsb2F0KHQuT3BhY2l0eS52YWx1ZSkpLG8ub3BhY2l0eTwxJiYoby50cmFuc3BhcmVudD0hMCksdC5SZWZsZWN0aW9uRmFjdG9yJiYoby5yZWZsZWN0aXZpdHk9dC5SZWZsZWN0aW9uRmFjdG9yLnZhbHVlKSx0LlNoaW5pbmVzcyYmKG8uc2hpbmluZXNzPXQuU2hpbmluZXNzLnZhbHVlKSx0LlNwZWN1bGFyP28uc3BlY3VsYXI9KG5ldyByLkNvbG9yKS5mcm9tQXJyYXkodC5TcGVjdWxhci52YWx1ZSk6dC5TcGVjdWxhckNvbG9yJiZcIkNvbG9yXCI9PT10LlNwZWN1bGFyQ29sb3IudHlwZSYmKG8uc3BlY3VsYXI9KG5ldyByLkNvbG9yKS5mcm9tQXJyYXkodC5TcGVjdWxhckNvbG9yLnZhbHVlKSk7dmFyIGE9dGhpcztyZXR1cm4gZS5nZXQoaSkuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5yZWxhdGlvbnNoaXA7c3dpdGNoKGUpe2Nhc2VcIkJ1bXBcIjpvLmJ1bXBNYXA9YS5nZXRUZXh0dXJlKG4sdC5JRCk7YnJlYWs7Y2FzZVwiTWF5YXxURVhfYW9fbWFwXCI6by5hb01hcD1hLmdldFRleHR1cmUobix0LklEKTticmVhaztjYXNlXCJEaWZmdXNlQ29sb3JcIjpjYXNlXCJNYXlhfFRFWF9jb2xvcl9tYXBcIjpvLm1hcD1hLmdldFRleHR1cmUobix0LklEKSxvLm1hcC5lbmNvZGluZz1yLnNSR0JFbmNvZGluZzticmVhaztjYXNlXCJEaXNwbGFjZW1lbnRDb2xvclwiOm8uZGlzcGxhY2VtZW50TWFwPWEuZ2V0VGV4dHVyZShuLHQuSUQpO2JyZWFrO2Nhc2VcIkVtaXNzaXZlQ29sb3JcIjpvLmVtaXNzaXZlTWFwPWEuZ2V0VGV4dHVyZShuLHQuSUQpLG8uZW1pc3NpdmVNYXAuZW5jb2Rpbmc9ci5zUkdCRW5jb2Rpbmc7YnJlYWs7Y2FzZVwiTm9ybWFsTWFwXCI6Y2FzZVwiTWF5YXxURVhfbm9ybWFsX21hcFwiOm8ubm9ybWFsTWFwPWEuZ2V0VGV4dHVyZShuLHQuSUQpO2JyZWFrO2Nhc2VcIlJlZmxlY3Rpb25Db2xvclwiOm8uZW52TWFwPWEuZ2V0VGV4dHVyZShuLHQuSUQpLG8uZW52TWFwLm1hcHBpbmc9ci5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZyxvLmVudk1hcC5lbmNvZGluZz1yLnNSR0JFbmNvZGluZzticmVhaztjYXNlXCJTcGVjdWxhckNvbG9yXCI6by5zcGVjdWxhck1hcD1hLmdldFRleHR1cmUobix0LklEKSxvLnNwZWN1bGFyTWFwLmVuY29kaW5nPXIuc1JHQkVuY29kaW5nO2JyZWFrO2Nhc2VcIlRyYW5zcGFyZW50Q29sb3JcIjpjYXNlXCJUcmFuc3BhcmVuY3lGYWN0b3JcIjpvLmFscGhhTWFwPWEuZ2V0VGV4dHVyZShuLHQuSUQpLG8udHJhbnNwYXJlbnQ9ITA7YnJlYWs7Y2FzZVwiQW1iaWVudENvbG9yXCI6Y2FzZVwiU2hpbmluZXNzRXhwb25lbnRcIjpjYXNlXCJTcGVjdWxhckZhY3RvclwiOmNhc2VcIlZlY3RvckRpc3BsYWNlbWVudENvbG9yXCI6ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJUSFJFRS5GQlhMb2FkZXI6ICVzIG1hcCBpcyBub3Qgc3VwcG9ydGVkIGluIHRocmVlLmpzLCBza2lwcGluZyB0ZXh0dXJlLlwiLGUpfX0pKSxvfSxnZXRUZXh0dXJlOmZ1bmN0aW9uKG4scil7cmV0dXJuXCJMYXllcmVkVGV4dHVyZVwiaW4gdC5PYmplY3RzJiZyIGluIHQuT2JqZWN0cy5MYXllcmVkVGV4dHVyZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkZCWExvYWRlcjogbGF5ZXJlZCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aHJlZS5qcy4gRGlzY2FyZGluZyBhbGwgYnV0IGZpcnN0IGxheWVyLlwiKSxyPWUuZ2V0KHIpLmNoaWxkcmVuWzBdLklEKSxuLmdldChyKX0scGFyc2VEZWZvcm1lcnM6ZnVuY3Rpb24oKXt2YXIgbj17fSxyPXt9O2lmKFwiRGVmb3JtZXJcImluIHQuT2JqZWN0cyl7dmFyIGk9dC5PYmplY3RzLkRlZm9ybWVyO2Zvcih2YXIgbyBpbiBpKXt2YXIgYT1pW29dLHM9ZS5nZXQocGFyc2VJbnQobykpO2lmKFwiU2tpblwiPT09YS5hdHRyVHlwZSl7dmFyIGM9dGhpcy5wYXJzZVNrZWxldG9uKHMsaSk7Yy5JRD1vLHMucGFyZW50cy5sZW5ndGg+MSYmY29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiBza2VsZXRvbiBhdHRhY2hlZCB0byBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuXCIpLGMuZ2VvbWV0cnlJRD1zLnBhcmVudHNbMF0uSUQsbltvXT1jfWVsc2UgaWYoXCJCbGVuZFNoYXBlXCI9PT1hLmF0dHJUeXBlKXt2YXIgbD17aWQ6b307bC5yYXdUYXJnZXRzPXRoaXMucGFyc2VNb3JwaFRhcmdldHMocyxpKSxsLmlkPW8scy5wYXJlbnRzLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oXCJUSFJFRS5GQlhMb2FkZXI6IG1vcnBoIHRhcmdldCBhdHRhY2hlZCB0byBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuXCIpLHJbb109bH19fXJldHVybntza2VsZXRvbnM6bixtb3JwaFRhcmdldHM6cn19LHBhcnNlU2tlbGV0b246ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgaT1lW3QuSURdO2lmKFwiQ2x1c3RlclwiPT09aS5hdHRyVHlwZSl7dmFyIG89e0lEOnQuSUQsaW5kaWNlczpbXSx3ZWlnaHRzOltdLHRyYW5zZm9ybUxpbms6KG5ldyByLk1hdHJpeDQpLmZyb21BcnJheShpLlRyYW5zZm9ybUxpbmsuYSl9O1wiSW5kZXhlc1wiaW4gaSYmKG8uaW5kaWNlcz1pLkluZGV4ZXMuYSxvLndlaWdodHM9aS5XZWlnaHRzLmEpLG4ucHVzaChvKX19KSkse3Jhd0JvbmVzOm4sYm9uZXM6W119fSxwYXJzZU1vcnBoVGFyZ2V0czpmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1bXSxpPTA7aTx0LmNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBvPXQuY2hpbGRyZW5baV0sYT1uW28uSURdLHM9e25hbWU6YS5hdHRyTmFtZSxpbml0aWFsV2VpZ2h0OmEuRGVmb3JtUGVyY2VudCxpZDphLmlkLGZ1bGxXZWlnaHRzOmEuRnVsbFdlaWdodHMuYX07aWYoXCJCbGVuZFNoYXBlQ2hhbm5lbFwiIT09YS5hdHRyVHlwZSlyZXR1cm47cy5nZW9JRD1lLmdldChwYXJzZUludChvLklEKSkuY2hpbGRyZW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dC5yZWxhdGlvbnNoaXB9KSlbMF0uSUQsci5wdXNoKHMpfXJldHVybiByfSxwYXJzZVNjZW5lOmZ1bmN0aW9uKGksbyxhKXtuPW5ldyByLkdyb3VwO3ZhciBjPXRoaXMucGFyc2VNb2RlbHMoaS5za2VsZXRvbnMsbyxhKSxsPXQuT2JqZWN0cy5Nb2RlbCx1PXRoaXM7Yy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1sW3QuSURdO3Uuc2V0TG9va0F0UHJvcGVydGllcyh0LHIpLGUuZ2V0KHQuSUQpLnBhcmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49Yy5nZXQoZS5JRCk7dm9pZCAwIT09biYmbi5hZGQodCl9KSksbnVsbD09PXQucGFyZW50JiZuLmFkZCh0KX0pKSx0aGlzLmJpbmRTa2VsZXRvbihpLnNrZWxldG9ucyxvLGMpLHRoaXMuY3JlYXRlQW1iaWVudExpZ2h0KCksdGhpcy5zZXR1cE1vcnBoTWF0ZXJpYWxzKCksbi50cmF2ZXJzZSgoZnVuY3Rpb24odCl7aWYodC51c2VyRGF0YS50cmFuc2Zvcm1EYXRhKXt0LnBhcmVudCYmKHQudXNlckRhdGEudHJhbnNmb3JtRGF0YS5wYXJlbnRNYXRyaXhXb3JsZD10LnBhcmVudC5tYXRyaXgpO3ZhciBlPXkodC51c2VyRGF0YS50cmFuc2Zvcm1EYXRhKTt0LmFwcGx5TWF0cml4NChlKX19KSk7dmFyIGg9KG5ldyBzKS5wYXJzZSgpOzE9PT1uLmNoaWxkcmVuLmxlbmd0aCYmbi5jaGlsZHJlblswXS5pc0dyb3VwJiYobi5jaGlsZHJlblswXS5hbmltYXRpb25zPWgsbj1uLmNoaWxkcmVuWzBdKSxuLmFuaW1hdGlvbnM9aH0scGFyc2VNb2RlbHM6ZnVuY3Rpb24obixpLG8pe3ZhciBhPW5ldyBNYXAscz10Lk9iamVjdHMuTW9kZWw7Zm9yKHZhciBjIGluIHMpe3ZhciBsPXBhcnNlSW50KGMpLHU9c1tjXSxoPWUuZ2V0KGwpLGQ9dGhpcy5idWlsZFNrZWxldG9uKGgsbixsLHUuYXR0ck5hbWUpO2lmKCFkKXtzd2l0Y2godS5hdHRyVHlwZSl7Y2FzZVwiQ2FtZXJhXCI6ZD10aGlzLmNyZWF0ZUNhbWVyYShoKTticmVhaztjYXNlXCJMaWdodFwiOmQ9dGhpcy5jcmVhdGVMaWdodChoKTticmVhaztjYXNlXCJNZXNoXCI6ZD10aGlzLmNyZWF0ZU1lc2goaCxpLG8pO2JyZWFrO2Nhc2VcIk51cmJzQ3VydmVcIjpkPXRoaXMuY3JlYXRlQ3VydmUoaCxpKTticmVhaztjYXNlXCJMaW1iTm9kZVwiOmNhc2VcIlJvb3RcIjpkPW5ldyByLkJvbmU7YnJlYWs7Y2FzZVwiTnVsbFwiOmRlZmF1bHQ6ZD1uZXcgci5Hcm91cH1kLm5hbWU9dS5hdHRyTmFtZT9yLlByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKHUuYXR0ck5hbWUpOlwiXCIsZC5JRD1sfXRoaXMuZ2V0VHJhbnNmb3JtRGF0YShkLHUpLGEuc2V0KGwsZCl9cmV0dXJuIGF9LGJ1aWxkU2tlbGV0b246ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89bnVsbDtyZXR1cm4gdC5wYXJlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgYSBpbiBlKXt2YXIgcz1lW2FdO3MucmF3Qm9uZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSxhKXtpZihlLklEPT09dC5JRCl7dmFyIGM9bzsobz1uZXcgci5Cb25lKS5tYXRyaXhXb3JsZC5jb3B5KGUudHJhbnNmb3JtTGluayksby5uYW1lPWk/ci5Qcm9wZXJ0eUJpbmRpbmcuc2FuaXRpemVOb2RlTmFtZShpKTpcIlwiLG8uSUQ9bixzLmJvbmVzW2FdPW8sbnVsbCE9PWMmJm8uYWRkKGMpfX0pKX19KSksb30sY3JlYXRlQ2FtZXJhOmZ1bmN0aW9uKGUpe3ZhciBuLGk7aWYoZS5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10Lk9iamVjdHMuTm9kZUF0dHJpYnV0ZVtlLklEXTt2b2lkIDAhPT1uJiYoaT1uKX0pKSx2b2lkIDA9PT1pKW49bmV3IHIuT2JqZWN0M0Q7ZWxzZXt2YXIgbz0wO3ZvaWQgMCE9PWkuQ2FtZXJhUHJvamVjdGlvblR5cGUmJjE9PT1pLkNhbWVyYVByb2plY3Rpb25UeXBlLnZhbHVlJiYobz0xKTt2YXIgYT0xO3ZvaWQgMCE9PWkuTmVhclBsYW5lJiYoYT1pLk5lYXJQbGFuZS52YWx1ZS8xZTMpO3ZhciBzPTFlMzt2b2lkIDAhPT1pLkZhclBsYW5lJiYocz1pLkZhclBsYW5lLnZhbHVlLzFlMyk7dmFyIGM9d2luZG93LmlubmVyV2lkdGgsbD13aW5kb3cuaW5uZXJIZWlnaHQ7dm9pZCAwIT09aS5Bc3BlY3RXaWR0aCYmdm9pZCAwIT09aS5Bc3BlY3RIZWlnaHQmJihjPWkuQXNwZWN0V2lkdGgudmFsdWUsbD1pLkFzcGVjdEhlaWdodC52YWx1ZSk7dmFyIHU9Yy9sLGg9NDU7dm9pZCAwIT09aS5GaWVsZE9mVmlldyYmKGg9aS5GaWVsZE9mVmlldy52YWx1ZSk7dmFyIGQ9aS5Gb2NhbExlbmd0aD9pLkZvY2FsTGVuZ3RoLnZhbHVlOm51bGw7c3dpdGNoKG8pe2Nhc2UgMDpuPW5ldyByLlBlcnNwZWN0aXZlQ2FtZXJhKGgsdSxhLHMpLG51bGwhPT1kJiZuLnNldEZvY2FsTGVuZ3RoKGQpO2JyZWFrO2Nhc2UgMTpuPW5ldyByLk9ydGhvZ3JhcGhpY0NhbWVyYSgtYy8yLGMvMixsLzIsLWwvMixhLHMpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiBVbmtub3duIGNhbWVyYSB0eXBlIFwiK28rXCIuXCIpLG49bmV3IHIuT2JqZWN0M0R9fXJldHVybiBufSxjcmVhdGVMaWdodDpmdW5jdGlvbihlKXt2YXIgbixpO2lmKGUuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49dC5PYmplY3RzLk5vZGVBdHRyaWJ1dGVbZS5JRF07dm9pZCAwIT09biYmKGk9bil9KSksdm9pZCAwPT09aSluPW5ldyByLk9iamVjdDNEO2Vsc2V7dmFyIG87bz12b2lkIDA9PT1pLkxpZ2h0VHlwZT8wOmkuTGlnaHRUeXBlLnZhbHVlO3ZhciBhPTE2Nzc3MjE1O3ZvaWQgMCE9PWkuQ29sb3ImJihhPShuZXcgci5Db2xvcikuZnJvbUFycmF5KGkuQ29sb3IudmFsdWUpKTt2YXIgcz12b2lkIDA9PT1pLkludGVuc2l0eT8xOmkuSW50ZW5zaXR5LnZhbHVlLzEwMDt2b2lkIDAhPT1pLkNhc3RMaWdodE9uT2JqZWN0JiYwPT09aS5DYXN0TGlnaHRPbk9iamVjdC52YWx1ZSYmKHM9MCk7dmFyIGM9MDt2b2lkIDAhPT1pLkZhckF0dGVudWF0aW9uRW5kJiYoYz12b2lkIDAhPT1pLkVuYWJsZUZhckF0dGVudWF0aW9uJiYwPT09aS5FbmFibGVGYXJBdHRlbnVhdGlvbi52YWx1ZT8wOmkuRmFyQXR0ZW51YXRpb25FbmQudmFsdWUpO3N3aXRjaChvKXtjYXNlIDA6bj1uZXcgci5Qb2ludExpZ2h0KGEscyxjLDEpO2JyZWFrO2Nhc2UgMTpuPW5ldyByLkRpcmVjdGlvbmFsTGlnaHQoYSxzKTticmVhaztjYXNlIDI6dmFyIGw9TWF0aC5QSS8zO3ZvaWQgMCE9PWkuSW5uZXJBbmdsZSYmKGw9ci5NYXRoVXRpbHMuZGVnVG9SYWQoaS5Jbm5lckFuZ2xlLnZhbHVlKSk7dmFyIHU9MDt2b2lkIDAhPT1pLk91dGVyQW5nbGUmJih1PXIuTWF0aFV0aWxzLmRlZ1RvUmFkKGkuT3V0ZXJBbmdsZS52YWx1ZSksdT1NYXRoLm1heCh1LDEpKSxuPW5ldyByLlNwb3RMaWdodChhLHMsYyxsLHUsMSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJUSFJFRS5GQlhMb2FkZXI6IFVua25vd24gbGlnaHQgdHlwZSBcIitpLkxpZ2h0VHlwZS52YWx1ZStcIiwgZGVmYXVsdGluZyB0byBhIFBvaW50TGlnaHQuXCIpLG49bmV3IHIuUG9pbnRMaWdodChhLHMpfXZvaWQgMCE9PWkuQ2FzdFNoYWRvd3MmJjE9PT1pLkNhc3RTaGFkb3dzLnZhbHVlJiYobi5jYXN0U2hhZG93PSEwKX1yZXR1cm4gbn0sY3JlYXRlTWVzaDpmdW5jdGlvbih0LGUsbil7dmFyIGksbz1udWxsLGE9bnVsbCxzPVtdO3JldHVybiB0LmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuaGFzKHQuSUQpJiYobz1lLmdldCh0LklEKSksbi5oYXModC5JRCkmJnMucHVzaChuLmdldCh0LklEKSl9KSkscy5sZW5ndGg+MT9hPXM6cy5sZW5ndGg+MD9hPXNbMF06KGE9bmV3IHIuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOjEzNDIxNzcyfSkscy5wdXNoKGEpKSxcImNvbG9yXCJpbiBvLmF0dHJpYnV0ZXMmJnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC52ZXJ0ZXhDb2xvcnM9ITB9KSksby5GQlhfRGVmb3JtZXI/KHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5za2lubmluZz0hMH0pKSwoaT1uZXcgci5Ta2lubmVkTWVzaChvLGEpKS5ub3JtYWxpemVTa2luV2VpZ2h0cygpKTppPW5ldyByLk1lc2gobyxhKSxpfSxjcmVhdGVDdXJ2ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hpbGRyZW4ucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiBlLmhhcyhuLklEKSYmKHQ9ZS5nZXQobi5JRCkpLHR9KSxudWxsKSxpPW5ldyByLkxpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjozMzQyNTkxLGxpbmV3aWR0aDoxfSk7cmV0dXJuIG5ldyByLkxpbmUobixpKX0sZ2V0VHJhbnNmb3JtRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBuPXt9O1wiSW5oZXJpdFR5cGVcImluIGUmJihuLmluaGVyaXRUeXBlPXBhcnNlSW50KGUuSW5oZXJpdFR5cGUudmFsdWUpKSxuLmV1bGVyT3JkZXI9XCJSb3RhdGlvbk9yZGVyXCJpbiBlP3goZS5Sb3RhdGlvbk9yZGVyLnZhbHVlKTpcIlpZWFwiLFwiTGNsX1RyYW5zbGF0aW9uXCJpbiBlJiYobi50cmFuc2xhdGlvbj1lLkxjbF9UcmFuc2xhdGlvbi52YWx1ZSksXCJQcmVSb3RhdGlvblwiaW4gZSYmKG4ucHJlUm90YXRpb249ZS5QcmVSb3RhdGlvbi52YWx1ZSksXCJMY2xfUm90YXRpb25cImluIGUmJihuLnJvdGF0aW9uPWUuTGNsX1JvdGF0aW9uLnZhbHVlKSxcIlBvc3RSb3RhdGlvblwiaW4gZSYmKG4ucG9zdFJvdGF0aW9uPWUuUG9zdFJvdGF0aW9uLnZhbHVlKSxcIkxjbF9TY2FsaW5nXCJpbiBlJiYobi5zY2FsZT1lLkxjbF9TY2FsaW5nLnZhbHVlKSxcIlNjYWxpbmdPZmZzZXRcImluIGUmJihuLnNjYWxpbmdPZmZzZXQ9ZS5TY2FsaW5nT2Zmc2V0LnZhbHVlKSxcIlNjYWxpbmdQaXZvdFwiaW4gZSYmKG4uc2NhbGluZ1Bpdm90PWUuU2NhbGluZ1Bpdm90LnZhbHVlKSxcIlJvdGF0aW9uT2Zmc2V0XCJpbiBlJiYobi5yb3RhdGlvbk9mZnNldD1lLlJvdGF0aW9uT2Zmc2V0LnZhbHVlKSxcIlJvdGF0aW9uUGl2b3RcImluIGUmJihuLnJvdGF0aW9uUGl2b3Q9ZS5Sb3RhdGlvblBpdm90LnZhbHVlKSx0LnVzZXJEYXRhLnRyYW5zZm9ybURhdGE9bn0sc2V0TG9va0F0UHJvcGVydGllczpmdW5jdGlvbihpLG8pe1wiTG9va0F0UHJvcGVydHlcImluIG8mJmUuZ2V0KGkuSUQpLmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwiTG9va0F0UHJvcGVydHlcIj09PWUucmVsYXRpb25zaGlwKXt2YXIgbz10Lk9iamVjdHMuTW9kZWxbZS5JRF07aWYoXCJMY2xfVHJhbnNsYXRpb25cImluIG8pe3ZhciBhPW8uTGNsX1RyYW5zbGF0aW9uLnZhbHVlO3ZvaWQgMCE9PWkudGFyZ2V0PyhpLnRhcmdldC5wb3NpdGlvbi5mcm9tQXJyYXkoYSksbi5hZGQoaS50YXJnZXQpKTppLmxvb2tBdCgobmV3IHIuVmVjdG9yMykuZnJvbUFycmF5KGEpKX19fSkpfSxiaW5kU2tlbGV0b246ZnVuY3Rpb24odCxuLGkpe3ZhciBvPXRoaXMucGFyc2VQb3NlTm9kZXMoKTtmb3IodmFyIGEgaW4gdCl7dmFyIHM9dFthXTtlLmdldChwYXJzZUludChzLklEKSkucGFyZW50cy5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihuLmhhcyh0LklEKSl7dmFyIGE9dC5JRDtlLmdldChhKS5wYXJlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuaGFzKHQuSUQpJiZpLmdldCh0LklEKS5iaW5kKG5ldyByLlNrZWxldG9uKHMuYm9uZXMpLG9bdC5JRF0pfSkpfX0pKX19LHBhcnNlUG9zZU5vZGVzOmZ1bmN0aW9uKCl7dmFyIGU9e307aWYoXCJQb3NlXCJpbiB0Lk9iamVjdHMpe3ZhciBuPXQuT2JqZWN0cy5Qb3NlO2Zvcih2YXIgaSBpbiBuKWlmKFwiQmluZFBvc2VcIj09PW5baV0uYXR0clR5cGUpe3ZhciBvPW5baV0uUG9zZU5vZGU7QXJyYXkuaXNBcnJheShvKT9vLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdC5Ob2RlXT0obmV3IHIuTWF0cml4NCkuZnJvbUFycmF5KHQuTWF0cml4LmEpfSkpOmVbby5Ob2RlXT0obmV3IHIuTWF0cml4NCkuZnJvbUFycmF5KG8uTWF0cml4LmEpfX1yZXR1cm4gZX0sY3JlYXRlQW1iaWVudExpZ2h0OmZ1bmN0aW9uKCl7aWYoXCJHbG9iYWxTZXR0aW5nc1wiaW4gdCYmXCJBbWJpZW50Q29sb3JcImluIHQuR2xvYmFsU2V0dGluZ3Mpe3ZhciBlPXQuR2xvYmFsU2V0dGluZ3MuQW1iaWVudENvbG9yLnZhbHVlLGk9ZVswXSxvPWVbMV0sYT1lWzJdO2lmKDAhPT1pfHwwIT09b3x8MCE9PWEpe3ZhciBzPW5ldyByLkNvbG9yKGksbyxhKTtuLmFkZChuZXcgci5BbWJpZW50TGlnaHQocywxKSl9fX0sc2V0dXBNb3JwaE1hdGVyaWFsczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7ZS5pc01lc2gmJmUuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uJiZlLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbi5sZW5ndGgmJihBcnJheS5pc0FycmF5KGUubWF0ZXJpYWwpP2UubWF0ZXJpYWwuZm9yRWFjaCgoZnVuY3Rpb24obixyKXt0LnNldHVwTW9ycGhNYXRlcmlhbChlLG4scil9KSk6dC5zZXR1cE1vcnBoTWF0ZXJpYWwoZSxlLm1hdGVyaWFsKSl9KSl9LHNldHVwTW9ycGhNYXRlcmlhbDpmdW5jdGlvbih0LGUscil7dmFyIGk9dC51dWlkLG89ZS51dWlkLGE9ITE7aWYobi50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dC5pc01lc2gmJihBcnJheS5pc0FycmF5KHQubWF0ZXJpYWwpP3QubWF0ZXJpYWwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51dWlkPT09byYmdC51dWlkIT09aSYmKGE9ITApfSkpOnQubWF0ZXJpYWwudXVpZD09PW8mJnQudXVpZCE9PWkmJihhPSEwKSl9KSksITA9PT1hKXt2YXIgcz1lLmNsb25lKCk7cy5tb3JwaFRhcmdldHM9ITAsdm9pZCAwPT09cj90Lm1hdGVyaWFsPXM6dC5tYXRlcmlhbFtyXT1zfWVsc2UgZS5tb3JwaFRhcmdldHM9ITB9fSxhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YSxwYXJzZTpmdW5jdGlvbihuKXt2YXIgcj1uZXcgTWFwO2lmKFwiR2VvbWV0cnlcImluIHQuT2JqZWN0cyl7dmFyIGk9dC5PYmplY3RzLkdlb21ldHJ5O2Zvcih2YXIgbyBpbiBpKXt2YXIgYT1lLmdldChwYXJzZUludChvKSkscz10aGlzLnBhcnNlR2VvbWV0cnkoYSxpW29dLG4pO3Iuc2V0KHBhcnNlSW50KG8pLHMpfX1yZXR1cm4gcn0scGFyc2VHZW9tZXRyeTpmdW5jdGlvbih0LGUsbil7c3dpdGNoKGUuYXR0clR5cGUpe2Nhc2VcIk1lc2hcIjpyZXR1cm4gdGhpcy5wYXJzZU1lc2hHZW9tZXRyeSh0LGUsbik7Y2FzZVwiTnVyYnNDdXJ2ZVwiOnJldHVybiB0aGlzLnBhcnNlTnVyYnNHZW9tZXRyeShlKX19LHBhcnNlTWVzaEdlb21ldHJ5OmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1yLnNrZWxldG9ucyxvPVtdLGE9ZS5wYXJlbnRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuT2JqZWN0cy5Nb2RlbFtlLklEXX0pKTtpZigwIT09YS5sZW5ndGgpe3ZhciBzPWUuY2hpbGRyZW4ucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1pW2UuSURdJiYodD1pW2UuSURdKSx0fSksbnVsbCk7ZS5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbih0KXt2b2lkIDAhPT1yLm1vcnBoVGFyZ2V0c1t0LklEXSYmby5wdXNoKHIubW9ycGhUYXJnZXRzW3QuSURdKX0pKTt2YXIgYz1hWzBdLGw9e307XCJSb3RhdGlvbk9yZGVyXCJpbiBjJiYobC5ldWxlck9yZGVyPXgoYy5Sb3RhdGlvbk9yZGVyLnZhbHVlKSksXCJJbmhlcml0VHlwZVwiaW4gYyYmKGwuaW5oZXJpdFR5cGU9cGFyc2VJbnQoYy5Jbmhlcml0VHlwZS52YWx1ZSkpLFwiR2VvbWV0cmljVHJhbnNsYXRpb25cImluIGMmJihsLnRyYW5zbGF0aW9uPWMuR2VvbWV0cmljVHJhbnNsYXRpb24udmFsdWUpLFwiR2VvbWV0cmljUm90YXRpb25cImluIGMmJihsLnJvdGF0aW9uPWMuR2VvbWV0cmljUm90YXRpb24udmFsdWUpLFwiR2VvbWV0cmljU2NhbGluZ1wiaW4gYyYmKGwuc2NhbGU9Yy5HZW9tZXRyaWNTY2FsaW5nLnZhbHVlKTt2YXIgdT15KGwpO3JldHVybiB0aGlzLmdlbkdlb21ldHJ5KG4scyxvLHUpfX0sZ2VuR2VvbWV0cnk6ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89bmV3IHIuQnVmZmVyR2VvbWV0cnk7dC5hdHRyTmFtZSYmKG8ubmFtZT10LmF0dHJOYW1lKTt2YXIgYT10aGlzLnBhcnNlR2VvTm9kZSh0LGUpLHM9dGhpcy5nZW5CdWZmZXJzKGEpLGM9bmV3IHIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShzLnZlcnRleCwzKTtpZihjLmFwcGx5TWF0cml4NChpKSxvLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsYykscy5jb2xvcnMubGVuZ3RoPjAmJm8uc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgci5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKHMuY29sb3JzLDMpKSxlJiYoby5zZXRBdHRyaWJ1dGUoXCJza2luSW5kZXhcIixuZXcgci5VaW50MTZCdWZmZXJBdHRyaWJ1dGUocy53ZWlnaHRzSW5kaWNlcyw0KSksby5zZXRBdHRyaWJ1dGUoXCJza2luV2VpZ2h0XCIsbmV3IHIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShzLnZlcnRleFdlaWdodHMsNCkpLG8uRkJYX0RlZm9ybWVyPWUpLHMubm9ybWFsLmxlbmd0aD4wKXt2YXIgbD0obmV3IHIuTWF0cml4MykuZ2V0Tm9ybWFsTWF0cml4KGkpLHU9bmV3IHIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShzLm5vcm1hbCwzKTt1LmFwcGx5Tm9ybWFsTWF0cml4KGwpLG8uc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsdSl9aWYocy51dnMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt2YXIgbj1cInV2XCIrKGUrMSkudG9TdHJpbmcoKTswPT09ZSYmKG49XCJ1dlwiKSxvLnNldEF0dHJpYnV0ZShuLG5ldyByLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUocy51dnNbZV0sMikpfSkpLGEubWF0ZXJpYWwmJlwiQWxsU2FtZVwiIT09YS5tYXRlcmlhbC5tYXBwaW5nVHlwZSl7dmFyIGg9cy5tYXRlcmlhbEluZGV4WzBdLGQ9MDtpZihzLm1hdGVyaWFsSW5kZXguZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0IT09aCYmKG8uYWRkR3JvdXAoZCxlLWQsaCksaD10LGQ9ZSl9KSksby5ncm91cHMubGVuZ3RoPjApe3ZhciBwPW8uZ3JvdXBzW28uZ3JvdXBzLmxlbmd0aC0xXSxmPXAuc3RhcnQrcC5jb3VudDtmIT09cy5tYXRlcmlhbEluZGV4Lmxlbmd0aCYmby5hZGRHcm91cChmLHMubWF0ZXJpYWxJbmRleC5sZW5ndGgtZixoKX0wPT09by5ncm91cHMubGVuZ3RoJiZvLmFkZEdyb3VwKDAscy5tYXRlcmlhbEluZGV4Lmxlbmd0aCxzLm1hdGVyaWFsSW5kZXhbMF0pfXJldHVybiB0aGlzLmFkZE1vcnBoVGFyZ2V0cyhvLHQsbixpKSxvfSxwYXJzZUdlb05vZGU6ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtpZihuLnZlcnRleFBvc2l0aW9ucz12b2lkIDAhPT10LlZlcnRpY2VzP3QuVmVydGljZXMuYTpbXSxuLnZlcnRleEluZGljZXM9dm9pZCAwIT09dC5Qb2x5Z29uVmVydGV4SW5kZXg/dC5Qb2x5Z29uVmVydGV4SW5kZXguYTpbXSx0LkxheWVyRWxlbWVudENvbG9yJiYobi5jb2xvcj10aGlzLnBhcnNlVmVydGV4Q29sb3JzKHQuTGF5ZXJFbGVtZW50Q29sb3JbMF0pKSx0LkxheWVyRWxlbWVudE1hdGVyaWFsJiYobi5tYXRlcmlhbD10aGlzLnBhcnNlTWF0ZXJpYWxJbmRpY2VzKHQuTGF5ZXJFbGVtZW50TWF0ZXJpYWxbMF0pKSx0LkxheWVyRWxlbWVudE5vcm1hbCYmKG4ubm9ybWFsPXRoaXMucGFyc2VOb3JtYWxzKHQuTGF5ZXJFbGVtZW50Tm9ybWFsWzBdKSksdC5MYXllckVsZW1lbnRVVil7bi51dj1bXTtmb3IodmFyIHI9MDt0LkxheWVyRWxlbWVudFVWW3JdOyl0LkxheWVyRWxlbWVudFVWW3JdLlVWJiZuLnV2LnB1c2godGhpcy5wYXJzZVVWcyh0LkxheWVyRWxlbWVudFVWW3JdKSkscisrfXJldHVybiBuLndlaWdodFRhYmxlPXt9LG51bGwhPT1lJiYobi5za2VsZXRvbj1lLGUucmF3Qm9uZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LmluZGljZXMuZm9yRWFjaCgoZnVuY3Rpb24ocixpKXt2b2lkIDA9PT1uLndlaWdodFRhYmxlW3JdJiYobi53ZWlnaHRUYWJsZVtyXT1bXSksbi53ZWlnaHRUYWJsZVtyXS5wdXNoKHtpZDplLHdlaWdodDp0LndlaWdodHNbaV19KX0pKX0pKSksbn0sZ2VuQnVmZmVyczpmdW5jdGlvbih0KXt2YXIgZT17dmVydGV4OltdLG5vcm1hbDpbXSxjb2xvcnM6W10sdXZzOltdLG1hdGVyaWFsSW5kZXg6W10sdmVydGV4V2VpZ2h0czpbXSx3ZWlnaHRzSW5kaWNlczpbXX0sbj0wLHI9MCxpPSExLG89W10sYT1bXSxzPVtdLGM9W10sbD1bXSx1PVtdLGg9dGhpcztyZXR1cm4gdC52ZXJ0ZXhJbmRpY2VzLmZvckVhY2goKGZ1bmN0aW9uKGQscCl7dmFyIGY9ITE7ZDwwJiYoZF49LTEsZj0hMCk7dmFyIGc9W10sdj1bXTtpZihvLnB1c2goMypkLDMqZCsxLDMqZCsyKSx0LmNvbG9yKXt2YXIgeT1tKHAsbixkLHQuY29sb3IpO3MucHVzaCh5WzBdLHlbMV0seVsyXSl9aWYodC5za2VsZXRvbil7aWYodm9pZCAwIT09dC53ZWlnaHRUYWJsZVtkXSYmdC53ZWlnaHRUYWJsZVtkXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2LnB1c2godC53ZWlnaHQpLGcucHVzaCh0LmlkKX0pKSx2Lmxlbmd0aD40KXtpfHwoY29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiBWZXJ0ZXggaGFzIG1vcmUgdGhhbiA0IHNraW5uaW5nIHdlaWdodHMgYXNzaWduZWQgdG8gdmVydGV4LiBEZWxldGluZyBhZGRpdGlvbmFsIHdlaWdodHMuXCIpLGk9ITApO3ZhciB4PVswLDAsMCwwXSxiPVswLDAsMCwwXTt2LmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPWdbZV07Yi5mb3JFYWNoKChmdW5jdGlvbih0LGUsaSl7aWYobj50KXtpW2VdPW4sbj10O3ZhciBvPXhbZV07eFtlXT1yLHI9b319KSl9KSksZz14LHY9Yn1mb3IoO3YubGVuZ3RoPDQ7KXYucHVzaCgwKSxnLnB1c2goMCk7Zm9yKHZhciB3PTA7dzw0OysrdylsLnB1c2godlt3XSksdS5wdXNoKGdbd10pfWlmKHQubm9ybWFsKXt5PW0ocCxuLGQsdC5ub3JtYWwpO2EucHVzaCh5WzBdLHlbMV0seVsyXSl9aWYodC5tYXRlcmlhbCYmXCJBbGxTYW1lXCIhPT10Lm1hdGVyaWFsLm1hcHBpbmdUeXBlKXZhciBfPW0ocCxuLGQsdC5tYXRlcmlhbClbMF07dC51diYmdC51di5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3ZhciByPW0ocCxuLGQsdCk7dm9pZCAwPT09Y1tlXSYmKGNbZV09W10pLGNbZV0ucHVzaChyWzBdKSxjW2VdLnB1c2goclsxXSl9KSkscisrLGYmJihoLmdlbkZhY2UoZSx0LG8sXyxhLHMsYyxsLHUsciksbisrLHI9MCxvPVtdLGE9W10scz1bXSxjPVtdLGw9W10sdT1bXSl9KSksZX0sZ2VuRmFjZTpmdW5jdGlvbih0LGUsbixyLGksbyxhLHMsYyxsKXtmb3IodmFyIHU9Mjt1PGw7dSsrKXQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblswXV0pLHQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblsxXV0pLHQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblsyXV0pLHQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblszKih1LTEpXV0pLHQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblszKih1LTEpKzFdXSksdC52ZXJ0ZXgucHVzaChlLnZlcnRleFBvc2l0aW9uc1tuWzMqKHUtMSkrMl1dKSx0LnZlcnRleC5wdXNoKGUudmVydGV4UG9zaXRpb25zW25bMyp1XV0pLHQudmVydGV4LnB1c2goZS52ZXJ0ZXhQb3NpdGlvbnNbblszKnUrMV1dKSx0LnZlcnRleC5wdXNoKGUudmVydGV4UG9zaXRpb25zW25bMyp1KzJdXSksZS5za2VsZXRvbiYmKHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbMF0pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbMV0pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbMl0pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbM10pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbNCoodS0xKV0pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbNCoodS0xKSsxXSksdC52ZXJ0ZXhXZWlnaHRzLnB1c2goc1s0Kih1LTEpKzJdKSx0LnZlcnRleFdlaWdodHMucHVzaChzWzQqKHUtMSkrM10pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbNCp1XSksdC52ZXJ0ZXhXZWlnaHRzLnB1c2goc1s0KnUrMV0pLHQudmVydGV4V2VpZ2h0cy5wdXNoKHNbNCp1KzJdKSx0LnZlcnRleFdlaWdodHMucHVzaChzWzQqdSszXSksdC53ZWlnaHRzSW5kaWNlcy5wdXNoKGNbMF0pLHQud2VpZ2h0c0luZGljZXMucHVzaChjWzFdKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1syXSksdC53ZWlnaHRzSW5kaWNlcy5wdXNoKGNbM10pLHQud2VpZ2h0c0luZGljZXMucHVzaChjWzQqKHUtMSldKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1s0Kih1LTEpKzFdKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1s0Kih1LTEpKzJdKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1s0Kih1LTEpKzNdKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1s0KnVdKSx0LndlaWdodHNJbmRpY2VzLnB1c2goY1s0KnUrMV0pLHQud2VpZ2h0c0luZGljZXMucHVzaChjWzQqdSsyXSksdC53ZWlnaHRzSW5kaWNlcy5wdXNoKGNbNCp1KzNdKSksZS5jb2xvciYmKHQuY29sb3JzLnB1c2gob1swXSksdC5jb2xvcnMucHVzaChvWzFdKSx0LmNvbG9ycy5wdXNoKG9bMl0pLHQuY29sb3JzLnB1c2gob1szKih1LTEpXSksdC5jb2xvcnMucHVzaChvWzMqKHUtMSkrMV0pLHQuY29sb3JzLnB1c2gob1szKih1LTEpKzJdKSx0LmNvbG9ycy5wdXNoKG9bMyp1XSksdC5jb2xvcnMucHVzaChvWzMqdSsxXSksdC5jb2xvcnMucHVzaChvWzMqdSsyXSkpLGUubWF0ZXJpYWwmJlwiQWxsU2FtZVwiIT09ZS5tYXRlcmlhbC5tYXBwaW5nVHlwZSYmKHQubWF0ZXJpYWxJbmRleC5wdXNoKHIpLHQubWF0ZXJpYWxJbmRleC5wdXNoKHIpLHQubWF0ZXJpYWxJbmRleC5wdXNoKHIpKSxlLm5vcm1hbCYmKHQubm9ybWFsLnB1c2goaVswXSksdC5ub3JtYWwucHVzaChpWzFdKSx0Lm5vcm1hbC5wdXNoKGlbMl0pLHQubm9ybWFsLnB1c2goaVszKih1LTEpXSksdC5ub3JtYWwucHVzaChpWzMqKHUtMSkrMV0pLHQubm9ybWFsLnB1c2goaVszKih1LTEpKzJdKSx0Lm5vcm1hbC5wdXNoKGlbMyp1XSksdC5ub3JtYWwucHVzaChpWzMqdSsxXSksdC5ub3JtYWwucHVzaChpWzMqdSsyXSkpLGUudXYmJmUudXYuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT10LnV2c1tuXSYmKHQudXZzW25dPVtdKSx0LnV2c1tuXS5wdXNoKGFbbl1bMF0pLHQudXZzW25dLnB1c2goYVtuXVsxXSksdC51dnNbbl0ucHVzaChhW25dWzIqKHUtMSldKSx0LnV2c1tuXS5wdXNoKGFbbl1bMioodS0xKSsxXSksdC51dnNbbl0ucHVzaChhW25dWzIqdV0pLHQudXZzW25dLnB1c2goYVtuXVsyKnUrMV0pfSkpfSxhZGRNb3JwaFRhcmdldHM6ZnVuY3Rpb24oZSxuLHIsaSl7aWYoMCE9PXIubGVuZ3RoKXtlLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSEwLGUubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uPVtdO3ZhciBvPXRoaXM7ci5mb3JFYWNoKChmdW5jdGlvbihyKXtyLnJhd1RhcmdldHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGE9dC5PYmplY3RzLkdlb21ldHJ5W3IuZ2VvSURdO3ZvaWQgMCE9PWEmJm8uZ2VuTW9ycGhHZW9tZXRyeShlLG4sYSxpLHIubmFtZSl9KSl9KSl9fSxnZW5Nb3JwaEdlb21ldHJ5OmZ1bmN0aW9uKHQsZSxuLGksbyl7Zm9yKHZhciBhPXZvaWQgMCE9PWUuUG9seWdvblZlcnRleEluZGV4P2UuUG9seWdvblZlcnRleEluZGV4LmE6W10scz12b2lkIDAhPT1uLlZlcnRpY2VzP24uVmVydGljZXMuYTpbXSxjPXZvaWQgMCE9PW4uSW5kZXhlcz9uLkluZGV4ZXMuYTpbXSxsPTMqdC5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50LHU9bmV3IEZsb2F0MzJBcnJheShsKSxoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBkPTMqY1toXTt1W2RdPXNbMypoXSx1W2QrMV09c1szKmgrMV0sdVtkKzJdPXNbMypoKzJdfXZhciBwPXt2ZXJ0ZXhJbmRpY2VzOmEsdmVydGV4UG9zaXRpb25zOnV9LGY9dGhpcy5nZW5CdWZmZXJzKHApLG09bmV3IHIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShmLnZlcnRleCwzKTttLm5hbWU9b3x8bi5hdHRyTmFtZSxtLmFwcGx5TWF0cml4NChpKSx0Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbi5wdXNoKG0pfSxwYXJzZU5vcm1hbHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5NYXBwaW5nSW5mb3JtYXRpb25UeXBlLG49dC5SZWZlcmVuY2VJbmZvcm1hdGlvblR5cGUscj10Lk5vcm1hbHMuYSxpPVtdO3JldHVyblwiSW5kZXhUb0RpcmVjdFwiPT09biYmKFwiTm9ybWFsSW5kZXhcImluIHQ/aT10Lk5vcm1hbEluZGV4LmE6XCJOb3JtYWxzSW5kZXhcImluIHQmJihpPXQuTm9ybWFsc0luZGV4LmEpKSx7ZGF0YVNpemU6MyxidWZmZXI6cixpbmRpY2VzOmksbWFwcGluZ1R5cGU6ZSxyZWZlcmVuY2VUeXBlOm59fSxwYXJzZVVWczpmdW5jdGlvbih0KXt2YXIgZT10Lk1hcHBpbmdJbmZvcm1hdGlvblR5cGUsbj10LlJlZmVyZW5jZUluZm9ybWF0aW9uVHlwZSxyPXQuVVYuYSxpPVtdO3JldHVyblwiSW5kZXhUb0RpcmVjdFwiPT09biYmKGk9dC5VVkluZGV4LmEpLHtkYXRhU2l6ZToyLGJ1ZmZlcjpyLGluZGljZXM6aSxtYXBwaW5nVHlwZTplLHJlZmVyZW5jZVR5cGU6bn19LHBhcnNlVmVydGV4Q29sb3JzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuTWFwcGluZ0luZm9ybWF0aW9uVHlwZSxuPXQuUmVmZXJlbmNlSW5mb3JtYXRpb25UeXBlLHI9dC5Db2xvcnMuYSxpPVtdO3JldHVyblwiSW5kZXhUb0RpcmVjdFwiPT09biYmKGk9dC5Db2xvckluZGV4LmEpLHtkYXRhU2l6ZTo0LGJ1ZmZlcjpyLGluZGljZXM6aSxtYXBwaW5nVHlwZTplLHJlZmVyZW5jZVR5cGU6bn19LHBhcnNlTWF0ZXJpYWxJbmRpY2VzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuTWFwcGluZ0luZm9ybWF0aW9uVHlwZSxuPXQuUmVmZXJlbmNlSW5mb3JtYXRpb25UeXBlO2lmKFwiTm9NYXBwaW5nSW5mb3JtYXRpb25cIj09PWUpcmV0dXJue2RhdGFTaXplOjEsYnVmZmVyOlswXSxpbmRpY2VzOlswXSxtYXBwaW5nVHlwZTpcIkFsbFNhbWVcIixyZWZlcmVuY2VUeXBlOm59O2Zvcih2YXIgcj10Lk1hdGVyaWFscy5hLGk9W10sbz0wO288ci5sZW5ndGg7KytvKWkucHVzaChvKTtyZXR1cm57ZGF0YVNpemU6MSxidWZmZXI6cixpbmRpY2VzOmksbWFwcGluZ1R5cGU6ZSxyZWZlcmVuY2VUeXBlOm59fSxwYXJzZU51cmJzR2VvbWV0cnk6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09aylyZXR1cm4gY29uc29sZS5lcnJvcihcIlRIUkVFLkZCWExvYWRlcjogVGhlIGxvYWRlciByZWxpZXMgb24gTlVSQlNDdXJ2ZSBmb3IgYW55IG51cmJzIHByZXNlbnQgaW4gdGhlIG1vZGVsLiBOdXJicyB3aWxsIHNob3cgdXAgYXMgZW1wdHkgZ2VvbWV0cnkuXCIpLG5ldyByLkJ1ZmZlckdlb21ldHJ5O3ZhciBlPXBhcnNlSW50KHQuT3JkZXIpO2lmKGlzTmFOKGUpKXJldHVybiBjb25zb2xlLmVycm9yKFwiVEhSRUUuRkJYTG9hZGVyOiBJbnZhbGlkIE9yZGVyICVzIGdpdmVuIGZvciBnZW9tZXRyeSBJRDogJXNcIix0Lk9yZGVyLHQuaWQpLG5ldyByLkJ1ZmZlckdlb21ldHJ5O2Zvcih2YXIgbixpLG89ZS0xLGE9dC5Lbm90VmVjdG9yLmEscz1bXSxjPXQuUG9pbnRzLmEsbD0wLHU9Yy5sZW5ndGg7bDx1O2wrPTQpcy5wdXNoKChuZXcgci5WZWN0b3I0KS5mcm9tQXJyYXkoYyxsKSk7aWYoXCJDbG9zZWRcIj09PXQuRm9ybSlzLnB1c2goc1swXSk7ZWxzZSBpZihcIlBlcmlvZGljXCI9PT10LkZvcm0pe249byxpPWEubGVuZ3RoLTEtbjtmb3IobD0wO2w8bzsrK2wpcy5wdXNoKHNbbF0pfXZhciBoPW5ldyBrKG8sYSxzLG4saSkuZ2V0UG9pbnRzKDcqcy5sZW5ndGgpLGQ9bmV3IEZsb2F0MzJBcnJheSgzKmgubGVuZ3RoKTtoLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dC50b0FycmF5KGQsMyplKX0pKTt2YXIgcD1uZXcgci5CdWZmZXJHZW9tZXRyeTtyZXR1cm4gcC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyByLkJ1ZmZlckF0dHJpYnV0ZShkLDMpKSxwfX0scy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnMscGFyc2U6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMucGFyc2VDbGlwcygpO2lmKHZvaWQgMCE9PWUpZm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl0saT10aGlzLmFkZENsaXAocik7dC5wdXNoKGkpfXJldHVybiB0fSxwYXJzZUNsaXBzOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dC5PYmplY3RzLkFuaW1hdGlvbkN1cnZlKXt2YXIgZT10aGlzLnBhcnNlQW5pbWF0aW9uQ3VydmVOb2RlcygpO3RoaXMucGFyc2VBbmltYXRpb25DdXJ2ZXMoZSk7dmFyIG49dGhpcy5wYXJzZUFuaW1hdGlvbkxheWVycyhlKTtyZXR1cm4gdGhpcy5wYXJzZUFuaW1TdGFja3Mobil9fSxwYXJzZUFuaW1hdGlvbkN1cnZlTm9kZXM6ZnVuY3Rpb24oKXt2YXIgZT10Lk9iamVjdHMuQW5pbWF0aW9uQ3VydmVOb2RlLG49bmV3IE1hcDtmb3IodmFyIHIgaW4gZSl7dmFyIGk9ZVtyXTtpZihudWxsIT09aS5hdHRyTmFtZS5tYXRjaCgvU3xSfFR8RGVmb3JtUGVyY2VudC8pKXt2YXIgbz17aWQ6aS5pZCxhdHRyOmkuYXR0ck5hbWUsY3VydmVzOnt9fTtuLnNldChvLmlkLG8pfX1yZXR1cm4gbn0scGFyc2VBbmltYXRpb25DdXJ2ZXM6ZnVuY3Rpb24obil7dmFyIHI9dC5PYmplY3RzLkFuaW1hdGlvbkN1cnZlO2Zvcih2YXIgaSBpbiByKXt2YXIgbz17aWQ6cltpXS5pZCx0aW1lczpyW2ldLktleVRpbWUuYS5tYXAocCksdmFsdWVzOnJbaV0uS2V5VmFsdWVGbG9hdC5hfSxhPWUuZ2V0KG8uaWQpO2lmKHZvaWQgMCE9PWEpe3ZhciBzPWEucGFyZW50c1swXS5JRCxjPWEucGFyZW50c1swXS5yZWxhdGlvbnNoaXA7Yy5tYXRjaCgvWC8pP24uZ2V0KHMpLmN1cnZlcy54PW86Yy5tYXRjaCgvWS8pP24uZ2V0KHMpLmN1cnZlcy55PW86Yy5tYXRjaCgvWi8pP24uZ2V0KHMpLmN1cnZlcy56PW86Yy5tYXRjaCgvZHxEZWZvcm1QZXJjZW50LykmJm4uaGFzKHMpJiYobi5nZXQocykuY3VydmVzLm1vcnBoPW8pfX19LHBhcnNlQW5pbWF0aW9uTGF5ZXJzOmZ1bmN0aW9uKGkpe3ZhciBvPXQuT2JqZWN0cy5BbmltYXRpb25MYXllcixhPW5ldyBNYXA7Zm9yKHZhciBzIGluIG8pe3ZhciBjPVtdLGw9ZS5nZXQocGFyc2VJbnQocykpO2lmKHZvaWQgMCE9PWwpbC5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihvLGEpe2lmKGkuaGFzKG8uSUQpKXt2YXIgcz1pLmdldChvLklEKTtpZih2b2lkIDAhPT1zLmN1cnZlcy54fHx2b2lkIDAhPT1zLmN1cnZlcy55fHx2b2lkIDAhPT1zLmN1cnZlcy56KXtpZih2b2lkIDA9PT1jW2FdKWlmKHZvaWQgMCE9PShmPWUuZ2V0KG8uSUQpLnBhcmVudHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dC5yZWxhdGlvbnNoaXB9KSlbMF0uSUQpKXtpZih2b2lkIDA9PT0odT10Lk9iamVjdHMuTW9kZWxbZi50b1N0cmluZygpXSkpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiBFbmNvdW50ZXJlZCBhIHVudXNlZCBjdXJ2ZS5cIixvKTt2YXIgbD17bW9kZWxOYW1lOnUuYXR0ck5hbWU/ci5Qcm9wZXJ0eUJpbmRpbmcuc2FuaXRpemVOb2RlTmFtZSh1LmF0dHJOYW1lKTpcIlwiLElEOnUuaWQsaW5pdGlhbFBvc2l0aW9uOlswLDAsMF0saW5pdGlhbFJvdGF0aW9uOlswLDAsMF0saW5pdGlhbFNjYWxlOlsxLDEsMV19O24udHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QuSUQ9PT11LmlkJiYobC50cmFuc2Zvcm09dC5tYXRyaXgsdC51c2VyRGF0YS50cmFuc2Zvcm1EYXRhJiYobC5ldWxlck9yZGVyPXQudXNlckRhdGEudHJhbnNmb3JtRGF0YS5ldWxlck9yZGVyKSl9KSksbC50cmFuc2Zvcm18fChsLnRyYW5zZm9ybT1uZXcgci5NYXRyaXg0KSxcIlByZVJvdGF0aW9uXCJpbiB1JiYobC5wcmVSb3RhdGlvbj11LlByZVJvdGF0aW9uLnZhbHVlKSxcIlBvc3RSb3RhdGlvblwiaW4gdSYmKGwucG9zdFJvdGF0aW9uPXUuUG9zdFJvdGF0aW9uLnZhbHVlKSxjW2FdPWx9Y1thXSYmKGNbYV1bcy5hdHRyXT1zKX1lbHNlIGlmKHZvaWQgMCE9PXMuY3VydmVzLm1vcnBoKXtpZih2b2lkIDA9PT1jW2FdKXt2YXIgdSxoPWUuZ2V0KG8uSUQpLnBhcmVudHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dC5yZWxhdGlvbnNoaXB9KSlbMF0uSUQsZD1lLmdldChoKS5wYXJlbnRzWzBdLklELHA9ZS5nZXQoZCkucGFyZW50c1swXS5JRCxmPWUuZ2V0KHApLnBhcmVudHNbMF0uSUQ7bD17bW9kZWxOYW1lOih1PXQuT2JqZWN0cy5Nb2RlbFtmXSkuYXR0ck5hbWU/ci5Qcm9wZXJ0eUJpbmRpbmcuc2FuaXRpemVOb2RlTmFtZSh1LmF0dHJOYW1lKTpcIlwiLG1vcnBoTmFtZTp0Lk9iamVjdHMuRGVmb3JtZXJbaF0uYXR0ck5hbWV9O2NbYV09bH1jW2FdW3MuYXR0cl09c319fSkpLGEuc2V0KHBhcnNlSW50KHMpLGMpfXJldHVybiBhfSxwYXJzZUFuaW1TdGFja3M6ZnVuY3Rpb24obil7dmFyIHI9dC5PYmplY3RzLkFuaW1hdGlvblN0YWNrLGk9e307Zm9yKHZhciBvIGluIHIpe3ZhciBhPWUuZ2V0KHBhcnNlSW50KG8pKS5jaGlsZHJlbjthLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oXCJUSFJFRS5GQlhMb2FkZXI6IEVuY291bnRlcmVkIGFuIGFuaW1hdGlvbiBzdGFjayB3aXRoIG11bHRpcGxlIGxheWVycywgdGhpcyBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC4gSWdub3Jpbmcgc3Vic2VxdWVudCBsYXllcnMuXCIpO3ZhciBzPW4uZ2V0KGFbMF0uSUQpO2lbb109e25hbWU6cltvXS5hdHRyTmFtZSxsYXllcjpzfX1yZXR1cm4gaX0sYWRkQ2xpcDpmdW5jdGlvbih0KXt2YXIgZT1bXSxuPXRoaXM7cmV0dXJuIHQubGF5ZXIuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZT1lLmNvbmNhdChuLmdlbmVyYXRlVHJhY2tzKHQpKX0pKSxuZXcgci5BbmltYXRpb25DbGlwKHQubmFtZSwtMSxlKX0sZ2VuZXJhdGVUcmFja3M6ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1uZXcgci5WZWN0b3IzLGk9bmV3IHIuUXVhdGVybmlvbixvPW5ldyByLlZlY3RvcjM7aWYodC50cmFuc2Zvcm0mJnQudHJhbnNmb3JtLmRlY29tcG9zZShuLGksbyksbj1uLnRvQXJyYXkoKSxpPShuZXcgci5FdWxlcikuc2V0RnJvbVF1YXRlcm5pb24oaSx0LmV1bGVyT3JkZXIpLnRvQXJyYXkoKSxvPW8udG9BcnJheSgpLHZvaWQgMCE9PXQuVCYmT2JqZWN0LmtleXModC5ULmN1cnZlcykubGVuZ3RoPjApe3ZhciBhPXRoaXMuZ2VuZXJhdGVWZWN0b3JUcmFjayh0Lm1vZGVsTmFtZSx0LlQuY3VydmVzLG4sXCJwb3NpdGlvblwiKTt2b2lkIDAhPT1hJiZlLnB1c2goYSl9aWYodm9pZCAwIT09dC5SJiZPYmplY3Qua2V5cyh0LlIuY3VydmVzKS5sZW5ndGg+MCl7dmFyIHM9dGhpcy5nZW5lcmF0ZVJvdGF0aW9uVHJhY2sodC5tb2RlbE5hbWUsdC5SLmN1cnZlcyxpLHQucHJlUm90YXRpb24sdC5wb3N0Um90YXRpb24sdC5ldWxlck9yZGVyKTt2b2lkIDAhPT1zJiZlLnB1c2gocyl9aWYodm9pZCAwIT09dC5TJiZPYmplY3Qua2V5cyh0LlMuY3VydmVzKS5sZW5ndGg+MCl7dmFyIGM9dGhpcy5nZW5lcmF0ZVZlY3RvclRyYWNrKHQubW9kZWxOYW1lLHQuUy5jdXJ2ZXMsbyxcInNjYWxlXCIpO3ZvaWQgMCE9PWMmJmUucHVzaChjKX1pZih2b2lkIDAhPT10LkRlZm9ybVBlcmNlbnQpe3ZhciBsPXRoaXMuZ2VuZXJhdGVNb3JwaFRyYWNrKHQpO3ZvaWQgMCE9PWwmJmUucHVzaChsKX1yZXR1cm4gZX0sZ2VuZXJhdGVWZWN0b3JUcmFjazpmdW5jdGlvbih0LGUsbixpKXt2YXIgbz10aGlzLmdldFRpbWVzRm9yQWxsQXhlcyhlKSxhPXRoaXMuZ2V0S2V5ZnJhbWVUcmFja1ZhbHVlcyhvLGUsbik7cmV0dXJuIG5ldyByLlZlY3RvcktleWZyYW1lVHJhY2sodCtcIi5cIitpLG8sYSl9LGdlbmVyYXRlUm90YXRpb25UcmFjazpmdW5jdGlvbih0LGUsbixpLG8sYSl7dm9pZCAwIT09ZS54JiYodGhpcy5pbnRlcnBvbGF0ZVJvdGF0aW9ucyhlLngpLGUueC52YWx1ZXM9ZS54LnZhbHVlcy5tYXAoci5NYXRoVXRpbHMuZGVnVG9SYWQpKSx2b2lkIDAhPT1lLnkmJih0aGlzLmludGVycG9sYXRlUm90YXRpb25zKGUueSksZS55LnZhbHVlcz1lLnkudmFsdWVzLm1hcChyLk1hdGhVdGlscy5kZWdUb1JhZCkpLHZvaWQgMCE9PWUueiYmKHRoaXMuaW50ZXJwb2xhdGVSb3RhdGlvbnMoZS56KSxlLnoudmFsdWVzPWUuei52YWx1ZXMubWFwKHIuTWF0aFV0aWxzLmRlZ1RvUmFkKSk7dmFyIHM9dGhpcy5nZXRUaW1lc0ZvckFsbEF4ZXMoZSksYz10aGlzLmdldEtleWZyYW1lVHJhY2tWYWx1ZXMocyxlLG4pO3ZvaWQgMCE9PWkmJigoaT1pLm1hcChyLk1hdGhVdGlscy5kZWdUb1JhZCkpLnB1c2goYSksaT0obmV3IHIuRXVsZXIpLmZyb21BcnJheShpKSxpPShuZXcgci5RdWF0ZXJuaW9uKS5zZXRGcm9tRXVsZXIoaSkpLHZvaWQgMCE9PW8mJigobz1vLm1hcChyLk1hdGhVdGlscy5kZWdUb1JhZCkpLnB1c2goYSksbz0obmV3IHIuRXVsZXIpLmZyb21BcnJheShvKSxvPShuZXcgci5RdWF0ZXJuaW9uKS5zZXRGcm9tRXVsZXIobykuaW52ZXJ0KCkpO2Zvcih2YXIgbD1uZXcgci5RdWF0ZXJuaW9uLHU9bmV3IHIuRXVsZXIsaD1bXSxkPTA7ZDxjLmxlbmd0aDtkKz0zKXUuc2V0KGNbZF0sY1tkKzFdLGNbZCsyXSxhKSxsLnNldEZyb21FdWxlcih1KSx2b2lkIDAhPT1pJiZsLnByZW11bHRpcGx5KGkpLHZvaWQgMCE9PW8mJmwubXVsdGlwbHkobyksbC50b0FycmF5KGgsZC8zKjQpO3JldHVybiBuZXcgci5RdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayh0K1wiLnF1YXRlcm5pb25cIixzLGgpfSxnZW5lcmF0ZU1vcnBoVHJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9dC5EZWZvcm1QZXJjZW50LmN1cnZlcy5tb3JwaCxpPWUudmFsdWVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvMTAwfSkpLG89bi5nZXRPYmplY3RCeU5hbWUodC5tb2RlbE5hbWUpLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0Lm1vcnBoTmFtZV07cmV0dXJuIG5ldyByLk51bWJlcktleWZyYW1lVHJhY2sodC5tb2RlbE5hbWUrXCIubW9ycGhUYXJnZXRJbmZsdWVuY2VzW1wiK28rXCJdXCIsZS50aW1lcyxpKX0sZ2V0VGltZXNGb3JBbGxBeGVzOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB2b2lkIDAhPT10LngmJihlPWUuY29uY2F0KHQueC50aW1lcykpLHZvaWQgMCE9PXQueSYmKGU9ZS5jb25jYXQodC55LnRpbWVzKSksdm9pZCAwIT09dC56JiYoZT1lLmNvbmNhdCh0LnoudGltZXMpKSxlPWUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLmZpbHRlcigoZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLmluZGV4T2YodCk9PWV9KSl9LGdldEtleWZyYW1lVHJhY2tWYWx1ZXM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4saT1bXSxvPS0xLGE9LTEscz0tMTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihlLngmJihvPWUueC50aW1lcy5pbmRleE9mKHQpKSxlLnkmJihhPWUueS50aW1lcy5pbmRleE9mKHQpKSxlLnomJihzPWUuei50aW1lcy5pbmRleE9mKHQpKSwtMSE9PW8pe3ZhciBuPWUueC52YWx1ZXNbb107aS5wdXNoKG4pLHJbMF09bn1lbHNlIGkucHVzaChyWzBdKTtpZigtMSE9PWEpe3ZhciBjPWUueS52YWx1ZXNbYV07aS5wdXNoKGMpLHJbMV09Y31lbHNlIGkucHVzaChyWzFdKTtpZigtMSE9PXMpe3ZhciBsPWUuei52YWx1ZXNbc107aS5wdXNoKGwpLHJbMl09bH1lbHNlIGkucHVzaChyWzJdKX0pKSxpfSxpbnRlcnBvbGF0ZVJvdGF0aW9uczpmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPHQudmFsdWVzLmxlbmd0aDtlKyspe3ZhciBuPXQudmFsdWVzW2UtMV0scj10LnZhbHVlc1tlXS1uLGk9TWF0aC5hYnMocik7aWYoaT49MTgwKXtmb3IodmFyIG89aS8xODAsYT1yL28scz1uK2EsYz10LnRpbWVzW2UtMV0sbD0odC50aW1lc1tlXS1jKS9vLHU9YytsLGg9W10sZD1bXTt1PHQudGltZXNbZV07KWgucHVzaCh1KSx1Kz1sLGQucHVzaChzKSxzKz1hO3QudGltZXM9Xyh0LnRpbWVzLGUsaCksdC52YWx1ZXM9Xyh0LnZhbHVlcyxlLGQpfX19fSxjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YyxnZXRQcmV2Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVTdGFja1t0aGlzLmN1cnJlbnRJbmRlbnQtMl19LGdldEN1cnJlbnROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVN0YWNrW3RoaXMuY3VycmVudEluZGVudC0xXX0sZ2V0Q3VycmVudFByb3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50UHJvcH0scHVzaFN0YWNrOmZ1bmN0aW9uKHQpe3RoaXMubm9kZVN0YWNrLnB1c2godCksdGhpcy5jdXJyZW50SW5kZW50Kz0xfSxwb3BTdGFjazpmdW5jdGlvbigpe3RoaXMubm9kZVN0YWNrLnBvcCgpLHRoaXMuY3VycmVudEluZGVudC09MX0sc2V0Q3VycmVudFByb3A6ZnVuY3Rpb24odCxlKXt0aGlzLmN1cnJlbnRQcm9wPXQsdGhpcy5jdXJyZW50UHJvcE5hbWU9ZX0scGFyc2U6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50SW5kZW50PTAsdGhpcy5hbGxOb2Rlcz1uZXcgaCx0aGlzLm5vZGVTdGFjaz1bXSx0aGlzLmN1cnJlbnRQcm9wPVtdLHRoaXMuY3VycmVudFByb3BOYW1lPVwiXCI7dmFyIGU9dGhpcyxuPXQuc3BsaXQoL1tcXHJcXG5dKy8pO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIGk9dC5tYXRjaCgvXltcXHNcXHRdKjsvKSxvPXQubWF0Y2goL15bXFxzXFx0XSokLyk7aWYoIWkmJiFvKXt2YXIgYT10Lm1hdGNoKFwiXlxcXFx0e1wiK2UuY3VycmVudEluZGVudCtcIn0oXFxcXHcrKTooLiope1wiLFwiXCIpLHM9dC5tYXRjaChcIl5cXFxcdHtcIitlLmN1cnJlbnRJbmRlbnQrXCJ9KFxcXFx3Kyk6W1xcXFxzXFxcXHRcXFxcclxcXFxuXSguKilcIiksYz10Lm1hdGNoKFwiXlxcXFx0e1wiKyhlLmN1cnJlbnRJbmRlbnQtMSkrXCJ9fVwiKTthP2UucGFyc2VOb2RlQmVnaW4odCxhKTpzP2UucGFyc2VOb2RlUHJvcGVydHkodCxzLG5bKytyXSk6Yz9lLnBvcFN0YWNrKCk6dC5tYXRjaCgvXlteXFxzXFx0fV0vKSYmZS5wYXJzZU5vZGVQcm9wZXJ0eUNvbnRpbnVlZCh0KX19KSksdGhpcy5hbGxOb2Rlc30scGFyc2VOb2RlQmVnaW46ZnVuY3Rpb24odCxlKXt2YXIgbj1lWzFdLnRyaW0oKS5yZXBsYWNlKC9eXCIvLFwiXCIpLnJlcGxhY2UoL1wiJC8sXCJcIikscj1lWzJdLnNwbGl0KFwiLFwiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKS5yZXBsYWNlKC9eXCIvLFwiXCIpLnJlcGxhY2UoL1wiJC8sXCJcIil9KSksaT17bmFtZTpufSxvPXRoaXMucGFyc2VOb2RlQXR0cihyKSxhPXRoaXMuZ2V0Q3VycmVudE5vZGUoKTswPT09dGhpcy5jdXJyZW50SW5kZW50P3RoaXMuYWxsTm9kZXMuYWRkKG4saSk6biBpbiBhPyhcIlBvc2VOb2RlXCI9PT1uP2EuUG9zZU5vZGUucHVzaChpKTp2b2lkIDAhPT1hW25dLmlkJiYoYVtuXT17fSxhW25dW2Fbbl0uaWRdPWFbbl0pLFwiXCIhPT1vLmlkJiYoYVtuXVtvLmlkXT1pKSk6XCJudW1iZXJcIj09dHlwZW9mIG8uaWQ/KGFbbl09e30sYVtuXVtvLmlkXT1pKTpcIlByb3BlcnRpZXM3MFwiIT09biYmKGFbbl09XCJQb3NlTm9kZVwiPT09bj9baV06aSksXCJudW1iZXJcIj09dHlwZW9mIG8uaWQmJihpLmlkPW8uaWQpLFwiXCIhPT1vLm5hbWUmJihpLmF0dHJOYW1lPW8ubmFtZSksXCJcIiE9PW8udHlwZSYmKGkuYXR0clR5cGU9by50eXBlKSx0aGlzLnB1c2hTdGFjayhpKX0scGFyc2VOb2RlQXR0cjpmdW5jdGlvbih0KXt2YXIgZT10WzBdO1wiXCIhPT10WzBdJiYoZT1wYXJzZUludCh0WzBdKSxpc05hTihlKSYmKGU9dFswXSkpO3ZhciBuPVwiXCIscj1cIlwiO3JldHVybiB0Lmxlbmd0aD4xJiYobj10WzFdLnJlcGxhY2UoL14oXFx3Kyk6Oi8sXCJcIikscj10WzJdKSx7aWQ6ZSxuYW1lOm4sdHlwZTpyfX0scGFyc2VOb2RlUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWVbMV0ucmVwbGFjZSgvXlwiLyxcIlwiKS5yZXBsYWNlKC9cIiQvLFwiXCIpLnRyaW0oKSxpPWVbMl0ucmVwbGFjZSgvXlwiLyxcIlwiKS5yZXBsYWNlKC9cIiQvLFwiXCIpLnRyaW0oKTtcIkNvbnRlbnRcIj09PXImJlwiLFwiPT09aSYmKGk9bi5yZXBsYWNlKC9cIi9nLFwiXCIpLnJlcGxhY2UoLywkLyxcIlwiKS50cmltKCkpO3ZhciBvPXRoaXMuZ2V0Q3VycmVudE5vZGUoKTtpZihcIlByb3BlcnRpZXM3MFwiIT09by5uYW1lKXtpZihcIkNcIj09PXIpe3ZhciBhPWkuc3BsaXQoXCIsXCIpLnNsaWNlKDEpLHM9cGFyc2VJbnQoYVswXSksYz1wYXJzZUludChhWzFdKSxsPWkuc3BsaXQoXCIsXCIpLnNsaWNlKDMpO3I9XCJjb25uZWN0aW9uc1wiLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aCxpPWUubGVuZ3RoO248aTtuKysscisrKXRbcl09ZVtuXX0oaT1bcyxjXSxsPWwubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCkucmVwbGFjZSgvXlwiLyxcIlwiKX0pKSksdm9pZCAwPT09b1tyXSYmKG9bcl09W10pfVwiTm9kZVwiPT09ciYmKG8uaWQ9aSksciBpbiBvJiZBcnJheS5pc0FycmF5KG9bcl0pP29bcl0ucHVzaChpKTpcImFcIiE9PXI/b1tyXT1pOm8uYT1pLHRoaXMuc2V0Q3VycmVudFByb3AobyxyKSxcImFcIj09PXImJlwiLFwiIT09aS5zbGljZSgtMSkmJihvLmE9YihpKSl9ZWxzZSB0aGlzLnBhcnNlTm9kZVNwZWNpYWxQcm9wZXJ0eSh0LHIsaSl9LHBhcnNlTm9kZVByb3BlcnR5Q29udGludWVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q3VycmVudE5vZGUoKTtlLmErPXQsXCIsXCIhPT10LnNsaWNlKC0xKSYmKGUuYT1iKGUuYSkpfSxwYXJzZU5vZGVTcGVjaWFsUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4uc3BsaXQoJ1wiLCcpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpLnJlcGxhY2UoL15cXFwiLyxcIlwiKS5yZXBsYWNlKC9cXHMvLFwiX1wiKX0pKSxpPXJbMF0sbz1yWzFdLGE9clsyXSxzPXJbM10sYz1yWzRdO3N3aXRjaChvKXtjYXNlXCJpbnRcIjpjYXNlXCJlbnVtXCI6Y2FzZVwiYm9vbFwiOmNhc2VcIlVMb25nTG9uZ1wiOmNhc2VcImRvdWJsZVwiOmNhc2VcIk51bWJlclwiOmNhc2VcIkZpZWxkT2ZWaWV3XCI6Yz1wYXJzZUZsb2F0KGMpO2JyZWFrO2Nhc2VcIkNvbG9yXCI6Y2FzZVwiQ29sb3JSR0JcIjpjYXNlXCJWZWN0b3IzRFwiOmNhc2VcIkxjbF9UcmFuc2xhdGlvblwiOmNhc2VcIkxjbF9Sb3RhdGlvblwiOmNhc2VcIkxjbF9TY2FsaW5nXCI6Yz1iKGMpfXRoaXMuZ2V0UHJldk5vZGUoKVtpXT17dHlwZTpvLHR5cGUyOmEsZmxhZzpzLHZhbHVlOmN9LHRoaXMuc2V0Q3VycmVudFByb3AodGhpcy5nZXRQcmV2Tm9kZSgpLGkpfX0sbC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmwscGFyc2U6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHUodCk7ZS5za2lwKDIzKTt2YXIgbj1lLmdldFVpbnQzMigpO2lmKG48NjQwMCl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5GQlhMb2FkZXI6IEZCWCB2ZXJzaW9uIG5vdCBzdXBwb3J0ZWQsIEZpbGVWZXJzaW9uOiBcIituKTtmb3IodmFyIHI9bmV3IGg7IXRoaXMuZW5kT2ZDb250ZW50KGUpOyl7dmFyIGk9dGhpcy5wYXJzZU5vZGUoZSxuKTtudWxsIT09aSYmci5hZGQoaS5uYW1lLGkpfXJldHVybiByfSxlbmRPZkNvbnRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2l6ZSgpJTE2PT0wPyh0LmdldE9mZnNldCgpKzE2MCsxNiYtMTYpPj10LnNpemUoKTp0LmdldE9mZnNldCgpKzE2MCsxNj49dC5zaXplKCl9LHBhcnNlTm9kZTpmdW5jdGlvbih0LGUpe3ZhciBuPXt9LHI9ZT49NzUwMD90LmdldFVpbnQ2NCgpOnQuZ2V0VWludDMyKCksaT1lPj03NTAwP3QuZ2V0VWludDY0KCk6dC5nZXRVaW50MzIoKTtlPj03NTAwP3QuZ2V0VWludDY0KCk6dC5nZXRVaW50MzIoKTt2YXIgbz10LmdldFVpbnQ4KCksYT10LmdldFN0cmluZyhvKTtpZigwPT09cilyZXR1cm4gbnVsbDtmb3IodmFyIHM9W10sYz0wO2M8aTtjKyspcy5wdXNoKHRoaXMucGFyc2VQcm9wZXJ0eSh0KSk7dmFyIGw9cy5sZW5ndGg+MD9zWzBdOlwiXCIsdT1zLmxlbmd0aD4xP3NbMV06XCJcIixoPXMubGVuZ3RoPjI/c1syXTpcIlwiO2ZvcihuLnNpbmdsZVByb3BlcnR5PTE9PT1pJiZ0LmdldE9mZnNldCgpPT09cjtyPnQuZ2V0T2Zmc2V0KCk7KXt2YXIgZD10aGlzLnBhcnNlTm9kZSh0LGUpO251bGwhPT1kJiZ0aGlzLnBhcnNlU3ViTm9kZShhLG4sZCl9cmV0dXJuIG4ucHJvcGVydHlMaXN0PXMsXCJudW1iZXJcIj09dHlwZW9mIGwmJihuLmlkPWwpLFwiXCIhPT11JiYobi5hdHRyTmFtZT11KSxcIlwiIT09aCYmKG4uYXR0clR5cGU9aCksXCJcIiE9PWEmJihuLm5hbWU9YSksbn0scGFyc2VTdWJOb2RlOmZ1bmN0aW9uKHQsZSxuKXtpZighMD09PW4uc2luZ2xlUHJvcGVydHkpe3ZhciByPW4ucHJvcGVydHlMaXN0WzBdO0FycmF5LmlzQXJyYXkocik/KGVbbi5uYW1lXT1uLG4uYT1yKTplW24ubmFtZV09cn1lbHNlIGlmKFwiQ29ubmVjdGlvbnNcIj09PXQmJlwiQ1wiPT09bi5uYW1lKXt2YXIgaT1bXTtuLnByb3BlcnR5TGlzdC5mb3JFYWNoKChmdW5jdGlvbih0LGUpezAhPT1lJiZpLnB1c2godCl9KSksdm9pZCAwPT09ZS5jb25uZWN0aW9ucyYmKGUuY29ubmVjdGlvbnM9W10pLGUuY29ubmVjdGlvbnMucHVzaChpKX1lbHNlIGlmKFwiUHJvcGVydGllczcwXCI9PT1uLm5hbWUpe09iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09blt0XX0pKX1lbHNlIGlmKFwiUHJvcGVydGllczcwXCI9PT10JiZcIlBcIj09PW4ubmFtZSl7dmFyIG8sYT1uLnByb3BlcnR5TGlzdFswXSxzPW4ucHJvcGVydHlMaXN0WzFdLGM9bi5wcm9wZXJ0eUxpc3RbMl0sbD1uLnByb3BlcnR5TGlzdFszXTswPT09YS5pbmRleE9mKFwiTGNsIFwiKSYmKGE9YS5yZXBsYWNlKFwiTGNsIFwiLFwiTGNsX1wiKSksMD09PXMuaW5kZXhPZihcIkxjbCBcIikmJihzPXMucmVwbGFjZShcIkxjbCBcIixcIkxjbF9cIikpLG89XCJDb2xvclwiPT09c3x8XCJDb2xvclJHQlwiPT09c3x8XCJWZWN0b3JcIj09PXN8fFwiVmVjdG9yM0RcIj09PXN8fDA9PT1zLmluZGV4T2YoXCJMY2xfXCIpP1tuLnByb3BlcnR5TGlzdFs0XSxuLnByb3BlcnR5TGlzdFs1XSxuLnByb3BlcnR5TGlzdFs2XV06bi5wcm9wZXJ0eUxpc3RbNF0sZVthXT17dHlwZTpzLHR5cGUyOmMsZmxhZzpsLHZhbHVlOm99fWVsc2Ugdm9pZCAwPT09ZVtuLm5hbWVdP1wibnVtYmVyXCI9PXR5cGVvZiBuLmlkPyhlW24ubmFtZV09e30sZVtuLm5hbWVdW24uaWRdPW4pOmVbbi5uYW1lXT1uOlwiUG9zZU5vZGVcIj09PW4ubmFtZT8oQXJyYXkuaXNBcnJheShlW24ubmFtZV0pfHwoZVtuLm5hbWVdPVtlW24ubmFtZV1dKSxlW24ubmFtZV0ucHVzaChuKSk6dm9pZCAwPT09ZVtuLm5hbWVdW24uaWRdJiYoZVtuLm5hbWVdW24uaWRdPW4pfSxwYXJzZVByb3BlcnR5OmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0U3RyaW5nKDEpO3N3aXRjaChlKXtjYXNlXCJDXCI6cmV0dXJuIHQuZ2V0Qm9vbGVhbigpO2Nhc2VcIkRcIjpyZXR1cm4gdC5nZXRGbG9hdDY0KCk7Y2FzZVwiRlwiOnJldHVybiB0LmdldEZsb2F0MzIoKTtjYXNlXCJJXCI6cmV0dXJuIHQuZ2V0SW50MzIoKTtjYXNlXCJMXCI6cmV0dXJuIHQuZ2V0SW50NjQoKTtjYXNlXCJSXCI6dmFyIG49dC5nZXRVaW50MzIoKTtyZXR1cm4gdC5nZXRBcnJheUJ1ZmZlcihuKTtjYXNlXCJTXCI6bj10LmdldFVpbnQzMigpO3JldHVybiB0LmdldFN0cmluZyhuKTtjYXNlXCJZXCI6cmV0dXJuIHQuZ2V0SW50MTYoKTtjYXNlXCJiXCI6Y2FzZVwiY1wiOmNhc2VcImRcIjpjYXNlXCJmXCI6Y2FzZVwiaVwiOmNhc2VcImxcIjp2YXIgcj10LmdldFVpbnQzMigpLGk9dC5nZXRVaW50MzIoKSxvPXQuZ2V0VWludDMyKCk7aWYoMD09PWkpc3dpdGNoKGUpe2Nhc2VcImJcIjpjYXNlXCJjXCI6cmV0dXJuIHQuZ2V0Qm9vbGVhbkFycmF5KHIpO2Nhc2VcImRcIjpyZXR1cm4gdC5nZXRGbG9hdDY0QXJyYXkocik7Y2FzZVwiZlwiOnJldHVybiB0LmdldEZsb2F0MzJBcnJheShyKTtjYXNlXCJpXCI6cmV0dXJuIHQuZ2V0SW50MzJBcnJheShyKTtjYXNlXCJsXCI6cmV0dXJuIHQuZ2V0SW50NjRBcnJheShyKX12b2lkIDA9PT1HJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuRkJYTG9hZGVyOiBFeHRlcm5hbCBsaWJyYXJ5IEluZmxhdGUubWluLmpzIHJlcXVpcmVkLCBvYnRhaW4gb3IgaW1wb3J0IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ltYXlhL3psaWIuanNcIik7dmFyIGE9bmV3IHUobmV3IEcobmV3IFVpbnQ4QXJyYXkodC5nZXRBcnJheUJ1ZmZlcihvKSkpLmRlY29tcHJlc3MoKS5idWZmZXIpO3N3aXRjaChlKXtjYXNlXCJiXCI6Y2FzZVwiY1wiOnJldHVybiBhLmdldEJvb2xlYW5BcnJheShyKTtjYXNlXCJkXCI6cmV0dXJuIGEuZ2V0RmxvYXQ2NEFycmF5KHIpO2Nhc2VcImZcIjpyZXR1cm4gYS5nZXRGbG9hdDMyQXJyYXkocik7Y2FzZVwiaVwiOnJldHVybiBhLmdldEludDMyQXJyYXkocik7Y2FzZVwibFwiOnJldHVybiBhLmdldEludDY0QXJyYXkocil9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5GQlhMb2FkZXI6IFVua25vd24gcHJvcGVydHkgdHlwZSBcIitlKX19fSx1LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dSxnZXRPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmZzZXR9LHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdi5idWZmZXIuYnl0ZUxlbmd0aH0sc2tpcDpmdW5jdGlvbih0KXt0aGlzLm9mZnNldCs9dH0sZ2V0Qm9vbGVhbjpmdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmdldFVpbnQ4KCkpfSxnZXRCb29sZWFuQXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCh0aGlzLmdldEJvb2xlYW4oKSk7cmV0dXJuIGV9LGdldFVpbnQ4OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kdi5nZXRVaW50OCh0aGlzLm9mZnNldCk7cmV0dXJuIHRoaXMub2Zmc2V0Kz0xLHR9LGdldEludDE2OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kdi5nZXRJbnQxNih0aGlzLm9mZnNldCx0aGlzLmxpdHRsZUVuZGlhbik7cmV0dXJuIHRoaXMub2Zmc2V0Kz0yLHR9LGdldEludDMyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kdi5nZXRJbnQzMih0aGlzLm9mZnNldCx0aGlzLmxpdHRsZUVuZGlhbik7cmV0dXJuIHRoaXMub2Zmc2V0Kz00LHR9LGdldEludDMyQXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCh0aGlzLmdldEludDMyKCkpO3JldHVybiBlfSxnZXRVaW50MzI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmR2LmdldFVpbnQzMih0aGlzLm9mZnNldCx0aGlzLmxpdHRsZUVuZGlhbik7cmV0dXJuIHRoaXMub2Zmc2V0Kz00LHR9LGdldEludDY0OmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdGhpcy5saXR0bGVFbmRpYW4/KHQ9dGhpcy5nZXRVaW50MzIoKSxlPXRoaXMuZ2V0VWludDMyKCkpOihlPXRoaXMuZ2V0VWludDMyKCksdD10aGlzLmdldFVpbnQzMigpKSwyMTQ3NDgzNjQ4JmU/KGU9NDI5NDk2NzI5NSZ+ZSw0Mjk0OTY3Mjk1PT09KHQ9NDI5NDk2NzI5NSZ+dCkmJihlPWUrMSY0Mjk0OTY3Mjk1KSwtKDQyOTQ5NjcyOTYqZSsodD10KzEmNDI5NDk2NzI5NSkpKTo0Mjk0OTY3Mjk2KmUrdH0sZ2V0SW50NjRBcnJheTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dDtuKyspZS5wdXNoKHRoaXMuZ2V0SW50NjQoKSk7cmV0dXJuIGV9LGdldFVpbnQ2NDpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIHRoaXMubGl0dGxlRW5kaWFuPyh0PXRoaXMuZ2V0VWludDMyKCksZT10aGlzLmdldFVpbnQzMigpKTooZT10aGlzLmdldFVpbnQzMigpLHQ9dGhpcy5nZXRVaW50MzIoKSksNDI5NDk2NzI5NiplK3R9LGdldEZsb2F0MzI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmR2LmdldEZsb2F0MzIodGhpcy5vZmZzZXQsdGhpcy5saXR0bGVFbmRpYW4pO3JldHVybiB0aGlzLm9mZnNldCs9NCx0fSxnZXRGbG9hdDMyQXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCh0aGlzLmdldEZsb2F0MzIoKSk7cmV0dXJuIGV9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmR2LmdldEZsb2F0NjQodGhpcy5vZmZzZXQsdGhpcy5saXR0bGVFbmRpYW4pO3JldHVybiB0aGlzLm9mZnNldCs9OCx0fSxnZXRGbG9hdDY0QXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWUucHVzaCh0aGlzLmdldEZsb2F0NjQoKSk7cmV0dXJuIGV9LGdldEFycmF5QnVmZmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZHYuYnVmZmVyLnNsaWNlKHRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0K3QpO3JldHVybiB0aGlzLm9mZnNldCs9dCxlfSxnZXRTdHJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQ7bisrKWVbbl09dGhpcy5nZXRVaW50OCgpO3ZhciBpPWUuaW5kZXhPZigwKTtyZXR1cm4gaT49MCYmKGU9ZS5zbGljZSgwLGkpKSxyLkxvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZSkpfX0saC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsYWRkOmZ1bmN0aW9uKHQsZSl7dGhpc1t0XT1lfX07dmFyIGY9W107ZnVuY3Rpb24gbSh0LGUsbixyKXt2YXIgaTtzd2l0Y2goci5tYXBwaW5nVHlwZSl7Y2FzZVwiQnlQb2x5Z29uVmVydGV4XCI6aT10O2JyZWFrO2Nhc2VcIkJ5UG9seWdvblwiOmk9ZTticmVhaztjYXNlXCJCeVZlcnRpY2VcIjppPW47YnJlYWs7Y2FzZVwiQWxsU2FtZVwiOmk9ci5pbmRpY2VzWzBdO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiB1bmtub3duIGF0dHJpYnV0ZSBtYXBwaW5nIHR5cGUgXCIrci5tYXBwaW5nVHlwZSl9XCJJbmRleFRvRGlyZWN0XCI9PT1yLnJlZmVyZW5jZVR5cGUmJihpPXIuaW5kaWNlc1tpXSk7dmFyIG89aSpyLmRhdGFTaXplLGE9bytyLmRhdGFTaXplO3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9bixvPTA7aTxyO2krKyxvKyspdFtvXT1lW2ldO3JldHVybiB0fShmLHIuYnVmZmVyLG8sYSl9dmFyIGc9bmV3IHIuRXVsZXIsdj1uZXcgci5WZWN0b3IzO2Z1bmN0aW9uIHkodCl7dmFyIGUsbj1uZXcgci5NYXRyaXg0LGk9bmV3IHIuTWF0cml4NCxvPW5ldyByLk1hdHJpeDQsYT1uZXcgci5NYXRyaXg0LHM9bmV3IHIuTWF0cml4NCxjPW5ldyByLk1hdHJpeDQsbD1uZXcgci5NYXRyaXg0LHU9bmV3IHIuTWF0cml4NCxoPW5ldyByLk1hdHJpeDQsZD1uZXcgci5NYXRyaXg0LHA9bmV3IHIuTWF0cml4NCxmPXQuaW5oZXJpdFR5cGU/dC5pbmhlcml0VHlwZTowOyh0LnRyYW5zbGF0aW9uJiZuLnNldFBvc2l0aW9uKHYuZnJvbUFycmF5KHQudHJhbnNsYXRpb24pKSx0LnByZVJvdGF0aW9uKSYmKChlPXQucHJlUm90YXRpb24ubWFwKHIuTWF0aFV0aWxzLmRlZ1RvUmFkKSkucHVzaCh0LmV1bGVyT3JkZXIpLGkubWFrZVJvdGF0aW9uRnJvbUV1bGVyKGcuZnJvbUFycmF5KGUpKSk7dC5yb3RhdGlvbiYmKChlPXQucm90YXRpb24ubWFwKHIuTWF0aFV0aWxzLmRlZ1RvUmFkKSkucHVzaCh0LmV1bGVyT3JkZXIpLG8ubWFrZVJvdGF0aW9uRnJvbUV1bGVyKGcuZnJvbUFycmF5KGUpKSk7dC5wb3N0Um90YXRpb24mJigoZT10LnBvc3RSb3RhdGlvbi5tYXAoci5NYXRoVXRpbHMuZGVnVG9SYWQpKS5wdXNoKHQuZXVsZXJPcmRlciksYS5tYWtlUm90YXRpb25Gcm9tRXVsZXIoZy5mcm9tQXJyYXkoZSkpKTt0LnNjYWxlJiZzLnNjYWxlKHYuZnJvbUFycmF5KHQuc2NhbGUpKSx0LnNjYWxpbmdPZmZzZXQmJmwuc2V0UG9zaXRpb24odi5mcm9tQXJyYXkodC5zY2FsaW5nT2Zmc2V0KSksdC5zY2FsaW5nUGl2b3QmJmMuc2V0UG9zaXRpb24odi5mcm9tQXJyYXkodC5zY2FsaW5nUGl2b3QpKSx0LnJvdGF0aW9uT2Zmc2V0JiZ1LnNldFBvc2l0aW9uKHYuZnJvbUFycmF5KHQucm90YXRpb25PZmZzZXQpKSx0LnJvdGF0aW9uUGl2b3QmJmguc2V0UG9zaXRpb24odi5mcm9tQXJyYXkodC5yb3RhdGlvblBpdm90KSksdC5wYXJlbnRNYXRyaXhXb3JsZCYmKGQ9dC5wYXJlbnRNYXRyaXhXb3JsZCk7dmFyIG09aS5tdWx0aXBseShvKS5tdWx0aXBseShhKSx5PW5ldyByLk1hdHJpeDQ7ZC5leHRyYWN0Um90YXRpb24oeSksKG5ldyByLk1hdHJpeDQpLmNvcHlQb3NpdGlvbihkKTt2YXIgeD1uZXcgci5NYXRyaXg0O3guY29weSh5KS5pbnZlcnQoKS5tdWx0aXBseShkKTt2YXIgYj1uZXcgci5NYXRyaXg0O2lmKDA9PT1mKWIuY29weSh5KS5tdWx0aXBseShtKS5tdWx0aXBseSh4KS5tdWx0aXBseShzKTtlbHNlIGlmKDE9PT1mKWIuY29weSh5KS5tdWx0aXBseSh4KS5tdWx0aXBseShtKS5tdWx0aXBseShzKTtlbHNle3ZhciB3PW5ldyByLk1hdHJpeDQ7dy5jb3B5KHMpLmludmVydCgpO3ZhciBfPShuZXcgci5NYXRyaXg0KS5tdWx0aXBseSh4KS5tdWx0aXBseSh3KTtiLmNvcHkoeSkubXVsdGlwbHkobSkubXVsdGlwbHkoXykubXVsdGlwbHkocyl9dmFyIE09bmV3IHIuTWF0cml4NDtNLmNvcHkoaCkuaW52ZXJ0KCk7dmFyIFM9bmV3IHIuTWF0cml4NDtTLmNvcHkoYykuaW52ZXJ0KCk7dmFyIFQ9bmV3IHIuTWF0cml4NDtULmNvcHkobikubXVsdGlwbHkodSkubXVsdGlwbHkoaCkubXVsdGlwbHkoaSkubXVsdGlwbHkobykubXVsdGlwbHkoYSkubXVsdGlwbHkoTSkubXVsdGlwbHkobCkubXVsdGlwbHkoYykubXVsdGlwbHkocykubXVsdGlwbHkoUyk7dmFyIEU9KG5ldyByLk1hdHJpeDQpLmNvcHlQb3NpdGlvbihUKSxBPShuZXcgci5NYXRyaXg0KS5jb3B5KGQpLm11bHRpcGx5KEUpO3JldHVybiBwLmNvcHlQb3NpdGlvbihBKSxUPShuZXcgci5NYXRyaXg0KS5tdWx0aXBseShwKS5tdWx0aXBseShiKX1mdW5jdGlvbiB4KHQpe3ZhciBlPVtcIlpZWFwiLFwiWVpYXCIsXCJYWllcIixcIlpYWVwiLFwiWVhaXCIsXCJYWVpcIl07cmV0dXJuIDY9PT0odD10fHwwKT8oY29uc29sZS53YXJuKFwiVEhSRUUuRkJYTG9hZGVyOiB1bnN1cHBvcnRlZCBFdWxlciBPcmRlcjogU3BoZXJpY2FsIFhZWi4gQW5pbWF0aW9ucyBhbmQgcm90YXRpb25zIG1heSBiZSBpbmNvcnJlY3QuXCIpLGVbMF0pOmVbdF19ZnVuY3Rpb24gYih0KXtyZXR1cm4gdC5zcGxpdChcIixcIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX0pKX1mdW5jdGlvbiB3KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5ieXRlTGVuZ3RoKSxyLkxvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkodCxlLG4pKX1mdW5jdGlvbiBfKHQsZSxuKXtyZXR1cm4gdC5zbGljZSgwLGUpLmNvbmNhdChuKS5jb25jYXQodC5zbGljZShlKSl9cmV0dXJuIGl9KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJXYXRlclwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT1mdW5jdGlvbih0LGUpe3IuTWVzaC5jYWxsKHRoaXMsdCksdGhpcy50eXBlPVwiUmVmbGVjdG9yXCI7dmFyIG49dGhpcyxvPXZvaWQgMCE9PShlPWV8fHt9KS5jb2xvcj9uZXcgci5Db2xvcihlLmNvbG9yKTpuZXcgci5Db2xvcig4MzU1NzExKSxhPWUudGV4dHVyZVdpZHRofHw1MTIscz1lLnRleHR1cmVIZWlnaHR8fDUxMixjPWUuY2xpcEJpYXN8fDAsbD1lLnNoYWRlcnx8aS5SZWZsZWN0b3JTaGFkZXIsdT1uZXcgci5QbGFuZSxoPW5ldyByLlZlY3RvcjMsZD1uZXcgci5WZWN0b3IzLHA9bmV3IHIuVmVjdG9yMyxmPW5ldyByLk1hdHJpeDQsbT1uZXcgci5WZWN0b3IzKDAsMCwtMSksZz1uZXcgci5WZWN0b3I0LHY9bmV3IHIuVmVjdG9yMyx5PW5ldyByLlZlY3RvcjMseD1uZXcgci5WZWN0b3I0LGI9bmV3IHIuTWF0cml4NCx3PW5ldyByLlBlcnNwZWN0aXZlQ2FtZXJhLF89e21pbkZpbHRlcjpyLkxpbmVhckZpbHRlcixtYWdGaWx0ZXI6ci5MaW5lYXJGaWx0ZXIsZm9ybWF0OnIuUkdCRm9ybWF0fSxNPW5ldyByLldlYkdMUmVuZGVyVGFyZ2V0KGEscyxfKTtyLk1hdGhVdGlscy5pc1Bvd2VyT2ZUd28oYSkmJnIuTWF0aFV0aWxzLmlzUG93ZXJPZlR3byhzKXx8KE0udGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ITEpO3ZhciBTPW5ldyByLlNoYWRlck1hdGVyaWFsKHt1bmlmb3JtczpyLlVuaWZvcm1zVXRpbHMuY2xvbmUobC51bmlmb3JtcyksZnJhZ21lbnRTaGFkZXI6bC5mcmFnbWVudFNoYWRlcix2ZXJ0ZXhTaGFkZXI6bC52ZXJ0ZXhTaGFkZXJ9KTtTLnVuaWZvcm1zLnREaWZmdXNlLnZhbHVlPU0udGV4dHVyZSxTLnVuaWZvcm1zLmNvbG9yLnZhbHVlPW8sUy51bmlmb3Jtcy50ZXh0dXJlTWF0cml4LnZhbHVlPWIsdGhpcy5tYXRlcmlhbD1TLHRoaXMub25CZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCxlLHIpe2lmKGQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG4ubWF0cml4V29ybGQpLHAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHIubWF0cml4V29ybGQpLGYuZXh0cmFjdFJvdGF0aW9uKG4ubWF0cml4V29ybGQpLGguc2V0KDAsMCwxKSxoLmFwcGx5TWF0cml4NChmKSx2LnN1YlZlY3RvcnMoZCxwKSwhKHYuZG90KGgpPjApKXt2LnJlZmxlY3QoaCkubmVnYXRlKCksdi5hZGQoZCksZi5leHRyYWN0Um90YXRpb24oci5tYXRyaXhXb3JsZCksbS5zZXQoMCwwLC0xKSxtLmFwcGx5TWF0cml4NChmKSxtLmFkZChwKSx5LnN1YlZlY3RvcnMoZCxtKSx5LnJlZmxlY3QoaCkubmVnYXRlKCkseS5hZGQoZCksdy5wb3NpdGlvbi5jb3B5KHYpLHcudXAuc2V0KDAsMSwwKSx3LnVwLmFwcGx5TWF0cml4NChmKSx3LnVwLnJlZmxlY3QoaCksdy5sb29rQXQoeSksdy5mYXI9ci5mYXIsdy51cGRhdGVNYXRyaXhXb3JsZCgpLHcucHJvamVjdGlvbk1hdHJpeC5jb3B5KHIucHJvamVjdGlvbk1hdHJpeCksYi5zZXQoLjUsMCwwLC41LDAsLjUsMCwuNSwwLDAsLjUsLjUsMCwwLDAsMSksYi5tdWx0aXBseSh3LnByb2plY3Rpb25NYXRyaXgpLGIubXVsdGlwbHkody5tYXRyaXhXb3JsZEludmVyc2UpLGIubXVsdGlwbHkobi5tYXRyaXhXb3JsZCksdS5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludChoLGQpLHUuYXBwbHlNYXRyaXg0KHcubWF0cml4V29ybGRJbnZlcnNlKSxnLnNldCh1Lm5vcm1hbC54LHUubm9ybWFsLnksdS5ub3JtYWwueix1LmNvbnN0YW50KTt2YXIgaT13LnByb2plY3Rpb25NYXRyaXg7eC54PShNYXRoLnNpZ24oZy54KStpLmVsZW1lbnRzWzhdKS9pLmVsZW1lbnRzWzBdLHgueT0oTWF0aC5zaWduKGcueSkraS5lbGVtZW50c1s5XSkvaS5lbGVtZW50c1s1XSx4Lno9LTEseC53PSgxK2kuZWxlbWVudHNbMTBdKS9pLmVsZW1lbnRzWzE0XSxnLm11bHRpcGx5U2NhbGFyKDIvZy5kb3QoeCkpLGkuZWxlbWVudHNbMl09Zy54LGkuZWxlbWVudHNbNl09Zy55LGkuZWxlbWVudHNbMTBdPWcueisxLWMsaS5lbGVtZW50c1sxNF09Zy53LE0udGV4dHVyZS5lbmNvZGluZz10Lm91dHB1dEVuY29kaW5nLG4udmlzaWJsZT0hMTt2YXIgbz10LmdldFJlbmRlclRhcmdldCgpLGE9dC54ci5lbmFibGVkLHM9dC5zaGFkb3dNYXAuYXV0b1VwZGF0ZTt0LnhyLmVuYWJsZWQ9ITEsdC5zaGFkb3dNYXAuYXV0b1VwZGF0ZT0hMSx0LnNldFJlbmRlclRhcmdldChNKSx0LnN0YXRlLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMCksITE9PT10LmF1dG9DbGVhciYmdC5jbGVhcigpLHQucmVuZGVyKGUsdyksdC54ci5lbmFibGVkPWEsdC5zaGFkb3dNYXAuYXV0b1VwZGF0ZT1zLHQuc2V0UmVuZGVyVGFyZ2V0KG8pO3ZhciBsPXIudmlld3BvcnQ7dm9pZCAwIT09bCYmdC5zdGF0ZS52aWV3cG9ydChsKSxuLnZpc2libGU9ITB9fSx0aGlzLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbigpe3JldHVybiBNfX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLk1lc2gucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkuUmVmbGVjdG9yU2hhZGVyPXt1bmlmb3Jtczp7Y29sb3I6e3ZhbHVlOm51bGx9LHREaWZmdXNlOnt2YWx1ZTpudWxsfSx0ZXh0dXJlTWF0cml4Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOltcInVuaWZvcm0gbWF0NCB0ZXh0dXJlTWF0cml4O1wiLFwidmFyeWluZyB2ZWM0IHZVdjtcIixcInZvaWQgbWFpbigpIHtcIixcIlxcdHZVdiA9IHRleHR1cmVNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXCJcXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widW5pZm9ybSB2ZWMzIGNvbG9yO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XCIsXCJ2YXJ5aW5nIHZlYzQgdlV2O1wiLFwiZmxvYXQgYmxlbmRPdmVybGF5KCBmbG9hdCBiYXNlLCBmbG9hdCBibGVuZCApIHtcIixcIlxcdHJldHVybiggYmFzZSA8IDAuNSA/ICggMi4wICogYmFzZSAqIGJsZW5kICkgOiAoIDEuMCAtIDIuMCAqICggMS4wIC0gYmFzZSApICogKCAxLjAgLSBibGVuZCApICkgKTtcIixcIn1cIixcInZlYzMgYmxlbmRPdmVybGF5KCB2ZWMzIGJhc2UsIHZlYzMgYmxlbmQgKSB7XCIsXCJcXHRyZXR1cm4gdmVjMyggYmxlbmRPdmVybGF5KCBiYXNlLnIsIGJsZW5kLnIgKSwgYmxlbmRPdmVybGF5KCBiYXNlLmcsIGJsZW5kLmcgKSwgYmxlbmRPdmVybGF5KCBiYXNlLmIsIGJsZW5kLmIgKSApO1wiLFwifVwiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dmVjNCBiYXNlID0gdGV4dHVyZTJEUHJvaiggdERpZmZ1c2UsIHZVdiApO1wiLFwiXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggYmxlbmRPdmVybGF5KCBiYXNlLnJnYiwgY29sb3IgKSwgMS4wICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9O3ZhciBvPWZ1bmN0aW9uKHQsZSl7ci5NZXNoLmNhbGwodGhpcyx0KSx0aGlzLnR5cGU9XCJSZWZyYWN0b3JcIjt2YXIgbj10aGlzLGk9dm9pZCAwIT09KGU9ZXx8e30pLmNvbG9yP25ldyByLkNvbG9yKGUuY29sb3IpOm5ldyByLkNvbG9yKDgzNTU3MTEpLGE9ZS50ZXh0dXJlV2lkdGh8fDUxMixzPWUudGV4dHVyZUhlaWdodHx8NTEyLGM9ZS5jbGlwQmlhc3x8MCxsPWUuc2hhZGVyfHxvLlJlZnJhY3RvclNoYWRlcix1PW5ldyByLlBlcnNwZWN0aXZlQ2FtZXJhO3UubWF0cml4QXV0b1VwZGF0ZT0hMSx1LnVzZXJEYXRhLnJlZnJhY3Rvcj0hMDt2YXIgaD1uZXcgci5QbGFuZSxkPW5ldyByLk1hdHJpeDQscD17bWluRmlsdGVyOnIuTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpyLkxpbmVhckZpbHRlcixmb3JtYXQ6ci5SR0JGb3JtYXR9LGY9bmV3IHIuV2ViR0xSZW5kZXJUYXJnZXQoYSxzLHApO3IuTWF0aFV0aWxzLmlzUG93ZXJPZlR3byhhKSYmci5NYXRoVXRpbHMuaXNQb3dlck9mVHdvKHMpfHwoZi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz0hMSksdGhpcy5tYXRlcmlhbD1uZXcgci5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6ci5Vbmlmb3Jtc1V0aWxzLmNsb25lKGwudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpsLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpsLmZyYWdtZW50U2hhZGVyLHRyYW5zcGFyZW50OiEwfSksdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb2xvci52YWx1ZT1pLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudERpZmZ1c2UudmFsdWU9Zi50ZXh0dXJlLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudGV4dHVyZU1hdHJpeC52YWx1ZT1kO3ZhciBtLGcsdix5LHgsYix3LF8sTT0obT1uZXcgci5WZWN0b3IzLGc9bmV3IHIuVmVjdG9yMyx2PW5ldyByLk1hdHJpeDQseT1uZXcgci5WZWN0b3IzLHg9bmV3IHIuVmVjdG9yMyxmdW5jdGlvbih0KXtyZXR1cm4gbS5zZXRGcm9tTWF0cml4UG9zaXRpb24obi5tYXRyaXhXb3JsZCksZy5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCkseS5zdWJWZWN0b3JzKG0sZyksdi5leHRyYWN0Um90YXRpb24obi5tYXRyaXhXb3JsZCkseC5zZXQoMCwwLDEpLHguYXBwbHlNYXRyaXg0KHYpLHkuZG90KHgpPDB9KSxTPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIuVmVjdG9yMyxlPW5ldyByLlZlY3RvcjMsaT1uZXcgci5RdWF0ZXJuaW9uLG89bmV3IHIuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oKXtuLm1hdHJpeFdvcmxkLmRlY29tcG9zZShlLGksbyksdC5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihpKS5ub3JtYWxpemUoKSx0Lm5lZ2F0ZSgpLGguc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQodCxlKX19KCksVD0oYj1uZXcgci5QbGFuZSx3PW5ldyByLlZlY3RvcjQsXz1uZXcgci5WZWN0b3I0LGZ1bmN0aW9uKHQpe3UubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKSx1Lm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHUubWF0cml4V29ybGQpLmludmVydCgpLHUucHJvamVjdGlvbk1hdHJpeC5jb3B5KHQucHJvamVjdGlvbk1hdHJpeCksdS5mYXI9dC5mYXIsYi5jb3B5KGgpLGIuYXBwbHlNYXRyaXg0KHUubWF0cml4V29ybGRJbnZlcnNlKSx3LnNldChiLm5vcm1hbC54LGIubm9ybWFsLnksYi5ub3JtYWwueixiLmNvbnN0YW50KTt2YXIgZT11LnByb2plY3Rpb25NYXRyaXg7Xy54PShNYXRoLnNpZ24ody54KStlLmVsZW1lbnRzWzhdKS9lLmVsZW1lbnRzWzBdLF8ueT0oTWF0aC5zaWduKHcueSkrZS5lbGVtZW50c1s5XSkvZS5lbGVtZW50c1s1XSxfLno9LTEsXy53PSgxK2UuZWxlbWVudHNbMTBdKS9lLmVsZW1lbnRzWzE0XSx3Lm11bHRpcGx5U2NhbGFyKDIvdy5kb3QoXykpLGUuZWxlbWVudHNbMl09dy54LGUuZWxlbWVudHNbNl09dy55LGUuZWxlbWVudHNbMTBdPXcueisxLWMsZS5lbGVtZW50c1sxNF09dy53fSk7dGhpcy5vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbih0LGUscil7Zi50ZXh0dXJlLmVuY29kaW5nPXQub3V0cHV0RW5jb2RpbmcsITAhPT1yLnVzZXJEYXRhLnJlZnJhY3RvciYmITAhPSFNKHIpJiYoUygpLGZ1bmN0aW9uKHQpe2Quc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLGQubXVsdGlwbHkodC5wcm9qZWN0aW9uTWF0cml4KSxkLm11bHRpcGx5KHQubWF0cml4V29ybGRJbnZlcnNlKSxkLm11bHRpcGx5KG4ubWF0cml4V29ybGQpfShyKSxUKHIpLGZ1bmN0aW9uKHQsZSxyKXtuLnZpc2libGU9ITE7dmFyIGk9dC5nZXRSZW5kZXJUYXJnZXQoKSxvPXQueHIuZW5hYmxlZCxhPXQuc2hhZG93TWFwLmF1dG9VcGRhdGU7dC54ci5lbmFibGVkPSExLHQuc2hhZG93TWFwLmF1dG9VcGRhdGU9ITEsdC5zZXRSZW5kZXJUYXJnZXQoZiksITE9PT10LmF1dG9DbGVhciYmdC5jbGVhcigpLHQucmVuZGVyKGUsdSksdC54ci5lbmFibGVkPW8sdC5zaGFkb3dNYXAuYXV0b1VwZGF0ZT1hLHQuc2V0UmVuZGVyVGFyZ2V0KGkpO3ZhciBzPXIudmlld3BvcnQ7dm9pZCAwIT09cyYmdC5zdGF0ZS52aWV3cG9ydChzKSxuLnZpc2libGU9ITB9KHQsZSxyKSl9LHRoaXMuZ2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ9fTtvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuTWVzaC5wcm90b3R5cGUpLG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW8sby5SZWZyYWN0b3JTaGFkZXI9e3VuaWZvcm1zOntjb2xvcjp7dmFsdWU6bnVsbH0sdERpZmZ1c2U6e3ZhbHVlOm51bGx9LHRleHR1cmVNYXRyaXg6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6W1widW5pZm9ybSBtYXQ0IHRleHR1cmVNYXRyaXg7XCIsXCJ2YXJ5aW5nIHZlYzQgdlV2O1wiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dlV2ID0gdGV4dHVyZU1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIlxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIHZlYzMgY29sb3I7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcIixcInZhcnlpbmcgdmVjNCB2VXY7XCIsXCJmbG9hdCBibGVuZE92ZXJsYXkoIGZsb2F0IGJhc2UsIGZsb2F0IGJsZW5kICkge1wiLFwiXFx0cmV0dXJuKCBiYXNlIDwgMC41ID8gKCAyLjAgKiBiYXNlICogYmxlbmQgKSA6ICggMS4wIC0gMi4wICogKCAxLjAgLSBiYXNlICkgKiAoIDEuMCAtIGJsZW5kICkgKSApO1wiLFwifVwiLFwidmVjMyBibGVuZE92ZXJsYXkoIHZlYzMgYmFzZSwgdmVjMyBibGVuZCApIHtcIixcIlxcdHJldHVybiB2ZWMzKCBibGVuZE92ZXJsYXkoIGJhc2UuciwgYmxlbmQuciApLCBibGVuZE92ZXJsYXkoIGJhc2UuZywgYmxlbmQuZyApLCBibGVuZE92ZXJsYXkoIGJhc2UuYiwgYmxlbmQuYiApICk7XCIsXCJ9XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2ZWM0IGJhc2UgPSB0ZXh0dXJlMkRQcm9qKCB0RGlmZnVzZSwgdlV2ICk7XCIsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBibGVuZE92ZXJsYXkoIGJhc2UucmdiLCBjb2xvciApLCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKX07dmFyIGE9ZnVuY3Rpb24odCxlKXtyLk1lc2guY2FsbCh0aGlzLHQpLHRoaXMudHlwZT1cIldhdGVyXCI7dmFyIG49dGhpcyxzPXZvaWQgMCE9PShlPWV8fHt9KS5jb2xvcj9uZXcgci5Db2xvcihlLmNvbG9yKTpuZXcgci5Db2xvcigxNjc3NzIxNSksYz1lLnRleHR1cmVXaWR0aHx8NTEyLGw9ZS50ZXh0dXJlSGVpZ2h0fHw1MTIsdT1lLmNsaXBCaWFzfHwwLGg9ZS5mbG93RGlyZWN0aW9ufHxuZXcgci5WZWN0b3IyKDEsMCksZD1lLmZsb3dTcGVlZHx8LjAzLHA9ZS5yZWZsZWN0aXZpdHl8fC4wMixmPWUuc2NhbGV8fDEsbT1lLnNoYWRlcnx8YS5XYXRlclNoYWRlcixnPXZvaWQgMCE9PWUuZW5jb2Rpbmc/ZS5lbmNvZGluZzpyLkxpbmVhckVuY29kaW5nLHY9bmV3IHIuVGV4dHVyZUxvYWRlcix5PWUuZmxvd01hcHx8dm9pZCAwLHg9ZS5ub3JtYWxNYXAwfHx2LmxvYWQoXCJ0ZXh0dXJlcy93YXRlci9XYXRlcl8xX01fTm9ybWFsLmpwZ1wiKSxiPWUubm9ybWFsTWFwMXx8di5sb2FkKFwidGV4dHVyZXMvd2F0ZXIvV2F0ZXJfMl9NX05vcm1hbC5qcGdcIiksdz1uZXcgci5NYXRyaXg0LF89bmV3IHIuQ2xvY2s7aWYodm9pZCAwIT09aSlpZih2b2lkIDAhPT1vKXt2YXIgTT1uZXcgaSh0LHt0ZXh0dXJlV2lkdGg6Yyx0ZXh0dXJlSGVpZ2h0OmwsY2xpcEJpYXM6dSxlbmNvZGluZzpnfSksUz1uZXcgbyh0LHt0ZXh0dXJlV2lkdGg6Yyx0ZXh0dXJlSGVpZ2h0OmwsY2xpcEJpYXM6dSxlbmNvZGluZzpnfSk7TS5tYXRyaXhBdXRvVXBkYXRlPSExLFMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLm1hdGVyaWFsPW5ldyByLlNoYWRlck1hdGVyaWFsKHt1bmlmb3JtczpyLlVuaWZvcm1zVXRpbHMubWVyZ2UoW3IuVW5pZm9ybXNMaWIuZm9nLG0udW5pZm9ybXNdKSx2ZXJ0ZXhTaGFkZXI6bS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6bS5mcmFnbWVudFNoYWRlcix0cmFuc3BhcmVudDohMCxmb2c6ITB9KSx2b2lkIDAhPT15Pyh0aGlzLm1hdGVyaWFsLmRlZmluZXMuVVNFX0ZMT1dNQVA9XCJcIix0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnRGbG93TWFwPXt0eXBlOlwidFwiLHZhbHVlOnl9KTp0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmZsb3dEaXJlY3Rpb249e3R5cGU6XCJ2MlwiLHZhbHVlOmh9LHgud3JhcFM9eC53cmFwVD1yLlJlcGVhdFdyYXBwaW5nLGIud3JhcFM9Yi53cmFwVD1yLlJlcGVhdFdyYXBwaW5nLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudFJlZmxlY3Rpb25NYXAudmFsdWU9TS5nZXRSZW5kZXJUYXJnZXQoKS50ZXh0dXJlLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudFJlZnJhY3Rpb25NYXAudmFsdWU9Uy5nZXRSZW5kZXJUYXJnZXQoKS50ZXh0dXJlLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudE5vcm1hbE1hcDAudmFsdWU9eCx0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnROb3JtYWxNYXAxLnZhbHVlPWIsdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb2xvci52YWx1ZT1zLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMucmVmbGVjdGl2aXR5LnZhbHVlPXAsdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy50ZXh0dXJlTWF0cml4LnZhbHVlPXcsdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb25maWcudmFsdWUueD0wLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuY29uZmlnLnZhbHVlLnk9LjA3NSx0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmNvbmZpZy52YWx1ZS56PS4wNzUsdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5jb25maWcudmFsdWUudz1mLHRoaXMub25CZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCxlLHIpe3ZhciBpLG87IWZ1bmN0aW9uKHQpe3cuc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLHcubXVsdGlwbHkodC5wcm9qZWN0aW9uTWF0cml4KSx3Lm11bHRpcGx5KHQubWF0cml4V29ybGRJbnZlcnNlKSx3Lm11bHRpcGx5KG4ubWF0cml4V29ybGQpfShyKSxpPV8uZ2V0RGVsdGEoKSwobz1uLm1hdGVyaWFsLnVuaWZvcm1zLmNvbmZpZykudmFsdWUueCs9ZCppLG8udmFsdWUueT1vLnZhbHVlLngrLjA3NSxvLnZhbHVlLng+PS4xNT8oby52YWx1ZS54PTAsby52YWx1ZS55PS4wNzUpOm8udmFsdWUueT49LjE1JiYoby52YWx1ZS55PW8udmFsdWUueS0uMTUpLG4udmlzaWJsZT0hMSxNLm1hdHJpeFdvcmxkLmNvcHkobi5tYXRyaXhXb3JsZCksUy5tYXRyaXhXb3JsZC5jb3B5KG4ubWF0cml4V29ybGQpLE0ub25CZWZvcmVSZW5kZXIodCxlLHIpLFMub25CZWZvcmVSZW5kZXIodCxlLHIpLG4udmlzaWJsZT0hMH19ZWxzZSBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2F0ZXI6IFJlcXVpcmVkIGNvbXBvbmVudCBSZWZyYWN0b3Igbm90IGZvdW5kLlwiKTtlbHNlIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XYXRlcjogUmVxdWlyZWQgY29tcG9uZW50IFJlZmxlY3RvciBub3QgZm91bmQuXCIpfTthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuTWVzaC5wcm90b3R5cGUpLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEsYS5XYXRlclNoYWRlcj17dW5pZm9ybXM6e2NvbG9yOnt0eXBlOlwiY1wiLHZhbHVlOm51bGx9LHJlZmxlY3Rpdml0eTp7dHlwZTpcImZcIix2YWx1ZTowfSx0UmVmbGVjdGlvbk1hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSx0UmVmcmFjdGlvbk1hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSx0Tm9ybWFsTWFwMDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSx0Tm9ybWFsTWFwMTp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSx0ZXh0dXJlTWF0cml4Ont0eXBlOlwibTRcIix2YWx1ZTpudWxsfSxjb25maWc6e3R5cGU6XCJ2NFwiLHZhbHVlOm5ldyByLlZlY3RvcjR9fSx2ZXJ0ZXhTaGFkZXI6W1wiI2luY2x1ZGUgPGNvbW1vbj5cIixcIiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XCIsXCIjaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XCIsXCJ1bmlmb3JtIG1hdDQgdGV4dHVyZU1hdHJpeDtcIixcInZhcnlpbmcgdmVjNCB2Q29vcmQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlV2O1wiLFwidmFyeWluZyB2ZWMzIHZUb0V5ZTtcIixcInZvaWQgbWFpbigpIHtcIixcIlxcdHZVdiA9IHV2O1wiLFwiXFx0dkNvb3JkID0gdGV4dHVyZU1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIlxcdHZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1wiLFwiXFx0dlRvRXllID0gY2FtZXJhUG9zaXRpb24gLSB3b3JsZFBvc2l0aW9uLnh5ejtcIixcIlxcdHZlYzQgbXZQb3NpdGlvbiA9ICB2aWV3TWF0cml4ICogd29ybGRQb3NpdGlvbjtcIixcIlxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XCIsXCJcXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlwiLFwiXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1wiI2luY2x1ZGUgPGNvbW1vbj5cIixcIiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cIixcIiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlwiLFwidW5pZm9ybSBzYW1wbGVyMkQgdFJlZmxlY3Rpb25NYXA7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB0UmVmcmFjdGlvbk1hcDtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHROb3JtYWxNYXAwO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdE5vcm1hbE1hcDE7XCIsXCIjaWZkZWYgVVNFX0ZMT1dNQVBcIixcIlxcdHVuaWZvcm0gc2FtcGxlcjJEIHRGbG93TWFwO1wiLFwiI2Vsc2VcIixcIlxcdHVuaWZvcm0gdmVjMiBmbG93RGlyZWN0aW9uO1wiLFwiI2VuZGlmXCIsXCJ1bmlmb3JtIHZlYzMgY29sb3I7XCIsXCJ1bmlmb3JtIGZsb2F0IHJlZmxlY3Rpdml0eTtcIixcInVuaWZvcm0gdmVjNCBjb25maWc7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvb3JkO1wiLFwidmFyeWluZyB2ZWMyIHZVdjtcIixcInZhcnlpbmcgdmVjMyB2VG9FeWU7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XCIsXCJcXHRmbG9hdCBmbG93TWFwT2Zmc2V0MCA9IGNvbmZpZy54O1wiLFwiXFx0ZmxvYXQgZmxvd01hcE9mZnNldDEgPSBjb25maWcueTtcIixcIlxcdGZsb2F0IGhhbGZDeWNsZSA9IGNvbmZpZy56O1wiLFwiXFx0ZmxvYXQgc2NhbGUgPSBjb25maWcudztcIixcIlxcdHZlYzMgdG9FeWUgPSBub3JtYWxpemUoIHZUb0V5ZSApO1wiLFwiXFx0dmVjMiBmbG93O1wiLFwiXFx0I2lmZGVmIFVTRV9GTE9XTUFQXCIsXCJcXHRcXHRmbG93ID0gdGV4dHVyZTJEKCB0Rmxvd01hcCwgdlV2ICkucmcgKiAyLjAgLSAxLjA7XCIsXCJcXHQjZWxzZVwiLFwiXFx0XFx0ZmxvdyA9IGZsb3dEaXJlY3Rpb247XCIsXCJcXHQjZW5kaWZcIixcIlxcdGZsb3cueCAqPSAtIDEuMDtcIixcIlxcdHZlYzQgbm9ybWFsQ29sb3IwID0gdGV4dHVyZTJEKCB0Tm9ybWFsTWFwMCwgKCB2VXYgKiBzY2FsZSApICsgZmxvdyAqIGZsb3dNYXBPZmZzZXQwICk7XCIsXCJcXHR2ZWM0IG5vcm1hbENvbG9yMSA9IHRleHR1cmUyRCggdE5vcm1hbE1hcDEsICggdlV2ICogc2NhbGUgKSArIGZsb3cgKiBmbG93TWFwT2Zmc2V0MSApO1wiLFwiXFx0ZmxvYXQgZmxvd0xlcnAgPSBhYnMoIGhhbGZDeWNsZSAtIGZsb3dNYXBPZmZzZXQwICkgLyBoYWxmQ3ljbGU7XCIsXCJcXHR2ZWM0IG5vcm1hbENvbG9yID0gbWl4KCBub3JtYWxDb2xvcjAsIG5vcm1hbENvbG9yMSwgZmxvd0xlcnAgKTtcIixcIlxcdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCB2ZWMzKCBub3JtYWxDb2xvci5yICogMi4wIC0gMS4wLCBub3JtYWxDb2xvci5iLCAgbm9ybWFsQ29sb3IuZyAqIDIuMCAtIDEuMCApICk7XCIsXCJcXHRmbG9hdCB0aGV0YSA9IG1heCggZG90KCB0b0V5ZSwgbm9ybWFsICksIDAuMCApO1wiLFwiXFx0ZmxvYXQgcmVmbGVjdGFuY2UgPSByZWZsZWN0aXZpdHkgKyAoIDEuMCAtIHJlZmxlY3Rpdml0eSApICogcG93KCAoIDEuMCAtIHRoZXRhICksIDUuMCApO1wiLFwiXFx0dmVjMyBjb29yZCA9IHZDb29yZC54eXogLyB2Q29vcmQudztcIixcIlxcdHZlYzIgdXYgPSBjb29yZC54eSArIGNvb3JkLnogKiBub3JtYWwueHogKiAwLjA1O1wiLFwiXFx0dmVjNCByZWZsZWN0Q29sb3IgPSB0ZXh0dXJlMkQoIHRSZWZsZWN0aW9uTWFwLCB2ZWMyKCAxLjAgLSB1di54LCB1di55ICkgKTtcIixcIlxcdHZlYzQgcmVmcmFjdENvbG9yID0gdGV4dHVyZTJEKCB0UmVmcmFjdGlvbk1hcCwgdXYgKTtcIixcIlxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCAxLjAgKSAqIG1peCggcmVmcmFjdENvbG9yLCByZWZsZWN0Q29sb3IsIHJlZmxlY3RhbmNlICk7XCIsXCJcXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XCIsXCJcXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlwiLFwiXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cIixcIn1cIl0uam9pbihcIlxcblwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJFZmZlY3RDb21wb3NlclwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLFwiUGFzc1wiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciByPW4oMCksaT17dW5pZm9ybXM6e3REaWZmdXNlOnt2YWx1ZTpudWxsfSxvcGFjaXR5Ont2YWx1ZToxfX0sdmVydGV4U2hhZGVyOltcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2VXYgPSB1djtcIixcIlxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcIixcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2ZWM0IHRleGVsID0gdGV4dHVyZTJEKCB0RGlmZnVzZSwgdlV2ICk7XCIsXCJcXHRnbF9GcmFnQ29sb3IgPSBvcGFjaXR5ICogdGV4ZWw7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9LG89bigyKSxhPW4oMSkscz1mdW5jdGlvbih0LGUpe2EuYS5jYWxsKHRoaXMpLHRoaXMuc2NlbmU9dCx0aGlzLmNhbWVyYT1lLHRoaXMuY2xlYXI9ITAsdGhpcy5uZWVkc1N3YXA9ITEsdGhpcy5pbnZlcnNlPSExfTtzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoYS5hLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnMscmVuZGVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG89dC5nZXRDb250ZXh0KCksYT10LnN0YXRlO2EuYnVmZmVycy5jb2xvci5zZXRNYXNrKCExKSxhLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMSksYS5idWZmZXJzLmNvbG9yLnNldExvY2tlZCghMCksYS5idWZmZXJzLmRlcHRoLnNldExvY2tlZCghMCksdGhpcy5pbnZlcnNlPyhyPTAsaT0xKToocj0xLGk9MCksYS5idWZmZXJzLnN0ZW5jaWwuc2V0VGVzdCghMCksYS5idWZmZXJzLnN0ZW5jaWwuc2V0T3Aoby5SRVBMQUNFLG8uUkVQTEFDRSxvLlJFUExBQ0UpLGEuYnVmZmVycy5zdGVuY2lsLnNldEZ1bmMoby5BTFdBWVMsciw0Mjk0OTY3Mjk1KSxhLmJ1ZmZlcnMuc3RlbmNpbC5zZXRDbGVhcihpKSxhLmJ1ZmZlcnMuc3RlbmNpbC5zZXRMb2NrZWQoITApLHQuc2V0UmVuZGVyVGFyZ2V0KG4pLHRoaXMuY2xlYXImJnQuY2xlYXIoKSx0LnJlbmRlcih0aGlzLnNjZW5lLHRoaXMuY2FtZXJhKSx0LnNldFJlbmRlclRhcmdldChlKSx0aGlzLmNsZWFyJiZ0LmNsZWFyKCksdC5yZW5kZXIodGhpcy5zY2VuZSx0aGlzLmNhbWVyYSksYS5idWZmZXJzLmNvbG9yLnNldExvY2tlZCghMSksYS5idWZmZXJzLmRlcHRoLnNldExvY2tlZCghMSksYS5idWZmZXJzLnN0ZW5jaWwuc2V0TG9ja2VkKCExKSxhLmJ1ZmZlcnMuc3RlbmNpbC5zZXRGdW5jKG8uRVFVQUwsMSw0Mjk0OTY3Mjk1KSxhLmJ1ZmZlcnMuc3RlbmNpbC5zZXRPcChvLktFRVAsby5LRUVQLG8uS0VFUCksYS5idWZmZXJzLnN0ZW5jaWwuc2V0TG9ja2VkKCEwKX19KTt2YXIgYz1mdW5jdGlvbigpe2EuYS5jYWxsKHRoaXMpLHRoaXMubmVlZHNTd2FwPSExfTtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEuYS5wcm90b3R5cGUpLE9iamVjdC5hc3NpZ24oYy5wcm90b3R5cGUse3JlbmRlcjpmdW5jdGlvbih0KXt0LnN0YXRlLmJ1ZmZlcnMuc3RlbmNpbC5zZXRMb2NrZWQoITEpLHQuc3RhdGUuYnVmZmVycy5zdGVuY2lsLnNldFRlc3QoITEpfX0pO3ZhciBsPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5yZW5kZXJlcj10LHZvaWQgMD09PWUpe3ZhciBuPXttaW5GaWx0ZXI6ci5MaW5lYXJGaWx0ZXIsbWFnRmlsdGVyOnIuTGluZWFyRmlsdGVyLGZvcm1hdDpyLlJHQkFGb3JtYXR9LGE9dC5nZXRTaXplKG5ldyByLlZlY3RvcjIpO3RoaXMuX3BpeGVsUmF0aW89dC5nZXRQaXhlbFJhdGlvKCksdGhpcy5fd2lkdGg9YS53aWR0aCx0aGlzLl9oZWlnaHQ9YS5oZWlnaHQsKGU9bmV3IHIuV2ViR0xSZW5kZXJUYXJnZXQodGhpcy5fd2lkdGgqdGhpcy5fcGl4ZWxSYXRpbyx0aGlzLl9oZWlnaHQqdGhpcy5fcGl4ZWxSYXRpbyxuKSkudGV4dHVyZS5uYW1lPVwiRWZmZWN0Q29tcG9zZXIucnQxXCJ9ZWxzZSB0aGlzLl9waXhlbFJhdGlvPTEsdGhpcy5fd2lkdGg9ZS53aWR0aCx0aGlzLl9oZWlnaHQ9ZS5oZWlnaHQ7dGhpcy5yZW5kZXJUYXJnZXQxPWUsdGhpcy5yZW5kZXJUYXJnZXQyPWUuY2xvbmUoKSx0aGlzLnJlbmRlclRhcmdldDIudGV4dHVyZS5uYW1lPVwiRWZmZWN0Q29tcG9zZXIucnQyXCIsdGhpcy53cml0ZUJ1ZmZlcj10aGlzLnJlbmRlclRhcmdldDEsdGhpcy5yZWFkQnVmZmVyPXRoaXMucmVuZGVyVGFyZ2V0Mix0aGlzLnJlbmRlclRvU2NyZWVuPSEwLHRoaXMucGFzc2VzPVtdLHZvaWQgMD09PWkmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5FZmZlY3RDb21wb3NlciByZWxpZXMgb24gQ29weVNoYWRlclwiKSx2b2lkIDA9PT1vLlNoYWRlclBhc3MmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5FZmZlY3RDb21wb3NlciByZWxpZXMgb24gU2hhZGVyUGFzc1wiKSx0aGlzLmNvcHlQYXNzPW5ldyBvLlNoYWRlclBhc3MoaSksdGhpcy5jbG9jaz1uZXcgci5DbG9ja307T2JqZWN0LmFzc2lnbihsLnByb3RvdHlwZSx7c3dhcEJ1ZmZlcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRCdWZmZXI7dGhpcy5yZWFkQnVmZmVyPXRoaXMud3JpdGVCdWZmZXIsdGhpcy53cml0ZUJ1ZmZlcj10fSxhZGRQYXNzOmZ1bmN0aW9uKHQpe3RoaXMucGFzc2VzLnB1c2godCksdC5zZXRTaXplKHRoaXMuX3dpZHRoKnRoaXMuX3BpeGVsUmF0aW8sdGhpcy5faGVpZ2h0KnRoaXMuX3BpeGVsUmF0aW8pfSxpbnNlcnRQYXNzOmZ1bmN0aW9uKHQsZSl7dGhpcy5wYXNzZXMuc3BsaWNlKGUsMCx0KSx0LnNldFNpemUodGhpcy5fd2lkdGgqdGhpcy5fcGl4ZWxSYXRpbyx0aGlzLl9oZWlnaHQqdGhpcy5fcGl4ZWxSYXRpbyl9LHJlbW92ZVBhc3M6ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLnBhc3Nlcy5pbmRleE9mKHQpOy0xIT09ZSYmdGhpcy5wYXNzZXMuc3BsaWNlKGUsMSl9LGlzTGFzdEVuYWJsZWRQYXNzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10KzE7ZTx0aGlzLnBhc3Nlcy5sZW5ndGg7ZSsrKWlmKHRoaXMucGFzc2VzW2VdLmVuYWJsZWQpcmV0dXJuITE7cmV0dXJuITB9LHJlbmRlcjpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD10aGlzLmNsb2NrLmdldERlbHRhKCkpO3ZhciBlLG4scj10aGlzLnJlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpLGk9ITEsbz10aGlzLnBhc3Nlcy5sZW5ndGg7Zm9yKG49MDtuPG87bisrKWlmKCExIT09KGU9dGhpcy5wYXNzZXNbbl0pLmVuYWJsZWQpe2lmKGUucmVuZGVyVG9TY3JlZW49dGhpcy5yZW5kZXJUb1NjcmVlbiYmdGhpcy5pc0xhc3RFbmFibGVkUGFzcyhuKSxlLnJlbmRlcih0aGlzLnJlbmRlcmVyLHRoaXMud3JpdGVCdWZmZXIsdGhpcy5yZWFkQnVmZmVyLHQsaSksZS5uZWVkc1N3YXApe2lmKGkpe3ZhciBhPXRoaXMucmVuZGVyZXIuZ2V0Q29udGV4dCgpLGw9dGhpcy5yZW5kZXJlci5zdGF0ZS5idWZmZXJzLnN0ZW5jaWw7bC5zZXRGdW5jKGEuTk9URVFVQUwsMSw0Mjk0OTY3Mjk1KSx0aGlzLmNvcHlQYXNzLnJlbmRlcih0aGlzLnJlbmRlcmVyLHRoaXMud3JpdGVCdWZmZXIsdGhpcy5yZWFkQnVmZmVyLHQpLGwuc2V0RnVuYyhhLkVRVUFMLDEsNDI5NDk2NzI5NSl9dGhpcy5zd2FwQnVmZmVycygpfXZvaWQgMCE9PXMmJihlIGluc3RhbmNlb2Ygcz9pPSEwOmUgaW5zdGFuY2VvZiBjJiYoaT0hMSkpfXRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHIpfSxyZXNldDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXt2YXIgZT10aGlzLnJlbmRlcmVyLmdldFNpemUobmV3IHIuVmVjdG9yMik7dGhpcy5fcGl4ZWxSYXRpbz10aGlzLnJlbmRlcmVyLmdldFBpeGVsUmF0aW8oKSx0aGlzLl93aWR0aD1lLndpZHRoLHRoaXMuX2hlaWdodD1lLmhlaWdodCwodD10aGlzLnJlbmRlclRhcmdldDEuY2xvbmUoKSkuc2V0U2l6ZSh0aGlzLl93aWR0aCp0aGlzLl9waXhlbFJhdGlvLHRoaXMuX2hlaWdodCp0aGlzLl9waXhlbFJhdGlvKX10aGlzLnJlbmRlclRhcmdldDEuZGlzcG9zZSgpLHRoaXMucmVuZGVyVGFyZ2V0Mi5kaXNwb3NlKCksdGhpcy5yZW5kZXJUYXJnZXQxPXQsdGhpcy5yZW5kZXJUYXJnZXQyPXQuY2xvbmUoKSx0aGlzLndyaXRlQnVmZmVyPXRoaXMucmVuZGVyVGFyZ2V0MSx0aGlzLnJlYWRCdWZmZXI9dGhpcy5yZW5kZXJUYXJnZXQyfSxzZXRTaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZTt2YXIgbj10aGlzLl93aWR0aCp0aGlzLl9waXhlbFJhdGlvLHI9dGhpcy5faGVpZ2h0KnRoaXMuX3BpeGVsUmF0aW87dGhpcy5yZW5kZXJUYXJnZXQxLnNldFNpemUobixyKSx0aGlzLnJlbmRlclRhcmdldDIuc2V0U2l6ZShuLHIpO2Zvcih2YXIgaT0wO2k8dGhpcy5wYXNzZXMubGVuZ3RoO2krKyl0aGlzLnBhc3Nlc1tpXS5zZXRTaXplKG4scil9LHNldFBpeGVsUmF0aW86ZnVuY3Rpb24odCl7dGhpcy5fcGl4ZWxSYXRpbz10LHRoaXMuc2V0U2l6ZSh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpfX0pO3ZhciB1LGgsZCxwPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwLHRoaXMubmVlZHNTd2FwPSEwLHRoaXMuY2xlYXI9ITEsdGhpcy5yZW5kZXJUb1NjcmVlbj0hMX07T2JqZWN0LmFzc2lnbihwLnByb3RvdHlwZSx7c2V0U2l6ZTpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlBhc3M6IC5yZW5kZXIoKSBtdXN0IGJlIGltcGxlbWVudGVkIGluIGRlcml2ZWQgcGFzcy5cIil9fSkscC5GdWxsU2NyZWVuUXVhZD0odT1uZXcgci5PcnRob2dyYXBoaWNDYW1lcmEoLTEsMSwxLC0xLDAsMSksaD1uZXcgci5QbGFuZUJ1ZmZlckdlb21ldHJ5KDIsMiksZD1mdW5jdGlvbih0KXt0aGlzLl9tZXNoPW5ldyByLk1lc2goaCx0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwibWF0ZXJpYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2gubWF0ZXJpYWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tZXNoLm1hdGVyaWFsPXR9fSksT2JqZWN0LmFzc2lnbihkLnByb3RvdHlwZSx7ZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX21lc2guZ2VvbWV0cnkuZGlzcG9zZSgpfSxyZW5kZXI6ZnVuY3Rpb24odCl7dC5yZW5kZXIodGhpcy5fbWVzaCx1KX19KSxkKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIkNvbnZleEdlb21ldHJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsXCJDb252ZXhCdWZmZXJHZW9tZXRyeVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT1mdW5jdGlvbigpe3ZhciB0LGUsbixpLG89bmV3IHIuVmVjdG9yMztmdW5jdGlvbiBhKCl7dGhpcy50b2xlcmFuY2U9LTEsdGhpcy5mYWNlcz1bXSx0aGlzLm5ld0ZhY2VzPVtdLHRoaXMuYXNzaWduZWQ9bmV3IHUsdGhpcy51bmFzc2lnbmVkPW5ldyB1LHRoaXMudmVydGljZXM9W119ZnVuY3Rpb24gcygpe3RoaXMubm9ybWFsPW5ldyByLlZlY3RvcjMsdGhpcy5taWRwb2ludD1uZXcgci5WZWN0b3IzLHRoaXMuYXJlYT0wLHRoaXMuY29uc3RhbnQ9MCx0aGlzLm91dHNpZGU9bnVsbCx0aGlzLm1hcms9MCx0aGlzLmVkZ2U9bnVsbH1mdW5jdGlvbiBjKHQsZSl7dGhpcy52ZXJ0ZXg9dCx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLnR3aW49bnVsbCx0aGlzLmZhY2U9ZX1mdW5jdGlvbiBsKHQpe3RoaXMucG9pbnQ9dCx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLmZhY2U9bnVsbH1mdW5jdGlvbiB1KCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGx9cmV0dXJuIE9iamVjdC5hc3NpZ24oYS5wcm90b3R5cGUse3NldEZyb21Qb2ludHM6ZnVuY3Rpb24odCl7ITAhPT1BcnJheS5pc0FycmF5KHQpJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQ29udmV4SHVsbDogUG9pbnRzIHBhcmFtZXRlciBpcyBub3QgYW4gYXJyYXkuXCIpLHQubGVuZ3RoPDQmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Db252ZXhIdWxsOiBUaGUgYWxnb3JpdGhtIG5lZWRzIGF0IGxlYXN0IGZvdXIgcG9pbnRzLlwiKSx0aGlzLm1ha2VFbXB0eSgpO2Zvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLnZlcnRpY2VzLnB1c2gobmV3IGwodFtlXSkpO3JldHVybiB0aGlzLmNvbXB1dGUoKSx0aGlzfSxzZXRGcm9tT2JqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0LnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSx0LnRyYXZlcnNlKChmdW5jdGlvbih0KXt2YXIgbixpLG8sYT10Lmdlb21ldHJ5O2lmKHZvaWQgMCE9PWEpaWYoYS5pc0dlb21ldHJ5KXt2YXIgcz1hLnZlcnRpY2VzO2ZvcihuPTAsaT1zLmxlbmd0aDtuPGk7bisrKShvPXNbbl0uY2xvbmUoKSkuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLGUucHVzaChvKX1lbHNlIGlmKGEuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIGM9YS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHZvaWQgMCE9PWMpZm9yKG49MCxpPWMuY291bnQ7bjxpO24rKykobz1uZXcgci5WZWN0b3IzKS5mcm9tQnVmZmVyQXR0cmlidXRlKGMsbikuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLGUucHVzaChvKX19KSksdGhpcy5zZXRGcm9tUG9pbnRzKGUpfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmZhY2VzLG49MCxyPWUubGVuZ3RoO248cjtuKyspe2lmKGVbbl0uZGlzdGFuY2VUb1BvaW50KHQpPnRoaXMudG9sZXJhbmNlKXJldHVybiExfXJldHVybiEwfSxpbnRlcnNlY3RSYXk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5mYWNlcyxyPS0xLzAsaT0xLzAsbz0wLGE9bi5sZW5ndGg7bzxhO28rKyl7dmFyIHM9bltvXSxjPXMuZGlzdGFuY2VUb1BvaW50KHQub3JpZ2luKSxsPXMubm9ybWFsLmRvdCh0LmRpcmVjdGlvbik7aWYoYz4wJiZsPj0wKXJldHVybiBudWxsO3ZhciB1PTAhPT1sPy1jL2w6MDtpZighKHU8PTApJiYobD4wP2k9TWF0aC5taW4odSxpKTpyPU1hdGgubWF4KHUscikscj5pKSlyZXR1cm4gbnVsbH1yZXR1cm4gciE9PS0xLzA/dC5hdChyLGUpOnQuYXQoaSxlKSxlfSxpbnRlcnNlY3RzUmF5OmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dGhpcy5pbnRlcnNlY3RSYXkodCxvKX0sbWFrZUVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmFjZXM9W10sdGhpcy52ZXJ0aWNlcz1bXSx0aGlzfSxhZGRWZXJ0ZXhUb0ZhY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5mYWNlPWUsbnVsbD09PWUub3V0c2lkZT90aGlzLmFzc2lnbmVkLmFwcGVuZCh0KTp0aGlzLmFzc2lnbmVkLmluc2VydEJlZm9yZShlLm91dHNpZGUsdCksZS5vdXRzaWRlPXQsdGhpc30scmVtb3ZlVmVydGV4RnJvbUZhY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWUub3V0c2lkZSYmKG51bGwhPT10Lm5leHQmJnQubmV4dC5mYWNlPT09ZT9lLm91dHNpZGU9dC5uZXh0OmUub3V0c2lkZT1udWxsKSx0aGlzLmFzc2lnbmVkLnJlbW92ZSh0KSx0aGlzfSxyZW1vdmVBbGxWZXJ0aWNlc0Zyb21GYWNlOmZ1bmN0aW9uKHQpe2lmKG51bGwhPT10Lm91dHNpZGUpe2Zvcih2YXIgZT10Lm91dHNpZGUsbj10Lm91dHNpZGU7bnVsbCE9PW4ubmV4dCYmbi5uZXh0LmZhY2U9PT10OyluPW4ubmV4dDtyZXR1cm4gdGhpcy5hc3NpZ25lZC5yZW1vdmVTdWJMaXN0KGUsbiksZS5wcmV2PW4ubmV4dD1udWxsLHQub3V0c2lkZT1udWxsLGV9fSxkZWxldGVGYWNlVmVydGljZXM6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnJlbW92ZUFsbFZlcnRpY2VzRnJvbUZhY2UodCk7aWYodm9pZCAwIT09bilpZih2b2lkIDA9PT1lKXRoaXMudW5hc3NpZ25lZC5hcHBlbmRDaGFpbihuKTtlbHNle3ZhciByPW47ZG97dmFyIGk9ci5uZXh0O2UuZGlzdGFuY2VUb1BvaW50KHIucG9pbnQpPnRoaXMudG9sZXJhbmNlP3RoaXMuYWRkVmVydGV4VG9GYWNlKHIsZSk6dGhpcy51bmFzc2lnbmVkLmFwcGVuZChyKSxyPWl9d2hpbGUobnVsbCE9PXIpfXJldHVybiB0aGlzfSxyZXNvbHZlVW5hc3NpZ25lZFBvaW50czpmdW5jdGlvbih0KXtpZighMT09PXRoaXMudW5hc3NpZ25lZC5pc0VtcHR5KCkpe3ZhciBlPXRoaXMudW5hc3NpZ25lZC5maXJzdCgpO2Rve2Zvcih2YXIgbj1lLm5leHQscj10aGlzLnRvbGVyYW5jZSxpPW51bGwsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dO2lmKDA9PT1hLm1hcmspe3ZhciBzPWEuZGlzdGFuY2VUb1BvaW50KGUucG9pbnQpO2lmKHM+ciYmKHI9cyxpPWEpLHI+MWUzKnRoaXMudG9sZXJhbmNlKWJyZWFrfX1udWxsIT09aSYmdGhpcy5hZGRWZXJ0ZXhUb0ZhY2UoZSxpKSxlPW59d2hpbGUobnVsbCE9PWUpfXJldHVybiB0aGlzfSxjb21wdXRlRXh0cmVtZXM6ZnVuY3Rpb24oKXt2YXIgdCxlLG4saT1uZXcgci5WZWN0b3IzLG89bmV3IHIuVmVjdG9yMyxhPVtdLHM9W107Zm9yKHQ9MDt0PDM7dCsrKWFbdF09c1t0XT10aGlzLnZlcnRpY2VzWzBdO2ZvcihpLmNvcHkodGhpcy52ZXJ0aWNlc1swXS5wb2ludCksby5jb3B5KHRoaXMudmVydGljZXNbMF0ucG9pbnQpLHQ9MCxlPXRoaXMudmVydGljZXMubGVuZ3RoO3Q8ZTt0Kyspe3ZhciBjPXRoaXMudmVydGljZXNbdF0sbD1jLnBvaW50O2ZvcihuPTA7bjwzO24rKylsLmdldENvbXBvbmVudChuKTxpLmdldENvbXBvbmVudChuKSYmKGkuc2V0Q29tcG9uZW50KG4sbC5nZXRDb21wb25lbnQobikpLGFbbl09Yyk7Zm9yKG49MDtuPDM7bisrKWwuZ2V0Q29tcG9uZW50KG4pPm8uZ2V0Q29tcG9uZW50KG4pJiYoby5zZXRDb21wb25lbnQobixsLmdldENvbXBvbmVudChuKSksc1tuXT1jKX1yZXR1cm4gdGhpcy50b2xlcmFuY2U9MypOdW1iZXIuRVBTSUxPTiooTWF0aC5tYXgoTWF0aC5hYnMoaS54KSxNYXRoLmFicyhvLngpKStNYXRoLm1heChNYXRoLmFicyhpLnkpLE1hdGguYWJzKG8ueSkpK01hdGgubWF4KE1hdGguYWJzKGkueiksTWF0aC5hYnMoby56KSkpLHttaW46YSxtYXg6c319LGNvbXB1dGVJbml0aWFsSHVsbDpmdW5jdGlvbigpe3ZvaWQgMD09PXQmJih0PW5ldyByLkxpbmUzLGU9bmV3IHIuUGxhbmUsbj1uZXcgci5WZWN0b3IzKTt2YXIgaSxvLGEsYyxsLHUsaCxkLHAsZj10aGlzLnZlcnRpY2VzLG09dGhpcy5jb21wdXRlRXh0cmVtZXMoKSxnPW0ubWluLHY9bS5tYXgseT0wLHg9MDtmb3IodT0wO3U8Mzt1KyspKHA9dlt1XS5wb2ludC5nZXRDb21wb25lbnQodSktZ1t1XS5wb2ludC5nZXRDb21wb25lbnQodSkpPnkmJih5PXAseD11KTtmb3Iobz1nW3hdLGE9dlt4XSx5PTAsdC5zZXQoby5wb2ludCxhLnBvaW50KSx1PTAsaD10aGlzLnZlcnRpY2VzLmxlbmd0aDt1PGg7dSsrKShpPWZbdV0pIT09byYmaSE9PWEmJih0LmNsb3Nlc3RQb2ludFRvUG9pbnQoaS5wb2ludCwhMCxuKSwocD1uLmRpc3RhbmNlVG9TcXVhcmVkKGkucG9pbnQpKT55JiYoeT1wLGM9aSkpO2Zvcih5PS0xLGUuc2V0RnJvbUNvcGxhbmFyUG9pbnRzKG8ucG9pbnQsYS5wb2ludCxjLnBvaW50KSx1PTAsaD10aGlzLnZlcnRpY2VzLmxlbmd0aDt1PGg7dSsrKShpPWZbdV0pIT09byYmaSE9PWEmJmkhPT1jJiYocD1NYXRoLmFicyhlLmRpc3RhbmNlVG9Qb2ludChpLnBvaW50KSkpPnkmJih5PXAsbD1pKTt2YXIgYj1bXTtpZihlLmRpc3RhbmNlVG9Qb2ludChsLnBvaW50KTwwKWZvcihiLnB1c2gocy5jcmVhdGUobyxhLGMpLHMuY3JlYXRlKGwsYSxvKSxzLmNyZWF0ZShsLGMsYSkscy5jcmVhdGUobCxvLGMpKSx1PTA7dTwzO3UrKylkPSh1KzEpJTMsYlt1KzFdLmdldEVkZ2UoMikuc2V0VHdpbihiWzBdLmdldEVkZ2UoZCkpLGJbdSsxXS5nZXRFZGdlKDEpLnNldFR3aW4oYltkKzFdLmdldEVkZ2UoMCkpO2Vsc2UgZm9yKGIucHVzaChzLmNyZWF0ZShvLGMsYSkscy5jcmVhdGUobCxvLGEpLHMuY3JlYXRlKGwsYSxjKSxzLmNyZWF0ZShsLGMsbykpLHU9MDt1PDM7dSsrKWQ9KHUrMSklMyxiW3UrMV0uZ2V0RWRnZSgyKS5zZXRUd2luKGJbMF0uZ2V0RWRnZSgoMy11KSUzKSksYlt1KzFdLmdldEVkZ2UoMCkuc2V0VHdpbihiW2QrMV0uZ2V0RWRnZSgxKSk7Zm9yKHU9MDt1PDQ7dSsrKXRoaXMuZmFjZXMucHVzaChiW3VdKTtmb3IodT0wLGg9Zi5sZW5ndGg7dTxoO3UrKylpZigoaT1mW3VdKSE9PW8mJmkhPT1hJiZpIT09YyYmaSE9PWwpe3k9dGhpcy50b2xlcmFuY2U7dmFyIHc9bnVsbDtmb3IoZD0wO2Q8NDtkKyspKHA9dGhpcy5mYWNlc1tkXS5kaXN0YW5jZVRvUG9pbnQoaS5wb2ludCkpPnkmJih5PXAsdz10aGlzLmZhY2VzW2RdKTtudWxsIT09dyYmdGhpcy5hZGRWZXJ0ZXhUb0ZhY2UoaSx3KX1yZXR1cm4gdGhpc30scmVpbmRleEZhY2VzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuZmFjZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5mYWNlc1tlXTswPT09bi5tYXJrJiZ0LnB1c2gobil9cmV0dXJuIHRoaXMuZmFjZXM9dCx0aGlzfSxuZXh0VmVydGV4VG9BZGQ6ZnVuY3Rpb24oKXtpZighMT09PXRoaXMuYXNzaWduZWQuaXNFbXB0eSgpKXt2YXIgdCxlPTAsbj10aGlzLmFzc2lnbmVkLmZpcnN0KCkuZmFjZSxyPW4ub3V0c2lkZTtkb3t2YXIgaT1uLmRpc3RhbmNlVG9Qb2ludChyLnBvaW50KTtpPmUmJihlPWksdD1yKSxyPXIubmV4dH13aGlsZShudWxsIT09ciYmci5mYWNlPT09bik7cmV0dXJuIHR9fSxjb21wdXRlSG9yaXpvbjpmdW5jdGlvbih0LGUsbixyKXt2YXIgaTt0aGlzLmRlbGV0ZUZhY2VWZXJ0aWNlcyhuKSxuLm1hcms9MSxpPW51bGw9PT1lP2U9bi5nZXRFZGdlKDApOmUubmV4dDtkb3t2YXIgbz1pLnR3aW4sYT1vLmZhY2U7MD09PWEubWFyayYmKGEuZGlzdGFuY2VUb1BvaW50KHQpPnRoaXMudG9sZXJhbmNlP3RoaXMuY29tcHV0ZUhvcml6b24odCxvLGEscik6ci5wdXNoKGkpKSxpPWkubmV4dH13aGlsZShpIT09ZSk7cmV0dXJuIHRoaXN9LGFkZEFkam9pbmluZ0ZhY2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1zLmNyZWF0ZSh0LGUudGFpbCgpLGUuaGVhZCgpKTtyZXR1cm4gdGhpcy5mYWNlcy5wdXNoKG4pLG4uZ2V0RWRnZSgtMSkuc2V0VHdpbihlLnR3aW4pLG4uZ2V0RWRnZSgwKX0sYWRkTmV3RmFjZXM6ZnVuY3Rpb24odCxlKXt0aGlzLm5ld0ZhY2VzPVtdO2Zvcih2YXIgbj1udWxsLHI9bnVsbCxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV0sYT10aGlzLmFkZEFkam9pbmluZ0ZhY2UodCxvKTtudWxsPT09bj9uPWE6YS5uZXh0LnNldFR3aW4ociksdGhpcy5uZXdGYWNlcy5wdXNoKGEuZmFjZSkscj1hfXJldHVybiBuLm5leHQuc2V0VHdpbihyKSx0aGlzfSxhZGRWZXJ0ZXhUb0h1bGw6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMudW5hc3NpZ25lZC5jbGVhcigpLHRoaXMucmVtb3ZlVmVydGV4RnJvbUZhY2UodCx0LmZhY2UpLHRoaXMuY29tcHV0ZUhvcml6b24odC5wb2ludCxudWxsLHQuZmFjZSxlKSx0aGlzLmFkZE5ld0ZhY2VzKHQsZSksdGhpcy5yZXNvbHZlVW5hc3NpZ25lZFBvaW50cyh0aGlzLm5ld0ZhY2VzKSx0aGlzfSxjbGVhbnVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWduZWQuY2xlYXIoKSx0aGlzLnVuYXNzaWduZWQuY2xlYXIoKSx0aGlzLm5ld0ZhY2VzPVtdLHRoaXN9LGNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodGhpcy5jb21wdXRlSW5pdGlhbEh1bGwoKTt2b2lkIDAhPT0odD10aGlzLm5leHRWZXJ0ZXhUb0FkZCgpKTspdGhpcy5hZGRWZXJ0ZXhUb0h1bGwodCk7cmV0dXJuIHRoaXMucmVpbmRleEZhY2VzKCksdGhpcy5jbGVhbnVwKCksdGhpc319KSxPYmplY3QuYXNzaWduKHMse2NyZWF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IHMsaT1uZXcgYyh0LHIpLG89bmV3IGMoZSxyKSxhPW5ldyBjKG4scik7cmV0dXJuIGkubmV4dD1hLnByZXY9byxvLm5leHQ9aS5wcmV2PWEsYS5uZXh0PW8ucHJldj1pLHIuZWRnZT1pLHIuY29tcHV0ZSgpfX0pLE9iamVjdC5hc3NpZ24ocy5wcm90b3R5cGUse2dldEVkZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZWRnZTt0PjA7KWU9ZS5uZXh0LHQtLTtmb3IoO3Q8MDspZT1lLnByZXYsdCsrO3JldHVybiBlfSxjb21wdXRlOmZ1bmN0aW9uKCl7dm9pZCAwPT09aSYmKGk9bmV3IHIuVHJpYW5nbGUpO3ZhciB0PXRoaXMuZWRnZS50YWlsKCksZT10aGlzLmVkZ2UuaGVhZCgpLG49dGhpcy5lZGdlLm5leHQuaGVhZCgpO3JldHVybiBpLnNldCh0LnBvaW50LGUucG9pbnQsbi5wb2ludCksaS5nZXROb3JtYWwodGhpcy5ub3JtYWwpLGkuZ2V0TWlkcG9pbnQodGhpcy5taWRwb2ludCksdGhpcy5hcmVhPWkuZ2V0QXJlYSgpLHRoaXMuY29uc3RhbnQ9dGhpcy5ub3JtYWwuZG90KHRoaXMubWlkcG9pbnQpLHRoaXN9LGRpc3RhbmNlVG9Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KHQpLXRoaXMuY29uc3RhbnR9fSksT2JqZWN0LmFzc2lnbihjLnByb3RvdHlwZSx7aGVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleH0sdGFpbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXY/dGhpcy5wcmV2LnZlcnRleDpudWxsfSxsZW5ndGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWQoKSxlPXRoaXMudGFpbCgpO3JldHVybiBudWxsIT09ZT9lLnBvaW50LmRpc3RhbmNlVG8odC5wb2ludCk6LTF9LGxlbmd0aFNxdWFyZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWQoKSxlPXRoaXMudGFpbCgpO3JldHVybiBudWxsIT09ZT9lLnBvaW50LmRpc3RhbmNlVG9TcXVhcmVkKHQucG9pbnQpOi0xfSxzZXRUd2luOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnR3aW49dCx0LnR3aW49dGhpcyx0aGlzfX0pLE9iamVjdC5hc3NpZ24odS5wcm90b3R5cGUse2ZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZH0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhaWx9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmV2PXQucHJldixlLm5leHQ9dCxudWxsPT09ZS5wcmV2P3RoaXMuaGVhZD1lOmUucHJldi5uZXh0PWUsdC5wcmV2PWUsdGhpc30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmV2PXQsZS5uZXh0PXQubmV4dCxudWxsPT09ZS5uZXh0P3RoaXMudGFpbD1lOmUubmV4dC5wcmV2PWUsdC5uZXh0PWUsdGhpc30sYXBwZW5kOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dGhpcy5oZWFkP3RoaXMuaGVhZD10OnRoaXMudGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMudGFpbCx0Lm5leHQ9bnVsbCx0aGlzLnRhaWw9dCx0aGlzfSxhcHBlbmRDaGFpbjpmdW5jdGlvbih0KXtmb3IobnVsbD09PXRoaXMuaGVhZD90aGlzLmhlYWQ9dDp0aGlzLnRhaWwubmV4dD10LHQucHJldj10aGlzLnRhaWw7bnVsbCE9PXQubmV4dDspdD10Lm5leHQ7cmV0dXJuIHRoaXMudGFpbD10LHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXQucHJldj90aGlzLmhlYWQ9dC5uZXh0OnQucHJldi5uZXh0PXQubmV4dCxudWxsPT09dC5uZXh0P3RoaXMudGFpbD10LnByZXY6dC5uZXh0LnByZXY9dC5wcmV2LHRoaXN9LHJlbW92ZVN1Ykxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09PXQucHJldj90aGlzLmhlYWQ9ZS5uZXh0OnQucHJldi5uZXh0PWUubmV4dCxudWxsPT09ZS5uZXh0P3RoaXMudGFpbD10LnByZXY6ZS5uZXh0LnByZXY9dC5wcmV2LHRoaXN9LGlzRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuaGVhZH19KSxhfSgpLG89ZnVuY3Rpb24odCl7ci5HZW9tZXRyeS5jYWxsKHRoaXMpLHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBhKHQpKSx0aGlzLm1lcmdlVmVydGljZXMoKX07by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLkdlb21ldHJ5LnByb3RvdHlwZSksby5wcm90b3R5cGUuY29uc3RydWN0b3I9bzt2YXIgYT1mdW5jdGlvbih0KXtyLkJ1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dmFyIGU9W10sbj1bXTt2b2lkIDA9PT1pJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQ29udmV4QnVmZmVyR2VvbWV0cnk6IENvbnZleEJ1ZmZlckdlb21ldHJ5IHJlbGllcyBvbiBDb252ZXhIdWxsXCIpO2Zvcih2YXIgbz0obmV3IGkpLnNldEZyb21Qb2ludHModCkuZmFjZXMsYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdLGM9cy5lZGdlO2Rve3ZhciBsPWMuaGVhZCgpLnBvaW50O2UucHVzaChsLngsbC55LGwueiksbi5wdXNoKHMubm9ybWFsLngscy5ub3JtYWwueSxzLm5vcm1hbC56KSxjPWMubmV4dH13aGlsZShjIT09cy5lZGdlKX10aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShlLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyByLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobiwzKSl9O2EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJYUkNvbnRyb2xsZXJNb2RlbEZhY3RvcnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcj1uKDApLGk9bigzKTtjb25zdCBvPXtIYW5kZWRuZXNzOk9iamVjdC5mcmVlemUoe05PTkU6XCJub25lXCIsTEVGVDpcImxlZnRcIixSSUdIVDpcInJpZ2h0XCJ9KSxDb21wb25lbnRTdGF0ZTpPYmplY3QuZnJlZXplKHtERUZBVUxUOlwiZGVmYXVsdFwiLFRPVUNIRUQ6XCJ0b3VjaGVkXCIsUFJFU1NFRDpcInByZXNzZWRcIn0pLENvbXBvbmVudFByb3BlcnR5Ok9iamVjdC5mcmVlemUoe0JVVFRPTjpcImJ1dHRvblwiLFhfQVhJUzpcInhBeGlzXCIsWV9BWElTOlwieUF4aXNcIixTVEFURTpcInN0YXRlXCJ9KSxDb21wb25lbnRUeXBlOk9iamVjdC5mcmVlemUoe1RSSUdHRVI6XCJ0cmlnZ2VyXCIsU1FVRUVaRTpcInNxdWVlemVcIixUT1VDSFBBRDpcInRvdWNocGFkXCIsVEhVTUJTVElDSzpcInRodW1ic3RpY2tcIixCVVRUT046XCJidXR0b25cIn0pLEJ1dHRvblRvdWNoVGhyZXNob2xkOi4wNSxBeGlzVG91Y2hUaHJlc2hvbGQ6LjEsVmlzdWFsUmVzcG9uc2VQcm9wZXJ0eTpPYmplY3QuZnJlZXplKHtUUkFOU0ZPUk06XCJ0cmFuc2Zvcm1cIixWSVNJQklMSVRZOlwidmlzaWJpbGl0eVwifSl9O2FzeW5jIGZ1bmN0aW9uIGEodCl7Y29uc3QgZT1hd2FpdCBmZXRjaCh0KTtpZihlLm9rKXJldHVybiBlLmpzb24oKTt0aHJvdyBuZXcgRXJyb3IoZS5zdGF0dXNUZXh0KX1hc3luYyBmdW5jdGlvbiBzKHQsZSxuPW51bGwscj0hMCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTm8geHJJbnB1dFNvdXJjZSBzdXBwbGllZFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBiYXNlUGF0aCBzdXBwbGllZFwiKTtjb25zdCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIk5vIGJhc2VQYXRoIHN1cHBsaWVkXCIpO3JldHVybiBhd2FpdCBhKHQrXCIvcHJvZmlsZXNMaXN0Lmpzb25cIil9KGUpO2xldCBvO2lmKHQucHJvZmlsZXMuc29tZSh0PT57Y29uc3Qgbj1pW3RdO3JldHVybiBuJiYobz17cHJvZmlsZUlkOnQscHJvZmlsZVBhdGg6YCR7ZX0vJHtuLnBhdGh9YCxkZXByZWNhdGVkOiEhbi5kZXByZWNhdGVkfSksISFvfSksIW8pe2lmKCFuKXRocm93IG5ldyBFcnJvcihcIk5vIG1hdGNoaW5nIHByb2ZpbGUgbmFtZSBmb3VuZFwiKTtjb25zdCB0PWlbbl07aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBObyBtYXRjaGluZyBwcm9maWxlIG5hbWUgZm91bmQgYW5kIGRlZmF1bHQgcHJvZmlsZSBcIiR7bn1cIiBtaXNzaW5nLmApO289e3Byb2ZpbGVJZDpuLHByb2ZpbGVQYXRoOmAke2V9LyR7dC5wYXRofWAsZGVwcmVjYXRlZDohIXQuZGVwcmVjYXRlZH19Y29uc3Qgcz1hd2FpdCBhKG8ucHJvZmlsZVBhdGgpO2xldCBjO2lmKHIpe2xldCBlO2lmKGU9XCJhbnlcIj09PXQuaGFuZGVkbmVzcz9zLmxheW91dHNbT2JqZWN0LmtleXMocy5sYXlvdXRzKVswXV06cy5sYXlvdXRzW3QuaGFuZGVkbmVzc10sIWUpdGhyb3cgbmV3IEVycm9yKGBObyBtYXRjaGluZyBoYW5kZWRuZXNzLCAke3QuaGFuZGVkbmVzc30sIGluIHByb2ZpbGUgJHtvLnByb2ZpbGVJZH1gKTtlLmFzc2V0UGF0aCYmKGM9by5wcm9maWxlUGF0aC5yZXBsYWNlKFwicHJvZmlsZS5qc29uXCIsZS5hc3NldFBhdGgpKX1yZXR1cm57cHJvZmlsZTpzLGFzc2V0UGF0aDpjfX1jb25zdCBjPXt4QXhpczowLHlBeGlzOjAsYnV0dG9uOjAsc3RhdGU6by5Db21wb25lbnRTdGF0ZS5ERUZBVUxUfTtjbGFzcyBse2NvbnN0cnVjdG9yKHQpe3RoaXMuY29tcG9uZW50UHJvcGVydHk9dC5jb21wb25lbnRQcm9wZXJ0eSx0aGlzLnN0YXRlcz10LnN0YXRlcyx0aGlzLnZhbHVlTm9kZU5hbWU9dC52YWx1ZU5vZGVOYW1lLHRoaXMudmFsdWVOb2RlUHJvcGVydHk9dC52YWx1ZU5vZGVQcm9wZXJ0eSx0aGlzLnZhbHVlTm9kZVByb3BlcnR5PT09by5WaXN1YWxSZXNwb25zZVByb3BlcnR5LlRSQU5TRk9STSYmKHRoaXMubWluTm9kZU5hbWU9dC5taW5Ob2RlTmFtZSx0aGlzLm1heE5vZGVOYW1lPXQubWF4Tm9kZU5hbWUpLHRoaXMudmFsdWU9MCx0aGlzLnVwZGF0ZUZyb21Db21wb25lbnQoYyl9dXBkYXRlRnJvbUNvbXBvbmVudCh7eEF4aXM6dCx5QXhpczplLGJ1dHRvbjpuLHN0YXRlOnJ9KXtjb25zdHtub3JtYWxpemVkWEF4aXM6aSxub3JtYWxpemVkWUF4aXM6YX09ZnVuY3Rpb24odD0wLGU9MCl7bGV0IG49dCxyPWU7aWYoTWF0aC5zcXJ0KHQqdCtlKmUpPjEpe2NvbnN0IGk9TWF0aC5hdGFuMihlLHQpO249TWF0aC5jb3MoaSkscj1NYXRoLnNpbihpKX1yZXR1cm57bm9ybWFsaXplZFhBeGlzOi41Km4rLjUsbm9ybWFsaXplZFlBeGlzOi41KnIrLjV9fSh0LGUpO3N3aXRjaCh0aGlzLmNvbXBvbmVudFByb3BlcnR5KXtjYXNlIG8uQ29tcG9uZW50UHJvcGVydHkuWF9BWElTOnRoaXMudmFsdWU9dGhpcy5zdGF0ZXMuaW5jbHVkZXMocik/aTouNTticmVhaztjYXNlIG8uQ29tcG9uZW50UHJvcGVydHkuWV9BWElTOnRoaXMudmFsdWU9dGhpcy5zdGF0ZXMuaW5jbHVkZXMocik/YTouNTticmVhaztjYXNlIG8uQ29tcG9uZW50UHJvcGVydHkuQlVUVE9OOnRoaXMudmFsdWU9dGhpcy5zdGF0ZXMuaW5jbHVkZXMocik/bjowO2JyZWFrO2Nhc2Ugby5Db21wb25lbnRQcm9wZXJ0eS5TVEFURTp0aGlzLnZhbHVlTm9kZVByb3BlcnR5PT09by5WaXN1YWxSZXNwb25zZVByb3BlcnR5LlZJU0lCSUxJVFk/dGhpcy52YWx1ZT10aGlzLnN0YXRlcy5pbmNsdWRlcyhyKTp0aGlzLnZhbHVlPXRoaXMuc3RhdGVzLmluY2x1ZGVzKHIpPzE6MDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgdmlzdWFsUmVzcG9uc2UgY29tcG9uZW50UHJvcGVydHkgXCIrdGhpcy5jb21wb25lbnRQcm9wZXJ0eSl9fX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQsZSl7aWYoISh0JiZlJiZlLnZpc3VhbFJlc3BvbnNlcyYmZS5nYW1lcGFkSW5kaWNlcyYmMCE9PU9iamVjdC5rZXlzKGUuZ2FtZXBhZEluZGljZXMpLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgc3VwcGxpZWRcIik7dGhpcy5pZD10LHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yb290Tm9kZU5hbWU9ZS5yb290Tm9kZU5hbWUsdGhpcy50b3VjaFBvaW50Tm9kZU5hbWU9ZS50b3VjaFBvaW50Tm9kZU5hbWUsdGhpcy52aXN1YWxSZXNwb25zZXM9e30sT2JqZWN0LmtleXMoZS52aXN1YWxSZXNwb25zZXMpLmZvckVhY2godD0+e2NvbnN0IG49bmV3IGwoZS52aXN1YWxSZXNwb25zZXNbdF0pO3RoaXMudmlzdWFsUmVzcG9uc2VzW3RdPW59KSx0aGlzLmdhbWVwYWRJbmRpY2VzPU9iamVjdC5hc3NpZ24oe30sZS5nYW1lcGFkSW5kaWNlcyksdGhpcy52YWx1ZXM9e3N0YXRlOm8uQ29tcG9uZW50U3RhdGUuREVGQVVMVCxidXR0b246dm9pZCAwIT09dGhpcy5nYW1lcGFkSW5kaWNlcy5idXR0b24/MDp2b2lkIDAseEF4aXM6dm9pZCAwIT09dGhpcy5nYW1lcGFkSW5kaWNlcy54QXhpcz8wOnZvaWQgMCx5QXhpczp2b2lkIDAhPT10aGlzLmdhbWVwYWRJbmRpY2VzLnlBeGlzPzA6dm9pZCAwfX1nZXQgZGF0YSgpe3JldHVybntpZDp0aGlzLmlkLC4uLnRoaXMudmFsdWVzfX11cGRhdGVGcm9tR2FtZXBhZCh0KXtpZih0aGlzLnZhbHVlcy5zdGF0ZT1vLkNvbXBvbmVudFN0YXRlLkRFRkFVTFQsdm9pZCAwIT09dGhpcy5nYW1lcGFkSW5kaWNlcy5idXR0b24mJnQuYnV0dG9ucy5sZW5ndGg+dGhpcy5nYW1lcGFkSW5kaWNlcy5idXR0b24pe2NvbnN0IGU9dC5idXR0b25zW3RoaXMuZ2FtZXBhZEluZGljZXMuYnV0dG9uXTt0aGlzLnZhbHVlcy5idXR0b249ZS52YWx1ZSx0aGlzLnZhbHVlcy5idXR0b249dGhpcy52YWx1ZXMuYnV0dG9uPDA/MDp0aGlzLnZhbHVlcy5idXR0b24sdGhpcy52YWx1ZXMuYnV0dG9uPXRoaXMudmFsdWVzLmJ1dHRvbj4xPzE6dGhpcy52YWx1ZXMuYnV0dG9uLGUucHJlc3NlZHx8MT09PXRoaXMudmFsdWVzLmJ1dHRvbj90aGlzLnZhbHVlcy5zdGF0ZT1vLkNvbXBvbmVudFN0YXRlLlBSRVNTRUQ6KGUudG91Y2hlZHx8dGhpcy52YWx1ZXMuYnV0dG9uPm8uQnV0dG9uVG91Y2hUaHJlc2hvbGQpJiYodGhpcy52YWx1ZXMuc3RhdGU9by5Db21wb25lbnRTdGF0ZS5UT1VDSEVEKX12b2lkIDAhPT10aGlzLmdhbWVwYWRJbmRpY2VzLnhBeGlzJiZ0LmF4ZXMubGVuZ3RoPnRoaXMuZ2FtZXBhZEluZGljZXMueEF4aXMmJih0aGlzLnZhbHVlcy54QXhpcz10LmF4ZXNbdGhpcy5nYW1lcGFkSW5kaWNlcy54QXhpc10sdGhpcy52YWx1ZXMueEF4aXM9dGhpcy52YWx1ZXMueEF4aXM8LTE/LTE6dGhpcy52YWx1ZXMueEF4aXMsdGhpcy52YWx1ZXMueEF4aXM9dGhpcy52YWx1ZXMueEF4aXM+MT8xOnRoaXMudmFsdWVzLnhBeGlzLHRoaXMudmFsdWVzLnN0YXRlPT09by5Db21wb25lbnRTdGF0ZS5ERUZBVUxUJiZNYXRoLmFicyh0aGlzLnZhbHVlcy54QXhpcyk+by5BeGlzVG91Y2hUaHJlc2hvbGQmJih0aGlzLnZhbHVlcy5zdGF0ZT1vLkNvbXBvbmVudFN0YXRlLlRPVUNIRUQpKSx2b2lkIDAhPT10aGlzLmdhbWVwYWRJbmRpY2VzLnlBeGlzJiZ0LmF4ZXMubGVuZ3RoPnRoaXMuZ2FtZXBhZEluZGljZXMueUF4aXMmJih0aGlzLnZhbHVlcy55QXhpcz10LmF4ZXNbdGhpcy5nYW1lcGFkSW5kaWNlcy55QXhpc10sdGhpcy52YWx1ZXMueUF4aXM9dGhpcy52YWx1ZXMueUF4aXM8LTE/LTE6dGhpcy52YWx1ZXMueUF4aXMsdGhpcy52YWx1ZXMueUF4aXM9dGhpcy52YWx1ZXMueUF4aXM+MT8xOnRoaXMudmFsdWVzLnlBeGlzLHRoaXMudmFsdWVzLnN0YXRlPT09by5Db21wb25lbnRTdGF0ZS5ERUZBVUxUJiZNYXRoLmFicyh0aGlzLnZhbHVlcy55QXhpcyk+by5BeGlzVG91Y2hUaHJlc2hvbGQmJih0aGlzLnZhbHVlcy5zdGF0ZT1vLkNvbXBvbmVudFN0YXRlLlRPVUNIRUQpKSxPYmplY3QudmFsdWVzKHRoaXMudmlzdWFsUmVzcG9uc2VzKS5mb3JFYWNoKHQ9Pnt0LnVwZGF0ZUZyb21Db21wb25lbnQodGhpcy52YWx1ZXMpfSl9fWNsYXNzIGh7Y29uc3RydWN0b3IodCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIk5vIHhySW5wdXRTb3VyY2Ugc3VwcGxpZWRcIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gcHJvZmlsZSBzdXBwbGllZFwiKTt0aGlzLnhySW5wdXRTb3VyY2U9dCx0aGlzLmFzc2V0VXJsPW4sdGhpcy5pZD1lLnByb2ZpbGVJZCx0aGlzLmxheW91dERlc2NyaXB0aW9uPWUubGF5b3V0c1t0LmhhbmRlZG5lc3NdLHRoaXMuY29tcG9uZW50cz17fSxPYmplY3Qua2V5cyh0aGlzLmxheW91dERlc2NyaXB0aW9uLmNvbXBvbmVudHMpLmZvckVhY2godD0+e2NvbnN0IGU9dGhpcy5sYXlvdXREZXNjcmlwdGlvbi5jb21wb25lbnRzW3RdO3RoaXMuY29tcG9uZW50c1t0XT1uZXcgdSh0LGUpfSksdGhpcy51cGRhdGVGcm9tR2FtZXBhZCgpfWdldCBncmlwU3BhY2UoKXtyZXR1cm4gdGhpcy54cklucHV0U291cmNlLmdyaXBTcGFjZX1nZXQgdGFyZ2V0UmF5U3BhY2UoKXtyZXR1cm4gdGhpcy54cklucHV0U291cmNlLnRhcmdldFJheVNwYWNlfWdldCBkYXRhKCl7Y29uc3QgdD1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmNvbXBvbmVudHMpLmZvckVhY2goZT0+e3QucHVzaChlLmRhdGEpfSksdH11cGRhdGVGcm9tR2FtZXBhZCgpe09iamVjdC52YWx1ZXModGhpcy5jb21wb25lbnRzKS5mb3JFYWNoKHQ9Pnt0LnVwZGF0ZUZyb21HYW1lcGFkKHRoaXMueHJJbnB1dFNvdXJjZS5nYW1lcGFkKX0pfX1mdW5jdGlvbiBkKCl7ci5PYmplY3QzRC5jYWxsKHRoaXMpLHRoaXMubW90aW9uQ29udHJvbGxlcj1udWxsLHRoaXMuZW52TWFwPW51bGx9ZnVuY3Rpb24gcCh0LGUpeyFmdW5jdGlvbih0LGUpe09iamVjdC52YWx1ZXModC5jb21wb25lbnRzKS5mb3JFYWNoKHQ9Pntjb25zdHt0eXBlOm4sdG91Y2hQb2ludE5vZGVOYW1lOmksdmlzdWFsUmVzcG9uc2VzOmF9PXQ7aWYobj09PW8uQ29tcG9uZW50VHlwZS5UT1VDSFBBRClpZih0LnRvdWNoUG9pbnROb2RlPWUuZ2V0T2JqZWN0QnlOYW1lKGkpLHQudG91Y2hQb2ludE5vZGUpe2NvbnN0IGU9bmV3IHIuU3BoZXJlQnVmZmVyR2VvbWV0cnkoLjAwMSksbj1uZXcgci5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6MjU1fSksaT1uZXcgci5NZXNoKGUsbik7dC50b3VjaFBvaW50Tm9kZS5hZGQoaSl9ZWxzZSBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kIHRvdWNoIGRvdCwgJHt0LnRvdWNoUG9pbnROb2RlTmFtZX0sIGluIHRvdWNocGFkIGNvbXBvbmVudCAke3QuaWR9YCk7T2JqZWN0LnZhbHVlcyhhKS5mb3JFYWNoKHQ9Pntjb25zdHt2YWx1ZU5vZGVOYW1lOm4sbWluTm9kZU5hbWU6cixtYXhOb2RlTmFtZTppLHZhbHVlTm9kZVByb3BlcnR5OmF9PXQ7aWYoYT09PW8uVmlzdWFsUmVzcG9uc2VQcm9wZXJ0eS5UUkFOU0ZPUk0pe2lmKHQubWluTm9kZT1lLmdldE9iamVjdEJ5TmFtZShyKSx0Lm1heE5vZGU9ZS5nZXRPYmplY3RCeU5hbWUoaSksIXQubWluTm9kZSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kICR7cn0gaW4gdGhlIG1vZGVsYCk7aWYoIXQubWF4Tm9kZSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kICR7aX0gaW4gdGhlIG1vZGVsYCl9dC52YWx1ZU5vZGU9ZS5nZXRPYmplY3RCeU5hbWUobiksdC52YWx1ZU5vZGV8fGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgJHtufSBpbiB0aGUgbW9kZWxgKX0pfSl9KHQubW90aW9uQ29udHJvbGxlcixlKSx0LmVudk1hcCYmZS50cmF2ZXJzZShlPT57ZS5pc01lc2gmJihlLm1hdGVyaWFsLmVudk1hcD10LmVudk1hcCxlLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwKX0pLHQuYWRkKGUpfWQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShyLk9iamVjdDNELnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmQsc2V0RW52aXJvbm1lbnRNYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW52TWFwPT10fHwodGhpcy5lbnZNYXA9dCx0aGlzLnRyYXZlcnNlKHQ9Pnt0LmlzTWVzaCYmKHQubWF0ZXJpYWwuZW52TWFwPXRoaXMuZW52TWFwLHQubWF0ZXJpYWwubmVlZHNVcGRhdGU9ITApfSkpLHRoaXN9LHVwZGF0ZU1hdHJpeFdvcmxkOmZ1bmN0aW9uKHQpe3IuT2JqZWN0M0QucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyx0KSx0aGlzLm1vdGlvbkNvbnRyb2xsZXImJih0aGlzLm1vdGlvbkNvbnRyb2xsZXIudXBkYXRlRnJvbUdhbWVwYWQoKSxPYmplY3QudmFsdWVzKHRoaXMubW90aW9uQ29udHJvbGxlci5jb21wb25lbnRzKS5mb3JFYWNoKHQ9PntPYmplY3QudmFsdWVzKHQudmlzdWFsUmVzcG9uc2VzKS5mb3JFYWNoKHQ9Pntjb25zdHt2YWx1ZU5vZGU6ZSxtaW5Ob2RlOm4sbWF4Tm9kZTppLHZhbHVlOmEsdmFsdWVOb2RlUHJvcGVydHk6c309dDtlJiYocz09PW8uVmlzdWFsUmVzcG9uc2VQcm9wZXJ0eS5WSVNJQklMSVRZP2UudmlzaWJsZT1hOnM9PT1vLlZpc3VhbFJlc3BvbnNlUHJvcGVydHkuVFJBTlNGT1JNJiYoci5RdWF0ZXJuaW9uLnNsZXJwKG4ucXVhdGVybmlvbixpLnF1YXRlcm5pb24sZS5xdWF0ZXJuaW9uLGEpLGUucG9zaXRpb24ubGVycFZlY3RvcnMobi5wb3NpdGlvbixpLnBvc2l0aW9uLGEpKSl9KX0pKX19KTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodD1udWxsKXt0aGlzLmdsdGZMb2FkZXI9dCx0aGlzLnBhdGg9XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B3ZWJ4ci1pbnB1dC1wcm9maWxlcy9hc3NldHNAMS4wL2Rpc3QvcHJvZmlsZXNcIix0aGlzLl9hc3NldENhY2hlPXt9LHRoaXMuZ2x0ZkxvYWRlcnx8KHRoaXMuZ2x0ZkxvYWRlcj1uZXcgaS5HTFRGTG9hZGVyKX1yZXR1cm4gdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnQsY3JlYXRlQ29udHJvbGxlck1vZGVsOmZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IGQ7bGV0IG49bnVsbDtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKFwiY29ubmVjdGVkXCIsdD0+e2NvbnN0IHI9dC5kYXRhO1widHJhY2tlZC1wb2ludGVyXCI9PT1yLnRhcmdldFJheU1vZGUmJnIuZ2FtZXBhZCYmcyhyLHRoaXMucGF0aCxcImdlbmVyaWMtdHJpZ2dlclwiKS50aGVuKCh7cHJvZmlsZTp0LGFzc2V0UGF0aDppfSk9PntlLm1vdGlvbkNvbnRyb2xsZXI9bmV3IGgocix0LGkpO2NvbnN0IG89dGhpcy5fYXNzZXRDYWNoZVtlLm1vdGlvbkNvbnRyb2xsZXIuYXNzZXRVcmxdO2lmKG8pbj1vLnNjZW5lLmNsb25lKCkscChlLG4pO2Vsc2V7aWYoIXRoaXMuZ2x0ZkxvYWRlcil0aHJvdyBuZXcgRXJyb3IoXCJHTFRGTG9hZGVyIG5vdCBzZXQuXCIpO3RoaXMuZ2x0ZkxvYWRlci5zZXRQYXRoKFwiXCIpLHRoaXMuZ2x0ZkxvYWRlci5sb2FkKGUubW90aW9uQ29udHJvbGxlci5hc3NldFVybCx0PT57dGhpcy5fYXNzZXRDYWNoZVtlLm1vdGlvbkNvbnRyb2xsZXIuYXNzZXRVcmxdPXQsbj10LnNjZW5lLmNsb25lKCkscChlLG4pfSxudWxsLCgpPT57dGhyb3cgbmV3IEVycm9yKGBBc3NldCAke2UubW90aW9uQ29udHJvbGxlci5hc3NldFVybH0gbWlzc2luZyBvciBtYWxmb3JtZWQuYCl9KX19KS5jYXRjaCh0PT57Y29uc29sZS53YXJuKHQpfSl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0ZWRcIiwoKT0+e2UubW90aW9uQ29udHJvbGxlcj1udWxsLGUucmVtb3ZlKG4pLG49bnVsbH0pLGV9fSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiQW5pbWF0aW9uQWN0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSk7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LGUsbj1udWxsLHI9ZS5ibGVuZE1vZGUpe3RoaXMuX21peGVyPXQsdGhpcy5fY2xpcD1lLHRoaXMuX2xvY2FsUm9vdD1uLHRoaXMuYmxlbmRNb2RlPXI7Y29uc3QgaT1lLnRyYWNrcyxvPWkubGVuZ3RoLGE9bmV3IEFycmF5KG8pLHM9e2VuZGluZ1N0YXJ0OjI0MDAsZW5kaW5nRW5kOjI0MDB9O2ZvcihsZXQgdD0wO3QhPT1vOysrdCl7Y29uc3QgZT1pW3RdLmNyZWF0ZUludGVycG9sYW50KG51bGwpO2FbdF09ZSxlLnNldHRpbmdzPXN9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncz1zLHRoaXMuX2ludGVycG9sYW50cz1hLHRoaXMuX3Byb3BlcnR5QmluZGluZ3M9bmV3IEFycmF5KG8pLHRoaXMuX2NhY2hlSW5kZXg9bnVsbCx0aGlzLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMubG9vcD0yMjAxLHRoaXMuX2xvb3BDb3VudD0tMSx0aGlzLl9zdGFydFRpbWU9bnVsbCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xLHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT0xLHRoaXMud2VpZ2h0PTEsdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PTEsdGhpcy5yZXBldGl0aW9ucz0xLzAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5lbmFibGVkPSEwLHRoaXMuY2xhbXBXaGVuRmluaXNoZWQ9ITEsdGhpcy56ZXJvU2xvcGVBdFN0YXJ0PSEwLHRoaXMuemVyb1Nsb3BlQXRFbmQ9ITB9cGxheSgpe3JldHVybiB0aGlzLl9taXhlci5fYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpc31zdG9wKCl7cmV0dXJuIHRoaXMuX21peGVyLl9kZWFjdGl2YXRlQWN0aW9uKHRoaXMpLHRoaXMucmVzZXQoKX1yZXNldCgpe3JldHVybiB0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy50aW1lPTAsdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMuc3RvcEZhZGluZygpLnN0b3BXYXJwaW5nKCl9aXNSdW5uaW5nKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmIXRoaXMucGF1c2VkJiYwIT09dGhpcy50aW1lU2NhbGUmJm51bGw9PT10aGlzLl9zdGFydFRpbWUmJnRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX1pc1NjaGVkdWxlZCgpe3JldHVybiB0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyl9c3RhcnRBdCh0KXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPXQsdGhpc31zZXRMb29wKHQsZSl7cmV0dXJuIHRoaXMubG9vcD10LHRoaXMucmVwZXRpdGlvbnM9ZSx0aGlzfXNldEVmZmVjdGl2ZVdlaWdodCh0KXtyZXR1cm4gdGhpcy53ZWlnaHQ9dCx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dGhpcy5lbmFibGVkP3Q6MCx0aGlzLnN0b3BGYWRpbmcoKX1nZXRFZmZlY3RpdmVXZWlnaHQoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0fWZhZGVJbih0KXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcodCwwLDEpfWZhZGVPdXQodCl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKHQsMSwwKX1jcm9zc0ZhZGVGcm9tKHQsZSxuKXtpZih0LmZhZGVPdXQoZSksdGhpcy5mYWRlSW4oZSksbil7Y29uc3Qgbj10aGlzLl9jbGlwLmR1cmF0aW9uLHI9dC5fY2xpcC5kdXJhdGlvbixpPXIvbixvPW4vcjt0LndhcnAoMSxpLGUpLHRoaXMud2FycChvLDEsZSl9cmV0dXJuIHRoaXN9Y3Jvc3NGYWRlVG8odCxlLG4pe3JldHVybiB0LmNyb3NzRmFkZUZyb20odGhpcyxlLG4pfXN0b3BGYWRpbmcoKXtjb25zdCB0PXRoaXMuX3dlaWdodEludGVycG9sYW50O3JldHVybiBudWxsIT09dCYmKHRoaXMuX3dlaWdodEludGVycG9sYW50PW51bGwsdGhpcy5fbWl4ZXIuX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KHQpKSx0aGlzfXNldEVmZmVjdGl2ZVRpbWVTY2FsZSh0KXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9dCx0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dGhpcy5wYXVzZWQ/MDp0LHRoaXMuc3RvcFdhcnBpbmcoKX1nZXRFZmZlY3RpdmVUaW1lU2NhbGUoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlfXNldER1cmF0aW9uKHQpe3JldHVybiB0aGlzLnRpbWVTY2FsZT10aGlzLl9jbGlwLmR1cmF0aW9uL3QsdGhpcy5zdG9wV2FycGluZygpfXN5bmNXaXRoKHQpe3JldHVybiB0aGlzLnRpbWU9dC50aW1lLHRoaXMudGltZVNjYWxlPXQudGltZVNjYWxlLHRoaXMuc3RvcFdhcnBpbmcoKX1oYWx0KHQpe3JldHVybiB0aGlzLndhcnAodGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlLDAsdCl9d2FycCh0LGUsbil7Y29uc3Qgcj10aGlzLl9taXhlcixpPXIudGltZSxvPXRoaXMudGltZVNjYWxlO2xldCBhPXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50O251bGw9PT1hJiYoYT1yLl9sZW5kQ29udHJvbEludGVycG9sYW50KCksdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9YSk7Y29uc3Qgcz1hLnBhcmFtZXRlclBvc2l0aW9ucyxjPWEuc2FtcGxlVmFsdWVzO3JldHVybiBzWzBdPWksc1sxXT1pK24sY1swXT10L28sY1sxXT1lL28sdGhpc31zdG9wV2FycGluZygpe2NvbnN0IHQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7cmV0dXJuIG51bGwhPT10JiYodGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQodCkpLHRoaXN9Z2V0TWl4ZXIoKXtyZXR1cm4gdGhpcy5fbWl4ZXJ9Z2V0Q2xpcCgpe3JldHVybiB0aGlzLl9jbGlwfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fbG9jYWxSb290fHx0aGlzLl9taXhlci5fcm9vdH1fdXBkYXRlKHQsZSxuLHIpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuIHZvaWQgdGhpcy5fdXBkYXRlV2VpZ2h0KHQpO2NvbnN0IGk9dGhpcy5fc3RhcnRUaW1lO2lmKG51bGwhPT1pKXtjb25zdCByPSh0LWkpKm47aWYocjwwfHwwPT09bilyZXR1cm47dGhpcy5fc3RhcnRUaW1lPW51bGwsZT1uKnJ9ZSo9dGhpcy5fdXBkYXRlVGltZVNjYWxlKHQpO2NvbnN0IG89dGhpcy5fdXBkYXRlVGltZShlKSxhPXRoaXMuX3VwZGF0ZVdlaWdodCh0KTtpZihhPjApe2NvbnN0IHQ9dGhpcy5faW50ZXJwb2xhbnRzLGU9dGhpcy5fcHJvcGVydHlCaW5kaW5ncztzd2l0Y2godGhpcy5ibGVuZE1vZGUpe2Nhc2UgMjUwMTpmb3IobGV0IG49MCxyPXQubGVuZ3RoO24hPT1yOysrbil0W25dLmV2YWx1YXRlKG8pLGVbbl0uYWNjdW11bGF0ZUFkZGl0aXZlKGEpO2JyZWFrO2Nhc2UgMjUwMDpkZWZhdWx0OmZvcihsZXQgbj0wLGk9dC5sZW5ndGg7biE9PWk7KytuKXRbbl0uZXZhbHVhdGUobyksZVtuXS5hY2N1bXVsYXRlKHIsYSl9fX1fdXBkYXRlV2VpZ2h0KHQpe2xldCBlPTA7aWYodGhpcy5lbmFibGVkKXtlPXRoaXMud2VpZ2h0O2NvbnN0IG49dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2NvbnN0IHI9bi5ldmFsdWF0ZSh0KVswXTtlKj1yLHQ+bi5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BGYWRpbmcoKSwwPT09ciYmKHRoaXMuZW5hYmxlZD0hMSkpfX1yZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PWUsZX1fdXBkYXRlVGltZVNjYWxlKHQpe2xldCBlPTA7aWYoIXRoaXMucGF1c2VkKXtlPXRoaXMudGltZVNjYWxlO2NvbnN0IG49dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2UqPW4uZXZhbHVhdGUodClbMF0sdD5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcFdhcnBpbmcoKSwwPT09ZT90aGlzLnBhdXNlZD0hMDp0aGlzLnRpbWVTY2FsZT1lKX19cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT1lLGV9X3VwZGF0ZVRpbWUodCl7Y29uc3QgZT10aGlzLl9jbGlwLmR1cmF0aW9uLG49dGhpcy5sb29wO2xldCByPXRoaXMudGltZSt0LGk9dGhpcy5fbG9vcENvdW50O2NvbnN0IG89MjIwMj09PW47aWYoMD09PXQpcmV0dXJuLTE9PT1pP3I6byYmMT09KDEmaSk/ZS1yOnI7aWYoMjIwMD09PW4pey0xPT09aSYmKHRoaXMuX2xvb3BDb3VudD0wLHRoaXMuX3NldEVuZGluZ3MoITAsITAsITEpKTt0OntpZihyPj1lKXI9ZTtlbHNle2lmKCEocjwwKSl7dGhpcy50aW1lPXI7YnJlYWsgdH1yPTB9dGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdGhpcy50aW1lPXIsdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImZpbmlzaGVkXCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOnQ8MD8tMToxfSl9fWVsc2V7aWYoLTE9PT1pJiYodD49MD8oaT0wLHRoaXMuX3NldEVuZGluZ3MoITAsMD09PXRoaXMucmVwZXRpdGlvbnMsbykpOnRoaXMuX3NldEVuZGluZ3MoMD09PXRoaXMucmVwZXRpdGlvbnMsITAsbykpLHI+PWV8fHI8MCl7Y29uc3Qgbj1NYXRoLmZsb29yKHIvZSk7ci09ZSpuLGkrPU1hdGguYWJzKG4pO2NvbnN0IGE9dGhpcy5yZXBldGl0aW9ucy1pO2lmKGE8PTApdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEscj10PjA/ZTowLHRoaXMudGltZT1yLHRoaXMuX21peGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaW5pc2hlZFwiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjp0PjA/MTotMX0pO2Vsc2V7aWYoMT09PWEpe2NvbnN0IGU9dDwwO3RoaXMuX3NldEVuZGluZ3MoZSwhZSxvKX1lbHNlIHRoaXMuX3NldEVuZGluZ3MoITEsITEsbyk7dGhpcy5fbG9vcENvdW50PWksdGhpcy50aW1lPXIsdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxvb3BcIixhY3Rpb246dGhpcyxsb29wRGVsdGE6bn0pfX1lbHNlIHRoaXMudGltZT1yO2lmKG8mJjE9PSgxJmkpKXJldHVybiBlLXJ9cmV0dXJuIHJ9X3NldEVuZGluZ3ModCxlLG4pe2NvbnN0IHI9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncztuPyhyLmVuZGluZ1N0YXJ0PTI0MDEsci5lbmRpbmdFbmQ9MjQwMSk6KHIuZW5kaW5nU3RhcnQ9dD90aGlzLnplcm9TbG9wZUF0U3RhcnQ/MjQwMToyNDAwOjI0MDIsci5lbmRpbmdFbmQ9ZT90aGlzLnplcm9TbG9wZUF0RW5kPzI0MDE6MjQwMDoyNDAyKX1fc2NoZWR1bGVGYWRpbmcodCxlLG4pe2NvbnN0IHI9dGhpcy5fbWl4ZXIsaT1yLnRpbWU7bGV0IG89dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7bnVsbD09PW8mJihvPXIuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1vKTtjb25zdCBhPW8ucGFyYW1ldGVyUG9zaXRpb25zLHM9by5zYW1wbGVWYWx1ZXM7cmV0dXJuIGFbMF09aSxzWzBdPWUsYVsxXT1pK3Qsc1sxXT1uLHRoaXN9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIkdsaXRjaFBhc3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDApLGk9bigxKSxvPXt1bmlmb3Jtczp7dERpZmZ1c2U6e3ZhbHVlOm51bGx9LHREaXNwOnt2YWx1ZTpudWxsfSxieXA6e3ZhbHVlOjB9LGFtb3VudDp7dmFsdWU6LjA4fSxhbmdsZTp7dmFsdWU6LjAyfSxzZWVkOnt2YWx1ZTouMDJ9LHNlZWRfeDp7dmFsdWU6LjAyfSxzZWVkX3k6e3ZhbHVlOi4wMn0sZGlzdG9ydGlvbl94Ont2YWx1ZTouNX0sZGlzdG9ydGlvbl95Ont2YWx1ZTouNn0sY29sX3M6e3ZhbHVlOi4wNX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzIgdlV2O1wiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dlV2ID0gdXY7XCIsXCJcXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widW5pZm9ybSBpbnQgYnlwO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGlzcDtcIixcInVuaWZvcm0gZmxvYXQgYW1vdW50O1wiLFwidW5pZm9ybSBmbG9hdCBhbmdsZTtcIixcInVuaWZvcm0gZmxvYXQgc2VlZDtcIixcInVuaWZvcm0gZmxvYXQgc2VlZF94O1wiLFwidW5pZm9ybSBmbG9hdCBzZWVkX3k7XCIsXCJ1bmlmb3JtIGZsb2F0IGRpc3RvcnRpb25feDtcIixcInVuaWZvcm0gZmxvYXQgZGlzdG9ydGlvbl95O1wiLFwidW5pZm9ybSBmbG9hdCBjb2xfcztcIixcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCJmbG9hdCByYW5kKHZlYzIgY28pe1wiLFwiXFx0cmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHkgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcIixcIn1cIixcInZvaWQgbWFpbigpIHtcIixcIlxcdGlmKGJ5cDwxKSB7XCIsXCJcXHRcXHR2ZWMyIHAgPSB2VXY7XCIsXCJcXHRcXHRmbG9hdCB4cyA9IGZsb29yKGdsX0ZyYWdDb29yZC54IC8gMC41KTtcIixcIlxcdFxcdGZsb2F0IHlzID0gZmxvb3IoZ2xfRnJhZ0Nvb3JkLnkgLyAwLjUpO1wiLFwiXFx0XFx0dmVjNCBub3JtYWwgPSB0ZXh0dXJlMkQgKHREaXNwLCBwKnNlZWQqc2VlZCk7XCIsXCJcXHRcXHRpZihwLnk8ZGlzdG9ydGlvbl94K2NvbF9zICYmIHAueT5kaXN0b3J0aW9uX3gtY29sX3Mqc2VlZCkge1wiLFwiXFx0XFx0XFx0aWYoc2VlZF94PjAuKXtcIixcIlxcdFxcdFxcdFxcdHAueSA9IDEuIC0gKHAueSArIGRpc3RvcnRpb25feSk7XCIsXCJcXHRcXHRcXHR9XCIsXCJcXHRcXHRcXHRlbHNlIHtcIixcIlxcdFxcdFxcdFxcdHAueSA9IGRpc3RvcnRpb25feTtcIixcIlxcdFxcdFxcdH1cIixcIlxcdFxcdH1cIixcIlxcdFxcdGlmKHAueDxkaXN0b3J0aW9uX3krY29sX3MgJiYgcC54PmRpc3RvcnRpb25feS1jb2xfcypzZWVkKSB7XCIsXCJcXHRcXHRcXHRpZihzZWVkX3k+MC4pe1wiLFwiXFx0XFx0XFx0XFx0cC54PWRpc3RvcnRpb25feDtcIixcIlxcdFxcdFxcdH1cIixcIlxcdFxcdFxcdGVsc2Uge1wiLFwiXFx0XFx0XFx0XFx0cC54ID0gMS4gLSAocC54ICsgZGlzdG9ydGlvbl94KTtcIixcIlxcdFxcdFxcdH1cIixcIlxcdFxcdH1cIixcIlxcdFxcdHAueCs9bm9ybWFsLngqc2VlZF94KihzZWVkLzUuKTtcIixcIlxcdFxcdHAueSs9bm9ybWFsLnkqc2VlZF95KihzZWVkLzUuKTtcIixcIlxcdFxcdHZlYzIgb2Zmc2V0ID0gYW1vdW50ICogdmVjMiggY29zKGFuZ2xlKSwgc2luKGFuZ2xlKSk7XCIsXCJcXHRcXHR2ZWM0IGNyID0gdGV4dHVyZTJEKHREaWZmdXNlLCBwICsgb2Zmc2V0KTtcIixcIlxcdFxcdHZlYzQgY2dhID0gdGV4dHVyZTJEKHREaWZmdXNlLCBwKTtcIixcIlxcdFxcdHZlYzQgY2IgPSB0ZXh0dXJlMkQodERpZmZ1c2UsIHAgLSBvZmZzZXQpO1wiLFwiXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjci5yLCBjZ2EuZywgY2IuYiwgY2dhLmEpO1wiLFwiXFx0XFx0dmVjNCBzbm93ID0gMjAwLiphbW91bnQqdmVjNChyYW5kKHZlYzIoeHMgKiBzZWVkLHlzICogc2VlZCo1MC4pKSowLjIpO1wiLFwiXFx0XFx0Z2xfRnJhZ0NvbG9yID0gZ2xfRnJhZ0NvbG9yKyBzbm93O1wiLFwiXFx0fVwiLFwiXFx0ZWxzZSB7XCIsXCJcXHRcXHRnbF9GcmFnQ29sb3I9dGV4dHVyZTJEICh0RGlmZnVzZSwgdlV2KTtcIixcIlxcdH1cIixcIn1cIl0uam9pbihcIlxcblwiKX0sYT1mdW5jdGlvbih0KXtpLmEuY2FsbCh0aGlzKSx2b2lkIDA9PT1vJiZjb25zb2xlLmVycm9yKFwiR2xpdGNoUGFzcyByZWxpZXMgb24gRGlnaXRhbEdsaXRjaFwiKTt2YXIgZT1vO3RoaXMudW5pZm9ybXM9ci5Vbmlmb3Jtc1V0aWxzLmNsb25lKGUudW5pZm9ybXMpLG51bGw9PXQmJih0PTY0KSx0aGlzLnVuaWZvcm1zLnREaXNwLnZhbHVlPXRoaXMuZ2VuZXJhdGVIZWlnaHRtYXAodCksdGhpcy5tYXRlcmlhbD1uZXcgci5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6dGhpcy51bmlmb3Jtcyx2ZXJ0ZXhTaGFkZXI6ZS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ZS5mcmFnbWVudFNoYWRlcn0pLHRoaXMuZnNRdWFkPW5ldyBpLmEuRnVsbFNjcmVlblF1YWQodGhpcy5tYXRlcmlhbCksdGhpcy5nb1dpbGQ9ITEsdGhpcy5jdXJGPTAsdGhpcy5nZW5lcmF0ZVRyaWdnZXIoKX07YS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGkuYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjphLHJlbmRlcjpmdW5jdGlvbih0LGUsbil7dGhpcy51bmlmb3Jtcy50RGlmZnVzZS52YWx1ZT1uLnRleHR1cmUsdGhpcy51bmlmb3Jtcy5zZWVkLnZhbHVlPU1hdGgucmFuZG9tKCksdGhpcy51bmlmb3Jtcy5ieXAudmFsdWU9MCx0aGlzLmN1ckYldGhpcy5yYW5kWD09MHx8MT09dGhpcy5nb1dpbGQ/KHRoaXMudW5pZm9ybXMuYW1vdW50LnZhbHVlPU1hdGgucmFuZG9tKCkvMzAsdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZT1yLk1hdGhVdGlscy5yYW5kRmxvYXQoLU1hdGguUEksTWF0aC5QSSksdGhpcy51bmlmb3Jtcy5zZWVkX3gudmFsdWU9ci5NYXRoVXRpbHMucmFuZEZsb2F0KC0xLDEpLHRoaXMudW5pZm9ybXMuc2VlZF95LnZhbHVlPXIuTWF0aFV0aWxzLnJhbmRGbG9hdCgtMSwxKSx0aGlzLnVuaWZvcm1zLmRpc3RvcnRpb25feC52YWx1ZT1yLk1hdGhVdGlscy5yYW5kRmxvYXQoMCwxKSx0aGlzLnVuaWZvcm1zLmRpc3RvcnRpb25feS52YWx1ZT1yLk1hdGhVdGlscy5yYW5kRmxvYXQoMCwxKSx0aGlzLmN1ckY9MCx0aGlzLmdlbmVyYXRlVHJpZ2dlcigpKTp0aGlzLmN1ckYldGhpcy5yYW5kWDx0aGlzLnJhbmRYLzU/KHRoaXMudW5pZm9ybXMuYW1vdW50LnZhbHVlPU1hdGgucmFuZG9tKCkvOTAsdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZT1yLk1hdGhVdGlscy5yYW5kRmxvYXQoLU1hdGguUEksTWF0aC5QSSksdGhpcy51bmlmb3Jtcy5kaXN0b3J0aW9uX3gudmFsdWU9ci5NYXRoVXRpbHMucmFuZEZsb2F0KDAsMSksdGhpcy51bmlmb3Jtcy5kaXN0b3J0aW9uX3kudmFsdWU9ci5NYXRoVXRpbHMucmFuZEZsb2F0KDAsMSksdGhpcy51bmlmb3Jtcy5zZWVkX3gudmFsdWU9ci5NYXRoVXRpbHMucmFuZEZsb2F0KC0uMywuMyksdGhpcy51bmlmb3Jtcy5zZWVkX3kudmFsdWU9ci5NYXRoVXRpbHMucmFuZEZsb2F0KC0uMywuMykpOjA9PXRoaXMuZ29XaWxkJiYodGhpcy51bmlmb3Jtcy5ieXAudmFsdWU9MSksdGhpcy5jdXJGKyssdGhpcy5yZW5kZXJUb1NjcmVlbj8odC5zZXRSZW5kZXJUYXJnZXQobnVsbCksdGhpcy5mc1F1YWQucmVuZGVyKHQpKToodC5zZXRSZW5kZXJUYXJnZXQoZSksdGhpcy5jbGVhciYmdC5jbGVhcigpLHRoaXMuZnNRdWFkLnJlbmRlcih0KSl9LGdlbmVyYXRlVHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMucmFuZFg9ci5NYXRoVXRpbHMucmFuZEludCgxMjAsMjQwKX0sZ2VuZXJhdGVIZWlnaHRtYXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodCp0KjMpLG49dCp0LGk9MDtpPG47aSsrKXt2YXIgbz1yLk1hdGhVdGlscy5yYW5kRmxvYXQoMCwxKTtlWzMqaSswXT1vLGVbMyppKzFdPW8sZVszKmkrMl09b31yZXR1cm4gbmV3IHIuRGF0YVRleHR1cmUoZSx0LHQsci5SR0JGb3JtYXQsci5GbG9hdFR5cGUpfX0pfV0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgfVxufSkoKTtcbiIsImNvbnN0IFNvY2tldCA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodXJpLCBvcHRzKSA9PiBuZXcgU29ja2V0KHVyaSwgb3B0cyk7XG5cbi8qKlxuICogRXhwb3NlIGRlcHMgZm9yIGxlZ2FjeSBjb21wYXRpYmlsaXR5XG4gKiBhbmQgc3RhbmRhbG9uZSBicm93c2VyIGFjY2Vzcy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5Tb2NrZXQgPSBTb2NrZXQ7XG5tb2R1bGUuZXhwb3J0cy5wcm90b2NvbCA9IFNvY2tldC5wcm90b2NvbDsgLy8gdGhpcyBpcyBhbiBpbnRcbm1vZHVsZS5leHBvcnRzLlRyYW5zcG9ydCA9IHJlcXVpcmUoXCIuL3RyYW5zcG9ydFwiKTtcbm1vZHVsZS5leHBvcnRzLnRyYW5zcG9ydHMgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRzL2luZGV4XCIpO1xubW9kdWxlLmV4cG9ydHMucGFyc2VyID0gcmVxdWlyZShcImVuZ2luZS5pby1wYXJzZXJcIik7XG4iLCJjb25zdCB0cmFuc3BvcnRzID0gcmVxdWlyZShcIi4vdHJhbnNwb3J0cy9pbmRleFwiKTtcbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKFwiY29tcG9uZW50LWVtaXR0ZXJcIik7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKShcImVuZ2luZS5pby1jbGllbnQ6c29ja2V0XCIpO1xuY29uc3QgcGFyc2VyID0gcmVxdWlyZShcImVuZ2luZS5pby1wYXJzZXJcIik7XG5jb25zdCBwYXJzZXVyaSA9IHJlcXVpcmUoXCJwYXJzZXVyaVwiKTtcbmNvbnN0IHBhcnNlcXMgPSByZXF1aXJlKFwicGFyc2Vxc1wiKTtcblxuY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gIC8qKlxuICAgKiBTb2NrZXQgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdXJpIG9yIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHVyaSwgb3B0cyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVyaSkge1xuICAgICAgb3B0cyA9IHVyaTtcbiAgICAgIHVyaSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHVyaSkge1xuICAgICAgdXJpID0gcGFyc2V1cmkodXJpKTtcbiAgICAgIG9wdHMuaG9zdG5hbWUgPSB1cmkuaG9zdDtcbiAgICAgIG9wdHMuc2VjdXJlID0gdXJpLnByb3RvY29sID09PSBcImh0dHBzXCIgfHwgdXJpLnByb3RvY29sID09PSBcIndzc1wiO1xuICAgICAgb3B0cy5wb3J0ID0gdXJpLnBvcnQ7XG4gICAgICBpZiAodXJpLnF1ZXJ5KSBvcHRzLnF1ZXJ5ID0gdXJpLnF1ZXJ5O1xuICAgIH0gZWxzZSBpZiAob3B0cy5ob3N0KSB7XG4gICAgICBvcHRzLmhvc3RuYW1lID0gcGFyc2V1cmkob3B0cy5ob3N0KS5ob3N0O1xuICAgIH1cblxuICAgIHRoaXMuc2VjdXJlID1cbiAgICAgIG51bGwgIT0gb3B0cy5zZWN1cmVcbiAgICAgICAgPyBvcHRzLnNlY3VyZVxuICAgICAgICA6IHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcblxuICAgIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICAgIG9wdHMucG9ydCA9IHRoaXMuc2VjdXJlID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICB9XG5cbiAgICB0aGlzLmhvc3RuYW1lID1cbiAgICAgIG9wdHMuaG9zdG5hbWUgfHxcbiAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgPyBsb2NhdGlvbi5ob3N0bmFtZSA6IFwibG9jYWxob3N0XCIpO1xuICAgIHRoaXMucG9ydCA9XG4gICAgICBvcHRzLnBvcnQgfHxcbiAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24ucG9ydFxuICAgICAgICA/IGxvY2F0aW9uLnBvcnRcbiAgICAgICAgOiB0aGlzLnNlY3VyZVxuICAgICAgICA/IDQ0M1xuICAgICAgICA6IDgwKTtcblxuICAgIHRoaXMudHJhbnNwb3J0cyA9IG9wdHMudHJhbnNwb3J0cyB8fCBbXCJwb2xsaW5nXCIsIFwid2Vic29ja2V0XCJdO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiXCI7XG4gICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG5cbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBwYXRoOiBcIi9lbmdpbmUuaW9cIixcbiAgICAgICAgYWdlbnQ6IGZhbHNlLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICB1cGdyYWRlOiB0cnVlLFxuICAgICAgICBqc29ucDogdHJ1ZSxcbiAgICAgICAgdGltZXN0YW1wUGFyYW06IFwidFwiLFxuICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB7XG4gICAgICAgICAgdGhyZXNob2xkOiAxMDI0XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICBjbG9zZU9uQmVmb3JldW5sb2FkOiB0cnVlXG4gICAgICB9LFxuICAgICAgb3B0c1xuICAgICk7XG5cbiAgICB0aGlzLm9wdHMucGF0aCA9IHRoaXMub3B0cy5wYXRoLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSArIFwiL1wiO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMucXVlcnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMub3B0cy5xdWVyeSA9IHBhcnNlcXMuZGVjb2RlKHRoaXMub3B0cy5xdWVyeSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IG9uIGhhbmRzaGFrZVxuICAgIHRoaXMuaWQgPSBudWxsO1xuICAgIHRoaXMudXBncmFkZXMgPSBudWxsO1xuICAgIHRoaXMucGluZ0ludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnBpbmdUaW1lb3V0ID0gbnVsbDtcblxuICAgIC8vIHNldCBvbiBoZWFydGJlYXRcbiAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VPbkJlZm9yZXVubG9hZCkge1xuICAgICAgICAvLyBGaXJlZm94IGNsb3NlcyB0aGUgY29ubmVjdGlvbiB3aGVuIHRoZSBcImJlZm9yZXVubG9hZFwiIGV2ZW50IGlzIGVtaXR0ZWQgYnV0IG5vdCBDaHJvbWUuIFRoaXMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgLy8gZW5zdXJlcyBldmVyeSBicm93c2VyIGJlaGF2ZXMgdGhlIHNhbWUgKG5vIFwiZGlzY29ubmVjdFwiIGV2ZW50IGF0IHRoZSBTb2NrZXQuSU8gbGV2ZWwgd2hlbiB0aGUgcGFnZSBpc1xuICAgICAgICAvLyBjbG9zZWQvcmVsb2FkZWQpXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ob3N0bmFtZSAhPT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5vZmZsaW5lRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNwb3J0IG5hbWVcbiAgICogQHJldHVybiB7VHJhbnNwb3J0fVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVRyYW5zcG9ydChuYW1lKSB7XG4gICAgZGVidWcoJ2NyZWF0aW5nIHRyYW5zcG9ydCBcIiVzXCInLCBuYW1lKTtcbiAgICBjb25zdCBxdWVyeSA9IGNsb25lKHRoaXMub3B0cy5xdWVyeSk7XG5cbiAgICAvLyBhcHBlbmQgZW5naW5lLmlvIHByb3RvY29sIGlkZW50aWZpZXJcbiAgICBxdWVyeS5FSU8gPSBwYXJzZXIucHJvdG9jb2w7XG5cbiAgICAvLyB0cmFuc3BvcnQgbmFtZVxuICAgIHF1ZXJ5LnRyYW5zcG9ydCA9IG5hbWU7XG5cbiAgICAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcbiAgICBpZiAodGhpcy5pZCkgcXVlcnkuc2lkID0gdGhpcy5pZDtcblxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1tuYW1lXSxcbiAgICAgIHRoaXMub3B0cyxcbiAgICAgIHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHNvY2tldDogdGhpcyxcbiAgICAgICAgaG9zdG5hbWU6IHRoaXMuaG9zdG5hbWUsXG4gICAgICAgIHNlY3VyZTogdGhpcy5zZWN1cmUsXG4gICAgICAgIHBvcnQ6IHRoaXMucG9ydFxuICAgICAgfVxuICAgICk7XG5cbiAgICBkZWJ1ZyhcIm9wdGlvbnM6ICVqXCIsIG9wdHMpO1xuXG4gICAgcmV0dXJuIG5ldyB0cmFuc3BvcnRzW25hbWVdKG9wdHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBvcGVuKCkge1xuICAgIGxldCB0cmFuc3BvcnQ7XG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRzLnJlbWVtYmVyVXBncmFkZSAmJlxuICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyAmJlxuICAgICAgdGhpcy50cmFuc3BvcnRzLmluZGV4T2YoXCJ3ZWJzb2NrZXRcIikgIT09IC0xXG4gICAgKSB7XG4gICAgICB0cmFuc3BvcnQgPSBcIndlYnNvY2tldFwiO1xuICAgIH0gZWxzZSBpZiAoMCA9PT0gdGhpcy50cmFuc3BvcnRzLmxlbmd0aCkge1xuICAgICAgLy8gRW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gaXQgY2FuIGJlIGxpc3RlbmVkIHRvXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKTtcbiAgICAgIH0sIDApO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc3BvcnQgPSB0aGlzLnRyYW5zcG9ydHNbMF07XG4gICAgfVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuXG4gICAgLy8gUmV0cnkgd2l0aCB0aGUgbmV4dCB0cmFuc3BvcnQgaWYgdGhlIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCAoanNvbnA6IGZhbHNlKVxuICAgIHRyeSB7XG4gICAgICB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGRlYnVnKFwiZXJyb3Igd2hpbGUgY3JlYXRpbmcgdHJhbnNwb3J0OiAlc1wiLCBlKTtcbiAgICAgIHRoaXMudHJhbnNwb3J0cy5zaGlmdCgpO1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnQgdHJhbnNwb3J0LiBEaXNhYmxlcyB0aGUgZXhpc3Rpbmcgb25lIChpZiBhbnkpLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNldFRyYW5zcG9ydCh0cmFuc3BvcnQpIHtcbiAgICBkZWJ1ZyhcInNldHRpbmcgdHJhbnNwb3J0ICVzXCIsIHRyYW5zcG9ydC5uYW1lKTtcblxuICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgZGVidWcoXCJjbGVhcmluZyBleGlzdGluZyB0cmFuc3BvcnQgJXNcIiwgdGhpcy50cmFuc3BvcnQubmFtZSk7XG4gICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdXAgdHJhbnNwb3J0XG4gICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgICAvLyBzZXQgdXAgdHJhbnNwb3J0IGxpc3RlbmVyc1xuICAgIHRyYW5zcG9ydFxuICAgICAgLm9uKFwiZHJhaW5cIiwgdGhpcy5vbkRyYWluLmJpbmQodGhpcykpXG4gICAgICAub24oXCJwYWNrZXRcIiwgdGhpcy5vblBhY2tldC5iaW5kKHRoaXMpKVxuICAgICAgLm9uKFwiZXJyb3JcIiwgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAub24oXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMub25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2JlcyBhIHRyYW5zcG9ydC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgcHJvYmUobmFtZSkge1xuICAgIGRlYnVnKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLCBuYW1lKTtcbiAgICBsZXQgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQobmFtZSwgeyBwcm9iZTogMSB9KTtcbiAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG5cbiAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG5cbiAgICBjb25zdCBvblRyYW5zcG9ydE9wZW4gPSAoKSA9PiB7XG4gICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG5cbiAgICAgIGRlYnVnKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIG9wZW5lZCcsIG5hbWUpO1xuICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJwaW5nXCIsIGRhdGE6IFwicHJvYmVcIiB9XSk7XG4gICAgICB0cmFuc3BvcnQub25jZShcInBhY2tldFwiLCBtc2cgPT4ge1xuICAgICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG4gICAgICAgIGlmIChcInBvbmdcIiA9PT0gbXNnLnR5cGUgJiYgXCJwcm9iZVwiID09PSBtc2cuZGF0YSkge1xuICAgICAgICAgIGRlYnVnKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIHBvbmcnLCBuYW1lKTtcbiAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5lbWl0KFwidXBncmFkaW5nXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgaWYgKCF0cmFuc3BvcnQpIHJldHVybjtcbiAgICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gXCJ3ZWJzb2NrZXRcIiA9PT0gdHJhbnNwb3J0Lm5hbWU7XG5cbiAgICAgICAgICBkZWJ1ZygncGF1c2luZyBjdXJyZW50IHRyYW5zcG9ydCBcIiVzXCInLCB0aGlzLnRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgICAgICAgICBkZWJ1ZyhcImNoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldFwiKTtcblxuICAgICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJ1cGdyYWRlXCIgfV0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwidXBncmFkZVwiLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJywgbmFtZSk7XG4gICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7XG4gICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgIHRoaXMuZW1pdChcInVwZ3JhZGVFcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZnJlZXplVHJhbnNwb3J0KCkge1xuICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuXG4gICAgICAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcbiAgICAgIGZhaWxlZCA9IHRydWU7XG5cbiAgICAgIGNsZWFudXAoKTtcblxuICAgICAgdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBhbnkgZXJyb3IgdGhhdCBoYXBwZW5zIHdoaWxlIHByb2JpbmdcbiAgICBjb25zdCBvbmVycm9yID0gZXJyID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3I6IFwiICsgZXJyKTtcbiAgICAgIGVycm9yLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuXG4gICAgICBmcmVlemVUcmFuc3BvcnQoKTtcblxuICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkIGJlY2F1c2Ugb2YgZXJyb3I6ICVzJywgbmFtZSwgZXJyKTtcblxuICAgICAgdGhpcy5lbWl0KFwidXBncmFkZUVycm9yXCIsIGVycm9yKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgIG9uZXJyb3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgICBvbmVycm9yKFwic29ja2V0IGNsb3NlZFwiKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgdXBncmFkZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgIGZ1bmN0aW9uIG9udXBncmFkZSh0bykge1xuICAgICAgaWYgKHRyYW5zcG9ydCAmJiB0by5uYW1lICE9PSB0cmFuc3BvcnQubmFtZSkge1xuICAgICAgICBkZWJ1ZygnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJywgdG8ubmFtZSwgdHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBvbiB0aGUgdHJhbnNwb3J0IGFuZCBvbiBzZWxmXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgfTtcblxuICAgIHRyYW5zcG9ydC5vbmNlKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgIHRyYW5zcG9ydC5vbmNlKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgdHJhbnNwb3J0Lm9uY2UoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcblxuICAgIHRoaXMub25jZShcImNsb3NlXCIsIG9uY2xvc2UpO1xuICAgIHRoaXMub25jZShcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuXG4gICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBjb25uZWN0aW9uIGlzIGRlZW1lZCBvcGVuLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgb25PcGVuKCkge1xuICAgIGRlYnVnKFwic29ja2V0IG9wZW5cIik7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IFwid2Vic29ja2V0XCIgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gICAgdGhpcy5lbWl0KFwib3BlblwiKTtcbiAgICB0aGlzLmZsdXNoKCk7XG5cbiAgICAvLyB3ZSBjaGVjayBmb3IgYHJlYWR5U3RhdGVgIGluIGNhc2UgYW4gYG9wZW5gXG4gICAgLy8gbGlzdGVuZXIgYWxyZWFkeSBjbG9zZWQgdGhlIHNvY2tldFxuICAgIGlmIChcbiAgICAgIFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgJiZcbiAgICAgIHRoaXMub3B0cy51cGdyYWRlICYmXG4gICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZVxuICAgICkge1xuICAgICAgZGVidWcoXCJzdGFydGluZyB1cGdyYWRlIHByb2Jlc1wiKTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGNvbnN0IGwgPSB0aGlzLnVwZ3JhZGVzLmxlbmd0aDtcbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMucHJvYmUodGhpcy51cGdyYWRlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBwYWNrZXQuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgaWYgKFxuICAgICAgXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZVxuICAgICkge1xuICAgICAgZGVidWcoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLCBwYWNrZXQudHlwZSwgcGFja2V0LmRhdGEpO1xuXG4gICAgICB0aGlzLmVtaXQoXCJwYWNrZXRcIiwgcGFja2V0KTtcblxuICAgICAgLy8gU29ja2V0IGlzIGxpdmUgLSBhbnkgcGFja2V0IGNvdW50c1xuICAgICAgdGhpcy5lbWl0KFwiaGVhcnRiZWF0XCIpO1xuXG4gICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgdGhpcy5vbkhhbmRzaGFrZShKU09OLnBhcnNlKHBhY2tldC5kYXRhKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJwb25nXCIpO1xuICAgICAgICAgIHRoaXMuZW1pdChcInBvbmdcIik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwic2VydmVyIGVycm9yXCIpO1xuICAgICAgICAgIGVyci5jb2RlID0gcGFja2V0LmRhdGE7XG4gICAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICB0aGlzLmVtaXQoXCJkYXRhXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcoJ3BhY2tldCByZWNlaXZlZCB3aXRoIHNvY2tldCByZWFkeVN0YXRlIFwiJXNcIicsIHRoaXMucmVhZHlTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gaGFuZHNoYWtlIG9ialxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9uSGFuZHNoYWtlKGRhdGEpIHtcbiAgICB0aGlzLmVtaXQoXCJoYW5kc2hha2VcIiwgZGF0YSk7XG4gICAgdGhpcy5pZCA9IGRhdGEuc2lkO1xuICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgIHRoaXMudXBncmFkZXMgPSB0aGlzLmZpbHRlclVwZ3JhZGVzKGRhdGEudXBncmFkZXMpO1xuICAgIHRoaXMucGluZ0ludGVydmFsID0gZGF0YS5waW5nSW50ZXJ2YWw7XG4gICAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgdGhpcy5vbk9wZW4oKTtcbiAgICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkgcmV0dXJuO1xuICAgIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW5kIHJlc2V0cyBwaW5nIHRpbWVvdXQgdGltZXIgYmFzZWQgb24gc2VydmVyIHBpbmdzLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHJlc2V0UGluZ1RpbWVvdXQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXRUaW1lcik7XG4gICAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm9uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIik7XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwgKyB0aGlzLnBpbmdUaW1lb3V0KTtcbiAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBgZHJhaW5gIGV2ZW50XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25EcmFpbigpIHtcbiAgICB0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLCB0aGlzLnByZXZCdWZmZXJMZW4pO1xuXG4gICAgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAgIC8vIGZvciBleGFtcGxlLCB3aGVuIHVwZ3JhZGluZywgdXBncmFkZSBwYWNrZXQgaXMgc2VudCBvdmVyLFxuICAgIC8vIGFuZCBhIG5vbnplcm8gcHJldkJ1ZmZlckxlbiBjb3VsZCBjYXVzZSBwcm9ibGVtcyBvbiBgZHJhaW5gXG4gICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcblxuICAgIGlmICgwID09PSB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgdGhpcy5lbWl0KFwiZHJhaW5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmx1c2ggd3JpdGUgYnVmZmVycy5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBmbHVzaCgpIHtcbiAgICBpZiAoXG4gICAgICBcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUgJiZcbiAgICAgIHRoaXMudHJhbnNwb3J0LndyaXRhYmxlICYmXG4gICAgICAhdGhpcy51cGdyYWRpbmcgJiZcbiAgICAgIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoXG4gICAgKSB7XG4gICAgICBkZWJ1ZyhcImZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0XCIsIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKTtcbiAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlcik7XG4gICAgICAvLyBrZWVwIHRyYWNrIG9mIGN1cnJlbnQgbGVuZ3RoIG9mIHdyaXRlQnVmZmVyXG4gICAgICAvLyBzcGxpY2Ugd3JpdGVCdWZmZXIgYW5kIGNhbGxiYWNrQnVmZmVyIG9uIGBkcmFpbmBcbiAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgICAgdGhpcy5lbWl0KFwiZmx1c2hcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICB3cml0ZShtc2csIG9wdGlvbnMsIGZuKSB7XG4gICAgdGhpcy5zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlbmQobXNnLCBvcHRpb25zLCBmbikge1xuICAgIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBwYWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYWNrZXQgdHlwZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzZW5kUGFja2V0KHR5cGUsIGRhdGEsIG9wdGlvbnMsIGZuKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICAgIGZuID0gZGF0YTtcbiAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgIGZuID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcblxuICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgIH07XG4gICAgdGhpcy5lbWl0KFwicGFja2V0Q3JlYXRlXCIsIHBhY2tldCk7XG4gICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgaWYgKGZuKSB0aGlzLm9uY2UoXCJmbHVzaFwiLCBmbik7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub25DbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgIGRlYnVnKFwic29ja2V0IGNsb3NpbmcgLSB0ZWxsaW5nIHRyYW5zcG9ydCB0byBjbG9zZVwiKTtcbiAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFudXBBbmRDbG9zZSA9ICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICBjbG9zZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCB3YWl0Rm9yVXBncmFkZSA9ICgpID0+IHtcbiAgICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICB9O1xuXG4gICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zaW5nXCI7XG5cbiAgICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBlcnJvclxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9uRXJyb3IoZXJyKSB7XG4gICAgZGVidWcoXCJzb2NrZXQgZXJyb3IgJWpcIiwgZXJyKTtcbiAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgZXJyb3JcIiwgZXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgY2xvc2UuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25DbG9zZShyZWFzb24sIGRlc2MpIHtcbiAgICBpZiAoXG4gICAgICBcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlXG4gICAgKSB7XG4gICAgICBkZWJ1Zygnc29ja2V0IGNsb3NlIHdpdGggcmVhc29uOiBcIiVzXCInLCByZWFzb24pO1xuXG4gICAgICAvLyBjbGVhciB0aW1lcnNcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuXG4gICAgICAvLyBzdG9wIGV2ZW50IGZyb20gZmlyaW5nIGFnYWluIGZvciB0cmFuc3BvcnRcbiAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycyhcImNsb3NlXCIpO1xuXG4gICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcblxuICAgICAgLy8gaWdub3JlIGZ1cnRoZXIgdHJhbnNwb3J0IGNvbW11bmljYXRpb25cbiAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICBpZiAodHlwZW9mIHJlbW92ZUV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCByZWFkeSBzdGF0ZVxuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcblxuICAgICAgLy8gY2xlYXIgc2Vzc2lvbiBpZFxuICAgICAgdGhpcy5pZCA9IG51bGw7XG5cbiAgICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICAgIHRoaXMuZW1pdChcImNsb3NlXCIsIHJlYXNvbiwgZGVzYyk7XG5cbiAgICAgIC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgICAgLy8gZ3JhYiB0aGUgYnVmZmVycyBvbiBgY2xvc2VgIGV2ZW50XG4gICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIHVwZ3JhZGVzLCByZXR1cm5pbmcgb25seSB0aG9zZSBtYXRjaGluZyBjbGllbnQgdHJhbnNwb3J0cy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gc2VydmVyIHVwZ3JhZGVzXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKlxuICAgKi9cbiAgZmlsdGVyVXBncmFkZXModXBncmFkZXMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZFVwZ3JhZGVzID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGogPSB1cGdyYWRlcy5sZW5ndGg7XG4gICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKVxuICAgICAgICBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyZWRVcGdyYWRlcztcbiAgfVxufVxuXG5Tb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG5cbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b2NvbCA9IHBhcnNlci5wcm90b2NvbDsgLy8gdGhpcyBpcyBhbiBpbnRcblxuZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gIGNvbnN0IG8gPSB7fTtcbiAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICBvW2ldID0gb2JqW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTb2NrZXQ7XG4iLCJjb25zdCBwYXJzZXIgPSByZXF1aXJlKFwiZW5naW5lLmlvLXBhcnNlclwiKTtcbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKFwiY29tcG9uZW50LWVtaXR0ZXJcIik7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKShcImVuZ2luZS5pby1jbGllbnQ6dHJhbnNwb3J0XCIpO1xuXG5jbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgLyoqXG4gICAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiXCI7XG4gICAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9IGZvciBjaGFpbmluZ1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgb25FcnJvcihtc2csIGRlc2MpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgICBlcnIudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICBlcnIuZGVzY3JpcHRpb24gPSBkZXNjO1xuICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIlwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgdGhpcy5kb09wZW4oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHNcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzZW5kKHBhY2tldHMpIHtcbiAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhpcyBtaWdodCBoYXBwZW4gaWYgdGhlIHRyYW5zcG9ydCB3YXMgc2lsZW50bHkgY2xvc2VkIGluIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgaGFuZGxlclxuICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgaXMgbm90IG9wZW4sIGRpc2NhcmRpbmcgcGFja2V0c1wiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gb3BlblxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9uT3BlbigpIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLmVtaXQoXCJvcGVuXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25EYXRhKGRhdGEpIHtcbiAgICBjb25zdCBwYWNrZXQgPSBwYXJzZXIuZGVjb2RlUGFja2V0KGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO1xuICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2l0aCBhIGRlY29kZWQgcGFja2V0LlxuICAgKi9cbiAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgdGhpcy5lbWl0KFwicGFja2V0XCIsIHBhY2tldCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gY2xvc2UuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25DbG9zZSgpIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgIHRoaXMuZW1pdChcImNsb3NlXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNwb3J0O1xuIiwiY29uc3QgWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vY29udHJpYi94bWxodHRwcmVxdWVzdC1zc2wvWE1MSHR0cFJlcXVlc3RcIik7XG5jb25zdCBYSFIgPSByZXF1aXJlKFwiLi9wb2xsaW5nLXhoclwiKTtcbmNvbnN0IEpTT05QID0gcmVxdWlyZShcIi4vcG9sbGluZy1qc29ucFwiKTtcbmNvbnN0IHdlYnNvY2tldCA9IHJlcXVpcmUoXCIuL3dlYnNvY2tldFwiKTtcblxuZXhwb3J0cy5wb2xsaW5nID0gcG9sbGluZztcbmV4cG9ydHMud2Vic29ja2V0ID0gd2Vic29ja2V0O1xuXG4vKipcbiAqIFBvbGxpbmcgdHJhbnNwb3J0IHBvbHltb3JwaGljIGNvbnN0cnVjdG9yLlxuICogRGVjaWRlcyBvbiB4aHIgdnMganNvbnAgYmFzZWQgb24gZmVhdHVyZSBkZXRlY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcG9sbGluZyhvcHRzKSB7XG4gIGxldCB4aHI7XG4gIGxldCB4ZCA9IGZhbHNlO1xuICBsZXQgeHMgPSBmYWxzZTtcbiAgY29uc3QganNvbnAgPSBmYWxzZSAhPT0gb3B0cy5qc29ucDtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICBsZXQgcG9ydCA9IGxvY2F0aW9uLnBvcnQ7XG5cbiAgICAvLyBzb21lIHVzZXIgYWdlbnRzIGhhdmUgZW1wdHkgYGxvY2F0aW9uLnBvcnRgXG4gICAgaWYgKCFwb3J0KSB7XG4gICAgICBwb3J0ID0gaXNTU0wgPyA0NDMgOiA4MDtcbiAgICB9XG5cbiAgICB4ZCA9IG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lIHx8IHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICB4cyA9IG9wdHMuc2VjdXJlICE9PSBpc1NTTDtcbiAgfVxuXG4gIG9wdHMueGRvbWFpbiA9IHhkO1xuICBvcHRzLnhzY2hlbWUgPSB4cztcbiAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KG9wdHMpO1xuXG4gIGlmIChcIm9wZW5cIiBpbiB4aHIgJiYgIW9wdHMuZm9yY2VKU09OUCkge1xuICAgIHJldHVybiBuZXcgWEhSKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghanNvbnApIHRocm93IG5ldyBFcnJvcihcIkpTT05QIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiBuZXcgSlNPTlAob3B0cyk7XG4gIH1cbn1cbiIsImNvbnN0IFBvbGxpbmcgPSByZXF1aXJlKFwiLi9wb2xsaW5nXCIpO1xuY29uc3QgZ2xvYmFsVGhpcyA9IHJlcXVpcmUoXCIuLi9nbG9iYWxUaGlzXCIpO1xuXG5jb25zdCByTmV3bGluZSA9IC9cXG4vZztcbmNvbnN0IHJFc2NhcGVkTmV3bGluZSA9IC9cXFxcbi9nO1xuXG4vKipcbiAqIEdsb2JhbCBKU09OUCBjYWxsYmFja3MuXG4gKi9cblxubGV0IGNhbGxiYWNrcztcblxuY2xhc3MgSlNPTlBQb2xsaW5nIGV4dGVuZHMgUG9sbGluZyB7XG4gIC8qKlxuICAgKiBKU09OUCBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cy5cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcblxuICAgIHRoaXMucXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuXG4gICAgLy8gZGVmaW5lIGdsb2JhbCBjYWxsYmFja3MgYXJyYXkgaWYgbm90IHByZXNlbnRcbiAgICAvLyB3ZSBkbyB0aGlzIGhlcmUgKGxhemlseSkgdG8gYXZvaWQgdW5uZWVkZWQgZ2xvYmFsIHBvbGx1dGlvblxuICAgIGlmICghY2FsbGJhY2tzKSB7XG4gICAgICAvLyB3ZSBuZWVkIHRvIGNvbnNpZGVyIG11bHRpcGxlIGVuZ2luZXMgaW4gdGhlIHNhbWUgcGFnZVxuICAgICAgY2FsbGJhY2tzID0gZ2xvYmFsVGhpcy5fX19laW8gPSBnbG9iYWxUaGlzLl9fX2VpbyB8fCBbXTtcbiAgICB9XG5cbiAgICAvLyBjYWxsYmFjayBpZGVudGlmaWVyXG4gICAgdGhpcy5pbmRleCA9IGNhbGxiYWNrcy5sZW5ndGg7XG5cbiAgICAvLyBhZGQgY2FsbGJhY2sgdG8ganNvbnAgZ2xvYmFsXG4gICAgY2FsbGJhY2tzLnB1c2godGhpcy5vbkRhdGEuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBhcHBlbmQgdG8gcXVlcnkgc3RyaW5nXG4gICAgdGhpcy5xdWVyeS5qID0gdGhpcy5pbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBKU09OUCBvbmx5IHN1cHBvcnRzIGJpbmFyeSBhcyBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG4gICAqL1xuICBnZXQgc3VwcG9ydHNCaW5hcnkoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgc29ja2V0LlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRvQ2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuc2NyaXB0KSB7XG4gICAgICAvLyBwcmV2ZW50IHNwdXJpb3VzIGVycm9ycyBmcm9tIGJlaW5nIGVtaXR0ZWQgd2hlbiB0aGUgd2luZG93IGlzIHVubG9hZGVkXG4gICAgICB0aGlzLnNjcmlwdC5vbmVycm9yID0gKCkgPT4ge307XG4gICAgICB0aGlzLnNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2NyaXB0KTtcbiAgICAgIHRoaXMuc2NyaXB0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb3JtKSB7XG4gICAgICB0aGlzLmZvcm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmZvcm0pO1xuICAgICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICAgIHRoaXMuaWZyYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICBzdXBlci5kb0Nsb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIGEgcG9sbCBjeWNsZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkb1BvbGwoKSB7XG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAgIGlmICh0aGlzLnNjcmlwdCkge1xuICAgICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCk7XG4gICAgICB0aGlzLnNjcmlwdCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICBzY3JpcHQuc3JjID0gdGhpcy51cmkoKTtcbiAgICBzY3JpcHQub25lcnJvciA9IGUgPT4ge1xuICAgICAgdGhpcy5vbkVycm9yKFwianNvbnAgcG9sbCBlcnJvclwiLCBlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaW5zZXJ0QXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtcbiAgICBpZiAoaW5zZXJ0QXQpIHtcbiAgICAgIGluc2VydEF0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgaW5zZXJ0QXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH1cbiAgICB0aGlzLnNjcmlwdCA9IHNjcmlwdDtcblxuICAgIGNvbnN0IGlzVUFnZWNrbyA9XG4gICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgbmF2aWdhdG9yICYmIC9nZWNrby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICBpZiAoaXNVQWdlY2tvKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyB3aXRoIGEgaGlkZGVuIGlmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkb1dyaXRlKGRhdGEsIGZuKSB7XG4gICAgbGV0IGlmcmFtZTtcblxuICAgIGlmICghdGhpcy5mb3JtKSB7XG4gICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgICBjb25zdCBhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgICAgY29uc3QgaWQgPSAodGhpcy5pZnJhbWVJZCA9IFwiZWlvX2lmcmFtZV9cIiArIHRoaXMuaW5kZXgpO1xuXG4gICAgICBmb3JtLmNsYXNzTmFtZSA9IFwic29ja2V0aW9cIjtcbiAgICAgIGZvcm0uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBmb3JtLnN0eWxlLnRvcCA9IFwiLTEwMDBweFwiO1xuICAgICAgZm9ybS5zdHlsZS5sZWZ0ID0gXCItMTAwMHB4XCI7XG4gICAgICBmb3JtLnRhcmdldCA9IGlkO1xuICAgICAgZm9ybS5tZXRob2QgPSBcIlBPU1RcIjtcbiAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwiYWNjZXB0LWNoYXJzZXRcIiwgXCJ1dGYtOFwiKTtcbiAgICAgIGFyZWEubmFtZSA9IFwiZFwiO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChhcmVhKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cbiAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgICB0aGlzLmFyZWEgPSBhcmVhO1xuICAgIH1cblxuICAgIHRoaXMuZm9ybS5hY3Rpb24gPSB0aGlzLnVyaSgpO1xuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpbml0SWZyYW1lKCk7XG4gICAgICBmbigpO1xuICAgIH1cblxuICAgIGNvbnN0IGluaXRJZnJhbWUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pZnJhbWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmZvcm0ucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5vbkVycm9yKFwianNvbnAgcG9sbGluZyBpZnJhbWUgcmVtb3ZhbCBlcnJvclwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBpZTYgZHluYW1pYyBpZnJhbWVzIHdpdGggdGFyZ2V0PVwiXCIgc3VwcG9ydCAodGhhbmtzIENocmlzIExhbWJhY2hlcilcbiAgICAgICAgY29uc3QgaHRtbCA9ICc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIG5hbWU9XCInICsgdGhpcy5pZnJhbWVJZCArICdcIj4nO1xuICAgICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBpZnJhbWUubmFtZSA9IHRoaXMuaWZyYW1lSWQ7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBcImphdmFzY3JpcHQ6MFwiO1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuaWQgPSB0aGlzLmlmcmFtZUlkO1xuXG4gICAgICB0aGlzLmZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgIHRoaXMuaWZyYW1lID0gaWZyYW1lO1xuICAgIH07XG5cbiAgICBpbml0SWZyYW1lKCk7XG5cbiAgICAvLyBlc2NhcGUgXFxuIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyBjb252ZXJ0ZWQgaW50byBcXHJcXG4gYnkgc29tZSBVQXNcbiAgICAvLyBkb3VibGUgZXNjYXBpbmcgaXMgcmVxdWlyZWQgZm9yIGVzY2FwZWQgbmV3IGxpbmVzIGJlY2F1c2UgdW5lc2NhcGluZyBvZiBuZXcgbGluZXMgY2FuIGJlIGRvbmUgc2FmZWx5IG9uIHNlcnZlci1zaWRlXG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZShyRXNjYXBlZE5ld2xpbmUsIFwiXFxcXFxcblwiKTtcbiAgICB0aGlzLmFyZWEudmFsdWUgPSBkYXRhLnJlcGxhY2Uock5ld2xpbmUsIFwiXFxcXG5cIik7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5mb3JtLnN1Ym1pdCgpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICBpZiAodGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQpIHtcbiAgICAgIHRoaXMuaWZyYW1lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaWZyYW1lLnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaWZyYW1lLm9ubG9hZCA9IGNvbXBsZXRlO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEpTT05QUG9sbGluZztcbiIsIi8qIGdsb2JhbCBhdHRhY2hFdmVudCAqL1xuXG5jb25zdCBYTUxIdHRwUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9jb250cmliL3htbGh0dHByZXF1ZXN0LXNzbC9YTUxIdHRwUmVxdWVzdFwiKTtcbmNvbnN0IFBvbGxpbmcgPSByZXF1aXJlKFwiLi9wb2xsaW5nXCIpO1xuY29uc3QgRW1pdHRlciA9IHJlcXVpcmUoXCJjb21wb25lbnQtZW1pdHRlclwiKTtcbmNvbnN0IHsgcGljayB9ID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5jb25zdCBnbG9iYWxUaGlzID0gcmVxdWlyZShcIi4uL2dsb2JhbFRoaXNcIik7XG5cbmNvbnN0IGRlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpKFwiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhoclwiKTtcblxuLyoqXG4gKiBFbXB0eSBmdW5jdGlvblxuICovXG5cbmZ1bmN0aW9uIGVtcHR5KCkge31cblxuY29uc3QgaGFzWEhSMiA9IChmdW5jdGlvbigpIHtcbiAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KHsgeGRvbWFpbjogZmFsc2UgfSk7XG4gIHJldHVybiBudWxsICE9IHhoci5yZXNwb25zZVR5cGU7XG59KSgpO1xuXG5jbGFzcyBYSFIgZXh0ZW5kcyBQb2xsaW5nIHtcbiAgLyoqXG4gICAqIFhIUiBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKG9wdHMpO1xuXG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc3QgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIGxldCBwb3J0ID0gbG9jYXRpb24ucG9ydDtcblxuICAgICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgIHBvcnQgPSBpc1NTTCA/IDQ0MyA6IDgwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnhkID1cbiAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgIG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lKSB8fFxuICAgICAgICBwb3J0ICE9PSBvcHRzLnBvcnQ7XG4gICAgICB0aGlzLnhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBYSFIgc3VwcG9ydHMgYmluYXJ5XG4gICAgICovXG4gICAgY29uc3QgZm9yY2VCYXNlNjQgPSBvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGhhc1hIUjIgJiYgIWZvcmNlQmFzZTY0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgcmVxdWVzdChvcHRzID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKG9wdHMsIHsgeGQ6IHRoaXMueGQsIHhzOiB0aGlzLnhzIH0sIHRoaXMub3B0cyk7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMudXJpKCksIG9wdHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxlZCB1cG9uIGZsdXNoLlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICBjb25zdCByZXEgPSB0aGlzLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KTtcbiAgICByZXEub24oXCJzdWNjZXNzXCIsIGZuKTtcbiAgICByZXEub24oXCJlcnJvclwiLCBlcnIgPT4ge1xuICAgICAgdGhpcy5vbkVycm9yKFwieGhyIHBvc3QgZXJyb3JcIiwgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRvUG9sbCgpIHtcbiAgICBkZWJ1ZyhcInhociBwb2xsXCIpO1xuICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgIHJlcS5vbihcImRhdGFcIiwgdGhpcy5vbkRhdGEuYmluZCh0aGlzKSk7XG4gICAgcmVxLm9uKFwiZXJyb3JcIiwgZXJyID0+IHtcbiAgICAgIHRoaXMub25FcnJvcihcInhociBwb2xsIGVycm9yXCIsIGVycik7XG4gICAgfSk7XG4gICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICB9XG59XG5cbmNsYXNzIFJlcXVlc3QgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgLyoqXG4gICAqIFJlcXVlc3QgY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcblxuICAgIHRoaXMubWV0aG9kID0gb3B0cy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICB0aGlzLmFzeW5jID0gZmFsc2UgIT09IG9wdHMuYXN5bmM7XG4gICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkICE9PSBvcHRzLmRhdGEgPyBvcHRzLmRhdGEgOiBudWxsO1xuXG4gICAgdGhpcy5jcmVhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjcmVhdGUoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHBpY2soXG4gICAgICB0aGlzLm9wdHMsXG4gICAgICBcImFnZW50XCIsXG4gICAgICBcImVuYWJsZXNYRFJcIixcbiAgICAgIFwicGZ4XCIsXG4gICAgICBcImtleVwiLFxuICAgICAgXCJwYXNzcGhyYXNlXCIsXG4gICAgICBcImNlcnRcIixcbiAgICAgIFwiY2FcIixcbiAgICAgIFwiY2lwaGVyc1wiLFxuICAgICAgXCJyZWplY3RVbmF1dGhvcml6ZWRcIixcbiAgICAgIFwiYXV0b1VucmVmXCJcbiAgICApO1xuICAgIG9wdHMueGRvbWFpbiA9ICEhdGhpcy5vcHRzLnhkO1xuICAgIG9wdHMueHNjaGVtZSA9ICEhdGhpcy5vcHRzLnhzO1xuXG4gICAgY29uc3QgeGhyID0gKHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KG9wdHMpKTtcblxuICAgIHRyeSB7XG4gICAgICBkZWJ1ZyhcInhociBvcGVuICVzOiAlc1wiLCB0aGlzLm1ldGhvZCwgdGhpcy51cmkpO1xuICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJpLCB0aGlzLmFzeW5jKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayAmJiB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrKHRydWUpO1xuICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgdGhpcy5vcHRzLmV4dHJhSGVhZGVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAoXCJQT1NUXCIgPT09IHRoaXMubWV0aG9kKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiKi8qXCIpO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgLy8gaWU2IGNoZWNrXG4gICAgICBpZiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdHMucmVxdWVzdFRpbWVvdXQpIHtcbiAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLm9wdHMucmVxdWVzdFRpbWVvdXQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhhc1hEUigpKSB7XG4gICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkxvYWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoNCAhPT0geGhyLnJlYWR5U3RhdGUpIHJldHVybjtcbiAgICAgICAgICBpZiAoMjAwID09PSB4aHIuc3RhdHVzIHx8IDEyMjMgPT09IHhoci5zdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMub25Mb2FkKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgYGVycm9yYCBldmVudCBoYW5kbGVyIHRoYXQncyB1c2VyLXNldFxuICAgICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcih0eXBlb2YgeGhyLnN0YXR1cyA9PT0gXCJudW1iZXJcIiA/IHhoci5zdGF0dXMgOiAwKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZGVidWcoXCJ4aHIgZGF0YSAlc1wiLCB0aGlzLmRhdGEpO1xuICAgICAgeGhyLnNlbmQodGhpcy5kYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5vbkVycm9yKGUpO1xuICAgICAgfSwgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5pbmRleCA9IFJlcXVlc3QucmVxdWVzdHNDb3VudCsrO1xuICAgICAgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XSA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgb25TdWNjZXNzKCkge1xuICAgIHRoaXMuZW1pdChcInN1Y2Nlc3NcIik7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGlmIHdlIGhhdmUgZGF0YS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBvbkRhdGEoZGF0YSkge1xuICAgIHRoaXMuZW1pdChcImRhdGFcIiwgZGF0YSk7XG4gICAgdGhpcy5vblN1Y2Nlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBlcnJvci5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBvbkVycm9yKGVycikge1xuICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgdGhpcy5jbGVhbnVwKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFucyB1cCBob3VzZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjbGVhbnVwKGZyb21FcnJvcikge1xuICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgdGhpcy54aHIgfHwgbnVsbCA9PT0gdGhpcy54aHIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8geG1saHR0cHJlcXVlc3RcbiAgICBpZiAodGhpcy5oYXNYRFIoKSkge1xuICAgICAgdGhpcy54aHIub25sb2FkID0gdGhpcy54aHIub25lcnJvciA9IGVtcHR5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eTtcbiAgICB9XG5cbiAgICBpZiAoZnJvbUVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBkZWxldGUgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XTtcbiAgICB9XG5cbiAgICB0aGlzLnhociA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbG9hZC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBvbkxvYWQoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlVGV4dDtcbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5vbkRhdGEoZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGl0IGhhcyBYRG9tYWluUmVxdWVzdC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBoYXNYRFIoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhdGhpcy54cyAmJiB0aGlzLmVuYWJsZXNYRFI7XG4gIH1cblxuICAvKipcbiAgICogQWJvcnRzIHRoZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgYWJvcnQoKSB7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBYm9ydHMgcGVuZGluZyByZXF1ZXN0cyB3aGVuIHVubG9hZGluZyB0aGUgd2luZG93LiBUaGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50XG4gKiBtZW1vcnkgbGVha3MgKGUuZy4gd2hlbiB1c2luZyBJRSkgYW5kIHRvIGVuc3VyZSB0aGF0IG5vIHNwdXJpb3VzIGVycm9yIGlzXG4gKiBlbWl0dGVkLlxuICovXG5cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG5cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY29uc3QgdGVybWluYXRpb25FdmVudCA9IFwib25wYWdlaGlkZVwiIGluIGdsb2JhbFRoaXMgPyBcInBhZ2VoaWRlXCIgOiBcInVubG9hZFwiO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIodGVybWluYXRpb25FdmVudCwgdW5sb2FkSGFuZGxlciwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVubG9hZEhhbmRsZXIoKSB7XG4gIGZvciAobGV0IGkgaW4gUmVxdWVzdC5yZXF1ZXN0cykge1xuICAgIGlmIChSZXF1ZXN0LnJlcXVlc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICBSZXF1ZXN0LnJlcXVlc3RzW2ldLmFib3J0KCk7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gWEhSO1xubW9kdWxlLmV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG4iLCJjb25zdCBUcmFuc3BvcnQgPSByZXF1aXJlKFwiLi4vdHJhbnNwb3J0XCIpO1xuY29uc3QgcGFyc2VxcyA9IHJlcXVpcmUoXCJwYXJzZXFzXCIpO1xuY29uc3QgcGFyc2VyID0gcmVxdWlyZShcImVuZ2luZS5pby1wYXJzZXJcIik7XG5jb25zdCB5ZWFzdCA9IHJlcXVpcmUoXCJ5ZWFzdFwiKTtcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmdcIik7XG5cbmNsYXNzIFBvbGxpbmcgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAvKipcbiAgICogVHJhbnNwb3J0IG5hbWUuXG4gICAqL1xuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gXCJwb2xsaW5nXCI7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIHNvY2tldCAodHJpZ2dlcnMgcG9sbGluZykuIFdlIHdyaXRlIGEgUElORyBtZXNzYWdlIHRvIGRldGVybWluZVxuICAgKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkb09wZW4oKSB7XG4gICAgdGhpcy5wb2xsKCk7XG4gIH1cblxuICAvKipcbiAgICogUGF1c2VzIHBvbGxpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHBhdXNlKG9uUGF1c2UpIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNpbmdcIjtcblxuICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgZGVidWcoXCJwYXVzZWRcIik7XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNlZFwiO1xuICAgICAgb25QYXVzZSgpO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5wb2xsaW5nIHx8ICF0aGlzLndyaXRhYmxlKSB7XG4gICAgICBsZXQgdG90YWwgPSAwO1xuXG4gICAgICBpZiAodGhpcy5wb2xsaW5nKSB7XG4gICAgICAgIGRlYnVnKFwid2UgYXJlIGN1cnJlbnRseSBwb2xsaW5nIC0gd2FpdGluZyB0byBwYXVzZVwiKTtcbiAgICAgICAgdG90YWwrKztcbiAgICAgICAgdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRlYnVnKFwicHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGVcIik7XG4gICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLndyaXRhYmxlKSB7XG4gICAgICAgIGRlYnVnKFwid2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIC0gd2FpdGluZyB0byBwYXVzZVwiKTtcbiAgICAgICAgdG90YWwrKztcbiAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVidWcoXCJwcmUtcGF1c2Ugd3JpdGluZyBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIHBvbGwoKSB7XG4gICAgZGVidWcoXCJwb2xsaW5nXCIpO1xuICAgIHRoaXMucG9sbGluZyA9IHRydWU7XG4gICAgdGhpcy5kb1BvbGwoKTtcbiAgICB0aGlzLmVtaXQoXCJwb2xsXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9uRGF0YShkYXRhKSB7XG4gICAgZGVidWcoXCJwb2xsaW5nIGdvdCBkYXRhICVzXCIsIGRhdGEpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gcGFja2V0ID0+IHtcbiAgICAgIC8vIGlmIGl0cyB0aGUgZmlyc3QgbWVzc2FnZSB3ZSBjb25zaWRlciB0aGUgdHJhbnNwb3J0IG9wZW5cbiAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlICYmIHBhY2tldC50eXBlID09PSBcIm9wZW5cIikge1xuICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBpdHMgYSBjbG9zZSBwYWNrZXQsIHdlIGNsb3NlIHRoZSBvbmdvaW5nIHJlcXVlc3RzXG4gICAgICBpZiAoXCJjbG9zZVwiID09PSBwYWNrZXQudHlwZSkge1xuICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBvdGhlcndpc2UgYnlwYXNzIG9uRGF0YSBhbmQgaGFuZGxlIHRoZSBtZXNzYWdlXG4gICAgICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG4gICAgfTtcblxuICAgIC8vIGRlY29kZSBwYXlsb2FkXG4gICAgcGFyc2VyLmRlY29kZVBheWxvYWQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSkuZm9yRWFjaChjYWxsYmFjayk7XG5cbiAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgIGlmIChcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgIC8vIGlmIHdlIGdvdCBkYXRhIHdlJ3JlIG5vdCBwb2xsaW5nXG4gICAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW1pdChcInBvbGxDb21wbGV0ZVwiKTtcblxuICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygnaWdub3JpbmcgcG9sbCAtIHRyYW5zcG9ydCBzdGF0ZSBcIiVzXCInLCB0aGlzLnJlYWR5U3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgcG9sbGluZywgc2VuZCBhIGNsb3NlIHBhY2tldC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkb0Nsb3NlKCkge1xuICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgZGVidWcoXCJ3cml0aW5nIGNsb3NlIHBhY2tldFwiKTtcbiAgICAgIHRoaXMud3JpdGUoW3sgdHlwZTogXCJjbG9zZVwiIH1dKTtcbiAgICB9O1xuXG4gICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgIGRlYnVnKFwidHJhbnNwb3J0IG9wZW4gLSBjbG9zaW5nXCIpO1xuICAgICAgY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW4gY2FzZSB3ZSdyZSB0cnlpbmcgdG8gY2xvc2Ugd2hpbGVcbiAgICAgIC8vIGhhbmRzaGFraW5nIGlzIGluIHByb2dyZXNzIChHSC0xNjQpXG4gICAgICBkZWJ1ZyhcInRyYW5zcG9ydCBub3Qgb3BlbiAtIGRlZmVycmluZyBjbG9zZVwiKTtcbiAgICAgIHRoaXMub25jZShcIm9wZW5cIiwgY2xvc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgYSBwYWNrZXRzIHBheWxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgcGFja2V0c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmFpbiBjYWxsYmFja1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHdyaXRlKHBhY2tldHMpIHtcbiAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgICBwYXJzZXIuZW5jb2RlUGF5bG9hZChwYWNrZXRzLCBkYXRhID0+IHtcbiAgICAgIHRoaXMuZG9Xcml0ZShkYXRhLCAoKSA9PiB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmVtaXQoXCJkcmFpblwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgdXJpKCkge1xuICAgIGxldCBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiO1xuICAgIGxldCBwb3J0ID0gXCJcIjtcblxuICAgIC8vIGNhY2hlIGJ1c3RpbmcgaXMgZm9yY2VkXG4gICAgaWYgKGZhbHNlICE9PSB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICBxdWVyeS5iNjQgPSAxO1xuICAgIH1cblxuICAgIHF1ZXJ5ID0gcGFyc2Vxcy5lbmNvZGUocXVlcnkpO1xuXG4gICAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdHMucG9ydCAmJlxuICAgICAgKChcImh0dHBzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA0NDMpIHx8XG4gICAgICAgIChcImh0dHBcIiA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSlcbiAgICApIHtcbiAgICAgIHBvcnQgPSBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgIH1cblxuICAgIC8vIHByZXBlbmQgPyB0byBxdWVyeVxuICAgIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICAgIHF1ZXJ5ID0gXCI/XCIgKyBxdWVyeTtcbiAgICB9XG5cbiAgICBjb25zdCBpcHY2ID0gdGhpcy5vcHRzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICByZXR1cm4gKFxuICAgICAgc2NoZW1hICtcbiAgICAgIFwiOi8vXCIgK1xuICAgICAgKGlwdjYgPyBcIltcIiArIHRoaXMub3B0cy5ob3N0bmFtZSArIFwiXVwiIDogdGhpcy5vcHRzLmhvc3RuYW1lKSArXG4gICAgICBwb3J0ICtcbiAgICAgIHRoaXMub3B0cy5wYXRoICtcbiAgICAgIHF1ZXJ5XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvbGxpbmc7XG4iLCJjb25zdCBnbG9iYWxUaGlzID0gcmVxdWlyZShcIi4uL2dsb2JhbFRoaXNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBXZWJTb2NrZXQ6IGdsb2JhbFRoaXMuV2ViU29ja2V0IHx8IGdsb2JhbFRoaXMuTW96V2ViU29ja2V0LFxuICB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQ6IHRydWUsXG4gIGRlZmF1bHRCaW5hcnlUeXBlOiBcImFycmF5YnVmZmVyXCJcbn07XG4iLCJjb25zdCBUcmFuc3BvcnQgPSByZXF1aXJlKFwiLi4vdHJhbnNwb3J0XCIpO1xuY29uc3QgcGFyc2VyID0gcmVxdWlyZShcImVuZ2luZS5pby1wYXJzZXJcIik7XG5jb25zdCBwYXJzZXFzID0gcmVxdWlyZShcInBhcnNlcXNcIik7XG5jb25zdCB5ZWFzdCA9IHJlcXVpcmUoXCJ5ZWFzdFwiKTtcbmNvbnN0IHsgcGljayB9ID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5jb25zdCB7XG4gIFdlYlNvY2tldCxcbiAgdXNpbmdCcm93c2VyV2ViU29ja2V0LFxuICBkZWZhdWx0QmluYXJ5VHlwZVxufSA9IHJlcXVpcmUoXCIuL3dlYnNvY2tldC1jb25zdHJ1Y3RvclwiKTtcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJlbmdpbmUuaW8tY2xpZW50OndlYnNvY2tldFwiKTtcblxuLy8gZGV0ZWN0IFJlYWN0TmF0aXZlIGVudmlyb25tZW50XG5jb25zdCBpc1JlYWN0TmF0aXZlID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICB0eXBlb2YgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwic3RyaW5nXCIgJiZcbiAgbmF2aWdhdG9yLnByb2R1Y3QudG9Mb3dlckNhc2UoKSA9PT0gXCJyZWFjdG5hdGl2ZVwiO1xuXG5jbGFzcyBXUyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gIC8qKlxuICAgKiBXZWJTb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAYXBpIHtPYmplY3R9IGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKG9wdHMpO1xuXG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9ICFvcHRzLmZvcmNlQmFzZTY0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zcG9ydCBuYW1lLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIFwid2Vic29ja2V0XCI7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgc29ja2V0LlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRvT3BlbigpIHtcbiAgICBpZiAoIXRoaXMuY2hlY2soKSkge1xuICAgICAgLy8gbGV0IHByb2JlIHRpbWVvdXRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cmkgPSB0aGlzLnVyaSgpO1xuICAgIGNvbnN0IHByb3RvY29scyA9IHRoaXMub3B0cy5wcm90b2NvbHM7XG5cbiAgICAvLyBSZWFjdCBOYXRpdmUgb25seSBzdXBwb3J0cyB0aGUgJ2hlYWRlcnMnIG9wdGlvbiwgYW5kIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIGFueXRoaW5nIGVsc2UgaXMgcGFzc2VkXG4gICAgY29uc3Qgb3B0cyA9IGlzUmVhY3ROYXRpdmVcbiAgICAgID8ge31cbiAgICAgIDogcGljayhcbiAgICAgICAgICB0aGlzLm9wdHMsXG4gICAgICAgICAgXCJhZ2VudFwiLFxuICAgICAgICAgIFwicGVyTWVzc2FnZURlZmxhdGVcIixcbiAgICAgICAgICBcInBmeFwiLFxuICAgICAgICAgIFwia2V5XCIsXG4gICAgICAgICAgXCJwYXNzcGhyYXNlXCIsXG4gICAgICAgICAgXCJjZXJ0XCIsXG4gICAgICAgICAgXCJjYVwiLFxuICAgICAgICAgIFwiY2lwaGVyc1wiLFxuICAgICAgICAgIFwicmVqZWN0VW5hdXRob3JpemVkXCIsXG4gICAgICAgICAgXCJsb2NhbEFkZHJlc3NcIixcbiAgICAgICAgICBcInByb3RvY29sVmVyc2lvblwiLFxuICAgICAgICAgIFwib3JpZ2luXCIsXG4gICAgICAgICAgXCJtYXhQYXlsb2FkXCIsXG4gICAgICAgICAgXCJmYW1pbHlcIixcbiAgICAgICAgICBcImNoZWNrU2VydmVySWRlbnRpdHlcIlxuICAgICAgICApO1xuXG4gICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgIG9wdHMuaGVhZGVycyA9IHRoaXMub3B0cy5leHRyYUhlYWRlcnM7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMud3MgPVxuICAgICAgICB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIWlzUmVhY3ROYXRpdmVcbiAgICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgICAgPyBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzKVxuICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0KHVyaSlcbiAgICAgICAgICA6IG5ldyBXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMsIG9wdHMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgfVxuXG4gICAgdGhpcy53cy5iaW5hcnlUeXBlID0gdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSB8fCBkZWZhdWx0QmluYXJ5VHlwZTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc29ja2V0XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICB0aGlzLndzLl9zb2NrZXQudW5yZWYoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgfTtcbiAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLm9uQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGV2ID0+IHRoaXMub25EYXRhKGV2LmRhdGEpO1xuICAgIHRoaXMud3Mub25lcnJvciA9IGUgPT4gdGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsIGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyBkYXRhIHRvIHNvY2tldC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgb2YgcGFja2V0cy5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICB3cml0ZShwYWNrZXRzKSB7XG4gICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuXG4gICAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAvLyBubyBuZWVkIGZvciBlbmNvZGVQYXlsb2FkXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcblxuICAgICAgcGFyc2VyLmVuY29kZVBhY2tldChwYWNrZXQsIHRoaXMuc3VwcG9ydHNCaW5hcnksIGRhdGEgPT4ge1xuICAgICAgICAvLyBhbHdheXMgY3JlYXRlIGEgbmV3IG9iamVjdCAoR0gtNDM3KVxuICAgICAgICBjb25zdCBvcHRzID0ge307XG4gICAgICAgIGlmICghdXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgaWYgKHBhY2tldC5vcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gcGFja2V0Lm9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbGVuID1cbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRhdGEgPyBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA8IHRoaXMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgLy8gVHlwZUVycm9yIGlzIHRocm93biB3aGVuIHBhc3NpbmcgdGhlIHNlY29uZCBhcmd1bWVudCBvbiBTYWZhcmlcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cy5zZW5kKGRhdGEsIG9wdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlYnVnKFwid2Vic29ja2V0IGNsb3NlZCBiZWZvcmUgb25jbG9zZSBldmVudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgLy8gZmFrZSBkcmFpblxuICAgICAgICAgIC8vIGRlZmVyIHRvIG5leHQgdGljayB0byBhbGxvdyBTb2NrZXQgdG8gY2xlYXIgd3JpdGVCdWZmZXJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiZHJhaW5cIik7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBjbG9zZVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9uQ2xvc2UoKSB7XG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlLmNhbGwodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHNvY2tldC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkb0Nsb3NlKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgdXJpKCkge1xuICAgIGxldCBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwid3NzXCIgOiBcIndzXCI7XG4gICAgbGV0IHBvcnQgPSBcIlwiO1xuXG4gICAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdHMucG9ydCAmJlxuICAgICAgKChcIndzc1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICAgICAoXCJ3c1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gODApKVxuICAgICkge1xuICAgICAgcG9ydCA9IFwiOlwiICsgdGhpcy5vcHRzLnBvcnQ7XG4gICAgfVxuXG4gICAgLy8gYXBwZW5kIHRpbWVzdGFtcCB0byBVUklcbiAgICBpZiAodGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICBxdWVyeVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgICB9XG5cbiAgICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgIHF1ZXJ5LmI2NCA9IDE7XG4gICAgfVxuXG4gICAgcXVlcnkgPSBwYXJzZXFzLmVuY29kZShxdWVyeSk7XG5cbiAgICAvLyBwcmVwZW5kID8gdG8gcXVlcnlcbiAgICBpZiAocXVlcnkubGVuZ3RoKSB7XG4gICAgICBxdWVyeSA9IFwiP1wiICsgcXVlcnk7XG4gICAgfVxuXG4gICAgY29uc3QgaXB2NiA9IHRoaXMub3B0cy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgcmV0dXJuIChcbiAgICAgIHNjaGVtYSArXG4gICAgICBcIjovL1wiICtcbiAgICAgIChpcHY2ID8gXCJbXCIgKyB0aGlzLm9wdHMuaG9zdG5hbWUgKyBcIl1cIiA6IHRoaXMub3B0cy5ob3N0bmFtZSkgK1xuICAgICAgcG9ydCArXG4gICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICBxdWVyeVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGlzIHRyYW5zcG9ydCBpcyBhdmFpbGFibGUuXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBjaGVjaygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFXZWJTb2NrZXQgJiZcbiAgICAgICEoXCJfX2luaXRpYWxpemVcIiBpbiBXZWJTb2NrZXQgJiYgdGhpcy5uYW1lID09PSBXUy5wcm90b3R5cGUubmFtZSlcbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV1M7XG4iLCJtb2R1bGUuZXhwb3J0cy5waWNrID0gKG9iaiwgLi4uYXR0cikgPT4ge1xuICByZXR1cm4gYXR0ci5yZWR1Y2UoKGFjYywgaykgPT4ge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufTtcbiIsIi8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG5cbmNvbnN0IGhhc0NPUlMgPSByZXF1aXJlKFwiaGFzLWNvcnNcIik7XG5jb25zdCBnbG9iYWxUaGlzID0gcmVxdWlyZShcIi4vZ2xvYmFsVGhpc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRzKSB7XG4gIGNvbnN0IHhkb21haW4gPSBvcHRzLnhkb21haW47XG5cbiAgLy8gc2NoZW1lIG11c3QgYmUgc2FtZSB3aGVuIHVzaWduIFhEb21haW5SZXF1ZXN0XG4gIC8vIGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llaW50ZXJuYWxzL2FyY2hpdmUvMjAxMC8wNS8xMy94ZG9tYWlucmVxdWVzdC1yZXN0cmljdGlvbnMtbGltaXRhdGlvbnMtYW5kLXdvcmthcm91bmRzLmFzcHhcbiAgY29uc3QgeHNjaGVtZSA9IG9wdHMueHNjaGVtZTtcblxuICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmbG93IG9mIG5vdCBzZW5kaW5nIGNvb2tpZSwgdGhlcmVmb3JlIGl0IHNob3VsZCBiZSBkaXNhYmxlZCBhcyBhIGRlZmF1bHQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2VuZ2luZS5pby1jbGllbnQvcHVsbC8yMTdcbiAgY29uc3QgZW5hYmxlc1hEUiA9IG9wdHMuZW5hYmxlc1hEUjtcblxuICAvLyBYTUxIdHRwUmVxdWVzdCBjYW4gYmUgZGlzYWJsZWQgb24gSUVcbiAgdHJ5IHtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICAvLyBVc2UgWERvbWFpblJlcXVlc3QgZm9yIElFOCBpZiBlbmFibGVzWERSIGlzIHRydWVcbiAgLy8gYmVjYXVzZSBsb2FkaW5nIGJhciBrZWVwcyBmbGFzaGluZyB3aGVuIHVzaW5nIGpzb25wLXBvbGxpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3l1amlvc2FrYS9zb2NrZS5pby1pZTgtbG9hZGluZy1leGFtcGxlXG4gIHRyeSB7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBYRG9tYWluUmVxdWVzdCAmJiAheHNjaGVtZSAmJiBlbmFibGVzWERSKSB7XG4gICAgICByZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7fVxuXG4gIGlmICgheGRvbWFpbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IGdsb2JhbFRoaXNbW1wiQWN0aXZlXCJdLmNvbmNhdChcIk9iamVjdFwiKS5qb2luKFwiWFwiKV0oXG4gICAgICAgIFwiTWljcm9zb2Z0LlhNTEhUVFBcIlxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG59O1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4gZW5hYmxlT3ZlcnJpZGUgPT09IG51bGwgPyBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSkgOiBlbmFibGVPdmVycmlkZSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCJjb25zdCBQQUNLRVRfVFlQRVMgPSBPYmplY3QuY3JlYXRlKG51bGwpOyAvLyBubyBNYXAgPSBubyBwb2x5ZmlsbFxuUEFDS0VUX1RZUEVTW1wib3BlblwiXSA9IFwiMFwiO1xuUEFDS0VUX1RZUEVTW1wiY2xvc2VcIl0gPSBcIjFcIjtcblBBQ0tFVF9UWVBFU1tcInBpbmdcIl0gPSBcIjJcIjtcblBBQ0tFVF9UWVBFU1tcInBvbmdcIl0gPSBcIjNcIjtcblBBQ0tFVF9UWVBFU1tcIm1lc3NhZ2VcIl0gPSBcIjRcIjtcblBBQ0tFVF9UWVBFU1tcInVwZ3JhZGVcIl0gPSBcIjVcIjtcblBBQ0tFVF9UWVBFU1tcIm5vb3BcIl0gPSBcIjZcIjtcblxuY29uc3QgUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuT2JqZWN0LmtleXMoUEFDS0VUX1RZUEVTKS5mb3JFYWNoKGtleSA9PiB7XG4gIFBBQ0tFVF9UWVBFU19SRVZFUlNFW1BBQ0tFVF9UWVBFU1trZXldXSA9IGtleTtcbn0pO1xuXG5jb25zdCBFUlJPUl9QQUNLRVQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgZGF0YTogXCJwYXJzZXIgZXJyb3JcIiB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUEFDS0VUX1RZUEVTLFxuICBQQUNLRVRfVFlQRVNfUkVWRVJTRSxcbiAgRVJST1JfUEFDS0VUXG59O1xuIiwiY29uc3QgeyBQQUNLRVRfVFlQRVNfUkVWRVJTRSwgRVJST1JfUEFDS0VUIH0gPSByZXF1aXJlKFwiLi9jb21tb25zXCIpO1xuXG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcblxubGV0IGJhc2U2NGRlY29kZXI7XG5pZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gIGJhc2U2NGRlY29kZXIgPSByZXF1aXJlKFwiYmFzZTY0LWFycmF5YnVmZmVyXCIpO1xufVxuXG5jb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICBpZiAodHlwZW9mIGVuY29kZWRQYWNrZXQgIT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHR5cGUgPSBlbmNvZGVkUGFja2V0LmNoYXJBdCgwKTtcbiAgaWYgKHR5cGUgPT09IFwiYlwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwibWVzc2FnZVwiLFxuICAgICAgZGF0YTogZGVjb2RlQmFzZTY0UGFja2V0KGVuY29kZWRQYWNrZXQuc3Vic3RyaW5nKDEpLCBiaW5hcnlUeXBlKVxuICAgIH07XG4gIH1cbiAgY29uc3QgcGFja2V0VHlwZSA9IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdO1xuICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICByZXR1cm4gRVJST1JfUEFDS0VUO1xuICB9XG4gIHJldHVybiBlbmNvZGVkUGFja2V0Lmxlbmd0aCA+IDFcbiAgICA/IHtcbiAgICAgICAgdHlwZTogUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV0sXG4gICAgICAgIGRhdGE6IGVuY29kZWRQYWNrZXQuc3Vic3RyaW5nKDEpXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gICAgICB9O1xufTtcblxuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgaWYgKGJhc2U2NGRlY29kZXIpIHtcbiAgICBjb25zdCBkZWNvZGVkID0gYmFzZTY0ZGVjb2Rlci5kZWNvZGUoZGF0YSk7XG4gICAgcmV0dXJuIG1hcEJpbmFyeShkZWNvZGVkLCBiaW5hcnlUeXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICB9XG59O1xuXG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICBzd2l0Y2ggKGJpbmFyeVR5cGUpIHtcbiAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBCbG9iKFtkYXRhXSkgOiBkYXRhO1xuICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZGF0YTsgLy8gYXNzdW1pbmcgdGhlIGRhdGEgaXMgYWxyZWFkeSBhbiBBcnJheUJ1ZmZlclxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29kZVBhY2tldDtcbiIsImNvbnN0IHsgUEFDS0VUX1RZUEVTIH0gPSByZXF1aXJlKFwiLi9jb21tb25zXCIpO1xuXG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9XG4gIHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiKTtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuXG4vLyBBcnJheUJ1ZmZlci5pc1ZpZXcgbWV0aG9kIGlzIG5vdCBkZWZpbmVkIGluIElFMTBcbmNvbnN0IGlzVmlldyA9IG9iaiA9PiB7XG4gIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICA/IEFycmF5QnVmZmVyLmlzVmlldyhvYmopXG4gICAgOiBvYmogJiYgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyO1xufTtcblxuY29uc3QgZW5jb2RlUGFja2V0ID0gKHsgdHlwZSwgZGF0YSB9LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spID0+IHtcbiAgaWYgKHdpdGhOYXRpdmVCbG9iICYmIGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhkYXRhKSlcbiAgKSB7XG4gICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gZGF0YSA6IGRhdGEuYnVmZmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG4gIC8vIHBsYWluIHN0cmluZ1xuICByZXR1cm4gY2FsbGJhY2soUEFDS0VUX1RZUEVTW3R5cGVdICsgKGRhdGEgfHwgXCJcIikpO1xufTtcblxuY29uc3QgZW5jb2RlQmxvYkFzQmFzZTY0ID0gKGRhdGEsIGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBmaWxlUmVhZGVyLnJlc3VsdC5zcGxpdChcIixcIilbMV07XG4gICAgY2FsbGJhY2soXCJiXCIgKyBjb250ZW50KTtcbiAgfTtcbiAgcmV0dXJuIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW5jb2RlUGFja2V0O1xuIiwiY29uc3QgZW5jb2RlUGFja2V0ID0gcmVxdWlyZShcIi4vZW5jb2RlUGFja2V0XCIpO1xuY29uc3QgZGVjb2RlUGFja2V0ID0gcmVxdWlyZShcIi4vZGVjb2RlUGFja2V0XCIpO1xuXG5jb25zdCBTRVBBUkFUT1IgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMwKTsgLy8gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlbGltaXRlciNBU0NJSV9kZWxpbWl0ZWRfdGV4dFxuXG5jb25zdCBlbmNvZGVQYXlsb2FkID0gKHBhY2tldHMsIGNhbGxiYWNrKSA9PiB7XG4gIC8vIHNvbWUgcGFja2V0cyBtYXkgYmUgYWRkZWQgdG8gdGhlIGFycmF5IHdoaWxlIGVuY29kaW5nLCBzbyB0aGUgaW5pdGlhbCBsZW5ndGggbXVzdCBiZSBzYXZlZFxuICBjb25zdCBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDtcbiAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgbGV0IGNvdW50ID0gMDtcblxuICBwYWNrZXRzLmZvckVhY2goKHBhY2tldCwgaSkgPT4ge1xuICAgIC8vIGZvcmNlIGJhc2U2NCBlbmNvZGluZyBmb3IgYmluYXJ5IHBhY2tldHNcbiAgICBlbmNvZGVQYWNrZXQocGFja2V0LCBmYWxzZSwgZW5jb2RlZFBhY2tldCA9PiB7XG4gICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKGVuY29kZWRQYWNrZXRzLmpvaW4oU0VQQVJBVE9SKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IGVuY29kZWRQYXlsb2FkLnNwbGl0KFNFUEFSQVRPUik7XG4gIGNvbnN0IHBhY2tldHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGRlY29kZWRQYWNrZXQgPSBkZWNvZGVQYWNrZXQoZW5jb2RlZFBhY2tldHNbaV0sIGJpbmFyeVR5cGUpO1xuICAgIHBhY2tldHMucHVzaChkZWNvZGVkUGFja2V0KTtcbiAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFja2V0cztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcm90b2NvbDogNCxcbiAgZW5jb2RlUGFja2V0LFxuICBlbmNvZGVQYXlsb2FkLFxuICBkZWNvZGVQYWNrZXQsXG4gIGRlY29kZVBheWxvYWRcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKlxuICogTG9naWMgYm9ycm93ZWQgZnJvbSBNb2Rlcm5penI6XG4gKlxuICogICAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9jb3JzLmpzXG4gKi9cblxudHJ5IHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmXG4gICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbn1cbiIsIi8qKlxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBzdHIgPSAnJztcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIGlmIChzdHIubGVuZ3RoKSBzdHIgKz0gJyYnO1xuICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbihxcyl7XG4gIHZhciBxcnkgPSB7fTtcbiAgdmFyIHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYWlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gIH1cbiAgcmV0dXJuIHFyeTtcbn07XG4iLCIvKipcbiAqIFBhcnNlcyBhbiBVUklcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgcmUgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcblxudmFyIHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZXVyaShzdHIpIHtcbiAgICB2YXIgc3JjID0gc3RyLFxuICAgICAgICBiID0gc3RyLmluZGV4T2YoJ1snKSxcbiAgICAgICAgZSA9IHN0ci5pbmRleE9mKCddJyk7XG5cbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdmFyIG0gPSByZS5leGVjKHN0ciB8fCAnJyksXG4gICAgICAgIHVyaSA9IHt9LFxuICAgICAgICBpID0gMTQ7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHVyaVtwYXJ0c1tpXV0gPSBtW2ldIHx8ICcnO1xuICAgIH1cblxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJpLnBhdGhOYW1lcyA9IHBhdGhOYW1lcyh1cmksIHVyaVsncGF0aCddKTtcbiAgICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG5cbiAgICByZXR1cm4gdXJpO1xufTtcblxuZnVuY3Rpb24gcGF0aE5hbWVzKG9iaiwgcGF0aCkge1xuICAgIHZhciByZWd4ID0gL1xcL3syLDl9L2csXG4gICAgICAgIG5hbWVzID0gcGF0aC5yZXBsYWNlKHJlZ3gsIFwiL1wiKS5zcGxpdChcIi9cIik7XG5cbiAgICBpZiAocGF0aC5zdWJzdHIoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZSgwLCAxKTtcbiAgICB9XG4gICAgaWYgKHBhdGguc3Vic3RyKHBhdGgubGVuZ3RoIC0gMSwgMSkgPT0gJy8nKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZShuYW1lcy5sZW5ndGggLSAxLCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZXM7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmICgkMSkge1xuICAgICAgICAgICAgZGF0YVskMV0gPSAkMjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCJwYXJjZWxSZXF1aXJlPWZ1bmN0aW9uKGUscix0LG4pe3ZhciBpLG89XCJmdW5jdGlvblwiPT10eXBlb2YgcGFyY2VsUmVxdWlyZSYmcGFyY2VsUmVxdWlyZSx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7ZnVuY3Rpb24gZih0LG4pe2lmKCFyW3RdKXtpZighZVt0XSl7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgcGFyY2VsUmVxdWlyZSYmcGFyY2VsUmVxdWlyZTtpZighbiYmaSlyZXR1cm4gaSh0LCEwKTtpZihvKXJldHVybiBvKHQsITApO2lmKHUmJlwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB1KHQpO3ZhciBjPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrdCtcIidcIik7dGhyb3cgYy5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGN9cC5yZXNvbHZlPWZ1bmN0aW9uKHIpe3JldHVybiBlW3RdWzFdW3JdfHxyfSxwLmNhY2hlPXt9O3ZhciBsPXJbdF09bmV3IGYuTW9kdWxlKHQpO2VbdF1bMF0uY2FsbChsLmV4cG9ydHMscCxsLGwuZXhwb3J0cyx0aGlzKX1yZXR1cm4gclt0XS5leHBvcnRzO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGYocC5yZXNvbHZlKGUpKX19Zi5pc1BhcmNlbFJlcXVpcmU9ITAsZi5Nb2R1bGU9ZnVuY3Rpb24oZSl7dGhpcy5pZD1lLHRoaXMuYnVuZGxlPWYsdGhpcy5leHBvcnRzPXt9fSxmLm1vZHVsZXM9ZSxmLmNhY2hlPXIsZi5wYXJlbnQ9byxmLnJlZ2lzdGVyPWZ1bmN0aW9uKHIsdCl7ZVtyXT1bZnVuY3Rpb24oZSxyKXtyLmV4cG9ydHM9dH0se31dfTtmb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl0cnl7Zih0W2NdKX1jYXRjaChlKXtpfHwoaT1lKX1pZih0Lmxlbmd0aCl7dmFyIGw9Zih0W3QubGVuZ3RoLTFdKTtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1sOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gbH0pOm4mJih0aGlzW25dPWwpfWlmKHBhcmNlbFJlcXVpcmU9ZixpKXRocm93IGk7cmV0dXJuIGZ9KHtcIkVnQmhcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xudmFyIGU9e307ZS51c2VCbG9iQnVpbGRlcj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IoW10pLCExfWNhdGNoKGUpe3JldHVybiEwfX0oKSxlLnVzZUFycmF5QnVmZmVyVmlldz0hZS51c2VCbG9iQnVpbGRlciYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDA9PT1uZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoW10pXSkuc2l6ZX1jYXRjaChlKXtyZXR1cm4hMH19KCksbW9kdWxlLmV4cG9ydHMuYmluYXJ5RmVhdHVyZXM9ZTt2YXIgcj1tb2R1bGUuZXhwb3J0cy5CbG9iQnVpbGRlcjtmdW5jdGlvbiB0KCl7dGhpcy5fcGllY2VzPVtdLHRoaXMuX3BhcnRzPVtdfVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihyPW1vZHVsZS5leHBvcnRzLkJsb2JCdWlsZGVyPXdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcnx8d2luZG93LkJsb2JCdWlsZGVyKSx0LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7XCJudW1iZXJcIj09dHlwZW9mIGU/dGhpcy5fcGllY2VzLnB1c2goZSk6KHRoaXMuZmx1c2goKSx0aGlzLl9wYXJ0cy5wdXNoKGUpKX0sdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtpZih0aGlzLl9waWVjZXMubGVuZ3RoPjApe3ZhciByPW5ldyBVaW50OEFycmF5KHRoaXMuX3BpZWNlcyk7ZS51c2VBcnJheUJ1ZmZlclZpZXd8fChyPXIuYnVmZmVyKSx0aGlzLl9wYXJ0cy5wdXNoKHIpLHRoaXMuX3BpZWNlcz1bXX19LHQucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuZmx1c2goKSxlLnVzZUJsb2JCdWlsZGVyKXtmb3IodmFyIHQ9bmV3IHIsaT0wLHU9dGhpcy5fcGFydHMubGVuZ3RoO2k8dTtpKyspdC5hcHBlbmQodGhpcy5fcGFydHNbaV0pO3JldHVybiB0LmdldEJsb2IoKX1yZXR1cm4gbmV3IEJsb2IodGhpcy5fcGFydHMpfSxtb2R1bGUuZXhwb3J0cy5CdWZmZXJCdWlsZGVyPXQ7XG59LHt9XSxcImtkUHBcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xudmFyIHQ9cmVxdWlyZShcIi4vYnVmZmVyYnVpbGRlclwiKS5CdWZmZXJCdWlsZGVyLGU9cmVxdWlyZShcIi4vYnVmZmVyYnVpbGRlclwiKS5iaW5hcnlGZWF0dXJlcyxpPXt1bnBhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpLnVucGFjaygpfSxwYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBuO3JldHVybiBlLnBhY2sodCksZS5nZXRCdWZmZXIoKX19O2Z1bmN0aW9uIHIodCl7dGhpcy5pbmRleD0wLHRoaXMuZGF0YUJ1ZmZlcj10LHRoaXMuZGF0YVZpZXc9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhQnVmZmVyKSx0aGlzLmxlbmd0aD10aGlzLmRhdGFCdWZmZXIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBuKCl7dGhpcy5idWZmZXJCdWlsZGVyPW5ldyB0fWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApO3JldHVybiBlPD0yMDQ3P1wiMDBcIjplPD02NTUzNT9cIjAwMFwiOmU8PTIwOTcxNTE/XCIwMDAwXCI6ZTw9NjcxMDg4NjM/XCIwMDAwMFwiOlwiMDAwMDAwXCJ9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5sZW5ndGg+NjAwP25ldyBCbG9iKFt0XSkuc2l6ZTp0LnJlcGxhY2UoL1teXFx1MDAwMC1cXHUwMDdGXS9nLHUpLmxlbmd0aH1tb2R1bGUuZXhwb3J0cz1pLHIucHJvdG90eXBlLnVucGFjaz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy51bnBhY2tfdWludDgoKTtpZihlPDEyOClyZXR1cm4gZTtpZigoMjI0XmUpPDMyKXJldHVybigyMjReZSktMzI7aWYoKHQ9MTYwXmUpPD0xNSlyZXR1cm4gdGhpcy51bnBhY2tfcmF3KHQpO2lmKCh0PTE3Nl5lKTw9MTUpcmV0dXJuIHRoaXMudW5wYWNrX3N0cmluZyh0KTtpZigodD0xNDReZSk8PTE1KXJldHVybiB0aGlzLnVucGFja19hcnJheSh0KTtpZigodD0xMjheZSk8PTE1KXJldHVybiB0aGlzLnVucGFja19tYXAodCk7c3dpdGNoKGUpe2Nhc2UgMTkyOnJldHVybiBudWxsO2Nhc2UgMTkzOnJldHVybjtjYXNlIDE5NDpyZXR1cm4hMTtjYXNlIDE5NTpyZXR1cm4hMDtjYXNlIDIwMjpyZXR1cm4gdGhpcy51bnBhY2tfZmxvYXQoKTtjYXNlIDIwMzpyZXR1cm4gdGhpcy51bnBhY2tfZG91YmxlKCk7Y2FzZSAyMDQ6cmV0dXJuIHRoaXMudW5wYWNrX3VpbnQ4KCk7Y2FzZSAyMDU6cmV0dXJuIHRoaXMudW5wYWNrX3VpbnQxNigpO2Nhc2UgMjA2OnJldHVybiB0aGlzLnVucGFja191aW50MzIoKTtjYXNlIDIwNzpyZXR1cm4gdGhpcy51bnBhY2tfdWludDY0KCk7Y2FzZSAyMDg6cmV0dXJuIHRoaXMudW5wYWNrX2ludDgoKTtjYXNlIDIwOTpyZXR1cm4gdGhpcy51bnBhY2tfaW50MTYoKTtjYXNlIDIxMDpyZXR1cm4gdGhpcy51bnBhY2tfaW50MzIoKTtjYXNlIDIxMTpyZXR1cm4gdGhpcy51bnBhY2tfaW50NjQoKTtjYXNlIDIxMjpjYXNlIDIxMzpjYXNlIDIxNDpjYXNlIDIxNTpyZXR1cm47Y2FzZSAyMTY6cmV0dXJuIHQ9dGhpcy51bnBhY2tfdWludDE2KCksdGhpcy51bnBhY2tfc3RyaW5nKHQpO2Nhc2UgMjE3OnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQzMigpLHRoaXMudW5wYWNrX3N0cmluZyh0KTtjYXNlIDIxODpyZXR1cm4gdD10aGlzLnVucGFja191aW50MTYoKSx0aGlzLnVucGFja19yYXcodCk7Y2FzZSAyMTk6cmV0dXJuIHQ9dGhpcy51bnBhY2tfdWludDMyKCksdGhpcy51bnBhY2tfcmF3KHQpO2Nhc2UgMjIwOnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQxNigpLHRoaXMudW5wYWNrX2FycmF5KHQpO2Nhc2UgMjIxOnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQzMigpLHRoaXMudW5wYWNrX2FycmF5KHQpO2Nhc2UgMjIyOnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQxNigpLHRoaXMudW5wYWNrX21hcCh0KTtjYXNlIDIyMzpyZXR1cm4gdD10aGlzLnVucGFja191aW50MzIoKSx0aGlzLnVucGFja19tYXAodCl9fSxyLnByb3RvdHlwZS51bnBhY2tfdWludDg9ZnVuY3Rpb24oKXt2YXIgdD0yNTUmdGhpcy5kYXRhVmlld1t0aGlzLmluZGV4XTtyZXR1cm4gdGhpcy5pbmRleCsrLHR9LHIucHJvdG90eXBlLnVucGFja191aW50MTY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWQoMiksZT0yNTYqKDI1NSZ0WzBdKSsoMjU1JnRbMV0pO3JldHVybiB0aGlzLmluZGV4Kz0yLGV9LHIucHJvdG90eXBlLnVucGFja191aW50MzI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWQoNCksZT0yNTYqKDI1NiooMjU2KnRbMF0rdFsxXSkrdFsyXSkrdFszXTtyZXR1cm4gdGhpcy5pbmRleCs9NCxlfSxyLnByb3RvdHlwZS51bnBhY2tfdWludDY0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkKDgpLGU9MjU2KigyNTYqKDI1NiooMjU2KigyNTYqKDI1NiooMjU2KnRbMF0rdFsxXSkrdFsyXSkrdFszXSkrdFs0XSkrdFs1XSkrdFs2XSkrdFs3XTtyZXR1cm4gdGhpcy5pbmRleCs9OCxlfSxyLnByb3RvdHlwZS51bnBhY2tfaW50OD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wYWNrX3VpbnQ4KCk7cmV0dXJuIHQ8MTI4P3Q6dC0yNTZ9LHIucHJvdG90eXBlLnVucGFja19pbnQxNj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wYWNrX3VpbnQxNigpO3JldHVybiB0PDMyNzY4P3Q6dC02NTUzNn0sci5wcm90b3R5cGUudW5wYWNrX2ludDMyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51bnBhY2tfdWludDMyKCk7cmV0dXJuIHQ8TWF0aC5wb3coMiwzMSk/dDp0LU1hdGgucG93KDIsMzIpfSxyLnByb3RvdHlwZS51bnBhY2tfaW50NjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGFja191aW50NjQoKTtyZXR1cm4gdDxNYXRoLnBvdygyLDYzKT90OnQtTWF0aC5wb3coMiw2NCl9LHIucHJvdG90eXBlLnVucGFja19yYXc9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGg8dGhpcy5pbmRleCt0KXRocm93IG5ldyBFcnJvcihcIkJpbmFyeVBhY2tGYWlsdXJlOiBpbmRleCBpcyBvdXQgb2YgcmFuZ2UgXCIrdGhpcy5pbmRleCtcIiBcIit0K1wiIFwiK3RoaXMubGVuZ3RoKTt2YXIgZT10aGlzLmRhdGFCdWZmZXIuc2xpY2UodGhpcy5pbmRleCx0aGlzLmluZGV4K3QpO3JldHVybiB0aGlzLmluZGV4Kz10LGV9LHIucHJvdG90eXBlLnVucGFja19zdHJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscj10aGlzLnJlYWQodCksbj0wLHU9XCJcIjtuPHQ7KShlPXJbbl0pPDEyOD8odSs9U3RyaW5nLmZyb21DaGFyQ29kZShlKSxuKyspOigxOTJeZSk8MzI/KGk9KDE5Ml5lKTw8Nnw2MyZyW24rMV0sdSs9U3RyaW5nLmZyb21DaGFyQ29kZShpKSxuKz0yKTooaT0oMTUmZSk8PDEyfCg2MyZyW24rMV0pPDw2fDYzJnJbbisyXSx1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpLG4rPTMpO3JldHVybiB0aGlzLmluZGV4Kz10LHV9LHIucHJvdG90eXBlLnVucGFja19hcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09dGhpcy51bnBhY2soKTtyZXR1cm4gZX0sci5wcm90b3R5cGUudW5wYWNrX21hcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30saT0wO2k8dDtpKyspe3ZhciByPXRoaXMudW5wYWNrKCksbj10aGlzLnVucGFjaygpO2Vbcl09bn1yZXR1cm4gZX0sci5wcm90b3R5cGUudW5wYWNrX2Zsb2F0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51bnBhY2tfdWludDMyKCksZT0odD4+MjMmMjU1KS0xMjc7cmV0dXJuKDA9PT10Pj4zMT8xOi0xKSooODM4ODYwNyZ0fDgzODg2MDgpKk1hdGgucG93KDIsZS0yMyl9LHIucHJvdG90eXBlLnVucGFja19kb3VibGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGFja191aW50MzIoKSxlPXRoaXMudW5wYWNrX3VpbnQzMigpLGk9KHQ+PjIwJjIwNDcpLTEwMjM7cmV0dXJuKDA9PT10Pj4zMT8xOi0xKSooKDEwNDg1NzUmdHwxMDQ4NTc2KSpNYXRoLnBvdygyLGktMjApK2UqTWF0aC5wb3coMixpLTUyKSl9LHIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmRleDtpZihlK3Q8PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLmRhdGFWaWV3LnN1YmFycmF5KGUsZSt0KTt0aHJvdyBuZXcgRXJyb3IoXCJCaW5hcnlQYWNrRmFpbHVyZTogcmVhZCBpbmRleCBvdXQgb2YgcmFuZ2VcIil9LG4ucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlckJ1aWxkZXIuZ2V0QnVmZmVyKCl9LG4ucHJvdG90eXBlLnBhY2s9ZnVuY3Rpb24odCl7dmFyIGk9dHlwZW9mIHQ7aWYoXCJzdHJpbmdcIj09PWkpdGhpcy5wYWNrX3N0cmluZyh0KTtlbHNlIGlmKFwibnVtYmVyXCI9PT1pKU1hdGguZmxvb3IodCk9PT10P3RoaXMucGFja19pbnRlZ2VyKHQpOnRoaXMucGFja19kb3VibGUodCk7ZWxzZSBpZihcImJvb2xlYW5cIj09PWkpITA9PT10P3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMTk1KTohMT09PXQmJnRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMTk0KTtlbHNlIGlmKFwidW5kZWZpbmVkXCI9PT1pKXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMTkyKTtlbHNle2lmKFwib2JqZWN0XCIhPT1pKXRocm93IG5ldyBFcnJvcignVHlwZSBcIicraSsnXCIgbm90IHlldCBzdXBwb3J0ZWQnKTtpZihudWxsPT09dCl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDE5Mik7ZWxzZXt2YXIgcj10LmNvbnN0cnVjdG9yO2lmKHI9PUFycmF5KXRoaXMucGFja19hcnJheSh0KTtlbHNlIGlmKHI9PUJsb2J8fHI9PUZpbGV8fHQgaW5zdGFuY2VvZiBCbG9ifHx0IGluc3RhbmNlb2YgRmlsZSl0aGlzLnBhY2tfYmluKHQpO2Vsc2UgaWYocj09QXJyYXlCdWZmZXIpZS51c2VBcnJheUJ1ZmZlclZpZXc/dGhpcy5wYWNrX2JpbihuZXcgVWludDhBcnJheSh0KSk6dGhpcy5wYWNrX2Jpbih0KTtlbHNlIGlmKFwiQllURVNfUEVSX0VMRU1FTlRcImluIHQpZS51c2VBcnJheUJ1ZmZlclZpZXc/dGhpcy5wYWNrX2JpbihuZXcgVWludDhBcnJheSh0LmJ1ZmZlcikpOnRoaXMucGFja19iaW4odC5idWZmZXIpO2Vsc2UgaWYocj09T2JqZWN0fHxyLnRvU3RyaW5nKCkuc3RhcnRzV2l0aChcImNsYXNzXCIpKXRoaXMucGFja19vYmplY3QodCk7ZWxzZSBpZihyPT1EYXRlKXRoaXMucGFja19zdHJpbmcodC50b1N0cmluZygpKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQudG9CaW5hcnlQYWNrKXRocm93IG5ldyBFcnJvcignVHlwZSBcIicrci50b1N0cmluZygpKydcIiBub3QgeWV0IHN1cHBvcnRlZCcpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodC50b0JpbmFyeVBhY2soKSl9fX10aGlzLmJ1ZmZlckJ1aWxkZXIuZmx1c2goKX0sbi5wcm90b3R5cGUucGFja19iaW49ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGh8fHQuYnl0ZUxlbmd0aHx8dC5zaXplO2lmKGU8PTE1KXRoaXMucGFja191aW50OCgxNjArZSk7ZWxzZSBpZihlPD02NTUzNSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIxOCksdGhpcy5wYWNrX3VpbnQxNihlKTtlbHNle2lmKCEoZTw9NDI5NDk2NzI5NSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGhcIik7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMTkpLHRoaXMucGFja191aW50MzIoZSl9dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCh0KX0sbi5wcm90b3R5cGUucGFja19zdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9YSh0KTtpZihlPD0xNSl0aGlzLnBhY2tfdWludDgoMTc2K2UpO2Vsc2UgaWYoZTw9NjU1MzUpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMTYpLHRoaXMucGFja191aW50MTYoZSk7ZWxzZXtpZighKGU8PTQyOTQ5NjcyOTUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGVuZ3RoXCIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjE3KSx0aGlzLnBhY2tfdWludDMyKGUpfXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodCl9LG4ucHJvdG90eXBlLnBhY2tfYXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9MTUpdGhpcy5wYWNrX3VpbnQ4KDE0NCtlKTtlbHNlIGlmKGU8PTY1NTM1KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjIwKSx0aGlzLnBhY2tfdWludDE2KGUpO2Vsc2V7aWYoIShlPD00Mjk0OTY3Mjk1KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aFwiKTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIyMSksdGhpcy5wYWNrX3VpbnQzMihlKX1mb3IodmFyIGk9MDtpPGU7aSsrKXRoaXMucGFjayh0W2ldKX0sbi5wcm90b3R5cGUucGFja19pbnRlZ2VyPWZ1bmN0aW9uKHQpe2lmKHQ+PS0zMiYmdDw9MTI3KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JnQpO2Vsc2UgaWYodD49MCYmdDw9MjU1KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA0KSx0aGlzLnBhY2tfdWludDgodCk7ZWxzZSBpZih0Pj0tMTI4JiZ0PD0xMjcpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMDgpLHRoaXMucGFja19pbnQ4KHQpO2Vsc2UgaWYodD49MCYmdDw9NjU1MzUpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMDUpLHRoaXMucGFja191aW50MTYodCk7ZWxzZSBpZih0Pj0tMzI3NjgmJnQ8PTMyNzY3KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA5KSx0aGlzLnBhY2tfaW50MTYodCk7ZWxzZSBpZih0Pj0wJiZ0PD00Mjk0OTY3Mjk1KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA2KSx0aGlzLnBhY2tfdWludDMyKHQpO2Vsc2UgaWYodD49LTIxNDc0ODM2NDgmJnQ8PTIxNDc0ODM2NDcpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMTApLHRoaXMucGFja19pbnQzMih0KTtlbHNlIGlmKHQ+PS0weDgwMDAwMDAwMDAwMDAwMDAmJnQ8PTB4ODAwMDAwMDAwMDAwMDAwMCl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIxMSksdGhpcy5wYWNrX2ludDY0KHQpO2Vsc2V7aWYoISh0Pj0wJiZ0PD0weDEwMDAwMDAwMDAwMDAwMDAwKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGludGVnZXJcIik7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMDcpLHRoaXMucGFja191aW50NjQodCl9fSxuLnByb3RvdHlwZS5wYWNrX2RvdWJsZT1mdW5jdGlvbih0KXt2YXIgZT0wO3Q8MCYmKGU9MSx0PS10KTt2YXIgaT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSxyPXQvTWF0aC5wb3coMixpKS0xLG49TWF0aC5mbG9vcihyKk1hdGgucG93KDIsNTIpKSx1PU1hdGgucG93KDIsMzIpLGE9ZTw8MzF8aSsxMDIzPDwyMHxuL3UmMTA0ODU3NSxwPW4ldTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIwMyksdGhpcy5wYWNrX2ludDMyKGEpLHRoaXMucGFja19pbnQzMihwKX0sbi5wcm90b3R5cGUucGFja19vYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmtleXModCkubGVuZ3RoO2lmKGU8PTE1KXRoaXMucGFja191aW50OCgxMjgrZSk7ZWxzZSBpZihlPD02NTUzNSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIyMiksdGhpcy5wYWNrX3VpbnQxNihlKTtlbHNle2lmKCEoZTw9NDI5NDk2NzI5NSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGhcIik7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMjMpLHRoaXMucGFja191aW50MzIoZSl9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXMucGFjayhpKSx0aGlzLnBhY2sodFtpXSkpfSxuLnByb3RvdHlwZS5wYWNrX3VpbnQ4PWZ1bmN0aW9uKHQpe3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodCl9LG4ucHJvdG90eXBlLnBhY2tfdWludDE2PWZ1bmN0aW9uKHQpe3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodD4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmdCl9LG4ucHJvdG90eXBlLnBhY2tfdWludDMyPWZ1bmN0aW9uKHQpe3ZhciBlPTQyOTQ5NjcyOTUmdDt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg0Mjc4MTkwMDgwJmUpPj4+MjQpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDE2NzExNjgwJmUpPj4+MTYpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDY1MjgwJmUpPj4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmZSl9LG4ucHJvdG90eXBlLnBhY2tfdWludDY0PWZ1bmN0aW9uKHQpe3ZhciBlPXQvTWF0aC5wb3coMiwzMiksaT10JU1hdGgucG93KDIsMzIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDQyNzgxOTAwODAmZSk+Pj4yNCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoMTY3MTE2ODAmZSk+Pj4xNiksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNjUyODAmZSk+Pj44KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDI1NSZlKSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg0Mjc4MTkwMDgwJmkpPj4+MjQpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDE2NzExNjgwJmkpPj4+MTYpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDY1MjgwJmkpPj4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmaSl9LG4ucHJvdG90eXBlLnBhY2tfaW50OD1mdW5jdGlvbih0KXt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDI1NSZ0KX0sbi5wcm90b3R5cGUucGFja19pbnQxNj1mdW5jdGlvbih0KXt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg2NTI4MCZ0KT4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmdCl9LG4ucHJvdG90eXBlLnBhY2tfaW50MzI9ZnVuY3Rpb24odCl7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCh0Pj4+MjQmMjU1KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCgxNjcxMTY4MCZ0KT4+PjE2KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg2NTI4MCZ0KT4+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JnQpfSxuLnByb3RvdHlwZS5wYWNrX2ludDY0PWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IodC9NYXRoLnBvdygyLDMyKSksaT10JU1hdGgucG93KDIsMzIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDQyNzgxOTAwODAmZSk+Pj4yNCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoMTY3MTE2ODAmZSk+Pj4xNiksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNjUyODAmZSk+Pj44KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDI1NSZlKSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg0Mjc4MTkwMDgwJmkpPj4+MjQpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDE2NzExNjgwJmkpPj4+MTYpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDY1MjgwJmkpPj4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmaSl9O1xufSx7XCIuL2J1ZmZlcmJ1aWxkZXJcIjpcIkVnQmhcIn1dLFwiaVN4Q1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiB0KGUpe3JldHVybih0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmV4dHJhY3RWZXJzaW9uPW8sZXhwb3J0cy53cmFwUGVlckNvbm5lY3Rpb25FdmVudD1pLGV4cG9ydHMuZGlzYWJsZUxvZz1zLGV4cG9ydHMuZGlzYWJsZVdhcm5pbmdzPWEsZXhwb3J0cy5sb2c9cCxleHBvcnRzLmRlcHJlY2F0ZWQ9dSxleHBvcnRzLmRldGVjdEJyb3dzZXI9YyxleHBvcnRzLmNvbXBhY3RPYmplY3Q9ZixleHBvcnRzLndhbGtTdGF0cz1sLGV4cG9ydHMuZmlsdGVyU3RhdHM9djt2YXIgbj0hMCxyPSEwO2Z1bmN0aW9uIG8oZSx0LG4pe3ZhciByPWUubWF0Y2godCk7cmV0dXJuIHImJnIubGVuZ3RoPj1uJiZwYXJzZUludChyW25dLDEwKX1mdW5jdGlvbiBpKGUsdCxuKXtpZihlLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxvPXIuYWRkRXZlbnRMaXN0ZW5lcjtyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxyKXtpZihlIT09dClyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTt0JiYoci5oYW5kbGVFdmVudD9yLmhhbmRsZUV2ZW50KHQpOnIodCkpfTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW3RdfHwodGhpcy5fZXZlbnRNYXBbdF09bmV3IE1hcCksdGhpcy5fZXZlbnRNYXBbdF0uc2V0KHIsaSksby5hcHBseSh0aGlzLFtlLGldKX07dmFyIGk9ci5yZW1vdmVFdmVudExpc3RlbmVyO3IucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe2lmKGUhPT10fHwhdGhpcy5fZXZlbnRNYXB8fCF0aGlzLl9ldmVudE1hcFt0XSlyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuX2V2ZW50TWFwW3RdLmhhcyhuKSlyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHI9dGhpcy5fZXZlbnRNYXBbdF0uZ2V0KG4pO3JldHVybiB0aGlzLl9ldmVudE1hcFt0XS5kZWxldGUobiksMD09PXRoaXMuX2V2ZW50TWFwW3RdLnNpemUmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcFt0XSwwPT09T2JqZWN0LmtleXModGhpcy5fZXZlbnRNYXApLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2V2ZW50TWFwLGkuYXBwbHkodGhpcyxbZSxyXSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwib25cIit0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tcIl9vblwiK3RdfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpc1tcIl9vblwiK3RdJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpc1tcIl9vblwiK3RdKSxkZWxldGUgdGhpc1tcIl9vblwiK3RdKSxlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzW1wiX29uXCIrdF09ZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBlP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3QoZSkrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKToobj1lLGU/XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWRcIjpcImFkYXB0ZXIuanMgbG9nZ2luZyBlbmFibGVkXCIpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBlP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3QoZSkrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKToocj0hZSxcImFkYXB0ZXIuanMgZGVwcmVjYXRpb24gd2FybmluZ3MgXCIrKGU/XCJkaXNhYmxlZFwiOlwiZW5hYmxlZFwiKSl9ZnVuY3Rpb24gcCgpe2lmKFwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOnQod2luZG93KSkpe2lmKG4pcmV0dXJuO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB1KGUsdCl7ciYmY29uc29sZS53YXJuKGUrXCIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcIit0K1wiIGluc3RlYWQuXCIpfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIix0O3ZhcntuYXZpZ2F0b3I6bn09ZTtpZihuLm1vekdldFVzZXJNZWRpYSl0LmJyb3dzZXI9XCJmaXJlZm94XCIsdC52ZXJzaW9uPW8obi51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oXFxkKylcXC4vLDEpO2Vsc2UgaWYobi53ZWJraXRHZXRVc2VyTWVkaWF8fCExPT09ZS5pc1NlY3VyZUNvbnRleHQmJmUud2Via2l0UlRDUGVlckNvbm5lY3Rpb24mJiFlLlJUQ0ljZUdhdGhlcmVyKXQuYnJvd3Nlcj1cImNocm9tZVwiLHQudmVyc2lvbj1vKG4udXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLDIpO2Vsc2UgaWYobi5tZWRpYURldmljZXMmJm4udXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKSQvKSl0LmJyb3dzZXI9XCJlZGdlXCIsdC52ZXJzaW9uPW8obi51c2VyQWdlbnQsL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8sMik7ZWxzZXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IW4udXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pKXJldHVybiB0LmJyb3dzZXI9XCJOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci5cIix0O3QuYnJvd3Nlcj1cInNhZmFyaVwiLHQudmVyc2lvbj1vKG4udXNlckFnZW50LC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8sMSksdC5zdXBwb3J0c1VuaWZpZWRQbGFuPWUuUlRDUnRwVHJhbnNjZWl2ZXImJlwiY3VycmVudERpcmVjdGlvblwiaW4gZS5SVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGV9cmV0dXJuIHR9ZnVuY3Rpb24gZChlKXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIGQodCk/T2JqZWN0LmtleXModCkucmVkdWNlKGZ1bmN0aW9uKG4scil7dmFyIG89ZCh0W3JdKSxpPW8/Zih0W3JdKTp0W3JdLHM9byYmIU9iamVjdC5rZXlzKGkpLmxlbmd0aDtyZXR1cm4gdm9pZCAwPT09aXx8cz9uOk9iamVjdC5hc3NpZ24obixlKHt9LHIsaSkpfSx7fSk6dH1mdW5jdGlvbiBsKGUsdCxuKXt0JiYhbi5oYXModC5pZCkmJihuLnNldCh0LmlkLHQpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7ci5lbmRzV2l0aChcIklkXCIpP2woZSxlLmdldCh0W3JdKSxuKTpyLmVuZHNXaXRoKFwiSWRzXCIpJiZ0W3JdLmZvckVhY2goZnVuY3Rpb24odCl7bChlLGUuZ2V0KHQpLG4pfSl9KSl9ZnVuY3Rpb24gdihlLHQsbil7dmFyIHI9bj9cIm91dGJvdW5kLXJ0cFwiOlwiaW5ib3VuZC1ydHBcIixvPW5ldyBNYXA7aWYobnVsbD09PXQpcmV0dXJuIG87dmFyIGk9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtcInRyYWNrXCI9PT1lLnR5cGUmJmUudHJhY2tJZGVudGlmaWVyPT09dC5pZCYmaS5wdXNoKGUpfSksaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZm9yRWFjaChmdW5jdGlvbihuKXtuLnR5cGU9PT1yJiZuLnRyYWNrSWQ9PT10LmlkJiZsKGUsbixvKX0pfSksb31cbn0se31dLFwiczZTTlwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1HZXRVc2VyTWVkaWE9aTt2YXIgZT10KHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKSk7ZnVuY3Rpb24gcigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIHI9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiB0KGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHQ9cigpO2lmKHQmJnQuaGFzKGUpKXJldHVybiB0LmdldChlKTt2YXIgbz17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSl7dmFyIGE9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bnVsbDthJiYoYS5nZXR8fGEuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxpLGEpOm9baV09ZVtpXX1yZXR1cm4gby5kZWZhdWx0PWUsdCYmdC5zZXQoZSxvKSxvfWZ1bmN0aW9uIG8oZSl7cmV0dXJuKG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfXZhciBuPWUubG9nO2Z1bmN0aW9uIGkoZSxyKXt2YXIgdD1lJiZlLm5hdmlnYXRvcjtpZih0Lm1lZGlhRGV2aWNlcyl7dmFyIGk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9PW8oZSl8fGUubWFuZGF0b3J5fHxlLm9wdGlvbmFsKXJldHVybiBlO3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKFwicmVxdWlyZVwiIT09dCYmXCJhZHZhbmNlZFwiIT09dCYmXCJtZWRpYVNvdXJjZVwiIT09dCl7dmFyIG49XCJvYmplY3RcIj09PW8oZVt0XSk/ZVt0XTp7aWRlYWw6ZVt0XX07dm9pZCAwIT09bi5leGFjdCYmXCJudW1iZXJcIj09dHlwZW9mIG4uZXhhY3QmJihuLm1pbj1uLm1heD1uLmV4YWN0KTt2YXIgaT1mdW5jdGlvbihlLHIpe3JldHVybiBlP2Urci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStyLnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXI/XCJzb3VyY2VJZFwiOnJ9O2lmKHZvaWQgMCE9PW4uaWRlYWwpe3Iub3B0aW9uYWw9ci5vcHRpb25hbHx8W107dmFyIGE9e307XCJudW1iZXJcIj09dHlwZW9mIG4uaWRlYWw/KGFbaShcIm1pblwiLHQpXT1uLmlkZWFsLHIub3B0aW9uYWwucHVzaChhKSwoYT17fSlbaShcIm1heFwiLHQpXT1uLmlkZWFsLHIub3B0aW9uYWwucHVzaChhKSk6KGFbaShcIlwiLHQpXT1uLmlkZWFsLHIub3B0aW9uYWwucHVzaChhKSl9dm9pZCAwIT09bi5leGFjdCYmXCJudW1iZXJcIiE9dHlwZW9mIG4uZXhhY3Q/KHIubWFuZGF0b3J5PXIubWFuZGF0b3J5fHx7fSxyLm1hbmRhdG9yeVtpKFwiXCIsdCldPW4uZXhhY3QpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT09bltlXSYmKHIubWFuZGF0b3J5PXIubWFuZGF0b3J5fHx7fSxyLm1hbmRhdG9yeVtpKGUsdCldPW5bZV0pfSl9fSksZS5hZHZhbmNlZCYmKHIub3B0aW9uYWw9KHIub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5hZHZhbmNlZCkpLHJ9LGE9ZnVuY3Rpb24oZSxhKXtpZihyLnZlcnNpb24+PTYxKXJldHVybiBhKGUpO2lmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKSYmXCJvYmplY3RcIj09PW8oZS5hdWRpbykpe3ZhciBjPWZ1bmN0aW9uKGUscix0KXtyIGluIGUmJiEodCBpbiBlKSYmKGVbdF09ZVtyXSxkZWxldGUgZVtyXSl9O2MoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmF1ZGlvLFwiYXV0b0dhaW5Db250cm9sXCIsXCJnb29nQXV0b0dhaW5Db250cm9sXCIpLGMoZS5hdWRpbyxcIm5vaXNlU3VwcHJlc3Npb25cIixcImdvb2dOb2lzZVN1cHByZXNzaW9uXCIpLGUuYXVkaW89aShlLmF1ZGlvKX1pZihlJiZcIm9iamVjdFwiPT09byhlLnZpZGVvKSl7dmFyIGQ9ZS52aWRlby5mYWNpbmdNb2RlO2Q9ZCYmKFwib2JqZWN0XCI9PT1vKGQpP2Q6e2lkZWFsOmR9KTt2YXIgdSxzPXIudmVyc2lvbjw2NjtpZihkJiYoXCJ1c2VyXCI9PT1kLmV4YWN0fHxcImVudmlyb25tZW50XCI9PT1kLmV4YWN0fHxcInVzZXJcIj09PWQuaWRlYWx8fFwiZW52aXJvbm1lbnRcIj09PWQuaWRlYWwpJiYoIXQubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzfHwhdC5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKS5mYWNpbmdNb2RlfHxzKSlpZihkZWxldGUgZS52aWRlby5mYWNpbmdNb2RlLFwiZW52aXJvbm1lbnRcIj09PWQuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PWQuaWRlYWw/dT1bXCJiYWNrXCIsXCJyZWFyXCJdOlwidXNlclwiIT09ZC5leGFjdCYmXCJ1c2VyXCIhPT1kLmlkZWFsfHwodT1bXCJmcm9udFwiXSksdSlyZXR1cm4gdC5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oZnVuY3Rpb24ocil7dmFyIHQ9KHI9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb2lucHV0XCI9PT1lLmtpbmR9KSkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gdS5zb21lKGZ1bmN0aW9uKHIpe3JldHVybiBlLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocil9KX0pO3JldHVybiF0JiZyLmxlbmd0aCYmdS5pbmNsdWRlcyhcImJhY2tcIikmJih0PXJbci5sZW5ndGgtMV0pLHQmJihlLnZpZGVvLmRldmljZUlkPWQuZXhhY3Q/e2V4YWN0OnQuZGV2aWNlSWR9OntpZGVhbDp0LmRldmljZUlkfSksZS52aWRlbz1pKGUudmlkZW8pLG4oXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxhKGUpfSk7ZS52aWRlbz1pKGUudmlkZW8pfXJldHVybiBuKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSksYShlKX0sYz1mdW5jdGlvbihlKXtyZXR1cm4gci52ZXJzaW9uPj02ND9lOntuYW1lOntQZXJtaXNzaW9uRGVuaWVkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixQZXJtaXNzaW9uRGlzbWlzc2VkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixJbnZhbGlkU3RhdGVFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLERldmljZXNOb3RGb3VuZEVycm9yOlwiTm90Rm91bmRFcnJvclwiLENvbnN0cmFpbnROb3RTYXRpc2ZpZWRFcnJvcjpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCIsVHJhY2tTdGFydEVycm9yOlwiTm90UmVhZGFibGVFcnJvclwiLE1lZGlhRGV2aWNlRmFpbGVkRHVlVG9TaHV0ZG93bjpcIk5vdEFsbG93ZWRFcnJvclwiLE1lZGlhRGV2aWNlS2lsbFN3aXRjaE9uOlwiTm90QWxsb3dlZEVycm9yXCIsVGFiQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwiLFNjcmVlbkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixEZXZpY2VDYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxjb25zdHJhaW50OmUuY29uc3RyYWludHx8ZS5jb25zdHJhaW50TmFtZSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrKHRoaXMubWVzc2FnZSYmXCI6IFwiKSt0aGlzLm1lc3NhZ2V9fX07aWYodC5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSxyLG8pe2EoZSxmdW5jdGlvbihlKXt0LndlYmtpdEdldFVzZXJNZWRpYShlLHIsZnVuY3Rpb24oZSl7byYmbyhjKGUpKX0pfSl9LmJpbmQodCksdC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXt2YXIgZD10Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZCh0Lm1lZGlhRGV2aWNlcyk7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSkudGhlbihmdW5jdGlvbihyKXtpZihlLmF1ZGlvJiYhci5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aHx8ZS52aWRlbyYmIXIuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpdGhyb3cgci5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSksbmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiTm90Rm91bmRFcnJvclwiKTtyZXR1cm4gcn0sZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGMoZSkpfSl9KX19fX1cbn0se1wiLi4vdXRpbHMuanNcIjpcImlTeENcIn1dLFwiVkhhOFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsaSl7ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHxlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2UubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGkoYSkudGhlbihmdW5jdGlvbihpKXt2YXIgdD1hLnZpZGVvJiZhLnZpZGVvLndpZHRoLG89YS52aWRlbyYmYS52aWRlby5oZWlnaHQsZD1hLnZpZGVvJiZhLnZpZGVvLmZyYW1lUmF0ZTtyZXR1cm4gYS52aWRlbz17bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOmksbWF4RnJhbWVSYXRlOmR8fDN9fSx0JiYoYS52aWRlby5tYW5kYXRvcnkubWF4V2lkdGg9dCksbyYmKGEudmlkZW8ubWFuZGF0b3J5Lm1heEhlaWdodD1vKSxlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGEpfSl9OmNvbnNvbGUuZXJyb3IoXCJzaGltR2V0RGlzcGxheU1lZGlhOiBnZXRTb3VyY2VJZCBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvblwiKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0RGlzcGxheU1lZGlhPWU7XG59LHt9XSxcInVJNVhcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltTWVkaWFTdHJlYW09YSxleHBvcnRzLnNoaW1PblRyYWNrPWMsZXhwb3J0cy5zaGltR2V0U2VuZGVyc1dpdGhEdG1mPXAsZXhwb3J0cy5zaGltR2V0U3RhdHM9ZCxleHBvcnRzLnNoaW1TZW5kZXJSZWNlaXZlckdldFN0YXRzPWgsZXhwb3J0cy5zaGltQWRkVHJhY2tSZW1vdmVUcmFja1dpdGhOYXRpdmU9ZixleHBvcnRzLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrPW0sZXhwb3J0cy5zaGltUGVlckNvbm5lY3Rpb249dSxleHBvcnRzLmZpeE5lZ290aWF0aW9uTmVlZGVkPWwsT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJzaGltR2V0VXNlck1lZGlhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2hpbUdldFVzZXJNZWRpYX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcInNoaW1HZXREaXNwbGF5TWVkaWFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5zaGltR2V0RGlzcGxheU1lZGlhfX0pO3ZhciBlPWkocmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpKSx0PXJlcXVpcmUoXCIuL2dldHVzZXJtZWRpYVwiKSxyPXJlcXVpcmUoXCIuL2dldGRpc3BsYXltZWRpYVwiKTtmdW5jdGlvbiBuKCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcDtyZXR1cm4gbj1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIGkoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm57ZGVmYXVsdDplfTt2YXIgdD1uKCk7aWYodCYmdC5oYXMoZSkpcmV0dXJuIHQuZ2V0KGUpO3ZhciByPXt9LGk9T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dfXJldHVybiByLmRlZmF1bHQ9ZSx0JiZ0LnNldChlLHIpLHJ9ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYShlKXtlLk1lZGlhU3RyZWFtPWUuTWVkaWFTdHJlYW18fGUud2Via2l0TWVkaWFTdHJlYW19ZnVuY3Rpb24gYyh0KXtpZihcIm9iamVjdFwiIT09cyh0KXx8IXQuUlRDUGVlckNvbm5lY3Rpb258fFwib250cmFja1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpZS53cmFwUGVlckNvbm5lY3Rpb25FdmVudCh0LFwidHJhY2tcIixmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2NlaXZlcnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJ0cmFuc2NlaXZlclwiLHt2YWx1ZTp7cmVjZWl2ZXI6ZS5yZWNlaXZlcn19KSxlfSk7ZWxzZXtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJvbnRyYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbnRyYWNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb250cmFjayYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbnRyYWNrKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2s9ZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7dmFyIHI9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9vbnRyYWNrcG9seXx8KHRoaXMuX29udHJhY2twb2x5PWZ1bmN0aW9uKHIpe3Iuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKG4pe3ZhciBpO2k9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzP2UuZ2V0UmVjZWl2ZXJzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjayYmZS50cmFjay5pZD09PW4udHJhY2suaWR9KTp7dHJhY2s6bi50cmFja307dmFyIG89bmV3IEV2ZW50KFwidHJhY2tcIik7by50cmFjaz1uLnRyYWNrLG8ucmVjZWl2ZXI9aSxvLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjppfSxvLnN0cmVhbXM9W3Iuc3RyZWFtXSxlLmRpc3BhdGNoRXZlbnQobyl9KSxyLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBpO2k9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzP2UuZ2V0UmVjZWl2ZXJzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjayYmZS50cmFjay5pZD09PW4uaWR9KTp7dHJhY2s6bn07dmFyIG89bmV3IEV2ZW50KFwidHJhY2tcIik7by50cmFjaz1uLG8ucmVjZWl2ZXI9aSxvLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjppfSxvLnN0cmVhbXM9W3Iuc3RyZWFtXSxlLmRpc3BhdGNoRXZlbnQobyl9KX0sdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb250cmFja3BvbHkpKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIHAoZSl7aWYoXCJvYmplY3RcIj09PXMoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJnZXRTZW5kZXJzXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJue3RyYWNrOnQsZ2V0IGR0bWYoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZHRtZiYmKFwiYXVkaW9cIj09PXQua2luZD90aGlzLl9kdG1mPWUuY3JlYXRlRFRNRlNlbmRlcih0KTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9LF9wYzplfX07aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSx0aGlzLl9zZW5kZXJzLnNsaWNlKCl9O3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUsbil7dmFyIGk9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGl8fChpPXQodGhpcyxlKSx0aGlzLl9zZW5kZXJzLnB1c2goaSkpLGl9O3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0PXRoaXMuX3NlbmRlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3NlbmRlcnMuc3BsaWNlKHQsMSl9fXZhciBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLGkuYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9zZW5kZXJzLnB1c2godChyLGUpKX0pfTt2YXIgbz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxvLmFwcGx5KHRoaXMsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fc2VuZGVycy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pO3ImJnQuX3NlbmRlcnMuc3BsaWNlKHQuX3NlbmRlcnMuaW5kZXhPZihyKSwxKX0pfX1lbHNlIGlmKFwib2JqZWN0XCI9PT1zKGUpJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZlLlJUQ1J0cFNlbmRlciYmIShcImR0bWZcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe3ZhciBhPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hLmFwcGx5KHRoaXMsW10pO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuX3BjPWV9KSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLFwiZHRtZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZHRtZiYmKFwiYXVkaW9cIj09PXRoaXMudHJhY2sua2luZD90aGlzLl9kdG1mPXRoaXMuX3BjLmNyZWF0ZURUTUZTZW5kZXIodGhpcy50cmFjayk6dGhpcy5fZHRtZj1udWxsKSx0aGlzLl9kdG1mfX0pfX1mdW5jdGlvbiBkKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxbcixuLGldPWFyZ3VtZW50cztpZihhcmd1bWVudHMubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKDA9PT10Lmxlbmd0aCYmKDA9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiByKSlyZXR1cm4gdC5hcHBseSh0aGlzLFtdKTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5yZXN1bHQoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcCx0eXBlOntsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtlLm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPWUuc3RhdCh0KX0pLHRbci5pZF09cn0pLHR9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0LGVbdF1dfSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXtyZXR1cm4gdC5hcHBseSh0aGlzLFtmdW5jdGlvbihlKXtuKHMobyhlKSkpfSxyXSl9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7dC5hcHBseShlLFtmdW5jdGlvbihlKXtyKHMobyhlKSkpfSxuXSl9KS50aGVuKG4saSl9fX1mdW5jdGlvbiBoKHQpe2lmKFwib2JqZWN0XCI9PT1zKHQpJiZ0LlJUQ1BlZXJDb25uZWN0aW9uJiZ0LlJUQ1J0cFNlbmRlciYmdC5SVENSdHBSZWNlaXZlcil7aWYoIShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXt2YXIgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3ImJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXIuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pLHR9KTt2YXIgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztuJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5fcGM9dGhpcyxlfSksdC5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLmZpbHRlclN0YXRzKHIsdC50cmFjaywhMCl9KX19aWYoIShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkpe3ZhciBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycztpJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWkuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pLHR9KSxlLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHQsXCJ0cmFja1wiLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZX0pLHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLmZpbHRlclN0YXRzKHIsdC50cmFjaywhMSl9KX19aWYoXCJnZXRTdGF0c1wiaW4gdC5SVENSdHBTZW5kZXIucHJvdG90eXBlJiZcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSl7dmFyIG89dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdC5NZWRpYVN0cmVhbVRyYWNrKXt2YXIgZSxyLG4saT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24odCl7dC50cmFjaz09PWkmJihlP249ITA6ZT10KX0pLHRoaXMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PWkmJihyP249ITA6cj1lKSxlLnRyYWNrPT09aX0pLG58fGUmJnI/UHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKTplP2UuZ2V0U3RhdHMoKTpyP3IuZ2V0U3RhdHMoKTpQcm9taXNlLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFwiVGhlcmUgaXMgbm8gc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIikpfXJldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fX1mdW5jdGlvbiBmKGUpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zaGltbWVkTG9jYWxTdHJlYW1zW3RdWzBdfSl9O3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUscil7aWYoIXIpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e307dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbci5pZF0/LTE9PT10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3IuaWRdLmluZGV4T2YobikmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbci5pZF0ucHVzaChuKTp0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3IuaWRdPVtyLG5dLG59O3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtpZih0LmdldFNlbmRlcnMoKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKX0pO3ZhciBuPXRoaXMuZ2V0U2VuZGVycygpO3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPXRoaXMuZ2V0U2VuZGVycygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMT09PW4uaW5kZXhPZihlKX0pO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF09W2VdLmNvbmNhdChpKX07dmFyIG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tlLmlkXSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxlJiZPYmplY3Qua2V5cyh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX3NoaW1tZWRMb2NhbFN0cmVhbXNbcl0uaW5kZXhPZihlKTstMSE9PW4mJnQuX3NoaW1tZWRMb2NhbFN0cmVhbXNbcl0uc3BsaWNlKG4sMSksMT09PXQuX3NoaW1tZWRMb2NhbFN0cmVhbXNbcl0ubGVuZ3RoJiZkZWxldGUgdC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXX0pLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBtKGUsdCl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbil7aWYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2smJnQudmVyc2lvbj49NjUpcmV0dXJuIGYoZSk7dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1yLmFwcGx5KHRoaXMpO3JldHVybiB0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3JldmVyc2VTdHJlYW1zW3QuaWRdfSl9O3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZih0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSx0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoci5nZXRTZW5kZXJzKCkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09PWV9KSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIil9KSwhdGhpcy5fcmV2ZXJzZVN0cmVhbXNbdC5pZF0pe3ZhciBpPW5ldyBlLk1lZGlhU3RyZWFtKHQuZ2V0VHJhY2tzKCkpO3RoaXMuX3N0cmVhbXNbdC5pZF09aSx0aGlzLl9yZXZlcnNlU3RyZWFtc1tpLmlkXT10LHQ9aX1uLmFwcGx5KHRoaXMsW3RdKX07dmFyIGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxpLmFwcGx5KHRoaXMsW3RoaXMuX3N0cmVhbXNbZS5pZF18fGVdKSxkZWxldGUgdGhpcy5fcmV2ZXJzZVN0cmVhbXNbdGhpcy5fc3RyZWFtc1tlLmlkXT90aGlzLl9zdHJlYW1zW2UuaWRdLmlkOmUuaWRdLGRlbGV0ZSB0aGlzLl9zdHJlYW1zW2UuaWRdfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7aWYoXCJjbG9zZWRcIj09PXRoaXMuc2lnbmFsaW5nU3RhdGUpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbidzIHNpZ25hbGluZ1N0YXRlIGlzICdjbG9zZWQnLlwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIik7dmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYoMSE9PWkubGVuZ3RofHwhaVswXS5nZXRUcmFja3MoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgYWRhcHRlci5qcyBhZGRUcmFjayBwb2x5ZmlsbCBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlICBzdHJlYW0gd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHJhY2suXCIsXCJOb3RTdXBwb3J0ZWRFcnJvclwiKTtpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09dH0pKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTt2YXIgbz10aGlzLl9zdHJlYW1zW3IuaWRdO2lmKG8pby5hZGRUcmFjayh0KSxQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7bi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKX0pO2Vsc2V7dmFyIHM9bmV3IGUuTWVkaWFTdHJlYW0oW3RdKTt0aGlzLl9zdHJlYW1zW3IuaWRdPXMsdGhpcy5fcmV2ZXJzZVN0cmVhbXNbcy5pZF09cix0aGlzLmFkZFN0cmVhbShzKX1yZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXR9KX0sW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49byh7fSx0LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdP3IuYXBwbHkodGhpcyxbZnVuY3Rpb24ocil7dmFyIG49YyhlLHIpO3RbMF0uYXBwbHkobnVsbCxbbl0pfSxmdW5jdGlvbihlKXt0WzFdJiZ0WzFdLmFwcGx5KG51bGwsZSl9LGFyZ3VtZW50c1syXV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KX0pfSk7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09blt0XX0pO3ZhciBzPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0udHlwZT8oYXJndW1lbnRzWzBdPShlPXRoaXMsdD1hcmd1bWVudHNbMF0scj10LnNkcCxPYmplY3Qua2V5cyhlLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5fcmV2ZXJzZVN0cmVhbXNbdF0saT1lLl9zdHJlYW1zW24uaWRdO3I9ci5yZXBsYWNlKG5ldyBSZWdFeHAobi5pZCxcImdcIiksaS5pZCl9KSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6cn0pKSxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk6cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGUsdCxyfTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWEuZ2V0LmFwcGx5KHRoaXMpO3JldHVyblwiXCI9PT1lLnR5cGU/ZTpjKHRoaXMsZSl9fSksZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2lmKCFlLl9wYyl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiQXJndW1lbnQgMSBvZiBSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayBkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci5cIixcIlR5cGVFcnJvclwiKTtpZighKGUuX3BjPT09dGhpcykpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlNlbmRlciB3YXMgbm90IGNyZWF0ZWQgYnkgdGhpcyBjb25uZWN0aW9uLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpO3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc3RyZWFtcykuZm9yRWFjaChmdW5jdGlvbihuKXtyLl9zdHJlYW1zW25dLmdldFRyYWNrcygpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhY2s9PT10fSkmJih0PXIuX3N0cmVhbXNbbl0pfSksdCYmKDE9PT10LmdldFRyYWNrcygpLmxlbmd0aD90aGlzLnJlbW92ZVN0cmVhbSh0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSk6dC5yZW1vdmVUcmFjayhlLnRyYWNrKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIikpKX19ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhlLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5fcmV2ZXJzZVN0cmVhbXNbdF0saT1lLl9zdHJlYW1zW24uaWRdO3I9ci5yZXBsYWNlKG5ldyBSZWdFeHAoaS5pZCxcImdcIiksbi5pZCl9KSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6cn0pfX1mdW5jdGlvbiB1KGUsdCl7IWUuUlRDUGVlckNvbm5lY3Rpb24mJmUud2Via2l0UlRDUGVlckNvbm5lY3Rpb24mJihlLlJUQ1BlZXJDb25uZWN0aW9uPWUud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pLGUuUlRDUGVlckNvbm5lY3Rpb24mJnQudmVyc2lvbjw1MyYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49byh7fSx0LGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/ZS5SVENJY2VDYW5kaWRhdGU6ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSl9ZnVuY3Rpb24gbCh0LHIpe2Uud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQodCxcIm5lZ290aWF0aW9ubmVlZGVkXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYoIShyLnZlcnNpb248NzJ8fHQuZ2V0Q29uZmlndXJhdGlvbiYmXCJwbGFuLWJcIj09PXQuZ2V0Q29uZmlndXJhdGlvbigpLnNkcFNlbWFudGljcyl8fFwic3RhYmxlXCI9PT10LnNpZ25hbGluZ1N0YXRlKXJldHVybiBlfSl9XG59LHtcIi4uL3V0aWxzLmpzXCI6XCJpU3hDXCIsXCIuL2dldHVzZXJtZWRpYVwiOlwiczZTTlwiLFwiLi9nZXRkaXNwbGF5bWVkaWFcIjpcIlZIYThcIn1dLFwiTloxQ1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZpbHRlckljZVNlcnZlcnM9bjt2YXIgcj10KHJlcXVpcmUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gZSgpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHI9bmV3IFdlYWtNYXA7cmV0dXJuIGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn0scn1mdW5jdGlvbiB0KHIpe2lmKHImJnIuX19lc01vZHVsZSlyZXR1cm4gcjtpZihudWxsPT09cnx8XCJvYmplY3RcIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpcmV0dXJue2RlZmF1bHQ6cn07dmFyIHQ9ZSgpO2lmKHQmJnQuaGFzKHIpKXJldHVybiB0LmdldChyKTt2YXIgbj17fSx1PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gcilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSl7dmFyIGY9dT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsaSk6bnVsbDtmJiYoZi5nZXR8fGYuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixpLGYpOm5baV09cltpXX1yZXR1cm4gbi5kZWZhdWx0PXIsdCYmdC5zZXQocixuKSxufWZ1bmN0aW9uIG4oZSx0KXt2YXIgbj0hMTtyZXR1cm4oZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKGUmJihlLnVybHN8fGUudXJsKSl7dmFyIHQ9ZS51cmxzfHxlLnVybDtlLnVybCYmIWUudXJscyYmci5kZXByZWNhdGVkKFwiUlRDSWNlU2VydmVyLnVybFwiLFwiUlRDSWNlU2VydmVyLnVybHNcIik7dmFyIHU9XCJzdHJpbmdcIj09dHlwZW9mIHQ7cmV0dXJuIHUmJih0PVt0XSksdD10LmZpbHRlcihmdW5jdGlvbihyKXtpZigwPT09ci5pbmRleE9mKFwic3R1bjpcIikpcmV0dXJuITE7dmFyIGU9ci5zdGFydHNXaXRoKFwidHVyblwiKSYmIXIuc3RhcnRzV2l0aChcInR1cm46W1wiKSYmci5pbmNsdWRlcyhcInRyYW5zcG9ydD11ZHBcIik7cmV0dXJuIGUmJiFuPyhuPSEwLCEwKTplJiYhbn0pLGRlbGV0ZSBlLnVybCxlLnVybHM9dT90WzBdOnQsISF0Lmxlbmd0aH19KX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIn1dLFwiWUh2aFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgcj17Z2VuZXJhdGVJZGVudGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDEwKX19O3IubG9jYWxDTmFtZT1yLmdlbmVyYXRlSWRlbnRpZmllcigpLHIuc3BsaXRMaW5lcz1mdW5jdGlvbihyKXtyZXR1cm4gci50cmltKCkuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnRyaW0oKX0pfSxyLnNwbGl0U2VjdGlvbnM9ZnVuY3Rpb24ocil7cmV0dXJuIHIuc3BsaXQoXCJcXG5tPVwiKS5tYXAoZnVuY3Rpb24ocixlKXtyZXR1cm4oZT4wP1wibT1cIityOnIpLnRyaW0oKStcIlxcclxcblwifSl9LHIuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ci5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0JiZ0WzBdfSxyLmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0LnNoaWZ0KCksdH0sci5tYXRjaFByZWZpeD1mdW5jdGlvbihlLHQpe3JldHVybiByLnNwbGl0TGluZXMoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiAwPT09ci5pbmRleE9mKHQpfSl9LHIucGFyc2VDYW5kaWRhdGU9ZnVuY3Rpb24ocil7Zm9yKHZhciBlLHQ9e2ZvdW5kYXRpb246KGU9MD09PXIuaW5kZXhPZihcImE9Y2FuZGlkYXRlOlwiKT9yLnN1YnN0cmluZygxMikuc3BsaXQoXCIgXCIpOnIuc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIikpWzBdLGNvbXBvbmVudDpwYXJzZUludChlWzFdLDEwKSxwcm90b2NvbDplWzJdLnRvTG93ZXJDYXNlKCkscHJpb3JpdHk6cGFyc2VJbnQoZVszXSwxMCksaXA6ZVs0XSxhZGRyZXNzOmVbNF0scG9ydDpwYXJzZUludChlWzVdLDEwKSx0eXBlOmVbN119LGE9ODthPGUubGVuZ3RoO2ErPTIpc3dpdGNoKGVbYV0pe2Nhc2VcInJhZGRyXCI6dC5yZWxhdGVkQWRkcmVzcz1lW2ErMV07YnJlYWs7Y2FzZVwicnBvcnRcIjp0LnJlbGF0ZWRQb3J0PXBhcnNlSW50KGVbYSsxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOnQudGNwVHlwZT1lW2ErMV07YnJlYWs7Y2FzZVwidWZyYWdcIjp0LnVmcmFnPWVbYSsxXSx0LnVzZXJuYW1lRnJhZ21lbnQ9ZVthKzFdO2JyZWFrO2RlZmF1bHQ6dFtlW2FdXT1lW2ErMV19cmV0dXJuIHR9LHIud3JpdGVDYW5kaWRhdGU9ZnVuY3Rpb24ocil7dmFyIGU9W107ZS5wdXNoKHIuZm91bmRhdGlvbiksZS5wdXNoKHIuY29tcG9uZW50KSxlLnB1c2goci5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKSxlLnB1c2goci5wcmlvcml0eSksZS5wdXNoKHIuYWRkcmVzc3x8ci5pcCksZS5wdXNoKHIucG9ydCk7dmFyIHQ9ci50eXBlO3JldHVybiBlLnB1c2goXCJ0eXBcIiksZS5wdXNoKHQpLFwiaG9zdFwiIT09dCYmci5yZWxhdGVkQWRkcmVzcyYmci5yZWxhdGVkUG9ydCYmKGUucHVzaChcInJhZGRyXCIpLGUucHVzaChyLnJlbGF0ZWRBZGRyZXNzKSxlLnB1c2goXCJycG9ydFwiKSxlLnB1c2goci5yZWxhdGVkUG9ydCkpLHIudGNwVHlwZSYmXCJ0Y3BcIj09PXIucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKGUucHVzaChcInRjcHR5cGVcIiksZS5wdXNoKHIudGNwVHlwZSkpLChyLnVzZXJuYW1lRnJhZ21lbnR8fHIudWZyYWcpJiYoZS5wdXNoKFwidWZyYWdcIiksZS5wdXNoKHIudXNlcm5hbWVGcmFnbWVudHx8ci51ZnJhZykpLFwiY2FuZGlkYXRlOlwiK2Uuam9pbihcIiBcIil9LHIucGFyc2VJY2VPcHRpb25zPWZ1bmN0aW9uKHIpe3JldHVybiByLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpfSxyLnBhcnNlUnRwTWFwPWZ1bmN0aW9uKHIpe3ZhciBlPXIuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKSx0PXtwYXlsb2FkVHlwZTpwYXJzZUludChlLnNoaWZ0KCksMTApfTtyZXR1cm4gZT1lWzBdLnNwbGl0KFwiL1wiKSx0Lm5hbWU9ZVswXSx0LmNsb2NrUmF0ZT1wYXJzZUludChlWzFdLDEwKSx0LmNoYW5uZWxzPTM9PT1lLmxlbmd0aD9wYXJzZUludChlWzJdLDEwKToxLHQubnVtQ2hhbm5lbHM9dC5jaGFubmVscyx0fSxyLndyaXRlUnRwTWFwPWZ1bmN0aW9uKHIpe3ZhciBlPXIucGF5bG9hZFR5cGU7dm9pZCAwIT09ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKGU9ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSk7dmFyIHQ9ci5jaGFubmVsc3x8ci5udW1DaGFubmVsc3x8MTtyZXR1cm5cImE9cnRwbWFwOlwiK2UrXCIgXCIrci5uYW1lK1wiL1wiK3IuY2xvY2tSYXRlKygxIT09dD9cIi9cIit0OlwiXCIpK1wiXFxyXFxuXCJ9LHIucGFyc2VFeHRtYXA9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpO3JldHVybntpZDpwYXJzZUludChlWzBdLDEwKSxkaXJlY3Rpb246ZVswXS5pbmRleE9mKFwiL1wiKT4wP2VbMF0uc3BsaXQoXCIvXCIpWzFdOlwic2VuZHJlY3ZcIix1cmk6ZVsxXX19LHIud3JpdGVFeHRtYXA9ZnVuY3Rpb24ocil7cmV0dXJuXCJhPWV4dG1hcDpcIisoci5pZHx8ci5wcmVmZXJyZWRJZCkrKHIuZGlyZWN0aW9uJiZcInNlbmRyZWN2XCIhPT1yLmRpcmVjdGlvbj9cIi9cIityLmRpcmVjdGlvbjpcIlwiKStcIiBcIityLnVyaStcIlxcclxcblwifSxyLnBhcnNlRm10cD1mdW5jdGlvbihyKXtmb3IodmFyIGUsdD17fSxhPXIuc3Vic3RyKHIuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCI7XCIpLG49MDtuPGEubGVuZ3RoO24rKyl0WyhlPWFbbl0udHJpbSgpLnNwbGl0KFwiPVwiKSlbMF0udHJpbSgpXT1lWzFdO3JldHVybiB0fSxyLndyaXRlRm10cD1mdW5jdGlvbihyKXt2YXIgZT1cIlwiLHQ9ci5wYXlsb2FkVHlwZTtpZih2b2lkIDAhPT1yLnByZWZlcnJlZFBheWxvYWRUeXBlJiYodD1yLnByZWZlcnJlZFBheWxvYWRUeXBlKSxyLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKHIucGFyYW1ldGVycykubGVuZ3RoKXt2YXIgYT1bXTtPYmplY3Qua2V5cyhyLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5wYXJhbWV0ZXJzW2VdP2EucHVzaChlK1wiPVwiK3IucGFyYW1ldGVyc1tlXSk6YS5wdXNoKGUpfSksZSs9XCJhPWZtdHA6XCIrdCtcIiBcIithLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIGV9LHIucGFyc2VSdGNwRmI9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoci5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIiBcIik7cmV0dXJue3R5cGU6ZS5zaGlmdCgpLHBhcmFtZXRlcjplLmpvaW4oXCIgXCIpfX0sci53cml0ZVJ0Y3BGYj1mdW5jdGlvbihyKXt2YXIgZT1cIlwiLHQ9ci5wYXlsb2FkVHlwZTtyZXR1cm4gdm9pZCAwIT09ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKHQ9ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSksci5ydGNwRmVlZGJhY2smJnIucnRjcEZlZWRiYWNrLmxlbmd0aCYmci5ydGNwRmVlZGJhY2suZm9yRWFjaChmdW5jdGlvbihyKXtlKz1cImE9cnRjcC1mYjpcIit0K1wiIFwiK3IudHlwZSsoci5wYXJhbWV0ZXImJnIucGFyYW1ldGVyLmxlbmd0aD9cIiBcIityLnBhcmFtZXRlcjpcIlwiKStcIlxcclxcblwifSksZX0sci5wYXJzZVNzcmNNZWRpYT1mdW5jdGlvbihyKXt2YXIgZT1yLmluZGV4T2YoXCIgXCIpLHQ9e3NzcmM6cGFyc2VJbnQoci5zdWJzdHIoNyxlLTcpLDEwKX0sYT1yLmluZGV4T2YoXCI6XCIsZSk7cmV0dXJuIGE+LTE/KHQuYXR0cmlidXRlPXIuc3Vic3RyKGUrMSxhLWUtMSksdC52YWx1ZT1yLnN1YnN0cihhKzEpKTp0LmF0dHJpYnV0ZT1yLnN1YnN0cihlKzEpLHR9LHIucGFyc2VTc3JjR3JvdXA9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoMTMpLnNwbGl0KFwiIFwiKTtyZXR1cm57c2VtYW50aWNzOmUuc2hpZnQoKSxzc3JjczplLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gcGFyc2VJbnQociwxMCl9KX19LHIuZ2V0TWlkPWZ1bmN0aW9uKGUpe3ZhciB0PXIubWF0Y2hQcmVmaXgoZSxcImE9bWlkOlwiKVswXTtpZih0KXJldHVybiB0LnN1YnN0cig2KX0sci5wYXJzZUZpbmdlcnByaW50PWZ1bmN0aW9uKHIpe3ZhciBlPXIuc3Vic3RyKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTplWzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6ZVsxXX19LHIuZ2V0RHRsc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6ci5tYXRjaFByZWZpeChlK3QsXCJhPWZpbmdlcnByaW50OlwiKS5tYXAoci5wYXJzZUZpbmdlcnByaW50KX19LHIud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihyLGUpe3ZhciB0PVwiYT1zZXR1cDpcIitlK1wiXFxyXFxuXCI7cmV0dXJuIHIuZmluZ2VycHJpbnRzLmZvckVhY2goZnVuY3Rpb24ocil7dCs9XCJhPWZpbmdlcnByaW50OlwiK3IuYWxnb3JpdGhtK1wiIFwiK3IudmFsdWUrXCJcXHJcXG5cIn0pLHR9LHIucGFyc2VDcnlwdG9MaW5lPWZ1bmN0aW9uKHIpe3ZhciBlPXIuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm57dGFnOnBhcnNlSW50KGVbMF0sMTApLGNyeXB0b1N1aXRlOmVbMV0sa2V5UGFyYW1zOmVbMl0sc2Vzc2lvblBhcmFtczplLnNsaWNlKDMpfX0sci53cml0ZUNyeXB0b0xpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhPWNyeXB0bzpcIitlLnRhZytcIiBcIitlLmNyeXB0b1N1aXRlK1wiIFwiKyhcIm9iamVjdFwiPT10eXBlb2YgZS5rZXlQYXJhbXM/ci53cml0ZUNyeXB0b0tleVBhcmFtcyhlLmtleVBhcmFtcyk6ZS5rZXlQYXJhbXMpKyhlLnNlc3Npb25QYXJhbXM/XCIgXCIrZS5zZXNzaW9uUGFyYW1zLmpvaW4oXCIgXCIpOlwiXCIpK1wiXFxyXFxuXCJ9LHIucGFyc2VDcnlwdG9LZXlQYXJhbXM9ZnVuY3Rpb24ocil7aWYoMCE9PXIuaW5kZXhPZihcImlubGluZTpcIikpcmV0dXJuIG51bGw7dmFyIGU9ci5zdWJzdHIoNykuc3BsaXQoXCJ8XCIpO3JldHVybntrZXlNZXRob2Q6XCJpbmxpbmVcIixrZXlTYWx0OmVbMF0sbGlmZVRpbWU6ZVsxXSxta2lWYWx1ZTplWzJdP2VbMl0uc3BsaXQoXCI6XCIpWzBdOnZvaWQgMCxta2lMZW5ndGg6ZVsyXT9lWzJdLnNwbGl0KFwiOlwiKVsxXTp2b2lkIDB9fSxyLndyaXRlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKHIpe3JldHVybiByLmtleU1ldGhvZCtcIjpcIityLmtleVNhbHQrKHIubGlmZVRpbWU/XCJ8XCIrci5saWZlVGltZTpcIlwiKSsoci5ta2lWYWx1ZSYmci5ta2lMZW5ndGg/XCJ8XCIrci5ta2lWYWx1ZStcIjpcIityLm1raUxlbmd0aDpcIlwiKX0sci5nZXRDcnlwdG9QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIubWF0Y2hQcmVmaXgoZSt0LFwiYT1jcnlwdG86XCIpLm1hcChyLnBhcnNlQ3J5cHRvTGluZSl9LHIuZ2V0SWNlUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciBhPXIubWF0Y2hQcmVmaXgoZSt0LFwiYT1pY2UtdWZyYWc6XCIpWzBdLG49ci5tYXRjaFByZWZpeChlK3QsXCJhPWljZS1wd2Q6XCIpWzBdO3JldHVybiBhJiZuP3t1c2VybmFtZUZyYWdtZW50OmEuc3Vic3RyKDEyKSxwYXNzd29yZDpuLnN1YnN0cigxMCl9Om51bGx9LHIud3JpdGVJY2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKHIpe3JldHVyblwiYT1pY2UtdWZyYWc6XCIrci51c2VybmFtZUZyYWdtZW50K1wiXFxyXFxuYT1pY2UtcHdkOlwiK3IucGFzc3dvcmQrXCJcXHJcXG5cIn0sci5wYXJzZVJ0cFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXtjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxmZWNNZWNoYW5pc21zOltdLHJ0Y3A6W119LGE9ci5zcGxpdExpbmVzKGUpWzBdLnNwbGl0KFwiIFwiKSxuPTM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl0saT1yLm1hdGNoUHJlZml4KGUsXCJhPXJ0cG1hcDpcIitzK1wiIFwiKVswXTtpZihpKXt2YXIgcD1yLnBhcnNlUnRwTWFwKGkpLGM9ci5tYXRjaFByZWZpeChlLFwiYT1mbXRwOlwiK3MrXCIgXCIpO3N3aXRjaChwLnBhcmFtZXRlcnM9Yy5sZW5ndGg/ci5wYXJzZUZtdHAoY1swXSk6e30scC5ydGNwRmVlZGJhY2s9ci5tYXRjaFByZWZpeChlLFwiYT1ydGNwLWZiOlwiK3MrXCIgXCIpLm1hcChyLnBhcnNlUnRjcEZiKSx0LmNvZGVjcy5wdXNoKHApLHAubmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJSRURcIjpjYXNlXCJVTFBGRUNcIjp0LmZlY01lY2hhbmlzbXMucHVzaChwLm5hbWUudG9VcHBlckNhc2UoKSl9fX1yZXR1cm4gci5tYXRjaFByZWZpeChlLFwiYT1leHRtYXA6XCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5oZWFkZXJFeHRlbnNpb25zLnB1c2goci5wYXJzZUV4dG1hcChlKSl9KSx0fSxyLndyaXRlUnRwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSx0KXt2YXIgYT1cIlwiO2ErPVwibT1cIitlK1wiIFwiLGErPXQuY29kZWNzLmxlbmd0aD4wP1wiOVwiOlwiMFwiLGErPVwiIFVEUC9UTFMvUlRQL1NBVlBGIFwiLGErPXQuY29kZWNzLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwIT09ci5wcmVmZXJyZWRQYXlsb2FkVHlwZT9yLnByZWZlcnJlZFBheWxvYWRUeXBlOnIucGF5bG9hZFR5cGV9KS5qb2luKFwiIFwiKStcIlxcclxcblwiLGErPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLGErPVwiYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG5cIix0LmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2ErPXIud3JpdGVSdHBNYXAoZSksYSs9ci53cml0ZUZtdHAoZSksYSs9ci53cml0ZVJ0Y3BGYihlKX0pO3ZhciBuPTA7cmV0dXJuIHQuY29kZWNzLmZvckVhY2goZnVuY3Rpb24ocil7ci5tYXhwdGltZT5uJiYobj1yLm1heHB0aW1lKX0pLG4+MCYmKGErPVwiYT1tYXhwdGltZTpcIituK1wiXFxyXFxuXCIpLGErPVwiYT1ydGNwLW11eFxcclxcblwiLHQuaGVhZGVyRXh0ZW5zaW9ucyYmdC5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7YSs9ci53cml0ZUV4dG1hcChlKX0pLGF9LHIucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQsYT1bXSxuPXIucGFyc2VSdHBQYXJhbWV0ZXJzKGUpLHM9LTEhPT1uLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlJFRFwiKSxpPS0xIT09bi5mZWNNZWNoYW5pc21zLmluZGV4T2YoXCJVTFBGRUNcIikscD1yLm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gci5wYXJzZVNzcmNNZWRpYShlKX0pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm5cImNuYW1lXCI9PT1yLmF0dHJpYnV0ZX0pLGM9cC5sZW5ndGg+MCYmcFswXS5zc3JjLG89ci5tYXRjaFByZWZpeChlLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHIuc3Vic3RyKDE3KS5zcGxpdChcIiBcIikubWFwKGZ1bmN0aW9uKHIpe3JldHVybiBwYXJzZUludChyLDEwKX0pfSk7by5sZW5ndGg+MCYmb1swXS5sZW5ndGg+MSYmb1swXVswXT09PWMmJih0PW9bMF1bMV0pLG4uY29kZWNzLmZvckVhY2goZnVuY3Rpb24ocil7aWYoXCJSVFhcIj09PXIubmFtZS50b1VwcGVyQ2FzZSgpJiZyLnBhcmFtZXRlcnMuYXB0KXt2YXIgZT17c3NyYzpjLGNvZGVjUGF5bG9hZFR5cGU6cGFyc2VJbnQoci5wYXJhbWV0ZXJzLmFwdCwxMCl9O2MmJnQmJihlLnJ0eD17c3NyYzp0fSksYS5wdXNoKGUpLHMmJigoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuZmVjPXtzc3JjOmMsbWVjaGFuaXNtOmk/XCJyZWQrdWxwZmVjXCI6XCJyZWRcIn0sYS5wdXNoKGUpKX19KSwwPT09YS5sZW5ndGgmJmMmJmEucHVzaCh7c3NyYzpjfSk7dmFyIHU9ci5tYXRjaFByZWZpeChlLFwiYj1cIik7cmV0dXJuIHUubGVuZ3RoJiYodT0wPT09dVswXS5pbmRleE9mKFwiYj1USUFTOlwiKT9wYXJzZUludCh1WzBdLnN1YnN0cig3KSwxMCk6MD09PXVbMF0uaW5kZXhPZihcImI9QVM6XCIpPzFlMypwYXJzZUludCh1WzBdLnN1YnN0cig1KSwxMCkqLjk1LTE2ZTM6dm9pZCAwLGEuZm9yRWFjaChmdW5jdGlvbihyKXtyLm1heEJpdHJhdGU9dX0pKSxhfSxyLnBhcnNlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sYT1yLm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gci5wYXJzZVNzcmNNZWRpYShlKX0pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm5cImNuYW1lXCI9PT1yLmF0dHJpYnV0ZX0pWzBdO2EmJih0LmNuYW1lPWEudmFsdWUsdC5zc3JjPWEuc3NyYyk7dmFyIG49ci5tYXRjaFByZWZpeChlLFwiYT1ydGNwLXJzaXplXCIpO3QucmVkdWNlZFNpemU9bi5sZW5ndGg+MCx0LmNvbXBvdW5kPTA9PT1uLmxlbmd0aDt2YXIgcz1yLm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtbXV4XCIpO3JldHVybiB0Lm11eD1zLmxlbmd0aD4wLHR9LHIucGFyc2VNc2lkPWZ1bmN0aW9uKGUpe3ZhciB0LGE9ci5tYXRjaFByZWZpeChlLFwiYT1tc2lkOlwiKTtpZigxPT09YS5sZW5ndGgpcmV0dXJue3N0cmVhbToodD1hWzBdLnN1YnN0cig3KS5zcGxpdChcIiBcIikpWzBdLHRyYWNrOnRbMV19O3ZhciBuPXIubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByLnBhcnNlU3NyY01lZGlhKGUpfSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVyblwibXNpZFwiPT09ci5hdHRyaWJ1dGV9KTtyZXR1cm4gbi5sZW5ndGg+MD97c3RyZWFtOih0PW5bMF0udmFsdWUuc3BsaXQoXCIgXCIpKVswXSx0cmFjazp0WzFdfTp2b2lkIDB9LHIucGFyc2VTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQsYT1yLnBhcnNlTUxpbmUoZSksbj1yLm1hdGNoUHJlZml4KGUsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO24ubGVuZ3RoPjAmJih0PXBhcnNlSW50KG5bMF0uc3Vic3RyKDE5KSwxMCkpLGlzTmFOKHQpJiYodD02NTUzNik7dmFyIHM9ci5tYXRjaFByZWZpeChlLFwiYT1zY3RwLXBvcnQ6XCIpO2lmKHMubGVuZ3RoPjApcmV0dXJue3BvcnQ6cGFyc2VJbnQoc1swXS5zdWJzdHIoMTIpLDEwKSxwcm90b2NvbDphLmZtdCxtYXhNZXNzYWdlU2l6ZTp0fTtpZihyLm1hdGNoUHJlZml4KGUsXCJhPXNjdHBtYXA6XCIpLmxlbmd0aD4wKXt2YXIgaT1yLm1hdGNoUHJlZml4KGUsXCJhPXNjdHBtYXA6XCIpWzBdLnN1YnN0cigxMCkuc3BsaXQoXCIgXCIpO3JldHVybntwb3J0OnBhcnNlSW50KGlbMF0sMTApLHByb3RvY29sOmlbMV0sbWF4TWVzc2FnZVNpemU6dH19fSxyLndyaXRlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKHIsZSl7dmFyIHQ9W107cmV0dXJuIHQ9XCJEVExTL1NDVFBcIiE9PXIucHJvdG9jb2w/W1wibT1cIityLmtpbmQrXCIgOSBcIityLnByb3RvY29sK1wiIFwiK2UucHJvdG9jb2wrXCJcXHJcXG5cIixcImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixcImE9c2N0cC1wb3J0OlwiK2UucG9ydCtcIlxcclxcblwiXTpbXCJtPVwiK3Iua2luZCtcIiA5IFwiK3IucHJvdG9jb2wrXCIgXCIrZS5wb3J0K1wiXFxyXFxuXCIsXCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsXCJhPXNjdHBtYXA6XCIrZS5wb3J0K1wiIFwiK2UucHJvdG9jb2wrXCIgNjU1MzVcXHJcXG5cIl0sdm9pZCAwIT09ZS5tYXhNZXNzYWdlU2l6ZSYmdC5wdXNoKFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiK2UubWF4TWVzc2FnZVNpemUrXCJcXHJcXG5cIiksdC5qb2luKFwiXCIpfSxyLmdlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwyMSl9LHIud3JpdGVTZXNzaW9uQm9pbGVycGxhdGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPXZvaWQgMCE9PXQ/dDoyO3JldHVyblwidj0wXFxyXFxubz1cIisoYXx8XCJ0aGlzaXNhZGFwdGVyb3J0Y1wiKStcIiBcIisoZXx8ci5nZW5lcmF0ZVNlc3Npb25JZCgpKStcIiBcIituK1wiIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSxyLndyaXRlTWVkaWFTZWN0aW9uPWZ1bmN0aW9uKGUsdCxhLG4pe3ZhciBzPXIud3JpdGVSdHBEZXNjcmlwdGlvbihlLmtpbmQsdCk7aWYocys9ci53cml0ZUljZVBhcmFtZXRlcnMoZS5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSkscys9ci53cml0ZUR0bHNQYXJhbWV0ZXJzKGUuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcIm9mZmVyXCI9PT1hP1wiYWN0cGFzc1wiOlwiYWN0aXZlXCIpLHMrPVwiYT1taWQ6XCIrZS5taWQrXCJcXHJcXG5cIixlLmRpcmVjdGlvbj9zKz1cImE9XCIrZS5kaXJlY3Rpb24rXCJcXHJcXG5cIjplLnJ0cFNlbmRlciYmZS5ydHBSZWNlaXZlcj9zKz1cImE9c2VuZHJlY3ZcXHJcXG5cIjplLnJ0cFNlbmRlcj9zKz1cImE9c2VuZG9ubHlcXHJcXG5cIjplLnJ0cFJlY2VpdmVyP3MrPVwiYT1yZWN2b25seVxcclxcblwiOnMrPVwiYT1pbmFjdGl2ZVxcclxcblwiLGUucnRwU2VuZGVyKXt2YXIgaT1cIm1zaWQ6XCIrbi5pZCtcIiBcIitlLnJ0cFNlbmRlci50cmFjay5pZCtcIlxcclxcblwiO3MrPVwiYT1cIitpLHMrPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIFwiK2ksZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKHMrPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIiBcIitpLHMrPVwiYT1zc3JjLWdyb3VwOkZJRCBcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCJcXHJcXG5cIil9cmV0dXJuIHMrPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIGNuYW1lOlwiK3IubG9jYWxDTmFtZStcIlxcclxcblwiLGUucnRwU2VuZGVyJiZlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiYocys9XCJhPXNzcmM6XCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiIGNuYW1lOlwiK3IubG9jYWxDTmFtZStcIlxcclxcblwiKSxzfSxyLmdldERpcmVjdGlvbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgYT1yLnNwbGl0TGluZXMoZSksbj0wO248YS5sZW5ndGg7bisrKXN3aXRjaChhW25dKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIGFbbl0uc3Vic3RyKDIpfXJldHVybiB0P3IuZ2V0RGlyZWN0aW9uKHQpOlwic2VuZHJlY3ZcIn0sci5nZXRLaW5kPWZ1bmN0aW9uKGUpe3JldHVybiByLnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cigyKX0sci5pc1JlamVjdGVkPWZ1bmN0aW9uKHIpe3JldHVyblwiMFwiPT09ci5zcGxpdChcIiBcIiwyKVsxXX0sci5wYXJzZU1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXIuc3BsaXRMaW5lcyhlKVswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpO3JldHVybntraW5kOnRbMF0scG9ydDpwYXJzZUludCh0WzFdLDEwKSxwcm90b2NvbDp0WzJdLGZtdDp0LnNsaWNlKDMpLmpvaW4oXCIgXCIpfX0sci5wYXJzZU9MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXIubWF0Y2hQcmVmaXgoZSxcIm89XCIpWzBdLnN1YnN0cigyKS5zcGxpdChcIiBcIik7cmV0dXJue3VzZXJuYW1lOnRbMF0sc2Vzc2lvbklkOnRbMV0sc2Vzc2lvblZlcnNpb246cGFyc2VJbnQodFsyXSwxMCksbmV0VHlwZTp0WzNdLGFkZHJlc3NUeXBlOnRbNF0sYWRkcmVzczp0WzVdfX0sci5pc1ZhbGlkU0RQPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PXIuc3BsaXRMaW5lcyhlKSxhPTA7YTx0Lmxlbmd0aDthKyspaWYodFthXS5sZW5ndGg8Mnx8XCI9XCIhPT10W2FdLmNoYXJBdCgxKSlyZXR1cm4hMTtyZXR1cm4hMH0sXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmKG1vZHVsZS5leHBvcnRzPXIpO1xufSx7fV0sXCJOSjJ1XCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXJlcXVpcmUoXCJzZHBcIik7ZnVuY3Rpb24gdChlKXtyZXR1cm57aW5ib3VuZHJ0cDpcImluYm91bmQtcnRwXCIsb3V0Ym91bmRydHA6XCJvdXRib3VuZC1ydHBcIixjYW5kaWRhdGVwYWlyOlwiY2FuZGlkYXRlLXBhaXJcIixsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfWZ1bmN0aW9uIHIodCxyLG4sYSxpKXt2YXIgcz1lLndyaXRlUnRwRGVzY3JpcHRpb24odC5raW5kLHIpO2lmKHMrPWUud3JpdGVJY2VQYXJhbWV0ZXJzKHQuaWNlR2F0aGVyZXIuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpLHMrPWUud3JpdGVEdGxzUGFyYW1ldGVycyh0LmR0bHNUcmFuc3BvcnQuZ2V0TG9jYWxQYXJhbWV0ZXJzKCksXCJvZmZlclwiPT09bj9cImFjdHBhc3NcIjppfHxcImFjdGl2ZVwiKSxzKz1cImE9bWlkOlwiK3QubWlkK1wiXFxyXFxuXCIsdC5ydHBTZW5kZXImJnQucnRwUmVjZWl2ZXI/cys9XCJhPXNlbmRyZWN2XFxyXFxuXCI6dC5ydHBTZW5kZXI/cys9XCJhPXNlbmRvbmx5XFxyXFxuXCI6dC5ydHBSZWNlaXZlcj9zKz1cImE9cmVjdm9ubHlcXHJcXG5cIjpzKz1cImE9aW5hY3RpdmVcXHJcXG5cIix0LnJ0cFNlbmRlcil7dmFyIG89dC5ydHBTZW5kZXIuX2luaXRpYWxUcmFja0lkfHx0LnJ0cFNlbmRlci50cmFjay5pZDt0LnJ0cFNlbmRlci5faW5pdGlhbFRyYWNrSWQ9bzt2YXIgYz1cIm1zaWQ6XCIrKGE/YS5pZDpcIi1cIikrXCIgXCIrbytcIlxcclxcblwiO3MrPVwiYT1cIitjLHMrPVwiYT1zc3JjOlwiK3Quc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIFwiK2MsdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKHMrPVwiYT1zc3JjOlwiK3Quc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIiBcIitjLHMrPVwiYT1zc3JjLWdyb3VwOkZJRCBcIit0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBcIit0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCJcXHJcXG5cIil9cmV0dXJuIHMrPVwiYT1zc3JjOlwiK3Quc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIGNuYW1lOlwiK2UubG9jYWxDTmFtZStcIlxcclxcblwiLHQucnRwU2VuZGVyJiZ0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiYocys9XCJhPXNzcmM6XCIrdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiIGNuYW1lOlwiK2UubG9jYWxDTmFtZStcIlxcclxcblwiKSxzfWZ1bmN0aW9uIG4oZSx0KXt2YXIgcj0hMTtyZXR1cm4oZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKGUmJihlLnVybHN8fGUudXJsKSl7dmFyIG49ZS51cmxzfHxlLnVybDtlLnVybCYmIWUudXJscyYmY29uc29sZS53YXJuKFwiUlRDSWNlU2VydmVyLnVybCBpcyBkZXByZWNhdGVkISBVc2UgdXJscyBpbnN0ZWFkLlwiKTt2YXIgYT1cInN0cmluZ1wiPT10eXBlb2YgbjtyZXR1cm4gYSYmKG49W25dKSxuPW4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwidHVybjpcIikmJi0xIT09ZS5pbmRleE9mKFwidHJhbnNwb3J0PXVkcFwiKSYmLTE9PT1lLmluZGV4T2YoXCJ0dXJuOltcIikmJiFyPyhyPSEwLCEwKTowPT09ZS5pbmRleE9mKFwic3R1bjpcIikmJnQ+PTE0MzkzJiYtMT09PWUuaW5kZXhPZihcIj90cmFuc3BvcnQ9dWRwXCIpfSksZGVsZXRlIGUudXJsLGUudXJscz1hP25bMF06biwhIW4ubGVuZ3RofX0pfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXX0sbj1mdW5jdGlvbihlLHQpe2U9cGFyc2VJbnQoZSwxMCk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXS5wYXlsb2FkVHlwZT09PWV8fHRbcl0ucHJlZmVycmVkUGF5bG9hZFR5cGU9PT1lKXJldHVybiB0W3JdfSxhPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBpPW4oZS5wYXJhbWV0ZXJzLmFwdCxyKSxzPW4odC5wYXJhbWV0ZXJzLmFwdCxhKTtyZXR1cm4gaSYmcyYmaS5uYW1lLnRvTG93ZXJDYXNlKCk9PT1zLm5hbWUudG9Mb3dlckNhc2UoKX07cmV0dXJuIGUuY29kZWNzLmZvckVhY2goZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7aTx0LmNvZGVjcy5sZW5ndGg7aSsrKXt2YXIgcz10LmNvZGVjc1tpXTtpZihuLm5hbWUudG9Mb3dlckNhc2UoKT09PXMubmFtZS50b0xvd2VyQ2FzZSgpJiZuLmNsb2NrUmF0ZT09PXMuY2xvY2tSYXRlKXtpZihcInJ0eFwiPT09bi5uYW1lLnRvTG93ZXJDYXNlKCkmJm4ucGFyYW1ldGVycyYmcy5wYXJhbWV0ZXJzLmFwdCYmIWEobixzLGUuY29kZWNzLHQuY29kZWNzKSljb250aW51ZTsocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSkubnVtQ2hhbm5lbHM9TWF0aC5taW4obi5udW1DaGFubmVscyxzLm51bUNoYW5uZWxzKSxyLmNvZGVjcy5wdXNoKHMpLHMucnRjcEZlZWRiYWNrPXMucnRjcEZlZWRiYWNrLmZpbHRlcihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PG4ucnRjcEZlZWRiYWNrLmxlbmd0aDt0KyspaWYobi5ydGNwRmVlZGJhY2tbdF0udHlwZT09PWUudHlwZSYmbi5ydGNwRmVlZGJhY2tbdF0ucGFyYW1ldGVyPT09ZS5wYXJhbWV0ZXIpcmV0dXJuITA7cmV0dXJuITF9KTticmVha319fSksZS5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0LmhlYWRlckV4dGVuc2lvbnMubGVuZ3RoO24rKyl7dmFyIGE9dC5oZWFkZXJFeHRlbnNpb25zW25dO2lmKGUudXJpPT09YS51cmkpe3IuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKGEpO2JyZWFrfX19KSxyfWZ1bmN0aW9uIGkoZSx0LHIpe3JldHVybi0xIT09e29mZmVyOntzZXRMb2NhbERlc2NyaXB0aW9uOltcInN0YWJsZVwiLFwiaGF2ZS1sb2NhbC1vZmZlclwiXSxzZXRSZW1vdGVEZXNjcmlwdGlvbjpbXCJzdGFibGVcIixcImhhdmUtcmVtb3RlLW9mZmVyXCJdfSxhbnN3ZXI6e3NldExvY2FsRGVzY3JpcHRpb246W1wiaGF2ZS1yZW1vdGUtb2ZmZXJcIixcImhhdmUtbG9jYWwtcHJhbnN3ZXJcIl0sc2V0UmVtb3RlRGVzY3JpcHRpb246W1wiaGF2ZS1sb2NhbC1vZmZlclwiLFwiaGF2ZS1yZW1vdGUtcHJhbnN3ZXJcIl19fVt0XVtlXS5pbmRleE9mKHIpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1lLmdldFJlbW90ZUNhbmRpZGF0ZXMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvdW5kYXRpb249PT1lLmZvdW5kYXRpb24mJnQuaXA9PT1lLmlwJiZ0LnBvcnQ9PT1lLnBvcnQmJnQucHJpb3JpdHk9PT1lLnByaW9yaXR5JiZ0LnByb3RvY29sPT09ZS5wcm90b2NvbCYmdC50eXBlPT09ZS50eXBlfSk7cmV0dXJuIHJ8fGUuYWRkUmVtb3RlQ2FuZGlkYXRlKHQpLCFyfWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1uZXcgRXJyb3IodCk7cmV0dXJuIHIubmFtZT1lLHIuY29kZT17Tm90U3VwcG9ydGVkRXJyb3I6OSxJbnZhbGlkU3RhdGVFcnJvcjoxMSxJbnZhbGlkQWNjZXNzRXJyb3I6MTUsVHlwZUVycm9yOnZvaWQgMCxPcGVyYXRpb25FcnJvcjp2b2lkIDB9W2VdLHJ9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBwKGUsdCl7dC5hZGRUcmFjayhlKSx0LmRpc3BhdGNoRXZlbnQobmV3IGMuTWVkaWFTdHJlYW1UcmFja0V2ZW50KFwiYWRkdHJhY2tcIix7dHJhY2s6ZX0pKX1mdW5jdGlvbiBsKGUsdCxyLG4pe3ZhciBhPW5ldyBFdmVudChcInRyYWNrXCIpO2EudHJhY2s9dCxhLnJlY2VpdmVyPXIsYS50cmFuc2NlaXZlcj17cmVjZWl2ZXI6cn0sYS5zdHJlYW1zPW4sYy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fZGlzcGF0Y2hFdmVudChcInRyYWNrXCIsYSl9KX12YXIgZj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLGE9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKFtcImFkZEV2ZW50TGlzdGVuZXJcIixcInJlbW92ZUV2ZW50TGlzdGVuZXJcIixcImRpc3BhdGNoRXZlbnRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtyW2VdPWFbZV0uYmluZChhKX0pLHRoaXMuY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXM9bnVsbCx0aGlzLm5lZWROZWdvdGlhdGlvbj0hMSx0aGlzLmxvY2FsU3RyZWFtcz1bXSx0aGlzLnJlbW90ZVN0cmVhbXM9W10sdGhpcy5fbG9jYWxEZXNjcmlwdGlvbj1udWxsLHRoaXMuX3JlbW90ZURlc2NyaXB0aW9uPW51bGwsdGhpcy5zaWduYWxpbmdTdGF0ZT1cInN0YWJsZVwiLHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlPVwibmV3XCIsdGhpcy5jb25uZWN0aW9uU3RhdGU9XCJuZXdcIix0aGlzLmljZUdhdGhlcmluZ1N0YXRlPVwibmV3XCIsdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHR8fHt9KSksdGhpcy51c2luZ0J1bmRsZT1cIm1heC1idW5kbGVcIj09PXQuYnVuZGxlUG9saWN5LFwibmVnb3RpYXRlXCI9PT10LnJ0Y3BNdXhQb2xpY3kpdGhyb3cgbyhcIk5vdFN1cHBvcnRlZEVycm9yXCIsXCJydGNwTXV4UG9saWN5ICduZWdvdGlhdGUnIGlzIG5vdCBzdXBwb3J0ZWRcIik7c3dpdGNoKHQucnRjcE11eFBvbGljeXx8KHQucnRjcE11eFBvbGljeT1cInJlcXVpcmVcIiksdC5pY2VUcmFuc3BvcnRQb2xpY3kpe2Nhc2VcImFsbFwiOmNhc2VcInJlbGF5XCI6YnJlYWs7ZGVmYXVsdDp0LmljZVRyYW5zcG9ydFBvbGljeT1cImFsbFwifXN3aXRjaCh0LmJ1bmRsZVBvbGljeSl7Y2FzZVwiYmFsYW5jZWRcIjpjYXNlXCJtYXgtY29tcGF0XCI6Y2FzZVwibWF4LWJ1bmRsZVwiOmJyZWFrO2RlZmF1bHQ6dC5idW5kbGVQb2xpY3k9XCJiYWxhbmNlZFwifWlmKHQuaWNlU2VydmVycz1uKHQuaWNlU2VydmVyc3x8W10sZCksdGhpcy5faWNlR2F0aGVyZXJzPVtdLHQuaWNlQ2FuZGlkYXRlUG9vbFNpemUpZm9yKHZhciBpPXQuaWNlQ2FuZGlkYXRlUG9vbFNpemU7aT4wO2ktLSl0aGlzLl9pY2VHYXRoZXJlcnMucHVzaChuZXcgYy5SVENJY2VHYXRoZXJlcih7aWNlU2VydmVyczp0LmljZVNlcnZlcnMsZ2F0aGVyUG9saWN5OnQuaWNlVHJhbnNwb3J0UG9saWN5fSkpO2Vsc2UgdC5pY2VDYW5kaWRhdGVQb29sU2l6ZT0wO3RoaXMuX2NvbmZpZz10LHRoaXMudHJhbnNjZWl2ZXJzPVtdLHRoaXMuX3NkcFNlc3Npb25JZD1lLmdlbmVyYXRlU2Vzc2lvbklkKCksdGhpcy5fc2RwU2Vzc2lvblZlcnNpb249MCx0aGlzLl9kdGxzUm9sZT12b2lkIDAsdGhpcy5faXNDbG9zZWQ9ITF9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShmLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbERlc2NyaXB0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLnByb3RvdHlwZSxcInJlbW90ZURlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlRGVzY3JpcHRpb259fSksZi5wcm90b3R5cGUub25pY2VjYW5kaWRhdGU9bnVsbCxmLnByb3RvdHlwZS5vbmFkZHN0cmVhbT1udWxsLGYucHJvdG90eXBlLm9udHJhY2s9bnVsbCxmLnByb3RvdHlwZS5vbnJlbW92ZXN0cmVhbT1udWxsLGYucHJvdG90eXBlLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCxmLnByb3RvdHlwZS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLGYucHJvdG90eXBlLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsZi5wcm90b3R5cGUub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT1udWxsLGYucHJvdG90eXBlLm9ubmVnb3RpYXRpb25uZWVkZWQ9bnVsbCxmLnByb3RvdHlwZS5vbmRhdGFjaGFubmVsPW51bGwsZi5wcm90b3R5cGUuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9pc0Nsb3NlZHx8KHRoaXMuZGlzcGF0Y2hFdmVudCh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW1wib25cIitlXSYmdGhpc1tcIm9uXCIrZV0odCkpfSxmLnByb3RvdHlwZS5fZW1pdEdhdGhlcmluZ1N0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV2ZW50KFwiaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsZSl9LGYucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZmlnfSxmLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbFN0cmVhbXN9LGYucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdGVTdHJlYW1zfSxmLnByb3RvdHlwZS5fY3JlYXRlVHJhbnNjZWl2ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnRyYW5zY2VpdmVycy5sZW5ndGg+MCxuPXt0cmFjazpudWxsLGljZUdhdGhlcmVyOm51bGwsaWNlVHJhbnNwb3J0Om51bGwsZHRsc1RyYW5zcG9ydDpudWxsLGxvY2FsQ2FwYWJpbGl0aWVzOm51bGwscmVtb3RlQ2FwYWJpbGl0aWVzOm51bGwscnRwU2VuZGVyOm51bGwscnRwUmVjZWl2ZXI6bnVsbCxraW5kOmUsbWlkOm51bGwsc2VuZEVuY29kaW5nUGFyYW1ldGVyczpudWxsLHJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM6bnVsbCxzdHJlYW06bnVsbCxhc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zOltdLHdhbnRSZWNlaXZlOiEwfTtpZih0aGlzLnVzaW5nQnVuZGxlJiZyKW4uaWNlVHJhbnNwb3J0PXRoaXMudHJhbnNjZWl2ZXJzWzBdLmljZVRyYW5zcG9ydCxuLmR0bHNUcmFuc3BvcnQ9dGhpcy50cmFuc2NlaXZlcnNbMF0uZHRsc1RyYW5zcG9ydDtlbHNle3ZhciBhPXRoaXMuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzKCk7bi5pY2VUcmFuc3BvcnQ9YS5pY2VUcmFuc3BvcnQsbi5kdGxzVHJhbnNwb3J0PWEuZHRsc1RyYW5zcG9ydH1yZXR1cm4gdHx8dGhpcy50cmFuc2NlaXZlcnMucHVzaChuKSxufSxmLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX2lzQ2xvc2VkKXRocm93IG8oXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQXR0ZW1wdGVkIHRvIGNhbGwgYWRkVHJhY2sgb24gYSBjbG9zZWQgcGVlcmNvbm5lY3Rpb24uXCIpO3ZhciByO2lmKHRoaXMudHJhbnNjZWl2ZXJzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSkpdGhyb3cgbyhcIkludmFsaWRBY2Nlc3NFcnJvclwiLFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIpO2Zvcih2YXIgbj0wO248dGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoO24rKyl0aGlzLnRyYW5zY2VpdmVyc1tuXS50cmFja3x8dGhpcy50cmFuc2NlaXZlcnNbbl0ua2luZCE9PWUua2luZHx8KHI9dGhpcy50cmFuc2NlaXZlcnNbbl0pO3JldHVybiByfHwocj10aGlzLl9jcmVhdGVUcmFuc2NlaXZlcihlLmtpbmQpKSx0aGlzLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCgpLC0xPT09dGhpcy5sb2NhbFN0cmVhbXMuaW5kZXhPZih0KSYmdGhpcy5sb2NhbFN0cmVhbXMucHVzaCh0KSxyLnRyYWNrPWUsci5zdHJlYW09dCxyLnJ0cFNlbmRlcj1uZXcgYy5SVENSdHBTZW5kZXIoZSxyLmR0bHNUcmFuc3BvcnQpLHIucnRwU2VuZGVyfSxmLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihkPj0xNTAyNSllLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24ocil7dC5hZGRUcmFjayhyLGUpfSk7ZWxzZXt2YXIgcj1lLmNsb25lKCk7ZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5nZXRUcmFja3MoKVt0XTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmFibGVkXCIsZnVuY3Rpb24oZSl7bi5lbmFibGVkPWUuZW5hYmxlZH0pfSksci5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuYWRkVHJhY2soZSxyKX0pfX0sZi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNDbG9zZWQpdGhyb3cgbyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJBdHRlbXB0ZWQgdG8gY2FsbCByZW1vdmVUcmFjayBvbiBhIGNsb3NlZCBwZWVyY29ubmVjdGlvbi5cIik7aWYoIShlIGluc3RhbmNlb2YgYy5SVENSdHBTZW5kZXIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCAxIG9mIFJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrIGRvZXMgbm90IGltcGxlbWVudCBpbnRlcmZhY2UgUlRDUnRwU2VuZGVyLlwiKTt2YXIgdD10aGlzLnRyYW5zY2VpdmVycy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJ0cFNlbmRlcj09PWV9KTtpZighdCl0aHJvdyBvKFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIsXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIik7dmFyIHI9dC5zdHJlYW07dC5ydHBTZW5kZXIuc3RvcCgpLHQucnRwU2VuZGVyPW51bGwsdC50cmFjaz1udWxsLHQuc3RyZWFtPW51bGwsLTE9PT10aGlzLnRyYW5zY2VpdmVycy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RyZWFtfSkuaW5kZXhPZihyKSYmdGhpcy5sb2NhbFN0cmVhbXMuaW5kZXhPZihyKT4tMSYmdGhpcy5sb2NhbFN0cmVhbXMuc3BsaWNlKHRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2YociksMSksdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKX0sZi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSk7ciYmdC5yZW1vdmVUcmFjayhyKX0pfSxmLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWUucnRwU2VuZGVyfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0cFNlbmRlcn0pfSxmLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5ydHBSZWNlaXZlcn0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydHBSZWNlaXZlcn0pfSxmLnByb3RvdHlwZS5fY3JlYXRlSWNlR2F0aGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHQmJmU+MClyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnNbMF0uaWNlR2F0aGVyZXI7aWYodGhpcy5faWNlR2F0aGVyZXJzLmxlbmd0aClyZXR1cm4gdGhpcy5faWNlR2F0aGVyZXJzLnNoaWZ0KCk7dmFyIG49bmV3IGMuUlRDSWNlR2F0aGVyZXIoe2ljZVNlcnZlcnM6dGhpcy5fY29uZmlnLmljZVNlcnZlcnMsZ2F0aGVyUG9saWN5OnRoaXMuX2NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3l9KTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJzdGF0ZVwiLHt2YWx1ZTpcIm5ld1wiLHdyaXRhYmxlOiEwfSksdGhpcy50cmFuc2NlaXZlcnNbZV0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHM9W10sdGhpcy50cmFuc2NlaXZlcnNbZV0uYnVmZmVyQ2FuZGlkYXRlcz1mdW5jdGlvbih0KXt2YXIgYT0hdC5jYW5kaWRhdGV8fDA9PT1PYmplY3Qua2V5cyh0LmNhbmRpZGF0ZSkubGVuZ3RoO24uc3RhdGU9YT9cImNvbXBsZXRlZFwiOlwiZ2F0aGVyaW5nXCIsbnVsbCE9PXIudHJhbnNjZWl2ZXJzW2VdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzJiZyLnRyYW5zY2VpdmVyc1tlXS5idWZmZXJlZENhbmRpZGF0ZUV2ZW50cy5wdXNoKHQpfSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2NhbGNhbmRpZGF0ZVwiLHRoaXMudHJhbnNjZWl2ZXJzW2VdLmJ1ZmZlckNhbmRpZGF0ZXMpLG59LGYucHJvdG90eXBlLl9nYXRoZXI9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLGE9dGhpcy50cmFuc2NlaXZlcnNbcl0uaWNlR2F0aGVyZXI7aWYoIWEub25sb2NhbGNhbmRpZGF0ZSl7dmFyIGk9dGhpcy50cmFuc2NlaXZlcnNbcl0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHM7dGhpcy50cmFuc2NlaXZlcnNbcl0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHM9bnVsbCxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2NhbGNhbmRpZGF0ZVwiLHRoaXMudHJhbnNjZWl2ZXJzW3JdLmJ1ZmZlckNhbmRpZGF0ZXMpLGEub25sb2NhbGNhbmRpZGF0ZT1mdW5jdGlvbihpKXtpZighKG4udXNpbmdCdW5kbGUmJnI+MCkpe3ZhciBzPW5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKTtzLmNhbmRpZGF0ZT17c2RwTWlkOnQsc2RwTUxpbmVJbmRleDpyfTt2YXIgbz1pLmNhbmRpZGF0ZSxjPSFvfHwwPT09T2JqZWN0LmtleXMobykubGVuZ3RoO2lmKGMpXCJuZXdcIiE9PWEuc3RhdGUmJlwiZ2F0aGVyaW5nXCIhPT1hLnN0YXRlfHwoYS5zdGF0ZT1cImNvbXBsZXRlZFwiKTtlbHNle1wibmV3XCI9PT1hLnN0YXRlJiYoYS5zdGF0ZT1cImdhdGhlcmluZ1wiKSxvLmNvbXBvbmVudD0xLG8udWZyYWc9YS5nZXRMb2NhbFBhcmFtZXRlcnMoKS51c2VybmFtZUZyYWdtZW50O3ZhciBkPWUud3JpdGVDYW5kaWRhdGUobyk7cy5jYW5kaWRhdGU9T2JqZWN0LmFzc2lnbihzLmNhbmRpZGF0ZSxlLnBhcnNlQ2FuZGlkYXRlKGQpKSxzLmNhbmRpZGF0ZS5jYW5kaWRhdGU9ZCxzLmNhbmRpZGF0ZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57Y2FuZGlkYXRlOnMuY2FuZGlkYXRlLmNhbmRpZGF0ZSxzZHBNaWQ6cy5jYW5kaWRhdGUuc2RwTWlkLHNkcE1MaW5lSW5kZXg6cy5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCx1c2VybmFtZUZyYWdtZW50OnMuY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnR9fX12YXIgcD1lLmdldE1lZGlhU2VjdGlvbnMobi5fbG9jYWxEZXNjcmlwdGlvbi5zZHApO3Bbcy5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleF0rPWM/XCJhPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCI6XCJhPVwiK3MuY2FuZGlkYXRlLmNhbmRpZGF0ZStcIlxcclxcblwiLG4uX2xvY2FsRGVzY3JpcHRpb24uc2RwPWUuZ2V0RGVzY3JpcHRpb24obi5fbG9jYWxEZXNjcmlwdGlvbi5zZHApK3Auam9pbihcIlwiKTt2YXIgbD1uLnRyYW5zY2VpdmVycy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5pY2VHYXRoZXJlciYmXCJjb21wbGV0ZWRcIj09PWUuaWNlR2F0aGVyZXIuc3RhdGV9KTtcImdhdGhlcmluZ1wiIT09bi5pY2VHYXRoZXJpbmdTdGF0ZSYmKG4uaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixuLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKSksY3x8bi5fZGlzcGF0Y2hFdmVudChcImljZWNhbmRpZGF0ZVwiLHMpLGwmJihuLl9kaXNwYXRjaEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIsbmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKSxuLmljZUdhdGhlcmluZ1N0YXRlPVwiY29tcGxldGVcIixuLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKSl9fSxjLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmZvckVhY2goZnVuY3Rpb24oZSl7YS5vbmxvY2FsY2FuZGlkYXRlKGUpfSl9LDApfX0sZi5wcm90b3R5cGUuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBjLlJUQ0ljZVRyYW5zcG9ydChudWxsKTt0Lm9uaWNlc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtlLl91cGRhdGVJY2VDb25uZWN0aW9uU3RhdGUoKSxlLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKX07dmFyIHI9bmV3IGMuUlRDRHRsc1RyYW5zcG9ydCh0KTtyZXR1cm4gci5vbmR0bHNzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2UuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInN0YXRlXCIse3ZhbHVlOlwiZmFpbGVkXCIsd3JpdGFibGU6ITB9KSxlLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKX0se2ljZVRyYW5zcG9ydDp0LGR0bHNUcmFuc3BvcnQ6cn19LGYucHJvdG90eXBlLl9kaXNwb3NlSWNlQW5kRHRsc1RyYW5zcG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc2NlaXZlcnNbZV0uaWNlR2F0aGVyZXI7dCYmKGRlbGV0ZSB0Lm9ubG9jYWxjYW5kaWRhdGUsZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW2VdLmljZUdhdGhlcmVyKTt2YXIgcj10aGlzLnRyYW5zY2VpdmVyc1tlXS5pY2VUcmFuc3BvcnQ7ciYmKGRlbGV0ZSByLm9uaWNlc3RhdGVjaGFuZ2UsZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW2VdLmljZVRyYW5zcG9ydCk7dmFyIG49dGhpcy50cmFuc2NlaXZlcnNbZV0uZHRsc1RyYW5zcG9ydDtuJiYoZGVsZXRlIG4ub25kdGxzc3RhdGVjaGFuZ2UsZGVsZXRlIG4ub25lcnJvcixkZWxldGUgdGhpcy50cmFuc2NlaXZlcnNbZV0uZHRsc1RyYW5zcG9ydCl9LGYucHJvdG90eXBlLl90cmFuc2NlaXZlPWZ1bmN0aW9uKHQscixuKXt2YXIgaT1hKHQubG9jYWxDYXBhYmlsaXRpZXMsdC5yZW1vdGVDYXBhYmlsaXRpZXMpO3ImJnQucnRwU2VuZGVyJiYoaS5lbmNvZGluZ3M9dC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLGkucnRjcD17Y25hbWU6ZS5sb2NhbENOYW1lLGNvbXBvdW5kOnQucnRjcFBhcmFtZXRlcnMuY29tcG91bmR9LHQucmVjdkVuY29kaW5nUGFyYW1ldGVycy5sZW5ndGgmJihpLnJ0Y3Auc3NyYz10LnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYyksdC5ydHBTZW5kZXIuc2VuZChpKSksbiYmdC5ydHBSZWNlaXZlciYmaS5jb2RlY3MubGVuZ3RoPjAmJihcInZpZGVvXCI9PT10LmtpbmQmJnQucmVjdkVuY29kaW5nUGFyYW1ldGVycyYmZDwxNTAxOSYmdC5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIGUucnR4fSksdC5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aD9pLmVuY29kaW5ncz10LnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM6aS5lbmNvZGluZ3M9W3t9XSxpLnJ0Y3A9e2NvbXBvdW5kOnQucnRjcFBhcmFtZXRlcnMuY29tcG91bmR9LHQucnRjcFBhcmFtZXRlcnMuY25hbWUmJihpLnJ0Y3AuY25hbWU9dC5ydGNwUGFyYW1ldGVycy5jbmFtZSksdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aCYmKGkucnRjcC5zc3JjPXQuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjKSx0LnJ0cFJlY2VpdmVyLnJlY2VpdmUoaSkpfSxmLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKHQpe3ZhciByLG4scz10aGlzO2lmKC0xPT09W1wib2ZmZXJcIixcImFuc3dlclwiXS5pbmRleE9mKHQudHlwZSkpcmV0dXJuIFByb21pc2UucmVqZWN0KG8oXCJUeXBlRXJyb3JcIiwnVW5zdXBwb3J0ZWQgdHlwZSBcIicrdC50eXBlKydcIicpKTtpZighaShcInNldExvY2FsRGVzY3JpcHRpb25cIix0LnR5cGUscy5zaWduYWxpbmdTdGF0ZSl8fHMuX2lzQ2xvc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChvKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3Qgc2V0IGxvY2FsIFwiK3QudHlwZStcIiBpbiBzdGF0ZSBcIitzLnNpZ25hbGluZ1N0YXRlKSk7aWYoXCJvZmZlclwiPT09dC50eXBlKXI9ZS5zcGxpdFNlY3Rpb25zKHQuc2RwKSxuPXIuc2hpZnQoKSxyLmZvckVhY2goZnVuY3Rpb24odCxyKXt2YXIgbj1lLnBhcnNlUnRwUGFyYW1ldGVycyh0KTtzLnRyYW5zY2VpdmVyc1tyXS5sb2NhbENhcGFiaWxpdGllcz1ufSkscy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3MuX2dhdGhlcihlLm1pZCx0KX0pO2Vsc2UgaWYoXCJhbnN3ZXJcIj09PXQudHlwZSl7cj1lLnNwbGl0U2VjdGlvbnMocy5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKSxuPXIuc2hpZnQoKTt2YXIgYz1lLm1hdGNoUHJlZml4KG4sXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO3IuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPXMudHJhbnNjZWl2ZXJzW3JdLG89aS5pY2VHYXRoZXJlcixkPWkuaWNlVHJhbnNwb3J0LHA9aS5kdGxzVHJhbnNwb3J0LGw9aS5sb2NhbENhcGFiaWxpdGllcyxmPWkucmVtb3RlQ2FwYWJpbGl0aWVzO2lmKCEoZS5pc1JlamVjdGVkKHQpJiYwPT09ZS5tYXRjaFByZWZpeCh0LFwiYT1idW5kbGUtb25seVwiKS5sZW5ndGgpJiYhaS5yZWplY3RlZCl7dmFyIHU9ZS5nZXRJY2VQYXJhbWV0ZXJzKHQsbiksdj1lLmdldER0bHNQYXJhbWV0ZXJzKHQsbik7YyYmKHYucm9sZT1cInNlcnZlclwiKSxzLnVzaW5nQnVuZGxlJiYwIT09cnx8KHMuX2dhdGhlcihpLm1pZCxyKSxcIm5ld1wiPT09ZC5zdGF0ZSYmZC5zdGFydChvLHUsYz9cImNvbnRyb2xsaW5nXCI6XCJjb250cm9sbGVkXCIpLFwibmV3XCI9PT1wLnN0YXRlJiZwLnN0YXJ0KHYpKTt2YXIgaD1hKGwsZik7cy5fdHJhbnNjZWl2ZShpLGguY29kZWNzLmxlbmd0aD4wLCExKX19KX1yZXR1cm4gcy5fbG9jYWxEZXNjcmlwdGlvbj17dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSxcIm9mZmVyXCI9PT10LnR5cGU/cy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoXCJoYXZlLWxvY2FsLW9mZmVyXCIpOnMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKFwic3RhYmxlXCIpLFByb21pc2UucmVzb2x2ZSgpfSxmLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbih0KXt2YXIgcj10aGlzO2lmKC0xPT09W1wib2ZmZXJcIixcImFuc3dlclwiXS5pbmRleE9mKHQudHlwZSkpcmV0dXJuIFByb21pc2UucmVqZWN0KG8oXCJUeXBlRXJyb3JcIiwnVW5zdXBwb3J0ZWQgdHlwZSBcIicrdC50eXBlKydcIicpKTtpZighaShcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsdC50eXBlLHIuc2lnbmFsaW5nU3RhdGUpfHxyLl9pc0Nsb3NlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IHNldCByZW1vdGUgXCIrdC50eXBlK1wiIGluIHN0YXRlIFwiK3Iuc2lnbmFsaW5nU3RhdGUpKTt2YXIgbj17fTtyLnJlbW90ZVN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihlKXtuW2UuaWRdPWV9KTt2YXIgZj1bXSx1PWUuc3BsaXRTZWN0aW9ucyh0LnNkcCksdj11LnNoaWZ0KCksaD1lLm1hdGNoUHJlZml4KHYsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wLG09ZS5tYXRjaFByZWZpeCh2LFwiYT1ncm91cDpCVU5ETEUgXCIpLmxlbmd0aD4wO3IudXNpbmdCdW5kbGU9bTt2YXIgZz1lLm1hdGNoUHJlZml4KHYsXCJhPWljZS1vcHRpb25zOlwiKVswXTtyZXR1cm4gci5jYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcz0hIWcmJmcuc3Vic3RyKDE0KS5zcGxpdChcIiBcIikuaW5kZXhPZihcInRyaWNrbGVcIik+PTAsdS5mb3JFYWNoKGZ1bmN0aW9uKGksbyl7dmFyIGw9ZS5zcGxpdExpbmVzKGkpLHU9ZS5nZXRLaW5kKGkpLGc9ZS5pc1JlamVjdGVkKGkpJiYwPT09ZS5tYXRjaFByZWZpeChpLFwiYT1idW5kbGUtb25seVwiKS5sZW5ndGgseT1sWzBdLnN1YnN0cigyKS5zcGxpdChcIiBcIilbMl0sUz1lLmdldERpcmVjdGlvbihpLHYpLFQ9ZS5wYXJzZU1zaWQoaSksRT1lLmdldE1pZChpKXx8ZS5nZW5lcmF0ZUlkZW50aWZpZXIoKTtpZihnfHxcImFwcGxpY2F0aW9uXCI9PT11JiYoXCJEVExTL1NDVFBcIj09PXl8fFwiVURQL0RUTFMvU0NUUFwiPT09eSkpci50cmFuc2NlaXZlcnNbb109e21pZDpFLGtpbmQ6dSxwcm90b2NvbDp5LHJlamVjdGVkOiEwfTtlbHNle3ZhciBDLFAsdyxSLF8sayxiLHgsRDshZyYmci50cmFuc2NlaXZlcnNbb10mJnIudHJhbnNjZWl2ZXJzW29dLnJlamVjdGVkJiYoci50cmFuc2NlaXZlcnNbb109ci5fY3JlYXRlVHJhbnNjZWl2ZXIodSwhMCkpO3ZhciBJLEwsTT1lLnBhcnNlUnRwUGFyYW1ldGVycyhpKTtnfHwoST1lLmdldEljZVBhcmFtZXRlcnMoaSx2KSwoTD1lLmdldER0bHNQYXJhbWV0ZXJzKGksdikpLnJvbGU9XCJjbGllbnRcIiksYj1lLnBhcnNlUnRwRW5jb2RpbmdQYXJhbWV0ZXJzKGkpO3ZhciBPPWUucGFyc2VSdGNwUGFyYW1ldGVycyhpKSxHPWUubWF0Y2hQcmVmaXgoaSxcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIix2KS5sZW5ndGg+MCxqPWUubWF0Y2hQcmVmaXgoaSxcImE9Y2FuZGlkYXRlOlwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUucGFyc2VDYW5kaWRhdGUodCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLmNvbXBvbmVudH0pO2lmKChcIm9mZmVyXCI9PT10LnR5cGV8fFwiYW5zd2VyXCI9PT10LnR5cGUpJiYhZyYmbSYmbz4wJiZyLnRyYW5zY2VpdmVyc1tvXSYmKHIuX2Rpc3Bvc2VJY2VBbmREdGxzVHJhbnNwb3J0cyhvKSxyLnRyYW5zY2VpdmVyc1tvXS5pY2VHYXRoZXJlcj1yLnRyYW5zY2VpdmVyc1swXS5pY2VHYXRoZXJlcixyLnRyYW5zY2VpdmVyc1tvXS5pY2VUcmFuc3BvcnQ9ci50cmFuc2NlaXZlcnNbMF0uaWNlVHJhbnNwb3J0LHIudHJhbnNjZWl2ZXJzW29dLmR0bHNUcmFuc3BvcnQ9ci50cmFuc2NlaXZlcnNbMF0uZHRsc1RyYW5zcG9ydCxyLnRyYW5zY2VpdmVyc1tvXS5ydHBTZW5kZXImJnIudHJhbnNjZWl2ZXJzW29dLnJ0cFNlbmRlci5zZXRUcmFuc3BvcnQoci50cmFuc2NlaXZlcnNbMF0uZHRsc1RyYW5zcG9ydCksci50cmFuc2NlaXZlcnNbb10ucnRwUmVjZWl2ZXImJnIudHJhbnNjZWl2ZXJzW29dLnJ0cFJlY2VpdmVyLnNldFRyYW5zcG9ydChyLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0KSksXCJvZmZlclwiIT09dC50eXBlfHxnKXtpZihcImFuc3dlclwiPT09dC50eXBlJiYhZyl7UD0oQz1yLnRyYW5zY2VpdmVyc1tvXSkuaWNlR2F0aGVyZXIsdz1DLmljZVRyYW5zcG9ydCxSPUMuZHRsc1RyYW5zcG9ydCxfPUMucnRwUmVjZWl2ZXIsaz1DLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnMseD1DLmxvY2FsQ2FwYWJpbGl0aWVzLHIudHJhbnNjZWl2ZXJzW29dLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM9YixyLnRyYW5zY2VpdmVyc1tvXS5yZW1vdGVDYXBhYmlsaXRpZXM9TSxyLnRyYW5zY2VpdmVyc1tvXS5ydGNwUGFyYW1ldGVycz1PLGoubGVuZ3RoJiZcIm5ld1wiPT09dy5zdGF0ZSYmKCFoJiYhR3x8bSYmMCE9PW8/ai5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MoQy5pY2VUcmFuc3BvcnQsZSl9KTp3LnNldFJlbW90ZUNhbmRpZGF0ZXMoaikpLG0mJjAhPT1vfHwoXCJuZXdcIj09PXcuc3RhdGUmJncuc3RhcnQoUCxJLFwiY29udHJvbGxpbmdcIiksXCJuZXdcIj09PVIuc3RhdGUmJlIuc3RhcnQoTCkpLCFhKEMubG9jYWxDYXBhYmlsaXRpZXMsQy5yZW1vdGVDYXBhYmlsaXRpZXMpLmNvZGVjcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIj09PWUubmFtZS50b0xvd2VyQ2FzZSgpfSkubGVuZ3RoJiZDLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiZkZWxldGUgQy5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCxyLl90cmFuc2NlaXZlKEMsXCJzZW5kcmVjdlwiPT09U3x8XCJyZWN2b25seVwiPT09UyxcInNlbmRyZWN2XCI9PT1TfHxcInNlbmRvbmx5XCI9PT1TKSwhX3x8XCJzZW5kcmVjdlwiIT09UyYmXCJzZW5kb25seVwiIT09Uz9kZWxldGUgQy5ydHBSZWNlaXZlcjooRD1fLnRyYWNrLFQ/KG5bVC5zdHJlYW1dfHwobltULnN0cmVhbV09bmV3IGMuTWVkaWFTdHJlYW0pLHAoRCxuW1Quc3RyZWFtXSksZi5wdXNoKFtELF8sbltULnN0cmVhbV1dKSk6KG4uZGVmYXVsdHx8KG4uZGVmYXVsdD1uZXcgYy5NZWRpYVN0cmVhbSkscChELG4uZGVmYXVsdCksZi5wdXNoKFtELF8sbi5kZWZhdWx0XSkpKX19ZWxzZXsoQz1yLnRyYW5zY2VpdmVyc1tvXXx8ci5fY3JlYXRlVHJhbnNjZWl2ZXIodSkpLm1pZD1FLEMuaWNlR2F0aGVyZXJ8fChDLmljZUdhdGhlcmVyPXIuX2NyZWF0ZUljZUdhdGhlcmVyKG8sbSkpLGoubGVuZ3RoJiZcIm5ld1wiPT09Qy5pY2VUcmFuc3BvcnQuc3RhdGUmJighR3x8bSYmMCE9PW8/ai5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MoQy5pY2VUcmFuc3BvcnQsZSl9KTpDLmljZVRyYW5zcG9ydC5zZXRSZW1vdGVDYW5kaWRhdGVzKGopKSx4PWMuUlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzKHUpLGQ8MTUwMTkmJih4LmNvZGVjcz14LmNvZGVjcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIiE9PWUubmFtZX0pKSxrPUMuc2VuZEVuY29kaW5nUGFyYW1ldGVyc3x8W3tzc3JjOjEwMDEqKDIqbysyKX1dO3ZhciBOLEE9ITE7aWYoXCJzZW5kcmVjdlwiPT09U3x8XCJzZW5kb25seVwiPT09Uyl7aWYoQT0hQy5ydHBSZWNlaXZlcixfPUMucnRwUmVjZWl2ZXJ8fG5ldyBjLlJUQ1J0cFJlY2VpdmVyKEMuZHRsc1RyYW5zcG9ydCx1KSxBKUQ9Xy50cmFjayxUJiZcIi1cIj09PVQuc3RyZWFtfHwoVD8obltULnN0cmVhbV18fChuW1Quc3RyZWFtXT1uZXcgYy5NZWRpYVN0cmVhbSxPYmplY3QuZGVmaW5lUHJvcGVydHkobltULnN0cmVhbV0sXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVC5zdHJlYW19fSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShELFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFQudHJhY2t9fSksTj1uW1Quc3RyZWFtXSk6KG4uZGVmYXVsdHx8KG4uZGVmYXVsdD1uZXcgYy5NZWRpYVN0cmVhbSksTj1uLmRlZmF1bHQpKSxOJiYocChELE4pLEMuYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtcy5wdXNoKE4pKSxmLnB1c2goW0QsXyxOXSl9ZWxzZSBDLnJ0cFJlY2VpdmVyJiZDLnJ0cFJlY2VpdmVyLnRyYWNrJiYoQy5hc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQscixuPWUuZ2V0VHJhY2tzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PUMucnRwUmVjZWl2ZXIudHJhY2suaWR9KTtuJiYodD1uLChyPWUpLnJlbW92ZVRyYWNrKHQpLHIuZGlzcGF0Y2hFdmVudChuZXcgYy5NZWRpYVN0cmVhbVRyYWNrRXZlbnQoXCJyZW1vdmV0cmFja1wiLHt0cmFjazp0fSkpKX0pLEMuYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtcz1bXSk7Qy5sb2NhbENhcGFiaWxpdGllcz14LEMucmVtb3RlQ2FwYWJpbGl0aWVzPU0sQy5ydHBSZWNlaXZlcj1fLEMucnRjcFBhcmFtZXRlcnM9TyxDLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnM9ayxDLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM9YixyLl90cmFuc2NlaXZlKHIudHJhbnNjZWl2ZXJzW29dLCExLEEpfX19KSx2b2lkIDA9PT1yLl9kdGxzUm9sZSYmKHIuX2R0bHNSb2xlPVwib2ZmZXJcIj09PXQudHlwZT9cImFjdGl2ZVwiOlwicGFzc2l2ZVwiKSxyLl9yZW1vdGVEZXNjcmlwdGlvbj17dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSxcIm9mZmVyXCI9PT10LnR5cGU/ci5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoXCJoYXZlLXJlbW90ZS1vZmZlclwiKTpyLl91cGRhdGVTaWduYWxpbmdTdGF0ZShcInN0YWJsZVwiKSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aWYodC5nZXRUcmFja3MoKS5sZW5ndGgpe2lmKC0xPT09ci5yZW1vdGVTdHJlYW1zLmluZGV4T2YodCkpe3IucmVtb3RlU3RyZWFtcy5wdXNoKHQpO3ZhciBhPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTthLnN0cmVhbT10LGMuc2V0VGltZW91dChmdW5jdGlvbigpe3IuX2Rpc3BhdGNoRXZlbnQoXCJhZGRzdHJlYW1cIixhKX0pfWYuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lWzBdLGE9ZVsxXTt0LmlkPT09ZVsyXS5pZCYmbChyLG4sYSxbdF0pfSl9fSksZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2VbMl18fGwocixlWzBdLGVbMV0sW10pfSksYy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ciYmci50cmFuc2NlaXZlcnMmJnIudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pY2VUcmFuc3BvcnQmJlwibmV3XCI9PT1lLmljZVRyYW5zcG9ydC5zdGF0ZSYmZS5pY2VUcmFuc3BvcnQuZ2V0UmVtb3RlQ2FuZGlkYXRlcygpLmxlbmd0aD4wJiYoY29uc29sZS53YXJuKFwiVGltZW91dCBmb3IgYWRkUmVtb3RlQ2FuZGlkYXRlLiBDb25zaWRlciBzZW5kaW5nIGFuIGVuZC1vZi1jYW5kaWRhdGVzIG5vdGlmaWNhdGlvblwiKSxlLmljZVRyYW5zcG9ydC5hZGRSZW1vdGVDYW5kaWRhdGUoe30pKX0pfSw0ZTMpLFByb21pc2UucmVzb2x2ZSgpfSxmLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pY2VUcmFuc3BvcnQmJmUuaWNlVHJhbnNwb3J0LnN0b3AoKSxlLmR0bHNUcmFuc3BvcnQmJmUuZHRsc1RyYW5zcG9ydC5zdG9wKCksZS5ydHBTZW5kZXImJmUucnRwU2VuZGVyLnN0b3AoKSxlLnJ0cFJlY2VpdmVyJiZlLnJ0cFJlY2VpdmVyLnN0b3AoKX0pLHRoaXMuX2lzQ2xvc2VkPSEwLHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKFwiY2xvc2VkXCIpfSxmLnByb3RvdHlwZS5fdXBkYXRlU2lnbmFsaW5nU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5zaWduYWxpbmdTdGF0ZT1lO3ZhciB0PW5ldyBFdmVudChcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuX2Rpc3BhdGNoRXZlbnQoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiLHQpfSxmLnByb3RvdHlwZS5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO1wic3RhYmxlXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlJiYhMCE9PXRoaXMubmVlZE5lZ290aWF0aW9uJiYodGhpcy5uZWVkTmVnb3RpYXRpb249ITAsYy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZS5uZWVkTmVnb3RpYXRpb24pe2UubmVlZE5lZ290aWF0aW9uPSExO3ZhciB0PW5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpO2UuX2Rpc3BhdGNoRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiLHQpfX0sMCkpfSxmLnByb3RvdHlwZS5fdXBkYXRlSWNlQ29ubmVjdGlvblN0YXRlPWZ1bmN0aW9uKCl7dmFyIGUsdD17bmV3OjAsY2xvc2VkOjAsY2hlY2tpbmc6MCxjb25uZWN0ZWQ6MCxjb21wbGV0ZWQ6MCxkaXNjb25uZWN0ZWQ6MCxmYWlsZWQ6MH07aWYodGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmljZVRyYW5zcG9ydCYmIWUucmVqZWN0ZWQmJnRbZS5pY2VUcmFuc3BvcnQuc3RhdGVdKyt9KSxlPVwibmV3XCIsdC5mYWlsZWQ+MD9lPVwiZmFpbGVkXCI6dC5jaGVja2luZz4wP2U9XCJjaGVja2luZ1wiOnQuZGlzY29ubmVjdGVkPjA/ZT1cImRpc2Nvbm5lY3RlZFwiOnQubmV3PjA/ZT1cIm5ld1wiOnQuY29ubmVjdGVkPjA/ZT1cImNvbm5lY3RlZFwiOnQuY29tcGxldGVkPjAmJihlPVwiY29tcGxldGVkXCIpLGUhPT10aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSl7dGhpcy5pY2VDb25uZWN0aW9uU3RhdGU9ZTt2YXIgcj1uZXcgRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHIpfX0sZi5wcm90b3R5cGUuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZT1mdW5jdGlvbigpe3ZhciBlLHQ9e25ldzowLGNsb3NlZDowLGNvbm5lY3Rpbmc6MCxjb25uZWN0ZWQ6MCxjb21wbGV0ZWQ6MCxkaXNjb25uZWN0ZWQ6MCxmYWlsZWQ6MH07aWYodGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmljZVRyYW5zcG9ydCYmZS5kdGxzVHJhbnNwb3J0JiYhZS5yZWplY3RlZCYmKHRbZS5pY2VUcmFuc3BvcnQuc3RhdGVdKyssdFtlLmR0bHNUcmFuc3BvcnQuc3RhdGVdKyspfSksdC5jb25uZWN0ZWQrPXQuY29tcGxldGVkLGU9XCJuZXdcIix0LmZhaWxlZD4wP2U9XCJmYWlsZWRcIjp0LmNvbm5lY3Rpbmc+MD9lPVwiY29ubmVjdGluZ1wiOnQuZGlzY29ubmVjdGVkPjA/ZT1cImRpc2Nvbm5lY3RlZFwiOnQubmV3PjA/ZT1cIm5ld1wiOnQuY29ubmVjdGVkPjAmJihlPVwiY29ubmVjdGVkXCIpLGUhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl7dGhpcy5jb25uZWN0aW9uU3RhdGU9ZTt2YXIgcj1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHIpfX0sZi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQuX2lzQ2xvc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChvKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3QgY2FsbCBjcmVhdGVPZmZlciBhZnRlciBjbG9zZVwiKSk7dmFyIG49dC50cmFuc2NlaXZlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9cIj09PWUua2luZH0pLmxlbmd0aCxhPXQudHJhbnNjZWl2ZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvXCI9PT1lLmtpbmR9KS5sZW5ndGgsaT1hcmd1bWVudHNbMF07aWYoaSl7aWYoaS5tYW5kYXRvcnl8fGkub3B0aW9uYWwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkxlZ2FjeSBtYW5kYXRvcnkvb3B0aW9uYWwgY29uc3RyYWludHMgbm90IHN1cHBvcnRlZC5cIik7dm9pZCAwIT09aS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiYobj0hMD09PWkub2ZmZXJUb1JlY2VpdmVBdWRpbz8xOiExPT09aS5vZmZlclRvUmVjZWl2ZUF1ZGlvPzA6aS5vZmZlclRvUmVjZWl2ZUF1ZGlvKSx2b2lkIDAhPT1pLm9mZmVyVG9SZWNlaXZlVmlkZW8mJihhPSEwPT09aS5vZmZlclRvUmVjZWl2ZVZpZGVvPzE6ITE9PT1pLm9mZmVyVG9SZWNlaXZlVmlkZW8/MDppLm9mZmVyVG9SZWNlaXZlVmlkZW8pfWZvcih0LnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiYXVkaW9cIj09PWUua2luZD8tLW48MCYmKGUud2FudFJlY2VpdmU9ITEpOlwidmlkZW9cIj09PWUua2luZCYmLS1hPDAmJihlLndhbnRSZWNlaXZlPSExKX0pO24+MHx8YT4wOyluPjAmJih0Ll9jcmVhdGVUcmFuc2NlaXZlcihcImF1ZGlvXCIpLG4tLSksYT4wJiYodC5fY3JlYXRlVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiKSxhLS0pO3ZhciBzPWUud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUodC5fc2RwU2Vzc2lvbklkLHQuX3NkcFNlc3Npb25WZXJzaW9uKyspO3QudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24ocixuKXt2YXIgYT1yLnRyYWNrLGk9ci5raW5kLHM9ci5taWR8fGUuZ2VuZXJhdGVJZGVudGlmaWVyKCk7ci5taWQ9cyxyLmljZUdhdGhlcmVyfHwoci5pY2VHYXRoZXJlcj10Ll9jcmVhdGVJY2VHYXRoZXJlcihuLHQudXNpbmdCdW5kbGUpKTt2YXIgbz1jLlJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMoaSk7ZDwxNTAxOSYmKG8uY29kZWNzPW8uY29kZWNzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiIT09ZS5uYW1lfSkpLG8uY29kZWNzLmZvckVhY2goZnVuY3Rpb24oZSl7XCJIMjY0XCI9PT1lLm5hbWUmJnZvaWQgMD09PWUucGFyYW1ldGVyc1tcImxldmVsLWFzeW1tZXRyeS1hbGxvd2VkXCJdJiYoZS5wYXJhbWV0ZXJzW1wibGV2ZWwtYXN5bW1ldHJ5LWFsbG93ZWRcIl09XCIxXCIpLHIucmVtb3RlQ2FwYWJpbGl0aWVzJiZyLnJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MmJnIucmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5uYW1lLnRvTG93ZXJDYXNlKCkmJmUuY2xvY2tSYXRlPT09dC5jbG9ja1JhdGUmJihlLnByZWZlcnJlZFBheWxvYWRUeXBlPXQucGF5bG9hZFR5cGUpfSl9KSxvLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihlKXsoci5yZW1vdGVDYXBhYmlsaXRpZXMmJnIucmVtb3RlQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UudXJpPT09dC51cmkmJihlLmlkPXQuaWQpfSl9KTt2YXIgcD1yLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnN8fFt7c3NyYzoxMDAxKigyKm4rMSl9XTthJiZkPj0xNTAxOSYmXCJ2aWRlb1wiPT09aSYmIXBbMF0ucnR4JiYocFswXS5ydHg9e3NzcmM6cFswXS5zc3JjKzF9KSxyLndhbnRSZWNlaXZlJiYoci5ydHBSZWNlaXZlcj1uZXcgYy5SVENSdHBSZWNlaXZlcihyLmR0bHNUcmFuc3BvcnQsaSkpLHIubG9jYWxDYXBhYmlsaXRpZXM9byxyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnM9cH0pLFwibWF4LWNvbXBhdFwiIT09dC5fY29uZmlnLmJ1bmRsZVBvbGljeSYmKHMrPVwiYT1ncm91cDpCVU5ETEUgXCIrdC50cmFuc2NlaXZlcnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1pZH0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLHMrPVwiYT1pY2Utb3B0aW9uczp0cmlja2xlXFxyXFxuXCIsdC50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihuLGEpe3MrPXIobixuLmxvY2FsQ2FwYWJpbGl0aWVzLFwib2ZmZXJcIixuLnN0cmVhbSx0Ll9kdGxzUm9sZSkscys9XCJhPXJ0Y3AtcnNpemVcXHJcXG5cIiwhbi5pY2VHYXRoZXJlcnx8XCJuZXdcIj09PXQuaWNlR2F0aGVyaW5nU3RhdGV8fDAhPT1hJiZ0LnVzaW5nQnVuZGxlfHwobi5pY2VHYXRoZXJlci5nZXRMb2NhbENhbmRpZGF0ZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuY29tcG9uZW50PTEscys9XCJhPVwiK2Uud3JpdGVDYW5kaWRhdGUodCkrXCJcXHJcXG5cIn0pLFwiY29tcGxldGVkXCI9PT1uLmljZUdhdGhlcmVyLnN0YXRlJiYocys9XCJhPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCIpKX0pO3ZhciBwPW5ldyBjLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnN9KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHApfSxmLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQuX2lzQ2xvc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChvKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3QgY2FsbCBjcmVhdGVBbnN3ZXIgYWZ0ZXIgY2xvc2VcIikpO2lmKFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIiE9PXQuc2lnbmFsaW5nU3RhdGUmJlwiaGF2ZS1sb2NhbC1wcmFuc3dlclwiIT09dC5zaWduYWxpbmdTdGF0ZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IGNhbGwgY3JlYXRlQW5zd2VyIGluIHNpZ25hbGluZ1N0YXRlIFwiK3Quc2lnbmFsaW5nU3RhdGUpKTt2YXIgbj1lLndyaXRlU2Vzc2lvbkJvaWxlcnBsYXRlKHQuX3NkcFNlc3Npb25JZCx0Ll9zZHBTZXNzaW9uVmVyc2lvbisrKTt0LnVzaW5nQnVuZGxlJiYobis9XCJhPWdyb3VwOkJVTkRMRSBcIit0LnRyYW5zY2VpdmVycy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWlkfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIiksbis9XCJhPWljZS1vcHRpb25zOnRyaWNrbGVcXHJcXG5cIjt2YXIgaT1lLmdldE1lZGlhU2VjdGlvbnModC5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKS5sZW5ndGg7dC50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlLHMpe2lmKCEocysxPmkpKXtpZihlLnJlamVjdGVkKXJldHVyblwiYXBwbGljYXRpb25cIj09PWUua2luZD9cIkRUTFMvU0NUUFwiPT09ZS5wcm90b2NvbD9uKz1cIm09YXBwbGljYXRpb24gMCBEVExTL1NDVFAgNTAwMFxcclxcblwiOm4rPVwibT1hcHBsaWNhdGlvbiAwIFwiK2UucHJvdG9jb2wrXCIgd2VicnRjLWRhdGFjaGFubmVsXFxyXFxuXCI6XCJhdWRpb1wiPT09ZS5raW5kP24rPVwibT1hdWRpbyAwIFVEUC9UTFMvUlRQL1NBVlBGIDBcXHJcXG5hPXJ0cG1hcDowIFBDTVUvODAwMFxcclxcblwiOlwidmlkZW9cIj09PWUua2luZCYmKG4rPVwibT12aWRlbyAwIFVEUC9UTFMvUlRQL1NBVlBGIDEyMFxcclxcbmE9cnRwbWFwOjEyMCBWUDgvOTAwMDBcXHJcXG5cIiksdm9pZChuKz1cImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5hPWluYWN0aXZlXFxyXFxuYT1taWQ6XCIrZS5taWQrXCJcXHJcXG5cIik7dmFyIG87aWYoZS5zdHJlYW0pXCJhdWRpb1wiPT09ZS5raW5kP289ZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTpcInZpZGVvXCI9PT1lLmtpbmQmJihvPWUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0pLG8mJmQ+PTE1MDE5JiZcInZpZGVvXCI9PT1lLmtpbmQmJiFlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiYoZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eD17c3NyYzplLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYysxfSk7dmFyIGM9YShlLmxvY2FsQ2FwYWJpbGl0aWVzLGUucmVtb3RlQ2FwYWJpbGl0aWVzKTshYy5jb2RlY3MuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKX0pLmxlbmd0aCYmZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmZGVsZXRlIGUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgsbis9cihlLGMsXCJhbnN3ZXJcIixlLnN0cmVhbSx0Ll9kdGxzUm9sZSksZS5ydGNwUGFyYW1ldGVycyYmZS5ydGNwUGFyYW1ldGVycy5yZWR1Y2VkU2l6ZSYmKG4rPVwiYT1ydGNwLXJzaXplXFxyXFxuXCIpfX0pO3ZhciBzPW5ldyBjLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpufSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzKX0sZi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKHQpe3ZhciByLG49dGhpcztyZXR1cm4gdCYmdm9pZCAwPT09dC5zZHBNTGluZUluZGV4JiYhdC5zZHBNaWQ/UHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcInNkcE1MaW5lSW5kZXggb3Igc2RwTWlkIHJlcXVpcmVkXCIpKTpuZXcgUHJvbWlzZShmdW5jdGlvbihhLGkpe2lmKCFuLl9yZW1vdGVEZXNjcmlwdGlvbilyZXR1cm4gaShvKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3QgYWRkIElDRSBjYW5kaWRhdGUgd2l0aG91dCBhIHJlbW90ZSBkZXNjcmlwdGlvblwiKSk7aWYodCYmXCJcIiE9PXQuY2FuZGlkYXRlKXt2YXIgYz10LnNkcE1MaW5lSW5kZXg7aWYodC5zZHBNaWQpZm9yKHZhciBkPTA7ZDxuLnRyYW5zY2VpdmVycy5sZW5ndGg7ZCsrKWlmKG4udHJhbnNjZWl2ZXJzW2RdLm1pZD09PXQuc2RwTWlkKXtjPWQ7YnJlYWt9dmFyIHA9bi50cmFuc2NlaXZlcnNbY107aWYoIXApcmV0dXJuIGkobyhcIk9wZXJhdGlvbkVycm9yXCIsXCJDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlXCIpKTtpZihwLnJlamVjdGVkKXJldHVybiBhKCk7dmFyIGw9T2JqZWN0LmtleXModC5jYW5kaWRhdGUpLmxlbmd0aD4wP2UucGFyc2VDYW5kaWRhdGUodC5jYW5kaWRhdGUpOnt9O2lmKFwidGNwXCI9PT1sLnByb3RvY29sJiYoMD09PWwucG9ydHx8OT09PWwucG9ydCkpcmV0dXJuIGEoKTtpZihsLmNvbXBvbmVudCYmMSE9PWwuY29tcG9uZW50KXJldHVybiBhKCk7aWYoKDA9PT1jfHxjPjAmJnAuaWNlVHJhbnNwb3J0IT09bi50cmFuc2NlaXZlcnNbMF0uaWNlVHJhbnNwb3J0KSYmIXMocC5pY2VUcmFuc3BvcnQsbCkpcmV0dXJuIGkobyhcIk9wZXJhdGlvbkVycm9yXCIsXCJDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlXCIpKTt2YXIgZj10LmNhbmRpZGF0ZS50cmltKCk7MD09PWYuaW5kZXhPZihcImE9XCIpJiYoZj1mLnN1YnN0cigyKSksKHI9ZS5nZXRNZWRpYVNlY3Rpb25zKG4uX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkpW2NdKz1cImE9XCIrKGwudHlwZT9mOlwiZW5kLW9mLWNhbmRpZGF0ZXNcIikrXCJcXHJcXG5cIixuLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHA9ZS5nZXREZXNjcmlwdGlvbihuLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApK3Iuam9pbihcIlwiKX1lbHNlIGZvcih2YXIgdT0wO3U8bi50cmFuc2NlaXZlcnMubGVuZ3RoJiYobi50cmFuc2NlaXZlcnNbdV0ucmVqZWN0ZWR8fChuLnRyYW5zY2VpdmVyc1t1XS5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSwocj1lLmdldE1lZGlhU2VjdGlvbnMobi5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKSlbdV0rPVwiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiLG4uX3JlbW90ZURlc2NyaXB0aW9uLnNkcD1lLmdldERlc2NyaXB0aW9uKG4uX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkrci5qb2luKFwiXCIpLCFuLnVzaW5nQnVuZGxlKSk7dSsrKTthKCl9KX0sZi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oZSl7aWYoZSYmZSBpbnN0YW5jZW9mIGMuTWVkaWFTdHJlYW1UcmFjayl7dmFyIHQ9bnVsbDtpZih0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IucnRwU2VuZGVyJiZyLnJ0cFNlbmRlci50cmFjaz09PWU/dD1yLnJ0cFNlbmRlcjpyLnJ0cFJlY2VpdmVyJiZyLnJ0cFJlY2VpdmVyLnRyYWNrPT09ZSYmKHQ9ci5ydHBSZWNlaXZlcil9KSwhdCl0aHJvdyBvKFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIsXCJJbnZhbGlkIHNlbGVjdG9yLlwiKTtyZXR1cm4gdC5nZXRTdGF0cygpfXZhciByPVtdO3JldHVybiB0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1tcInJ0cFNlbmRlclwiLFwicnRwUmVjZWl2ZXJcIixcImljZUdhdGhlcmVyXCIsXCJpY2VUcmFuc3BvcnRcIixcImR0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdJiZyLnB1c2goZVt0XS5nZXRTdGF0cygpKX0pfSksUHJvbWlzZS5hbGwocikudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgTWFwO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Quc2V0KGUuaWQsZSl9KX0pLHR9KX07W1wiUlRDUnRwU2VuZGVyXCIsXCJSVENSdHBSZWNlaXZlclwiLFwiUlRDSWNlR2F0aGVyZXJcIixcIlJUQ0ljZVRyYW5zcG9ydFwiLFwiUlRDRHRsc1RyYW5zcG9ydFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWNbZV07aWYociYmci5wcm90b3R5cGUmJnIucHJvdG90eXBlLmdldFN0YXRzKXt2YXIgbj1yLnByb3RvdHlwZS5nZXRTdGF0cztyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9bmV3IE1hcDtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXtlW25dLnR5cGU9dChlW25dKSxyLnNldChuLGVbbl0pfSkscn0pfX19KTt2YXIgdT1bXCJjcmVhdGVPZmZlclwiLFwiY3JlYXRlQW5zd2VyXCJdO3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Zi5wcm90b3R5cGVbZV07Zi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZVswXXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXT90LmFwcGx5KHRoaXMsW2FyZ3VtZW50c1syXV0pLnRoZW4oZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVswXSYmZVswXS5hcHBseShudWxsLFt0XSl9LGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGVbMV0mJmVbMV0uYXBwbHkobnVsbCxbdF0pfSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksKHU9W1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1mLnByb3RvdHlwZVtlXTtmLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzJdP3QuYXBwbHkodGhpcyxhcmd1bWVudHMpLnRoZW4oZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdJiZlWzFdLmFwcGx5KG51bGwpfSxmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzJdJiZlWzJdLmFwcGx5KG51bGwsW3RdKX0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLFtcImdldFN0YXRzXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Zi5wcm90b3R5cGVbZV07Zi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXSYmZVsxXS5hcHBseShudWxsKX0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLGZ9O1xufSx7XCJzZHBcIjpcIllIdmhcIn1dLFwiWWRLeFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3ZhciByPWUmJmUubmF2aWdhdG9yLHQ9ci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQoci5tZWRpYURldmljZXMpO3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlKXtyZXR1cm4gdChlKS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6e1Blcm1pc3Npb25EZW5pZWRFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsY29uc3RyYWludDplLmNvbnN0cmFpbnQsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfX19KGUpKX0pfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1HZXRVc2VyTWVkaWE9ZTtcbn0se31dLFwiUDNiVlwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe1wiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvciYmZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1lLm5hdmlnYXRvci5nZXREaXNwbGF5TWVkaWEuYmluZChlLm5hdmlnYXRvcikpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1HZXREaXNwbGF5TWVkaWE9ZTtcbn0se31dLFwiWFJpY1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1QZWVyQ29ubmVjdGlvbj1wLGV4cG9ydHMuc2hpbVJlcGxhY2VUcmFjaz1hLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2hpbUdldFVzZXJNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLnNoaW1HZXRVc2VyTWVkaWF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJzaGltR2V0RGlzcGxheU1lZGlhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuc2hpbUdldERpc3BsYXlNZWRpYX19KTt2YXIgZT1zKHJlcXVpcmUoXCIuLi91dGlsc1wiKSksdD1yZXF1aXJlKFwiLi9maWx0ZXJpY2VzZXJ2ZXJzXCIpLHI9byhyZXF1aXJlKFwicnRjcGVlcmNvbm5lY3Rpb24tc2hpbVwiKSksbj1yZXF1aXJlKFwiLi9nZXR1c2VybWVkaWFcIiksaT1yZXF1aXJlKFwiLi9nZXRkaXNwbGF5bWVkaWFcIik7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gYygpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIGM9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiBzKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHQ9YygpO2lmKHQmJnQuaGFzKGUpKXJldHVybiB0LmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSl7dmFyIG89bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bnVsbDtvJiYoby5nZXR8fG8uc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixpLG8pOnJbaV09ZVtpXX1yZXR1cm4gci5kZWZhdWx0PWUsdCYmdC5zZXQoZSxyKSxyfWZ1bmN0aW9uIHAobixpKXtpZihuLlJUQ0ljZUdhdGhlcmVyJiYobi5SVENJY2VDYW5kaWRhdGV8fChuLlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLG4uUlRDU2Vzc2lvbkRlc2NyaXB0aW9ufHwobi5SVENTZXNzaW9uRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxpLnZlcnNpb248MTUwMjUpKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4uTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsXCJlbmFibGVkXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtzZXQ6ZnVuY3Rpb24oZSl7by5zZXQuY2FsbCh0aGlzLGUpO3ZhciB0PW5ldyBFdmVudChcImVuYWJsZWRcIik7dC5lbmFibGVkPWUsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfX0pfSFuLlJUQ1J0cFNlbmRlcnx8XCJkdG1mXCJpbiBuLlJUQ1J0cFNlbmRlci5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9bmV3IG4uUlRDRHRtZlNlbmRlcih0aGlzKTpcInZpZGVvXCI9PT10aGlzLnRyYWNrLmtpbmQmJih0aGlzLl9kdG1mPW51bGwpKSx0aGlzLl9kdG1mfX0pLG4uUlRDRHRtZlNlbmRlciYmIW4uUlRDRFRNRlNlbmRlciYmKG4uUlRDRFRNRlNlbmRlcj1uLlJUQ0R0bWZTZW5kZXIpO3ZhciBjPSgwLHIuZGVmYXVsdCkobixpLnZlcnNpb24pO24uUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24ocil7cmV0dXJuIHImJnIuaWNlU2VydmVycyYmKHIuaWNlU2VydmVycz0oMCx0LmZpbHRlckljZVNlcnZlcnMpKHIuaWNlU2VydmVycyxpLnZlcnNpb24pLGUubG9nKFwiSUNFIHNlcnZlcnMgYWZ0ZXIgZmlsdGVyaW5nOlwiLHIuaWNlU2VydmVycykpLG5ldyBjKHIpfSxuLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT1jLnByb3RvdHlwZX1mdW5jdGlvbiBhKGUpeyFlLlJUQ1J0cFNlbmRlcnx8XCJyZXBsYWNlVHJhY2tcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZXx8KGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5yZXBsYWNlVHJhY2s9ZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFRyYWNrKX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIixcIi4vZmlsdGVyaWNlc2VydmVyc1wiOlwiTloxQ1wiLFwicnRjcGVlcmNvbm5lY3Rpb24tc2hpbVwiOlwiTkoydVwiLFwiLi9nZXR1c2VybWVkaWFcIjpcIllkS3hcIixcIi4vZ2V0ZGlzcGxheW1lZGlhXCI6XCJQM2JWXCJ9XSxcIkd6U3ZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0VXNlck1lZGlhPW47dmFyIGU9byhyZXF1aXJlKFwiLi4vdXRpbHNcIikpO2Z1bmN0aW9uIHQoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiB0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciBvPXQoKTtpZihvJiZvLmhhcyhlKSlyZXR1cm4gby5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsaSxhKTpyW2ldPWVbaV19cmV0dXJuIHIuZGVmYXVsdD1lLG8mJm8uc2V0KGUscikscn1mdW5jdGlvbiByKGUpe3JldHVybihyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBuKHQsbyl7dmFyIG49dCYmdC5uYXZpZ2F0b3IsaT10JiZ0Lk1lZGlhU3RyZWFtVHJhY2s7aWYobi5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCxvLHIpe2UuZGVwcmVjYXRlZChcIm5hdmlnYXRvci5nZXRVc2VyTWVkaWFcIixcIm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhXCIpLG4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh0KS50aGVuKG8scil9LCEoby52ZXJzaW9uPjU1JiZcImF1dG9HYWluQ29udHJvbFwiaW4gbi5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKSkpe3ZhciBhPWZ1bmN0aW9uKGUsdCxvKXt0IGluIGUmJiEobyBpbiBlKSYmKGVbb109ZVt0XSxkZWxldGUgZVt0XSl9LHM9bi5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobi5tZWRpYURldmljZXMpO2lmKG4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT09cihlKSYmXCJvYmplY3RcIj09PXIoZS5hdWRpbykmJihlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGEoZS5hdWRpbyxcImF1dG9HYWluQ29udHJvbFwiLFwibW96QXV0b0dhaW5Db250cm9sXCIpLGEoZS5hdWRpbyxcIm5vaXNlU3VwcHJlc3Npb25cIixcIm1vek5vaXNlU3VwcHJlc3Npb25cIikpLHMoZSl9LGkmJmkucHJvdG90eXBlLmdldFNldHRpbmdzKXt2YXIgcD1pLnByb3RvdHlwZS5nZXRTZXR0aW5ncztpLnByb3RvdHlwZS5nZXRTZXR0aW5ncz1mdW5jdGlvbigpe3ZhciBlPXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBhKGUsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIixcImF1dG9HYWluQ29udHJvbFwiKSxhKGUsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIsXCJub2lzZVN1cHByZXNzaW9uXCIpLGV9fWlmKGkmJmkucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHMpe3ZhciB1PWkucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM7aS5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cz1mdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT10aGlzLmtpbmQmJlwib2JqZWN0XCI9PT1yKGUpJiYoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxhKGUsXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxhKGUsXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSx1LmFwcGx5KHRoaXMsW2VdKX19fX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIn1dLFwiVXVHVVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsaSl7ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHxlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJihlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGEpe2lmKCFhfHwhYS52aWRlbyl7dmFyIHQ9bmV3IERPTUV4Y2VwdGlvbihcImdldERpc3BsYXlNZWRpYSB3aXRob3V0IHZpZGVvIGNvbnN0cmFpbnRzIGlzIHVuZGVmaW5lZFwiKTtyZXR1cm4gdC5uYW1lPVwiTm90Rm91bmRFcnJvclwiLHQuY29kZT04LFByb21pc2UucmVqZWN0KHQpfXJldHVybiEwPT09YS52aWRlbz9hLnZpZGVvPXttZWRpYVNvdXJjZTppfTphLnZpZGVvLm1lZGlhU291cmNlPWksZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShhKX0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc2hpbUdldERpc3BsYXlNZWRpYT1lO1xufSx7fV0sXCJGemRyXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc2hpbU9uVHJhY2s9cyxleHBvcnRzLnNoaW1QZWVyQ29ubmVjdGlvbj1jLGV4cG9ydHMuc2hpbVNlbmRlckdldFN0YXRzPXAsZXhwb3J0cy5zaGltUmVjZWl2ZXJHZXRTdGF0cz11LGV4cG9ydHMuc2hpbVJlbW92ZVN0cmVhbT1mLGV4cG9ydHMuc2hpbVJUQ0RhdGFDaGFubmVsPWQsZXhwb3J0cy5zaGltQWRkVHJhbnNjZWl2ZXI9QyxleHBvcnRzLnNoaW1HZXRQYXJhbWV0ZXJzPXksZXhwb3J0cy5zaGltQ3JlYXRlT2ZmZXI9bCxleHBvcnRzLnNoaW1DcmVhdGVBbnN3ZXI9bSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcInNoaW1HZXRVc2VyTWVkaWFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zaGltR2V0VXNlck1lZGlhfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLnNoaW1HZXREaXNwbGF5TWVkaWF9fSk7dmFyIGU9byhyZXF1aXJlKFwiLi4vdXRpbHNcIikpLHQ9cmVxdWlyZShcIi4vZ2V0dXNlcm1lZGlhXCIpLG49cmVxdWlyZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO2Z1bmN0aW9uIHIoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiByPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PXIoKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIG49e30sbz1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPW8/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSxhKTpuW2ldPWVbaV19cmV0dXJuIG4uZGVmYXVsdD1lLHQmJnQuc2V0KGUsbiksbn1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBhKGUpe3JldHVybihhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBzKGUpe1wib2JqZWN0XCI9PT1hKGUpJiZlLlJUQ1RyYWNrRXZlbnQmJlwicmVjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUmJiEoXCJ0cmFuc2NlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLFwidHJhbnNjZWl2ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3JlY2VpdmVyOnRoaXMucmVjZWl2ZXJ9fX0pfWZ1bmN0aW9uIGMoZSx0KXtpZihcIm9iamVjdFwiPT09YShlKSYmKGUuUlRDUGVlckNvbm5lY3Rpb258fGUubW96UlRDUGVlckNvbm5lY3Rpb24pKXshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5tb3pSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS5tb3pSVENQZWVyQ29ubmVjdGlvbiksdC52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0scj1pKHt9LHQsZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09dD9lLlJUQ0ljZUNhbmRpZGF0ZTplLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPXJbdF19KTt2YXIgbj17aW5ib3VuZHJ0cDpcImluYm91bmQtcnRwXCIsb3V0Ym91bmRydHA6XCJvdXRib3VuZC1ydHBcIixjYW5kaWRhdGVwYWlyOlwiY2FuZGlkYXRlLXBhaXJcIixsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn0scj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3ZhcltlLG8saV09YXJndW1lbnRzO3JldHVybiByLmFwcGx5KHRoaXMsW2V8fG51bGxdKS50aGVuKGZ1bmN0aW9uKGUpe2lmKHQudmVyc2lvbjw1MyYmIW8pdHJ5e2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU9bltlLnR5cGVdfHxlLnR5cGV9KX1jYXRjaChyKXtpZihcIlR5cGVFcnJvclwiIT09ci5uYW1lKXRocm93IHI7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5zZXQocixPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6blt0LnR5cGVdfHx0LnR5cGV9KSl9KX1yZXR1cm4gZX0pLnRoZW4obyxpKX19fWZ1bmN0aW9uIHAoZSl7aWYoXCJvYmplY3RcIj09PWEoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJmUuUlRDUnRwU2VuZGVyJiYhKGUuUlRDUnRwU2VuZGVyJiZcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pLG59KTt2YXIgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztuJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5fcGM9dGhpcyxlfSksZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhY2s/dGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayk6UHJvbWlzZS5yZXNvbHZlKG5ldyBNYXApfX19ZnVuY3Rpb24gdSh0KXtpZihcIm9iamVjdFwiPT09YSh0KSYmdC5SVENQZWVyQ29ubmVjdGlvbiYmdC5SVENSdHBTZW5kZXImJiEodC5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7dmFyIG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO24mJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bi5hcHBseSh0aGlzLFtdKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSksdH0pLGUud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQodCxcInRyYWNrXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIuX3BjPWUuc3JjRWxlbWVudCxlfSksdC5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayl9fX1mdW5jdGlvbiBmKHQpeyF0LlJUQ1BlZXJDb25uZWN0aW9ufHxcInJlbW92ZVN0cmVhbVwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fCh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24odCl7dmFyIG49dGhpcztlLmRlcHJlY2F0ZWQoXCJyZW1vdmVTdHJlYW1cIixcInJlbW92ZVRyYWNrXCIpLHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50cmFjayYmdC5nZXRUcmFja3MoKS5pbmNsdWRlcyhlLnRyYWNrKSYmbi5yZW1vdmVUcmFjayhlKX0pfSl9ZnVuY3Rpb24gZChlKXtlLkRhdGFDaGFubmVsJiYhZS5SVENEYXRhQ2hhbm5lbCYmKGUuUlRDRGF0YUNoYW5uZWw9ZS5EYXRhQ2hhbm5lbCl9ZnVuY3Rpb24gQyhlKXtpZihcIm9iamVjdFwiPT09YShlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyPWZ1bmN0aW9uKCl7dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W107dmFyIGU9YXJndW1lbnRzWzFdLG49ZSYmXCJzZW5kRW5jb2RpbmdzXCJpbiBlO24mJmUuc2VuZEVuY29kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwicmlkXCJpbiBlKXtpZighL15bYS16MC05XXswLDE2fSQvaS50ZXN0KGUucmlkKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSSUQgdmFsdWUgcHJvdmlkZWQuXCIpfWlmKFwic2NhbGVSZXNvbHV0aW9uRG93bkJ5XCJpbiBlJiYhKHBhcnNlRmxvYXQoZS5zY2FsZVJlc29sdXRpb25Eb3duQnkpPj0xKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSBtdXN0IGJlID49IDEuMFwiKTtpZihcIm1heEZyYW1lcmF0ZVwiaW4gZSYmIShwYXJzZUZsb2F0KGUubWF4RnJhbWVyYXRlKT49MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtYXhfZnJhbWVyYXRlIG11c3QgYmUgPj0gMC4wXCIpfSk7dmFyIHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobil7dmFye3NlbmRlcjpvfT1yLGk9by5nZXRQYXJhbWV0ZXJzKCk7XCJlbmNvZGluZ3NcImluIGkmJigxIT09aS5lbmNvZGluZ3MubGVuZ3RofHwwIT09T2JqZWN0LmtleXMoaS5lbmNvZGluZ3NbMF0pLmxlbmd0aCl8fChpLmVuY29kaW5ncz1lLnNlbmRFbmNvZGluZ3Msby5zZW5kRW5jb2RpbmdzPWUuc2VuZEVuY29kaW5ncyx0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5wdXNoKG8uc2V0UGFyYW1ldGVycyhpKS50aGVuKGZ1bmN0aW9uKCl7ZGVsZXRlIG8uc2VuZEVuY29kaW5nc30pLmNhdGNoKGZ1bmN0aW9uKCl7ZGVsZXRlIG8uc2VuZEVuY29kaW5nc30pKSl9cmV0dXJuIHJ9KX19ZnVuY3Rpb24geShlKXtpZihcIm9iamVjdFwiPT09YShlKSYmZS5SVENSdHBTZW5kZXIpe3ZhciB0PWUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzO3QmJihlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVyblwiZW5jb2RpbmdzXCJpbiBlfHwoZS5lbmNvZGluZ3M9W10uY29uY2F0KHRoaXMuc2VuZEVuY29kaW5nc3x8W3t9XSkpLGV9KX19ZnVuY3Rpb24gbChlKXtpZihcIm9iamVjdFwiPT09YShlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMsbj10aGlzO3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP1Byb21pc2UuYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkobixlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtuLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gbShlKXtpZihcIm9iamVjdFwiPT09YShlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cyxuPXRoaXM7cmV0dXJuIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzJiZ0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGg/UHJvbWlzZS5hbGwodGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShuLGUpfSkuZmluYWxseShmdW5jdGlvbigpe24uc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdfSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIixcIi4vZ2V0dXNlcm1lZGlhXCI6XCJHelN2XCIsXCIuL2dldGRpc3BsYXltZWRpYVwiOlwiVXVHVVwifV0sXCJ0MWxMXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc2hpbUxvY2FsU3RyZWFtc0FQST1uLGV4cG9ydHMuc2hpbVJlbW90ZVN0cmVhbXNBUEk9aSxleHBvcnRzLnNoaW1DYWxsYmFja3NBUEk9YSxleHBvcnRzLnNoaW1HZXRVc2VyTWVkaWE9YyxleHBvcnRzLnNoaW1Db25zdHJhaW50cz1zLGV4cG9ydHMuc2hpbVJUQ0ljZVNlcnZlclVybHM9ZCxleHBvcnRzLnNoaW1UcmFja0V2ZW50VHJhbnNjZWl2ZXI9ZixleHBvcnRzLnNoaW1DcmVhdGVPZmZlckxlZ2FjeT1wLGV4cG9ydHMuc2hpbUF1ZGlvQ29udGV4dD11O3ZhciBlPXIocmVxdWlyZShcIi4uL3V0aWxzXCIpKTtmdW5jdGlvbiB0KCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcDtyZXR1cm4gdD1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIHIoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm57ZGVmYXVsdDplfTt2YXIgcj10KCk7aWYociYmci5oYXMoZSkpcmV0dXJuIHIuZ2V0KGUpO3ZhciBvPXt9LG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgaSBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpKXt2YXIgYT1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpudWxsO2EmJihhLmdldHx8YS5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGksYSk6b1tpXT1lW2ldfXJldHVybiBvLmRlZmF1bHQ9ZSxyJiZyLnNldChlLG8pLG99ZnVuY3Rpb24gbyhlKXtyZXR1cm4obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbihlKXtpZihcIm9iamVjdFwiPT09byhlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7aWYoXCJnZXRMb2NhbFN0cmVhbXNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSksdGhpcy5fbG9jYWxTdHJlYW1zfSksIShcImFkZFN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhlKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goZSksZS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24obyl7cmV0dXJuIHQuY2FsbChyLG8sZSl9KSxlLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihvKXtyZXR1cm4gdC5jYWxsKHIsbyxlKX0pfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihlKXtmb3IodmFyIHI9dGhpcyxvPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkobz4xP28tMTowKSxpPTE7aTxvO2krKyluW2ktMV09YXJndW1lbnRzW2ldO3JldHVybiBuJiZuLmZvckVhY2goZnVuY3Rpb24oZSl7ci5fbG9jYWxTdHJlYW1zP3IuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhlKXx8ci5fbG9jYWxTdHJlYW1zLnB1c2goZSk6ci5fbG9jYWxTdHJlYW1zPVtlXX0pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1cInJlbW92ZVN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fChlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pO3ZhciByPXRoaXMuX2xvY2FsU3RyZWFtcy5pbmRleE9mKGUpO2lmKC0xIT09cil7dGhpcy5fbG9jYWxTdHJlYW1zLnNwbGljZShyLDEpO3ZhciBvPWUuZ2V0VHJhY2tzKCk7dGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtvLmluY2x1ZGVzKGUudHJhY2spJiZ0LnJlbW92ZVRyYWNrKGUpfSl9fSl9fWZ1bmN0aW9uIGkoZSl7aWYoXCJvYmplY3RcIj09PW8oZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJihcImdldFJlbW90ZVN0cmVhbXNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVtb3RlU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW1vdGVTdHJlYW1zP3RoaXMuX3JlbW90ZVN0cmVhbXM6W119KSwhKFwib25hZGRzdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9uYWRkc3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbmFkZHN0cmVhbX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fb25hZGRzdHJlYW0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1mdW5jdGlvbihlKXtlLnN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihlKXtpZih0Ll9yZW1vdGVTdHJlYW1zfHwodC5fcmVtb3RlU3RyZWFtcz1bXSksIXQuX3JlbW90ZVN0cmVhbXMuaW5jbHVkZXMoZSkpe3QuX3JlbW90ZVN0cmVhbXMucHVzaChlKTt2YXIgcj1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7ci5zdHJlYW09ZSx0LmRpc3BhdGNoRXZlbnQocil9fSl9KX19KTt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtcG9seXx8dGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZnVuY3Rpb24odCl7dC5zdHJlYW1zLmZvckVhY2goZnVuY3Rpb24odCl7aWYoZS5fcmVtb3RlU3RyZWFtc3x8KGUuX3JlbW90ZVN0cmVhbXM9W10pLCEoZS5fcmVtb3RlU3RyZWFtcy5pbmRleE9mKHQpPj0wKSl7ZS5fcmVtb3RlU3RyZWFtcy5wdXNoKHQpO3ZhciByPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtyLnN0cmVhbT10LGUuZGlzcGF0Y2hFdmVudChyKX19KX0pLHQuYXBwbHkoZSxhcmd1bWVudHMpfX19ZnVuY3Rpb24gYShlKXtpZihcIm9iamVjdFwiPT09byhlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUscj10LmNyZWF0ZU9mZmVyLG49dC5jcmVhdGVBbnN3ZXIsaT10LnNldExvY2FsRGVzY3JpcHRpb24sYT10LnNldFJlbW90ZURlc2NyaXB0aW9uLGM9dC5hZGRJY2VDYW5kaWRhdGU7dC5jcmVhdGVPZmZlcj1mdW5jdGlvbihlLHQpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzJdOmFyZ3VtZW50c1swXSxuPXIuYXBwbHkodGhpcyxbb10pO3JldHVybiB0PyhuLnRoZW4oZSx0KSxQcm9taXNlLnJlc29sdmUoKSk6bn0sdC5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMF0sbz1uLmFwcGx5KHRoaXMsW3JdKTtyZXR1cm4gdD8oby50aGVuKGUsdCksUHJvbWlzZS5yZXNvbHZlKCkpOm99O3ZhciBzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1pLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gcj8oby50aGVuKHQsciksUHJvbWlzZS5yZXNvbHZlKCkpOm99O3Quc2V0TG9jYWxEZXNjcmlwdGlvbj1zLHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWEuYXBwbHkodGhpcyxbZV0pO3JldHVybiByPyhvLnRoZW4odCxyKSxQcm9taXNlLnJlc29sdmUoKSk6b30sdC5zZXRSZW1vdGVEZXNjcmlwdGlvbj1zLHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWMuYXBwbHkodGhpcyxbZV0pO3JldHVybiByPyhvLnRoZW4odCxyKSxQcm9taXNlLnJlc29sdmUoKSk6b30sdC5hZGRJY2VDYW5kaWRhdGU9c319ZnVuY3Rpb24gYyhlKXt2YXIgdD1lJiZlLm5hdmlnYXRvcjtpZih0Lm1lZGlhRGV2aWNlcyYmdC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXt2YXIgcj10Lm1lZGlhRGV2aWNlcyxvPXIuZ2V0VXNlck1lZGlhLmJpbmQocik7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBvKHMoZSkpfX0hdC5nZXRVc2VyTWVkaWEmJnQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEmJih0LmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLHIsbyl7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4ocixvKX0uYmluZCh0KSl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdCYmdm9pZCAwIT09dC52aWRlbz9PYmplY3QuYXNzaWduKHt9LHQse3ZpZGVvOmUuY29tcGFjdE9iamVjdCh0LnZpZGVvKX0pOnR9ZnVuY3Rpb24gZCh0KXtpZih0LlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgcj10LlJUQ1BlZXJDb25uZWN0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24odCxvKXtpZih0JiZ0LmljZVNlcnZlcnMpe2Zvcih2YXIgbj1bXSxpPTA7aTx0LmljZVNlcnZlcnMubGVuZ3RoO2krKyl7dmFyIGE9dC5pY2VTZXJ2ZXJzW2ldOyFhLmhhc093blByb3BlcnR5KFwidXJsc1wiKSYmYS5oYXNPd25Qcm9wZXJ0eShcInVybFwiKT8oZS5kZXByZWNhdGVkKFwiUlRDSWNlU2VydmVyLnVybFwiLFwiUlRDSWNlU2VydmVyLnVybHNcIiksKGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSkpLnVybHM9YS51cmwsZGVsZXRlIGEudXJsLG4ucHVzaChhKSk6bi5wdXNoKHQuaWNlU2VydmVyc1tpXSl9dC5pY2VTZXJ2ZXJzPW59cmV0dXJuIG5ldyByKHQsbyl9LHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPXIucHJvdG90eXBlLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiaW4gciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLmdlbmVyYXRlQ2VydGlmaWNhdGV9fSl9fWZ1bmN0aW9uIGYoZSl7XCJvYmplY3RcIj09PW8oZSkmJmUuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihlKXtpZihlKXt2b2lkIDAhPT1lLm9mZmVyVG9SZWNlaXZlQXVkaW8mJihlLm9mZmVyVG9SZWNlaXZlQXVkaW89ISFlLm9mZmVyVG9SZWNlaXZlQXVkaW8pO3ZhciByPXRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT1lLnJlY2VpdmVyLnRyYWNrLmtpbmR9KTshMT09PWUub2ZmZXJUb1JlY2VpdmVBdWRpbyYmcj9cInNlbmRyZWN2XCI9PT1yLmRpcmVjdGlvbj9yLnNldERpcmVjdGlvbj9yLnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOnIuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjpcInJlY3Zvbmx5XCI9PT1yLmRpcmVjdGlvbiYmKHIuc2V0RGlyZWN0aW9uP3Iuc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6ci5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTohMCE9PWUub2ZmZXJUb1JlY2VpdmVBdWRpb3x8cnx8dGhpcy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIpLHZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmKGUub2ZmZXJUb1JlY2VpdmVWaWRlbz0hIWUub2ZmZXJUb1JlY2VpdmVWaWRlbyk7dmFyIG89dGhpcy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZH0pOyExPT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvJiZvP1wic2VuZHJlY3ZcIj09PW8uZGlyZWN0aW9uP28uc2V0RGlyZWN0aW9uP28uc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6by5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PW8uZGlyZWN0aW9uJiYoby5zZXREaXJlY3Rpb24/by5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTpvLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvfHxvfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB1KGUpe1wib2JqZWN0XCIhPT1vKGUpfHxlLkF1ZGlvQ29udGV4dHx8KGUuQXVkaW9Db250ZXh0PWUud2Via2l0QXVkaW9Db250ZXh0KX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIn1dLFwiR09RS1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1SVENJY2VDYW5kaWRhdGU9YSxleHBvcnRzLnNoaW1NYXhNZXNzYWdlU2l6ZT1jLGV4cG9ydHMuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcj1zLGV4cG9ydHMuc2hpbUNvbm5lY3Rpb25TdGF0ZT1wLGV4cG9ydHMucmVtb3ZlRXh0bWFwQWxsb3dNaXhlZD1kLGV4cG9ydHMuc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5PXU7dmFyIGU9cihyZXF1aXJlKFwic2RwXCIpKSx0PW8ocmVxdWlyZShcIi4vdXRpbHNcIikpO2Z1bmN0aW9uIG4oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiBuPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PW4oKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIG89e30scj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPXI/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG8saSxhKTpvW2ldPWVbaV19cmV0dXJuIG8uZGVmYXVsdD1lLHQmJnQuc2V0KGUsbyksb31mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe3JldHVybihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBhKG4pe2lmKG4uUlRDSWNlQ2FuZGlkYXRlJiYhKG4uUlRDSWNlQ2FuZGlkYXRlJiZcImZvdW5kYXRpb25cImluIG4uUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZSkpe3ZhciBvPW4uUlRDSWNlQ2FuZGlkYXRlO24uUlRDSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PT1pKHQpJiZ0LmNhbmRpZGF0ZSYmMD09PXQuY2FuZGlkYXRlLmluZGV4T2YoXCJhPVwiKSYmKCh0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpKS5jYW5kaWRhdGU9dC5jYW5kaWRhdGUuc3Vic3RyKDIpKSx0LmNhbmRpZGF0ZSYmdC5jYW5kaWRhdGUubGVuZ3RoKXt2YXIgbj1uZXcgbyh0KSxyPWUuZGVmYXVsdC5wYXJzZUNhbmRpZGF0ZSh0LmNhbmRpZGF0ZSksYT1PYmplY3QuYXNzaWduKG4scik7cmV0dXJuIGEudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2NhbmRpZGF0ZTphLmNhbmRpZGF0ZSxzZHBNaWQ6YS5zZHBNaWQsc2RwTUxpbmVJbmRleDphLnNkcE1MaW5lSW5kZXgsdXNlcm5hbWVGcmFnbWVudDphLnVzZXJuYW1lRnJhZ21lbnR9fSxhfXJldHVybiBuZXcgbyh0KX0sbi5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlPW8ucHJvdG90eXBlLHQud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQobixcImljZWNhbmRpZGF0ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IG4uUlRDSWNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSxlfSl9fWZ1bmN0aW9uIGModCxuKXtpZih0LlJUQ1BlZXJDb25uZWN0aW9uKXtcInNjdHBcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJzY3RwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH19KTt2YXIgbz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX3NjdHA9bnVsbCxcImNocm9tZVwiPT09bi5icm93c2VyJiZuLnZlcnNpb24+PTc2KXt2YXJ7c2RwU2VtYW50aWNzOnR9PXRoaXMuZ2V0Q29uZmlndXJhdGlvbigpO1wicGxhbi1iXCI9PT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjdHBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWlmKGZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5zZHApcmV0dXJuITE7dmFyIG49ZS5kZWZhdWx0LnNwbGl0U2VjdGlvbnModC5zZHApO3JldHVybiBuLnNoaWZ0KCksbi5zb21lKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZGVmYXVsdC5wYXJzZU1MaW5lKHQpO3JldHVybiBuJiZcImFwcGxpY2F0aW9uXCI9PT1uLmtpbmQmJi0xIT09bi5wcm90b2NvbC5pbmRleE9mKFwiU0NUUFwiKX0pfShhcmd1bWVudHNbMF0pKXt2YXIgcixpPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2RwLm1hdGNoKC9tb3ppbGxhLi4uVEhJU19JU19TRFBBUlRBLShcXGQrKS8pO2lmKG51bGw9PT10fHx0Lmxlbmd0aDwyKXJldHVybi0xO3ZhciBuPXBhcnNlSW50KHRbMV0sMTApO3JldHVybiBuIT1uPy0xOm59KGFyZ3VtZW50c1swXSksYT0ocD1pLGQ9NjU1MzYsXCJmaXJlZm94XCI9PT1uLmJyb3dzZXImJihkPW4udmVyc2lvbjw1Nz8tMT09PXA/MTYzODQ6MjE0NzQ4MzYzNzpuLnZlcnNpb248NjA/NTc9PT1uLnZlcnNpb24/NjU1MzU6NjU1MzY6MjE0NzQ4MzYzNyksZCksYz1mdW5jdGlvbih0LG8pe3ZhciByPTY1NTM2O1wiZmlyZWZveFwiPT09bi5icm93c2VyJiY1Nz09PW4udmVyc2lvbiYmKHI9NjU1MzUpO3ZhciBpPWUuZGVmYXVsdC5tYXRjaFByZWZpeCh0LnNkcCxcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIik7cmV0dXJuIGkubGVuZ3RoPjA/cj1wYXJzZUludChpWzBdLnN1YnN0cigxOSksMTApOlwiZmlyZWZveFwiPT09bi5icm93c2VyJiYtMSE9PW8mJihyPTIxNDc0ODM2MzcpLHJ9KGFyZ3VtZW50c1swXSxpKTtyPTA9PT1hJiYwPT09Yz9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk6MD09PWF8fDA9PT1jP01hdGgubWF4KGEsYyk6TWF0aC5taW4oYSxjKTt2YXIgcz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcIm1heE1lc3NhZ2VTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiByfX0pLHRoaXMuX3NjdHA9c312YXIgcCxkO3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIHMoZSl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbiYmXCJjcmVhdGVEYXRhQ2hhbm5lbFwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpe3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsPWZ1bmN0aW9uKCl7dmFyIGU9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG8oZSx0aGlzKSxlfSx0LndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KGUsXCJkYXRhY2hhbm5lbFwiLGZ1bmN0aW9uKGUpe3JldHVybiBvKGUuY2hhbm5lbCxlLnRhcmdldCksZX0pfWZ1bmN0aW9uIG8oZSx0KXt2YXIgbj1lLnNlbmQ7ZS5zZW5kPWZ1bmN0aW9uKCl7dmFyIG89YXJndW1lbnRzWzBdLHI9by5sZW5ndGh8fG8uc2l6ZXx8by5ieXRlTGVuZ3RoO2lmKFwib3BlblwiPT09ZS5yZWFkeVN0YXRlJiZ0LnNjdHAmJnI+dC5zY3RwLm1heE1lc3NhZ2VTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNZXNzYWdlIHRvbyBsYXJnZSAoY2FuIHNlbmQgYSBtYXhpbXVtIG9mIFwiK3Quc2N0cC5tYXhNZXNzYWdlU2l6ZStcIiBieXRlcylcIik7cmV0dXJuIG4uYXBwbHkoZSxhcmd1bWVudHMpfX19ZnVuY3Rpb24gcChlKXtpZihlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwiY29ubmVjdGlvblN0YXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY29ubmVjdGlvblN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybntjb21wbGV0ZWQ6XCJjb25uZWN0ZWRcIixjaGVja2luZzpcImNvbm5lY3RpbmdcIn1bdGhpcy5pY2VDb25uZWN0aW9uU3RhdGVdfHx0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZXx8bnVsbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGRlbGV0ZSB0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSksZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10W2VdO3RbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seXx8KHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYodC5fbGFzdENvbm5lY3Rpb25TdGF0ZSE9PXQuY29ubmVjdGlvblN0YXRlKXt0Ll9sYXN0Q29ubmVjdGlvblN0YXRlPXQuY29ubmVjdGlvblN0YXRlO3ZhciBuPW5ldyBFdmVudChcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLGUpO3QuZGlzcGF0Y2hFdmVudChuKX1yZXR1cm4gZX0sdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seSkpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfX1mdW5jdGlvbiBkKGUsdCl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImNocm9tZVwiPT09dC5icm93c2VyJiZ0LnZlcnNpb24+PTcxfHxcInNhZmFyaVwiPT09dC5icm93c2VyJiZ0LnZlcnNpb24+PTYwNSkpe3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKHQpe2lmKHQmJnQuc2RwJiYtMSE9PXQuc2RwLmluZGV4T2YoXCJcXG5hPWV4dG1hcC1hbGxvdy1taXhlZFwiKSl7dmFyIG89dC5zZHAuc3BsaXQoXCJcXG5cIikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiYT1leHRtYXAtYWxsb3ctbWl4ZWRcIiE9PWUudHJpbSgpfSkuam9pbihcIlxcblwiKTtlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiYmdCBpbnN0YW5jZW9mIGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uP2FyZ3VtZW50c1swXT1uZXcgZS5SVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6dC50eXBlLHNkcDpvfSk6dC5zZHA9b31yZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiB1KGUsdCl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpe3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtuJiYwIT09bi5sZW5ndGgmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPyhcImNocm9tZVwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Nzh8fFwiZmlyZWZveFwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Njh8fFwic2FmYXJpXCI9PT10LmJyb3dzZXIpJiZhcmd1bWVudHNbMF0mJlwiXCI9PT1hcmd1bWVudHNbMF0uY2FuZGlkYXRlP1Byb21pc2UucmVzb2x2ZSgpOm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9KX19XG59LHtcInNkcFwiOlwiWUh2aFwiLFwiLi91dGlsc1wiOlwiaVN4Q1wifV0sXCJLdGxHXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuYWRhcHRlckZhY3Rvcnk9bzt2YXIgZT1tKHJlcXVpcmUoXCIuL3V0aWxzXCIpKSxpPW0ocmVxdWlyZShcIi4vY2hyb21lL2Nocm9tZV9zaGltXCIpKSxyPW0ocmVxdWlyZShcIi4vZWRnZS9lZGdlX3NoaW1cIikpLHM9bShyZXF1aXJlKFwiLi9maXJlZm94L2ZpcmVmb3hfc2hpbVwiKSksdD1tKHJlcXVpcmUoXCIuL3NhZmFyaS9zYWZhcmlfc2hpbVwiKSksYT1tKHJlcXVpcmUoXCIuL2NvbW1vbl9zaGltXCIpKTtmdW5jdGlvbiBuKCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcDtyZXR1cm4gbj1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIG0oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm57ZGVmYXVsdDplfTt2YXIgaT1uKCk7aWYoaSYmaS5oYXMoZSkpcmV0dXJuIGkuZ2V0KGUpO3ZhciByPXt9LHM9T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXt2YXIgYT1zP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTpudWxsO2EmJihhLmdldHx8YS5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLHQsYSk6clt0XT1lW3RdfXJldHVybiByLmRlZmF1bHQ9ZSxpJiZpLnNldChlLHIpLHJ9ZnVuY3Rpb24gbygpe3Zhcnt3aW5kb3c6bn09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOntzaGltQ2hyb21lOiEwLHNoaW1GaXJlZm94OiEwLHNoaW1FZGdlOiEwLHNoaW1TYWZhcmk6ITB9LG89ZS5sb2csaD1lLmRldGVjdEJyb3dzZXIobiksZD17YnJvd3NlckRldGFpbHM6aCxjb21tb25TaGltOmEsZXh0cmFjdFZlcnNpb246ZS5leHRyYWN0VmVyc2lvbixkaXNhYmxlTG9nOmUuZGlzYWJsZUxvZyxkaXNhYmxlV2FybmluZ3M6ZS5kaXNhYmxlV2FybmluZ3N9O3N3aXRjaChoLmJyb3dzZXIpe2Nhc2VcImNocm9tZVwiOmlmKCFpfHwhaS5zaGltUGVlckNvbm5lY3Rpb258fCFtLnNoaW1DaHJvbWUpcmV0dXJuIG8oXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGQ7aWYobnVsbD09PWgudmVyc2lvbilyZXR1cm4gbyhcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIiksZDtvKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLGQuYnJvd3NlclNoaW09aSxhLnNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eShuLGgpLGkuc2hpbUdldFVzZXJNZWRpYShuLGgpLGkuc2hpbU1lZGlhU3RyZWFtKG4saCksaS5zaGltUGVlckNvbm5lY3Rpb24obixoKSxpLnNoaW1PblRyYWNrKG4saCksaS5zaGltQWRkVHJhY2tSZW1vdmVUcmFjayhuLGgpLGkuc2hpbUdldFNlbmRlcnNXaXRoRHRtZihuLGgpLGkuc2hpbUdldFN0YXRzKG4saCksaS5zaGltU2VuZGVyUmVjZWl2ZXJHZXRTdGF0cyhuLGgpLGkuZml4TmVnb3RpYXRpb25OZWVkZWQobixoKSxhLnNoaW1SVENJY2VDYW5kaWRhdGUobixoKSxhLnNoaW1Db25uZWN0aW9uU3RhdGUobixoKSxhLnNoaW1NYXhNZXNzYWdlU2l6ZShuLGgpLGEuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcihuLGgpLGEucmVtb3ZlRXh0bWFwQWxsb3dNaXhlZChuLGgpO2JyZWFrO2Nhc2VcImZpcmVmb3hcIjppZighc3x8IXMuc2hpbVBlZXJDb25uZWN0aW9ufHwhbS5zaGltRmlyZWZveClyZXR1cm4gbyhcIkZpcmVmb3ggc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGQ7byhcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksZC5icm93c2VyU2hpbT1zLGEuc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5KG4saCkscy5zaGltR2V0VXNlck1lZGlhKG4saCkscy5zaGltUGVlckNvbm5lY3Rpb24obixoKSxzLnNoaW1PblRyYWNrKG4saCkscy5zaGltUmVtb3ZlU3RyZWFtKG4saCkscy5zaGltU2VuZGVyR2V0U3RhdHMobixoKSxzLnNoaW1SZWNlaXZlckdldFN0YXRzKG4saCkscy5zaGltUlRDRGF0YUNoYW5uZWwobixoKSxzLnNoaW1BZGRUcmFuc2NlaXZlcihuLGgpLHMuc2hpbUdldFBhcmFtZXRlcnMobixoKSxzLnNoaW1DcmVhdGVPZmZlcihuLGgpLHMuc2hpbUNyZWF0ZUFuc3dlcihuLGgpLGEuc2hpbVJUQ0ljZUNhbmRpZGF0ZShuLGgpLGEuc2hpbUNvbm5lY3Rpb25TdGF0ZShuLGgpLGEuc2hpbU1heE1lc3NhZ2VTaXplKG4saCksYS5zaGltU2VuZFRocm93VHlwZUVycm9yKG4saCk7YnJlYWs7Y2FzZVwiZWRnZVwiOmlmKCFyfHwhci5zaGltUGVlckNvbm5lY3Rpb258fCFtLnNoaW1FZGdlKXJldHVybiBvKFwiTVMgZWRnZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIiksZDtvKFwiYWRhcHRlci5qcyBzaGltbWluZyBlZGdlLlwiKSxkLmJyb3dzZXJTaGltPXIsci5zaGltR2V0VXNlck1lZGlhKG4saCksci5zaGltR2V0RGlzcGxheU1lZGlhKG4saCksci5zaGltUGVlckNvbm5lY3Rpb24obixoKSxyLnNoaW1SZXBsYWNlVHJhY2sobixoKSxhLnNoaW1NYXhNZXNzYWdlU2l6ZShuLGgpLGEuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcihuLGgpO2JyZWFrO2Nhc2VcInNhZmFyaVwiOmlmKCF0fHwhbS5zaGltU2FmYXJpKXJldHVybiBvKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxkO28oXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksZC5icm93c2VyU2hpbT10LGEuc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5KG4saCksdC5zaGltUlRDSWNlU2VydmVyVXJscyhuLGgpLHQuc2hpbUNyZWF0ZU9mZmVyTGVnYWN5KG4saCksdC5zaGltQ2FsbGJhY2tzQVBJKG4saCksdC5zaGltTG9jYWxTdHJlYW1zQVBJKG4saCksdC5zaGltUmVtb3RlU3RyZWFtc0FQSShuLGgpLHQuc2hpbVRyYWNrRXZlbnRUcmFuc2NlaXZlcihuLGgpLHQuc2hpbUdldFVzZXJNZWRpYShuLGgpLHQuc2hpbUF1ZGlvQ29udGV4dChuLGgpLGEuc2hpbVJUQ0ljZUNhbmRpZGF0ZShuLGgpLGEuc2hpbU1heE1lc3NhZ2VTaXplKG4saCksYS5zaGltU2VuZFRocm93VHlwZUVycm9yKG4saCksYS5yZW1vdmVFeHRtYXBBbGxvd01peGVkKG4saCk7YnJlYWs7ZGVmYXVsdDpvKFwiVW5zdXBwb3J0ZWQgYnJvd3NlciFcIil9cmV0dXJuIGR9XG59LHtcIi4vdXRpbHNcIjpcImlTeENcIixcIi4vY2hyb21lL2Nocm9tZV9zaGltXCI6XCJ1STVYXCIsXCIuL2VkZ2UvZWRnZV9zaGltXCI6XCJYUmljXCIsXCIuL2ZpcmVmb3gvZmlyZWZveF9zaGltXCI6XCJGemRyXCIsXCIuL3NhZmFyaS9zYWZhcmlfc2hpbVwiOlwidDFsTFwiLFwiLi9jb21tb25fc2hpbVwiOlwiR09RS1wifV0sXCJ0STFYXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD12b2lkIDA7dmFyIGU9cmVxdWlyZShcIi4vYWRhcHRlcl9mYWN0b3J5LmpzXCIpLHQ9KDAsZS5hZGFwdGVyRmFjdG9yeSkoe3dpbmRvdzpcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P3ZvaWQgMDp3aW5kb3d9KSxkPXQ7ZXhwb3J0cy5kZWZhdWx0PWQ7XG59LHtcIi4vYWRhcHRlcl9mYWN0b3J5LmpzXCI6XCJLdGxHXCJ9XSxcInNYdFZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy53ZWJSVENBZGFwdGVyPXZvaWQgMDt2YXIgdD1lKHJlcXVpcmUoXCJ3ZWJydGMtYWRhcHRlclwiKSk7ZXhwb3J0cy53ZWJSVENBZGFwdGVyPXQuZGVmYXVsdDtcbn0se1wid2VicnRjLWFkYXB0ZXJcIjpcInRJMVhcIn1dLFwiSTMxZlwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlN1cHBvcnRzPXZvaWQgMDt2YXIgcj1yZXF1aXJlKFwiLi9hZGFwdGVyXCIpO2V4cG9ydHMuU3VwcG9ydHM9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaXNJT1M9W1wiaVBhZFwiLFwiaVBob25lXCIsXCJpUG9kXCJdLmluY2x1ZGVzKG5hdmlnYXRvci5wbGF0Zm9ybSksdGhpcy5zdXBwb3J0ZWRCcm93c2Vycz1bXCJmaXJlZm94XCIsXCJjaHJvbWVcIixcInNhZmFyaVwiXSx0aGlzLm1pbkZpcmVmb3hWZXJzaW9uPTU5LHRoaXMubWluQ2hyb21lVmVyc2lvbj03Mix0aGlzLm1pblNhZmFyaVZlcnNpb249NjA1fXJldHVybiBlLnByb3RvdHlwZS5pc1dlYlJUQ1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbn0sZS5wcm90b3R5cGUuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5nZXRCcm93c2VyKCksZT10aGlzLmdldFZlcnNpb24oKTtyZXR1cm4hIXRoaXMuc3VwcG9ydGVkQnJvd3NlcnMuaW5jbHVkZXMocikmJihcImNocm9tZVwiPT09cj9lPj10aGlzLm1pbkNocm9tZVZlcnNpb246XCJmaXJlZm94XCI9PT1yP2U+PXRoaXMubWluRmlyZWZveFZlcnNpb246XCJzYWZhcmlcIj09PXImJighdGhpcy5pc0lPUyYmZT49dGhpcy5taW5TYWZhcmlWZXJzaW9uKSl9LGUucHJvdG90eXBlLmdldEJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4gci53ZWJSVENBZGFwdGVyLmJyb3dzZXJEZXRhaWxzLmJyb3dzZXJ9LGUucHJvdG90eXBlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gci53ZWJSVENBZGFwdGVyLmJyb3dzZXJEZXRhaWxzLnZlcnNpb258fDB9LGUucHJvdG90eXBlLmlzVW5pZmllZFBsYW5TdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXMuZ2V0QnJvd3NlcigpLHQ9ci53ZWJSVENBZGFwdGVyLmJyb3dzZXJEZXRhaWxzLnZlcnNpb258fDA7aWYoXCJjaHJvbWVcIj09PWkmJnQ8NzIpcmV0dXJuITE7aWYoXCJmaXJlZm94XCI9PT1pJiZ0Pj01OSlyZXR1cm4hMDtpZighKHdpbmRvdy5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUpKXJldHVybiExO3ZhciBvPSExO3RyeXsoZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24pLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksbz0hMH1jYXRjaChzKXt9ZmluYWxseXtlJiZlLmNsb3NlKCl9cmV0dXJuIG99LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJTdXBwb3J0czogXFxuICAgIGJyb3dzZXI6XCIrdGhpcy5nZXRCcm93c2VyKCkrXCIgXFxuICAgIHZlcnNpb246XCIrdGhpcy5nZXRWZXJzaW9uKCkrXCIgXFxuICAgIGlzSU9TOlwiK3RoaXMuaXNJT1MrXCIgXFxuICAgIGlzV2ViUlRDU3VwcG9ydGVkOlwiK3RoaXMuaXNXZWJSVENTdXBwb3J0ZWQoKStcIiBcXG4gICAgaXNCcm93c2VyU3VwcG9ydGVkOlwiK3RoaXMuaXNCcm93c2VyU3VwcG9ydGVkKCkrXCIgXFxuICAgIGlzVW5pZmllZFBsYW5TdXBwb3J0ZWQ6XCIrdGhpcy5pc1VuaWZpZWRQbGFuU3VwcG9ydGVkKCl9LGV9KCkpO1xufSx7XCIuL2FkYXB0ZXJcIjpcInNYdFZcIn1dLFwiQkhYZlwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgZT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LHIsbyl7dm9pZCAwPT09byYmKG89ciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbyx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtyXX19KX06ZnVuY3Rpb24oZSx0LHIsbyl7dm9pZCAwPT09byYmKG89ciksZVtvXT10W3JdfSksdD10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSl9OmZ1bmN0aW9uKGUsdCl7ZS5kZWZhdWx0PXR9KSxyPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihyKXtpZihyJiZyLl9fZXNNb2R1bGUpcmV0dXJuIHI7dmFyIG89e307aWYobnVsbCE9cilmb3IodmFyIG4gaW4gcilcImRlZmF1bHRcIiE9PW4mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiZlKG8scixuKTtyZXR1cm4gdChvLHIpLG99O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMudXRpbD12b2lkIDA7dmFyIG89cihyZXF1aXJlKFwicGVlcmpzLWpzLWJpbmFyeXBhY2tcIikpLG49cmVxdWlyZShcIi4vc3VwcG9ydHNcIiksaT17aWNlU2VydmVyczpbe3VybHM6XCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCJ9LHt1cmxzOlwidHVybjowLnBlZXJqcy5jb206MzQ3OFwiLHVzZXJuYW1lOlwicGVlcmpzXCIsY3JlZGVudGlhbDpcInBlZXJqc3BcIn1dLHNkcFNlbWFudGljczpcInVuaWZpZWQtcGxhblwifTtleHBvcnRzLnV0aWw9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuQ0xPVURfSE9TVD1cIjAucGVlcmpzLmNvbVwiLHRoaXMuQ0xPVURfUE9SVD00NDMsdGhpcy5jaHVua2VkQnJvd3NlcnM9e0Nocm9tZToxLGNocm9tZToxfSx0aGlzLmNodW5rZWRNVFU9MTYzMDAsdGhpcy5kZWZhdWx0Q29uZmlnPWksdGhpcy5icm93c2VyPW4uU3VwcG9ydHMuZ2V0QnJvd3NlcigpLHRoaXMuYnJvd3NlclZlcnNpb249bi5TdXBwb3J0cy5nZXRWZXJzaW9uKCksdGhpcy5zdXBwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQ9e2Jyb3dzZXI6bi5TdXBwb3J0cy5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSx3ZWJSVEM6bi5TdXBwb3J0cy5pc1dlYlJUQ1N1cHBvcnRlZCgpLGF1ZGlvVmlkZW86ITEsZGF0YTohMSxiaW5hcnlCbG9iOiExLHJlbGlhYmxlOiExfTtpZighdC53ZWJSVEMpcmV0dXJuIHQ7dHJ5e2U9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKGkpLHQuYXVkaW9WaWRlbz0hMDt2YXIgcj12b2lkIDA7dHJ5e3I9ZS5jcmVhdGVEYXRhQ2hhbm5lbChcIl9QRUVSSlNURVNUXCIse29yZGVyZWQ6ITB9KSx0LmRhdGE9ITAsdC5yZWxpYWJsZT0hIXIub3JkZXJlZDt0cnl7ci5iaW5hcnlUeXBlPVwiYmxvYlwiLHQuYmluYXJ5QmxvYj0hbi5TdXBwb3J0cy5pc0lPU31jYXRjaChvKXt9fWNhdGNoKG8pe31maW5hbGx5e3ImJnIuY2xvc2UoKX19Y2F0Y2gobyl7fWZpbmFsbHl7ZSYmZS5jbG9zZSgpfXJldHVybiB0fSgpLHRoaXMucGFjaz1vLnBhY2ssdGhpcy51bnBhY2s9by51bnBhY2ssdGhpcy5fZGF0YUNvdW50PTF9cmV0dXJuIGUucHJvdG90eXBlLm5vb3A9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnZhbGlkYXRlSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fC9eW0EtWmEtejAtOV0rKD86WyBfLV1bQS1aYS16MC05XSspKiQvLnRlc3QoZSl9LGUucHJvdG90eXBlLmNodW5rPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPWUuc2l6ZSxvPU1hdGguY2VpbChyL2V4cG9ydHMudXRpbC5jaHVua2VkTVRVKSxuPTAsaT0wO2k8cjspe3ZhciBhPU1hdGgubWluKHIsaStleHBvcnRzLnV0aWwuY2h1bmtlZE1UVSksdT1lLnNsaWNlKGksYSkscz17X19wZWVyRGF0YTp0aGlzLl9kYXRhQ291bnQsbjpuLGRhdGE6dSx0b3RhbDpvfTt0LnB1c2gocyksaT1hLG4rK31yZXR1cm4gdGhpcy5fZGF0YUNvdW50KyssdH0sZS5wcm90b3R5cGUuYmxvYlRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gci5vbmxvYWQ9ZnVuY3Rpb24oZSl7ZS50YXJnZXQmJnQoZS50YXJnZXQucmVzdWx0KX0sci5yZWFkQXNBcnJheUJ1ZmZlcihlKSxyfSxlLnByb3RvdHlwZS5iaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7cisrKXRbcl09MjU1JmUuY2hhckNvZGVBdChyKTtyZXR1cm4gdC5idWZmZXJ9LGUucHJvdG90eXBlLnJhbmRvbVRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKX0sZS5wcm90b3R5cGUuaXNTZWN1cmU9ZnVuY3Rpb24oKXtyZXR1cm5cImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2x9LGV9KCkpO1xufSx7XCJwZWVyanMtanMtYmluYXJ5cGFja1wiOlwia2RQcFwiLFwiLi9zdXBwb3J0c1wiOlwiSTMxZlwifV0sXCJKSmxTXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD1cIn5cIjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIHIoZSx0LG4pe3RoaXMuZm49ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLm9uY2U9bnx8ITF9ZnVuY3Rpb24gbyhlLG4sbyxzLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIGM9bmV3IHIobyxzfHxlLGkpLGY9dD90K246bjtyZXR1cm4gZS5fZXZlbnRzW2ZdP2UuX2V2ZW50c1tmXS5mbj9lLl9ldmVudHNbZl09W2UuX2V2ZW50c1tmXSxjXTplLl9ldmVudHNbZl0ucHVzaChjKTooZS5fZXZlbnRzW2ZdPWMsZS5fZXZlbnRzQ291bnQrKyksZX1mdW5jdGlvbiBzKGUsdCl7MD09LS1lLl9ldmVudHNDb3VudD9lLl9ldmVudHM9bmV3IG46ZGVsZXRlIGUuX2V2ZW50c1t0XX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPW5ldyBuLHRoaXMuX2V2ZW50c0NvdW50PTB9T2JqZWN0LmNyZWF0ZSYmKG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCksKG5ldyBuKS5fX3Byb3RvX198fCh0PSExKSksaS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3ZhciBuLHIsbz1bXTtpZigwPT09dGhpcy5fZXZlbnRzQ291bnQpcmV0dXJuIG87Zm9yKHIgaW4gbj10aGlzLl9ldmVudHMpZS5jYWxsKG4scikmJm8ucHVzaCh0P3Iuc2xpY2UoMSk6cik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/by5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKSk6b30saS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciBuPXQ/dCtlOmUscj10aGlzLl9ldmVudHNbbl07aWYoIXIpcmV0dXJuW107aWYoci5mbilyZXR1cm5bci5mbl07Zm9yKHZhciBvPTAscz1yLmxlbmd0aCxpPW5ldyBBcnJheShzKTtvPHM7bysrKWlbb109cltvXS5mbjtyZXR1cm4gaX0saS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXt2YXIgbj10P3QrZTplLHI9dGhpcy5fZXZlbnRzW25dO3JldHVybiByP3IuZm4/MTpyLmxlbmd0aDowfSxpLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUsbixyLG8scyxpKXt2YXIgYz10P3QrZTplO2lmKCF0aGlzLl9ldmVudHNbY10pcmV0dXJuITE7dmFyIGYsdSxhPXRoaXMuX2V2ZW50c1tjXSxsPWFyZ3VtZW50cy5sZW5ndGg7aWYoYS5mbil7c3dpdGNoKGEub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGEuZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQpLCEwO2Nhc2UgMjpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCxuKSwhMDtjYXNlIDM6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyKSwhMDtjYXNlIDQ6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyLG8pLCEwO2Nhc2UgNTpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCxuLHIsbyxzKSwhMDtjYXNlIDY6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyLG8scyxpKSwhMH1mb3IodT0xLGY9bmV3IEFycmF5KGwtMSk7dTxsO3UrKylmW3UtMV09YXJndW1lbnRzW3VdO2EuZm4uYXBwbHkoYS5jb250ZXh0LGYpfWVsc2V7dmFyIHYsaD1hLmxlbmd0aDtmb3IodT0wO3U8aDt1Kyspc3dpdGNoKGFbdV0ub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGFbdV0uZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6YVt1XS5mbi5jYWxsKGFbdV0uY29udGV4dCk7YnJlYWs7Y2FzZSAyOmFbdV0uZm4uY2FsbChhW3VdLmNvbnRleHQsbik7YnJlYWs7Y2FzZSAzOmFbdV0uZm4uY2FsbChhW3VdLmNvbnRleHQsbixyKTticmVhaztjYXNlIDQ6YVt1XS5mbi5jYWxsKGFbdV0uY29udGV4dCxuLHIsbyk7YnJlYWs7ZGVmYXVsdDppZighZilmb3Iodj0xLGY9bmV3IEFycmF5KGwtMSk7djxsO3YrKylmW3YtMV09YXJndW1lbnRzW3ZdO2FbdV0uZm4uYXBwbHkoYVt1XS5jb250ZXh0LGYpfX1yZXR1cm4hMH0saS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvKHRoaXMsZSx0LG4sITEpfSxpLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbyh0aGlzLGUsdCxuLCEwKX0saS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dD90K2U6ZTtpZighdGhpcy5fZXZlbnRzW2ldKXJldHVybiB0aGlzO2lmKCFuKXJldHVybiBzKHRoaXMsaSksdGhpczt2YXIgYz10aGlzLl9ldmVudHNbaV07aWYoYy5mbiljLmZuIT09bnx8byYmIWMub25jZXx8ciYmYy5jb250ZXh0IT09cnx8cyh0aGlzLGkpO2Vsc2V7Zm9yKHZhciBmPTAsdT1bXSxhPWMubGVuZ3RoO2Y8YTtmKyspKGNbZl0uZm4hPT1ufHxvJiYhY1tmXS5vbmNlfHxyJiZjW2ZdLmNvbnRleHQhPT1yKSYmdS5wdXNoKGNbZl0pO3UubGVuZ3RoP3RoaXMuX2V2ZW50c1tpXT0xPT09dS5sZW5ndGg/dVswXTp1OnModGhpcyxpKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciByO3JldHVybiBlPyhyPXQ/dCtlOmUsdGhpcy5fZXZlbnRzW3JdJiZzKHRoaXMscikpOih0aGlzLl9ldmVudHM9bmV3IG4sdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpc30saS5wcm90b3R5cGUub2ZmPWkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGkucHJvdG90eXBlLmFkZExpc3RlbmVyPWkucHJvdG90eXBlLm9uLGkucHJlZml4ZWQ9dCxpLkV2ZW50RW1pdHRlcj1pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1pKTtcbn0se31dLFwiV09zOVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24ocixlKXt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnJbU3ltYm9sLml0ZXJhdG9yXTtpZighbylyZXR1cm4gcjt2YXIgdCxuLGw9by5jYWxsKHIpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEodD1sLm5leHQoKSkuZG9uZTspaS5wdXNoKHQudmFsdWUpfWNhdGNoKHMpe249e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e3QmJiF0LmRvbmUmJihvPWwucmV0dXJuKSYmby5jYWxsKGwpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gaX0sZT10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKHIsZSl7Zm9yKHZhciBvPTAsdD1lLmxlbmd0aCxuPXIubGVuZ3RoO288dDtvKyssbisrKXJbbl09ZVtvXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5Mb2dMZXZlbD12b2lkIDA7dmFyIG8sdD1cIlBlZXJKUzogXCI7IWZ1bmN0aW9uKHIpe3Jbci5EaXNhYmxlZD0wXT1cIkRpc2FibGVkXCIscltyLkVycm9ycz0xXT1cIkVycm9yc1wiLHJbci5XYXJuaW5ncz0yXT1cIldhcm5pbmdzXCIscltyLkFsbD0zXT1cIkFsbFwifShvPWV4cG9ydHMuTG9nTGV2ZWx8fChleHBvcnRzLkxvZ0xldmVsPXt9KSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy5fbG9nTGV2ZWw9by5EaXNhYmxlZH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwibG9nTGV2ZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ0xldmVsfSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5fbG9nTGV2ZWw9cn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxuLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dGhpcy5fbG9nTGV2ZWw+PW8uQWxsJiZ0aGlzLl9wcmludC5hcHBseSh0aGlzLGUoW28uQWxsXSxyKHQpKSl9LG4ucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dGhpcy5fbG9nTGV2ZWw+PW8uV2FybmluZ3MmJnRoaXMuX3ByaW50LmFwcGx5KHRoaXMsZShbby5XYXJuaW5nc10scih0KSkpfSxuLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTt0aGlzLl9sb2dMZXZlbD49by5FcnJvcnMmJnRoaXMuX3ByaW50LmFwcGx5KHRoaXMsZShbby5FcnJvcnNdLHIodCkpKX0sbi5wcm90b3R5cGUuc2V0TG9nRnVuY3Rpb249ZnVuY3Rpb24ocil7dGhpcy5fcHJpbnQ9cn0sbi5wcm90b3R5cGUuX3ByaW50PWZ1bmN0aW9uKG4pe2Zvcih2YXIgbD1bXSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKylsW2ktMV09YXJndW1lbnRzW2ldO3ZhciBzPWUoW3RdLHIobCkpO2Zvcih2YXIgYSBpbiBzKXNbYV1pbnN0YW5jZW9mIEVycm9yJiYoc1thXT1cIihcIitzW2FdLm5hbWUrXCIpIFwiK3NbYV0ubWVzc2FnZSk7bj49by5BbGw/Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxlKFtdLHIocykpKTpuPj1vLldhcm5pbmdzP2NvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLGUoW1wiV0FSTklOR1wiXSxyKHMpKSk6bj49by5FcnJvcnMmJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxlKFtcIkVSUk9SXCJdLHIocykpKX0sbn0oKTtleHBvcnRzLmRlZmF1bHQ9bmV3IG47XG59LHt9XSxcIlpSWWZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGUscixvLG4sdCxhLGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TZXJ2ZXJNZXNzYWdlVHlwZT1leHBvcnRzLlNvY2tldEV2ZW50VHlwZT1leHBvcnRzLlNlcmlhbGl6YXRpb25UeXBlPWV4cG9ydHMuUGVlckVycm9yVHlwZT1leHBvcnRzLlBlZXJFdmVudFR5cGU9ZXhwb3J0cy5Db25uZWN0aW9uVHlwZT1leHBvcnRzLkNvbm5lY3Rpb25FdmVudFR5cGU9dm9pZCAwLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLlN0cmVhbT1cInN0cmVhbVwiLGUuRGF0YT1cImRhdGFcIixlLkNsb3NlPVwiY2xvc2VcIixlLkVycm9yPVwiZXJyb3JcIixlLkljZVN0YXRlQ2hhbmdlZD1cImljZVN0YXRlQ2hhbmdlZFwifShlPWV4cG9ydHMuQ29ubmVjdGlvbkV2ZW50VHlwZXx8KGV4cG9ydHMuQ29ubmVjdGlvbkV2ZW50VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuRGF0YT1cImRhdGFcIixlLk1lZGlhPVwibWVkaWFcIn0ocj1leHBvcnRzLkNvbm5lY3Rpb25UeXBlfHwoZXhwb3J0cy5Db25uZWN0aW9uVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLkNsb3NlPVwiY2xvc2VcIixlLkNvbm5lY3Rpb249XCJjb25uZWN0aW9uXCIsZS5DYWxsPVwiY2FsbFwiLGUuRGlzY29ubmVjdGVkPVwiZGlzY29ubmVjdGVkXCIsZS5FcnJvcj1cImVycm9yXCJ9KG89ZXhwb3J0cy5QZWVyRXZlbnRUeXBlfHwoZXhwb3J0cy5QZWVyRXZlbnRUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VySW5jb21wYXRpYmxlPVwiYnJvd3Nlci1pbmNvbXBhdGlibGVcIixlLkRpc2Nvbm5lY3RlZD1cImRpc2Nvbm5lY3RlZFwiLGUuSW52YWxpZElEPVwiaW52YWxpZC1pZFwiLGUuSW52YWxpZEtleT1cImludmFsaWQta2V5XCIsZS5OZXR3b3JrPVwibmV0d29ya1wiLGUuUGVlclVuYXZhaWxhYmxlPVwicGVlci11bmF2YWlsYWJsZVwiLGUuU3NsVW5hdmFpbGFibGU9XCJzc2wtdW5hdmFpbGFibGVcIixlLlNlcnZlckVycm9yPVwic2VydmVyLWVycm9yXCIsZS5Tb2NrZXRFcnJvcj1cInNvY2tldC1lcnJvclwiLGUuU29ja2V0Q2xvc2VkPVwic29ja2V0LWNsb3NlZFwiLGUuVW5hdmFpbGFibGVJRD1cInVuYXZhaWxhYmxlLWlkXCIsZS5XZWJSVEM9XCJ3ZWJydGNcIn0obj1leHBvcnRzLlBlZXJFcnJvclR5cGV8fChleHBvcnRzLlBlZXJFcnJvclR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkJpbmFyeT1cImJpbmFyeVwiLGUuQmluYXJ5VVRGOD1cImJpbmFyeS11dGY4XCIsZS5KU09OPVwianNvblwifSh0PWV4cG9ydHMuU2VyaWFsaXphdGlvblR5cGV8fChleHBvcnRzLlNlcmlhbGl6YXRpb25UeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5NZXNzYWdlPVwibWVzc2FnZVwiLGUuRGlzY29ubmVjdGVkPVwiZGlzY29ubmVjdGVkXCIsZS5FcnJvcj1cImVycm9yXCIsZS5DbG9zZT1cImNsb3NlXCJ9KGE9ZXhwb3J0cy5Tb2NrZXRFdmVudFR5cGV8fChleHBvcnRzLlNvY2tldEV2ZW50VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuSGVhcnRiZWF0PVwiSEVBUlRCRUFUXCIsZS5DYW5kaWRhdGU9XCJDQU5ESURBVEVcIixlLk9mZmVyPVwiT0ZGRVJcIixlLkFuc3dlcj1cIkFOU1dFUlwiLGUuT3Blbj1cIk9QRU5cIixlLkVycm9yPVwiRVJST1JcIixlLklkVGFrZW49XCJJRC1UQUtFTlwiLGUuSW52YWxpZEtleT1cIklOVkFMSUQtS0VZXCIsZS5MZWF2ZT1cIkxFQVZFXCIsZS5FeHBpcmU9XCJFWFBJUkVcIn0oaT1leHBvcnRzLlNlcnZlck1lc3NhZ2VUeXBlfHwoZXhwb3J0cy5TZXJ2ZXJNZXNzYWdlVHlwZT17fSkpO1xufSx7fV0sXCJ3Smx2XCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSkodCxuKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmbnVsbCE9PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKG4pK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gbygpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooby5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IG8pfX0oKSx0PXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiBlO3ZhciBvLHMscj1uLmNhbGwoZSksaT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShvPXIubmV4dCgpKS5kb25lOylpLnB1c2goby52YWx1ZSl9Y2F0Y2goYyl7cz17ZXJyb3I6Y319ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49ci5yZXR1cm4pJiZuLmNhbGwocil9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9fXJldHVybiBpfSxuPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxvPXQubGVuZ3RoLHM9ZS5sZW5ndGg7bjxvO24rKyxzKyspZVtzXT10W25dO3JldHVybiBlfSxvPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49dCYmZVt0XSxvPTA7aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZvPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtvKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5Tb2NrZXQ9dm9pZCAwO3ZhciByPXJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpLGk9cyhyZXF1aXJlKFwiLi9sb2dnZXJcIikpLGM9cmVxdWlyZShcIi4vZW51bXNcIiksYT1mdW5jdGlvbihzKXtmdW5jdGlvbiByKGUsdCxuLG8scixpKXt2b2lkIDA9PT1pJiYoaT01ZTMpO3ZhciBjPXMuY2FsbCh0aGlzKXx8dGhpcztjLnBpbmdJbnRlcnZhbD1pLGMuX2Rpc2Nvbm5lY3RlZD0hMCxjLl9tZXNzYWdlc1F1ZXVlPVtdO3ZhciBhPWU/XCJ3c3M6Ly9cIjpcIndzOi8vXCI7cmV0dXJuIGMuX2Jhc2VVcmw9YSt0K1wiOlwiK24rbytcInBlZXJqcz9rZXk9XCIrcixjfXJldHVybiBlKHIscyksci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMuX2lkPWU7dmFyIG89dGhpcy5fYmFzZVVybCtcIiZpZD1cIitlK1wiJnRva2VuPVwiK3Q7IXRoaXMuX3NvY2tldCYmdGhpcy5fZGlzY29ubmVjdGVkJiYodGhpcy5fc29ja2V0PW5ldyBXZWJTb2NrZXQobyksdGhpcy5fZGlzY29ubmVjdGVkPSExLHRoaXMuX3NvY2tldC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9SlNPTi5wYXJzZShlLmRhdGEpLGkuZGVmYXVsdC5sb2coXCJTZXJ2ZXIgbWVzc2FnZSByZWNlaXZlZDpcIix0KX1jYXRjaChvKXtyZXR1cm4gdm9pZCBpLmRlZmF1bHQubG9nKFwiSW52YWxpZCBzZXJ2ZXIgbWVzc2FnZVwiLGUuZGF0YSl9bi5lbWl0KGMuU29ja2V0RXZlbnRUeXBlLk1lc3NhZ2UsdCl9LHRoaXMuX3NvY2tldC5vbmNsb3NlPWZ1bmN0aW9uKGUpe24uX2Rpc2Nvbm5lY3RlZHx8KGkuZGVmYXVsdC5sb2coXCJTb2NrZXQgY2xvc2VkLlwiLGUpLG4uX2NsZWFudXAoKSxuLl9kaXNjb25uZWN0ZWQ9ITAsbi5lbWl0KGMuU29ja2V0RXZlbnRUeXBlLkRpc2Nvbm5lY3RlZCkpfSx0aGlzLl9zb2NrZXQub25vcGVuPWZ1bmN0aW9uKCl7bi5fZGlzY29ubmVjdGVkfHwobi5fc2VuZFF1ZXVlZE1lc3NhZ2VzKCksaS5kZWZhdWx0LmxvZyhcIlNvY2tldCBvcGVuXCIpLG4uX3NjaGVkdWxlSGVhcnRiZWF0KCkpfSl9LHIucHJvdG90eXBlLl9zY2hlZHVsZUhlYXJ0YmVhdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fd3NQaW5nVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX3NlbmRIZWFydGJlYXQoKX0sdGhpcy5waW5nSW50ZXJ2YWwpfSxyLnByb3RvdHlwZS5fc2VuZEhlYXJ0YmVhdD1mdW5jdGlvbigpe2lmKHRoaXMuX3dzT3BlbigpKXt2YXIgZT1KU09OLnN0cmluZ2lmeSh7dHlwZTpjLlNlcnZlck1lc3NhZ2VUeXBlLkhlYXJ0YmVhdH0pO3RoaXMuX3NvY2tldC5zZW5kKGUpLHRoaXMuX3NjaGVkdWxlSGVhcnRiZWF0KCl9ZWxzZSBpLmRlZmF1bHQubG9nKFwiQ2Fubm90IHNlbmQgaGVhcnRiZWF0LCBiZWNhdXNlIHNvY2tldCBjbG9zZWRcIil9LHIucHJvdG90eXBlLl93c09wZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3NvY2tldCYmMT09PXRoaXMuX3NvY2tldC5yZWFkeVN0YXRlfSxyLnByb3RvdHlwZS5fc2VuZFF1ZXVlZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7dmFyIGUscyxyPW4oW10sdCh0aGlzLl9tZXNzYWdlc1F1ZXVlKSk7dGhpcy5fbWVzc2FnZXNRdWV1ZT1bXTt0cnl7Zm9yKHZhciBpPW8ociksYz1pLm5leHQoKTshYy5kb25lO2M9aS5uZXh0KCkpe3ZhciBhPWMudmFsdWU7dGhpcy5zZW5kKGEpfX1jYXRjaCh1KXtlPXtlcnJvcjp1fX1maW5hbGx5e3RyeXtjJiYhYy5kb25lJiYocz1pLnJldHVybikmJnMuY2FsbChpKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSxyLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9kaXNjb25uZWN0ZWQpaWYodGhpcy5faWQpaWYoZS50eXBlKXtpZih0aGlzLl93c09wZW4oKSl7dmFyIHQ9SlNPTi5zdHJpbmdpZnkoZSk7dGhpcy5fc29ja2V0LnNlbmQodCl9fWVsc2UgdGhpcy5lbWl0KGMuU29ja2V0RXZlbnRUeXBlLkVycm9yLFwiSW52YWxpZCBtZXNzYWdlXCIpO2Vsc2UgdGhpcy5fbWVzc2FnZXNRdWV1ZS5wdXNoKGUpfSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc2Nvbm5lY3RlZHx8KHRoaXMuX2NsZWFudXAoKSx0aGlzLl9kaXNjb25uZWN0ZWQ9ITApfSxyLnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbigpe3RoaXMuX3NvY2tldCYmKHRoaXMuX3NvY2tldC5vbm9wZW49dGhpcy5fc29ja2V0Lm9ubWVzc2FnZT10aGlzLl9zb2NrZXQub25jbG9zZT1udWxsLHRoaXMuX3NvY2tldC5jbG9zZSgpLHRoaXMuX3NvY2tldD12b2lkIDApLGNsZWFyVGltZW91dCh0aGlzLl93c1BpbmdUaW1lcil9LHJ9KHIuRXZlbnRFbWl0dGVyKTtleHBvcnRzLlNvY2tldD1hO1xufSx7XCJldmVudGVtaXR0ZXIzXCI6XCJKSmxTXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9lbnVtc1wiOlwiWlJZZlwifV0sXCJIQ2RYXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKGU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLHQ9MSxvPWFyZ3VtZW50cy5sZW5ndGg7dDxvO3QrKylmb3IodmFyIGkgaW4gbj1hcmd1bWVudHNbdF0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLG4sdCxvKXtyZXR1cm4gbmV3KHR8fCh0PVByb21pc2UpKShmdW5jdGlvbihpLHIpe2Z1bmN0aW9uIGMoZSl7dHJ5e3Moby5uZXh0KGUpKX1jYXRjaChuKXtyKG4pfX1mdW5jdGlvbiBhKGUpe3RyeXtzKG8udGhyb3coZSkpfWNhdGNoKG4pe3Iobil9fWZ1bmN0aW9uIHMoZSl7dmFyIG47ZS5kb25lP2koZS52YWx1ZSk6KG49ZS52YWx1ZSxuIGluc3RhbmNlb2YgdD9uOm5ldyB0KGZ1bmN0aW9uKGUpe2Uobil9KSkudGhlbihjLGEpfXMoKG89by5hcHBseShlLG58fFtdKSkubmV4dCgpKX0pfSx0PXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsbil7dmFyIHQsbyxpLHIsYz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscjtmdW5jdGlvbiBhKHIpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2M7KXRyeXtpZih0PTEsbyYmKGk9MiZyWzBdP28ucmV0dXJuOnJbMF0/by50aHJvd3x8KChpPW8ucmV0dXJuKSYmaS5jYWxsKG8pLDApOm8ubmV4dCkmJiEoaT1pLmNhbGwobyxyWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobz0wLGkmJihyPVsyJnJbMF0saS52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6aT1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYy5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTpjLmxhYmVsKyssbz1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPWMub3BzLnBvcCgpLGMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1jLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1yWzBdfHwyPT09clswXSkpe2M9MDtjb250aW51ZX1pZigzPT09clswXSYmKCFpfHxyWzFdPmlbMF0mJnJbMV08aVszXSkpe2MubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmYy5sYWJlbDxpWzFdKXtjLmxhYmVsPWlbMV0saT1yO2JyZWFrfWlmKGkmJmMubGFiZWw8aVsyXSl7Yy5sYWJlbD1pWzJdLGMub3BzLnB1c2gocik7YnJlYWt9aVsyXSYmYy5vcHMucG9wKCksYy50cnlzLnBvcCgpO2NvbnRpbnVlfXI9bi5jYWxsKGUsYyl9Y2F0Y2goYSl7cj1bNixhXSxvPTB9ZmluYWxseXt0PWk9MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX0oW3IsYV0pfX19LG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5OZWdvdGlhdG9yPXZvaWQgMDt2YXIgaT1yZXF1aXJlKFwiLi91dGlsXCIpLHI9byhyZXF1aXJlKFwiLi9sb2dnZXJcIikpLGM9cmVxdWlyZShcIi4vZW51bXNcIiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7dGhpcy5jb25uZWN0aW9uPWV9cmV0dXJuIG8ucHJvdG90eXBlLnN0YXJ0Q29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9zdGFydFBlZXJDb25uZWN0aW9uKCk7aWYodGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uPW4sdGhpcy5jb25uZWN0aW9uLnR5cGU9PT1jLkNvbm5lY3Rpb25UeXBlLk1lZGlhJiZlLl9zdHJlYW0mJnRoaXMuX2FkZFRyYWNrc1RvQ29ubmVjdGlvbihlLl9zdHJlYW0sbiksZS5vcmlnaW5hdG9yKXtpZih0aGlzLmNvbm5lY3Rpb24udHlwZT09PWMuQ29ubmVjdGlvblR5cGUuRGF0YSl7dmFyIHQ9dGhpcy5jb25uZWN0aW9uLG89e29yZGVyZWQ6ISFlLnJlbGlhYmxlfSxpPW4uY3JlYXRlRGF0YUNoYW5uZWwodC5sYWJlbCxvKTt0LmluaXRpYWxpemUoaSl9dGhpcy5fbWFrZU9mZmVyKCl9ZWxzZSB0aGlzLmhhbmRsZVNEUChcIk9GRkVSXCIsZS5zZHApfSxvLnByb3RvdHlwZS5fc3RhcnRQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbigpe3IuZGVmYXVsdC5sb2coXCJDcmVhdGluZyBSVENQZWVyQ29ubmVjdGlvbi5cIik7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMuY29ubmVjdGlvbi5wcm92aWRlci5vcHRpb25zLmNvbmZpZyk7cmV0dXJuIHRoaXMuX3NldHVwTGlzdGVuZXJzKGUpLGV9LG8ucHJvdG90eXBlLl9zZXR1cExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLHQ9dGhpcy5jb25uZWN0aW9uLnBlZXIsbz10aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkLGE9dGhpcy5jb25uZWN0aW9uLnR5cGUscz10aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXI7ci5kZWZhdWx0LmxvZyhcIkxpc3RlbmluZyBmb3IgSUNFIGNhbmRpZGF0ZXMuXCIpLGUub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7ZS5jYW5kaWRhdGUmJmUuY2FuZGlkYXRlLmNhbmRpZGF0ZSYmKHIuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCBJQ0UgY2FuZGlkYXRlcyBmb3IgXCIrdCtcIjpcIixlLmNhbmRpZGF0ZSkscy5zb2NrZXQuc2VuZCh7dHlwZTpjLlNlcnZlck1lc3NhZ2VUeXBlLkNhbmRpZGF0ZSxwYXlsb2FkOntjYW5kaWRhdGU6ZS5jYW5kaWRhdGUsdHlwZTphLGNvbm5lY3Rpb25JZDpvfSxkc3Q6dH0pKX0sZS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3N3aXRjaChlLmljZUNvbm5lY3Rpb25TdGF0ZSl7Y2FzZVwiZmFpbGVkXCI6ci5kZWZhdWx0LmxvZyhcImljZUNvbm5lY3Rpb25TdGF0ZSBpcyBmYWlsZWQsIGNsb3NpbmcgY29ubmVjdGlvbnMgdG8gXCIrdCksbi5jb25uZWN0aW9uLmVtaXQoYy5Db25uZWN0aW9uRXZlbnRUeXBlLkVycm9yLG5ldyBFcnJvcihcIk5lZ290aWF0aW9uIG9mIGNvbm5lY3Rpb24gdG8gXCIrdCtcIiBmYWlsZWQuXCIpKSxuLmNvbm5lY3Rpb24uY2xvc2UoKTticmVhaztjYXNlXCJjbG9zZWRcIjpyLmRlZmF1bHQubG9nKFwiaWNlQ29ubmVjdGlvblN0YXRlIGlzIGNsb3NlZCwgY2xvc2luZyBjb25uZWN0aW9ucyB0byBcIit0KSxuLmNvbm5lY3Rpb24uZW1pdChjLkNvbm5lY3Rpb25FdmVudFR5cGUuRXJyb3IsbmV3IEVycm9yKFwiQ29ubmVjdGlvbiB0byBcIit0K1wiIGNsb3NlZC5cIikpLG4uY29ubmVjdGlvbi5jbG9zZSgpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOnIuZGVmYXVsdC5sb2coXCJpY2VDb25uZWN0aW9uU3RhdGUgY2hhbmdlZCB0byBkaXNjb25uZWN0ZWQgb24gdGhlIGNvbm5lY3Rpb24gd2l0aCBcIit0KTticmVhaztjYXNlXCJjb21wbGV0ZWRcIjplLm9uaWNlY2FuZGlkYXRlPWkudXRpbC5ub29wfW4uY29ubmVjdGlvbi5lbWl0KGMuQ29ubmVjdGlvbkV2ZW50VHlwZS5JY2VTdGF0ZUNoYW5nZWQsZS5pY2VDb25uZWN0aW9uU3RhdGUpfSxyLmRlZmF1bHQubG9nKFwiTGlzdGVuaW5nIGZvciBkYXRhIGNoYW5uZWxcIiksZS5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKGUpe3IuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCBkYXRhIGNoYW5uZWxcIik7dmFyIG49ZS5jaGFubmVsO3MuZ2V0Q29ubmVjdGlvbih0LG8pLmluaXRpYWxpemUobil9LHIuZGVmYXVsdC5sb2coXCJMaXN0ZW5pbmcgZm9yIHJlbW90ZSBzdHJlYW1cIiksZS5vbnRyYWNrPWZ1bmN0aW9uKGUpe3IuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCByZW1vdGUgc3RyZWFtXCIpO3ZhciBpPWUuc3RyZWFtc1swXSxhPXMuZ2V0Q29ubmVjdGlvbih0LG8pO2lmKGEudHlwZT09PWMuQ29ubmVjdGlvblR5cGUuTWVkaWEpe3ZhciBkPWE7bi5fYWRkU3RyZWFtVG9NZWRpYUNvbm5lY3Rpb24oaSxkKX19fSxvLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7ci5kZWZhdWx0LmxvZyhcIkNsZWFuaW5nIHVwIFBlZXJDb25uZWN0aW9uIHRvIFwiK3RoaXMuY29ubmVjdGlvbi5wZWVyKTt2YXIgZT10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb247aWYoZSl7dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uPW51bGwsZS5vbmljZWNhbmRpZGF0ZT1lLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUub25kYXRhY2hhbm5lbD1lLm9udHJhY2s9ZnVuY3Rpb24oKXt9O3ZhciBuPVwiY2xvc2VkXCIhPT1lLnNpZ25hbGluZ1N0YXRlLHQ9ITE7aWYodGhpcy5jb25uZWN0aW9uLnR5cGU9PT1jLkNvbm5lY3Rpb25UeXBlLkRhdGEpe3ZhciBvPXRoaXMuY29ubmVjdGlvbi5kYXRhQ2hhbm5lbDtvJiYodD0hIW8ucmVhZHlTdGF0ZSYmXCJjbG9zZWRcIiE9PW8ucmVhZHlTdGF0ZSl9KG58fHQpJiZlLmNsb3NlKCl9fSxvLnByb3RvdHlwZS5fbWFrZU9mZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBuLG8sYSxzLGQsbCx1O3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpuPXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbixvPXRoaXMuY29ubmVjdGlvbi5wcm92aWRlcix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw3LCw4XSksWzQsbi5jcmVhdGVPZmZlcih0aGlzLmNvbm5lY3Rpb24ub3B0aW9ucy5jb25zdHJhaW50cyldO2Nhc2UgMjphPXQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJDcmVhdGVkIG9mZmVyLlwiKSx0aGlzLmNvbm5lY3Rpb24ub3B0aW9ucy5zZHBUcmFuc2Zvcm0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybSYmKGEuc2RwPXRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybShhLnNkcCl8fGEuc2RwKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0LnRyeXMucHVzaChbMyw1LCw2XSksWzQsbi5zZXRMb2NhbERlc2NyaXB0aW9uKGEpXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJTZXQgbG9jYWxEZXNjcmlwdGlvbjpcIixhLFwiZm9yOlwiK3RoaXMuY29ubmVjdGlvbi5wZWVyKSxzPXtzZHA6YSx0eXBlOnRoaXMuY29ubmVjdGlvbi50eXBlLGNvbm5lY3Rpb25JZDp0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkLG1ldGFkYXRhOnRoaXMuY29ubmVjdGlvbi5tZXRhZGF0YSxicm93c2VyOmkudXRpbC5icm93c2VyfSx0aGlzLmNvbm5lY3Rpb24udHlwZT09PWMuQ29ubmVjdGlvblR5cGUuRGF0YSYmKGQ9dGhpcy5jb25uZWN0aW9uLHM9ZShlKHt9LHMpLHtsYWJlbDpkLmxhYmVsLHJlbGlhYmxlOmQucmVsaWFibGUsc2VyaWFsaXphdGlvbjpkLnNlcmlhbGl6YXRpb259KSksby5zb2NrZXQuc2VuZCh7dHlwZTpjLlNlcnZlck1lc3NhZ2VUeXBlLk9mZmVyLHBheWxvYWQ6cyxkc3Q6dGhpcy5jb25uZWN0aW9uLnBlZXJ9KSxbMyw2XTtjYXNlIDU6cmV0dXJuXCJPcGVyYXRpb25FcnJvcjogRmFpbGVkIHRvIHNldCBsb2NhbCBvZmZlciBzZHA6IENhbGxlZCBpbiB3cm9uZyBzdGF0ZToga0hhdmVSZW1vdGVPZmZlclwiIT0obD10LnNlbnQoKSkmJihvLmVtaXRFcnJvcihjLlBlZXJFcnJvclR5cGUuV2ViUlRDLGwpLHIuZGVmYXVsdC5sb2coXCJGYWlsZWQgdG8gc2V0TG9jYWxEZXNjcmlwdGlvbiwgXCIsbCkpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMyw4XTtjYXNlIDc6cmV0dXJuIHU9dC5zZW50KCksby5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyx1KSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIGNyZWF0ZU9mZmVyLCBcIix1KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfX0pfSl9LG8ucHJvdG90eXBlLl9tYWtlQW5zd2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBlLG4sbyxhLHM7cmV0dXJuIHQodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uLG49dGhpcy5jb25uZWN0aW9uLnByb3ZpZGVyLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDcsLDhdKSxbNCxlLmNyZWF0ZUFuc3dlcigpXTtjYXNlIDI6bz10LnNlbnQoKSxyLmRlZmF1bHQubG9nKFwiQ3JlYXRlZCBhbnN3ZXIuXCIpLHRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jb25uZWN0aW9uLm9wdGlvbnMuc2RwVHJhbnNmb3JtJiYoby5zZHA9dGhpcy5jb25uZWN0aW9uLm9wdGlvbnMuc2RwVHJhbnNmb3JtKG8uc2RwKXx8by5zZHApLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIHQudHJ5cy5wdXNoKFszLDUsLDZdKSxbNCxlLnNldExvY2FsRGVzY3JpcHRpb24obyldO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksci5kZWZhdWx0LmxvZyhcIlNldCBsb2NhbERlc2NyaXB0aW9uOlwiLG8sXCJmb3I6XCIrdGhpcy5jb25uZWN0aW9uLnBlZXIpLG4uc29ja2V0LnNlbmQoe3R5cGU6Yy5TZXJ2ZXJNZXNzYWdlVHlwZS5BbnN3ZXIscGF5bG9hZDp7c2RwOm8sdHlwZTp0aGlzLmNvbm5lY3Rpb24udHlwZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uLmNvbm5lY3Rpb25JZCxicm93c2VyOmkudXRpbC5icm93c2VyfSxkc3Q6dGhpcy5jb25uZWN0aW9uLnBlZXJ9KSxbMyw2XTtjYXNlIDU6cmV0dXJuIGE9dC5zZW50KCksbi5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxhKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIHNldExvY2FsRGVzY3JpcHRpb24sIFwiLGEpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMyw4XTtjYXNlIDc6cmV0dXJuIHM9dC5zZW50KCksbi5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxzKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIGNyZWF0ZSBhbnN3ZXIsIFwiLHMpLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSl9KX0sby5wcm90b3R5cGUuaGFuZGxlU0RQPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBuLGksYSxzO3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpvPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obyksbj10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb24saT10aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXIsci5kZWZhdWx0LmxvZyhcIlNldHRpbmcgcmVtb3RlIGRlc2NyaXB0aW9uXCIsbyksYT10aGlzLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDUsLDZdKSxbNCxuLnNldFJlbW90ZURlc2NyaXB0aW9uKG8pXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJTZXQgcmVtb3RlRGVzY3JpcHRpb246XCIrZStcIiBmb3I6XCIrdGhpcy5jb25uZWN0aW9uLnBlZXIpLFwiT0ZGRVJcIiE9PWU/WzMsNF06WzQsYS5fbWFrZUFuc3dlcigpXTtjYXNlIDM6dC5zZW50KCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMyw2XTtjYXNlIDU6cmV0dXJuIHM9dC5zZW50KCksaS5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxzKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIHNldFJlbW90ZURlc2NyaXB0aW9uLCBcIixzKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9LG8ucHJvdG90eXBlLmhhbmRsZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCxQcm9taXNlLGZ1bmN0aW9uKCl7dmFyIG4sbyxpLGEscyxkO3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyLmRlZmF1bHQubG9nKFwiaGFuZGxlQ2FuZGlkYXRlOlwiLGUpLG49ZS5jYW5kaWRhdGUsbz1lLnNkcE1MaW5lSW5kZXgsaT1lLnNkcE1pZCxhPXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbixzPXRoaXMuY29ubmVjdGlvbi5wcm92aWRlcix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksWzQsYS5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZSh7c2RwTWlkOmksc2RwTUxpbmVJbmRleDpvLGNhbmRpZGF0ZTpufSkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJBZGRlZCBJQ0UgY2FuZGlkYXRlIGZvcjpcIit0aGlzLmNvbm5lY3Rpb24ucGVlciksWzMsNF07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLHMuZW1pdEVycm9yKGMuUGVlckVycm9yVHlwZS5XZWJSVEMsZCksci5kZWZhdWx0LmxvZyhcIkZhaWxlZCB0byBoYW5kbGVDYW5kaWRhdGUsIFwiLGQpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sby5wcm90b3R5cGUuX2FkZFRyYWNrc1RvQ29ubmVjdGlvbj1mdW5jdGlvbihlLG4pe2lmKHIuZGVmYXVsdC5sb2coXCJhZGQgdHJhY2tzIGZyb20gc3RyZWFtIFwiK2UuaWQrXCIgdG8gcGVlciBjb25uZWN0aW9uXCIpLCFuLmFkZFRyYWNrKXJldHVybiByLmRlZmF1bHQuZXJyb3IoXCJZb3VyIGJyb3dzZXIgZG9lcyd0IHN1cHBvcnQgUlRDUGVlckNvbm5lY3Rpb24jYWRkVHJhY2suIElnbm9yZWQuXCIpO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtuLmFkZFRyYWNrKHQsZSl9KX0sby5wcm90b3R5cGUuX2FkZFN0cmVhbVRvTWVkaWFDb25uZWN0aW9uPWZ1bmN0aW9uKGUsbil7ci5kZWZhdWx0LmxvZyhcImFkZCBzdHJlYW0gXCIrZS5pZCtcIiB0byBtZWRpYSBjb25uZWN0aW9uIFwiK24uY29ubmVjdGlvbklkKSxuLmFkZFN0cmVhbShlKX0sb30oKTtleHBvcnRzLk5lZ290aWF0b3I9YTtcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9lbnVtc1wiOlwiWlJZZlwifV0sXCJ0UUZLXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciB0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmbnVsbCE9PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKG4pK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gbygpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooby5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IG8pfX0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkJhc2VDb25uZWN0aW9uPXZvaWQgMDt2YXIgZT1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKSxuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuLG8pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5wZWVyPXQsci5wcm92aWRlcj1uLHIub3B0aW9ucz1vLHIuX29wZW49ITEsci5tZXRhZGF0YT1vLm1ldGFkYXRhLHJ9cmV0dXJuIHQobixlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJvcGVuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcGVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLG59KGUuRXZlbnRFbWl0dGVyKTtleHBvcnRzLkJhc2VDb25uZWN0aW9uPW47XG59LHtcImV2ZW50ZW1pdHRlcjNcIjpcIkpKbFNcIn1dLFwiZGJIUFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG8pe3JldHVybihlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKX0pKHQsbyl9O3JldHVybiBmdW5jdGlvbih0LG8pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJm51bGwhPT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhvKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG8pLHQucHJvdG90eXBlPW51bGw9PT1vP09iamVjdC5jcmVhdGUobyk6KHIucHJvdG90eXBlPW8ucHJvdG90eXBlLG5ldyByKX19KCksdD10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybih0PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxvPTEscj1hcmd1bWVudHMubGVuZ3RoO288cjtvKyspZm9yKHZhciBuIGluIHQ9YXJndW1lbnRzW29dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbz10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixvPXQmJmVbdF0scj0wO2lmKG8pcmV0dXJuIG8uY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxyPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuTWVkaWFDb25uZWN0aW9uPXZvaWQgMDt2YXIgbj1yZXF1aXJlKFwiLi91dGlsXCIpLGk9cihyZXF1aXJlKFwiLi9sb2dnZXJcIikpLGE9cmVxdWlyZShcIi4vbmVnb3RpYXRvclwiKSxzPXJlcXVpcmUoXCIuL2VudW1zXCIpLGw9cmVxdWlyZShcIi4vYmFzZWNvbm5lY3Rpb25cIiksYz1mdW5jdGlvbihyKXtmdW5jdGlvbiBsKGUsdCxvKXt2YXIgaT1yLmNhbGwodGhpcyxlLHQsbyl8fHRoaXM7cmV0dXJuIGkuX2xvY2FsU3RyZWFtPWkub3B0aW9ucy5fc3RyZWFtLGkuY29ubmVjdGlvbklkPWkub3B0aW9ucy5jb25uZWN0aW9uSWR8fGwuSURfUFJFRklYK24udXRpbC5yYW5kb21Ub2tlbigpLGkuX25lZ290aWF0b3I9bmV3IGEuTmVnb3RpYXRvcihpKSxpLl9sb2NhbFN0cmVhbSYmaS5fbmVnb3RpYXRvci5zdGFydENvbm5lY3Rpb24oe19zdHJlYW06aS5fbG9jYWxTdHJlYW0sb3JpZ2luYXRvcjohMH0pLGl9cmV0dXJuIGUobCxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzLkNvbm5lY3Rpb25UeXBlLk1lZGlhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSxcImxvY2FsU3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsXCJyZW1vdGVTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxsLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmxvZyhcIlJlY2VpdmluZyBzdHJlYW1cIixlKSx0aGlzLl9yZW1vdGVTdHJlYW09ZSxyLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxzLkNvbm5lY3Rpb25FdmVudFR5cGUuU3RyZWFtLGUpfSxsLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZSxvPWUucGF5bG9hZDtzd2l0Y2goZS50eXBlKXtjYXNlIHMuU2VydmVyTWVzc2FnZVR5cGUuQW5zd2VyOnRoaXMuX25lZ290aWF0b3IuaGFuZGxlU0RQKHQsby5zZHApLHRoaXMuX29wZW49ITA7YnJlYWs7Y2FzZSBzLlNlcnZlck1lc3NhZ2VUeXBlLkNhbmRpZGF0ZTp0aGlzLl9uZWdvdGlhdG9yLmhhbmRsZUNhbmRpZGF0ZShvLmNhbmRpZGF0ZSk7YnJlYWs7ZGVmYXVsdDppLmRlZmF1bHQud2FybihcIlVucmVjb2duaXplZCBtZXNzYWdlIHR5cGU6XCIrdCtcIiBmcm9tIHBlZXI6XCIrdGhpcy5wZWVyKX19LGwucHJvdG90eXBlLmFuc3dlcj1mdW5jdGlvbihlLHIpe3ZhciBuLGE7aWYodm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX2xvY2FsU3RyZWFtKWkuZGVmYXVsdC53YXJuKFwiTG9jYWwgc3RyZWFtIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgTWVkaWFDb25uZWN0aW9uLiBBcmUgeW91IGFuc3dlcmluZyBhIGNhbGwgdHdpY2U/XCIpO2Vsc2V7dGhpcy5fbG9jYWxTdHJlYW09ZSxyJiZyLnNkcFRyYW5zZm9ybSYmKHRoaXMub3B0aW9ucy5zZHBUcmFuc2Zvcm09ci5zZHBUcmFuc2Zvcm0pLHRoaXMuX25lZ290aWF0b3Iuc3RhcnRDb25uZWN0aW9uKHQodCh7fSx0aGlzLm9wdGlvbnMuX3BheWxvYWQpLHtfc3RyZWFtOmV9KSk7dmFyIHM9dGhpcy5wcm92aWRlci5fZ2V0TWVzc2FnZXModGhpcy5jb25uZWN0aW9uSWQpO3RyeXtmb3IodmFyIGw9byhzKSxjPWwubmV4dCgpOyFjLmRvbmU7Yz1sLm5leHQoKSl7dmFyIHA9Yy52YWx1ZTt0aGlzLmhhbmRsZU1lc3NhZ2UocCl9fWNhdGNoKHUpe249e2Vycm9yOnV9fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJihhPWwucmV0dXJuKSYmYS5jYWxsKGwpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLl9vcGVuPSEwfX0sbC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9uZWdvdGlhdG9yJiYodGhpcy5fbmVnb3RpYXRvci5jbGVhbnVwKCksdGhpcy5fbmVnb3RpYXRvcj1udWxsKSx0aGlzLl9sb2NhbFN0cmVhbT1udWxsLHRoaXMuX3JlbW90ZVN0cmVhbT1udWxsLHRoaXMucHJvdmlkZXImJih0aGlzLnByb3ZpZGVyLl9yZW1vdmVDb25uZWN0aW9uKHRoaXMpLHRoaXMucHJvdmlkZXI9bnVsbCksdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuX3N0cmVhbSYmKHRoaXMub3B0aW9ucy5fc3RyZWFtPW51bGwpLHRoaXMub3BlbiYmKHRoaXMuX29wZW49ITEsci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMscy5Db25uZWN0aW9uRXZlbnRUeXBlLkNsb3NlKSl9LGwuSURfUFJFRklYPVwibWNfXCIsbH0obC5CYXNlQ29ubmVjdGlvbik7ZXhwb3J0cy5NZWRpYUNvbm5lY3Rpb249Yztcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9uZWdvdGlhdG9yXCI6XCJIQ2RYXCIsXCIuL2VudW1zXCI6XCJaUllmXCIsXCIuL2Jhc2Vjb25uZWN0aW9uXCI6XCJ0UUZLXCJ9XSxcIkdHcDZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9KSh0LHIpfTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcocikrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiBvKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxyKSx0LnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihvLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbyl9fSgpLHQ9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FbmNvZGluZ1F1ZXVlPXZvaWQgMDt2YXIgcj1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKSxvPXQocmVxdWlyZShcIi4vbG9nZ2VyXCIpKSxuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuZmlsZVJlYWRlcj1uZXcgRmlsZVJlYWRlcixlLl9xdWV1ZT1bXSxlLl9wcm9jZXNzaW5nPSExLGUuZmlsZVJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24odCl7ZS5fcHJvY2Vzc2luZz0hMSx0LnRhcmdldCYmZS5lbWl0KFwiZG9uZVwiLHQudGFyZ2V0LnJlc3VsdCksZS5kb05leHRUYXNrKCl9LGUuZmlsZVJlYWRlci5vbmVycm9yPWZ1bmN0aW9uKHQpe28uZGVmYXVsdC5lcnJvcihcIkVuY29kaW5nUXVldWUgZXJyb3I6XCIsdCksZS5fcHJvY2Vzc2luZz0hMSxlLmRlc3Ryb3koKSxlLmVtaXQoXCJlcnJvclwiLHQpfSxlfXJldHVybiBlKHIsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwicXVldWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXVlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVldWUubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcInByb2Nlc3NpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3Npbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksci5wcm90b3R5cGUuZW5xdWU9ZnVuY3Rpb24oZSl7dGhpcy5xdWV1ZS5wdXNoKGUpLHRoaXMucHJvY2Vzc2luZ3x8dGhpcy5kb05leHRUYXNrKCl9LHIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZpbGVSZWFkZXIuYWJvcnQoKSx0aGlzLl9xdWV1ZT1bXX0sci5wcm90b3R5cGUuZG9OZXh0VGFzaz1mdW5jdGlvbigpezAhPT10aGlzLnNpemUmJih0aGlzLnByb2Nlc3Npbmd8fCh0aGlzLl9wcm9jZXNzaW5nPSEwLHRoaXMuZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLnF1ZXVlLnNoaWZ0KCkpKSl9LHJ9KHIuRXZlbnRFbWl0dGVyKTtleHBvcnRzLkVuY29kaW5nUXVldWU9bjtcbn0se1wiZXZlbnRlbWl0dGVyM1wiOlwiSkpsU1wiLFwiLi9sb2dnZXJcIjpcIldPczlcIn1dLFwiR0JUUVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybihlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX0pKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJm51bGwhPT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhuKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksdD10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0saT0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRGF0YUNvbm5lY3Rpb249dm9pZCAwO3ZhciBpPXJlcXVpcmUoXCIuL3V0aWxcIiksbz1uKHJlcXVpcmUoXCIuL2xvZ2dlclwiKSkscj1yZXF1aXJlKFwiLi9uZWdvdGlhdG9yXCIpLGE9cmVxdWlyZShcIi4vZW51bXNcIikscz1yZXF1aXJlKFwiLi9iYXNlY29ubmVjdGlvblwiKSx1PXJlcXVpcmUoXCIuL2VuY29kaW5nUXVldWVcIiksbD1mdW5jdGlvbihuKXtmdW5jdGlvbiBzKGUsdCxsKXt2YXIgZj1uLmNhbGwodGhpcyxlLHQsbCl8fHRoaXM7cmV0dXJuIGYuc3RyaW5naWZ5PUpTT04uc3RyaW5naWZ5LGYucGFyc2U9SlNPTi5wYXJzZSxmLl9idWZmZXI9W10sZi5fYnVmZmVyU2l6ZT0wLGYuX2J1ZmZlcmluZz0hMSxmLl9jaHVua2VkRGF0YT17fSxmLl9lbmNvZGluZ1F1ZXVlPW5ldyB1LkVuY29kaW5nUXVldWUsZi5jb25uZWN0aW9uSWQ9Zi5vcHRpb25zLmNvbm5lY3Rpb25JZHx8cy5JRF9QUkVGSVgraS51dGlsLnJhbmRvbVRva2VuKCksZi5sYWJlbD1mLm9wdGlvbnMubGFiZWx8fGYuY29ubmVjdGlvbklkLGYuc2VyaWFsaXphdGlvbj1mLm9wdGlvbnMuc2VyaWFsaXphdGlvbnx8YS5TZXJpYWxpemF0aW9uVHlwZS5CaW5hcnksZi5yZWxpYWJsZT0hIWYub3B0aW9ucy5yZWxpYWJsZSxmLl9lbmNvZGluZ1F1ZXVlLm9uKFwiZG9uZVwiLGZ1bmN0aW9uKGUpe2YuX2J1ZmZlcmVkU2VuZChlKX0pLGYuX2VuY29kaW5nUXVldWUub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7by5kZWZhdWx0LmVycm9yKFwiREMjXCIrZi5jb25uZWN0aW9uSWQrXCI6IEVycm9yIG9jY3VyZWQgaW4gZW5jb2RpbmcgZnJvbSBibG9iIHRvIGFycmF5YnVmZmVyLCBjbG9zZSBEQ1wiKSxmLmNsb3NlKCl9KSxmLl9uZWdvdGlhdG9yPW5ldyByLk5lZ290aWF0b3IoZiksZi5fbmVnb3RpYXRvci5zdGFydENvbm5lY3Rpb24oZi5vcHRpb25zLl9wYXlsb2FkfHx7b3JpZ2luYXRvcjohMH0pLGZ9cmV0dXJuIGUocyxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhLkNvbm5lY3Rpb25UeXBlLkRhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwiZGF0YUNoYW5uZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RjfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImJ1ZmZlclNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscy5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXt0aGlzLl9kYz1lLHRoaXMuX2NvbmZpZ3VyZURhdGFDaGFubmVsKCl9LHMucHJvdG90eXBlLl9jb25maWd1cmVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aS51dGlsLnN1cHBvcnRzLmJpbmFyeUJsb2ImJiFpLnV0aWwuc3VwcG9ydHMucmVsaWFibGV8fCh0aGlzLmRhdGFDaGFubmVsLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiKSx0aGlzLmRhdGFDaGFubmVsLm9ub3Blbj1mdW5jdGlvbigpe28uZGVmYXVsdC5sb2coXCJEQyNcIitlLmNvbm5lY3Rpb25JZCtcIiBkYyBjb25uZWN0aW9uIHN1Y2Nlc3NcIiksZS5fb3Blbj0hMCxlLmVtaXQoYS5Db25uZWN0aW9uRXZlbnRUeXBlLk9wZW4pfSx0aGlzLmRhdGFDaGFubmVsLm9ubWVzc2FnZT1mdW5jdGlvbih0KXtvLmRlZmF1bHQubG9nKFwiREMjXCIrZS5jb25uZWN0aW9uSWQrXCIgZGMgb25tZXNzYWdlOlwiLHQuZGF0YSksZS5faGFuZGxlRGF0YU1lc3NhZ2UodCl9LHRoaXMuZGF0YUNoYW5uZWwub25jbG9zZT1mdW5jdGlvbigpe28uZGVmYXVsdC5sb2coXCJEQyNcIitlLmNvbm5lY3Rpb25JZCtcIiBkYyBjbG9zZWQgZm9yOlwiLGUucGVlciksZS5jbG9zZSgpfX0scy5wcm90b3R5cGUuX2hhbmRsZURhdGFNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz1lLmRhdGEscj1vLmNvbnN0cnVjdG9yLHM9bztpZih0aGlzLnNlcmlhbGl6YXRpb249PT1hLlNlcmlhbGl6YXRpb25UeXBlLkJpbmFyeXx8dGhpcy5zZXJpYWxpemF0aW9uPT09YS5TZXJpYWxpemF0aW9uVHlwZS5CaW5hcnlVVEY4KXtpZihyPT09QmxvYilyZXR1cm4gdm9pZCBpLnV0aWwuYmxvYlRvQXJyYXlCdWZmZXIobyxmdW5jdGlvbihlKXt2YXIgbj1pLnV0aWwudW5wYWNrKGUpO3QuZW1pdChhLkNvbm5lY3Rpb25FdmVudFR5cGUuRGF0YSxuKX0pO2lmKHI9PT1BcnJheUJ1ZmZlcilzPWkudXRpbC51bnBhY2sobyk7ZWxzZSBpZihyPT09U3RyaW5nKXt2YXIgdT1pLnV0aWwuYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihvKTtzPWkudXRpbC51bnBhY2sodSl9fWVsc2UgdGhpcy5zZXJpYWxpemF0aW9uPT09YS5TZXJpYWxpemF0aW9uVHlwZS5KU09OJiYocz10aGlzLnBhcnNlKG8pKTtzLl9fcGVlckRhdGE/dGhpcy5faGFuZGxlQ2h1bmsocyk6bi5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsYS5Db25uZWN0aW9uRXZlbnRUeXBlLkRhdGEscyl9LHMucHJvdG90eXBlLl9oYW5kbGVDaHVuaz1mdW5jdGlvbihlKXt2YXIgdD1lLl9fcGVlckRhdGEsbj10aGlzLl9jaHVua2VkRGF0YVt0XXx8e2RhdGE6W10sY291bnQ6MCx0b3RhbDplLnRvdGFsfTtpZihuLmRhdGFbZS5uXT1lLmRhdGEsbi5jb3VudCsrLHRoaXMuX2NodW5rZWREYXRhW3RdPW4sbi50b3RhbD09PW4uY291bnQpe2RlbGV0ZSB0aGlzLl9jaHVua2VkRGF0YVt0XTt2YXIgaT1uZXcgQmxvYihuLmRhdGEpO3RoaXMuX2hhbmRsZURhdGFNZXNzYWdlKHtkYXRhOml9KX19LHMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYnVmZmVyPVtdLHRoaXMuX2J1ZmZlclNpemU9MCx0aGlzLl9jaHVua2VkRGF0YT17fSx0aGlzLl9uZWdvdGlhdG9yJiYodGhpcy5fbmVnb3RpYXRvci5jbGVhbnVwKCksdGhpcy5fbmVnb3RpYXRvcj1udWxsKSx0aGlzLnByb3ZpZGVyJiYodGhpcy5wcm92aWRlci5fcmVtb3ZlQ29ubmVjdGlvbih0aGlzKSx0aGlzLnByb3ZpZGVyPW51bGwpLHRoaXMuZGF0YUNoYW5uZWwmJih0aGlzLmRhdGFDaGFubmVsLm9ub3Blbj1udWxsLHRoaXMuZGF0YUNoYW5uZWwub25tZXNzYWdlPW51bGwsdGhpcy5kYXRhQ2hhbm5lbC5vbmNsb3NlPW51bGwsdGhpcy5fZGM9bnVsbCksdGhpcy5fZW5jb2RpbmdRdWV1ZSYmKHRoaXMuX2VuY29kaW5nUXVldWUuZGVzdHJveSgpLHRoaXMuX2VuY29kaW5nUXVldWUucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fZW5jb2RpbmdRdWV1ZT1udWxsKSx0aGlzLm9wZW4mJih0aGlzLl9vcGVuPSExLG4ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGEuQ29ubmVjdGlvbkV2ZW50VHlwZS5DbG9zZSkpfSxzLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5vcGVuKWlmKHRoaXMuc2VyaWFsaXphdGlvbj09PWEuU2VyaWFsaXphdGlvblR5cGUuSlNPTil0aGlzLl9idWZmZXJlZFNlbmQodGhpcy5zdHJpbmdpZnkoZSkpO2Vsc2UgaWYodGhpcy5zZXJpYWxpemF0aW9uPT09YS5TZXJpYWxpemF0aW9uVHlwZS5CaW5hcnl8fHRoaXMuc2VyaWFsaXphdGlvbj09PWEuU2VyaWFsaXphdGlvblR5cGUuQmluYXJ5VVRGOCl7dmFyIG89aS51dGlsLnBhY2soZSk7aWYoIXQmJm8uc2l6ZT5pLnV0aWwuY2h1bmtlZE1UVSlyZXR1cm4gdm9pZCB0aGlzLl9zZW5kQ2h1bmtzKG8pO2kudXRpbC5zdXBwb3J0cy5iaW5hcnlCbG9iP3RoaXMuX2J1ZmZlcmVkU2VuZChvKTp0aGlzLl9lbmNvZGluZ1F1ZXVlLmVucXVlKG8pfWVsc2UgdGhpcy5fYnVmZmVyZWRTZW5kKGUpO2Vsc2Ugbi5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsYS5Db25uZWN0aW9uRXZlbnRUeXBlLkVycm9yLG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaXMgbm90IG9wZW4uIFlvdSBzaG91bGQgbGlzdGVuIGZvciB0aGUgYG9wZW5gIGV2ZW50IGJlZm9yZSBzZW5kaW5nIG1lc3NhZ2VzLlwiKSl9LHMucHJvdG90eXBlLl9idWZmZXJlZFNlbmQ9ZnVuY3Rpb24oZSl7IXRoaXMuX2J1ZmZlcmluZyYmdGhpcy5fdHJ5U2VuZChlKXx8KHRoaXMuX2J1ZmZlci5wdXNoKGUpLHRoaXMuX2J1ZmZlclNpemU9dGhpcy5fYnVmZmVyLmxlbmd0aCl9LHMucHJvdG90eXBlLl90cnlTZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMub3BlbilyZXR1cm4hMTtpZih0aGlzLmRhdGFDaGFubmVsLmJ1ZmZlcmVkQW1vdW50PnMuTUFYX0JVRkZFUkVEX0FNT1VOVClyZXR1cm4gdGhpcy5fYnVmZmVyaW5nPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idWZmZXJpbmc9ITEsdC5fdHJ5QnVmZmVyKCl9LDUwKSwhMTt0cnl7dGhpcy5kYXRhQ2hhbm5lbC5zZW5kKGUpfWNhdGNoKG4pe3JldHVybiBvLmRlZmF1bHQuZXJyb3IoXCJEQyM6XCIrdGhpcy5jb25uZWN0aW9uSWQrXCIgRXJyb3Igd2hlbiBzZW5kaW5nOlwiLG4pLHRoaXMuX2J1ZmZlcmluZz0hMCx0aGlzLmNsb3NlKCksITF9cmV0dXJuITB9LHMucHJvdG90eXBlLl90cnlCdWZmZXI9ZnVuY3Rpb24oKXtpZih0aGlzLm9wZW4mJjAhPT10aGlzLl9idWZmZXIubGVuZ3RoKXt2YXIgZT10aGlzLl9idWZmZXJbMF07dGhpcy5fdHJ5U2VuZChlKSYmKHRoaXMuX2J1ZmZlci5zaGlmdCgpLHRoaXMuX2J1ZmZlclNpemU9dGhpcy5fYnVmZmVyLmxlbmd0aCx0aGlzLl90cnlCdWZmZXIoKSl9fSxzLnByb3RvdHlwZS5fc2VuZENodW5rcz1mdW5jdGlvbihlKXt2YXIgbixyLGE9aS51dGlsLmNodW5rKGUpO28uZGVmYXVsdC5sb2coXCJEQyNcIit0aGlzLmNvbm5lY3Rpb25JZCtcIiBUcnkgdG8gc2VuZCBcIithLmxlbmd0aCtcIiBjaHVua3MuLi5cIik7dHJ5e2Zvcih2YXIgcz10KGEpLHU9cy5uZXh0KCk7IXUuZG9uZTt1PXMubmV4dCgpKXt2YXIgbD11LnZhbHVlO3RoaXMuc2VuZChsLCEwKX19Y2F0Y2goZil7bj17ZXJyb3I6Zn19ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKHI9cy5yZXR1cm4pJiZyLmNhbGwocyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fX0scy5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLnBheWxvYWQ7c3dpdGNoKGUudHlwZSl7Y2FzZSBhLlNlcnZlck1lc3NhZ2VUeXBlLkFuc3dlcjp0aGlzLl9uZWdvdGlhdG9yLmhhbmRsZVNEUChlLnR5cGUsdC5zZHApO2JyZWFrO2Nhc2UgYS5TZXJ2ZXJNZXNzYWdlVHlwZS5DYW5kaWRhdGU6dGhpcy5fbmVnb3RpYXRvci5oYW5kbGVDYW5kaWRhdGUodC5jYW5kaWRhdGUpO2JyZWFrO2RlZmF1bHQ6by5kZWZhdWx0Lndhcm4oXCJVbnJlY29nbml6ZWQgbWVzc2FnZSB0eXBlOlwiLGUudHlwZSxcImZyb20gcGVlcjpcIix0aGlzLnBlZXIpfX0scy5JRF9QUkVGSVg9XCJkY19cIixzLk1BWF9CVUZGRVJFRF9BTU9VTlQ9ODM4ODYwOCxzfShzLkJhc2VDb25uZWN0aW9uKTtleHBvcnRzLkRhdGFDb25uZWN0aW9uPWw7XG59LHtcIi4vdXRpbFwiOlwiQkhYZlwiLFwiLi9sb2dnZXJcIjpcIldPczlcIixcIi4vbmVnb3RpYXRvclwiOlwiSENkWFwiLFwiLi9lbnVtc1wiOlwiWlJZZlwiLFwiLi9iYXNlY29ubmVjdGlvblwiOlwidFFGS1wiLFwiLi9lbmNvZGluZ1F1ZXVlXCI6XCJHR3A2XCJ9XSxcImluN0xcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHQsZSxyLG8pe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKGZ1bmN0aW9uKG4scyl7ZnVuY3Rpb24gaSh0KXt0cnl7YShvLm5leHQodCkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIHUodCl7dHJ5e2Eoby50aHJvdyh0KSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gYSh0KXt2YXIgZTt0LmRvbmU/bih0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZnVuY3Rpb24odCl7dChlKX0pKS50aGVuKGksdSl9YSgobz1vLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSl9LGU9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odCxlKXt2YXIgcixvLG4scyxpPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OnUoMCksdGhyb3c6dSgxKSxyZXR1cm46dSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIHUocyl7cmV0dXJuIGZ1bmN0aW9uKHUpe3JldHVybiBmdW5jdGlvbihzKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7aTspdHJ5e2lmKHI9MSxvJiYobj0yJnNbMF0/by5yZXR1cm46c1swXT9vLnRocm93fHwoKG49by5yZXR1cm4pJiZuLmNhbGwobyksMCk6by5uZXh0KSYmIShuPW4uY2FsbChvLHNbMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChvPTAsbiYmKHM9WzImc1swXSxuLnZhbHVlXSksc1swXSl7Y2FzZSAwOmNhc2UgMTpuPXM7YnJlYWs7Y2FzZSA0OnJldHVybiBpLmxhYmVsKysse3ZhbHVlOnNbMV0sZG9uZTohMX07Y2FzZSA1OmkubGFiZWwrKyxvPXNbMV0scz1bMF07Y29udGludWU7Y2FzZSA3OnM9aS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShuPShuPWkudHJ5cykubGVuZ3RoPjAmJm5bbi5sZW5ndGgtMV0pJiYoNj09PXNbMF18fDI9PT1zWzBdKSl7aT0wO2NvbnRpbnVlfWlmKDM9PT1zWzBdJiYoIW58fHNbMV0+blswXSYmc1sxXTxuWzNdKSl7aS5sYWJlbD1zWzFdO2JyZWFrfWlmKDY9PT1zWzBdJiZpLmxhYmVsPG5bMV0pe2kubGFiZWw9blsxXSxuPXM7YnJlYWt9aWYobiYmaS5sYWJlbDxuWzJdKXtpLmxhYmVsPW5bMl0saS5vcHMucHVzaChzKTticmVha31uWzJdJiZpLm9wcy5wb3AoKSxpLnRyeXMucG9wKCk7Y29udGludWV9cz1lLmNhbGwodCxpKX1jYXRjaCh1KXtzPVs2LHVdLG89MH1maW5hbGx5e3I9bj0wfWlmKDUmc1swXSl0aHJvdyBzWzFdO3JldHVybnt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyx1XSl9fX0scj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkFQST12b2lkIDA7dmFyIG89cmVxdWlyZShcIi4vdXRpbFwiKSxuPXIocmVxdWlyZShcIi4vbG9nZ2VyXCIpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcih0KXt0aGlzLl9vcHRpb25zPXR9cmV0dXJuIHIucHJvdG90eXBlLl9idWlsZFVybD1mdW5jdGlvbih0KXt2YXIgZT0odGhpcy5fb3B0aW9ucy5zZWN1cmU/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLl9vcHRpb25zLmhvc3QrXCI6XCIrdGhpcy5fb3B0aW9ucy5wb3J0K3RoaXMuX29wdGlvbnMucGF0aCt0aGlzLl9vcHRpb25zLmtleStcIi9cIit0O3JldHVybiBlKz1cIj90cz1cIisobmV3IERhdGUpLmdldFRpbWUoKStNYXRoLnJhbmRvbSgpfSxyLnByb3RvdHlwZS5yZXRyaWV2ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciB0LHIscyxpO3JldHVybiBlKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDp0PXRoaXMuX2J1aWxkVXJsKFwiaWRcIiksZS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZS50cnlzLnB1c2goWzEsMywsNF0pLFs0LGZldGNoKHQpXTtjYXNlIDI6aWYoMjAwIT09KHI9ZS5zZW50KCkpLnN0YXR1cyl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvci4gU3RhdHVzOlwiK3Iuc3RhdHVzKTtyZXR1cm5bMixyLnRleHQoKV07Y2FzZSAzOnRocm93IHM9ZS5zZW50KCksbi5kZWZhdWx0LmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBJRFwiLHMpLGk9XCJcIixcIi9cIj09PXRoaXMuX29wdGlvbnMucGF0aCYmdGhpcy5fb3B0aW9ucy5ob3N0IT09by51dGlsLkNMT1VEX0hPU1QmJihpPVwiIElmIHlvdSBwYXNzZWQgaW4gYSBgcGF0aGAgdG8geW91ciBzZWxmLWhvc3RlZCBQZWVyU2VydmVyLCB5b3UnbGwgYWxzbyBuZWVkIHRvIHBhc3MgaW4gdGhhdCBzYW1lIHBhdGggd2hlbiBjcmVhdGluZyBhIG5ldyBQZWVyLlwiKSxuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2V0IGFuIElEIGZyb20gdGhlIHNlcnZlci5cIitpKTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LHIucHJvdG90eXBlLmxpc3RBbGxQZWVycz1mdW5jdGlvbigpe3JldHVybiB0KHRoaXMsdm9pZCAwLFByb21pc2UsZnVuY3Rpb24oKXt2YXIgdCxyLHMsaTtyZXR1cm4gZSh0aGlzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6dD10aGlzLl9idWlsZFVybChcInBlZXJzXCIpLGUubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGUudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCxmZXRjaCh0KV07Y2FzZSAyOmlmKDIwMCE9PShyPWUuc2VudCgpKS5zdGF0dXMpe2lmKDQwMT09PXIuc3RhdHVzKXRocm93IHM9XCJcIixzPXRoaXMuX29wdGlvbnMuaG9zdD09PW8udXRpbC5DTE9VRF9IT1NUP1wiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgdGhlIGNsb3VkIHNlcnZlci4gWW91IGNhbiBlbWFpbCB0ZWFtQHBlZXJqcy5jb20gdG8gZW5hYmxlIHBlZXIgbGlzdGluZyBmb3IgeW91ciBBUEkga2V5LlwiOlwiWW91IG5lZWQgdG8gZW5hYmxlIGBhbGxvd19kaXNjb3ZlcnlgIG9uIHlvdXIgc2VsZi1ob3N0ZWQgUGVlclNlcnZlciB0byB1c2UgdGhpcyBmZWF0dXJlLlwiLG5ldyBFcnJvcihcIkl0IGRvZXNuJ3QgbG9vayBsaWtlIHlvdSBoYXZlIHBlcm1pc3Npb24gdG8gbGlzdCBwZWVycyBJRHMuIFwiK3MpO3Rocm93IG5ldyBFcnJvcihcIkVycm9yLiBTdGF0dXM6XCIrci5zdGF0dXMpfXJldHVyblsyLHIuanNvbigpXTtjYXNlIDM6dGhyb3cgaT1lLnNlbnQoKSxuLmRlZmF1bHQuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIGxpc3QgcGVlcnNcIixpKSxuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2V0IGxpc3QgcGVlcnMgZnJvbSB0aGUgc2VydmVyLlwiK2kpO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0scn0oKTtleHBvcnRzLkFQST1zO1xufSx7XCIuL3V0aWxcIjpcIkJIWGZcIixcIi4vbG9nZ2VyXCI6XCJXT3M5XCJ9XSxcIkh4cGRcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9KSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZudWxsIT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcobikrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLHQ9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4odD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG49dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbj10JiZlW3RdLHI9MDtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJnI+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW3IrK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0scj10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighbilyZXR1cm4gZTt2YXIgcixvLGk9bi5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEocj1pLm5leHQoKSkuZG9uZTspcy5wdXNoKHIudmFsdWUpfWNhdGNoKGEpe289e2Vycm9yOmF9fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gc30sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlBlZXI9dm9pZCAwO3ZhciBpPXJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpLHM9cmVxdWlyZShcIi4vdXRpbFwiKSxhPW8ocmVxdWlyZShcIi4vbG9nZ2VyXCIpKSxjPXJlcXVpcmUoXCIuL3NvY2tldFwiKSxsPXJlcXVpcmUoXCIuL21lZGlhY29ubmVjdGlvblwiKSx1PXJlcXVpcmUoXCIuL2RhdGFjb25uZWN0aW9uXCIpLGQ9cmVxdWlyZShcIi4vZW51bXNcIikscD1yZXF1aXJlKFwiLi9hcGlcIiksaD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCksZj1mdW5jdGlvbihvKXtmdW5jdGlvbiBpKGUsbil7dmFyIHIsYz1vLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGMuX2lkPW51bGwsYy5fbGFzdFNlcnZlcklkPW51bGwsYy5fZGVzdHJveWVkPSExLGMuX2Rpc2Nvbm5lY3RlZD0hMSxjLl9vcGVuPSExLGMuX2Nvbm5lY3Rpb25zPW5ldyBNYXAsYy5fbG9zdE1lc3NhZ2VzPW5ldyBNYXAsZSYmZS5jb25zdHJ1Y3Rvcj09T2JqZWN0P249ZTplJiYocj1lLnRvU3RyaW5nKCkpLG49dCh7ZGVidWc6MCxob3N0OnMudXRpbC5DTE9VRF9IT1NULHBvcnQ6cy51dGlsLkNMT1VEX1BPUlQscGF0aDpcIi9cIixrZXk6aS5ERUZBVUxUX0tFWSx0b2tlbjpzLnV0aWwucmFuZG9tVG9rZW4oKSxjb25maWc6cy51dGlsLmRlZmF1bHRDb25maWd9LG4pLGMuX29wdGlvbnM9bixcIi9cIj09PWMuX29wdGlvbnMuaG9zdCYmKGMuX29wdGlvbnMuaG9zdD13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpLGMuX29wdGlvbnMucGF0aCYmKFwiL1wiIT09Yy5fb3B0aW9ucy5wYXRoWzBdJiYoYy5fb3B0aW9ucy5wYXRoPVwiL1wiK2MuX29wdGlvbnMucGF0aCksXCIvXCIhPT1jLl9vcHRpb25zLnBhdGhbYy5fb3B0aW9ucy5wYXRoLmxlbmd0aC0xXSYmKGMuX29wdGlvbnMucGF0aCs9XCIvXCIpKSx2b2lkIDA9PT1jLl9vcHRpb25zLnNlY3VyZSYmYy5fb3B0aW9ucy5ob3N0IT09cy51dGlsLkNMT1VEX0hPU1Q/Yy5fb3B0aW9ucy5zZWN1cmU9cy51dGlsLmlzU2VjdXJlKCk6Yy5fb3B0aW9ucy5ob3N0PT1zLnV0aWwuQ0xPVURfSE9TVCYmKGMuX29wdGlvbnMuc2VjdXJlPSEwKSxjLl9vcHRpb25zLmxvZ0Z1bmN0aW9uJiZhLmRlZmF1bHQuc2V0TG9nRnVuY3Rpb24oYy5fb3B0aW9ucy5sb2dGdW5jdGlvbiksYS5kZWZhdWx0LmxvZ0xldmVsPWMuX29wdGlvbnMuZGVidWd8fDAsYy5fYXBpPW5ldyBwLkFQSShuKSxjLl9zb2NrZXQ9Yy5fY3JlYXRlU2VydmVyQ29ubmVjdGlvbigpLHMudXRpbC5zdXBwb3J0cy5hdWRpb1ZpZGVvfHxzLnV0aWwuc3VwcG9ydHMuZGF0YT9yJiYhcy51dGlsLnZhbGlkYXRlSWQocik/KGMuX2RlbGF5ZWRBYm9ydChkLlBlZXJFcnJvclR5cGUuSW52YWxpZElELCdJRCBcIicrcisnXCIgaXMgaW52YWxpZCcpLGMpOihyP2MuX2luaXRpYWxpemUocik6Yy5fYXBpLnJldHJpZXZlSWQoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBjLl9pbml0aWFsaXplKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGMuX2Fib3J0KGQuUGVlckVycm9yVHlwZS5TZXJ2ZXJFcnJvcixlKX0pLGMpOihjLl9kZWxheWVkQWJvcnQoZC5QZWVyRXJyb3JUeXBlLkJyb3dzZXJJbmNvbXBhdGlibGUsXCJUaGUgY3VycmVudCBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViUlRDXCIpLGMpfXJldHVybiBlKGksbyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIm9wdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwib3BlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3Blbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJzb2NrZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvY2tldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJjb25uZWN0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0LG89T2JqZWN0LmNyZWF0ZShudWxsKTt0cnl7Zm9yKHZhciBpPW4odGhpcy5fY29ubmVjdGlvbnMpLHM9aS5uZXh0KCk7IXMuZG9uZTtzPWkubmV4dCgpKXt2YXIgYT1yKHMudmFsdWUsMiksYz1hWzBdLGw9YVsxXTtvW2NdPWx9fWNhdGNoKHUpe2U9e2Vycm9yOnV9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJih0PWkucmV0dXJuKSYmdC5jYWxsKGkpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX1yZXR1cm4gb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJkaXNjb25uZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc2Nvbm5lY3RlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fY3JlYXRlU2VydmVyQ29ubmVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgYy5Tb2NrZXQodGhpcy5fb3B0aW9ucy5zZWN1cmUsdGhpcy5fb3B0aW9ucy5ob3N0LHRoaXMuX29wdGlvbnMucG9ydCx0aGlzLl9vcHRpb25zLnBhdGgsdGhpcy5fb3B0aW9ucy5rZXksdGhpcy5fb3B0aW9ucy5waW5nSW50ZXJ2YWwpO3JldHVybiB0Lm9uKGQuU29ja2V0RXZlbnRUeXBlLk1lc3NhZ2UsZnVuY3Rpb24odCl7ZS5faGFuZGxlTWVzc2FnZSh0KX0pLHQub24oZC5Tb2NrZXRFdmVudFR5cGUuRXJyb3IsZnVuY3Rpb24odCl7ZS5fYWJvcnQoZC5QZWVyRXJyb3JUeXBlLlNvY2tldEVycm9yLHQpfSksdC5vbihkLlNvY2tldEV2ZW50VHlwZS5EaXNjb25uZWN0ZWQsZnVuY3Rpb24oKXtlLmRpc2Nvbm5lY3RlZHx8KGUuZW1pdEVycm9yKGQuUGVlckVycm9yVHlwZS5OZXR3b3JrLFwiTG9zdCBjb25uZWN0aW9uIHRvIHNlcnZlci5cIiksZS5kaXNjb25uZWN0KCkpfSksdC5vbihkLlNvY2tldEV2ZW50VHlwZS5DbG9zZSxmdW5jdGlvbigpe2UuZGlzY29ubmVjdGVkfHxlLl9hYm9ydChkLlBlZXJFcnJvclR5cGUuU29ja2V0Q2xvc2VkLFwiVW5kZXJseWluZyBzb2NrZXQgaXMgYWxyZWFkeSBjbG9zZWQuXCIpfSksdH0saS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5faWQ9ZSx0aGlzLnNvY2tldC5zdGFydChlLHRoaXMuX29wdGlvbnMudG9rZW4pfSxpLnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdCxyLG89ZS50eXBlLGk9ZS5wYXlsb2FkLHM9ZS5zcmM7c3dpdGNoKG8pe2Nhc2UgZC5TZXJ2ZXJNZXNzYWdlVHlwZS5PcGVuOnRoaXMuX2xhc3RTZXJ2ZXJJZD10aGlzLmlkLHRoaXMuX29wZW49ITAsdGhpcy5lbWl0KGQuUGVlckV2ZW50VHlwZS5PcGVuLHRoaXMuaWQpO2JyZWFrO2Nhc2UgZC5TZXJ2ZXJNZXNzYWdlVHlwZS5FcnJvcjp0aGlzLl9hYm9ydChkLlBlZXJFcnJvclR5cGUuU2VydmVyRXJyb3IsaS5tc2cpO2JyZWFrO2Nhc2UgZC5TZXJ2ZXJNZXNzYWdlVHlwZS5JZFRha2VuOnRoaXMuX2Fib3J0KGQuUGVlckVycm9yVHlwZS5VbmF2YWlsYWJsZUlELCdJRCBcIicrdGhpcy5pZCsnXCIgaXMgdGFrZW4nKTticmVhaztjYXNlIGQuU2VydmVyTWVzc2FnZVR5cGUuSW52YWxpZEtleTp0aGlzLl9hYm9ydChkLlBlZXJFcnJvclR5cGUuSW52YWxpZEtleSwnQVBJIEtFWSBcIicrdGhpcy5fb3B0aW9ucy5rZXkrJ1wiIGlzIGludmFsaWQnKTticmVhaztjYXNlIGQuU2VydmVyTWVzc2FnZVR5cGUuTGVhdmU6YS5kZWZhdWx0LmxvZyhcIlJlY2VpdmVkIGxlYXZlIG1lc3NhZ2UgZnJvbSBcIitzKSx0aGlzLl9jbGVhbnVwUGVlcihzKSx0aGlzLl9jb25uZWN0aW9ucy5kZWxldGUocyk7YnJlYWs7Y2FzZSBkLlNlcnZlck1lc3NhZ2VUeXBlLkV4cGlyZTp0aGlzLmVtaXRFcnJvcihkLlBlZXJFcnJvclR5cGUuUGVlclVuYXZhaWxhYmxlLFwiQ291bGQgbm90IGNvbm5lY3QgdG8gcGVlciBcIitzKTticmVhaztjYXNlIGQuU2VydmVyTWVzc2FnZVR5cGUuT2ZmZXI6dmFyIGM9aS5jb25uZWN0aW9uSWQ7aWYoKF89dGhpcy5nZXRDb25uZWN0aW9uKHMsYykpJiYoXy5jbG9zZSgpLGEuZGVmYXVsdC53YXJuKFwiT2ZmZXIgcmVjZWl2ZWQgZm9yIGV4aXN0aW5nIENvbm5lY3Rpb24gSUQ6XCIrYykpLGkudHlwZT09PWQuQ29ubmVjdGlvblR5cGUuTWVkaWEpXz1uZXcgbC5NZWRpYUNvbm5lY3Rpb24ocyx0aGlzLHtjb25uZWN0aW9uSWQ6YyxfcGF5bG9hZDppLG1ldGFkYXRhOmkubWV0YWRhdGF9KSx0aGlzLl9hZGRDb25uZWN0aW9uKHMsXyksdGhpcy5lbWl0KGQuUGVlckV2ZW50VHlwZS5DYWxsLF8pO2Vsc2V7aWYoaS50eXBlIT09ZC5Db25uZWN0aW9uVHlwZS5EYXRhKXJldHVybiB2b2lkIGEuZGVmYXVsdC53YXJuKFwiUmVjZWl2ZWQgbWFsZm9ybWVkIGNvbm5lY3Rpb24gdHlwZTpcIitpLnR5cGUpO189bmV3IHUuRGF0YUNvbm5lY3Rpb24ocyx0aGlzLHtjb25uZWN0aW9uSWQ6YyxfcGF5bG9hZDppLG1ldGFkYXRhOmkubWV0YWRhdGEsbGFiZWw6aS5sYWJlbCxzZXJpYWxpemF0aW9uOmkuc2VyaWFsaXphdGlvbixyZWxpYWJsZTppLnJlbGlhYmxlfSksdGhpcy5fYWRkQ29ubmVjdGlvbihzLF8pLHRoaXMuZW1pdChkLlBlZXJFdmVudFR5cGUuQ29ubmVjdGlvbixfKX12YXIgcD10aGlzLl9nZXRNZXNzYWdlcyhjKTt0cnl7Zm9yKHZhciBoPW4ocCksZj1oLm5leHQoKTshZi5kb25lO2Y9aC5uZXh0KCkpe3ZhciB5PWYudmFsdWU7Xy5oYW5kbGVNZXNzYWdlKHkpfX1jYXRjaCh2KXt0PXtlcnJvcjp2fX1maW5hbGx5e3RyeXtmJiYhZi5kb25lJiYocj1oLnJldHVybikmJnIuY2FsbChoKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19YnJlYWs7ZGVmYXVsdDppZighaSlyZXR1cm4gdm9pZCBhLmRlZmF1bHQud2FybihcIllvdSByZWNlaXZlZCBhIG1hbGZvcm1lZCBtZXNzYWdlIGZyb20gXCIrcytcIiBvZiB0eXBlIFwiK28pO3ZhciBfO2M9aS5jb25uZWN0aW9uSWQ7KF89dGhpcy5nZXRDb25uZWN0aW9uKHMsYykpJiZfLnBlZXJDb25uZWN0aW9uP18uaGFuZGxlTWVzc2FnZShlKTpjP3RoaXMuX3N0b3JlTWVzc2FnZShjLGUpOmEuZGVmYXVsdC53YXJuKFwiWW91IHJlY2VpdmVkIGFuIHVucmVjb2duaXplZCBtZXNzYWdlOlwiLGUpfX0saS5wcm90b3R5cGUuX3N0b3JlTWVzc2FnZT1mdW5jdGlvbihlLHQpe3RoaXMuX2xvc3RNZXNzYWdlcy5oYXMoZSl8fHRoaXMuX2xvc3RNZXNzYWdlcy5zZXQoZSxbXSksdGhpcy5fbG9zdE1lc3NhZ2VzLmdldChlKS5wdXNoKHQpfSxpLnByb3RvdHlwZS5fZ2V0TWVzc2FnZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9zdE1lc3NhZ2VzLmdldChlKTtyZXR1cm4gdD8odGhpcy5fbG9zdE1lc3NhZ2VzLmRlbGV0ZShlKSx0KTpbXX0saS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PXt9KSx0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4gYS5kZWZhdWx0Lndhcm4oXCJZb3UgY2Fubm90IGNvbm5lY3QgdG8gYSBuZXcgUGVlciBiZWNhdXNlIHlvdSBjYWxsZWQgLmRpc2Nvbm5lY3QoKSBvbiB0aGlzIFBlZXIgYW5kIGVuZGVkIHlvdXIgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXIuIFlvdSBjYW4gY3JlYXRlIGEgbmV3IFBlZXIgdG8gcmVjb25uZWN0LCBvciBjYWxsIHJlY29ubmVjdCBvbiB0aGlzIHBlZXIgaWYgeW91IGJlbGlldmUgaXRzIElEIHRvIHN0aWxsIGJlIGF2YWlsYWJsZS5cIiksdm9pZCB0aGlzLmVtaXRFcnJvcihkLlBlZXJFcnJvclR5cGUuRGlzY29ubmVjdGVkLFwiQ2Fubm90IGNvbm5lY3QgdG8gbmV3IFBlZXIgYWZ0ZXIgZGlzY29ubmVjdGluZyBmcm9tIHNlcnZlci5cIik7dmFyIG49bmV3IHUuRGF0YUNvbm5lY3Rpb24oZSx0aGlzLHQpO3JldHVybiB0aGlzLl9hZGRDb25uZWN0aW9uKGUsbiksbn0saS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49e30pLHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiBhLmRlZmF1bHQud2FybihcIllvdSBjYW5ub3QgY29ubmVjdCB0byBhIG5ldyBQZWVyIGJlY2F1c2UgeW91IGNhbGxlZCAuZGlzY29ubmVjdCgpIG9uIHRoaXMgUGVlciBhbmQgZW5kZWQgeW91ciBjb25uZWN0aW9uIHdpdGggdGhlIHNlcnZlci4gWW91IGNhbiBjcmVhdGUgYSBuZXcgUGVlciB0byByZWNvbm5lY3QuXCIpLHZvaWQgdGhpcy5lbWl0RXJyb3IoZC5QZWVyRXJyb3JUeXBlLkRpc2Nvbm5lY3RlZCxcIkNhbm5vdCBjb25uZWN0IHRvIG5ldyBQZWVyIGFmdGVyIGRpc2Nvbm5lY3RpbmcgZnJvbSBzZXJ2ZXIuXCIpO2lmKHQpe24uX3N0cmVhbT10O3ZhciByPW5ldyBsLk1lZGlhQ29ubmVjdGlvbihlLHRoaXMsbik7cmV0dXJuIHRoaXMuX2FkZENvbm5lY3Rpb24oZSxyKSxyfWEuZGVmYXVsdC5lcnJvcihcIlRvIGNhbGwgYSBwZWVyLCB5b3UgbXVzdCBwcm92aWRlIGEgc3RyZWFtIGZyb20geW91ciBicm93c2VyJ3MgYGdldFVzZXJNZWRpYWAuXCIpfSxpLnByb3RvdHlwZS5fYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihlLHQpe2EuZGVmYXVsdC5sb2coXCJhZGQgY29ubmVjdGlvbiBcIit0LnR5cGUrXCI6XCIrdC5jb25uZWN0aW9uSWQrXCIgdG8gcGVlcklkOlwiK2UpLHRoaXMuX2Nvbm5lY3Rpb25zLmhhcyhlKXx8dGhpcy5fY29ubmVjdGlvbnMuc2V0KGUsW10pLHRoaXMuX2Nvbm5lY3Rpb25zLmdldChlKS5wdXNoKHQpfSxpLnByb3RvdHlwZS5fcmVtb3ZlQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jb25uZWN0aW9ucy5nZXQoZS5wZWVyKTtpZih0KXt2YXIgbj10LmluZGV4T2YoZSk7LTEhPT1uJiZ0LnNwbGljZShuLDEpfXRoaXMuX2xvc3RNZXNzYWdlcy5kZWxldGUoZS5jb25uZWN0aW9uSWQpfSxpLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpPXRoaXMuX2Nvbm5lY3Rpb25zLmdldChlKTtpZighaSlyZXR1cm4gbnVsbDt0cnl7Zm9yKHZhciBzPW4oaSksYT1zLm5leHQoKTshYS5kb25lO2E9cy5uZXh0KCkpe3ZhciBjPWEudmFsdWU7aWYoYy5jb25uZWN0aW9uSWQ9PT10KXJldHVybiBjfX1jYXRjaChsKXtyPXtlcnJvcjpsfX1maW5hbGx5e3RyeXthJiYhYS5kb25lJiYobz1zLnJldHVybikmJm8uY2FsbChzKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLl9kZWxheWVkQWJvcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLl9hYm9ydChlLHQpfSwwKX0saS5wcm90b3R5cGUuX2Fib3J0PWZ1bmN0aW9uKGUsdCl7YS5kZWZhdWx0LmVycm9yKFwiQWJvcnRpbmchXCIpLHRoaXMuZW1pdEVycm9yKGUsdCksdGhpcy5fbGFzdFNlcnZlcklkP3RoaXMuZGlzY29ubmVjdCgpOnRoaXMuZGVzdHJveSgpfSxpLnByb3RvdHlwZS5lbWl0RXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgbjthLmRlZmF1bHQuZXJyb3IoXCJFcnJvcjpcIix0KSwobj1cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgRXJyb3IodCk6dCkudHlwZT1lLHRoaXMuZW1pdChkLlBlZXJFdmVudFR5cGUuRXJyb3Isbil9LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KGEuZGVmYXVsdC5sb2coXCJEZXN0cm95IHBlZXIgd2l0aCBJRDpcIit0aGlzLmlkKSx0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLl9jbGVhbnVwKCksdGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuZW1pdChkLlBlZXJFdmVudFR5cGUuQ2xvc2UpKX0saS5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt2YXIgZSx0O3RyeXtmb3IodmFyIHI9bih0aGlzLl9jb25uZWN0aW9ucy5rZXlzKCkpLG89ci5uZXh0KCk7IW8uZG9uZTtvPXIubmV4dCgpKXt2YXIgaT1vLnZhbHVlO3RoaXMuX2NsZWFudXBQZWVyKGkpLHRoaXMuX2Nvbm5lY3Rpb25zLmRlbGV0ZShpKX19Y2F0Y2gocyl7ZT17ZXJyb3I6c319ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKHQ9ci5yZXR1cm4pJiZ0LmNhbGwocil9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpfSxpLnByb3RvdHlwZS5fY2xlYW51cFBlZXI9ZnVuY3Rpb24oZSl7dmFyIHQscixvPXRoaXMuX2Nvbm5lY3Rpb25zLmdldChlKTtpZihvKXRyeXtmb3IodmFyIGk9bihvKSxzPWkubmV4dCgpOyFzLmRvbmU7cz1pLm5leHQoKSl7cy52YWx1ZS5jbG9zZSgpfX1jYXRjaChhKXt0PXtlcnJvcjphfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19fSxpLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlzY29ubmVjdGVkKXt2YXIgZT10aGlzLmlkO2EuZGVmYXVsdC5sb2coXCJEaXNjb25uZWN0IHBlZXIgd2l0aCBJRDpcIitlKSx0aGlzLl9kaXNjb25uZWN0ZWQ9ITAsdGhpcy5fb3Blbj0hMSx0aGlzLnNvY2tldC5jbG9zZSgpLHRoaXMuX2xhc3RTZXJ2ZXJJZD1lLHRoaXMuX2lkPW51bGwsdGhpcy5lbWl0KGQuUGVlckV2ZW50VHlwZS5EaXNjb25uZWN0ZWQsZSl9fSxpLnByb3RvdHlwZS5yZWNvbm5lY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2Nvbm5lY3RlZCYmIXRoaXMuZGVzdHJveWVkKWEuZGVmYXVsdC5sb2coXCJBdHRlbXB0aW5nIHJlY29ubmVjdGlvbiB0byBzZXJ2ZXIgd2l0aCBJRCBcIit0aGlzLl9sYXN0U2VydmVySWQpLHRoaXMuX2Rpc2Nvbm5lY3RlZD0hMSx0aGlzLl9pbml0aWFsaXplKHRoaXMuX2xhc3RTZXJ2ZXJJZCk7ZWxzZXtpZih0aGlzLmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHBlZXIgY2Fubm90IHJlY29ubmVjdCB0byB0aGUgc2VydmVyLiBJdCBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC5cIik7aWYodGhpcy5kaXNjb25uZWN0ZWR8fHRoaXMub3Blbil0aHJvdyBuZXcgRXJyb3IoXCJQZWVyIFwiK3RoaXMuaWQrXCIgY2Fubm90IHJlY29ubmVjdCBiZWNhdXNlIGl0IGlzIG5vdCBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgc2VydmVyIVwiKTthLmRlZmF1bHQuZXJyb3IoXCJJbiBhIGh1cnJ5PyBXZSdyZSBzdGlsbCB0cnlpbmcgdG8gbWFrZSB0aGUgaW5pdGlhbCBjb25uZWN0aW9uIVwiKX19LGkucHJvdG90eXBlLmxpc3RBbGxQZWVycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3ZvaWQgMD09PWUmJihlPWZ1bmN0aW9uKGUpe30pLHRoaXMuX2FwaS5saXN0QWxsUGVlcnMoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2Fib3J0KGQuUGVlckVycm9yVHlwZS5TZXJ2ZXJFcnJvcixlKX0pfSxpLkRFRkFVTFRfS0VZPVwicGVlcmpzXCIsaX0oaS5FdmVudEVtaXR0ZXIpO2V4cG9ydHMuUGVlcj1mO1xufSx7XCJldmVudGVtaXR0ZXIzXCI6XCJKSmxTXCIsXCIuL3V0aWxcIjpcIkJIWGZcIixcIi4vbG9nZ2VyXCI6XCJXT3M5XCIsXCIuL3NvY2tldFwiOlwid0psdlwiLFwiLi9tZWRpYWNvbm5lY3Rpb25cIjpcImRiSFBcIixcIi4vZGF0YWNvbm5lY3Rpb25cIjpcIkdCVFFcIixcIi4vZW51bXNcIjpcIlpSWWZcIixcIi4vYXBpXCI6XCJpbjdMXCJ9XSxcImlUSzZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5wZWVyanM9dm9pZCAwO3ZhciBlPXJlcXVpcmUoXCIuL3V0aWxcIikscj1yZXF1aXJlKFwiLi9wZWVyXCIpO2V4cG9ydHMucGVlcmpzPXtQZWVyOnIuUGVlcix1dGlsOmUudXRpbH0sZXhwb3J0cy5kZWZhdWx0PXIuUGVlcix3aW5kb3cucGVlcmpzPWV4cG9ydHMucGVlcmpzLHdpbmRvdy5QZWVyPXIuUGVlcjtcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL3BlZXJcIjpcIkh4cGRcIn1dfSx7fSxbXCJpVEs2XCJdLCBudWxsKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9L3BlZXJqcy5taW4uanMubWFwIiwiZnVuY3Rpb24gd2VicGFja0VtcHR5Q29udGV4dChyZXEpIHtcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdHRocm93IGU7XG59XG53ZWJwYWNrRW1wdHlDb250ZXh0LmtleXMgPSAoKSA9PiAoW10pO1xud2VicGFja0VtcHR5Q29udGV4dC5yZXNvbHZlID0gd2VicGFja0VtcHR5Q29udGV4dDtcbndlYnBhY2tFbXB0eUNvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0IHN5bmMgcmVjdXJzaXZlXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlvID0gZXhwb3J0cy5Tb2NrZXQgPSBleHBvcnRzLk1hbmFnZXIgPSBleHBvcnRzLnByb3RvY29sID0gdm9pZCAwO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwiLi91cmxcIik7XG5jb25zdCBtYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9tYW5hZ2VyXCIpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJzb2NrZXQuaW8tY2xpZW50XCIpO1xuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gbG9va3VwO1xuLyoqXG4gKiBNYW5hZ2VycyBjYWNoZS5cbiAqL1xuY29uc3QgY2FjaGUgPSAoZXhwb3J0cy5tYW5hZ2VycyA9IHt9KTtcbmZ1bmN0aW9uIGxvb2t1cCh1cmksIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICB1cmkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIGNvbnN0IHBhcnNlZCA9IHVybF8xLnVybCh1cmksIG9wdHMucGF0aCB8fCBcIi9zb2NrZXQuaW9cIik7XG4gICAgY29uc3Qgc291cmNlID0gcGFyc2VkLnNvdXJjZTtcbiAgICBjb25zdCBpZCA9IHBhcnNlZC5pZDtcbiAgICBjb25zdCBwYXRoID0gcGFyc2VkLnBhdGg7XG4gICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IGNhY2hlW2lkXSAmJiBwYXRoIGluIGNhY2hlW2lkXVtcIm5zcHNcIl07XG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IG9wdHMuZm9yY2VOZXcgfHxcbiAgICAgICAgb3B0c1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdIHx8XG4gICAgICAgIGZhbHNlID09PSBvcHRzLm11bHRpcGxleCB8fFxuICAgICAgICBzYW1lTmFtZXNwYWNlO1xuICAgIGxldCBpbztcbiAgICBpZiAobmV3Q29ubmVjdGlvbikge1xuICAgICAgICBkZWJ1ZyhcImlnbm9yaW5nIHNvY2tldCBjYWNoZSBmb3IgJXNcIiwgc291cmNlKTtcbiAgICAgICAgaW8gPSBuZXcgbWFuYWdlcl8xLk1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcIm5ldyBpbyBpbnN0YW5jZSBmb3IgJXNcIiwgc291cmNlKTtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IG5ldyBtYW5hZ2VyXzEuTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlvID0gY2FjaGVbaWRdO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnlLZXk7XG4gICAgfVxuICAgIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuZXhwb3J0cy5pbyA9IGxvb2t1cDtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbnZhciBzb2NrZXRfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwic29ja2V0LmlvLXBhcnNlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByb3RvY29sXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzb2NrZXRfaW9fcGFyc2VyXzEucHJvdG9jb2w7IH0gfSk7XG4vKipcbiAqIGBjb25uZWN0YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJpXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydHMuY29ubmVjdCA9IGxvb2t1cDtcbi8qKlxuICogRXhwb3NlIGNvbnN0cnVjdG9ycyBmb3Igc3RhbmRhbG9uZSBidWlsZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbnZhciBtYW5hZ2VyXzIgPSByZXF1aXJlKFwiLi9tYW5hZ2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWFuYWdlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFuYWdlcl8yLk1hbmFnZXI7IH0gfSk7XG52YXIgc29ja2V0XzEgPSByZXF1aXJlKFwiLi9zb2NrZXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTb2NrZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvY2tldF8xLlNvY2tldDsgfSB9KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGxvb2t1cDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NYW5hZ2VyID0gdm9pZCAwO1xuY29uc3QgZWlvID0gcmVxdWlyZShcImVuZ2luZS5pby1jbGllbnRcIik7XG5jb25zdCBzb2NrZXRfMSA9IHJlcXVpcmUoXCIuL3NvY2tldFwiKTtcbmNvbnN0IHBhcnNlciA9IHJlcXVpcmUoXCJzb2NrZXQuaW8tcGFyc2VyXCIpO1xuY29uc3Qgb25fMSA9IHJlcXVpcmUoXCIuL29uXCIpO1xuY29uc3QgQmFja29mZiA9IHJlcXVpcmUoXCJiYWNrbzJcIik7XG5jb25zdCB0eXBlZF9ldmVudHNfMSA9IHJlcXVpcmUoXCIuL3R5cGVkLWV2ZW50c1wiKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpKFwic29ja2V0LmlvLWNsaWVudDptYW5hZ2VyXCIpO1xuY2xhc3MgTWFuYWdlciBleHRlbmRzIHR5cGVkX2V2ZW50c18xLlN0cmljdEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IodXJpLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnNwcyA9IHt9O1xuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLnBhdGggPSBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCI7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMob3B0cy5yZWNvbm5lY3Rpb25BdHRlbXB0cyB8fCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uRGVsYXkob3B0cy5yZWNvbm5lY3Rpb25EZWxheSB8fCAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuICAgICAgICB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3Iob3B0cy5yYW5kb21pemF0aW9uRmFjdG9yIHx8IDAuNSk7XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBCYWNrb2ZmKHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgICAgICAgICBqaXR0ZXI6IHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIGNvbnN0IF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gICAgICAgIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9hdXRvQ29ubmVjdCA9IG9wdHMuYXV0b0Nvbm5lY3QgIT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uQXR0ZW1wdHModikge1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvbm5lY3Rpb25EZWxheSh2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXkgPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRNaW4odik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByYW5kb21pemF0aW9uRmFjdG9yKHYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I7XG4gICAgICAgIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3IgPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRKaXR0ZXIodik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvbm5lY3Rpb25EZWxheU1heCh2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heDtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXggPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRNYXgodik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aW1lb3V0KHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRyeWluZyB0byByZWNvbm5lY3QgaWYgcmVjb25uZWN0aW9uIGlzIGVuYWJsZWQgYW5kIHdlIGhhdmUgbm90XG4gICAgICogc3RhcnRlZCByZWNvbm5lY3RpbmcgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1heWJlUmVjb25uZWN0T25PcGVuKCkge1xuICAgICAgICAvLyBPbmx5IHRyeSB0byByZWNvbm5lY3QgaWYgaXQncyB0aGUgZmlyc3QgdGltZSB3ZSdyZSBjb25uZWN0aW5nXG4gICAgICAgIGlmICghdGhpcy5fcmVjb25uZWN0aW5nICYmXG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb24gJiZcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5hdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAgICAgLy8ga2VlcHMgcmVjb25uZWN0aW9uIGZyb20gZmlyaW5nIHR3aWNlIGZvciB0aGUgc2FtZSByZWNvbm5lY3Rpb24gbG9vcFxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBgc29ja2V0YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gb3B0aW9uYWwsIGNhbGxiYWNrXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG9wZW4oZm4pIHtcbiAgICAgICAgZGVidWcoXCJyZWFkeVN0YXRlICVzXCIsIHRoaXMuX3JlYWR5U3RhdGUpO1xuICAgICAgICBpZiAofnRoaXMuX3JlYWR5U3RhdGUuaW5kZXhPZihcIm9wZW5cIikpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgZGVidWcoXCJvcGVuaW5nICVzXCIsIHRoaXMudXJpKTtcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlaW8odGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbl8xLm9uKHNvY2tldCwgXCJvcGVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYub25vcGVuKCk7XG4gICAgICAgICAgICBmbiAmJiBmbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZW1pdCBgZXJyb3JgXG4gICAgICAgIGNvbnN0IGVycm9yU3ViID0gb25fMS5vbihzb2NrZXQsIFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgZGVidWcoXCJlcnJvclwiKTtcbiAgICAgICAgICAgIHNlbGYuY2xlYW51cCgpO1xuICAgICAgICAgICAgc2VsZi5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBkbyB0aGlzIGlmIHRoZXJlIGlzIG5vIGZuIHRvIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICBzZWxmLm1heWJlUmVjb25uZWN0T25PcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmFsc2UgIT09IHRoaXMuX3RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICAgICAgICAgICAgZGVidWcoXCJjb25uZWN0IGF0dGVtcHQgd2lsbCB0aW1lb3V0IGFmdGVyICVkXCIsIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBvcGVuU3ViRGVzdHJveSgpOyAvLyBwcmV2ZW50cyBhIHJhY2UgY29uZGl0aW9uIHdpdGggdGhlICdvcGVuJyBldmVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHRpbWVyXG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlYnVnKFwiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZFwiLCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICBvcGVuU3ViRGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiZXJyb3JcIiwgbmV3IEVycm9yKFwidGltZW91dFwiKSk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKGZ1bmN0aW9uIHN1YkRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKG9wZW5TdWJEZXN0cm95KTtcbiAgICAgICAgdGhpcy5zdWJzLnB1c2goZXJyb3JTdWIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIG9wZW4oKVxuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbm5lY3QoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbihmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGRlYnVnKFwib3BlblwiKTtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbl8xLm9uKHNvY2tldCwgXCJwaW5nXCIsIHRoaXMub25waW5nLmJpbmQodGhpcykpLCBvbl8xLm9uKHNvY2tldCwgXCJkYXRhXCIsIHRoaXMub25kYXRhLmJpbmQodGhpcykpLCBvbl8xLm9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uXzEub24oc29ja2V0LCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSwgb25fMS5vbih0aGlzLmRlY29kZXIsIFwiZGVjb2RlZFwiLCB0aGlzLm9uZGVjb2RlZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgcGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25waW5nKCkge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZGF0YShkYXRhKSB7XG4gICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNvY2tldCBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25lcnJvcihlcnIpIHtcbiAgICAgICAgZGVidWcoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc29ja2V0IGZvciB0aGUgZ2l2ZW4gYG5zcGAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNvY2tldChuc3AsIG9wdHMpIHtcbiAgICAgICAgbGV0IHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuICAgICAgICBpZiAoIXNvY2tldCkge1xuICAgICAgICAgICAgc29ja2V0ID0gbmV3IHNvY2tldF8xLlNvY2tldCh0aGlzLCBuc3AsIG9wdHMpO1xuICAgICAgICAgICAgdGhpcy5uc3BzW25zcF0gPSBzb2NrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzb2NrZXQgY2xvc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc29ja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVzdHJveShzb2NrZXQpIHtcbiAgICAgICAgY29uc3QgbnNwcyA9IE9iamVjdC5rZXlzKHRoaXMubnNwcyk7XG4gICAgICAgIGZvciAoY29uc3QgbnNwIG9mIG5zcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuICAgICAgICAgICAgaWYgKHNvY2tldC5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhcInNvY2tldCAlcyBpcyBzdGlsbCBhY3RpdmUsIHNraXBwaW5nIGNsb3NlXCIsIG5zcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGRlYnVnKFwid3JpdGluZyBwYWNrZXQgJWpcIiwgcGFja2V0KTtcbiAgICAgICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSB0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZFBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLndyaXRlKGVuY29kZWRQYWNrZXRzW2ldLCBwYWNrZXQub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdHJhbnNwb3J0IHN1YnNjcmlwdGlvbnMgYW5kIHBhY2tldCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGRlYnVnKFwiY2xlYW51cFwiKTtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgZGVidWcoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLl9yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBgb25jbG9zZWAgd2lsbCBub3QgZmlyZSBiZWNhdXNlXG4gICAgICAgICAgICAvLyBhbiBvcGVuIGV2ZW50IG5ldmVyIGhhcHBlbmVkXG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIGlmICh0aGlzLmVuZ2luZSlcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmNsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBjbG9zZSgpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgY2xvc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uKSB7XG4gICAgICAgIGRlYnVnKFwib25jbG9zZVwiKTtcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24pO1xuICAgICAgICBpZiAodGhpcy5fcmVjb25uZWN0aW9uICYmICF0aGlzLnNraXBSZWNvbm5lY3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCBhIHJlY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVjb25uZWN0aW5nIHx8IHRoaXMuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuYmFja29mZi5hdHRlbXB0cyA+PSB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cykge1xuICAgICAgICAgICAgZGVidWcoXCJyZWNvbm5lY3QgZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9mYWlsZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5iYWNrb2ZmLmR1cmF0aW9uKCk7XG4gICAgICAgICAgICBkZWJ1ZyhcIndpbGwgd2FpdCAlZG1zIGJlZm9yZSByZWNvbm5lY3QgYXR0ZW1wdFwiLCBkZWxheSk7XG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZGVidWcoXCJhdHRlbXB0aW5nIHJlY29ubmVjdFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNlbGYub3BlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKFwicmVjb25uZWN0IGF0dGVtcHQgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJyZWNvbm5lY3Qgc3VjY2Vzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub25yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc3VjY2Vzc2Z1bCByZWNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ucmVjb25uZWN0KCkge1xuICAgICAgICBjb25zdCBhdHRlbXB0ID0gdGhpcy5iYWNrb2ZmLmF0dGVtcHRzO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0XCIsIGF0dGVtcHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWFuYWdlciA9IE1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub24gPSB2b2lkIDA7XG5mdW5jdGlvbiBvbihvYmosIGV2LCBmbikge1xuICAgIG9iai5vbihldiwgZm4pO1xuICAgIHJldHVybiBmdW5jdGlvbiBzdWJEZXN0cm95KCkge1xuICAgICAgICBvYmoub2ZmKGV2LCBmbik7XG4gICAgfTtcbn1cbmV4cG9ydHMub24gPSBvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Tb2NrZXQgPSB2b2lkIDA7XG5jb25zdCBzb2NrZXRfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwic29ja2V0LmlvLXBhcnNlclwiKTtcbmNvbnN0IG9uXzEgPSByZXF1aXJlKFwiLi9vblwiKTtcbmNvbnN0IHR5cGVkX2V2ZW50c18xID0gcmVxdWlyZShcIi4vdHlwZWQtZXZlbnRzXCIpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldFwiKTtcbi8qKlxuICogSW50ZXJuYWwgZXZlbnRzLlxuICogVGhlc2UgZXZlbnRzIGNhbid0IGJlIGVtaXR0ZWQgYnkgdGhlIHVzZXIuXG4gKi9cbmNvbnN0IFJFU0VSVkVEX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGNvbm5lY3Q6IDEsXG4gICAgY29ubmVjdF9lcnJvcjogMSxcbiAgICBkaXNjb25uZWN0OiAxLFxuICAgIGRpc2Nvbm5lY3Rpbmc6IDEsXG4gICAgLy8gRXZlbnRFbWl0dGVyIHJlc2VydmVkIGV2ZW50czogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZXZlbnRfbmV3bGlzdGVuZXJcbiAgICBuZXdMaXN0ZW5lcjogMSxcbiAgICByZW1vdmVMaXN0ZW5lcjogMSxcbn0pO1xuY2xhc3MgU29ja2V0IGV4dGVuZHMgdHlwZWRfZXZlbnRzXzEuU3RyaWN0RXZlbnRFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBgU29ja2V0YCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpbywgbnNwLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5pZHMgPSAwO1xuICAgICAgICB0aGlzLmFja3MgPSB7fTtcbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICB0aGlzLmlvID0gaW87XG4gICAgICAgIHRoaXMubnNwID0gbnNwO1xuICAgICAgICB0aGlzLmlkcyA9IDA7XG4gICAgICAgIHRoaXMuYWNrcyA9IHt9O1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLmF1dGgpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCA9IG9wdHMuYXV0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pby5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN1YkV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VicylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW8gPSB0aGlzLmlvO1xuICAgICAgICB0aGlzLnN1YnMgPSBbXG4gICAgICAgICAgICBvbl8xLm9uKGlvLCBcIm9wZW5cIiwgdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbl8xLm9uKGlvLCBcInBhY2tldFwiLCB0aGlzLm9ucGFja2V0LmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb25fMS5vbihpbywgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbl8xLm9uKGlvLCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgU29ja2V0IHdpbGwgdHJ5IHRvIHJlY29ubmVjdCB3aGVuIGl0cyBNYW5hZ2VyIGNvbm5lY3RzIG9yIHJlY29ubmVjdHNcbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnN1YnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFwiT3BlbnNcIiB0aGUgc29ja2V0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLnN1YkV2ZW50cygpO1xuICAgICAgICBpZiAoIXRoaXMuaW9bXCJfcmVjb25uZWN0aW5nXCJdKVxuICAgICAgICAgICAgdGhpcy5pby5vcGVuKCk7IC8vIGVuc3VyZSBvcGVuXG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5pby5fcmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHRoaXMub25vcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgY29ubmVjdCgpXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGBtZXNzYWdlYCBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZW5kKC4uLmFyZ3MpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KFwibWVzc2FnZVwiKTtcbiAgICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgYGVtaXRgLlxuICAgICAqIElmIHRoZSBldmVudCBpcyBpbiBgZXZlbnRzYCwgaXQncyBlbWl0dGVkIG5vcm1hbGx5LlxuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGVtaXQoZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZXYgKyAnXCIgaXMgYSByZXNlcnZlZCBldmVudCBuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy51bnNoaWZ0KGV2KTtcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9IHRoaXMuZmxhZ3MuY29tcHJlc3MgIT09IGZhbHNlO1xuICAgICAgICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgZGVidWcoXCJlbWl0dGluZyBwYWNrZXQgd2l0aCBhY2sgaWQgJWRcIiwgdGhpcy5pZHMpO1xuICAgICAgICAgICAgdGhpcy5hY2tzW3RoaXMuaWRzXSA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSB0aGlzLmlkcysrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzVHJhbnNwb3J0V3JpdGFibGUgPSB0aGlzLmlvLmVuZ2luZSAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0ICYmXG4gICAgICAgICAgICB0aGlzLmlvLmVuZ2luZS50cmFuc3BvcnQud3JpdGFibGU7XG4gICAgICAgIGNvbnN0IGRpc2NhcmRQYWNrZXQgPSB0aGlzLmZsYWdzLnZvbGF0aWxlICYmICghaXNUcmFuc3BvcnRXcml0YWJsZSB8fCAhdGhpcy5jb25uZWN0ZWQpO1xuICAgICAgICBpZiAoZGlzY2FyZFBhY2tldCkge1xuICAgICAgICAgICAgZGVidWcoXCJkaXNjYXJkIHBhY2tldCBhcyB0aGUgdHJhbnNwb3J0IGlzIG5vdCBjdXJyZW50bHkgd3JpdGFibGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFja2V0KHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRCdWZmZXIucHVzaChwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGFja2V0KHBhY2tldCkge1xuICAgICAgICBwYWNrZXQubnNwID0gdGhpcy5uc3A7XG4gICAgICAgIHRoaXMuaW8uX3BhY2tldChwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGRlYnVnKFwidHJhbnNwb3J0IGlzIG9wZW4gLSBjb25uZWN0aW5nXCIpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYXV0aCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFja2V0KHsgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQ09OTkVDVCwgZGF0YSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5DT05ORUNULCBkYXRhOiB0aGlzLmF1dGggfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIG9yIG1hbmFnZXIgYGVycm9yYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlcnJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBgY2xvc2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlYXNvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jbG9zZShyZWFzb24pIHtcbiAgICAgICAgZGVidWcoXCJjbG9zZSAoJXMpXCIsIHJlYXNvbik7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaWQ7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGlzY29ubmVjdFwiLCByZWFzb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHBhY2tldC5kYXRhLnNpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhY2tldC5kYXRhLnNpZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3QoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIG5ldyBFcnJvcihcIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgICAgICB0aGlzLm9uYWNrKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKHBhY2tldC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHBhY2tldC5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmV2ZW50KHBhY2tldCkge1xuICAgICAgICBjb25zdCBhcmdzID0gcGFja2V0LmRhdGEgfHwgW107XG4gICAgICAgIGRlYnVnKFwiZW1pdHRpbmcgZXZlbnQgJWpcIiwgYXJncyk7XG4gICAgICAgIGlmIChudWxsICE9IHBhY2tldC5pZCkge1xuICAgICAgICAgICAgZGVidWcoXCJhdHRhY2hpbmcgYWNrIGNhbGxiYWNrIHRvIGV2ZW50XCIpO1xuICAgICAgICAgICAgYXJncy5wdXNoKHRoaXMuYWNrKHBhY2tldC5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChPYmplY3QuZnJlZXplKGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWl0RXZlbnQoYXJncykge1xuICAgICAgICBpZiAodGhpcy5fYW55TGlzdGVuZXJzICYmIHRoaXMuX2FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlci5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhbiBhY2sgY2FsbGJhY2sgdG8gZW1pdCB3aXRoIGFuIGV2ZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhY2soaWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBzZW50ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gcHJldmVudCBkb3VibGUgY2FsbGJhY2tzXG4gICAgICAgICAgICBpZiAoc2VudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIGRlYnVnKFwic2VuZGluZyBhY2sgJWpcIiwgYXJncyk7XG4gICAgICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgICAgICAgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQUNLLFxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGFja25vd2xlZ2VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25hY2socGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFjayA9IHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWNrKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcImNhbGxpbmcgYWNrICVzIHdpdGggJWpcIiwgcGFja2V0LmlkLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBhY2suYXBwbHkodGhpcywgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoXCJiYWQgYWNrICVzXCIsIHBhY2tldC5pZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY29ubmVjdChpZCkge1xuICAgICAgICBkZWJ1ZyhcInNvY2tldCBjb25uZWN0ZWQgd2l0aCBpZCAlc1wiLCBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVtaXRCdWZmZXJlZCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXQgYnVmZmVyZWQgZXZlbnRzIChyZWNlaXZlZCBhbmQgZW1pdHRlZCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGVtaXRCdWZmZXJlZCgpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLmZvckVhY2goKGFyZ3MpID0+IHRoaXMuZW1pdEV2ZW50KGFyZ3MpKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5mb3JFYWNoKChwYWNrZXQpID0+IHRoaXMucGFja2V0KHBhY2tldCkpO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGRpc2Nvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZGlzY29ubmVjdCgpIHtcbiAgICAgICAgZGVidWcoXCJzZXJ2ZXIgZGlzY29ubmVjdCAoJXMpXCIsIHRoaXMubnNwKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMub25jbG9zZShcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBmb3JjZWQgY2xpZW50L3NlcnZlciBzaWRlIGRpc2Nvbm5lY3Rpb25zLFxuICAgICAqIHRoaXMgbWV0aG9kIGVuc3VyZXMgdGhlIG1hbmFnZXIgc3RvcHMgdHJhY2tpbmcgdXMgYW5kXG4gICAgICogdGhhdCByZWNvbm5lY3Rpb25zIGRvbid0IGdldCB0cmlnZ2VyZWQgZm9yIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMpIHtcbiAgICAgICAgICAgIC8vIGNsZWFuIHN1YnNjcmlwdGlvbnMgdG8gYXZvaWQgcmVjb25uZWN0aW9uc1xuICAgICAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgICAgICB0aGlzLnN1YnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pb1tcIl9kZXN0cm95XCJdKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgc29ja2V0IG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgZGVidWcoXCJwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKVwiLCB0aGlzLm5zcCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkRJU0NPTk5FQ1QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgZGlzY29ubmVjdCgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29tcHJlc3MgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbXByZXNzKGNvbXByZXNzKSB7XG4gICAgICAgIHRoaXMuZmxhZ3MuY29tcHJlc3MgPSBjb21wcmVzcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYSBtb2RpZmllciBmb3IgYSBzdWJzZXF1ZW50IGV2ZW50IGVtaXNzaW9uIHRoYXQgdGhlIGV2ZW50IG1lc3NhZ2Ugd2lsbCBiZSBkcm9wcGVkIHdoZW4gdGhpcyBzb2NrZXQgaXMgbm90XG4gICAgICogcmVhZHkgdG8gc2VuZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0IHZvbGF0aWxlKCkge1xuICAgICAgICB0aGlzLmZsYWdzLnZvbGF0aWxlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvbkFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBwcmVwZW5kQW55KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgb2ZmQW55KGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fYW55TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyID09PSBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRoYXQgYXJlIGxpc3RlbmluZyBmb3IgYW55IGV2ZW50IHRoYXQgaXMgc3BlY2lmaWVkLiBUaGlzIGFycmF5IGNhbiBiZSBtYW5pcHVsYXRlZCxcbiAgICAgKiBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbGlzdGVuZXJzQW55KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgIH1cbn1cbmV4cG9ydHMuU29ja2V0ID0gU29ja2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmljdEV2ZW50RW1pdHRlciA9IHZvaWQgMDtcbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKFwiY29tcG9uZW50LWVtaXR0ZXJcIik7XG4vKipcbiAqIFN0cmljdGx5IHR5cGVkIHZlcnNpb24gb2YgYW4gYEV2ZW50RW1pdHRlcmAuIEEgYFR5cGVkRXZlbnRFbWl0dGVyYCB0YWtlcyB0eXBlXG4gKiBwYXJhbWV0ZXJzIGZvciBtYXBwaW5ncyBvZiBldmVudCBuYW1lcyB0byBldmVudCBkYXRhIHR5cGVzLCBhbmQgc3RyaWN0bHlcbiAqIHR5cGVzIG1ldGhvZCBjYWxscyB0byB0aGUgYEV2ZW50RW1pdHRlcmAgYWNjb3JkaW5nIHRvIHRoZXNlIGV2ZW50IG1hcHMuXG4gKlxuICogQHR5cGVQYXJhbSBMaXN0ZW5FdmVudHMgLSBgRXZlbnRzTWFwYCBvZiB1c2VyLWRlZmluZWQgZXZlbnRzIHRoYXQgY2FuIGJlXG4gKiBsaXN0ZW5lZCB0byB3aXRoIGBvbmAgb3IgYG9uY2VgXG4gKiBAdHlwZVBhcmFtIEVtaXRFdmVudHMgLSBgRXZlbnRzTWFwYCBvZiB1c2VyLWRlZmluZWQgZXZlbnRzIHRoYXQgY2FuIGJlXG4gKiBlbWl0dGVkIHdpdGggYGVtaXRgXG4gKiBAdHlwZVBhcmFtIFJlc2VydmVkRXZlbnRzIC0gYEV2ZW50c01hcGAgb2YgcmVzZXJ2ZWQgZXZlbnRzLCB0aGF0IGNhbiBiZVxuICogZW1pdHRlZCBieSBzb2NrZXQuaW8gd2l0aCBgZW1pdFJlc2VydmVkYCwgYW5kIGNhbiBiZSBsaXN0ZW5lZCB0byB3aXRoXG4gKiBgbGlzdGVuYC5cbiAqL1xuY2xhc3MgU3RyaWN0RXZlbnRFbWl0dGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgYGxpc3RlbmVyYCBmdW5jdGlvbiBhcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYGV2YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldiBOYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBDYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uKGV2LCBsaXN0ZW5lcikge1xuICAgICAgICBzdXBlci5vbihldiwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZS10aW1lIGBsaXN0ZW5lcmAgZnVuY3Rpb24gYXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGBldmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXYgTmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbmNlKGV2LCBsaXN0ZW5lcikge1xuICAgICAgICBzdXBlci5vbmNlKGV2LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldiBOYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSBhcmdzIFZhbHVlcyB0byBzZW5kIHRvIGxpc3RlbmVycyBvZiB0aGlzIGV2ZW50XG4gICAgICovXG4gICAgZW1pdChldiwgLi4uYXJncykge1xuICAgICAgICBzdXBlci5lbWl0KGV2LCAuLi5hcmdzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGEgcmVzZXJ2ZWQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBgcHJvdGVjdGVkYCwgc28gdGhhdCBvbmx5IGEgY2xhc3MgZXh0ZW5kaW5nXG4gICAgICogYFN0cmljdEV2ZW50RW1pdHRlcmAgY2FuIGVtaXQgaXRzIG93biByZXNlcnZlZCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXYgUmVzZXJ2ZWQgZXZlbnQgbmFtZVxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBlbWl0IGFsb25nIHdpdGggdGhlIGV2ZW50XG4gICAgICovXG4gICAgZW1pdFJlc2VydmVkKGV2LCAuLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLmVtaXQoZXYsIC4uLmFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgbGlzdGVuZXJzIHN1YnNjcmliZWQgdG8gYGV2ZW50YFxuICAgICAqL1xuICAgIGxpc3RlbmVycyhldmVudCkge1xuICAgICAgICByZXR1cm4gc3VwZXIubGlzdGVuZXJzKGV2ZW50KTtcbiAgICB9XG59XG5leHBvcnRzLlN0cmljdEV2ZW50RW1pdHRlciA9IFN0cmljdEV2ZW50RW1pdHRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51cmwgPSB2b2lkIDA7XG5jb25zdCBwYXJzZXVyaSA9IHJlcXVpcmUoXCJwYXJzZXVyaVwiKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpKFwic29ja2V0LmlvLWNsaWVudDp1cmxcIik7XG4vKipcbiAqIFVSTCBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHVyaSAtIHVybFxuICogQHBhcmFtIHBhdGggLSB0aGUgcmVxdWVzdCBwYXRoIG9mIHRoZSBjb25uZWN0aW9uXG4gKiBAcGFyYW0gbG9jIC0gQW4gb2JqZWN0IG1lYW50IHRvIG1pbWljIHdpbmRvdy5sb2NhdGlvbi5cbiAqICAgICAgICBEZWZhdWx0cyB0byB3aW5kb3cubG9jYXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgZGVidWcoXCJwcm90b2NvbC1sZXNzIHVybCAlc1wiLCB1cmkpO1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgZGVidWcoXCJwYXJzZSAlc1wiLCB1cmkpO1xuICAgICAgICBvYmogPSBwYXJzZXVyaSh1cmkpO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgICBpZiAoIW9iai5wb3J0KSB7XG4gICAgICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICBvYmoucG9ydCA9IFwiNDQzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JqLnBhdGggPSBvYmoucGF0aCB8fCBcIi9cIjtcbiAgICBjb25zdCBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgIGNvbnN0IGhvc3QgPSBpcHY2ID8gXCJbXCIgKyBvYmouaG9zdCArIFwiXVwiIDogb2JqLmhvc3Q7XG4gICAgLy8gZGVmaW5lIHVuaXF1ZSBpZFxuICAgIG9iai5pZCA9IG9iai5wcm90b2NvbCArIFwiOi8vXCIgKyBob3N0ICsgXCI6XCIgKyBvYmoucG9ydCArIHBhdGg7XG4gICAgLy8gZGVmaW5lIGhyZWZcbiAgICBvYmouaHJlZiA9XG4gICAgICAgIG9iai5wcm90b2NvbCArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIGhvc3QgK1xuICAgICAgICAgICAgKGxvYyAmJiBsb2MucG9ydCA9PT0gb2JqLnBvcnQgPyBcIlwiIDogXCI6XCIgKyBvYmoucG9ydCk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydHMudXJsID0gdXJsO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4gZW5hYmxlT3ZlcnJpZGUgPT09IG51bGwgPyBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSkgOiBlbmFibGVPdmVycmlkZSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQgPSBleHBvcnRzLmRlY29uc3RydWN0UGFja2V0ID0gdm9pZCAwO1xuY29uc3QgaXNfYmluYXJ5XzEgPSByZXF1aXJlKFwiLi9pcy1iaW5hcnlcIik7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0KSB7XG4gICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgIGNvbnN0IHBhY2tldERhdGEgPSBwYWNrZXQuZGF0YTtcbiAgICBjb25zdCBwYWNrID0gcGFja2V0O1xuICAgIHBhY2suZGF0YSA9IF9kZWNvbnN0cnVjdFBhY2tldChwYWNrZXREYXRhLCBidWZmZXJzKTtcbiAgICBwYWNrLmF0dGFjaG1lbnRzID0gYnVmZmVycy5sZW5ndGg7IC8vIG51bWJlciBvZiBiaW5hcnkgJ2F0dGFjaG1lbnRzJ1xuICAgIHJldHVybiB7IHBhY2tldDogcGFjaywgYnVmZmVyczogYnVmZmVycyB9O1xufVxuZXhwb3J0cy5kZWNvbnN0cnVjdFBhY2tldCA9IGRlY29uc3RydWN0UGFja2V0O1xuZnVuY3Rpb24gX2RlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChpc19iaW5hcnlfMS5pc0JpbmFyeShkYXRhKSkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IHsgX3BsYWNlaG9sZGVyOiB0cnVlLCBudW06IGJ1ZmZlcnMubGVuZ3RoIH07XG4gICAgICAgIGJ1ZmZlcnMucHVzaChkYXRhKTtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmICEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiByZWNvbnN0cnVjdFBhY2tldChwYWNrZXQsIGJ1ZmZlcnMpIHtcbiAgICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gICAgcGFja2V0LmF0dGFjaG1lbnRzID0gdW5kZWZpbmVkOyAvLyBubyBsb25nZXIgdXNlZnVsXG4gICAgcmV0dXJuIHBhY2tldDtcbn1cbmV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQgPSByZWNvbnN0cnVjdFBhY2tldDtcbmZ1bmN0aW9uIF9yZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLl9wbGFjZWhvbGRlcikge1xuICAgICAgICByZXR1cm4gYnVmZmVyc1tkYXRhLm51bV07IC8vIGFwcHJvcHJpYXRlIGJ1ZmZlciAoc2hvdWxkIGJlIG5hdHVyYWwgb3JkZXIgYW55d2F5KVxuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGVjb2RlciA9IGV4cG9ydHMuRW5jb2RlciA9IGV4cG9ydHMuUGFja2V0VHlwZSA9IGV4cG9ydHMucHJvdG9jb2wgPSB2b2lkIDA7XG5jb25zdCBFbWl0dGVyID0gcmVxdWlyZShcImNvbXBvbmVudC1lbWl0dGVyXCIpO1xuY29uc3QgYmluYXJ5XzEgPSByZXF1aXJlKFwiLi9iaW5hcnlcIik7XG5jb25zdCBpc19iaW5hcnlfMSA9IHJlcXVpcmUoXCIuL2lzLWJpbmFyeVwiKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZShcImRlYnVnXCIpKFwic29ja2V0LmlvLXBhcnNlclwiKTtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydHMucHJvdG9jb2wgPSA1O1xudmFyIFBhY2tldFR5cGU7XG4oZnVuY3Rpb24gKFBhY2tldFR5cGUpIHtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUXCJdID0gMF0gPSBcIkNPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJESVNDT05ORUNUXCJdID0gMV0gPSBcIkRJU0NPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJFVkVOVFwiXSA9IDJdID0gXCJFVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkFDS1wiXSA9IDNdID0gXCJBQ0tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUX0VSUk9SXCJdID0gNF0gPSBcIkNPTk5FQ1RfRVJST1JcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfRVZFTlRcIl0gPSA1XSA9IFwiQklOQVJZX0VWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0FDS1wiXSA9IDZdID0gXCJCSU5BUllfQUNLXCI7XG59KShQYWNrZXRUeXBlID0gZXhwb3J0cy5QYWNrZXRUeXBlIHx8IChleHBvcnRzLlBhY2tldFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHNvY2tldC5pbyBFbmNvZGVyIGluc3RhbmNlXG4gKi9cbmNsYXNzIEVuY29kZXIge1xuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBlbmNvZGUob2JqKSB7XG4gICAgICAgIGRlYnVnKFwiZW5jb2RpbmcgcGFja2V0ICVqXCIsIG9iaik7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVCB8fCBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5BQ0spIHtcbiAgICAgICAgICAgIGlmIChpc19iaW5hcnlfMS5oYXNCaW5hcnkob2JqKSkge1xuICAgICAgICAgICAgICAgIG9iai50eXBlID1cbiAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gUGFja2V0VHlwZS5CSU5BUllfRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogUGFja2V0VHlwZS5CSU5BUllfQUNLO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZUFzQmluYXJ5KG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwiZW5jb2RlZCAlaiBhcyAlc1wiLCBvYmosIHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSBiaW5hcnlfMS5kZWNvbnN0cnVjdFBhY2tldChvYmopO1xuICAgICAgICBjb25zdCBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcbiAgICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxufVxuZXhwb3J0cy5FbmNvZGVyID0gRW5jb2Rlcjtcbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5jbGFzcyBEZWNvZGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gZW5jb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICAgKi9cbiAgICBhZGQob2JqKSB7XG4gICAgICAgIGxldCBwYWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYWNrZXQgPSB0aGlzLmRlY29kZVN0cmluZyhvYmopO1xuICAgICAgICAgICAgaWYgKHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgICAgIHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgICAgICAvLyBiaW5hcnkgcGFja2V0J3MganNvblxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG5ldyBCaW5hcnlSZWNvbnN0cnVjdG9yKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgLy8gbm8gYXR0YWNobWVudHMsIGxhYmVsZWQgYmluYXJ5IGJ1dCBubyBiaW5hcnkgZGF0YSB0byBmb2xsb3dcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmF0dGFjaG1lbnRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmVtaXQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgICAgICAgICAgIHN1cGVyLmVtaXQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNfYmluYXJ5XzEuaXNCaW5hcnkob2JqKSB8fCBvYmouYmFzZTY0KSB7XG4gICAgICAgICAgICAvLyByYXcgYmluYXJ5IGRhdGFcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFja2V0ID0gdGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKG9iaik7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNlaXZlZCBmaW5hbCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAgICAgKi9cbiAgICBkZWNvZGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8gbG9vayB1cCB0eXBlXG4gICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIoc3RyLmNoYXJBdCgwKSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChQYWNrZXRUeXBlW3AudHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBwYWNrZXQgdHlwZSBcIiArIHAudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBhdHRhY2htZW50cyBpZiB0eXBlIGJpbmFyeVxuICAgICAgICBpZiAocC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgcC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoc3RyLmNoYXJBdCgrK2kpICE9PSBcIi1cIiAmJiBpICE9IHN0ci5sZW5ndGgpIHsgfVxuICAgICAgICAgICAgY29uc3QgYnVmID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgICAgICBpZiAoYnVmICE9IE51bWJlcihidWYpIHx8IHN0ci5jaGFyQXQoaSkgIT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuYXR0YWNobWVudHMgPSBOdW1iZXIoYnVmKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIG5hbWVzcGFjZSAoaWYgYW55KVxuICAgICAgICBpZiAoXCIvXCIgPT09IHN0ci5jaGFyQXQoaSArIDEpKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChcIixcIiA9PT0gYylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5uc3AgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAubnNwID0gXCIvXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBpZFxuICAgICAgICBjb25zdCBuZXh0ID0gc3RyLmNoYXJBdChpICsgMSk7XG4gICAgICAgIGlmIChcIlwiICE9PSBuZXh0ICYmIE51bWJlcihuZXh0KSA9PSBuZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGMgfHwgTnVtYmVyKGMpICE9IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5pZCA9IE51bWJlcihzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAganNvbiBkYXRhXG4gICAgICAgIGlmIChzdHIuY2hhckF0KCsraSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB0cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICAgICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwiZGVjb2RlZCAlcyBhcyAlalwiLCBzdHIsIHApO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgc3RhdGljIGlzUGF5bG9hZFZhbGlkKHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSAmJiBwYXlsb2FkLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVhbGxvY2F0ZXMgYSBwYXJzZXIncyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EZWNvZGVyID0gRGVjb2RlcjtcbmZ1bmN0aW9uIHRyeVBhcnNlKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQmluYXJ5UmVjb25zdHJ1Y3RvciB7XG4gICAgY29uc3RydWN0b3IocGFja2V0KSB7XG4gICAgICAgIHRoaXMucGFja2V0ID0gcGFja2V0O1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAgICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICAgICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAgICogICBhIHJlY29uc3RydWN0ZWQgcGFja2V0IG9iamVjdCBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gcmVjZWl2ZWQuXG4gICAgICovXG4gICAgdGFrZUJpbmFyeURhdGEoYmluRGF0YSkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkb25lIHdpdGggYnVmZmVyIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IGJpbmFyeV8xLnJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLCB0aGlzLmJ1ZmZlcnMpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaGFzQmluYXJ5ID0gZXhwb3J0cy5pc0JpbmFyeSA9IHZvaWQgMDtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBGaWxlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChGaWxlKSA9PT0gXCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIik7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYSBCdWZmZXIsIGFuIEFycmF5QnVmZmVyLCBhIEJsb2Igb3IgYSBGaWxlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzQmluYXJ5KG9iaikge1xuICAgIHJldHVybiAoKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJiAob2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KG9iaikpKSB8fFxuICAgICAgICAod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVGaWxlICYmIG9iaiBpbnN0YW5jZW9mIEZpbGUpKTtcbn1cbmV4cG9ydHMuaXNCaW5hcnkgPSBpc0JpbmFyeTtcbmZ1bmN0aW9uIGhhc0JpbmFyeShvYmosIHRvSlNPTikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmpbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNCaW5hcnkob2JqKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9iai50b0pTT04gJiZcbiAgICAgICAgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICYmIGhhc0JpbmFyeShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaGFzQmluYXJ5ID0gaGFzQmluYXJ5O1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4gZW5hYmxlT3ZlcnJpZGUgPT09IG51bGwgPyBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSkgOiBlbmFibGVPdmVycmlkZSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuTWFpblNjZW5lID0gZXhwb3J0cy5tYWluQ2hhcmFjdGVyaW5pdGlhbFBvc2l0aW9uID0gZXhwb3J0cy5pc1RvdWNoRGV2aWNlID0gdm9pZCAwO1xyXG5jb25zdCBlbmFibGUzZF8xID0gcmVxdWlyZShcImVuYWJsZTNkXCIpO1xyXG5jb25zdCBDaGFpcl8xID0gcmVxdWlyZShcIi4vbW9kdWxlcy9DaGFpclwiKTtcclxuY29uc3QgQ2hhcmFjdGVyXzEgPSByZXF1aXJlKFwiLi9tb2R1bGVzL0NoYXJhY3RlclwiKTtcclxuY29uc3QgQ2hhcmFjdGVyQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vbW9kdWxlcy9DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xyXG5jb25zdCBDbGFzc3Jvb20zRF8xID0gcmVxdWlyZShcIi4vbW9kdWxlcy9DbGFzc3Jvb20zRFwiKTtcclxuY29uc3QgQ2xhc3Nyb29tTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vbW9kdWxlcy9DbGFzc3Jvb21NYW5hZ2VyXCIpO1xyXG5jb25zdCBkYXRhXzEgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2RhdGFcIik7XHJcbi8qKlxyXG4qIElzIHRvdWNoIGRldmljZT9cclxuKi9cclxuZXhwb3J0cy5pc1RvdWNoRGV2aWNlID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xyXG5leHBvcnRzLm1haW5DaGFyYWN0ZXJpbml0aWFsUG9zaXRpb24gPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5WZWN0b3IzKC02ICsgTWF0aC5yYW5kb20oKSAqIDMsIDAsIDMgKyBNYXRoLnJhbmRvbSgpICogMik7XHJcbmNvbnN0IE1BWElNVU1fQVVESUJMRV9ESVNUQU5DRSA9IDEwO1xyXG5jbGFzcyBNYWluU2NlbmUgZXh0ZW5kcyBlbmFibGUzZF8xLlNjZW5lM0Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoeyBrZXk6IFwiTWFpblNjZW5lXCIgfSk7XHJcbiAgICAgICAgdGhpcy5zdWJDaGFyYWN0ZXJzID0ge307XHJcbiAgICAgICAgdGhpcy5jaGFpcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNsYXNzcm9vbSA9IG5ldyBDbGFzc3Jvb21NYW5hZ2VyXzEuQ2xhc3Nyb29tTWFuYWdlcih0aGlzKTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKE1hdGgubWF4KDEsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC8gMikpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnbWFuJywgJy4vcmVzb3VyY2VzL21vZGVscy9ib3hfbWFuL2JveF9tYW4uZ2xiJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmcxJywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3guanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmcyJywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3guanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmczJywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3kuanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmc0JywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3kuanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmc1JywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3ouanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnYmc2JywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3ouanBnJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQucHJlbG9hZCgnd29vZCcsICcuL3Jlc291cmNlcy90ZXh0dXJlcy93b29kLmpwZycpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkLnByZWxvYWQoJ2Zsb29yJywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL2Zsb29yLmpwZycpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkLnByZWxvYWQoJ2Zsb29yJywgJy4vcmVzb3VyY2VzL3RleHR1cmVzL2JvYXJkLmpwZycpXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHRoaXMud2FycFNwZWVkKCctZ3JvdW5kJywgJy1vcmJpdENvbnRyb2xzJywgJy1saWdodCcsICctc2t5Jyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucGh5c2ljcy5kZWJ1Zy5lbmFibGUoKVxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBTZXR1cCBMaWdodHNcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5zZXR1cExpZ2h0cygpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU2V0IHVwIEVudmlvcm5tZW50XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwRW52aW9ybm1lbnQoKTtcclxuICAgICAgICAgICAgLy8gQWRkIENoYXJhY3RlclxyXG4gICAgICAgICAgICB0aGlzLmFkZE1haW5DaGFyYWN0ZXIoZXhwb3J0cy5tYWluQ2hhcmFjdGVyaW5pdGlhbFBvc2l0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNldHVwRW52aW9ybm1lbnQoKSB7XHJcbiAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IGVuYWJsZTNkXzEuVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKTtcclxuICAgICAgICBjb25zdCB0ZXJyYWluVGV4dHVyZSA9IGxvYWRlci5sb2FkKFtcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3guanBnJyxcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3guanBnJyxcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3kuanBnJyxcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3kuanBnJyxcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL3Bvc3ouanBnJyxcclxuICAgICAgICAgICAgJy4vcmVzb3VyY2VzL3RleHR1cmVzL3dvcmxkL25lZ3ouanBnJyxcclxuICAgICAgICBdKTtcclxuICAgICAgICB0ZXJyYWluVGV4dHVyZS5lbmNvZGluZyA9IGVuYWJsZTNkXzEuVEhSRUUuc1JHQkVuY29kaW5nO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IHRlcnJhaW5UZXh0dXJlO1xyXG4gICAgICAgIHRoaXMuYWRkQ2xhc3Nyb29tKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiBkYXRhXzEuY2hhaXJQb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhaXIxID0gbmV3IENoYWlyXzEuQ2hhaXIoKTtcclxuICAgICAgICAgICAgY29uc3QgY2hhaXIyID0gbmV3IENoYWlyXzEuQ2hhaXIoKTtcclxuICAgICAgICAgICAgY2hhaXIxLnBvc2l0aW9uLnNldChpWzBdLCAwLCBpWzFdIC0gMC4zNSk7XHJcbiAgICAgICAgICAgIGNoYWlyMi5wb3NpdGlvbi5zZXQoaVswXSwgMCwgaVsxXSArIDAuMzUpO1xyXG4gICAgICAgICAgICBjaGFpcjEuYWRkVG9Xb3JsZCh0aGlzKTtcclxuICAgICAgICAgICAgY2hhaXIyLmFkZFRvV29ybGQodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhaXJzLnB1c2goY2hhaXIxKTtcclxuICAgICAgICAgICAgdGhpcy5jaGFpcnMucHVzaChjaGFpcjIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZENsYXNzcm9vbSgpIHtcclxuICAgICAgICBDbGFzc3Jvb20zRF8xLmFkZENsYXNzcm9vbVRvU2NlbmUodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzZXR1cExpZ2h0cygpIHtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IGVuYWJsZTNkXzEuVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweEZGRkZGRiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCgtNDAsIDMwLCAtNDApO1xyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSAtMC4wMDE7XHJcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDQwOTY7XHJcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSA0MDk2O1xyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gMC4xO1xyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSA1MDAuMDtcclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IDUwO1xyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IC01MDtcclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gNTA7XHJcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmJvdHRvbSA9IC01MDtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0KTtcclxuICAgICAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5BbWJpZW50TGlnaHQoMHhGRkZGRkYsIDEpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XHJcbiAgICB9XHJcbiAgICBhZGRNYWluQ2hhcmFjdGVyKGluaXRpYWxQb3NpdGlvbiA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMubWFpbkNoYXJhY3RlciA9IG5ldyBDaGFyYWN0ZXJfMS5DaGFyYWN0ZXIoe1xyXG4gICAgICAgICAgICBzY2VuZTogdGhpcyxcclxuICAgICAgICAgICAgaW5pdGlhbFBvc2l0aW9uOiBleHBvcnRzLm1haW5DaGFyYWN0ZXJpbml0aWFsUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuY2xhc3Nyb29tLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBvblJlYWR5OiAoY2hhcmFjdGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSBuZXcgQ2hhcmFjdGVyQ29udHJvbGxlcl8xLkNoYXJhY3RlckNvbnRyb2xsZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcixcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNldE1haW5DaGFyYWN0ZXJDb2xvckZyb21TdHJpbmcoY29sb3IpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gdGhpcy5tYWluQ2hhcmFjdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Q29sb3IobmV3IGVuYWJsZTNkXzEuVEhSRUUuQ29sb3IoY29sb3IpKTtcclxuICAgIH1cclxuICAgIGFkZFN1YkNoYXJhY3RlcihjaGFyYWN0ZXIpIHtcclxuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRoaXMuc3ViQ2hhcmFjdGVycykuaW5jbHVkZXMoJ3V1aWQnKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5WZWN0b3IzKGNoYXJhY3Rlci5wb3NpdGlvbi54LCBjaGFyYWN0ZXIucG9zaXRpb24ueSwgY2hhcmFjdGVyLnBvc2l0aW9uLnopO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdDaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyXzEuQ2hhcmFjdGVyKHsgc2NlbmU6IHRoaXMsIGNvbG9yOiBuZXcgZW5hYmxlM2RfMS5USFJFRS5Db2xvcihjaGFyYWN0ZXIuY29sb3IpLCBpbml0aWFsUG9zaXRpb24sIG5hbWU6IGNoYXJhY3Rlci51c2VybmFtZSB9KTtcclxuICAgICAgICAgICAgbmV3Q2hhcmFjdGVyLmxvb2tpbmdBdC5zZXQoLi4uY2hhcmFjdGVyLmxvb2tpbmdBdCk7XHJcbiAgICAgICAgICAgIG5ld0NoYXJhY3Rlci5pc1NpdHRpbmcgPSBjaGFyYWN0ZXIuaXNTaXR0aW5nO1xyXG4gICAgICAgICAgICBuZXdDaGFyYWN0ZXIuYWRkTmFtZUxhYmVsKGNoYXJhY3Rlci51c2VybmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViQ2hhcmFjdGVyc1tjaGFyYWN0ZXIudXVpZF0gPSBuZXdDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IGNoYXJhY3RlciBhZGRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXBkYXRlKHRpbWUsIGRlbHRhKTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnN1YkNoYXJhY3RlcnMpLmZvckVhY2godXVpZCA9PiB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGhpcy5zdWJDaGFyYWN0ZXJzW3V1aWRdO1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXIudXBkYXRlKHRpbWUsIGRlbHRhKTtcclxuICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLm1haW5DaGFyYWN0ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YXJnZXQpICYmIGNoYXJhY3Rlci50YXJnZXQgJiYgdGhpcy5jbGFzc3Jvb20uYXVkaW9zW3V1aWRdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMubWFpbkNoYXJhY3Rlci50YXJnZXQucG9zaXRpb24uZGlzdGFuY2VUbyhjaGFyYWN0ZXIudGFyZ2V0LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3Nyb29tLmF1ZGlvc1t1dWlkXS52b2x1bWUgPSBNYXRoLm1heCgoTUFYSU1VTV9BVURJQkxFX0RJU1RBTkNFIC0gZGlzdGFuY2UpIC8gTUFYSU1VTV9BVURJQkxFX0RJU1RBTkNFLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuTWFpblNjZW5lID0gTWFpblNjZW5lO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgIGVuYWJsZTNkXzEuUGh5c2ljc0xvYWRlcignYW1tbycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gbmV3IGVuYWJsZTNkXzEuUHJvamVjdCh7IGFudGlhbGlhczogdHJ1ZSwgbWF4U3ViU3RlcHM6IDEwLCBncmF2aXR5OiB7IHg6IDAsIHk6IC05LjgxLCB6OiAwIH0sIGZpeGVkVGltZVN0ZXA6IDEgLyAxMjAsIHNjZW5lczogW01haW5TY2VuZV0gfSk7XHJcbiAgICAgICAgcHJvamVjdC5jYW52YXMuc3R5bGUubWFyZ2luVG9wID0gJzBweCAhaW1wb3J0YW50JztcclxuICAgICAgICBjb25zdCBodG1sQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXNzcm9vbScpO1xyXG4gICAgICAgIGlmICghaHRtbENvbnRhaW5lcilcclxuICAgICAgICAgICAgdGhyb3cgKFwiQ2FuJ3QgZmluZCBhbiBodG1sIGVsZW1lbnQgd2l0aCBpZCBjbGFzc3Jvb21cIik7XHJcbiAgICAgICAgaHRtbENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0LmNhbnZhcyk7XHJcbiAgICAgICAgcHJvamVjdC5jYW52YXMuc3R5bGUubWFyZ2luVG9wID0gJzBweCAhaW1wb3J0YW50JztcclxuICAgICAgICBjb25zdCByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke25ld1dpZHRofXB4YDtcclxuICAgICAgICAgICAgaHRtbENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICBwcm9qZWN0LnJlbmRlcmVyLnNldFNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XHJcbiAgICAgICAgICAgIGlmICgnYXNwZWN0JyBpbiBwcm9qZWN0LmNhbWVyYSlcclxuICAgICAgICAgICAgICAgIHByb2plY3QuY2FtZXJhLmFzcGVjdCA9IG5ld1dpZHRoIC8gbmV3SGVpZ2h0O1xyXG4gICAgICAgICAgICBwcm9qZWN0LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cub25yZXNpemUgPSByZXNpemU7XHJcbiAgICAgICAgcmVzaXplKCk7XHJcbiAgICB9KTtcclxufSk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ2hhaXIgPSB2b2lkIDA7XHJcbmNvbnN0IGVuYWJsZTNkXzEgPSByZXF1aXJlKFwiZW5hYmxlM2RcIik7XHJcbmNvbnN0IGxvYWRlciA9IG5ldyBlbmFibGUzZF8xLlRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxuY2xhc3MgQ2hhaXIgZXh0ZW5kcyBlbmFibGUzZF8xLkV4dGVuZGVkT2JqZWN0M0Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBlbmFibGUzZF8xLlRIUkVFLkdyb3VwKCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweEZGODg0NCxcclxuICAgICAgICAgICAgbWFwOiBsb2FkZXIubG9hZCgnLi9yZXNvdXJjZXMvdGV4dHVyZXMvd29vZC5qcGcnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZChuZXcgZW5hYmxlM2RfMS5USFJFRS5NZXNoKG5ldyBlbmFibGUzZF8xLlRIUkVFLkJveEdlb21ldHJ5KDAuMSwgMSwgMC4xKS50cmFuc2xhdGUoMC40NSwgMC41LCAwLjQ1KSkpOyAvLyBMZWcgMVxyXG4gICAgICAgIHRoaXMuYWRkKG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2gobmV3IGVuYWJsZTNkXzEuVEhSRUUuQm94R2VvbWV0cnkoMC4xLCAxLCAwLjEpLnRyYW5zbGF0ZSgwLjQ1LCAwLjUsIC0wLjQ1KSkpOyAvLyBMZWcgMlxyXG4gICAgICAgIHRoaXMuYWRkKG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2gobmV3IGVuYWJsZTNkXzEuVEhSRUUuQm94R2VvbWV0cnkoMC4xLCAxLCAwLjEpLnRyYW5zbGF0ZSgtMC40NSwgMC41LCAwLjQ1KSkpOyAvLyBMZWcgM1xyXG4gICAgICAgIHRoaXMuYWRkKG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2gobmV3IGVuYWJsZTNkXzEuVEhSRUUuQm94R2VvbWV0cnkoMC4xLCAxLCAwLjEpLnRyYW5zbGF0ZSgtMC40NSwgMC41LCAtMC40NSkpKTsgLy8gTGVnIDRcclxuICAgICAgICB0aGlzLmFkZChuZXcgZW5hYmxlM2RfMS5USFJFRS5NZXNoKG5ldyBlbmFibGUzZF8xLlRIUkVFLkJveEdlb21ldHJ5KDEsIDAuMTEsIDEpLnRyYW5zbGF0ZSgwLCAxLCAwKSkpOyAvLyBTZWF0XHJcbiAgICAgICAgdGhpcy5hZGQobmV3IGVuYWJsZTNkXzEuVEhSRUUuTWVzaChuZXcgZW5hYmxlM2RfMS5USFJFRS5Cb3hHZW9tZXRyeSgwLjEsIDEuMywgMSkudHJhbnNsYXRlKDAuNSwgMS42LCAwKSkpOyAvLyBTaWRlXHJcbiAgICAgICAgdGhpcy50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmlzTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5yb3VnaG5lc3MgPSAwLjU7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5tZXRhbG5lc3MgPSAwLjU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjYWxlLnNldFNjYWxhcigwLjQzKTtcclxuICAgIH1cclxuICAgIGFkZFRvV29ybGQoc2NlbmUpIHtcclxuICAgICAgICBzY2VuZS5hZGQuZXhpc3RpbmcodGhpcyk7XHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcywge1xyXG4gICAgICAgICAgICBzaGFwZTogJ2JveCcsXHJcbiAgICAgICAgICAgIHdpZHRoOiAwLjUsXHJcbiAgICAgICAgICAgIGhlaWdodDogMSxcclxuICAgICAgICAgICAgb2Zmc2V0OiB7IHk6IC0wLjI1IH0sXHJcbiAgICAgICAgICAgIG1hc3M6IDEwMDAwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYm9keS5zZXRGcmljdGlvbigxMDApO1xyXG4gICAgICAgIHRoaXMuYm9keS5zZXRDb2xsaXNpb25GbGFncygwKTtcclxuICAgICAgICB0aGlzLmJvZHkuc2V0QW5ndWxhckZhY3RvcigwLCAwLCAwKTtcclxuICAgICAgICAvLyBodHRwczovL2RvY3MucGFuZGEzZC5vcmcvMS4xMC9weXRob24vcHJvZ3JhbW1pbmcvcGh5c2ljcy9idWxsZXQvY2NkXHJcbiAgICAgICAgdGhpcy5ib2R5LnNldENjZE1vdGlvblRocmVzaG9sZCgxZS03KTtcclxuICAgICAgICB0aGlzLmJvZHkuc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXMoMC4yNSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5DaGFpciA9IENoYWlyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ2hhcmFjdGVyID0gdm9pZCAwO1xyXG5jb25zdCBlbmFibGUzZF8xID0gcmVxdWlyZShcImVuYWJsZTNkXCIpO1xyXG5jb25zdCBfXzEgPSByZXF1aXJlKFwiLi5cIik7XHJcbmNvbnN0IERFRkFVTFRfVkVDVE9SXzMgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5WZWN0b3IzKCk7XHJcbmNvbnN0IE1PVkVNRU5UX1NQRUVEID0gMy41O1xyXG5jbGFzcyBDaGFyYWN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHRoaXMubG9va2luZ0F0ID0gbmV3IGVuYWJsZTNkXzEuVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuaXNNb3ZpbmdGb3J3YXJkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1NpdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcclxuICAgICAgICB0aGlzLmNvbG9yID0gKF9hID0gcGFyYW1zLmNvbG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgZW5hYmxlM2RfMS5USFJFRS5Db2xvcigweEZGRkZGRik7XHJcbiAgICAgICAgdGhpcy5sb2FkQ2hhcmFjdGVyKCk7XHJcbiAgICB9XHJcbiAgICBsb2FkQ2hhcmFjdGVyKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3QgPSB5aWVsZCB0aGlzLnBhcmFtcy5zY2VuZS5sb2FkLmdsdGYoJ21hbicpO1xyXG4gICAgICAgICAgICBjb25zdCBtYW4gPSBvYmplY3Quc2NlbmUuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IGVuYWJsZTNkXzEuRXh0ZW5kZWRPYmplY3QzRCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5uYW1lID0gJ2NoYXJhY3Rlcic7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJvdGF0ZVkoTWF0aC5QSSArIDAuMSk7IC8vIGEgaGFja1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGQobWFuKTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQucm90YXRpb24uc2V0KDAsIE1hdGguUEkgKiAxLjUsIDApO1xyXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSAoX2EgPSB0aGlzLnBhcmFtcy5pbml0aWFsUG9zaXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBlbmFibGUzZF8xLlRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICAgICAgaW5pdGlhbFBvc2l0aW9uLnNldFkoaW5pdGlhbFBvc2l0aW9uLnkpO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wb3NpdGlvbi5zZXQoLi4uaW5pdGlhbFBvc2l0aW9uLnRvQXJyYXkoKSk7XHJcbiAgICAgICAgICAgIC8vIEFkZCBzaGFkb3cgYW5kIENvbG9yXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzTWVzaCAmJiBjaGlsZC5uYW1lICE9ICduYW1lLWxhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5yb3VnaG5lc3MgPSAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubWV0YWxuZXNzID0gMC41O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogQW5pbWF0aW9uc1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvLyBhZCB0aGUgYm94IG1hbidzIGFuaW1hdGlvbiBtaXhlciB0byB0aGUgYW5pbWF0aW9uTWl4ZXJzIGFycmF5IChmb3IgYXV0byB1cGRhdGVzKVxyXG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5zY2VuZS5hbmltYXRpb25NaXhlcnMuYWRkKHRoaXMudGFyZ2V0LmFuaW1hdGlvbi5taXhlcik7XHJcbiAgICAgICAgICAgIG9iamVjdC5hbmltYXRpb25zLmZvckVhY2goYW5pbWF0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24ubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFuaW1hdGlvbi5hZGQoYW5pbWF0aW9uLm5hbWUsIGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hbmltYXRpb24ucGxheSgnaWRsZScpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBBZGQgdGhlIHBsYXllciB0byB0aGUgc2NlbmUgd2l0aCBhIGJvZHlcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5wYXJhbXMuc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRQaHlzaWNzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5vblJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5vblJlYWR5KHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgKF9hID0gdGhpcy50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmlzTWVzaCAmJiBjaGlsZC5uYW1lICE9ICduYW1lLWxhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGROYW1lTGFiZWwobmFtZSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAodGhpcy5uYW1lTGFiZWwpIHtcclxuICAgICAgICAgICAgKF9hID0gdGhpcy50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUodGhpcy5uYW1lTGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICBjdHguY2FudmFzLmhlaWdodCA9IDMwMDtcclxuICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSA0MDtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgyNTUsMjU1LDI1NSwxKVwiO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IFwiMjVweCBBcmlhbFwiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMDAwMDAwJztcclxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDg7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VUZXh0KG5hbWUsIDE1MCwgMjcuNSk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChuYW1lLCAxNTAsIDI3LjUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBlbmFibGUzZF8xLlRIUkVFLlRleHR1cmUoY2FudmFzKTtcclxuICAgICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBuYW1lTGFiZWwgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5NZXNoKG5ldyBlbmFibGUzZF8xLlRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMC4xNSksIG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlLCBzaWRlOiBlbmFibGUzZF8xLlRIUkVFLkRvdWJsZVNpZGUsIHRyYW5zcGFyZW50OiB0cnVlIH0pKTtcclxuICAgICAgICBuYW1lTGFiZWwubmFtZSA9ICduYW1lLWxhYmVsJztcclxuICAgICAgICBuYW1lTGFiZWwucG9zaXRpb24uc2V0WSgxLjI1KTtcclxuICAgICAgICB0aGlzLm5hbWVMYWJlbCA9IG5hbWVMYWJlbDtcclxuICAgICAgICBjb25zdCBhdHRhdGNoVG9UYXJnZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldClcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmFkZChuYW1lTGFiZWwpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXR0YXRjaFRvVGFyZ2V0LCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXR0YXRjaFRvVGFyZ2V0KCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmICghKChfYSA9IHRoaXMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYm9keSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuaXNTaXR0aW5nID09IGZhbHNlID8gdGhpcy5sb29raW5nQXQgOiBuZXcgZW5hYmxlM2RfMS5USFJFRS5WZWN0b3IzKC0xMDAwMDAwLCAwLCAwKTtcclxuICAgICAgICBjb25zdCB0aGV0YSA9IE1hdGguYXRhbjIocm90YXRpb24ueCwgcm90YXRpb24ueik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYm9keS5zZXRBbmd1bGFyVmVsb2NpdHlZKDApO1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uTWFuID0gdGhpcy50YXJnZXQuZ2V0V29ybGREaXJlY3Rpb24oREVGQVVMVF9WRUNUT1JfMyk7XHJcbiAgICAgICAgY29uc3QgdGhldGFNYW4gPSBNYXRoLmF0YW4yKHJvdGF0aW9uTWFuLngsIHJvdGF0aW9uTWFuLnopO1xyXG4gICAgICAgIGNvbnN0IGwgPSBNYXRoLmFicyh0aGV0YSAtIHRoZXRhTWFuKTtcclxuICAgICAgICBsZXQgcm90YXRpb25TcGVlZCA9IF9fMS5pc1RvdWNoRGV2aWNlID8gMiA6IDQ7XHJcbiAgICAgICAgbGV0IGQgPSBNYXRoLlBJIC8gMjQ7XHJcbiAgICAgICAgaWYgKGwgPiBkKSB7XHJcbiAgICAgICAgICAgIGlmIChsID4gTWF0aC5QSSAtIGQpXHJcbiAgICAgICAgICAgICAgICByb3RhdGlvblNwZWVkICo9IC0xO1xyXG4gICAgICAgICAgICBpZiAodGhldGEgPCB0aGV0YU1hbilcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uU3BlZWQgKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJvZHkuc2V0QW5ndWxhclZlbG9jaXR5WShyb3RhdGlvblNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnRhcmdldC5hbmltYXRpb24uY3VycmVudCkge1xyXG4gICAgICAgICAgICBjYXNlICdpZGxlJzpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTW92aW5nRm9yd2FyZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYW5pbWF0aW9uLnBsYXkoJ3J1bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTaXR0aW5nID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5hbmltYXRpb24ucGxheSgnc2l0X2Rvd25fcmlnaHQnLCB1bmRlZmluZWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5ib2R5LnNldFZlbG9jaXR5WSgzLjIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJvZHkuc2V0VmVsb2NpdHlYKDEpOyB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1bic6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01vdmluZ0ZvcndhcmQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5hbmltYXRpb24ucGxheSgnaWRsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNb3ZlbWVudCh0aGV0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc2l0X2Rvd25fcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTaXR0aW5nID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYm9keS5zZXRWZWxvY2l0eSgtMSwgMiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYW5pbWF0aW9uLnBsYXkoJ2lkbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGxheWVyIExhYmVsIFVwZGF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIChfYiA9IHRoaXMubmFtZUxhYmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubG9va0F0KHRoaXMucGFyYW1zLnNjZW5lLmNhbWVyYS5wb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVNb3ZlbWVudCh0aGV0YSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoISgoX2EgPSB0aGlzLnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJvZHkpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeCA9IE1hdGguc2luKHRoZXRhKSAqIE1PVkVNRU5UX1NQRUVELCB5ID0gdGhpcy50YXJnZXQuYm9keS52ZWxvY2l0eS55LCB6ID0gTWF0aC5jb3ModGhldGEpICogTU9WRU1FTlRfU1BFRUQ7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYm9keS5zZXRWZWxvY2l0eSh4LCB5LCB6KTtcclxuICAgIH1cclxuICAgIGNvcnJlY3RQb3NpdGlvbihuZXdQb3NpdGlvbiwgbG9va2luZ0F0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuXHJcbiAgICAgICAgICAgIC8vIHRoaXMudGFyZ2V0LmJvZHkuc2V0UG9zaXRpb24oLi4ubmV3UG9zaXRpb24udG9BcnJheSgpKTtcclxuICAgICAgICAgICAgLy8gdGhpcy50YXJnZXQuYm9keS5uZWVkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gdGhpcy50YXJnZXQuYm9keS5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkUGh5c2ljcygpIHtcclxuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy50YXJnZXQsIHtcclxuICAgICAgICAgICAgICAgIHNoYXBlOiAnc3BoZXJlJyxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogMC4yNSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLjUsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHsgeTogLTAuMjUgfSxcclxuICAgICAgICAgICAgICAgIG1hc3M6IDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQuYm9keS5zZXRGcmljdGlvbigxMDApO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5ib2R5LnNldEFuZ3VsYXJGYWN0b3IoMCwgMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJvZHkuc2V0Q29sbGlzaW9uRmxhZ3MoMCk7XHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZG9jcy5wYW5kYTNkLm9yZy8xLjEwL3B5dGhvbi9wcm9ncmFtbWluZy9waHlzaWNzL2J1bGxldC9jY2RcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQuYm9keS5zZXRDY2RNb3Rpb25UaHJlc2hvbGQoMWUtNyk7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJvZHkuc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXMoMC4yNSk7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJvZHkubmVlZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVsZXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldClcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXMuc2NlbmUuc2NlbmUucmVtb3ZlKHRoaXMudGFyZ2V0KTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkNoYXJhY3RlciA9IENoYXJhY3RlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5DaGFyYWN0ZXJDb250cm9sbGVyID0gdm9pZCAwO1xyXG5jb25zdCBlbmFibGUzZF8xID0gcmVxdWlyZShcImVuYWJsZTNkXCIpO1xyXG5jb25zdCBfXzEgPSByZXF1aXJlKFwiLi5cIik7XHJcbmNvbnN0IERFRkFVTFRfVkVDVE9SXzMgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5WZWN0b3IzKCk7XHJcbmNvbnN0IE1PVVNFX1NFTlNJVElWSVRZID0gMC4yNTtcclxuY2xhc3MgQ2hhcmFjdGVyQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLmtleXMgPSB7XHJcbiAgICAgICAgICAgIHc6IHsgaXNEb3duOiBmYWxzZSB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVtZW50WCA9IDA7XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVtZW50WSA9IDA7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBwYXJhbXMuY2hhcmFjdGVyO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgZW5hYmxlM2RfMS5UaGlyZFBlcnNvbkNvbnRyb2xzKHRoaXMucGFyYW1zLmNhbWVyYSwgdGhpcy5jaGFyYWN0ZXIudGFyZ2V0LCB7XHJcbiAgICAgICAgICAgIG9mZnNldDogbmV3IGVuYWJsZTNkXzEuVEhSRUUuVmVjdG9yMygwLCAxLCAwKSxcclxuICAgICAgICAgICAgdGFyZ2V0UmFkaXVzOiAzLFxyXG4gICAgICAgICAgICB0aGV0YTogMzAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTWFwIElucHV0XHJcbiAgICAgICAgY29uc3QgcHJlc3MgPSAoZSwgaXNEb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5zY2VuZS5jbGFzc3Jvb20uaXNQbGF5aW5nICE9IHRydWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgODc6IC8vIHdcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXMudy5pc0Rvd24gPSBpc0Rvd247XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA2NzogLy8gY1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Rvd24gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaXREb3duKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN5bmNNb3ZlbWVudCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4gcHJlc3MoZSwgdHJ1ZSkpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBwcmVzcyhlLCBmYWxzZSkpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkIFBvaW50ZXIgTG9jayBhbmQgUG9pbnRlciBEcmFnXHJcbiAgICAgICAgKi9cclxuICAgICAgICBpZiAoIV9fMS5pc1RvdWNoRGV2aWNlKSB7XHJcbiAgICAgICAgICAgIGxldCBwbCA9IG5ldyBlbmFibGUzZF8xLlBvaW50ZXJMb2NrKHRoaXMucGFyYW1zLnNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgIGxldCBwZCA9IG5ldyBlbmFibGUzZF8xLlBvaW50ZXJEcmFnKHRoaXMucGFyYW1zLnNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgIHBkLm9uTW92ZShkZWx0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGwuaXNMb2NrZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlbWVudFkgPSAtZGVsdGEueSAqIE1PVVNFX1NFTlNJVElWSVRZO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlbWVudFggPSBkZWx0YS54ICogTU9VU0VfU0VOU0lUSVZJVFk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvZ2dsZVNpdERvd24oKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICAvLyBGaW5kIE5lYXJieSBDaGFpclxyXG4gICAgICAgIGlmICghdGhpcy5jaGFyYWN0ZXIudGFyZ2V0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyLmlzU2l0dGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyLmlzU2l0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IChfYiA9IChfYSA9IHRoaXMuY2hhcmFjdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucG9zaXRpb247XHJcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IDEwMDAwMDA7XHJcbiAgICAgICAgICAgIGxldCBjaGFpciA9IHRoaXMucGFyYW1zLnNjZW5lLmNoYWlyc1swXTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXMuc2NlbmUuY2hhaXJzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5wb3NpdGlvbi5kaXN0YW5jZVRvKHgpIDwgZGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IGMucG9zaXRpb24uZGlzdGFuY2VUbyh4KTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFpciA9IGM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3Rlci5pc1NpdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGFyYW1zLnNjZW5lLmNsYXNzcm9vbS5oYW5kbGVNeVNpdERvd24odGhpcy5jaGFyYWN0ZXIuaXNTaXR0aW5nKTtcclxuICAgIH1cclxuICAgIHN5bmNNb3ZlbWVudCgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICB0aGlzLnBhcmFtcy5zY2VuZS5jbGFzc3Jvb20uaGFuZGxlTXlNb3ZlbWVudCh0aGlzLmtleXMudy5pc0Rvd24sIHtcclxuICAgICAgICAgICAgeDogKF9hID0gdGhpcy5jaGFyYWN0ZXIudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgeTogKF9iID0gdGhpcy5jaGFyYWN0ZXIudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgejogKF9jID0gdGhpcy5jaGFyYWN0ZXIudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucG9zaXRpb24ueixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN5bmNMb29raW5nQXQoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMuc2NlbmUuY2xhc3Nyb29tLnN5bmNNeUxvb2tpbmdBdCh0aGlzLmNoYXJhY3Rlci5sb29raW5nQXQudG9BcnJheSgpKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSh0aW1lLCBkZWx0YSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB0aGlzLmNoYXJhY3Rlci51cGRhdGUodGltZSwgZGVsdGEpO1xyXG4gICAgICAgIGlmICgoX2EgPSB0aGlzLmNoYXJhY3Rlci50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ib2R5KSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAqIFVwZGF0ZSBDb250cm9sc1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzLnVwZGF0ZSh0aGlzLm1vdXNlTW92ZW1lbnRYICogMywgLXRoaXMubW91c2VNb3ZlbWVudFkgKiAzKTtcclxuICAgICAgICAgICAgaWYgKCFfXzEuaXNUb3VjaERldmljZSlcclxuICAgICAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlbWVudFggPSB0aGlzLm1vdXNlTW92ZW1lbnRZID0gMDtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogUGxheWVyIFR1cm5cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29uc3Qgb2xkTG9va0F0ID0gdGhpcy5jaGFyYWN0ZXIubG9va2luZ0F0LmNsb25lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyLmxvb2tpbmdBdCA9IHRoaXMucGFyYW1zLmNhbWVyYS5nZXRXb3JsZERpcmVjdGlvbihERUZBVUxUX1ZFQ1RPUl8zKTtcclxuICAgICAgICAgICAgaWYgKCFvbGRMb29rQXQuZXF1YWxzKHRoaXMuY2hhcmFjdGVyLmxvb2tpbmdBdCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNMb29raW5nQXQoKTsgLy8gU3luYyBMb29rYXRcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogUGxheWVyIE1vdmVcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIuaXNNb3ZpbmdGb3J3YXJkID0gdGhpcy5rZXlzLncuaXNEb3duO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkNoYXJhY3RlckNvbnRyb2xsZXIgPSBDaGFyYWN0ZXJDb250cm9sbGVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmFkZENsYXNzcm9vbVRvU2NlbmUgPSBleHBvcnRzLkRFRkFVTFRfQk9BUkRfTUFURVJJQUwgPSBleHBvcnRzLnRleHR1cmVMb2FkZXIgPSB2b2lkIDA7XHJcbmNvbnN0IGVuYWJsZTNkXzEgPSByZXF1aXJlKFwiZW5hYmxlM2RcIik7XHJcbmV4cG9ydHMudGV4dHVyZUxvYWRlciA9IG5ldyBlbmFibGUzZF8xLlRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxuZXhwb3J0cy5ERUZBVUxUX0JPQVJEX01BVEVSSUFMID0gZXhwb3J0cy50ZXh0dXJlTG9hZGVyLmxvYWQoJy4vcmVzb3VyY2VzL3RleHR1cmVzL2JvYXJkLmpwZycpO1xyXG5mdW5jdGlvbiBhZGRDbGFzc3Jvb21Ub1NjZW5lKHNjZW5lKSB7XHJcbiAgICAvLyBGbG9vclxyXG4gICAgY29uc3QgZmxvb3JUZXh0dXJlID0gZXhwb3J0cy50ZXh0dXJlTG9hZGVyLmxvYWQoJy4vcmVzb3VyY2VzL3RleHR1cmVzL2Zsb29yLmpwZycpO1xyXG4gICAgZmxvb3JUZXh0dXJlLndyYXBTID0gZmxvb3JUZXh0dXJlLndyYXBUID0gZW5hYmxlM2RfMS5USFJFRS5SZXBlYXRXcmFwcGluZztcclxuICAgIGZsb29yVGV4dHVyZS5yZXBlYXQuc2V0KDgsIDgpO1xyXG4gICAgY29uc3QgZmxvb3JNYXRlcmlhbCA9IG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogMHhDMUMxQzEsXHJcbiAgICAgICAgbWFwOiBmbG9vclRleHR1cmVcclxuICAgIH0pO1xyXG4gICAgZmxvb3JNYXRlcmlhbC5yb3VnaG5lc3MgPSAxO1xyXG4gICAgZmxvb3JNYXRlcmlhbC5tZXRhbG5lc3MgPSAwO1xyXG4gICAgY29uc3QgcGxhbmUgPSBzY2VuZS5waHlzaWNzLmFkZC5ib3goeyB3aWR0aDogMTgsIGhlaWdodDogMC4zLCBkZXB0aDogMTQsIG1hc3M6IDAgfSk7XHJcbiAgICBwbGFuZS5tYXRlcmlhbCA9IGZsb29yTWF0ZXJpYWw7XHJcbiAgICBwbGFuZS5ib2R5LnNldEdyYXZpdHkoMCwgMTAsIDApO1xyXG4gICAgcGxhbmUuYm9keS5zZXRGcmljdGlvbigxKTtcclxuICAgIHBsYW5lLnJvdGF0aW9uLnNldChNYXRoLlBJIC8gMiwgMCwgMCk7XHJcbiAgICBwbGFuZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgIC8vIFdhbGxzXHJcbiAgICBjb25zdCB3YWxsVGV4dHVyZSA9IGV4cG9ydHMudGV4dHVyZUxvYWRlci5sb2FkKCcuL3Jlc291cmNlcy90ZXh0dXJlcy93YWxsLmpwZycpO1xyXG4gICAgd2FsbFRleHR1cmUud3JhcFMgPSB3YWxsVGV4dHVyZS53cmFwVCA9IGVuYWJsZTNkXzEuVEhSRUUuUmVwZWF0V3JhcHBpbmc7XHJcbiAgICB3YWxsVGV4dHVyZS5yZXBlYXQuc2V0KDQsIDIpO1xyXG4gICAgY29uc3Qgd2FsbE1hdGVyaWFsID0gbmV3IGVuYWJsZTNkXzEuVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICAgIGNvbG9yOiAweEMxQzFDMSxcclxuICAgICAgICBtYXA6IHdhbGxUZXh0dXJlXHJcbiAgICB9KTtcclxuICAgIHdhbGxNYXRlcmlhbC5yb3VnaG5lc3MgPSAxO1xyXG4gICAgd2FsbE1hdGVyaWFsLm1ldGFsbmVzcyA9IDA7XHJcbiAgICBjb25zdCB3YWxscyA9IFtcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5ib3goeyB3aWR0aDogMC4zLCBoZWlnaHQ6IDUsIGRlcHRoOiAxNCwgbWFzczogMCwgeDogOSwgeTogMiB9KSxcclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5ib3goeyB3aWR0aDogMC4zLCBoZWlnaHQ6IDUsIGRlcHRoOiAxNCwgbWFzczogMCwgeDogLTksIHk6IDIgfSksXHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQuYm94KHsgd2lkdGg6IDE4LCBoZWlnaHQ6IDUsIGRlcHRoOiAwLjMsIG1hc3M6IDAsIHo6IDcsIHk6IDIgfSksXHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQuYm94KHsgd2lkdGg6IDE4LCBoZWlnaHQ6IDUsIGRlcHRoOiAwLjMsIG1hc3M6IDAsIHo6IC03LCB5OiAyIH0pLFxyXG4gICAgXTtcclxuICAgIHdhbGxzLmZvckVhY2god2FsbCA9PiB7XHJcbiAgICAgICAgd2FsbC5ib2R5LnNldEZyaWN0aW9uKDApO1xyXG4gICAgICAgIHdhbGwubWF0ZXJpYWwgPSB3YWxsTWF0ZXJpYWw7XHJcbiAgICAgICAgd2FsbC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB3YWxsLmNhc3RTaGFkb3cgPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgcm9vZiA9IHNjZW5lLnBoeXNpY3MuYWRkLmJveCh7IHdpZHRoOiAxOCwgaGVpZ2h0OiAwLjMsIGRlcHRoOiAxNCwgbWFzczogMCwgeTogNC41IH0pO1xyXG4gICAgcm9vZi5jYXN0U2hhZG93ID0gZmFsc2U7XHJcbiAgICByb29mLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcclxuICAgIHJvb2YubWF0ZXJpYWwgPSBmbG9vck1hdGVyaWFsO1xyXG4gICAgLy8gV2hpdGUgQm9hcmRcclxuICAgIGNvbnN0IGJvYXJkQm9yZGVyID0gbmV3IGVuYWJsZTNkXzEuVEhSRUUuTWVzaChuZXcgZW5hYmxlM2RfMS5USFJFRS5Cb3hHZW9tZXRyeSgwLjEsIDMuMSwgNi4xKSwgbmV3IGVuYWJsZTNkXzEuVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhBQUFBMDAgfSkpO1xyXG4gICAgYm9hcmRCb3JkZXIucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICBib2FyZEJvcmRlci5wb3NpdGlvbi5zZXQoLTguODYsIDIuNSwgMCk7XHJcbiAgICBzY2VuZS5hZGQuZXhpc3RpbmcoYm9hcmRCb3JkZXIpO1xyXG4gICAgY29uc3QgYm9hcmQgPSBuZXcgZW5hYmxlM2RfMS5USFJFRS5NZXNoKG5ldyBlbmFibGUzZF8xLlRIUkVFLkJveEdlb21ldHJ5KDAuMSwgMywgNiksIG5ldyBlbmFibGUzZF8xLlRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4RkZGRkZGLCByb3VnaG5lc3M6IDEgfSkpO1xyXG4gICAgYm9hcmQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICBib2FyZC5tYXRlcmlhbC5tYXAgPSBleHBvcnRzLkRFRkFVTFRfQk9BUkRfTUFURVJJQUw7XHJcbiAgICBib2FyZC5wb3NpdGlvbi5zZXQoLTguODUsIDIuNSwgMCk7XHJcbiAgICBzY2VuZS5hZGQuZXhpc3RpbmcoYm9hcmQpO1xyXG4gICAgc2NlbmUucHJvamVjdGlvblNjcmVlbiA9IGJvYXJkO1xyXG59XHJcbmV4cG9ydHMuYWRkQ2xhc3Nyb29tVG9TY2VuZSA9IGFkZENsYXNzcm9vbVRvU2NlbmU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ2xhc3Nyb29tTWFuYWdlciA9IHZvaWQgMDtcclxuY29uc3Qgc29ja2V0X2lvX2NsaWVudF8xID0gcmVxdWlyZShcInNvY2tldC5pby1jbGllbnRcIik7XHJcbmNvbnN0IGVuYWJsZTNkXzEgPSByZXF1aXJlKFwiZW5hYmxlM2RcIik7XHJcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcclxuY29uc3QgcGVlcmpzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInBlZXJqc1wiKSk7XHJcbmNvbnN0IENsYXNzcm9vbTNEXzEgPSByZXF1aXJlKFwiLi9DbGFzc3Jvb20zRFwiKTtcclxuY29uc3QgU09DS0VUX0FERFJFU1MgPSBcIndzOi8vbG9jYWxob3N0OjM1MDBcIjtcclxuY29uc3QgUEVFUl9DT05GSUcgPSB7XHJcbiAgICBkZWJ1ZzogMyxcclxuICAgIGNvbmZpZzoge1xyXG4gICAgICAgIGljZVRyYW5zcG9ydFBvbGljeTogXCJyZWxheVwiLFxyXG4gICAgICAgICdpY2VTZXJ2ZXJzJzogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBpY2VUcmFuc3BvcnRQb2xpY3k6XCJyZWxheVwiLFxyXG4gICAgICAgICAgICAgICAgdXJsczogJ3N0dW46c3R1bjEubC5nb29nbGUuY29tOjE5MzAyJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBpY2VUcmFuc3BvcnRQb2xpY3k6XCJyZWxheVwiLFxyXG4gICAgICAgICAgICAgICAgdXJsczogJ3R1cm46MjAuMTk4LjYuMTA3OjM0Nzg/dHJhbnNwb3J0PXRjcCcsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiAnMTIzNCcsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogJ2NhbGV1bSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgIH1cclxufTtcclxuY2xhc3MgQ2xhc3Nyb29tTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSkge1xyXG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbWl0SGlzdG9yeSA9IHt9O1xyXG4gICAgICAgIHRoaXMubXlNZWRpYVN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xyXG4gICAgICAgIHRoaXMucGVlcnMgPSB7fTtcclxuICAgICAgICB0aGlzLmF1ZGlvcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaXNTb2NrZXRSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNBdWRpb1JlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1N0YXJ0QnV0dG9uTG9ja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saW5rcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlTGluayA9IDA7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIGNvbnN0IGpvaW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5teUF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICB0aGlzLm15QXVkaW8ubXV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIFBlZXIgSlMgQ29ubmVjdGlvblxyXG4gICAgICAgIHRoaXMubG9nRXZlbnQoXCJDb25uZWN0aW5nIHRvIHZvaWNlIGNoYXQgbWFuYWdlci4uLlwiKTtcclxuICAgICAgICB0aGlzLm15UGVlciA9IG5ldyBwZWVyanNfMS5kZWZhdWx0KHVuZGVmaW5lZCwgUEVFUl9DT05GSUcpO1xyXG4gICAgICAgIHRoaXMubXlQZWVyLm9uKCdlcnJvcicsIChlKSA9PiB7IHRoaXMubG9nRXZlbnQoXCJDb3VsZCd0IGNvbm5lY3QgdG8gdm9pY2UgY2hhdCBtYW5hZ2VyXCIsIFwiZXJyb3JcIik7IH0pO1xyXG4gICAgICAgIC8vIE1pY3JvcGhvbmUgUGVybWlzc2lvblxyXG4gICAgICAgIHRoaXMubG9nRXZlbnQoJ1dhaXRpbmcgZm9yIHlvdXIgcGVybWlzc2lvbiBmb3IgbWljcm9waG9uZS4uLicpO1xyXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcclxuICAgICAgICAgICAgdmlkZW86IGZhbHNlLFxyXG4gICAgICAgICAgICBhdWRpbzogdHJ1ZVxyXG4gICAgICAgIH0pLnRoZW4oc3RyZWFtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dFdmVudCgnTWljcm9waG9uZSBwZXJtaXNzaW9uIGdyYW50ZWQnLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICB0aGlzLm15TWVkaWFTdHJlYW0gPSBzdHJlYW07XHJcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dFdmVudChcIlJldm9rZWQgTWljcm9waG9uZSBQZXJtaXNzaW9uLiBVc2VycyB3b24ndCBoZWFyIHlvdVwiLCAnZXJyb3InKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBQZWVyIEpTIENvbm5lY3Rpb25cclxuICAgICAgICB0aGlzLm15UGVlci5vbignb3BlbicsICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBlZXIgSlMgY29ubmVjdGVkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiQ29ubmVjdGVkIHRvIHZvaWNlIGNoYXQgbWFuYWdlclwiLCBcInN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgIGpvaW5CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgKF9hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5vblN1Ym1pdElucHV0KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVLZXlFdmVudHMoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvblN1Ym1pdElucHV0KCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblwiKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcm5hbWVcIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnRyeVZhbGlkYXRlSW5wdXQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uXCIpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zdGFydENvbm5lY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgICBzdGFydENvbm5lY3Rpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuc29ja2V0ID0gc29ja2V0X2lvX2NsaWVudF8xLmlvKCk7XHJcbiAgICAgICAgdGhpcy5sb2dFdmVudChcIkNvbm5lY3Rpbmcgd2l0aCBzZXJ2ZXJcIik7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiU2VuZGluZyBkYXRhIHRvIHNlcnZlclwiKTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2luaXQnLCB7IHV1aWQ6IHRoaXMubXlQZWVyLmlkLCB1c2VybmFtZTogdGhpcy51c2VybmFtZSwgaW5pdGlhbFBvc2l0aW9uOiBfXzEubWFpbkNoYXJhY3RlcmluaXRpYWxQb3NpdGlvbi50b0FycmF5KCkgfSwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlSW5pdFJlc3BvbnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWRlT3V0TWVudSgpLnRoZW4oKCkgPT4gdGhpcy5zdGFydENsYXNzcm9vbSgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRXZlbnQoXCJDb25uZWN0ZWRcIiwgXCJzdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5hdXRvQ29ycmVjdFN0YXRlT25JbnRlcnZhbHMoKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyU29ja2V0RXZlbnRzKHNvY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2FsbHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRyeVZhbGlkYXRlSW5wdXQobmFtZSkge1xyXG4gICAgICAgIGlmICghbmFtZSlcclxuICAgICAgICAgICAgdGhyb3cgKFwiQ2FuJ3QgZmluZCBlbGVtZW50IHdpdGggaWQgYHVzZXJuYW1lYFwiKTtcclxuICAgICAgICBpZiAobmFtZS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiTmFtZSB0b28gc2hvcnRcIik7XHJcbiAgICAgICAgICAgIHRocm93ICgnRXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmYWRlT3V0TWVudShEVVJBVElPTiA9IDMwMCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnVVSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKTtcclxuICAgICAgICAgICAgY29uc3QgTlVNQkVSX09GX0ZSQU1FUyA9IDIwO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3T3BhY2l0eSA9IE51bWJlcih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShtZW51VUkpLmdldFByb3BlcnR5VmFsdWUoXCJvcGFjaXR5XCIpKSAtIDEgLyBOVU1CRVJfT0ZfRlJBTUVTO1xyXG4gICAgICAgICAgICAgICAgbWVudVVJLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3T3BhY2l0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBtZW51VUkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIERVUkFUSU9OIC8gTlVNQkVSX09GX0ZSQU1FUyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdGFydENsYXNzcm9vbSgpIHtcclxuICAgICAgICB0aGlzLmlzUGxheWluZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVLZXlFdmVudHMoZSkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUGxheWluZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAncCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1AnOlxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmtzJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5rc1RleHRhcmVhJykuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdbJzpcclxuICAgICAgICAgICAgY2FzZSAneyc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVMaW5rID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuc29ja2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCgndXBkYXRlLWFjdGl2ZS1saW5rJywgdGhpcy5hY3RpdmVMaW5rIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudCgnU3dpdGNoaW5nIHRvIHByZXZpb3VzIHNsaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KCdDdXJyZW50IHNsaWRlIGlzIHRoZSBmaXJzdCBvbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICddJzpcclxuICAgICAgICAgICAgY2FzZSAnfSc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVMaW5rIDwgdGhpcy5saW5rcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gdGhpcy5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5lbWl0KCd1cGRhdGUtYWN0aXZlLWxpbmsnLCB0aGlzLmFjdGl2ZUxpbmsgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KCdTd2l0Y2hpbmcgdG8gbmV4dCBzbGlkZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudCgnQ3VycmVudCBzbGlkZSBpcyB0aGUgbGFzdCBvbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvJzpcclxuICAgICAgICAgICAgY2FzZSAnTyc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5saW5rcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JlZW4uc3R5bGUuZGlzcGxheSA9IHNjcmVlbi5zdHlsZS5kaXNwbGF5ID09ICdibG9jaycgPyAnbm9uZScgOiAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudCgnTm8gQWN0aXZlIFNsaWRlJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlua3NUZXh0YXJlYScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZU1lZGlhTGlua3MoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5rcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhdXRvQ29ycmVjdFN0YXRlT25JbnRlcnZhbHMoKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChfYSA9IHRoaXMuc2NlbmUubWFpbkNoYXJhY3RlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCgoX2IgPSB0aGlzLnNjZW5lLm1haW5DaGFyYWN0ZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pc01vdmluZ0ZvcndhcmQpID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5zb2NrZXQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5lbWl0KCdzdGF0ZS1jb3JyZWN0aW9uJywgdGFyZ2V0LnBvc2l0aW9uLnRvQXJyYXkoKSwgdGhpcy5zY2VuZS5tYWluQ2hhcmFjdGVyLmxvb2tpbmdBdC50b0FycmF5KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVJbml0UmVzcG9uc2UoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc2V0TWFpbkNoYXJhY3RlckNvbG9yRnJvbVN0cmluZyhkYXRhLmNvbG9yKTtcclxuICAgICAgICBkYXRhLm90aGVyVXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGRTdWJDaGFyYWN0ZXIodXNlcik7XHJcbiAgICAgICAgICAgIC8vIFZvaWNlIENoYXRcclxuICAgICAgICAgICAgdGhpcy5jYWxsTmV3VXNlcih1c2VyLnV1aWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlclNvY2tldEV2ZW50cyhzb2NrZXQpIHtcclxuICAgICAgICBzb2NrZXQub24oJ25ldy11c2VyJywgKG5ld1VzZXIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dFdmVudChgTmV3IFVzZXIgJHtuZXdVc2VyLnVzZXJuYW1lfSBKb2luZWRgKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGRTdWJDaGFyYWN0ZXIobmV3VXNlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdtb3ZlbWVudCcsICh1dWlkLCBpc01vdmluZ0ZvcndhcmQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGhpcy5zY2VuZS5zdWJDaGFyYWN0ZXJzW3V1aWRdO1xyXG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIuaXNNb3ZpbmdGb3J3YXJkID0gaXNNb3ZpbmdGb3J3YXJkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTW92ZW1lbnQgZmFpbGVkIDogJHt1dWlkfSBpcyBub3QgaW4gdGhlIGNoYXJhY3RlciBsaXN0IGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdsb29raW5nQXQnLCAodXVpZCwgbG9va2luZ0F0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF0ubG9va2luZ0F0LnNldCguLi5sb29raW5nQXQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMb29pbmdBdCBmYWlsZWQgOiAke3V1aWR9IGlzIG5vdCBpbiB0aGUgY2hhcmFjdGVyIGxpc3QgYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCdpc1NpdHRpbmcnLCAodXVpZCwgaXNTaXR0aW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF0uaXNTaXR0aW5nID0gaXNTaXR0aW5nO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBpc1NpdHRpbmcgZmFpbGVkIDogJHt1dWlkfSBpcyBub3QgaW4gdGhlIGNoYXJhY3RlciBsaXN0IGApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvY2tldC5vbignc3RhdGUtY29ycmVjdGlvbicsICh1dWlkLCBwb3NpdGlvbiwgbG9va2luZ0F0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3ViQ2hhcmFjdGVyc1t1dWlkXS5jb3JyZWN0UG9zaXRpb24obmV3IGVuYWJsZTNkXzEuVEhSRUUuVmVjdG9yMyguLi5wb3NpdGlvbiksIG5ldyBlbmFibGUzZF8xLlRIUkVFLlZlY3RvcjMoLi4ubG9va2luZ0F0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU3RhdGUgQ29ycmVjdGlvbiBmYWlsZWQgOiAke3V1aWR9IGlzIG5vdCBpbiB0aGUgY2hhcmFjdGVyIGxpc3QgYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCd1cGRhdGUtbGlua3MnLCAobGlua3MpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVMaW5rID0gMDtcclxuICAgICAgICAgICAgbGlua3MgPSBsaW5rcy50cmltKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGlua3MgPSBsaW5rcy5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnByb2plY3Rpb25TY3JlZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRXZlbnQoXCJTbGlkZXMgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5rcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wcm9qZWN0aW9uU2NyZWVuLm1hdGVyaWFsLm1hcCA9IENsYXNzcm9vbTNEXzEudGV4dHVyZUxvYWRlci5sb2FkKHRoaXMubGlua3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLmxpbmtzWzBdfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnByb2plY3Rpb25TY3JlZW4ubWF0ZXJpYWwubWFwID0gQ2xhc3Nyb29tM0RfMS5ERUZBVUxUX0JPQVJEX01BVEVSSUFMO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCd1cGRhdGUtYWN0aXZlLWxpbmsnLCAoYWN0aXZlTGluaykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoMCA8PSBhY3RpdmVMaW5rICYmIGFjdGl2ZUxpbmsgPCB0aGlzLmxpbmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUucHJvamVjdGlvblNjcmVlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTGluayA9IGFjdGl2ZUxpbms7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wcm9qZWN0aW9uU2NyZWVuLm1hdGVyaWFsLm1hcCA9IENsYXNzcm9vbTNEXzEudGV4dHVyZUxvYWRlci5sb2FkKHRoaXMubGlua3NbYWN0aXZlTGlua10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dGhpcy5saW5rc1thY3RpdmVMaW5rXX1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKCd1c2VyLWV4aXQnLCAodXVpZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0aGlzLnNjZW5lLnN1YkNoYXJhY3RlcnNbdXVpZF07XHJcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRXZlbnQoYCR7Y2hhcmFjdGVyLnBhcmFtcy5uYW1lfSBleGl0ZWRgKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIudGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5kZXN0cm95KGNoYXJhY3Rlci50YXJnZXQuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zY2VuZS5zdWJDaGFyYWN0ZXJzW3V1aWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVXNlciBleGl0IGZhaWxlZCA6ICR7dXVpZH0gaXMgbm90IGluIHRoZSBjaGFyYWN0ZXIgbGlzdCBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyc1t1dWlkXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZWVyc1t1dWlkXS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGVlcnNbdXVpZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dFdmVudChcIkNvbm5lY3Rpb24gdG8gc2VydmVyIGlzIGxvc3RcIiwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IFRJTUVfTElNSVRfU0VDT05EUyA9IDEwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gVElNRV9MSU1JVF9TRUNPTkRTOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubG9nRXZlbnQoYFJlbG9hZGluZyBpbiAke2l9IHNlY29uZHNgLCAnZXJyb3InKSwgKFRJTUVfTElNSVRfU0VDT05EUyAtIGkpICogMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KGBSZWxvYWRpbmcuLi5gLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9LCBUSU1FX0xJTUlUX1NFQ09ORFMgKiAxMDAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGhhbmRsZU15TW92ZW1lbnQoaXNNb3ZpbmdGb3J3YXJkLCBwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAodGhpcy5lbWl0SGlzdG9yeVsnaXNNb3ZpbmdGb3J3YXJkJ10gJiYgdGhpcy5lbWl0SGlzdG9yeVsnaXNNb3ZpbmdGb3J3YXJkJ10uZGF0YSA9PSBpc01vdmluZ0ZvcndhcmQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW1pdEhpc3RvcnlbJ2lzTW92aW5nRm9yd2FyZCddLnNhbWVEYXRhQ291bnRlcisrICE9IDEwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICA7XHJcbiAgICAgICAgdGhpcy5lbWl0SGlzdG9yeVsnaXNNb3ZpbmdGb3J3YXJkJ10gPSB7XHJcbiAgICAgICAgICAgIHNhbWVEYXRhQ291bnRlcjogMCxcclxuICAgICAgICAgICAgZGF0YTogaXNNb3ZpbmdGb3J3YXJkXHJcbiAgICAgICAgfTtcclxuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtaXQoJ21vdmVtZW50JywgaXNNb3ZpbmdGb3J3YXJkLCBwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICBzeW5jTXlMb29raW5nQXQobG9va2luZ0F0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIGlmKHRoaXMuZW1pdEhpc3RvcnlbJ2xvb2tpbmdBdCddKXtcclxuICAgICAgICAvLyBcdGlmKEpTT04uc3RyaW5naWZ5KHRoaXMuZW1pdEhpc3RvcnlbJ2xvb2tpbmdBdCddLmRhdGEpID09IEpTT04uc3RyaW5naWZ5KGxvb2tpbmdBdCkpe1xyXG4gICAgICAgIC8vIFx0XHR0aGlzLmVtaXRIaXN0b3J5Wydsb29raW5nQXQnXS5zYW1lRGF0YUNvdW50ZXIgPSAwO1xyXG4gICAgICAgIC8vIFx0XHRyZXR1cm47XHJcbiAgICAgICAgLy8gXHR9XHJcbiAgICAgICAgLy8gXHRlbHNle1xyXG4gICAgICAgIC8vIFx0XHRpZih0aGlzLmVtaXRIaXN0b3J5Wydsb29raW5nQXQnXS5zYW1lRGF0YUNvdW50ZXIrKyAhPSAwKSByZXR1cm47XHJcbiAgICAgICAgLy8gXHR9XHJcbiAgICAgICAgLy8gfTtcclxuICAgICAgICB0aGlzLmVtaXRIaXN0b3J5Wydsb29raW5nQXQnXSA9IHtcclxuICAgICAgICAgICAgc2FtZURhdGFDb3VudGVyOiAwLFxyXG4gICAgICAgICAgICBkYXRhOiBsb29raW5nQXRcclxuICAgICAgICB9O1xyXG4gICAgICAgIChfYSA9IHRoaXMuc29ja2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCgnbG9va2luZ0F0JywgbG9va2luZ0F0KTtcclxuICAgIH1cclxuICAgIGhhbmRsZU15U2l0RG93bihpc1NpdHRpbmcpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gdGhpcy5zb2NrZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KCdpc1NpdHRpbmcnLCBpc1NpdHRpbmcpO1xyXG4gICAgfVxyXG4gICAgc2VydmVNZWRpYUxpbmtzKGxpbmtzKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMuc29ja2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCgndXBkYXRlLWxpbmtzJywgbGlua3MpO1xyXG4gICAgICAgIHRoaXMubG9nRXZlbnQoXCJVcGRhdGluZyBTbGlkZXNcIik7XHJcbiAgICB9XHJcbiAgICAvLyBWb2ljZSBDaGF0XHJcbiAgICBoYW5kbGVDYWxscygpIHtcclxuICAgICAgICB0aGlzLm15UGVlci5vbignY2FsbCcsIGNhbGwgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTmV3IENhbGwgZnJvbSAke2NhbGwucGVlcn1gKTtcclxuICAgICAgICAgICAgY2FsbC5hbnN3ZXIodGhpcy5teU1lZGlhU3RyZWFtKTtcclxuICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgICAgICBjYWxsLm9uKCdzdHJlYW0nLCB1c2VyQXVkaW9TdHJlYW0gPT4gdGhpcy5hZGRBdWRpb1N0cmVhbShjYWxsLnBlZXIsIGF1ZGlvLCB1c2VyQXVkaW9TdHJlYW0pKTtcclxuICAgICAgICAgICAgY2FsbC5vbignY2xvc2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhdWRpby5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvc1tjYWxsLnBlZXJdKVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF1ZGlvc1tjYWxsLnBlZXJdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNhbGxOZXdVc2VyKHV1aWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgQ2FsbGluZyBVc2VyICR7dXVpZH1gKTtcclxuICAgICAgICBjb25zdCBjYWxsID0gdGhpcy5teVBlZXIuY2FsbCh1dWlkLCB0aGlzLm15TWVkaWFTdHJlYW0pO1xyXG4gICAgICAgIGNvbnN0IGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICBjYWxsLm9uKCdzdHJlYW0nLCB1c2VyQXVkaW9TdHJlYW0gPT4geyB0aGlzLmFkZEF1ZGlvU3RyZWFtKHV1aWQsIGF1ZGlvLCB1c2VyQXVkaW9TdHJlYW0pOyB9KTtcclxuICAgICAgICBjYWxsLm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW8ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvc1t1dWlkXSlcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF1ZGlvc1t1dWlkXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBlZXJzW3V1aWRdID0gY2FsbDtcclxuICAgIH1cclxuICAgIGFkZEF1ZGlvU3RyZWFtKHV1aWQsIGF1ZGlvLCBzdHJlYW0pIHtcclxuICAgICAgICBhdWRpby5zcmNPYmplY3QgPSBzdHJlYW07XHJcbiAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7IGF1ZGlvLnBsYXkoKTsgfSk7XHJcbiAgICAgICAgdGhpcy5hdWRpb3NbdXVpZF0gPSBhdWRpbztcclxuICAgIH1cclxuICAgIC8vIExvZ2dpbmdcclxuICAgIGxvZ0V2ZW50KHRleHQsIHR5cGUgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgICAgICBpZiAodHlwZSA9PSAnZXJyb3InKVxyXG4gICAgICAgICAgICB0ZXh0ID0gXCJFUlJPUjogXCIgKyB0ZXh0O1xyXG4gICAgICAgIGxpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgaWYgKHR5cGUpXHJcbiAgICAgICAgICAgIGxpLmNsYXNzTmFtZSA9IFwibG9nLVwiICsgdHlwZTtcclxuICAgICAgICBjb25zdCBjb25zb2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25zb2xlXCIpO1xyXG4gICAgICAgIGNvbnNvbGUuYXBwZW5kQ2hpbGQobGkpO1xyXG4gICAgICAgIGNvbnNvbGUuc2Nyb2xsVG9wID0gY29uc29sZS5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5DbGFzc3Jvb21NYW5hZ2VyID0gQ2xhc3Nyb29tTWFuYWdlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jaGFpclBvc2l0aW9ucyA9IHZvaWQgMDtcclxuZXhwb3J0cy5jaGFpclBvc2l0aW9ucyA9IFtcclxuICAgIFstMiwgLTNdLCBbMCwgLTNdLCBbMiwgLTNdLCBbNCwgLTNdLCBbNiwgLTNdLFxyXG4gICAgWy0yLCAtMV0sIFswLCAtMV0sIFsyLCAtMV0sIFs0LCAtMV0sIFs2LCAtMV0sXHJcbiAgICBbLTIsIDFdLCBbMCwgMV0sIFsyLCAxXSwgWzQsIDFdLCBbNiwgMV0sXHJcbiAgICBbLTIsIDNdLCBbMCwgM10sIFsyLCAzXSwgWzQsIDNdLCBbNiwgM10sXHJcbl07XHJcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFscGhhYmV0ID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6LV8nLnNwbGl0KCcnKVxuICAsIGxlbmd0aCA9IDY0XG4gICwgbWFwID0ge31cbiAgLCBzZWVkID0gMFxuICAsIGkgPSAwXG4gICwgcHJldjtcblxuLyoqXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW0gVGhlIG51bWJlciB0byBjb252ZXJ0LlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZW5jb2RlKG51bSkge1xuICB2YXIgZW5jb2RlZCA9ICcnO1xuXG4gIGRvIHtcbiAgICBlbmNvZGVkID0gYWxwaGFiZXRbbnVtICUgbGVuZ3RoXSArIGVuY29kZWQ7XG4gICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyBsZW5ndGgpO1xuICB9IHdoaWxlIChudW0gPiAwKTtcblxuICByZXR1cm4gZW5jb2RlZDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGludGVnZXIgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgaW50ZWdlciB2YWx1ZSByZXByZXNlbnRlZCBieSB0aGUgc3RyaW5nLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICB2YXIgZGVjb2RlZCA9IDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGRlY29kZWQgPSBkZWNvZGVkICogbGVuZ3RoICsgbWFwW3N0ci5jaGFyQXQoaSldO1xuICB9XG5cbiAgcmV0dXJuIGRlY29kZWQ7XG59XG5cbi8qKlxuICogWWVhc3Q6IEEgdGlueSBncm93aW5nIGlkIGdlbmVyYXRvci5cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBBIHVuaXF1ZSBpZC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHllYXN0KCkge1xuICB2YXIgbm93ID0gZW5jb2RlKCtuZXcgRGF0ZSgpKTtcblxuICBpZiAobm93ICE9PSBwcmV2KSByZXR1cm4gc2VlZCA9IDAsIHByZXYgPSBub3c7XG4gIHJldHVybiBub3cgKycuJysgZW5jb2RlKHNlZWQrKyk7XG59XG5cbi8vXG4vLyBNYXAgZWFjaCBjaGFyYWN0ZXIgdG8gaXRzIGluZGV4LlxuLy9cbmZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIG1hcFthbHBoYWJldFtpXV0gPSBpO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBgeWVhc3RgLCBgZW5jb2RlYCBhbmQgYGRlY29kZWAgZnVuY3Rpb25zLlxuLy9cbnllYXN0LmVuY29kZSA9IGVuY29kZTtcbnllYXN0LmRlY29kZSA9IGRlY29kZTtcbm1vZHVsZS5leHBvcnRzID0geWVhc3Q7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LnRzXCIpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==